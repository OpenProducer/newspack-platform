document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelectorAll("time.entry-date, .comment-meta time");if(t.length<1)return;const e=newspack_relative_time.language_tag||"en-US",n=60*(parseInt(newspack_relative_time.cutoff,10)||14)*60*24,a=new Intl.RelativeTimeFormat(e,{numeric:"auto",style:"long"}),o=new Date;t.forEach((t=>{const r=t.getAttribute("datetime");if(!r)return;const i=new Date(r);if(isNaN(i.getTime()))return;const l=Math.floor((i-o)/1e3);if(Math.abs(l)>n)return;const{value:u,unit:c}=(t=>{const e=Math.abs(t);let n,a;return e<60?(n="second",a=t):e<3600?(n="minute",a=t/60):e<86400?(n="hour",a=t/3600):e<2592e3?(n="day",a=t/86400):e<31536e3?(n="month",a=t/2592e3):(n="year",a=t/31536e3),{value:Math.floor(a),unit:n}})(l);t.textContent=a.format(u,c),t.title||(t.title=i.toLocaleString(e))}))}));