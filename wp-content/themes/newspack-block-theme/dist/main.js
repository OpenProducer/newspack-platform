(()=>{"use strict";const e=e=>{"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",e):e())},t="menu-open--";let n;const c=()=>{document.querySelectorAll(`[class*=${t}]`).forEach((e=>{const n=Array.from(e.classList).filter((e=>e.startsWith(t)));e.classList.remove(...n)})),o(),document.activeElement.blur()},s=()=>{n||(n=document.createElement("div"),n.className="overlay-mask",n.addEventListener("click",c,!1)),document.body.appendChild(n)},o=()=>{n&&!(()=>{const e=document.body.classList;for(let s=0;s<e.length;s++)if(n=e[s],c=t,-1<n.indexOf(c))return!0;var n,c;return!1})()&&document.body.removeChild(n)},r=t+"comments-menu";e((function(){const e=document.body,t=document.querySelector(".comments-menu"),n=document.querySelectorAll(".comments-menu__toggle"),c=document.querySelector(".comments-menu__contents");if(!t||!n.length||!c)return;const l=t.querySelector(".comments-menu__toggle a"),a=c.querySelector(".comments-menu__toggle a"),u=t=>{t.preventDefault(),e.classList.contains(r)?m():d()},d=()=>{e.classList.add(r),c.classList.add(r),a.focus(),s()},m=()=>{e.classList.remove(r),c.classList.remove(r),l.focus(),o()};for(let e=0;e<n.length;e++)n[e].addEventListener("click",u,!1)}));const l=t+"drawer-menu";e((function(){const e=document.body,t=document.querySelector(".drawer-menu"),n=document.querySelectorAll(".drawer-menu__toggle"),c=document.querySelector(".drawer-menu__contents");if(!t||!n.length||!c)return;const r=t.querySelector(".drawer-menu__toggle a"),a=c.querySelector(".drawer-menu__toggle a"),u=t=>{t.preventDefault(),e.classList.contains(l)?m():d()},d=()=>{e.classList.add(l),c.classList.add(l),a.focus(),s()},m=()=>{e.classList.remove(l),c.classList.remove(l),r.focus(),o()};for(let e=0;e<n.length;e++)n[e].addEventListener("click",u,!1)}));const a=t+"mobile-menu";e((function(){const e=document.body,t=document.querySelector(".header-mobile"),n=document.querySelectorAll(".mobile-menu__toggle"),c=document.querySelector(".mobile-menu__contents");if(!t||!n.length||!c)return;const r=t.querySelector(".mobile-menu__toggle a"),l=c.querySelector(".mobile-menu__toggle a"),u=t=>{t.preventDefault(),e.classList.contains(a)?m():d()},d=()=>{e.classList.add(a),c.classList.add(a),l.focus(),s()},m=()=>{e.classList.remove(a),c.classList.remove(a),r.focus(),o()};for(let e=0;e<n.length;e++)n[e].addEventListener("click",u,!1)}));const u=t+"search-menu";e((function(){const e=document.body,t=document.querySelector(".search-menu"),n=document.querySelectorAll(".search-menu__toggle"),c=document.querySelector(".search-menu__contents");if(!t||!n.length||!c)return;const r=t.querySelector(".search-menu__toggle a");if(newspackScreenReaderText.jetpack_instant_search)return void r.classList.add("jetpack-search-filter__link");const l=t=>{t.preventDefault(),e.classList.contains(u)?d():a()},a=()=>{e.classList.add(u),c.classList.add(u),r.innerHTML="<span>"+newspackScreenReaderText.close_search+"</span>",c.querySelector('input[type="search"]').focus(),s()},d=()=>{e.classList.contains(u)&&(e.classList.remove(u),c.classList.remove(u),r.innerHTML="<span>"+newspackScreenReaderText.open_search+"</span>",o())};document.addEventListener("keydown",(e=>{"Escape"===e.key&&d()}));for(let e=0;e<n.length;e++)n[e].addEventListener("click",l,!1)}))})();