(()=>{var e={8860:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(2619);function n(e){return({children:t,blockProps:s})=>(0,a.applyFilters)(e,function(e){return Array.isArray(e)?e:[e]}(t),s)}},6396:(e,t,s)=>{"use strict";s.d(t,{N:()=>n});const{registerBlockType:a}=wp.blocks,n=e=>{if(!e)return;const{name:t,settings:s}=e;a(t,s)}},9085:(e,t,s)=>{"object"==typeof window&&window.Jetpack_Block_Assets_Base_Url&&(s.p=window.Jetpack_Block_Assets_Base_Url)},2694:(e,t,s)=>{"use strict";var a=s(6925);function n(){}function r(){}r.resetWarningCache=n,e.exports=function(){function e(e,t,s,n,r,i){if(i!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};return s.PropTypes=s,s}},5556:(e,t,s)=>{e.exports=s(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},4715:e=>{"use strict";e.exports=window.wp.blockEditor},4997:e=>{"use strict";e.exports=window.wp.blocks},6427:e=>{"use strict";e.exports=window.wp.components},9491:e=>{"use strict";e.exports=window.wp.compose},7143:e=>{"use strict";e.exports=window.wp.data},6087:e=>{"use strict";e.exports=window.wp.element},2619:e=>{"use strict";e.exports=window.wp.hooks},8537:e=>{"use strict";e.exports=window.wp.htmlEntities},7723:e=>{"use strict";e.exports=window.wp.i18n},5573:e=>{"use strict";e.exports=window.wp.primitives},6942:(e,t)=>{var s;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=i(e,r(s)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)a.call(e,s)&&e[s]&&(t=i(t,s));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(s=function(){return n}.apply(t,[]))||(e.exports=s)}()}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{"use strict";s(9085);var e=s(4997),t=s(6427),a=s(790);const n=({size:e=24})=>(0,a.jsxs)(t.SVG,{className:"newspack-logo",width:e,height:e,viewBox:"0 0 32 32",children:[(0,a.jsx)(t.Path,{d:"M16 32c8.836 0 16-7.164 16-16S24.836 0 16 0 0 7.164 0 16s7.163 16 16 16z",fill:"#36f"}),(0,a.jsx)(t.Path,{d:"M22.988 16.622h-1.72l-1.103-1.124h2.823v1.124zm0-3.31H18.02l-1.102-1.124h6.071v1.124zm0-3.31h-8.217l-1.103-1.125h9.32v1.125zm0 13.12L9.012 8.878v4.749l.069.071h-.07v9.426h3.451v-5.98l5.867 5.98h4.66z",fill:"#fff"})]});(0,e.setCategories)([...(0,e.getCategories)().filter((({slug:e})=>"newspack"!==e)),{slug:"newspack",title:"Newspack",icon:(0,a.jsx)(n,{})}])})(),(()=>{"use strict";var e=s(4997),t=s(5573),a=s(790);const n=(0,a.jsx)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(t.Path,{d:"M18 8H6c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zm.5 6c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v4zM4 4v1.5h16V4H4zm0 16h16v-1.5H4V20z"})});var r=s(7723),i=s(6942),o=s.n(i),c=s(6087),l=s(4715),d=s(6427);const p=window.wp.apiFetch;var u=s.n(p);const h=(0,a.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(t.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),b=e=>[{label:(0,r.__)("Select a provider","newspack-ads"),value:""},...e.map((e=>({label:e.name,value:e.id})))],w=({label:e=(0,r.__)("Ad Unit","newspack"),providers:t=[],bidders:s={},value:n={},disabled:i=!1,onChange:o=(()=>{})})=>{const[l,p]=(0,c.useState)({}),u=t.find((e=>e?.id===(n.provider||"gam")))||t[0];return(0,c.useEffect)((()=>{const e={};Object.keys(s).forEach((t=>{const a=s[t],i=u?.units.find((e=>e.value===n.ad_unit)),o=n.ad_unit&&i&&(c=a.ad_sizes,i.sizes.some((e=>(c||[]).find((t=>t[0]===e[0]&&t[1]===e[1])))));var c;e[t]=n.ad_unit&&i&&!o?(0,r.sprintf)(
// Translators: Ad bidder name.
// Translators: Ad bidder name.
(0,r.__)("%s does not support the selected ad unit sizes.","newspack"),a.name,""):null})),p(e)}),[t,n.ad_unit]),t.length?(0,a.jsxs)(c.Fragment,{children:[t.length>1&&(0,a.jsx)(d.SelectControl,{label:(0,r.__)("Provider","newspack"),value:u?.id,options:b(t),onChange:e=>o({...n,provider:e}),disabled:i}),(0,a.jsx)(d.SelectControl,{label:e,value:n.ad_unit,options:(h=u,h?.units?[{label:(0,r.__)("Select an Ad Unit","newspack-ads"),value:""},...h.units.map((e=>({label:e.name,value:e.value})))]:[]),onChange:e=>o({...n,ad_unit:e}),disabled:i}),"gam"===u?.id&&Object.keys(s).map((e=>{const t=s[e],c=(0,r.sprintf)((0,r.__)("%s Placement ID","newspack-ads"),t.name);
// Translators: Bidder name.
return(0,a.jsx)(d.TextControl,{value:n.bidders_ids?n.bidders_ids[e]:null,label:c,disabled:l[e]||i,onChange:t=>o({...n,bidders_ids:{...n.bidders_ids,[e]:t}})},e)})),"gam"===u?.id&&Object.keys(l).map((e=>l[e]?(0,a.jsx)(d.Notice,{status:"warning",isDismissible:!1,children:l[e]},e):null))]}):(0,a.jsx)(d.Notice,{isWarning:!0,noticeText:(0,r.__)("There is no provider available.","newspack-ads"),isDismissible:!1});var h},m={title:(0,r.__)("Ad Unit","newspack-ads"),icon:{src:n,foreground:"#36f"},category:(0,e.getCategories)().some((({slug:e})=>"newspack"===e))?"newspack":"common",keywords:[(0,r.__)("ad","newspack-ads"),(0,r.__)("advert","newspack-ads"),(0,r.__)("ads","newspack-ads")],description:(0,r.__)("Render an ad unit from your inventory.","newspack-ads"),attributes:{provider:{type:"string"},ad_unit:{type:"string"},bidders_ids:{type:"object",default:{}},activeAd:{type:"string"}},supports:{html:!1,align:["left","center","right","wide","full"],color:{text:!1,background:!0}},edit:function({attributes:e,setAttributes:t}){const[s,i]=(0,c.useState)(!1),[p,b]=(0,c.useState)(null),[m,k]=(0,c.useState)(!1),[g,v]=(0,c.useState)(null),[x,f]=(0,c.useState)([]),[_,j]=(0,c.useState)({}),y=(0,l.useBlockProps)({className:"newspack-ads-ad-block"}),S=x.find((t=>t.id.toString()===e.provider)),B=S?.units?.find((t=>t.value.toString()===e.ad_unit)),C=B?.sizes||[],T=C.length?Math.max(...C.map((e=>e[0]))):300,H=C.length?Math.max(...C.map((e=>e[1]))):200;return(0,c.useEffect)((()=>{(async()=>{e.activeAd&&!e.ad_unit&&t({ad_unit:e.activeAd}),i(!0);try{f(await u()({path:"/newspack-ads/v1/providers"}))}catch(e){b(e)}try{j(await u()({path:"/newspack-ads/v1/bidders"}))}catch(e){v(e)}i(!1)})()}),[]),(0,c.useEffect)((()=>{x?.length&&!e.provider&&t({provider:x[0].id})}),[x]),(0,a.jsx)("div",{...y,children:!m&&B?(0,a.jsxs)(c.Fragment,{children:[!s&&(0,a.jsx)(l.BlockControls,{children:(0,a.jsx)(d.ToolbarGroup,{children:(0,a.jsx)(d.ToolbarButton,{icon:h,label:(0,r.__)("Edit","newspack-ads"),onClick:()=>k(!0)})})}),p&&(0,a.jsx)(d.Notice,{isError:!0,noticeText:p,isDismissible:!1}),"gam"===S&&g&&(0,a.jsx)(d.Notice,{isWarning:!0,noticeText:g,isDismissible:!1}),(0,a.jsxs)("div",{className:"newspack-ads-ad-block-placeholder",style:{width:T,height:H},children:[(0,a.jsxs)(c.Fragment,{children:[(0,a.jsxs)(d.SVG,{className:"newspack-ads-ad-block-mock",width:T,viewBox:"0 0 "+T+" "+H,children:[(0,a.jsx)("rect",{width:T,height:H,strokeDasharray:"2"}),(0,a.jsx)("line",{x1:"0",y1:"0",x2:"100%",y2:"100%",strokeDasharray:"2"})]}),(0,a.jsxs)("span",{className:"newspack-ads-ad-block-ad-label",children:[x.length>1&&`${S.name} - `," ",B.name,(0,a.jsx)("br",{}),C.length?C.map((e=>`${e[0]}x${e[1]}`)).join(", "):(0,r.__)("Unknown size","newspack-ads")]})]}),s&&(0,a.jsx)(d.Spinner,{})]})]}):(0,a.jsx)(d.Placeholder,{label:(0,r.__)("Ad Unit","newspack-ads"),icon:n,children:(0,a.jsx)("div",{className:"newspack-ads-ad-block-edit",children:s?(0,a.jsx)(d.Spinner,{}):(0,a.jsx)(c.Fragment,{children:(0,a.jsxs)("div",{className:o()({"newspack-ads-ad-block-edit-fields":!0}),children:[(0,a.jsx)(w,{providers:x,bidders:_,value:e,onChange:e=>{k(!0),t(e)}}),(0,a.jsx)(d.Button,{disabled:!B,onClick:()=>k(!1),isPrimary:!0,children:(0,r.__)("Save","newspack-ads")})]})})})})})},save:()=>null};(0,e.registerBlockType)("newspack-ads/ad-unit",m)})(),(()=>{"use strict";var e=s(6427),t=s(4715),a=s(7723),n=s(6396),r=s(6942),i=s.n(r),o=s(5556),c=s.n(o),l=s(4997),d=s(9491),p=s(6087),u=s(7143),h=s(5573),b=s(790);const w=(0,b.jsx)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(h.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})});var m=s(8537),k=s(8860);const g=(0,k.A)("newspack.tabs.header"),v=(0,k.A)("newspack.tabs.footer"),x=s=>{const{isSelected:n,className:r,clientId:o,block:c,selectBlock:d,insertBlock:u,removeBlock:h,activeClass:k="is-active"}=s,{innerBlocks:x}=c,[f,_]=(0,p.useState)(x.length),[j,y]=(0,p.useState)(""),S=i()({border:!n,"components-tab-panel__tabs-item-is-editing":j});(0,p.useEffect)((()=>{const e=x.length>0?x[0].clientId:null;x.length<1&&f>x.length&&h(o),x.length>0&&f>x.length&&(d(e),_(x.length)),j&&(document.getElementById(`block-${o}`).classList.add("is-tab-editing"),document.getElementById(`block-${j}`)&&document.getElementById(`block-${j}`).setAttribute("data-is-tab-header-editing",1))}),[d,o,f,_,j,c,x,h,k]);const B=e=>{y(e),d(e)},C=()=>{const e=document.querySelectorAll(`#block-${o} > .wp-block-newspack-tabs .wp-block[data-is-tab-header-editing]`);e&&e.forEach((e=>e.removeAttribute("data-is-tab-header-editing")))},T=()=>{const t=x.map((t=>{const{attributes:s,clientId:n}=t,{header:r}=s;return(0,b.jsx)(p.Fragment,{children:(0,b.jsx)(e.Button,{orientation:"horizontal","data-tab-block":n,className:i()("newspack-ads__tab-item",{untitled:!r},"components-tab-panel__tabs-item"),label:r||(0,a.__)("Tab Header","newspack-ads"),onClick:()=>{C(),B(n),document.getElementById(`block-${n}`).setAttribute("data-is-tab-header-editing",1)},children:(0,m.decodeEntities)(r)||(0,a.__)("Tab Header","newspack-ads")})},n)}));return(0,p.useEffect)((()=>{x.forEach((e=>{const t=document.querySelector(`.components-tab-panel__tabs-item[data-tab-block="${e.clientId}"]`);if(!t)return;const s=document.querySelector(`.tab-header[data-tab-block="${e.clientId}"]`);s&&t&&(s.style.left=`${t.offsetLeft}px`,s.style.top=`-${s.offsetHeight}px`)}))})),(0,b.jsx)("div",{className:"tab-control",children:(0,b.jsx)("div",{className:"tabs-header",children:(0,b.jsxs)(e.NavigableMenu,{stopNavigationEvents:!0,eventToOffset:()=>!1,role:"tablist",orientation:"horizontal",className:"components-tab-panel__tabs newspack-ads__tab-list",children:[t,(0,b.jsx)(e.Button,{className:"add-tab-button",icon:w,label:(0,a.__)("Add New Tab","newspack-ads"),variant:"secondary",size:"small",onClick:()=>{const e=(0,l.createBlock)("newspack/tabs-item",{header:""},[(0,l.createBlock)("core/paragraph")]);u(e,void 0,o),C(),B(e.clientId)}})]})})})};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:`${r} ${S} tabs-horizontal`,children:[(0,b.jsx)(g,{blockProps:s}),(0,b.jsx)(T,{}),(0,b.jsx)("div",{className:"newspack-ads__tab-group",children:(0,b.jsx)(t.InnerBlocks,{orientation:"horizontal",allowedBlocks:["newspack/tabs-item"],template:[["newspack/tabs-item",{header:""},[["core/paragraph",{}]]]],templateInsertUpdatesSelection:!0,__experimentalCaptureToolbars:!0})}),(0,b.jsx)(v,{blockProps:s})]})})};x.propTypes={clientId:c().string.isRequired,isSelected:c().bool.isRequired,setAttributes:c().func.isRequired};const f=(0,d.compose)((0,u.withSelect)(((e,{clientId:t})=>{const{getBlock:s}=e("core/block-editor");return{block:s(t)}})),(0,u.withDispatch)((e=>{const{selectBlock:t,insertBlock:s,removeBlock:a}=e("core/block-editor");return{selectBlock:e=>t(e),insertBlock:s,removeBlock:a}})),(0,d.ifCondition)((({block:e})=>e&&e.innerBlocks)))(x),_=JSON.parse('{"name":"newspack/tabs","title":"Tabs","description":"Display sections of content with brief headings in a compact tab layout that shows one section at a time.","text-domain":"newspack-ads","category":"newspack","example":{"innerBlocks":[{"name":"newspack/tabs-item","attributes":{"header":"Tab Header"},"innerBlocks":[{"name":"core/paragraph","attributes":{"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent et eros eu felis."}}]},{"name":"newspack/tabs-item","attributes":{"header":"Tab Two Header"},"innerBlocks":[{"name":"core/paragraph","attributes":{"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent et eros eu felis."}},{"name":"core/image","attributes":{"url":"https://s.w.org/images/core/5.3/Windbuchencom.jpg"}}]}]},"supports":{"html":false,"align":["wide"]}}'),{name:j}=_,y={title:(0,a.__)("Tabs","newspack-ads"),description:(0,a.__)("Add tabbed content.","newspack-ads")},S=(0,b.jsx)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,b.jsx)(e.Path,{"clip-rule":"evenodd",d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3ZM5 4.5H8.5L8.5 8.5H4.5V5C4.5 4.72386 4.72386 4.5 5 4.5ZM10 8.5L10 4.5H14V8.5H10ZM4.5 10V19C4.5 19.2761 4.72386 19.5 5 19.5H19C19.2761 19.5 19.5 19.2761 19.5 19V10H4.5ZM15.5 8.5V4.5H19C19.2761 4.5 19.5 4.72386 19.5 5V8.5H15.5Z","fill-rule":"evenodd"})}),B={name:j,settings:{..._,...y,icon:{src:S,foreground:"#36f"},edit:f,save:()=>(0,b.jsx)(t.InnerBlocks.Content,{})}};wp.domReady((function(){(0,n.N)(B)}))})(),(()=>{"use strict";var e=s(6427),t=s(4715),a=s(7723),n=s(6396),r=s(5556),i=s.n(r),o=s(9491),c=s(7143),l=s(2619),d=s(8537),p=s(8860),u=s(790);const h=(0,p.A)("newspack.tabsItem.header"),b=(0,p.A)("newspack.tabsItem.footer"),w=e=>{const{isSelected:s,hasSelectedInnerBlock:n,setAttributes:r,clientId:i,position:o,name:c,attributes:{header:p}}=e,w=s||n()?"newspack-ads__tab-content is-active":"newspack-ads__tab-content";return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h,{blockProps:e}),(0,u.jsxs)("div",{className:w,children:[(0,u.jsx)("div",{"data-tab-block":i,className:`tab-header orientation-horizontal position-${o}`,children:(0,u.jsx)(t.RichText,{tagName:"div",value:p,placeholder:(0,a.__)("Tab Header","newspack-ads"),onChange:e=>{r({header:(0,d.decodeEntities)(e).replace(/<\/?[a-z][^>]*?>/gi," ")})},allowedFormats:[]})}),(0,u.jsx)(t.InnerBlocks,{templateInsertUpdatesSelection:!0,__experimentalCaptureToolbars:!0,allowedBlocks:(0,l.applyFilters)("newspack.tabs.allowedBlocks",!0,c)})]}),(0,u.jsx)(b,{blockProps:e})]})};w.propTypes={attributes:i().shape({header:i().string.isRequired}).isRequired,clientId:i().string.isRequired,isSelected:i().bool.isRequired,setAttributes:i().func.isRequired,hasSelectedInnerBlock:i().func};const m=(0,o.compose)((0,c.withSelect)(((e,{clientId:t})=>{const{hasSelectedInnerBlock:s,getBlockParents:a,getBlock:n}=e("core/block-editor"),r=a(t),i=n(r[r.length-1]);let o=0;return i.innerBlocks.forEach(((e,s)=>{e.clientId===t&&(o=s)})),{position:o,hasSelectedInnerBlock:s}})))(w),k=JSON.parse('{"name":"newspack/tabs-item","category":"newspack","attributes":{"header":{"type":"string"}},"supports":{"reusable":false,"html":false},"parent":["newspack/tabs"]}'),{name:g}=k,v={title:(0,a.__)("Tab Item","newspack-ads"),description:(0,a.__)("Add a new tab.","newspack-ads")},x=(0,u.jsx)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:(0,u.jsx)(e.Path,{"clip-rule":"evenodd",d:"M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3ZM5 4.5H8.5L8.5 10L19.5 10V19C19.5 19.2761 19.2761 19.5 19 19.5H5C4.72386 19.5 4.5 19.2761 4.5 19V5C4.5 4.72386 4.72386 4.5 5 4.5ZM15.5 8.5L19.5 8.5V5C19.5 4.72386 19.2761 4.5 19 4.5H15.5V8.5ZM14 4.5H10L10 8.5L14 8.5V4.5Z","fill-rule":"evenodd"})}),f={name:g,settings:{...k,...v,icon:{src:x,foreground:"#36f"},edit:m,save:()=>(0,u.jsx)(t.InnerBlocks.Content,{})}};wp.domReady((function(){(0,n.N)(f)}))})()})();