(()=>{var e={8128:e=>{c.SYNC=1,c.ASYNC=2,c.QUEUE=4;var t="fun-hooks",n=Object.freeze({useProxy:!0,ready:0}),r=new WeakMap,i="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function o(e,t){return Array.prototype.slice.call(e,t)}var a=Object.assign||function(e){return i.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function c(e){var s,u={},d=[];function l(e,t){return"function"==typeof e?v.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?v.apply(null,arguments):"object"==typeof e?f.apply(null,arguments):void 0}function f(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var c=e[o];i[o]=e[o]=v(a,c,n?[n,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function p(e){var n=Array.isArray(e)?e:e.split(".");return i.call(n,(function(r,i,o){var a=r[i],c=!1;return a||(o===n.length-1?(s||d.push((function(){c||console.warn(t+": referenced '"+e+"' but it was never created")})),r[i]=g((function(e){r[i]=e,c=!0}))):r[i]={})}),u)}function g(e){var t=[],n=[],i=function(){},o={before:function(e,n){return s.call(this,t,"before",e,n)},after:function(e,t){return s.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);"object"==typeof e&&(r=r.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{a(r,{remove:function(){return r.forEach((function(e){e.remove()})),this}})}catch(e){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},c={install:function(r,o,a){this.type=r,i=a,a(t,n),e&&e(o)}};return r.set(o.after,c),o;function s(e,r,o,a){var c={hook:o,type:r,priority:a||10,remove:function(){var r=e.indexOf(c);-1!==r&&(e.splice(r,1),i(t,n))}};return e.push(c),e.sort((function(e,t){return t.priority-e.priority})),i(t,n),this}}function v(n,i,u){var l=i.after&&r.get(i.after);if(l){if(l.type!==n)throw t+": recreated hookable with different type";return i}var f,v,m=u?p(u):g(),h={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return s||d.push(b),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?v=new Proxy(i,h):(v=function(){return h.apply?h.apply(i,this,o(arguments)):i.apply(this,arguments)},a(v,m)),r.get(v.after).install(n,v,(function(e,t){var r,i=[];function a(e){i.push(e.hook)}e.length||t.length?(e.forEach(a),r=i.push(void 0)-1,t.forEach(a),f=function(e,t,a){var c,s=0,u="async"===n&&"function"==typeof a[a.length-1]&&a.pop();function d(e){"sync"===n?c=e:u&&u.apply(null,arguments)}function l(e){if(i[s]){var r=o(arguments);return l.bail=d,r.unshift(l),i[s++].apply(t,r)}"sync"===n?c=e:u&&u.apply(null,arguments)}return i[r]=function(){var r=o(arguments,1);"async"===n&&u&&(delete l.bail,r.push(l));var i=e.apply(t,r);"sync"===n&&l(i)},l.apply(null,a),c}):f=void 0,b()})),v;function b(){!s&&("sync"!==n||e.ready&c.SYNC)&&("async"!==n||e.ready&c.ASYNC)?"sync"!==n&&e.ready&c.QUEUE?h.apply=function(){var e=arguments;d.push((function(){v.apply(e[1],e[2])}))}:h.apply=function(){throw t+": hooked function not ready"}:h.apply=f}}return(e=a({},n,e)).ready?l.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(d)}:s=!0,l.get=p,l}e.exports=c}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=window,s=c.pbjs=c.pbjs||{};function u(){return s}function d(e){s.installedModules.push(e)}function l(n){return function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t,n){return e&&e.includes(t,n)||!1}function p(e,t,n){return e&&e.find(t,n)}s.cmd=s.cmd||[],s.que=s.que||[],c===window&&(c._pbjsGlobals=c._pbjsGlobals||[],c._pbjsGlobals.push("pbjs"));var g=2,v={buckets:[{max:5,increment:.5}]},m={buckets:[{max:20,increment:.1}]},h={buckets:[{max:20,increment:.01}]},b={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},y={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function w(e,t,n){var r="";if(!O(t))return r;var i=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),o=0,a=p(t.buckets,(function(t){if(e>i.max*n){var a=t.precision;void 0===a&&(a=g),r=(t.max*n).toFixed(a)}else{if(e<=t.max*n&&e>=o*n)return t.min=o,t;o=t.max}}));return a&&(r=T(e,a,n)),r}function O(e){if(et(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}function T(e,t,n){var r=void 0!==t.precision?t.precision:g,i=t.increment*n,o=t.min*n,a=Math.floor,c=K.getConfig("cpmRoundingFunction");"function"==typeof c&&(a=c);var s,u,d=Math.pow(10,r+2),l=(e*d-o*d)/(i*d);try{s=a(l)*i+o}catch(e){u=!0}return(u||"number"!=typeof s)&&(Me("Invalid rounding function passed in config"),s=Math.floor(l)*i+o),(s=Number(s.toFixed(10))).toFixed(r)}function I(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var E={PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},A={GOOD:1},C={AUCTION_INIT:"auctionInit",AUCTION_TIMEOUT:"auctionTimeout",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",BID_REJECTED:"bidRejected",NO_BID:"noBid",SEAT_NON_BID:"seatNonBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",BIDDER_ERROR:"bidderError",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",BEFORE_BIDDER_HTTP:"beforeBidderHttp",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",AD_RENDER_SUCCEEDED:"adRenderSucceeded",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender",BILLABLE_EVENT:"billableEvent",BID_ACCEPTED:"bidAccepted",RUN_PAAPI_AUCTION:"paapiRunAuction",PAAPI_BID:"paapiBid",PAAPI_NO_BID:"paapiNoBid",PAAPI_ERROR:"paapiError"},R={PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},j={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain",ACAT:"hb_acat",CRID:"hb_crid",DSP:"hb_dsp"},S={BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_HOST:"hb_cache_host"},k={title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},x="s2s",B={BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"},_={INVALID:"Bid has missing or invalid properties",INVALID_REQUEST_ID:"Invalid request ID",BIDDER_DISALLOWED:"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes",FLOOR_NOT_MET:"Bid does not meet price floor",CANNOT_CONVERT_CURRENCY:"Unable to convert currency",DSA_REQUIRED:"Bid does not provide required DSA transparency info",DSA_MISMATCH:"Bid indicates inappropriate DSA rendering method",PRICE_TOO_HIGH:"Bid price exceeds maximum value"},U={body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl"},D={sponsored:1,desc:2,rating:3,likes:4,downloads:5,price:6,saleprice:7,phone:8,address:9,desc2:10,displayurl:11,ctatext:12},P={ICON:1,MAIN:3},q=["privacyIcon","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"],N="Prebid Request",M="Prebid Response",z="Prebid Native",F="Prebid Event";function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var L="TRUE"===(At(Pe().search).pbjs_debug||"").toUpperCase(),G="random",H={};H[G]=!0,H.fixed=!0;var V=G,J={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},K=function(){var e,t,n,o=[],c=null;function s(){function i(e){return a[e].val}function o(e,t){a[e].val=t}e={};var a={publisherDomain:{set:function(e){null!=e&&Me("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),o("publisherDomain",e)}},priceGranularity:{val:J.MEDIUM,set:function(e){u(e)&&("string"==typeof e?o("priceGranularity",s(e)?e:J.MEDIUM):Ye(e)&&(o("customPriceBucket",e),o("priceGranularity",J.CUSTOM),qe("Using custom price granularity")))}},customPriceBucket:{val:{},set:function(){}},mediaTypePriceGranularity:{val:{},set:function(e){null!=e&&o("mediaTypePriceGranularity",Object.keys(e).reduce((function(t,n){return u(e[n])?"string"==typeof e?t[n]=s(e[n])?e[n]:i("priceGranularity"):Ye(e)&&(t[n]=e[n],qe("Using custom price granularity for ".concat(n))):Me("Invalid price granularity for media type: ".concat(n)),t}),{}))}},bidderSequence:{val:V,set:function(e){H[e]?o("bidderSequence",e):Me("Invalid order: ".concat(e,". Bidder Sequence was not set."))}},auctionOptions:{val:{},set:function(e){(function(e){if(!Ye(e))return Me("Auction Options must be an object"),!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("secondaryBidders"!==r&&"suppressStaleRender"!==r)return Me("Auction Options given an incorrect param: ".concat(r)),!1;if("secondaryBidders"===r){if(!$e(e[r]))return Me("Auction Options ".concat(r," must be of type Array")),!1;if(!e[r].every(Xe))return Me("Auction Options ".concat(r," must be only string")),!1}else if("suppressStaleRender"===r&&!Ze(e[r]))return Me("Auction Options ".concat(r," must be of type boolean")),!1}return!0})(e)&&o("auctionOptions",e)}}},c={debug:L,bidderTimeout:3e3,enableSendAllBids:!0,useBidCache:!1,deviceAccess:!0,timeoutBuffer:400,disableAjaxTimeout:!1,maxNestedIframes:10,maxBid:5e3};function s(e){return p(Object.keys(J),(function(t){return e===J[t]}))}function u(e){if(!e)return ze("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)s(e)||Me("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Ye(e)&&!O(e))return ze("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(c,Object.fromEntries(Object.entries(a).map((function(e){var t=r(e,2),n=t[0],a=t[1];return[n,Object.assign({get:i.bind(null,n),set:o.bind(null,n),enumerable:!0},a)]})))),t&&T(Object.keys(t).reduce((function(e,n){return t[n]!==c[n]&&(e[n]=c[n]||{}),e}),{})),t=c,n={}}function u(){if(c&&n&&Ye(n[c])){var e=n[c];return function(){return Array.from.apply(Array,arguments)}(new Set(Object.keys(t).concat(Object.keys(e)))).reduce((function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:Ye(e[r])?n[r]=St({},t[r],e[r]):n[r]=e[r],n}),{})}return Object.assign({},t)}var d=[u,function(){var e=u();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((function(e){return function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0];return t?I(e(),t):u()}return w.apply(void 0,arguments)}})),l=r(d,2),g=l[0],v=l[1],m=r([v,g].map((function(e){return function(){var t=e.apply(void 0,arguments);return t&&"object"===i(t)&&(t=ft(t)),t}})),2),h=m[0],b=m[1];function y(n){if(Ye(n)){var r=Object.keys(n),i={};r.forEach((function(r){var o=n[r];Ye(e[r])&&Ye(o)&&(o=Object.assign({},e[r],o));try{i[r]=t[r]=o}catch(e){Me("Cannot set config for property ".concat(r," : "),e)}})),T(i)}else ze("setConfig options must be an object")}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t;if("string"!=typeof e&&(r=e,e="*",n=t||{}),"function"==typeof r){var i={topic:e,callback:r};return o.push(i),n.init&&r("*"===e?v():a({},e,v(e))),function(){o.splice(o.indexOf(i),1)}}ze("listener must be a function")}function T(e){var t=Object.keys(e);o.filter((function(e){return f(t,e.topic)})).forEach((function(t){t.callback(a({},t.topic,e[t.topic]))})),o.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{!function(e){if(!Ye(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Ye(e.config))throw"setBidderConfig bidder options must contain a config object"}(e),e.bidders.forEach((function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach((function(i){var o=e.config[i];if(Ye(o)){var a=t?St:Object.assign;n[r][i]=a({},n[r][i]||{},o)}else n[r][i]=o}))}))}catch(e){ze(e)}}function A(e,t){c=e;try{return t()}finally{C()}}function C(){c=null}return s(),{getCurrentBidder:function(){return c},resetBidder:C,getConfig:v,getAnyConfig:g,readConfig:h,readAnyConfig:b,setConfig:y,mergeConfig:function(e){if(Ye(e)){var t=St(u(),e);return y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),t}ze("mergeConfig input must be an object")},setDefaults:function(n){Ye(e)?(Object.assign(e,n),Object.assign(t,n)):ze("defaults must be an object")},resetConfig:s,runWithBidder:A,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return A(e,t.bind.apply(t,[this].concat(r)))}Me("config.callbackWithBidder callback is not a function")}}},setBidderConfig:E,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return E(e,!0)}}}();function X(e){var t,n,r;if(Array.isArray(e)){for(n=Array(t=e.length);t--;)n[t]=(r=e[t])&&"object"==typeof r?X(r):r;return n}if("[object Object]"===Object.prototype.toString.call(e)){for(t in n={},e)"__proto__"===t?Object.defineProperty(n,t,{value:X(e[t]),configurable:!0,enumerable:!0,writable:!0}):n[t]=(r=e[t])&&"object"==typeof r?X(r):r;return n}return e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function Y(e,t,n){return t&&Q(e.prototype,t),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function ee(e,t){return e.get(ne(e,t))}function te(e,t,n){return e.set(ne(e,t),n),n}function ne(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var re=0,ie=1,oe=new WeakMap,ae=new WeakMap,ce=function(){function e(t){if($(this,e),Z(this,oe,void 0),Z(this,ae,void 0),"function"!=typeof t)throw new Error("resolver not a function");var n=[],i=[],o=r([re,ie].map((function(e){return function(t){if(e===re&&"function"==typeof(null==t?void 0:t.then))t.then(a,c);else if(!n.length)for(n.push(e,t);i.length;)i.shift()()}})),2),a=o[0],c=o[1];try{t(a,c)}catch(e){c(e)}te(oe,this,n),te(ae,this,i)}return Y(e,[{key:"then",value:function(e,t){var n=this,i=ee(oe,this);return new this.constructor((function(o,a){var c=function(){var n=i[1],c=r(i[0]===re?[e,o]:[t,a],2),s=c[0],u=c[1];if("function"==typeof s){try{n=s(n)}catch(e){return void a(e)}u=o}u(n)};i.length?c():ee(ae,n).push(c)}))}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var t,n=this;return this.then((function(n){return t=n,e()}),(function(r){return t=n.constructor.reject(r),e()})).then((function(){return t}))}}],[{key:"timeout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e((function(e){0===t?e():setTimeout(e,t)}))}},{key:"race",value:function(t){var n=this;return new this((function(r,i){ne(e,n,se).call(n,t,(function(e,t){return e?r(t):i(t)}))}))}},{key:"all",value:function(t){var n=this;return new this((function(r,i){var o=[];ne(e,n,se).call(n,t,(function(e,t,n){return e?o[n]=t:i(t)}),(function(){return r(o)}))}))}},{key:"allSettled",value:function(t){var n=this;return new this((function(r){var i=[];ne(e,n,se).call(n,t,(function(e,t,n){return i[n]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}}),(function(){return r(i)}))}))}},{key:"resolve",value:function(e){return new this((function(t){return t(e)}))}},{key:"reject",value:function(e){return new this((function(t,n){return n(e)}))}}])}();function se(e,t,n){var r=this,i=e.length;function o(){t.apply(this,arguments),--i<=0&&n&&n()}0===e.length&&n?n():e.forEach((function(e,t){return r.resolve(e).then((function(e){return o(!0,e,t)}),(function(e){return o(!1,e,t)}))}))}function ue(){var e,t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).promiseFactory;function r(e){return function(t){return e(t)}}return{promise:(void 0===n?function(e){return new ce(e)}:n)((function(n,r){e=n,t=r})),resolve:r(e),reject:r(t)}}var de,le="String",fe="Function",pe="Number",ge="Object",ve="Boolean",me=Object.prototype.toString,he=Boolean(window.console),be=Boolean(he&&window.console.log),ye=Boolean(he&&window.console.info),we=Boolean(he&&window.console.warn),Oe=Boolean(he&&window.console.error),Te=u();function Ie(){null!=de&&de.apply(void 0,arguments)}var Ee,Ae={checkCookieSupport:ht,createTrackPixelIframeHtml:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e=encodeURI(e)),t&&(t='sandbox="'.concat(t,'"')),"<iframe ".concat(t,' id="').concat(Re(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""},getWindowSelf:De,getWindowTop:Ue,canAccessWindowTop:function(){try{if(Ae.getWindowTop().location.href)return!0}catch(e){return!1}},getWindowLocation:Pe,insertUserSyncIframe:ot,insertElement:nt,isFn:Ke,triggerPixel:it,logError:ze,logWarn:Me,logMessage:qe,logInfo:Ne,parseQS:At,formatQS:function(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")},deepEqual:jt},Ce=(Ee=0,function(){return++Ee});function Re(){return Ce()+Math.random().toString(16).substr(2)}function je(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,je)}function Se(e,t){return(null==t?void 0:t[e])||""}function ke(e){return"string"==typeof e?e.split(/\s*,\s*/).map((function(e){return e.match(/^(\d+)x(\d+)$/i)})).filter((function(e){return e})).map((function(e){var t=r(e,3),n=(t[0],t[1]),i=t[2];return[parseInt(n,10),parseInt(i,10)]})):Array.isArray(e)?_e(e)?[e]:e.filter(_e):[]}function xe(e){return e[0]+"x"+e[1]}function Be(e){return{w:e[0],h:e[1]}}function _e(e){return $e(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function Ue(){return window.top}function De(){return window.self}function Pe(){return window.location}function qe(){Le()&&be&&console.log.apply(console,We(arguments,"MESSAGE:"))}function Ne(){Le()&&ye&&console.info.apply(console,We(arguments,"INFO:"))}function Me(){Le()&&we&&console.warn.apply(console,We(arguments,"WARNING:")),Ie(C.AUCTION_DEBUG,{type:"WARNING",arguments})}function ze(){Le()&&Oe&&console.error.apply(console,We(arguments,"ERROR:")),Ie(C.AUCTION_DEBUG,{type:"ERROR",arguments})}function Fe(e){function t(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(void 0,[e].concat(r))}}return{logError:t(ze),logWarn:t(Me),logMessage:t(qe),logInfo:t(Ne)}}function We(e,t){e=[].slice.call(e);var n=K.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function r(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function Le(){return!!K.getConfig("debug")}var Ge,He=(Ge={border:"0px",hspace:"0",vspace:"0",marginWidth:"0",marginHeight:"0",scrolling:"no",frameBorder:"0",allowtransparency:"true"},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.createElement("iframe");return Object.assign(r,Object.assign({},Ge,t)),Object.assign(r.style,n),r});function Ve(){return He(document,{id:Re(),width:0,height:0,src:"about:blank"},{display:"none",height:"0px",width:"0px",border:"0px"})}function Je(e,t){return me.call(e)==="[object "+t+"]"}function Ke(e){return Je(e,fe)}function Xe(e){return Je(e,le)}var $e=Array.isArray.bind(Array);function Qe(e){return Je(e,pe)}function Ye(e){return Je(e,ge)}function Ze(e){return Je(e,ve)}function et(e){return!e||($e(e)||Xe(e)?!(e.length>0):Object.keys(e).length<=0)}function tt(e){return Xe(e)&&(!e||0===e.length)}function nt(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(e){}}function rt(e,t){var n=null;return new ce((function(r){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function it(e,t,n){var r=new Image;t&&Ae.isFn(t)&&rt(r,n).then(t),r.src=e}function ot(e,t,n){var r=Ae.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var o=i.firstChild;t&&Ae.isFn(t)&&rt(o,n).then(t),Ae.insertElement(o,document,"html",!0)}function at(e){return Array.from(e.matchAll(/\$({[^}]+})/g)).map((function(e){return e[1]})).reduce((function(e,t){return e.replace("$"+encodeURIComponent(t),"$"+t)}),encodeURI(e))}function ct(e,t,n){return n.indexOf(e)===t}function st(e,t){return e.concat(t)}function ut(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te.adUnits).map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(st,[])})).reduce(st,[]).filter((function(e){return void 0!==e})).filter(ct)}function dt(){if(window.googletag&&Ke(window.googletag.pubads)&&Ke(window.googletag.pubads().getSlots))return!0}function lt(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function ft(e){return X(e)||{}}function pt(){try{return Ae.getWindowSelf()!==Ae.getWindowTop()}catch(e){return!0}}function gt(e,t){if(e)return Object.entries(t).reduce((function(e,t){var n=r(t,2),i=n[0],o=n[1];return e.replace(new RegExp("\\$\\{"+i+"\\}","g"),o||"")}),e)}function vt(){return(new Date).getTime()}function mt(){return!1!==K.getConfig("deviceAccess")}function ht(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function bt(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}function yt(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return Object.assign(t,a({},n,e[n]))}),{})}function wt(e,t,n){return e.filter((function(e){return e.code===t})).flatMap((function(e){return e.bids})).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))}var Ot=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t},Tt=Number.isInteger.bind(Number);function It(e,t){return"object"!==i(e)?{}:t.reduce((function(n,r,i){if("function"==typeof r)return n;var o=r,a=r.match(/^(.+?)\sas\s(.+?)$/i);a&&(r=a[1],o=a[2]);var c=e[r];return"function"==typeof t[i+1]&&(c=t[i+1](c,n)),void 0!==c&&(n[o]=c),n}),{})}function Et(e,t){return $e(e)&&(!t||e.length===t)&&e.every((function(e){return Tt(e)}))}function At(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=r(t.split("="),2),i=n[0],o=n[1];return/\[\]$/.test(i)?(e[i=i.replace("[]","")]=e[i]||[],e[i].push(o)):e[i]=o||"",e}),{}):{}}function Ct(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:Ae.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function Rt(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(Ae.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function jt(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).checkTypes,r=void 0!==n&&n;if(e===t)return!0;if("object"!==i(e)||null===e||"object"!==i(t)||null===t||r&&e.constructor!==t.constructor)return!1;var o=Object.keys(e);if(o.length!==Object.keys(t).length)return!1;for(var a=0,c=o;a<c.length;a++){var s=c[a];if(!t.hasOwnProperty(s))return!1;if(!jt(e[s],t[s],{checkTypes:r}))return!1}return!0}function St(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(Ye(e)&&Ye(i)){var o=function(t){Ye(i[t])?(e[t]||Object.assign(e,a({},t,{})),St(e[t],i[t])):$e(i[t])?e[t]?$e(e[t])&&i[t].forEach((function(n){for(var r=1,i=0;i<e[t].length;i++)if(jt(e[t][i],n)){r=0;break}r&&e[t].push(n)})):Object.assign(e,a({},t,l(i[t]))):Object.assign(e,a({},t,i[t]))};for(var c in i)o(c)}return St.apply(void 0,[e].concat(n))}function kt(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(Ke(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,o=1103547991^n,a=0;a<e.length;a++)i=r(i^(t=e.charCodeAt(a)),2654435761),o=r(o^t,1597334677);return i=r(i^i>>>16,2246822507)^r(o^o>>>13,3266489909),(4294967296*(2097151&(o=r(o^o>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()}function xt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new Map,r=function(){var r=t.apply(this,arguments);return n.has(r)||n.set(r,e.apply(this,arguments)),n.get(r)};return r.clear=n.clear.bind(n),r}function Bt(e,t,n){t.split&&(t=t.split("."));for(var r,i,o=0,a=t.length,c=e;o<a&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)c=c[i]=o===a?n:typeof(r=c[i])==typeof t?r:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}var _t={fetch:window.fetch.bind(window),makeRequest:function(e,t){return new Request(e,t)},timeout:function(e,t){var n=new AbortController,r=setTimeout((function(){n.abort(),ze("Request timeout after ".concat(e,"ms"),t),r=null}),e);return{signal:n.signal,done:function(){r&&clearTimeout(r)}}}},Ut="GET",Dt="POST",Pt="Content-Type";function qt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.request,i=n.done,o=function(e,n){var r,i,o;null==t||null!=(null===(r=n)||void 0===r?void 0:r.signal)||K.getConfig("disableAjaxTimeout")||(o=_t.timeout(t,e),n=Object.assign({signal:o.signal},n));var a=_t.fetch(e,n);return null!=(null===(i=o)||void 0===i?void 0:i.done)&&(a=a.finally(o.done)),a};return null==r&&null==i||(e=o,o=function(t,n){var o=new URL(null==(null==t?void 0:t.url)?t:t.url,document.location).origin,a=e(t,n);return r&&r(o),i&&(a=a.finally((function(){return i(o)}))),a}),o}function Nt(e,t){var n=e.status,r=e.statusText,i=void 0===r?"":r,o=e.headers,a=e.url,c=0;function s(e){if(0===c)try{var n;c=(new DOMParser).parseFromString(t,null==o||null===(n=o.get(Pt))||void 0===n||null===(n=n.split(";"))||void 0===n?void 0:n[0])}catch(t){c=null,e&&e(t)}return c}return{readyState:XMLHttpRequest.DONE,status:n,statusText:i,responseText:t,response:t,responseType:"",responseURL:a,get responseXML(){return s(ze)},getResponseHeader:function(e){return null!=o&&o.has(e)?o.get(e):null},toJSON:function(){return Object.assign({responseXML:s()},this)},timedOut:!1}}function Mt(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=qt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,{request:e.request,done:e.done});return function(e,n,o){!function(e,t){var n="object"===i(t)&&null!=t?t:{success:"function"==typeof t?t:function(){return null},error:function(e,t){return ze("Network error",e,t)}},o=n.success,a=n.error;e.then((function(e){return e.text().then((function(t){return[e,t]}))})).then((function(e){var t=r(e,2),n=t[0],i=t[1],c=Nt(n,i);n.ok||304===n.status?o(i,c):a(n.statusText,c)}),(function(e){return a("",Object.assign(Nt({status:0},""),{reason:e,timedOut:"AbortError"===(null==e?void 0:e.name)}))}))}(t(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.method||(t?Dt:Ut);if(r===Ut&&t){var i=Ct(e,n);Object.assign(i.search,t),e=Rt(i)}var o=new Headers(n.customHeaders);o.set(Pt,n.contentType||"text/plain");var a={method:r,headers:o};return r!==Ut&&t&&(a.body=t),n.withCredentials&&(a.credentials="include"),n.browsingTopics&&isSecureContext&&(a.browsingTopics=!0),n.keepalive&&(a.keepalive=!0),_t.makeRequest(e,a)}(e,o,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})),n)}}Mt(),qt();var zt=15;function Ft(e){var t,n,r,i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,o=void 0===i?xo.index:i,a=e.vastXml?e.vastXml:(t=e.vastUrl,r=(n=(n=e.vastImpUrl)&&(Array.isArray(n)?n:[n]))?n.map((function(e){return"<Impression><![CDATA[".concat(e,"]]></Impression>")})).join(""):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        ").concat(r,"\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),c=o.getAuction(e),s={type:"xml",value:a,ttlseconds:Number(e.ttl)+zt};return K.getConfig("cache.vasttrack")&&(s.bidder=e.bidder,s.bidid=e.requestId,s.aid=e.auctionId),null!=c&&(s.timestamp=c.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(s.key=e.customCacheKey),s}var Wt=new WeakMap,Lt=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","azerionedge","aaxBlockmeter","confiant","arcspan","airgrid","clean.io","a1Media","geoedge","mediafilter","qortex","dynamicAdBoost","contxtful","id5","51Degrees"];function Gt(e,t,n,i,o){if(t&&e){if(f(Lt,t)){i||(i=document);var a=u(i,e);if(a)return n&&"function"==typeof n&&(a.loaded?n():a.callbacks.push(n)),a.tag;var c=Wt.get(i)||{},s={loaded:!1,tag:null,callbacks:[]};return c[e]=s,Wt.set(i,c),n&&"function"==typeof n&&s.callbacks.push(n),Me("module ".concat(t," is loading external JavaScript")),function(t,n,i,o){i||(i=document);var a=i.createElement("script");a.type="text/javascript",a.async=!0;var c=u(i,e);return c&&(c.tag=a),a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,n())}:a.onload=function(){n()},a.src=t,o&&function(e,t){Object.entries(t).forEach((function(t){var n=r(t,2),i=n[0],o=n[1];return e.setAttribute(i,o)}))}(a,o),nt(a,i),a}(e,(function(){s.loaded=!0;try{for(var e=0;e<s.callbacks.length;e++)s.callbacks[e]()}catch(e){ze("Error executing callback","adloader.js:loadExternalScript",e)}}),i,o)}ze("".concat(t," not whitelisted for loading external JavaScript"))}else ze("cannot load external script without url and moduleCode");function u(e,t){var n=Wt.get(e);return n&&n[t]?n[t]:null}}var Ht=u(),Vt="outstream";function Jt(e){var t=this,n=e.url,r=e.config,i=e.id,o=e.callback,a=e.loaded,c=e.adUnitCode,s=e.renderNow;this.url=n,this.config=r,this.handlers={},this.id=i,this.renderNow=s,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):ze("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,r=function(){e._render?e._render.apply(e,t):Me("No render function was provided, please use .setRender on the renderer")};!function(e){var t=p(Ht.adUnits,(function(t){return t.code===e}));if(!t)return!1;var n=I(t,"renderer"),r=!!(n&&n.url&&n.render),i=I(t,"mediaTypes.video.renderer"),o=!!(i&&i.url&&i.render);return!!(r&&!0!==n.backupOnly||o&&!0!==i.backupOnly)}(c)?s?r():(this.cmd.unshift(r),Gt(n,Vt,this.callback,this.documentContext)):(Me("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(c)),r())}.bind(this)}function Kt(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Jt.install=function(e){return new Jt({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode,renderNow:e.renderNow})},Jt.prototype.getConfig=function(){return this.config},Jt.prototype.setRender=function(e){this._render=e},Jt.prototype.setEventHandlers=function(e){this.handlers=e},Jt.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),qe("Prebid Renderer event for id ".concat(t," type ").concat(n))},Jt.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){ze("Error processing Renderer command: ",e)}};var Xt=new WeakSet,$t=function(){return Y((function e(t,n){var r,i;$(this,e),function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(r=this,i=Xt),i.add(r),this.getSettings=t,this.defaultScope=n}),[{key:"get",value:function(e,t){var n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}},{key:"getOwn",value:function(e,t){return e=Kt(Xt,this,Qt).call(this,e),I(this.getSettings(),"".concat(e,".").concat(t))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))}},{key:"settingsFor",value:function(e){return St({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=Kt(Xt,this,Qt).call(this,e),this.getSettings()[e]||{}}}])}();function Qt(e){return null==e?this.defaultScope:e}var Yt,Zt=new $t((function(){return u().bidderSettings||{}}),E.BD_SETTING_STANDARD),en="prebid",tn="bidder",nn="analytics",rn=n(8128),on=n.n(rn),an=on()({ready:on().SYNC|on().ASYNC|on().QUEUE}),cn=ue();an.ready=(Yt=an.ready,function(){try{return Yt.apply(an,arguments)}finally{cn.resolve()}}),cn.promise;var sn=an.get,un={},dn="component",ln=dn+"Type",fn=dn+"Name",pn="adapterCode",gn="storageType",vn="syncType";function mn(e){return function(t,n,r){var i=a(a(a({},ln,t),fn,n),dn,"".concat(t,".").concat(n));return t===tn&&(i[pn]=e(n)),hn(Object.assign(i,r))}}var hn=an("sync",(function(e){return e}));function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe("Activity control:"),t={};function n(e){return t[e]=t[e]||[]}function i(t,n,r,i){var o;try{o=r(i)}catch(r){e.logError("Exception in rule ".concat(n," for '").concat(t,"'"),r),o={allow:!1,reason:r}}return o&&Object.assign({activity:t,name:n,component:i[dn]},o)}var o={};function a(t){var n=t.activity,r=t.name,i=t.allow,a=t.reason,c=t.component,s="".concat(r," ").concat(i?"allowed":"denied"," '").concat(n,"' for '").concat(c,"'").concat(a?":":""),u=o.hasOwnProperty(s);if(u&&clearTimeout(o[s]),o[s]=setTimeout((function(){return delete o[s]}),1e3),!u){var d=[s];a&&d.push(a),(i?e.logInfo:e.logWarn).apply(e,d)}}return[function(e,t,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=n(e),c=a.findIndex((function(e){var t=r(e,1)[0];return o<t})),s=[o,t,i];return a.splice(c<0?a.length:c,0,s),function(){var e=a.indexOf(s);e>=0&&a.splice(e,1)}},function(e,t){var o,c,s,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return bn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(n(e));try{for(u.s();!(s=u.n()).done;){var d=r(s.value,3),l=d[0],f=d[1],p=d[2];if(o!==l&&c)break;o=l;var g=i(e,f,p,t);if(g){if(!g.allow)return a(g),!1;c=g}}}catch(e){u.e(e)}finally{u.f()}return c&&a(c),!0}]}(),wn=r(yn,2),On=wn[0],Tn=wn[1],In="accessDevice",En="syncUser",An="fetchBids",Cn="transmitEids",Rn="transmitUfpd",jn="transmitPreciseGeo",Sn="transmitTid";function kn(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}function xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,r=void 0===n?"client":n,i=t.bidder,o=void 0===i?"":i,a=t.bidId,c=t.transactionId,s=t.adUnitId,u=t.auctionId,d=r,l=e||0;Object.assign(this,{bidderCode:o,width:0,height:0,statusMessage:function(){switch(l){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}(),adId:Re(),requestId:a,transactionId:c,adUnitId:s,auctionId:u,mediaType:"banner",source:d}),this.getStatusCode=function(){return l},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,adUnitId:this.adUnitId,auctionId:this.auctionId}}}function Bn(e,t){return new xn(e,t)}var Un="outstream",Dn=an("sync",(function(e,t,n,r,i){return n&&(i||r!==Un)?K.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(ze('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(r===Un&&!i&&!(e.renderer||t&&t.renderer||n.renderer))}),"checkVideoBidSetup");function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qn(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.startTime,o=void 0===i?vt:i,c=n.ttl,s=void 0===c?function(){return null}:c,u=n.monotonic,d=void 0!==u&&u,l=n.slack,f=void 0===l?5e3:l,p=new Map,g=[],v=[],m=d?function(e){return v.push(e)}:function(e){return v.splice(function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=0,i=e.length&&e.length-1,o=n(t);i-r>1;){var a=r+Math.round((i-r)/2);o>n(e[a])?r=a:i=a}for(;e.length>r&&o>n(e[r]);)r++;return r}(v,e,(function(e){return e.expiry})),0,e)};function h(){if(t&&clearTimeout(t),v.length>0){var n=vt();e=Math.max(n,v[0].expiry+f),t=setTimeout((function(){for(var e=vt(),n=0,r=function(){var t=o[i];if(t.expiry>e)return 1;g.forEach((function(e){try{e(t.item)}catch(e){ze(e)}})),p.delete(t.item),n++},i=0,o=v;i<o.length&&!r();i++);v.splice(0,n),t=null,h()}),e-n)}else t=null}var b={};return a(a(a(a(a(a({},Symbol.iterator,(function(){return p.keys()})),"add",(function(n){!p.has(n)&&p.set(n,function(n){var i,a={},c=b,u=Object.entries({start:o,delta:s}).map((function(o){var s,u=r(o,2),d=u[0],l=u[1];return function(){var r=s={};ce.resolve(l(n)).then((function(n){r===s&&(a[d]=n,c===b&&null!=a.start&&null!=a.delta&&(i=a.start+a.delta,m(g),(null==t||e>i+f)&&h()))}))}})),d=r(u,2),l=d[0],p=d[1],g={item:n,refresh:p,get expiry(){return i}};return l(),p(),g}(n))})),"clear",(function(){v.length=0,h(),p.clear(),b={}})),"toArray",(function(){return Array.from(p.keys())})),"refresh",(function(){v.length=0,h();var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(p.values());try{for(t.s();!(e=t.n()).done;)e.value.refresh()}catch(e){t.e(e)}finally{t.f()}})),"onExpiry",(function(e){return g.push(e),function(){var t=g.indexOf(e);t>=0&&g.splice(t,1)}}))}var Nn="eventHistoryTTL",Mn=null,zn=qn({monotonic:!0,ttl:function(){return Mn}});K.getConfig(Nn,(function(e){var t,n=Mn;e=null===(t=e)||void 0===t?void 0:t[Nn],n!==(Mn="number"==typeof e?1e3*e:null)&&zn.refresh()}));var Fn,Wn=Array.prototype.slice,Ln=Array.prototype.push,Gn=Object.values(C),Hn={bidWon:"adUnitCode"},Vn=function(){var e={},t={};function n(e){return Gn.includes(e)}return t.has=n,t.on=function(t,r,i){if(n(t)){var o=e[t]||{que:[]};i?(o[i]=o[i]||{que:[]},o[i].que.push(r)):o.que.push(r),e[t]=o}else ze("Wrong event name : "+t+" Valid event names :"+Gn)},t.emit=function(t){!function(t,n){qe("Emitting event for: "+t);var r=n[0]||{},i=r[Hn[t]],o=e[t]||{que:[]},a=Object.keys(o),c=[];zn.add({eventType:t,args:r,id:i,elapsedTime:window.performance&&window.performance.now&&window.performance.now()||0}),i&&a.includes(i)&&Ln.apply(c,o[i].que),Ln.apply(c,o.que),(c||[]).forEach((function(e){if(e)try{e.apply(null,n)}catch(e){ze("Error executing handler:","events.js",e,t)}}))}(t,Wn.call(arguments,1))},t.off=function(t,n,r){var i=e[t];et(i)||et(i.que)&&et(i[r])||r&&(et(i[r])||et(i[r].que))||(r?(i[r].que||[]).forEach((function(e){var t=i[r].que;e===n&&t.splice(t.indexOf(e),1)})):(i.que||[]).forEach((function(e){var t=i.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=i)},t.get=function(){return e},t.addEvents=function(e){Gn=Gn.concat(e)},t.getEvents=function(){return zn.toArray().map((function(e){return Object.assign({},e)}))},t}();Fn=Vn.emit.bind(Vn),de=Fn;var Jn=Vn.on,Kn=Vn.off,Xn=(Vn.get,Vn.getEvents),$n=Vn.emit;function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Vn.addEvents,Vn.has;var Yn="performanceMetrics",Zn=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},er=new WeakMap;function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.now,n=void 0===t?Zn:t,r=e.mkNode,i=void 0===r?ir:r,o=e.mkTimer,a=void 0===o?rr:o,c=e.mkRenamer,s=void 0===c?function(e){return e}:c,u=e.nodes,d=void 0===u?er:u;return function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return{forEach:function(t){t(e)}}};r=s(r);var o=function(e){return t.dfWalk({visit:function(t,n){var r=n.timestamps;if(r.hasOwnProperty(e))return r[e]}})};function c(e,n){var i=r(e);t.dfWalk({follow:function(e,t){return t.propagate&&(!e||!e.stopPropagation)},visit:function(e,t){i.forEach((function(r){null==e?t.metrics[r]=n:(t.groups.hasOwnProperty(r)||(t.groups[r]=[]),t.groups[r].push(n))}))}})}function u(e){return a(n,(function(t){return c(e,t)}))}function l(){var e={};return t.dfWalk({visit:function(t,n){e=Object.assign({},!t||t.includeGroups?n.groups:null,n.metrics,e)}}),e}var f={startTiming:u,measureTime:function(e,t){return u(e).stopAfter(t)()},measureHookTime:function(e,t,n){var r=u(e);return n(function(e){var t=r.stopBefore(e);return t.bail=e.bail&&r.stopBefore(e.bail),t.stopTiming=r,t.untimed=e,t}(t))},checkpoint:function(e){t.timestamps[e]=n()},timeSince:function(e,t){var r=o(e),i=null!=r?n()-r:null;return null!=t&&c(t,i),i},timeBetween:function(e,t,n){var r=o(e),i=o(t),a=null!=r&&null!=i?i-r:null;return null!=n&&c(n,a),a},setMetric:c,getMetrics:l,fork:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.propagate,a=void 0===o||o,c=n.stopPropagation,s=void 0!==c&&c,u=n.includeGroups;return e(i([[t,{propagate:a,stopPropagation:s,includeGroups:void 0!==u&&u}]]),r)},join:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.propagate,i=void 0===r||r,o=n.stopPropagation,a=void 0!==o&&o,c=n.includeGroups,s=void 0!==c&&c,u=d.get(e);null!=u&&u.addParent(t,{propagate:i,stopPropagation:a,includeGroups:s})},newMetrics:function(){return e(t.newSibling(),r)},renameWith:function(n){return e(t,n)},toJSON:function(){return l()}};return d.set(f,t),f}(i([]))}}function nr(e,t,n){return function(){t&&t();try{return e.apply(this,arguments)}finally{n&&n()}}}function rr(e,t){var n=e(),r=!1;function i(){r||(t(e()-n),r=!0)}return i.stopBefore=function(e){return nr(e,i)},i.stopAfter=function(e){return nr(e,null,i)},i}function ir(e){return{metrics:{},timestamps:{},groups:{},addParent:function(t,n){e.push([t,n])},newSibling:function(){return ir(e.slice())},dfWalk:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.visit,o=n.follow,a=void 0===o?function(){return!0}:o,c=n.visited,s=void 0===c?new Set:c,u=n.inEdge;if(!s.has(this)){if(s.add(this),null!=(t=i(u,this)))return t;var d,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qn(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(e);try{for(l.s();!(d=l.n()).done;){var f=r(d.value,2),p=f[0],g=f[1];if(a(u,g)&&null!=(t=p.dfWalk({visit:i,follow:a,visited:s,inEdge:g})))return t}}catch(e){l.e(e)}finally{l.f()}}}}}var or=function(){var e=function(){},t=function(){return{}},n={forEach:e},r=function(){return null};r.stopBefore=function(e){return e},r.stopAfter=function(e){return e};var i=Object.defineProperties({dfWalk:e,newSibling:function(){return i},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((function(e){return[e,{get:t}]}))));return tr({now:function(){return 0},mkNode:function(){return i},mkRenamer:function(){return function(){return n}},mkTimer:function(){return r},nodes:{get:e,set:e}})()}(),ar=!0;function cr(e){return ar&&e||or}K.getConfig(Yn,(function(e){ar=!!e[Yn]}));var sr,ur=(sr=tr(),function(){return ar?sr():or});function dr(e,t){return function(n,r){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];var s=this;return cr(t.apply(s,a)).measureHookTime(e+n,i,(function(e){return r.call.apply(r,[s,e].concat(a))}))}}}dr("requestBids.",(function(e){return e.metrics})),dr("addBidResponse.",(function(e,t){return t.metrics}));var lr=mn((function(e){return Mi.resolveAlias(e)})),fr=["cpm","ttl","creativeId","netRevenue","currency"],pr=["auctionId","transactionId"];function gr(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=vr(e);Mi.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,i,o=t;Ye(t)&&(o=t.code,r=t.gvlid,i=t.skipPbsAliasing),Mi.aliasRegistry[o]=e.code,n(Object.assign({},e,{code:o,gvlid:r,skipPbsAliasing:i}))}))}function vr(e){return Object.assign(new kn(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:t,callBids:function(n,i,o,a,c,s){if(Array.isArray(n.bids)){var u=function(e){if(Tn(Sn,lr(tn,e)))return{bidRequest:function(e){return e},bidderRequest:function(e){return e}};function t(e,t,n){return pr.includes(t)?null:Reflect.get(e,t,n)}function n(e,t){var n=new Proxy(e,t);return Object.entries(e).filter((function(e){var t=r(e,2);return t[0],"function"==typeof t[1]})).forEach((function(t){var i=r(t,2),o=i[0],a=i[1];return n[o]=a.bind(e)})),n}var i=xt((function(e){return n(e,{get:t})}),(function(e){return e.bidId}));return{bidRequest:i,bidderRequest:function(e){return n(e,{get:function(n,r,o){return"bids"===r?e.bids.map(i):t(n,r,o)}})}}}(n.bidderCode),d={},l=[],p=Or(n).measureTime("validate",(function(){return n.bids.filter((function(t){return n=u.bidRequest(t),!!e.isBidRequestValid(n)||(Me("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(n))),!1);var n}))}));if(0!==p.length){var g={};p.forEach((function(e){g[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),br(e,p.map(u.bidRequest),u.bidderRequest(n),a,s,{onRequest:function(e){return $n(C.BEFORE_BIDDER_HTTP,n,e)},onResponse:function(t){c(e.code),l.push(t)},onPaapi:function(e){var t=g[e.bidId];t?wr(t,e):Me("Received fledge auction configuration for an unknown bidId",e)},onError:function(t,r){r.timedOut||c(e.code),Mi.callBidderError(e.code,r,n),$n(C.BIDDER_ERROR,{error:r,bidderRequest:n}),ze("Server call for ".concat(e.code," failed: ").concat(t," ").concat(r.status,". Continuing without bids."))},onBid:function(t){var n,o,a,c,s=g[t.requestId];if(s){if(t.adapterCode=s.bidder,n=t.bidderCode,o=s.bidder,a=Zt.get(o,"allowAlternateBidderCodes")||!1,c=Zt.get(o,"allowedAlternateBidderCodes"),n&&o&&o!==n&&(c=$e(c)?c.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(ct):c,!a||$e(c)&&"*"!==c[0]&&!c.includes(n)))return Me("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(s.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void i.reject(s.adUnitCode,t,_.BIDDER_DISALLOWED);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[s.bidder]);var u=Object.assign(Bn(A.GOOD,s),t,It(s,pr));!function(e,t){var n=cr(t.metrics);n.checkpoint("addBidResponse"),d[e]=!0,n.measureTime("addBidResponse.validate",(function(){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,i=void 0===n?xo.index:n;function o(){var e=Object.keys(t);return fr.every((function(n){return f(e,n)&&!f([void 0,null],t[n])}))}function a(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?o()?"native"!==t.mediaType||function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,r=(void 0===n?xo.index:n).getAdUnit(e);if(!r)return!1;var i=r.nativeOrtbRequest;return function(e,t){if(!I(e,"link.url"))return ze("native response doesn't have 'link' property. Ortb response: ",e),!1;var n=t.assets.filter((function(e){return 1===e.required})).map((function(e){return e.id})),r=e.assets.map((function(e){return e.id})),i=n.every((function(e){return f(r,e)}));return i||ze("didn't receive a bid with all required assets. Required ids: ".concat(n,", but received ids in response: ").concat(r)),i}((null===(t=e.native)||void 0===t?void 0:t.ortb)||va(e.native,i),i)}(t,{index:i})?"video"!==t.mediaType||function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?xo.index:t,r=I(n.getMediaTypes(e),"video"),i=r&&I(r,"context"),o=r&&I(r,"useCacheKey"),a=n.getAdUnit(e);return Dn(e,a,r,i,o)}(t,{index:i})?!("banner"===t.mediaType&&!function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,i=void 0===n?xo.index:n;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var o=i.getBidRequest(t),a=i.getMediaTypes(t),c=ke(o&&o.sizes||a&&a.banner&&a.banner.sizes).map(xe);if(1===c.length){var s=r(c[0].split("x"),2),u=s[0],d=s[1];return t.width=parseInt(u,10),t.height=parseInt(d,10),!0}return!1}(e,t,{index:i}))||(ze(a("Banner bids require a width and height")),!1):(ze(a("Video bid does not have required vastUrl or renderer property")),!1):(ze(a("Native bid missing some required properties.")),!1):(ze(a("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1):(Me("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Me("No adUnitCode was supplied to addBidResponse."),!1)}(e,t)}))?i(e,t):i.reject(e,t,_.INVALID)}(s.adUnitCode,u)}else Me("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),i.reject(null,t,_.INVALID_REQUEST_ID)},onCompletion:v})}else v()}function v(){o(),K.runWithBidder(e.code,(function(){$n(C.BIDDER_DONE,n),t(l,n.gdprConsent,n.uspConsent,n.gppConsent)}))}}});function t(t,n,r,i){yr(e,t,n,r,i)}}var mr=["paapi","fledgeAuctionConfigs"],hr=["bids"].concat(mr),br=an("sync",(function(e,t,n,o,a,c){var s=c.onRequest,u=c.onResponse,d=c.onPaapi,l=c.onError,f=c.onBid,p=c.onCompletion,g=Or(n);p=g.startTiming("total").stopBefore(p);var v=g.measureTime("buildRequests",(function(){return e.buildRequests(t,n)}));if(v&&0!==v.length){Array.isArray(v)||(v=[v]);var m=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}}(p,v.length);v.forEach((function(t){var n=g.fork();function c(e){null!=e&&(e.metrics=n.fork().renameWith()),f(e)}var p=a((function(i,o){b();try{i=JSON.parse(i)}catch(e){}i={body:i,headers:{get:o.getResponseHeader.bind(o)}},u(i);try{i=n.measureTime("interpretResponse",(function(){return e.interpretResponse(i,t)}))}catch(t){return ze("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,t),void m()}var a,s;i&&!Object.keys(i).some((function(e){return!hr.includes(e)}))?(a=i.bids,s=function(e){var t=r(mr.map((function(t){return e[t]})),2),n=t[0],i=t[1];if(null!=n&&null!=i)throw new Error("Adapter response should use ".concat(mr[0]," over ").concat(mr[1],", not both"));return null!=n?n:i}(i)):a=i,$e(s)&&s.forEach(d),a&&($e(a)?a.forEach(c):c(a)),m()})),v=a((function(e,t){b(),l(e,t),m()}));s(t);var h,b=n.startTiming("net");function y(n){var r,i=t.options;return Object.assign(n,i,{browsingTopics:!(null!=i&&i.hasOwnProperty("browsingTopics")&&!i.browsingTopics)&&(null===(r=Zt.get(e.code,"topicsHeader"))||void 0===r||r)&&Tn(Rn,lr(tn,e.code))})}switch(t.method){case"GET":o("".concat(t.url).concat((h=t.data)?"?".concat("object"===i(h)?function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")}(h):h):""),{success:p,error:v},void 0,y({method:"GET",withCredentials:!0}));break;case"POST":o(t.url,{success:p,error:v},"string"==typeof t.data?t.data:JSON.stringify(t.data),y({method:"POST",contentType:"text/plain",withCredentials:!0}));break;default:Me("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),m()}}))}else p()}),"processBidderRequests"),yr=an("async",(function(e,t,n,r,i){var o=K.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(o||!Mi.aliasRegistry[e.code])){var a=K.getConfig("userSync.filterSettings"),c=e.getUserSyncs({iframeEnabled:!(!a||!a.iframe&&!a.all),pixelEnabled:!(!a||!a.image&&!a.all)},t,n,r,i);c&&(Array.isArray(c)||(c=[c]),c.forEach((function(t){Hi.registerSync(t.type,e.code,t.url)})),Hi.bidderDone(e.code))}}),"registerSyncs"),wr=an("sync",(function(e,t){}),"addPaapiConfig");function Or(e){return cr(e.metrics).renameWith((function(t){return["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)]}))}var Tr={};function Ir(e,t,n){var r=function(e,t){var n=Tr[e]=Tr[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}function Er(e){return I(Tr,"".concat(e,".requestsCounter"))||0}function Ar(e,t){return I(Tr,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0}function Cr(e,t){return I(Tr,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}function Rr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var n=t.location.protocol;try{n=t.top.location.protocol}catch(e){}return/^\/\//.exec(e)?n+e:"".concat(n,"//").concat(e)}function jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noLeadingWww,r=void 0!==n&&n,i=t.noPort,o=void 0!==i&&i;try{e=new URL(Rr(e))}catch(e){return}return e=o?e.hostname:e.host,r&&e.startsWith("www.")&&(e=e.substring(4)),e}function Sr(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null}var kr,xr=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return i.top!==i?e:function(){var o=Sr(i.document),a=i.location.href;return t===o&&a===n||(t=o,n=a,r=e()),r}}((kr=window,function(){var e,t,n,r,i=[],o=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}}(kr),a=K.getConfig("maxNestedIframes"),c=!1,s=0,u=!1,d=!1,l=!1;do{var f=e,p=d,g=void 0,v=!1,m=null;d=!1,e=e?e.parent:kr;try{g=e.location.href||null}catch(e){v=!0}if(v)if(p){var h=f.context;try{t=m=h.sourceUrl,l=!0,u=!0,e===kr.top&&(c=!0),h.canonicalUrl&&(n=h.canonicalUrl)}catch(e){}}else{Me("Trying to access cross domain iframe. Continuing without referrer and location");try{var b=f.document.referrer;b&&(m=b,e===kr.top&&(c=!0))}catch(e){}!m&&o&&o[s-1]&&(m=o[s-1],e===kr.top&&(l=!0)),m&&!u&&(t=m)}else{if(g&&(t=m=g,u=!1,e===kr.top)){c=!0;var y=Sr(e.document);y&&(n=y)}e.context&&e.context.sourceUrl&&(d=!0)}i.push(m),s++}while(e!==kr.top&&s<a);i.reverse();try{r=kr.top.document.referrer}catch(e){}var w=c||l?t:null,O=K.getConfig("pageUrl")||n||null,T=K.getConfig("pageUrl")||w||Rr(O,kr);return w&&w.indexOf("?")>-1&&-1===T.indexOf("?")&&(T="".concat(T).concat(w.substring(w.indexOf("?")))),{reachedTop:c,isAmp:u,numIframes:s-1,stack:i,topmostLocation:t||null,location:w,canonicalUrl:O,page:T,domain:jr(T)||null,ref:r||null,legacy:{reachedTop:c,isAmp:u,numIframes:s-1,stack:i,referer:t||null,canonicalUrl:O}}}));function Br(e){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Br(e)}function _r(e,t){return _r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_r(e,t)}function Ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_r(e,t)}function Dr(e,t,n){return t=Br(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pr()?Reflect.construct(t,n||[],Br(e).constructor):t.apply(e,n))}function Pr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pr=function(){return!!e})()}function qr(e,t,n){Nr(e,t),t.set(e,n)}function Nr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Mr(e,t){return e.get(Fr(e,t))}function zr(e,t,n){return e.set(Fr(e,t),n),n}function Fr(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Object.freeze({}),Object.freeze({});var Wr=new WeakMap,Lr=new WeakMap,Gr=new WeakMap,Hr=new WeakMap,Vr=new WeakMap,Jr=new WeakMap,Kr=new WeakSet,Xr=function(){return Y((function e(){var t;$(this,e),Nr(this,t=Kr),t.add(this),qr(this,Wr,void 0),qr(this,Lr,void 0),qr(this,Gr,void 0),qr(this,Hr,void 0),qr(this,Vr,!0),qr(this,Jr,void 0),a(this,"generatedTime",void 0),a(this,"hashFields",void 0),this.reset()}),[{key:"reset",value:function(){zr(Gr,this,ue()),zr(Wr,this,!1),zr(Lr,this,null),zr(Hr,this,!1),this.generatedTime=null}},{key:"enable",value:function(){zr(Wr,this,!0)}},{key:"enabled",get:function(){return Mr(Wr,this)}},{key:"ready",get:function(){return Mr(Hr,this)}},{key:"promise",get:function(){return Mr(Hr,this)?ce.resolve(Mr(Lr,this)):(Mr(Wr,this)||Fr(Kr,this,$r).call(this,null),Mr(Gr,this).promise)}},{key:"setConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vt();this.generatedTime=t,zr(Vr,this,!0),Fr(Kr,this,$r).call(this,e)}},{key:"getConsentData",value:function(){return Mr(Lr,this)}},{key:"hash",get:function(){var e=this;return Mr(Vr,this)&&(zr(Jr,this,kt(JSON.stringify(Mr(Lr,this)&&this.hashFields?this.hashFields.map((function(t){return Mr(Lr,e)[t]})):Mr(Lr,this)))),zr(Vr,this,!1)),Mr(Jr,this)}}])}();function $r(e){zr(Hr,this,!0),zr(Lr,this,e),Mr(Gr,this).resolve(e)}var Qr,Yr,Zr,ei=function(e){function t(){return $(this,t),Dr(this,t,arguments)}return Ur(t,e),Y(t,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}])}(Xr),ti=function(e){function t(){var e;$(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(e=Dr(this,t,[].concat(r)),"hashFields",["gdprApplies","consentString"]),e}return Ur(t,e),Y(t,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:Xe(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}])}(Xr),ni=function(e){function t(){var e;$(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a(e=Dr(this,t,[].concat(r)),"hashFields",["applicableSections","gppString"]),e}return Ur(t,e),Y(t,[{key:"getConsentMeta",value:function(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}])}(Xr),ri=new ti,ii=new ei,oi=new ni,ai=function(){function e(){return!!K.getConfig("coppa")}return{getCoppa:e,getConsentData:e,getConsentMeta:e,reset:function(){},get promise(){return ce.resolve(e())},get hash(){return e()?"1":"0"}}}(),ci=(Qr={},Yr={},Zr={},{register:function(e,t,n){n&&((Qr[t]=Qr[t]||{})[e]=n,Yr.hasOwnProperty(t)?Yr[t]!==n&&(Yr[t]=Zr):Yr[t]=n)},get:function(e){var t={modules:Qr[e]||{}};return Yr.hasOwnProperty(e)&&Yr[e]!==Zr&&(t.gvlid=Yr[e]),t}}),si={gdpr:ri,usp:ii,gpp:oi,coppa:ai},ui=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:si;return e=Object.entries(e),Object.assign({get promise(){return ce.all(e.map((function(e){var t=r(e,2),n=t[0];return t[1].promise.then((function(e){return[n,e]}))}))).then((function(e){return Object.fromEntries(e)}))},get hash(){return kt(e.map((function(e){var t=r(e,2);return t[0],t[1].hash})).join(":"))}},Object.fromEntries(["getConsentData","getConsentMeta","reset"].map((function(t){return[t,(n=t,function(){return Object.fromEntries(e.map((function(e){var t=r(e,2);return[t[0],t[1][n]()]})))})];var n}))))}();function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var li=["data","ext.data","yob","gender","keywords","kwarray","id","buyeruid","customdata"].map((function(e){return"user.".concat(e)})).concat("device.ext.cdep"),fi=["user.eids","user.ext.eids"],pi=["user.geo.lat","user.geo.lon","device.geo.lat","device.geo.lon"];function gi(e){return Object.assign({get:function(){},run:function(e,t,n,r,o){var a=n&&n[r];if(function(e){return null!=e&&("object"!==i(e)||Object.keys(e).length>0)}(a)&&o()){var c=this.get(a);void 0===c?delete n[r]:n[r]=c}}},e)}function vi(e){return e.forEach((function(e){e.paths=e.paths.map((function(e){var t=e.split("."),n=t.pop();return[t.length>0?t.join("."):null,n]}))})),function(t,n){for(var i=[],o=arguments.length,a=new Array(o>2?o-2:0),c=2;c<o;c++)a[c-2]=arguments[c];var s=mi.apply(void 0,[t].concat(a));return e.forEach((function(e){if(!1!==t[e.name]){var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return di(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?di(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(e.paths);try{for(a.s();!(o=a.n()).done;){var c=r(o.value,2),u=c[0],d=c[1],l=null==u?n:I(n,u);if(i.push(e.run(n,u,l,d,s.bind(null,e))),!1===t[e.name])return}}catch(e){a.e(e)}finally{a.f()}}})),i.filter((function(e){return null!=e}))}}function mi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t){return e.hasOwnProperty(t.name)||(e[t.name]=!!t.applies.apply(t,n)),e[t.name]}}function hi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;return function(n){return!t(e,n)}}var bi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=vi(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;return[{name:Rn,paths:li,applies:hi(Rn,e)},{name:Cn,paths:fi,applies:hi(Cn,e)},{name:jn,paths:pi,applies:hi(jn,e),get:function(e){return Math.round(100*(e+Number.EPSILON))/100}},{name:Sn,paths:["source.tid"],applies:hi(Sn,e)}].map(gi)}(e)),n=vi(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn;return[{name:Cn,paths:["userId","userIdAsEids"],applies:hi(Cn,e)},{name:Sn,paths:["ortb2Imp.ext.tid"],applies:hi(Sn,e)}].map(gi)}(e));return function(e){var r={};return{ortb2:function(n){return t(r,n,e),n},bidRequest:function(t){return n(r,t,e),t}}}}();function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}On(Sn,"enableTIDs config",(function(){if(!K.getConfig("enableTIDs"))return{allow:!1,reason:"TIDs are disabled"}}));var Oi="pbsBidAdapter",Ti="client",Ii="server",Ei={isAllowed:Tn,redact:bi},Ai={},Ci=Ai.bidderRegistry={},Ri=Ai.aliasRegistry={},ji=[];K.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(ji=$e(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var Si={},ki=mn((function(e){return Ai.resolveAlias(e)})),xi=an("sync",(function(e){var t=e.bidderCode,n=e.auctionId,r=e.bidderRequestId,i=e.adUnits,o=e.src,a=e.metrics;return i.reduce((function(e,i){var c=i.bids.filter((function(e){return e.bidder===t}));return null==t&&0===c.length&&null!=i.s2sBid&&c.push({bidder:null}),e.push(c.reduce((function(e,c){var s=null==(c=Object.assign({},c,{ortb2Imp:St({},i.ortb2Imp,c.ortb2Imp)},yt(i,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?i.mediaTypes:c.mediaTypes;return function(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return f(t,e)}))&&(!e.video||!e.video.context||f(["instream","outstream","adpod"],e.video.context))}(s)?c=Object.assign({},c,{mediaTypes:s}):ze("mediaTypes is not correctly configured for adunit ".concat(i.code)),"client"===o&&function(e,t){Ir(e,"requestsCounter",t)}(i.code,t),e.push(Object.assign({},c,{adUnitCode:i.code,transactionId:i.transactionId,adUnitId:i.adUnitId,sizes:I(s,"banner.sizes")||I(s,"video.playerSize")||[],bidId:c.bid_id||Re(),bidderRequestId:r,auctionId:n,src:o,metrics:a,bidRequestsCount:Er(i.code),bidderRequestsCount:Ar(i.code,c.bidder),bidderWinsCount:Cr(i.code,c.bidder)})),e}),[])),e}),[]).reduce(st,[]).filter((function(e){return""!==e}))}),"getBids"),Bi=an("sync",(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getS2SBidders;if(null==t)return e;var r=(void 0===n?Ui:n)(t);return e.filter((function(e){return r.has(e.bidder)}))}),"filterBidsForAdUnit"),_i=an("sync",(function(e,t){return e}),"setupAdUnitMediaTypes");function Ui(e){$e(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var Di=an("sync",(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getS2SBidders,r=(void 0===n?Ui:n)(t);return ut(e).reduce((function(e,t){return e[r.has(t)?Ii:Ti].push(t),e}),a(a({},Ti,[]),Ii,[]))}),"partitionBidders");function Pi(e,t){var n=Ci[e],r=(null==n?void 0:n.getSpec)&&n.getSpec();if(r&&r[t]&&"function"==typeof r[t])return[r,r[t]]}function qi(e,t,n,r){try{Ne("Invoking ".concat(e,".").concat(t));for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];K.runWithBidder(e,r.bind.apply(r,[n].concat(o)))}catch(n){Me("Error calling ".concat(t," of ").concat(e))}}function Ni(e,t,n){if((null==n?void 0:n.src)!==x){var r=Pi(e,t);null!=r&&qi.apply(void 0,[e,t].concat(l(r),[n]))}}Ai.makeBidRequests=an("sync",(function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0;c=cr(c),$n(C.BEFORE_REQUEST_BIDS,e),function(e){e.forEach((function(e){var t=e.nativeParams||I(e,"mediaTypes.native");t&&(e.nativeParams=aa(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(e||Ye(e)){var t={ver:"1.2",assets:[]};for(var n in e)if(!q.includes(n))if(k.hasOwnProperty(n))if("privacyLink"!==n){var r=e[n],i=0;r.required&&Ze(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in U)o.data={type:D[U[n]]},r.len&&(o.data.len=r.len);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?P.ICON:P.MAIN},r.aspect_ratios)if($e(r.aspect_ratios))if(r.aspect_ratios.length){var a=r.aspect_ratios[0],c=a.min_width,s=a.min_height;Tt(c)&&Tt(s)?(o.img.wmin=c,o.img.hmin=s):ze("image.aspect_ratios min_width or min_height are invalid: ",c,s);var u=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else ze("image.aspect_ratios was passed, but it's empty:",r.aspect_ratios);else ze("image.aspect_ratios was passed, but it's not a an array:",r.aspect_ratios);r.sizes&&(2===r.sizes.length&&Tt(r.sizes[0])&&Tt(r.sizes[1])?(o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):ze("image.sizes was passed, but its value is not an array of integers:",r.sizes))}else"title"===n?o.title={len:r.len||140}:"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else t.privacy=1;else ze("Unrecognized native asset code: ".concat(n,". Asset will be ignored."));return t}ze("Native assets object is empty or not an object: ",e)}(e.nativeParams))}))}(e),e.forEach((function(e){Ye(e.mediaTypes)||(e.mediaTypes={}),e.bids=e.bids.filter((function(e){return!e.bidder||Ei.isAllowed(An,ki(tn,e.bidder))})),Ir(e.code,"requestsCounter")})),e=_i(e,i);var s=Di(e,ji),u=s[Ti],d=s[Ii];K.getConfig("bidderSequence")===G&&(u=lt(u));var l=xr(),f=[],g=o.global||{},v=o.bidder||{};function m(e,t){var r=Ei.redact(null!=t?t:ki(tn,e.bidderCode)),i=Object.freeze(r.ortb2(St({source:{tid:n}},g,v[e.bidderCode])));return e.ortb2=i,e.bids=e.bids.map((function(e){return e.ortb2=i,r.bidRequest(e)})),e}ji.forEach((function(r){var i=function(e){return ki(en,Oi,a({},"configName",e.configName))}(r);if(r&&r.enabled&&Ei.isAllowed(An,i)){var o=function(e,t){var n=ft(e),r=!1;return n.forEach((function(e){var n=e.bids.filter((function(e){var n;return e.module===Oi&&(null===(n=e.params)||void 0===n?void 0:n.configName)===t.configName}));1===n.length?(e.s2sBid=n[0],r=!0,e.ortb2Imp=St({},e.s2sBid.ortb2Imp,e.ortb2Imp)):n.length>1&&Me('Multiple "module" bids for the same s2s configuration; all will be ignored',n),e.bids=Bi(e.bids,t).map((function(e){return e.bid_id=Re(),e}))})),{adUnits:n=n.filter((function(e){return 0!==e.bids.length||null!=e.s2sBid})),hasModuleBids:r}}(e,r),s=o.adUnits,u=o.hasModuleBids,g=je();(0===d.length&&u?[null]:d).forEach((function(e){var o=Re(),a=c.fork(),u=m({bidderCode:e,auctionId:n,bidderRequestId:o,uniquePbsTid:g,bids:xi({bidderCode:e,auctionId:n,bidderRequestId:o,adUnits:ft(s),src:x,metrics:a}),auctionStart:t,timeout:r.timeout,src:x,refererInfo:l,metrics:a},i);0!==u.bids.length&&f.push(u)})),s.forEach((function(e){var t=e.bids.filter((function(e){return p(f,(function(t){return p(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),f.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=s.filter((function(e){return e.bids.length>0||null!=e.s2sBid})))}))}}));var h=function(e){var t=ft(e);return t.forEach((function(e){e.bids=Bi(e.bids,null)})),t.filter((function(e){return 0!==e.bids.length}))}(e);return u.forEach((function(e){var o=Re(),a=c.fork(),s=m({bidderCode:e,auctionId:n,bidderRequestId:o,bids:xi({bidderCode:e,auctionId:n,bidderRequestId:o,adUnits:ft(h),labels:i,src:"client",metrics:a}),auctionStart:t,timeout:r,refererInfo:l,metrics:a}),u=Ci[e];u||ze("Trying to make a request for bidder that does not exist: ".concat(e)),u&&s.bids&&0!==s.bids.length&&f.push(s)})),f.forEach((function(e){ri.getConsentData()&&(e.gdprConsent=ri.getConsentData()),ii.getConsentData()&&(e.uspConsent=ii.getConsentData()),oi.getConsentData()&&(e.gppConsent=oi.getConsentData())})),f}),"makeBidRequests"),Ai.callBids=function(e,t,n,i,o,a,c){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(t.length){var u=r(t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===x)].push(t),e}),[[],[]]),2),d=u[0],l=u[1],f=[];l.forEach((function(e){for(var t=-1,n=0;n<f.length;++n)if(e.uniquePbsTid===f[n].uniquePbsTid){t=n;break}t<=-1&&f.push(e)}));var p=0;ji.forEach((function(e){if(e&&f[p]&&Ui(e).has(f[p].bidderCode)){var t=Mt(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),r=e.bidders,u=Ci[e.adapter],d=f[p].uniquePbsTid,g=f[p].adUnitsS2SCopy,v=l.filter((function(e){return e.uniquePbsTid===d}));if(u){var m={ad_units:g,s2sConfig:e,ortb2Fragments:s,requestBidsTimeout:a};if(m.ad_units.length){var h=v.map((function(e){return e.start=vt(),function(t){t||c(e.bidderRequestId),i.apply(e,arguments)}})),b=ut(m.ad_units).filter((function(e){return r.includes(e)}));qe("CALLING S2S HEADER BIDDERS ==== ".concat(b.length>0?b.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),v.forEach((function(e){$n(C.BID_REQUESTED,wi(wi({},e),{},{tid:e.auctionId}))})),u.callBids(m,l,n,(function(e){return h.forEach((function(t){return t(e)}))}),t)}}else ze("missing "+e.adapter);p++}})),d.forEach((function(e){e.start=vt();var t=Ci[e.bidderCode];K.runWithBidder(e.bidderCode,(function(){qe("CALLING BIDDER"),$n(C.BID_REQUESTED,e)}));var r=Mt(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),s=i.bind(e);try{K.runWithBidder(e.bidderCode,t.callBids.bind(t,e,n,s,r,(function(){return c(e.bidderRequestId)}),K.callbackWithBidder(e.bidderCode)))}catch(t){ze("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),s()}}))}else Me("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},Ai.videoAdapters=[],Ai.registerBidAdapter=function(e,t){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,i=void 0===r?[]:r;e&&t?"function"==typeof e.callBids?(Ci[t]=e,ci.register(tn,t,null===(n=e.getSpec)||void 0===n?void 0:n.call(e).gvlid),f(i,"video")&&Ai.videoAdapters.push(t),f(i,"native")&&Zo.push(t)):ze("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):ze("bidAdapter or bidderCode not specified")},Ai.aliasBidAdapter=function(e,t,n){if(void 0===Ci[t]){var r=Ci[e];if(void 0===r){var i=[];ji.forEach((function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&f(r,t)?Ri[t]=e:i.push(e)}})),i.forEach((function(e){ze('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var o,a=function(e){var t=[];return f(Ai.videoAdapters,e)&&t.push("video"),f(Zo,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)(o=new r.constructor).setBidderCode(t);else{var c=r.getSpec(),s=n&&n.gvlid;null!=c.gvlid&&null==s&&Me("Alias '".concat(t,"' will NOT re-use the GVL ID of the original adapter ('").concat(c.code,"', gvlid: ").concat(c.gvlid,"). Functionality that requires TCF consent may not work as expected."));var u=n&&n.skipPbsAliasing;o=vr(Object.assign({},c,{code:t,gvlid:s,skipPbsAliasing:u})),Ri[t]=e}Ai.registerBidAdapter(o,t,{supportedMediaTypes:a})}catch(t){ze(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else qe('alias name "'+t+'" has been already specified.')},Ai.resolveAlias=function(e){for(var t,n=e;Ri[n]&&(!t||!t.has(n));)n=Ri[n],(t=t||new Set).add(n);return n},Ai.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,r=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,Si[n]={adapter:t,gvlid:r},ci.register(nn,n,r)):ze('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):ze("Prebid Error: analyticsAdapter or analyticsCode not specified")},Ai.enableAnalytics=function(e){$e(e)||(e=[e]),e.forEach((function(e){var t=Si[e.provider];t&&t.adapter?Ei.isAllowed("reportAnalytics",ki(nn,e.provider,a({},"_config",e)))&&t.adapter.enableAnalytics(e):ze("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},Ai.getBidAdapter=function(e){return Ci[e]},Ai.getAnalyticsAdapter=function(e){return Si[e]},Ai.callTimedOutBidders=function(e,t,n){t=bt(t=t.map((function(t){return t.params=wt(e,t.adUnitCode,t.bidder),t.timeout=n,t})),"bidder"),Object.keys(t).forEach((function(e){Ni(e,"onTimeout",t[e])}))},Ai.callBidWonBidder=function(e,t,n){t.params=wt(n,t.adUnitCode,t.bidder),Ir(t.adUnitCode,"winsCounter",t.bidder),Ni(e,"onBidWon",t)},Ai.callBidBillableBidder=function(e){Ni(e.bidder,"onBidBillable",e)},Ai.callSetTargetingBidder=function(e,t){Ni(e,"onSetTargeting",t)},Ai.callBidViewableBidder=function(e,t){Ni(e,"onBidViewable",t)},Ai.callBidderError=function(e,t,n){Ni(e,"onBidderError",{error:t,bidderRequest:n})},Ai.callDataDeletionRequest=an("sync",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i="onDataDeletionRequest";Object.keys(Ci).filter((function(e){return!Ri.hasOwnProperty(e)})).forEach((function(e){var n=Pi(e,i);if(null!=n){var r=xo.getBidsRequested().filter((function(t){return function(e){for(var t=new Set;Ri.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=Ri[e];return e}(t.bidderCode)===e}));qi.apply(void 0,[e,i].concat(l(n),[r],t))}})),Object.entries(Si).forEach((function(e){var n,o=r(e,2),a=o[0],c=o[1],s=null==c||null===(n=c.adapter)||void 0===n?void 0:n[i];if("function"==typeof s)try{s.apply(c.adapter,t)}catch(e){ze("error calling ".concat(i," of ").concat(a),e)}}))}));const Mi=Ai;var zi="html5",Fi="cookie",Wi=[];function Li(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleName,n=e.moduleType,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isAllowed,i=void 0===r?Tn:r;function o(e,r){var o=t,c=K.getCurrentBidder();return c&&n===tn&&Mi.aliasRegistry[c]===t&&(o=c),e({valid:i(In,lr(n,o,a({},gn,r)))})}function c(e,t,n){if(!n||"function"!=typeof n)return o(e,t);Wi.push((function(){var r=o(e,t);n(r)}))}var s=function(e){return c((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){ze("Local storage api disabled")}return!1}),zi,e)};return{setCookie:function(e,t,n,r,i,o){return c((function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",c=n&&""!==n?" ;expires=".concat(n):"",s=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(c,"; path=/").concat(a).concat(r?"; SameSite=".concat(r):"").concat(s)}}),Fi,o)},getCookie:function(e,t){return c((function(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null}),Fi,t)},localStorageIsEnabled:function(e){return c((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}),zi,e)},cookiesAreEnabled:function(e){return c((function(e){return!(!e||!e.valid)&&ht()}),Fi,e)},setDataInLocalStorage:function(e,t,n){return c((function(n){n&&n.valid&&s()&&window.localStorage.setItem(e,t)}),zi,n)},getDataFromLocalStorage:function(e,t){return c((function(t){return t&&t.valid&&s()?window.localStorage.getItem(e):null}),zi,t)},removeDataFromLocalStorage:function(e,t){return c((function(t){t&&t.valid&&s()&&window.localStorage.removeItem(e)}),zi,t)},hasLocalStorage:s,findSimilarCookies:function(e,t){return c((function(t){if(t&&t.valid){var n=[];if(mt())for(var r=document.cookie.split(";");r.length;){var i=r.pop(),o=i.indexOf("=");o=o<0?i.length:o,decodeURIComponent(i.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(i.slice(o+1)))}return n}}),Fi,t)}}}({moduleName:e,moduleType:en})}On(In,"deviceAccess config",(function(){if(!mt())return{allow:!1}})),On(In,"bidderSettings.*.storageAllowed",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;if(e[ln]===tn){var n=t.get(e[pn],"storageAllowed");if(n&&!0!==n){var r=e[gn];n=Array.isArray(n)?n.some((function(e){return e===r})):n===r}else n=!!n;return n?void 0:{allow:n}}})),K.setDefaults({userSync:ft({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var Gi=Li("usersync"),Hi=function(e){var t={},n={image:[],iframe:[]},i=new Set,o={},c={image:!0,iframe:!1},s=e.config;function u(){if(s.syncEnabled&&e.browserSupportsCookies){try{c.iframe&&d(n.iframe,(function(e){var t=r(e,2),i=t[0],o=t[1];qe("Invoking iframe user sync for bidder: ".concat(i)),ot(o),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(n,i)})),c.image&&d(n.image,(function(e){var t=r(e,2),n=t[0],i=t[1];qe("Invoking image pixel user sync for bidder: ".concat(n)),it(i)}))}catch(e){return ze("Error firing user syncs",e)}n={image:[],iframe:[]}}}function d(e,t){lt(e).forEach(t)}return K.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Ye(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}s=Object.assign(s,e.userSync)})),e.regRule(En,"userSync config",(function(e){if(!s.syncEnabled)return{allow:!1,reason:"syncs are disabled"};if(e[ln]===tn){var n=e[vn],r=e[fn];if(!t.canBidderRegisterSync(n,r))return{allow:!1,reason:"".concat(n," syncs are not enabled for ").concat(r)}}})),t.registerSync=function(t,r,c){return i.has(r)?qe('already fired syncs for "'.concat(r,'", ignoring registerSync call')):s.syncEnabled&&$e(n[t])?r?0!==s.syncsPerBidder&&Number(o[r])>=s.syncsPerBidder?Me('Number of user syncs exceeded for "'.concat(r,'"')):void(e.isAllowed(En,lr(tn,r,a(a({},vn,t),"syncUrl",c)))&&(n[t].push([r,c]),o=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(o,r))):Me("Bidder is required for registering sync"):Me('User sync type "'.concat(t,'" not supported'))},t.bidderDone=i.add.bind(i),t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(u,Number(e));u()},t.triggerUserSyncs=function(){s.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!s.filterSettings||!function(e,t){var n=s.filterSettings;if(function(e,t){if(e.all&&e[t])return Me('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var i=n.filter,o=n.bidders;return i&&"include"!==i&&"exclude"!==i?(Me('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(i,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===o||Array.isArray(o)&&o.length>0&&o.every((function(e){return Xe(e)&&"*"!==e})))||(Me('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){c[e]=!0;var r=n.all?n.all:n[e],i="*"===r.bidders?[t]:r.bidders,o={include:function(e,t){return!f(e,t)},exclude:function(e,t){return f(e,t)}};return o[r.filter||"include"](i,t)}return!c[e]}(e,t)},t}(Object.defineProperties({config:K.getConfig("userSync"),isAllowed:Tn,regRule:On},{browserSupportsCookies:{get:function(){return!/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)&&Gi.cookiesAreEnabled()}}})),Vi="native",Ji="video",Ki="banner",Xi="adpod",$i=Hi.syncUsers,Qi="completed";Jn(C.BID_ADJUSTMENT,(function(e){!function(e){var t=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.index,a=void 0===o?xo.index:o,c=i.bs,s=void 0===c?Zt:c;n=n||a.getBidRequest(t);var u=null==t?void 0:t.adapterCode,d=(null==t?void 0:t.bidderCode)||(null===(r=n)||void 0===r?void 0:r.bidder),l=s.get(null==t?void 0:t.adapterCode,"adjustAlternateBids"),f=s.getOwn(d,"bidCpmAdjustment")||s.get(l?u:d,"bidCpmAdjustment");if(f&&"function"==typeof f)try{return f(e,Object.assign({},t),n)}catch(e){ze("Error during bid adjustment",e)}return e}(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));var Yi={},Zi={},eo=[],to=u();function no(e){var t=e.adUnits,n=e.adUnitCodes,r=e.callback,o=e.cbTimeout,a=e.labels,c=e.auctionId,s=e.ortb2Fragments,u=e.metrics;u=cr(u);var d,p,g,O,T=t,E=a,A=n,R=c||je(),j=o,S=new Set,k=ue(),B=[],_=r,U=[],D=[],q=[],N=[],M=[];function z(){return{auctionId:R,timestamp:d,auctionEnd:p,auctionStatus:O,adUnits:T,adUnitCodes:A,labels:E,bidderRequests:U,noBids:q,bidsReceived:D,bidsRejected:B,winningBids:N,timeout:j,metrics:u,seatNonBids:M}}function F(e){if(e?$n(C.AUCTION_TIMEOUT,z()):clearTimeout(g),void 0===p){var n=[];e&&(qe("Auction ".concat(R," timedOut")),(n=U.filter((function(e){return!S.has(e.bidderRequestId)})).flatMap((function(e){return e.bids}))).length&&$n(C.BID_TIMEOUT,n)),O=Qi,p=Date.now(),u.checkpoint("auctionEnd"),u.timeBetween("requestBids","auctionEnd","requestBids.total"),u.timeBetween("callBids","auctionEnd","requestBids.callBids"),k.resolve(),$n(C.AUCTION_END,z()),ao(T,(function(){try{if(null!=_){var r=D.filter((function(e){return A.includes(e.adUnitCode)})).reduce(Io,{});_.apply(to,[r,e,R]),_=null}}catch(e){ze("Error executing bidsBackHandler",null,e)}finally{n.length&&Mi.callTimedOutBidders(t,n,j);var i=K.getConfig("userSync")||{};i.enableOverride||$i(i.syncDelay)}}))}}function W(){K.resetBidder(),Ne("Bids Received for Auction with id: ".concat(R),D),O=Qi,F(!1)}function L(e){S.add(e)}function G(e){var t=this;e.forEach((function(e){var t;t=e,U=U.concat(t)}));var n={},r={bidRequests:e,run:function(){g=setTimeout((function(){return F(!0)}),j),O="inProgress",$n(C.AUCTION_INIT,z());var r=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?xo.index:n,o=0,a=!1,c=new Set,s={};function u(){o--,a&&0===o&&e()}function d(e,t,n){return s[t.requestId]=!0,function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?xo.index:n,i=r.getBidderRequest(e),o=r.getAdUnit(e),a=i&&i.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||vt(),requestTimestamp:e.requestTimestamp||a,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==o?void 0:o.ttlBuffer)&&(e.ttlBuffer=o.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}(t,e),o++,n(u)}function p(e,n){d(e,n,(function(e){var o=function(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,r=void 0===n?xo.index:n;$n(C.BID_ADJUSTMENT,e);var o=(null===(t=r.getBidRequest(e))||void 0===t?void 0:t.renderer)||r.getAdUnit(e).renderer,a=e.mediaType,c=r.getMediaTypes(e),s=c&&c[a],u=s&&s.renderer,d=null;u&&u.url&&u.render&&(!0!==u.backupOnly||!e.renderer)?d=u:o&&o.url&&o.render&&(!0!==o.backupOnly||!e.renderer)&&(d=o),d&&(e.renderer=Jt.install({url:d.url,config:d.options}),e.renderer.setRender(d.render));var l=go(e.mediaType,c,K.getConfig("mediaTypePriceGranularity")),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":w(e,v,n),med:""===r?"":w(e,m,n),high:""===r?"":w(e,h,n),auto:""===r?"":w(e,y,n),dense:""===r?"":w(e,b,n),custom:""===r?"":w(e,t,n)}}(e.cpm,"object"===i(l)?l:K.getConfig("customPriceBucket"),K.getConfig("currency.granularityMultiplier"));return e.pbLg=f.low,e.pbMg=f.med,e.pbHg=f.high,e.pbAg=f.auto,e.pbDg=f.dense,e.pbCg=f.custom,e}(n);$n(C.BID_ACCEPTED,o),o.mediaType===Ji?function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).index,i=!0,o=I((void 0===r?xo.index:r).getMediaTypes({requestId:t.originalRequestId||t.requestId,adUnitId:t.adUnitId}),"video"),a=o&&I(o,"context"),c=o&&I(o,"useCacheKey");K.getConfig("cache.url")&&(c||a!==Un)&&(!t.videoCacheKey||K.getConfig("cache.ignoreBidderCacheKey")?(i=!1,po(e,t,n,o)):t.vastUrl||(ze("videoCacheKey specified but not required vastUrl for video bid"),i=!1)),i&&(co(e,t),n())}(t,o,e):(function(e){return e.native&&"object"===i(e.native)}(o)&&function(e,t){var n,r=null==t?void 0:t.nativeOrtbRequest,i=null===(n=e.native)||void 0===n?void 0:n.ortb;if(r&&i){var o=function(e,t){var n={},r=(null==t?void 0:t.assets)||[];n.clickUrl=e.link.url,n.privacyLink=e.privacy;var i,o=Xo((null==e?void 0:e.assets)||[]);try{var a=function(){var e=i.value,t=r.find((function(t){return e.id===t.id}));e.title?n.title=e.title.text:e.img?n[t.img.type===P.MAIN?"image":"icon"]={url:e.img.url,width:e.img.w,height:e.img.h}:e.data&&(n[na[ra[t.data.type]]]=e.data.value)};for(o.s();!(i=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}n.impressionTrackers=[];var c,s=[];e.imptrackers&&(c=n.impressionTrackers).push.apply(c,l(e.imptrackers));var u,d=Xo((null==e?void 0:e.eventtrackers)||[]);try{for(d.s();!(u=d.n()).done;){var f=u.value;f.event===oa.impression&&f.method===ia.img&&n.impressionTrackers.push(f.url),f.event===oa.impression&&f.method===ia.js&&s.push(f.url)}}catch(e){d.e(e)}finally{d.f()}return s=s.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),null!=e&&e.jstracker&&s.push(e.jstracker),s.length&&(n.javascriptTrackers=s.join("\n")),n}(i,r);Object.assign(e.native,o)}["rendererUrl","adTemplate"].forEach((function(n){var r,i=null==t||null===(r=t.nativeParams)||void 0===r?void 0:r[n];i&&(e.native[n]=fa(i))}))}(o,r.getAdUnit(o)),co(t,o),e())}))}function g(e,n,r){return d(e,n,(function(e){n.rejectionReason=r,Me("Bid from ".concat(n.bidder||"unknown bidder"," was rejected: ").concat(r),n),$n(C.BID_REJECTED,n),t.addBidRejected(n),e()}))}function O(){var n=t.getBidRequests(),r=K.getConfig("auctionOptions");if(c.add(this),r&&!et(r)){var i=r.secondaryBidders;i&&!n.every((function(e){return f(i,e.bidderCode)}))&&(n=n.filter((function(e){return!f(i,e.bidderCode)})))}a=n.every((function(e){return c.has(e)})),this.bids.forEach((function(e){s[e.bidId]||(t.addNoBid(e),$n(C.NO_BID,e))})),a&&0===o&&e()}return{addBidResponse:function(){function e(e,t){var n;ro.call({dispatch:p},e,t,(n=!1,function(r){n||(g(e,t,r),n=!0)}))}return e.reject=g,e}(),adapterDone:function(){var e=this;io(ce.resolve()).finally((function(){return O.call(e)}))}}}(W,t);Mi.callBids(T,e,r.addBidResponse,r.adapterDone,{request:function(e,t){a(Yi,t),a(n,e),Zi[e]||(Zi[e]={SRA:!0,origin:t}),n[e]>1&&(Zi[e].SRA=!1)},done:function(e){Yi[e]--,eo[0]&&o(eo[0])&&eo.shift()}},j,L,s)}};function o(e){var t=!0,n=K.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===x?"s2s":e.bidderCode;return Zi[i]&&(!1===Zi[i].SRA&&(r=Math.min(e.bids.length,n)),Yi[Zi[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function a(e,t){void 0===e[t]?e[t]=1:e[t]++}o(r)||(Me("queueing auction due to limited endpoint capacity"),eo.push(r))}return Jn(C.SEAT_NON_BID,(function(e){var t;e.auctionId===R&&(t=e.seatnonbid,M=M.concat(t))})),{addBidReceived:function(e){D=D.concat(e)},addBidRejected:function(e){B=B.concat(e)},addNoBid:function(e){q=q.concat(e)},callBids:function(){O="started",d=Date.now();var e=u.measureTime("requestBids.makeRequests",(function(){return Mi.makeBidRequests(T,d,R,j,E,s,u)}));Ne("Bids Requested for Auction with id: ".concat(R),e),u.checkpoint("callBids"),e.length<1?(Me("No valid bid requests returned for auction"),W()):oo.call({dispatch:G,context:this},e)},addWinningBid:function(e){var n,r,i,o=t.find((function(t){return t.adUnitId===e.adUnitId}));N=N.concat(e),r=(n=e).source,i=n.burl,r===x&&i&&Ae.triggerPixel(i),Mi.callBidWonBidder(e.adapterCode||e.bidder,e,t),o&&!o.deferBilling&&Mi.callBidBillableBidder(e)},setBidTargeting:function(e){Mi.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:function(){return N},getAuctionStart:function(){return d},getAuctionEnd:function(){return p},getTimeout:function(){return j},getAuctionId:function(){return R},getAuctionStatus:function(){return O},getAdUnits:function(){return T},getAdUnitCodes:function(){return A},getBidRequests:function(){return U},getBidsReceived:function(){return D},getNoBids:function(){return q},getNonBids:function(){return M},getFPD:function(){return s},getMetrics:function(){return u},end:k.promise}}var ro=an("sync",(function(e,t,n){!function(e){var t=K.getConfig("maxBid");return!t||!e.cpm||t>=Number(e.cpm)}(t)?n(_.PRICE_TOO_HIGH):this.dispatch.call(null,e,t)}),"addBidResponse"),io=an("sync",(function(e){return e}),"responsesReady"),oo=an("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),ao=an("async",(function(e,t){t&&t()}),"bidsBackCallback");function co(e,t){var n,r,i;n=t,i=!0===Zt.get(n.bidderCode,"allowZeroCpmBids")?n.cpm>=0:n.cpm>0,n.bidderCode&&(i||n.dealId)&&(r=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?xo.index:n;if(!t)return{};var i=r.getBidRequest(t),o={};return To(o,Oo(t.mediaType,e),t,i),e&&Zt.getOwn(e,E.ADSERVER_TARGETING)&&(To(o,Zt.ownSettingsFor(e),t,i),t.sendStandardTargeting=Zt.get(e,"sendStandardTargeting")),t.native&&(o=Object.assign({},o,function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?xo.index:t,r={},i=n.getAdUnit(e),o=!1!==I(i,"nativeParams.sendTargetingKeys"),a=function(e){var t={};return I(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),Yo(Yo({},k),t)}(i),c=Yo(Yo({},e.native),e.native.ext);return delete c.ext,Object.keys(c).forEach((function(t){var n=a[t],c=fa(e.native[t])||fa(I(e,"native.ext.".concat(t)));if("adTemplate"!==t&&n&&c){var s=I(i,"nativeParams.".concat(t,".sendId"));"boolean"!=typeof s&&(s=I(i,"nativeParams.ext.".concat(t,".sendId"))),s&&(c="".concat(n,":").concat(e.adId));var u=I(i,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=I(i,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:o)&&(r[n]=c)}})),r}(t))),o}(n.bidderCode,n)),n.adserverTargeting=Object.assign(n.adserverTargeting||{},r),cr(t.metrics).timeSince("addBidResponse","addBidResponse.total"),e.addBidReceived(t),$n(C.BID_RESPONSE,t)}var so,uo,lo=function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mt,r={puts:e.map(Ft)};n(K.getConfig("cache.timeout"))(K.getConfig("cache.url"),function(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})}(e.map((function(e){return e.bidResponse})),(function(t,n){n.forEach((function(n,r){var i,o=e[r],a=o.auctionInstance,c=o.bidResponse,s=o.afterBidAdded;t?Me("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")):""===n.uuid?Me("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."):(c.videoCacheKey=n.uuid,c.vastUrl||(c.vastUrl=(i=c.videoCacheKey,"".concat(K.getConfig("cache.url"),"?uuid=").concat(i))),co(a,c),s())}))}))};K.getConfig("cache",(function(e){so="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,uo="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));var fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lo,n=[[]],r=!1,i=function(e){return e()};return function(o,a,c){var s=uo>0?e:i;n[n.length-1].length>=so&&n.push([]),n[n.length-1].push({auctionInstance:o,bidResponse:a,afterBidAdded:c}),r||(r=!0,s((function(){n.forEach(t),n=[[]],r=!1}),uo))}}(),po=an("async",(function(e,t,n,r){fo(e,t,n)}),"callPrebidCache");function go(e,t,n){if(e&&n){if(e===Ji){var r=I(t,"".concat(Ji,".context"),"instream");if(n["".concat(Ji,"-").concat(r)])return n["".concat(Ji,"-").concat(r)]}return n[e]}}var vo=function(e){return function(t){var n=e||function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?xo.index:t,r=go(e.mediaType,n.getMediaTypes(e),K.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":K.getConfig("priceGranularity")}(t);return"auto"===n?t.pbAg:"dense"===n?t.pbDg:"low"===n?t.pbLg:"medium"===n?t.pbMg:"high"===n?t.pbHg:"custom"===n?t.pbCg:void 0}},mo=function(){return function(e){return e.creativeId?e.creativeId:""}},ho=function(){return function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:""}},bo=function(){return function(e){return e.meta&&(e.meta.networkId||e.meta.networkName)?I(e,"meta.networkName")||I(e,"meta.networkId"):""}},yo=function(){return function(e){return e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""}};function wo(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return function(e,t){return e[t]}(e,t)}}}function Oo(e,t){var n=Object.assign({},Zt.settingsFor(null));if(n[E.ADSERVER_TARGETING]||(n[E.ADSERVER_TARGETING]=[wo(j.BIDDER,"bidderCode"),wo(j.AD_ID,"adId"),wo(j.PRICE_BUCKET,vo()),wo(j.SIZE,"size"),wo(j.DEAL,"dealId"),wo(j.SOURCE,"source"),wo(j.FORMAT,"mediaType"),wo(j.ADOMAIN,ho()),wo(j.ACAT,yo()),wo(j.DSP,bo()),wo(j.CRID,mo())]),"video"===e){var r=n[E.ADSERVER_TARGETING].slice();if(n[E.ADSERVER_TARGETING]=r,[j.UUID,j.CACHE_ID].forEach((function(e){void 0===p(r,(function(t){return t.key===e}))&&r.push(wo(e,"videoCacheKey"))})),K.getConfig("cache.url")&&(!t||!1!==Zt.get(t,"sendStandardTargeting"))){var i=Ct(K.getConfig("cache.url"));void 0===p(r,(function(e){return e.key===j.CACHE_HOST}))&&r.push(wo(j.CACHE_HOST,(function(e){return I(e,"adserverTargeting.".concat(j.CACHE_HOST))?e.adserverTargeting[j.CACHE_HOST]:i.hostname})))}}return n}function To(e,t,n,r){var i=t[E.ADSERVER_TARGETING];return n.size=n.getSize(),(i||[]).forEach((function(i){var o=i.key,a=i.val;if(e[o]&&Me("The key: "+o+" is being overwritten"),Ke(a))try{a=a(n,r)}catch(e){ze("bidmanager","ERROR",e)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==j.DEAL&&o!==j.ACAT&&o!==j.DSP&&o!==j.CRID||!tt(a)&&null!=a?e[o]=a:Ne("suppressing empty key '"+o+"' from adserver targeting")})),e}function Io(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function Eo(e){Object.assign(this,{getAuction:function(t){var n=t.auctionId;if(null!=n)return e().find((function(e){return e.getAuctionId()===n}))},getAdUnit:function(t){var n=t.adUnitId;if(null!=n)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.adUnitId===n}))},getMediaTypes:function(e){var t=e.adUnitId,n=e.requestId;if(null!=n){var r=this.getBidRequest({requestId:n});if(null!=r&&(null==t||r.adUnitId===t))return r.mediaTypes}else if(null!=t){var i=this.getAdUnit({adUnitId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var n=t.requestId,r=t.bidderRequestId;if(null!=n||null!=r){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=r&&(i=i.filter((function(e){return e.bidderRequestId===r}))),null==n?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===n}))}))}},getBidRequest:function(t){var n=t.requestId;if(null!=n)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===n}))}})}var Ao=1,Co=[];function Ro(e){return e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:Ao)}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}K.getConfig("ttlBuffer",(function(e){"number"==typeof e.ttlBuffer?Ao!==(Ao=e.ttlBuffer)&&Co.forEach((function(e){return e(Ao)})):ze("Invalid value for ttlBuffer",e.ttlBuffer)}));var So,ko="minBidCacheTTL",xo=function(){var e,t=null,n=qn({startTime:function(e){return e.end.then((function(){return e.getAuctionEnd()}))},ttl:function(e){return null==t?null:e.end.then((function(){return 1e3*Math.max.apply(Math,[t].concat(l(e.getBidsReceived().map(Ro))))}))}});e=function(){null!=t&&n.refresh()},Co.push(e),K.getConfig(ko,(function(e){t!==(t="number"==typeof(t=null==e?void 0:e[ko])?t:null)&&n.refresh()}));var i={onExpiry:n.onExpiry};function o(e){var t,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return jo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.getAuctionId()===e)return i}}catch(e){r.e(e)}finally{r.f()}}function a(){return n.toArray().flatMap((function(e){return e.getBidsReceived()}))}return i.addWinningBid=function(e){var t=cr(e.metrics);t.checkpoint("bidWon"),t.timeBetween("auctionEnd","bidWon","render.pending"),t.timeBetween("requestBids","bidWon","render.e2e");var n=o(e.auctionId);n?(e.status=B.RENDERED,n.addWinningBid(e)):Me("Auction not found when adding winning bid")},Object.entries({getAllWinningBids:{name:"getWinningBids"},getBidsRequested:{name:"getBidRequests"},getNoBids:{},getAdUnits:{},getBidsReceived:{pre:function(e){return e.getAuctionStatus()===Qi}},getAdUnitCodes:{post:ct}}).forEach((function(e){var t=r(e,2),o=t[0],a=t[1],c=a.name,s=void 0===c?o:c,u=a.pre,d=a.post,l=null==u?function(e){return e[s]()}:function(e){return u(e)?e[s]():[]},f=null==d?function(e){return e}:function(e){return e.filter(d)};i[o]=function(){return f(n.toArray().flatMap(l))}})),i.getAllBidsForAdUnitCode=function(e){return a().filter((function(t){return t&&t.adUnitCode===e}))},i.createAuction=function(e){var t=no(e);return function(e){n.add(e)}(t),t},i.findBidByAdId=function(e){return a().find((function(t){return t.adId===e}))},i.getStandardBidderAdServerTargeting=function(){return Oo()[E.ADSERVER_TARGETING]},i.setStatusForBids=function(e,t){var n=i.findBidByAdId(e);if(n&&(n.status=t),n&&t===B.BID_TARGETING_SET){var r=o(n.auctionId);r&&r.setBidTargeting(n)}},i.getLastAuctionId=function(){var e=n.toArray();return e.length&&e[e.length-1].getAuctionId()},i.clearAllAuctions=function(){n.clear()},i.index=new Eo((function(){return n.toArray()})),i}(),Bo=an("sync",(function(e){return'!function(){"use strict";window.render=function({ad:d,adUrl:i,width:n,height:e},{mkFrame:o},r){if(!d&&!i)throw{reason:"noAd",message:"Missing ad markup or URL"};{const t=r.document,s={width:n,height:e};i&&!d?s.src=i:s.srcdoc=d,t.body.appendChild(o(t,s))}}}();'})),_o=(So={},function(e){var t=Bo(e);return So.hasOwnProperty(t)||(So[t]=new ce((function(e){var n=Ve();n.srcdoc="<script>".concat(t,"<\/script>"),n.onload=function(){return e(n.contentWindow.render)},document.body.appendChild(n)}))),So[t]}),Uo=C.AD_RENDER_FAILED,Do=C.AD_RENDER_SUCCEEDED,Po=C.STALE_RENDER,qo=C.BID_WON,No=R.EXCEPTION,Mo=an("sync",(function(e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ce.resolve()).then((function(t){return null!=t?t:xo.findBidByAdId(e)})).catch((function(){}))})),zo=an("sync",(function(e){$n(qo,e),xo.addWinningBid(e)}));function Fo(e){var t=e.reason,n=e.message,r=e.bid,i=e.id,o={reason:t,message:n};r&&(o.bid=r,o.adId=r.adId),i&&(o.adId=i),ze("Error rendering ad (id: ".concat(i,"): ").concat(n)),$n(Uo,o)}function Wo(e){var t=e.doc,n=e.bid,r=e.id,i={doc:t};n&&(i.bid=n),r&&(i.adId=r),$n(Do,i)}function Lo(e,t){switch(e.event){case C.AD_RENDER_FAILED:Fo({bid:t,id:t.adId,reason:e.info.reason,message:e.info.message});break;case C.AD_RENDER_SUCCEEDED:Wo({doc:null,bid:t,id:t.adId});break;default:ze("Received event request for unsupported event: '".concat(e.event,"' (adId: '").concat(t.adId,"')"))}}function Go(e,t,n){var r=n.resizeFn,i=n.fireTrackers,o=void 0===i?sa:i;"resizeNativeHeight"===e.action?r(e.width,e.height):o(e,t)}var Ho=a({},F,Lo);Ho[z]=Go;var Vo=an("sync",(function(e,t){var n=e.ad,r=e.adUrl,i=e.cpm,o=e.originalCpm,a=e.width,c=e.height,s={AUCTION_PRICE:o||i,CLICKTHROUGH:(null==t?void 0:t.clickUrl)||""};return{ad:gt(n,s),adUrl:gt(r,s),width:a,height:c}})),Jo=an("sync",(function(e){var t=e.renderFn,n=e.resizeFn,r=e.bidResponse,i=e.options;if(r.mediaType!==Ji){var o=Vo(r,i);t(Object.assign({adId:r.adId},o));var a=o.width,c=o.height;null!=(null!=a?a:c)&&n(a,c)}else Fo({reason:R.PREVENT_WRITING_ON_MAIN_DOCUMENT,message:"Cannot render video ad",bid:r,id:r.adId})}));function Ko(e){var t=e.renderFn,n=e.resizeFn,r=e.adId,i=e.options,o=e.bidResponse,a=e.doc;if(null!=o){if(o.status!==B.RENDERED||(Me("Ad id ".concat(r," has been rendered before")),$n(Po,o),!I(K.getConfig("auctionOptions"),"suppressStaleRender"))){try{Jo({renderFn:t,resizeFn:n,bidResponse:o,options:i,doc:a})}catch(e){Fo({reason:R.EXCEPTION,message:e.message,id:r,bid:o})}zo(o)}}else Fo({reason:R.CANNOT_FIND_AD,message:"Cannot find ad '".concat(r,"'"),id:r})}function Xo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qo(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Jo.before((function(e,t){var n,r=t.bidResponse,i=t.doc;(n=r.renderer)&&(n.url||n.renderNow)?(function(e,t,n){var r=null;e.config&&e.config.documentResolver&&(r=e.config.documentResolver(t,document,n)),r||(r=document),e.documentContext=r,e.render(t,e.documentContext)}(r.renderer,r,i),Wo({doc:i,bid:r,id:r.adId}),e.bail()):e(t)}),100);var Zo=[],ea=Object.keys(k).map((function(e){return k[e]})),ta={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},na=ma(U),ra=ma(D),ia={img:1,js:2,1:"img",2:"js"},oa={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4};function aa(e){if(e&&e.type&&(!(!(t=e.type)||!f(Object.keys(ta),t))||(ze("".concat(t," nativeParam is not supported")),!1))&&(e=ta[e.type]),!e||!e.ortb||ca(e.ortb))return e;var t}function ca(e){var t=e.assets;if(!Array.isArray(t)||0===t.length)return ze("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;var n=t.map((function(e){return e.id}));return t.length!==new Set(n).size||n.some((function(e){return e!==parseInt(e,10)}))?(ze("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?(ze("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((function(e){return function(e){if(!Ye(e))return ze("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!Qe(e.img.w)&&!Qe(e.img.wmin))return ze("for img asset there must be 'w' or 'wmin' property"),!1;if(!Qe(e.img.h)&&!Qe(e.img.hmin))return ze("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!Qe(e.title.len))return ze("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!Qe(e.data.type))return ze("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&Qe(e.video.minduration)&&Qe(e.video.maxduration)))return ze("video asset is not properly configured"),!1;return!0}(e)}))}function sa(e,t){var n=t.native.ortb||ga(t.native);return"click"===e.action?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fetchURL,r=void 0===n?it:n;if(t){var i,o=(e.assets||[]).filter((function(e){return e.link})).reduce((function(e,t){return e[t.id]=t.link,e}),{}),a=(null===(i=e.link)||void 0===i?void 0:i.clicktrackers)||[],c=o[t],s=a;c&&(s=c.clicktrackers||[]),s.forEach((function(e){return r(e)}))}else{var u;((null===(u=e.link)||void 0===u?void 0:u.clicktrackers)||[]).forEach((function(e){return r(e)}))}}(n,null==e?void 0:e.assetId):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.runMarkup,r=void 0===n?function(e){return function(e){if(e){var t,n=Ve();Ae.insertElement(n,document,"body"),(t=n.contentWindow.document).open(),t.write(e),t.close()}}(e)}:n,i=t.fetchURL,o=void 0===i?it:i,a=(e.eventtrackers||[]).filter((function(e){return e.event===oa.impression})).reduce((function(e,t){return ia.hasOwnProperty(t.method)&&e[ia[t.method]].push(t.url),e}),{img:[],js:[]}),c=a.img,s=a.js;e.imptrackers&&(c=c.concat(e.imptrackers)),c.forEach((function(e){return o(e)})),s=s.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),e.jstracker&&(s=s.concat([e.jstracker])),s.length&&r(s.join("\n"))}(n),e.action}function ua(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];return Object.entries(e).filter((function(e){var i=r(e,2),o=i[0];return i[1]&&(!1===n&&"ext"===o||null==t||t.includes(o))})).forEach((function(e){var o=r(e,2),a=o[0],c=o[1];!1===n&&"ext"===a?i.push.apply(i,l(ua(c,t,!0))):(n||k.hasOwnProperty(a))&&i.push({key:a,value:fa(c)})})),i}function da(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).index,i=void 0===r?xo.index:r,o={message:"assetResponse",adId:e.adId},a=Vo(t).native;return a?(o.native=Object.assign({},a),o.renderer=Bo(t),null!=n&&(a.assets=a.assets.filter((function(e){var t=e.key;return n.includes(t)})))):a=function(e,t,n){var r,i=Yo(Yo({},yt(e.native,["rendererUrl","adTemplate"])),{},{assets:ua(e.native,n),nativeKeys:k});return e.native.ortb?i.ortb=e.native.ortb:null!==(r=t.mediaTypes)&&void 0!==r&&null!==(r=r.native)&&void 0!==r&&r.ortb&&(i.ortb=va(e.native,t.nativeOrtbRequest)),i}(t,i.getAdUnit(t),n),Object.assign(o,a)}var la=Object.fromEntries(Object.entries(k).map((function(e){var t=r(e,2),n=t[0];return[t[1],n]})));function fa(e){return(null==e?void 0:e.url)||e}function pa(e){if(ca(e)){var t,n={},r=Xo(e.assets);try{var i=function(){var r=t.value;if(r.title){var i={required:!!r.required&&Boolean(r.required),len:r.title.len};n.title=i}else if(r.img){var o={required:!!r.required&&Boolean(r.required)};if(r.img.w&&r.img.h)o.sizes=[r.img.w,r.img.h];else if(r.img.wmin&&r.img.hmin){var a=function(e,t){for(;e&&t&&e!==t;)e>t?e-=t:t-=e;return e||t}(r.img.wmin,r.img.hmin);o.aspect_ratios=[{min_width:r.img.wmin,min_height:r.img.hmin,ratio_width:r.img.wmin/a,ratio_height:r.img.hmin/a}]}r.img.type===P.MAIN?n.image=o:n.icon=o}else if(r.data){var c=Object.keys(D).find((function(e){return D[e]===r.data.type})),s=Object.keys(U).find((function(e){return U[e]===c}));n[s]={required:!!r.required&&Boolean(r.required)},r.data.len&&(n[s].len=r.data.len)}e.privacy&&(n.privacyLink={required:!1})};for(r.s();!(t=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}return n}}function ga(e){var t={link:{},eventtrackers:[]};return Object.entries(e).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];switch(i){case"clickUrl":t.link.url=o;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(o)?o:[o];break;case"impressionTrackers":(Array.isArray(o)?o:[o]).forEach((function(e){t.eventtrackers.push({event:oa.impression,method:ia.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(o)?o.join(""):o;break;case"privacyLink":t.privacy=o}})),t}function va(e,t){var n=Yo(Yo({},ga(e)),{},{assets:[]});function r(e,r){var i=t.assets.find(e);null!=i&&(r(i=ft(i)),n.assets.push(i))}return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(t){var n=fa(e[t]);switch(t){case"title":r((function(e){return null!=e.title}),(function(e){e.title={text:n}}));break;case"image":case"icon":var i="image"===t?P.MAIN:P.ICON;r((function(e){return null!=e.img&&e.img.type===i}),(function(e){e.img={url:n}}));break;default:t in U&&r((function(e){return null!=e.data&&e.data.type===D[U[t]]}),(function(e){e.data={value:n}}))}})),n}function ma(e){var t={};for(var n in e)t[e[n]]=n;return t}function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ya=M,wa=z,Oa=F,Ta=a(a({},N,(function(e,t,n){Ko({renderFn:function(t){e(Object.assign({message:ya,renderer:Bo(n)},t))},resizeFn:Ia(t.adId,n),options:t.options,adId:t.adId,bidResponse:n})})),Oa,(function(e,t,n){if(null!=n){if(n.status===B.RENDERED)return Lo(t,n);Me("Received x-origin event request without corresponding render request for ad '".concat(n.adId,"'"))}else ze("Cannot find ad '".concat(t.adId,"' for x-origin event request"))}));function Ia(e,t){return function(n,r){!function(e){var t=e.adId,n=e.adUnitCode,r=e.width,i=e.height;function o(e){return e?e+"px":"100%"}function a(e){var r=function(e,t){return dt()?function(e){var t=p(window.googletag.pubads().getSlots(),(function(t){return p(t.getTargetingKeys(),(function(n){return f(t.getTargeting(n),e)}))}));return t?t.getSlotElementId():null}(e):function(){if(window.apntag&&Ke(window.apntag.getTag))return!0}()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),i=document.getElementById(r);return i&&i.querySelector(e)}["div","iframe"].forEach((function(e){var t=a(e+':not([style*="display: none"])');if(t){var c=t.style;c.width=o(r),c.height=o(i)}else Me("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))}))}(ba(ba({},t),{},{width:n,height:r,adId:e}))}}function Ea(e,t){return e===t?0:e<t?-1:1}function Aa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t,n){return Ea(e(t),e(n))}}function Ca(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea;return function(t,n){return-e(t,n)||0}}function Ra(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r=0,i=t;r<i.length;r++){var o=(0,i[r])(e,n);if(0!==o)return o}return 0}}function ja(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea;return function(t,n){return e(n,t)<0?n:t}}(Ca(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea))}Object.assign(Ta,a({},wa,(function(e,t,n){if(null!=n)switch(n.status!==B.RENDERED&&zo(n),t.action){case"assetRequest":e(function(e,t){var n=e.assets.map((function(e){return la[e]}));return da(e,t,n)}(t,n));break;case"allAssetRequest":e(function(e,t){return da(e,t,null)}(t,n));break;default:Go(t,n,{resizeFn:Ia(n)})}else ze("Cannot find ad for x-origin event request: '".concat(t.adId,"'"))})));var Sa=Aa((function(e){return e.cpm})),ka=Aa((function(e){return e.responseTimestamp})),xa=ja(Ra(Sa,Ca(Aa((function(e){return e.timeToRespond}))))),Ba=ja(Ra(Sa,Ca(ka))),_a=(ja(Ra(Sa,ka)),[]),Ua="targetingControls.allowTargetingKeys",Da="targetingControls.addTargetingKeys",Pa='Only one of "'.concat(Ua,'" or "').concat(Da,'" can be set'),qa=Object.keys(j).map((function(e){return j[e]})),Na={isActualBid:function(e){return e.getStatusCode()===A.GOOD},isBidNotExpired:function(e){return e.responseTimestamp+1e3*Ro(e)>vt()},isUnusedBid:function(e){return e&&(e.status&&!f([B.RENDERED],e.status)||!e.status)}};function Ma(e){return!Object.values(Na).some((function(t){return!t(e)}))}var za=an("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){var r=[],i=K.getConfig("sendBidsControl.dealPrioritization"),o=bt(e,"adUnitCode");return Object.keys(o).forEach((function(e){var a=[],c=bt(o[e],"bidderCode");Object.keys(c).forEach((function(e){return a.push(c[e].reduce(t))})),n>0?(a=i?a.sort(Fa(!0)):a.sort((function(e,t){return t.cpm-e.cpm})),r.push.apply(r,l(a.slice(0,n)))):r.push.apply(r,l(a))})),r}return e}));function Fa(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var Wa=function(e){var t={},n={};function r(e,t){return e.adserverTargeting&&t&&($e(t)&&f(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function i(t){return"string"==typeof t?[t]:$e(t)?t:e.getAdUnitCodes()||[]}function o(){var t=e.getBidsReceived();if(K.getConfig("useBidCache")){var r=K.getConfig("bidCacheFilterFunction");"function"==typeof r&&(t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId||!!r(e)})))}else t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId}));return(t=t.filter((function(e){return I(e,"video.context")!==Xi})).filter(Ma)).forEach((function(e){return e.latestTargetedAuctionId=n[e.adUnitCode],e})),za(t,Ba)}function c(e,n){var r=t.getWinningBids(e,n),i=s();return r=r.map((function(e){return a({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=a({},n.substring(0,20),r);if(n===j.DEAL){var o=a({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(l(t),[i,o])}return[].concat(l(t),[i])}),[]))})),r}function s(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(qa).filter(ct)}function u(e,t,n,r){return Object.keys(t.adserverTargeting).filter(d()).forEach((function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){$e(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(ct),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function d(){var e=s();return e=e.concat(ea),function(t){return-1===e.indexOf(t)}}function g(e){return a({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(d()).map((function(t){return a({},t.substring(0,20),[e.adserverTargeting[t]])})))}function v(e,t){return t.map((function(t){return a({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t,n){if(dt()){var r=i(t),o=e.getAdUnits().filter((function(e){return f(r,e.code)})),a=_a.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=Ke(n)&&n(e);o.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||Ke(t)&&t(n.code))&&e.updateTargetingFromMap(a)}))}))}},t.resetPresetTargetingAST=function(e){i(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){f(_a,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},t.getAllTargeting=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o(),s=i(t),d=c(s,n).concat(function(e,t){return t.filter((function(t){return f(e,t.adUnitCode)})).map((function(e){return Object.assign({},e)})).reduce(u,[]).map(g).filter((function(e){return e}))}(s,n)).concat(K.getConfig("enableSendAllBids")?function(e,t){var n=qa.concat(ea),i=K.getConfig("sendBidsControl.bidLimit"),o=za(t,xa,i),c=K.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),s=c?c.map((function(e){return j[e]})):n;return o.map((function(t){if(r(t,e))return a({},t.adUnitCode,v(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==s.indexOf(e)}))))})).filter((function(e){return e}))}(s,n):function(e,t){if(!0===K.getConfig("targetingControls.alwaysIncludeDeals")){var n=qa.concat(ea);return za(t,xa).map((function(t){if(t.dealId&&r(t,e))return a({},t.adUnitCode,v(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}(s,n)).concat(function(t){function n(e){return I(e,E.ADSERVER_TARGETING)}return e.getAdUnits().filter((function(e){return f(t,e.code)&&n(e)})).map((function(e){return a({},e.code,function(e){var t=n(e);return Object.keys(t).map((function(e){return Xe(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),$e(t[e])||(t[e]=[t[e]]),a({},e,t[e])}))}(e))}))}(s));d.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===_a.indexOf(Object.keys(e)[0])&&(_a=Object.keys(e).concat(_a))}))}))}));var l=Object.keys(Object.assign({},S,k)),m=K.getConfig(Ua),h=K.getConfig(Da);if(null!=h&&null!=m)throw new Error(Pa);m=null!=h?l.concat(h):m||l,Array.isArray(m)&&m.length>0&&(d=function(e,t){var n=Object.assign({},j,k),r=Object.keys(n),i={};Ne("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return n[e]})).join(", ")," ]")),e.map((function(e){var o=Object.keys(e)[0],a=e[o].filter((function(e){var o=Object.keys(e)[0],a=0===r.filter((function(e){return 0===o.indexOf(n[e])})).length||p(t,(function(e){var t=n[e];return 0===o.indexOf(t)}));return i[o]=!a,a}));e[o]=a}));var o=Object.keys(i).filter((function(e){return i[e]}));return Ne("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}(d,m)),d=function(e){var t=e.map((function(e){return a({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return a({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return Object.assign(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=Object.assign({},e[n],t[n]),e}),{});return t}(d);var b=K.getConfig("targetingControls.auctionKeyMaxChars");return b&&(Ne("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(b," characters.  Running checks on auction keys...")),d=function(e,t){var n=ft(e),r=Object.keys(n).map((function(e){return{adUnitCode:e,adserverTargeting:n[e]}})).sort(Fa());return r.reduce((function(e,r,i,o){var a,c=(a=r.adserverTargeting,Object.keys(a).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(a[t]),"%26")}),""));i+1===o.length&&(c=c.slice(0,-3));var s=r.adUnitCode,u=c.length;return u<=t?(t-=u,Ne("AdUnit '".concat(s,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(t),n[s]),e[s]=n[s]):Me("The following keys for adUnitCode '".concat(s,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(t,".\n"),n[s]),i+1===o.length&&0===Object.keys(e).length&&ze("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}(d,b)),s.forEach((function(e){d[e]||(d[e]={})})),d},K.getConfig("targetingControls",(function(e){null!=I(e,Ua)&&null!=I(e,Da)&&ze(Pa)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(t?t(n):function(e){return function(t){return Ot(e,t)}}(n)).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[t][n]=r})),qe("Attempting to set targeting-map for slot: ".concat(n.getSlotElementId()," with targeting-map:"),e[t]),n.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o(),n=i(e);return t.filter((function(e){return f(n,e.adUnitCode)})).filter((function(e){return!0===Zt.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(ct).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(xa)}))},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){ze("unable to reset targeting for AST"+e)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(t){if(qe("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),Xe(n[e][t])||$e(n[e][t])){var r={};t.search(/pt[0-9]/)<0?r[t.toUpperCase()]=n[e][t]:r[t]=n[e][t],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&Ke(window.apntag.setKeywords))return!0},t}(xo),La="__pbjs_debugging__";function Ga(){return u().installedModules.includes("debugging")}function Ha(e){return new ce((function(t){Gt(e,"debugging",t)}))}function Va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alreadyInstalled,n=void 0===t?Ga:t,r=e.script,i=void 0===r?Ha:r,o=null;return function(){return null==o&&(o=new ce((function(e,t){setTimeout((function(){if(n())e();else{var r="https://cdn.jsdelivr.net/npm/prebid.js@8.52.0/dist/debugging-standalone.js";qe('Debugging module not installed, loading it from "'.concat(r,'"...')),u()._installDebugging=!0,i(r).then((function(){u()._installDebugging({DEBUG_KEY:La,hook:an,config:K,createBid:Bn,logger:Fe("DEBUG:")})})).then(e,t)}}))}))),o}}var Ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.load,n=void 0===t?Va():t,r=e.hook,i=void 0===r?sn("requestBids"):r,o=null,a=!1;function c(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(o||ce.resolve()).then((function(){return e.apply(t,r)}))}function s(){i.getHooks({hook:c}).remove(),a=!1}return{enable:function(){a||(o=n(),i.before(c,99),a=!0)},disable:s,reset:function(){o=null,s()}}}();Ja.reset,K.getConfig("debugging",(function(e){var t=e.debugging;null!=t&&t.enabled?Ja.enable():Ja.disable()}));var Ka=Li("fpdEnrichment"),Xa=xt((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!Ka.cookiesAreEnabled())return e;var t,n,r=e.split(".");if(2===r.length)return e;var i=-2,o="_rdc".concat(Date.now()),a="writeable";do{t=r.slice(i).join(".");var c=new Date(vt()+1e4).toUTCString();Ka.setCookie(o,a,c,"Lax",t,void 0),Ka.getCookie(o,void 0)===a?(n=!1,Ka.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(i+=-1,n=Math.abs(i)<=r.length)}while(n);return t})),$a=["architecture","bitness","model","platformVersion","fullVersionList"],Qa=["brands","mobile","platform"],Ya=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n=t&&Qa.some((function(e){return void 0!==t[e]}))?Object.freeze(ec(1,t)):null;return function(){return n}}(),Za=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n={},r=new WeakMap;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a;if(!r.has(e)){var i=Array.from(e);i.sort(),r.set(e,i.join("|"))}var o=r.get(e);if(!n.hasOwnProperty(o))try{n[o]=t.getHighEntropyValues(e).then((function(e){return et(e)?null:Object.freeze(ec(2,e))})).catch((function(){return null}))}catch(e){n[o]=ce.resolve(null)}return n[o]}}();function ec(e,t){function n(e,t){var n={brand:e};return Xe(t)&&!tt(t)&&(n.version=t.split(".")),n}var r={source:e};return t.platform&&(r.platform=n(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(r.browsers=(t.fullVersionList||t.brands).map((function(e){return n(e.brand,e.version)}))),void 0!==t.mobile&&(r.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((function(e){var n=t[e];Xe(n)&&(r[e]=n)})),r}var tc=["dooh","app","site"];function nc(e){return function(t){return tc.reduce((function(n,r){return rc(t,r)&&(null!=n?(Me("".concat(e," specifies both '").concat(n,"' and '").concat(r,"'; dropping the latter.")),delete t[r]):n=r),n}),null),t}}function rc(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oc={getRefererInfo:xr,findRootDomain:Xa,getWindowTop:Ue,getWindowSelf:De,getHighEntropySUA:Za,getLowEntropySUA:Ya},ac=nc("FPD"),cc=an("sync",(function(e){var t,n=[e,(t=K.getConfig("firstPartyData.uaHints"),Array.isArray(t)&&0!==t.length?oc.getHighEntropySUA(t):ce.resolve(oc.getLowEntropySUA())).catch((function(){return null})),ce.resolve("cookieDeprecationLabel"in navigator&&Tn(In,lr(en,"cdep"))&&navigator.cookieDeprecationLabel.getValue()).catch((function(){return null}))];return ce.all(n).then((function(e){var t=r(e,3),n=t[0],i=t[1],o=t[2],a=oc.getRefererInfo();if(function(e){["app","site","device"].forEach((function(t){var n=K.getConfig(t);null!=n&&(e[t]=St({},n,e[t]))}))}(n),Object.entries(dc).forEach((function(e){var t=r(e,2),i=t[0],o=(0,t[1])(n,a);o&&Object.keys(o).length>0&&(n[i]=St({},o,n[i]))})),i&&Bt(n,"device.sua",Object.assign({},i,n.device.sua)),o){var c={cdep:o};Bt(n,"device.ext",Object.assign({},c,n.device.ext))}n=ac(n);var s,u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ic(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,r=function(){};return{s:r,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(tc);try{for(u.s();!(s=u.n()).done;){var d=s.value;if(rc(n,d)){n[d]=St({},lc(0,a),n[d]);break}}}catch(e){u.e(e)}finally{u.f()}return n}))}));function sc(e){try{return e(oc.getWindowTop())}catch(t){return e(oc.getWindowSelf())}}function uc(e){return yt(e,Object.keys(e))}var dc={site:function(e,t){if(!tc.filter((function(e){return"site"!==e})).some(rc.bind(null,e)))return uc({page:t.page,ref:t.ref})},device:function(){return sc((function(e){var t,n={w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()};return null!==(t=e.navigator)&&void 0!==t&&t.webdriver&&Bt(n,"ext.webdriver",!0),n}))},regs:function(){var e={};sc((function(e){return e.navigator.globalPrivacyControl}))&&Bt(e,"ext.gpc",1);var t=K.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function lc(e,t){var n,r,i=jr(t.page,{noLeadingWww:!0}),o=null===(n=sc((function(e){return e.document.querySelector("meta[name='keywords']")})))||void 0===n||null===(n=n.content)||void 0===n||null===(r=n.replace)||void 0===r?void 0:r.call(n,/\s/g,"");return uc({domain:i,keywords:o,publisher:uc({domain:oc.findRootDomain(i)})})}var fc=u(),pc=Hi.triggerUserSyncs,gc=C.ADD_AD_UNITS,vc=C.REQUEST_BIDS,mc=C.SET_TARGETING,hc={bidWon:function(e){if(xo.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(st).filter(ct).includes(e))return!0;ze('The "'+e+'" placement is not defined.')}};function bc(e,t){var n=[];return $e(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return Et(e,2)}))?n=e:Et(e,2)&&n.push(e)),n}function yc(e){var t=ft(e),n=t.mediaTypes.banner,r=bc(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):(ze("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function wc(e){var t=ft(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,i=bc(n.playerSize,r);i.length>0?(2===r&&Ne("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=i,t.sizes=i):(ze("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function Oc(e){var t=ft(e),n=t.mediaTypes.native;if(n.ortb){var r=Object.keys(k).filter((function(e){return k[e].includes("hb_native_")})),i=Object.keys(n).filter((function(e){return r.includes(e)}));i.length>0&&(ze("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(i," keys from request.")),i.forEach((function(e){return delete t.mediaTypes.native[e]})))}return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(ze("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(ze("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(ze("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function Tc(e,t){var n=I(e,"mediaTypes.".concat(t,".pos"));if(!Qe(n)||isNaN(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");Me(r),$n(C.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}function Ic(e){var t=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},n=e.mediaTypes,r=e.bids;return null==r||$e(r)?null==r&&null==e.ortb2Imp?(ze(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null==e.ortb2Imp||null!=r&&0!==r.length||(e.bids=[{bidder:null}],qe(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):(ze(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):(ze(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){var e=null;try{e=window.sessionStorage}catch(e){}if(null!==e){var t=Ja,n=null;try{n=e.getItem(La)}catch(e){}null!==n&&t.enable()}}(),fc.bidderSettings=fc.bidderSettings||{},fc.libLoaded=!0,fc.version="v8.52.0",Ne("Prebid.js v8.52.0 loaded"),fc.installedModules=fc.installedModules||[],fc.adUnits=fc.adUnits||[],fc.triggerUserSyncs=pc;var Ec={validateAdUnit:Ic,validateBannerMediaType:yc,validateSizes:bc};Object.assign(Ec,{validateNativeMediaType:Oc}),Object.assign(Ec,{validateVideoMediaType:wc});var Ac,Cc=an("sync",(function(e){var t=[];return e.forEach((function(e){if(null!=(e=Ic(e))){var n,r,i,o=e.mediaTypes;o.banner&&(n=yc(e),o.banner.hasOwnProperty("pos")&&(n=Tc(n,"banner"))),o.video&&(r=wc(n||e),o.video.hasOwnProperty("pos")&&(r=Tc(r,"video"))),o.native&&(i=Oc(r||n||e));var a=Object.assign({},n,r,i);t.push(a)}})),t}),"checkAdUnitSetup");function Rc(e){var t=xo[e]().filter((function(e){return xo.getAdUnitCodes().includes(e.adUnitCode)})),n=xo.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(ct).map((function(e){return t.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return a({},e[0].adUnitCode,{bids:e})})).reduce((function(e,t){return Object.assign(e,t)}),{})}fc.getAdserverTargetingForAdUnitCodeStr=function(e){if(Ne("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e)return function(e){return e&&Object.getOwnPropertyNames(e).length>0?Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&"):""}(fc.getAdserverTargetingForAdUnitCode(e));qe("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},fc.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=xo.getAllBidsForAdUnitCode(e).filter(Ma);return t.length?t.reduce(xa):{}}qe("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},fc.getAdserverTargetingForAdUnitCode=function(e){return fc.getAdserverTargeting(e)[e]},fc.getAdserverTargeting=function(e){return Ne("Invoking pbjs.getAdserverTargeting",arguments),Wa.getAllTargeting(e)},fc.getConsentMetadata=function(){return Ne("Invoking pbjs.getConsentMetadata"),ui.getConsentMeta()},fc.getNoBids=function(){return Ne("Invoking pbjs.getNoBids",arguments),Rc("getNoBids")},fc.getNoBidsForAdUnitCode=function(e){return{bids:xo.getNoBids().filter((function(t){return t.adUnitCode===e}))}},fc.getBidResponses=function(){return Ne("Invoking pbjs.getBidResponses",arguments),Rc("getBidsReceived")},fc.getBidResponsesForAdUnitCode=function(e){return{bids:xo.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},fc.setTargetingForGPTAsync=function(e,t){if(Ne("Invoking pbjs.setTargetingForGPTAsync",arguments),dt()){var n=Wa.getAllTargeting(e);Wa.resetPresetTargeting(e,t),Wa.setTargetingForGPT(n,t),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&xo.setStatusForBids(n[e][t],B.BID_TARGETING_SET)}))})),$n(mc,n)}else ze("window.googletag is not defined on the page")},fc.setTargetingForAst=function(e){Ne("Invoking pbjs.setTargetingForAn",arguments),Wa.isApntagDefined()?(Wa.setTargetingForAst(e),$n(mc,Wa.getAllTargeting())):ze("window.apntag is not defined on the page")},fc.renderAd=an("async",(function(e,t,n){Ne("Invoking pbjs.renderAd",arguments),qe("Calling renderAd with adId :"+t),function(e,t,n){var r;function i(e,n){Fo(Object.assign({id:t,bid:r},{reason:e,message:n}))}function o(t,n){e.defaultView&&e.defaultView.frameElement&&(t&&(e.defaultView.frameElement.width=t),n&&(e.defaultView.frameElement.height=n))}var a,c=(a={resizeFn:o},function(e,t,n){Ho.hasOwnProperty(e)&&Ho[e](t,n,a)});function s(t){t.ad?(e.write(t.ad),e.close(),Wo({doc:e,bid:r,adId:r.adId})):_o(r).then((function(n){return n(t,{sendMessage:function(e,t){return c(e,t,r)},mkFrame:He},e.defaultView)})).then((function(){return Wo({doc:e,bid:r,adId:r.adId})}),(function(e){i((null==e?void 0:e.reason)||R.EXCEPTION,null==e?void 0:e.message),(null==e?void 0:e.stack)&&ze(e)})),nt(document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding")),e,"html")}try{t&&e?e!==document||pt()?Mo(t).then((function(i){r=i,Ko({renderFn:s,resizeFn:o,adId:t,options:{clickUrl:null==n?void 0:n.clickThrough},bidResponse:i,doc:e})})):i(R.PREVENT_WRITING_ON_MAIN_DOCUMENT,"renderAd was prevented from writing to the main document."):i(R.MISSING_DOC_OR_ADID,"missing ".concat(t?"doc":"adId"))}catch(e){i(No,e.message)}}(e,t,n)})),fc.removeAdUnit=function(e){Ne("Invoking pbjs.removeAdUnit",arguments),e?($e(e)?e:[e]).forEach((function(e){for(var t=fc.adUnits.length-1;t>=0;t--)fc.adUnits[t].code===e&&fc.adUnits.splice(t,1)})):fc.adUnits=[]},fc.requestBids=(Ac=an("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,i=e.adUnits,o=e.adUnitCodes,a=e.labels,c=e.auctionId,s=e.ttlBuffer,u=e.ortb2,d=e.metrics,l=e.defer;$n(vc);var p=n||K.getConfig("bidderTimeout");Ne("Invoking pbjs.requestBids",arguments),o&&o.length?i=i.filter((function(e){return f(o,e.code)})):o=i&&i.map((function(e){return e.code}));var g={global:St({},K.getAnyConfig("ortb2")||{},u||{}),bidder:Object.fromEntries(Object.entries(K.getBidderConfig()).map((function(e){var t=r(e,2);return[t[0],t[1].ortb2]})).filter((function(e){var t=r(e,2);return t[0],null!=t[1]})))};return cc(ce.resolve(g.global)).then((function(e){return g.global=e,jc({bidsBackHandler:t,timeout:p,adUnits:i,adUnitCodes:o,labels:a,auctionId:c,ttlBuffer:s,ortb2Fragments:g,metrics:d,defer:l})}))}),"requestBids"),function(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((function(t){return[t,{get:function(){return e[t]}}]})))),t}(Ac,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adUnits||fc.adUnits;return e.adUnits=$e(t)?t.slice():[t],e.metrics=ur(),e.metrics.checkpoint("requestBids"),e.defer=ue({promiseFactory:function(e){return new Promise(e)}}),Ac.call(this,e),e.defer.promise})));var jc=an("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.ttlBuffer,o=e.adUnitCodes,a=e.labels,c=e.auctionId,s=e.ortb2Fragments,u=e.metrics,d=e.defer,l=Ui(K.getConfig("s2sConfig")||[]);function p(e,n,r){if("function"==typeof t)try{t(e,n,r)}catch(e){ze("Error executing bidsBackHandler",null,e)}d.resolve({bids:e,timedOut:n,auctionId:r})}(function(e){e.forEach((function(e){var t,n,r;null!=(r=null==(t=e)||null===(n=t.mediaTypes)||void 0===n?void 0:n.video)&&null==r.plcmt&&(r.context===Un||[2,3,4].includes(r.placement)?r.plcmt=4:r.context!==Un&&[2,6].includes(r.playbackmethod)&&(r.plcmt=2))}))})(r),r=cr(u).measureTime("requestBids.validate",(function(){return Cc(r)}));var g={};if(r.forEach((function(e){var t,n=Object.keys(e.mediaTypes||{banner:"banner"}),r=e.bids.map((function(e){return e.bidder})),o=Mi.bidderRegistry,a=r.filter((function(e){return!l.has(e)}));e.adUnitId=je();var c=null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.tid;c&&(g.hasOwnProperty(e.code)?Me("Multiple distinct ortb2Imp.ext.tid were provided for twin ad units '".concat(e.code,"'")):g[e.code]=c),null==i||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=i),a.forEach((function(t){var r=o[t],i=r&&r.getSpec&&r.getSpec(),a=i&&i.supportedMediaTypes||["banner"];n.some((function(e){return f(a,e)}))||(Me(function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}(e,t)),e.bids=e.bids.filter((function(e){return e.bidder!==t})))}))})),r&&0!==r.length){r.forEach((function(e){var t,n=(null===(t=e.ortb2Imp)||void 0===t||null===(t=t.ext)||void 0===t?void 0:t.tid)||g[e.code]||je();g.hasOwnProperty(e.code)||(g[e.code]=n),e.transactionId=n,Bt(e,"ortb2Imp.ext.tid",n)}));var v=xo.createAuction({adUnits:r,adUnitCodes:o,callback:p,cbTimeout:n,labels:a,auctionId:c,ortb2Fragments:s,metrics:u}),m=r.length;m>15&&Ne("Current auction ".concat(v.getAuctionId()," contains ").concat(m," adUnits."),r),o.forEach((function(e){return Wa.setLatestAuctionForAdUnit(e,v.getAuctionId())})),v.callBids()}else qe("No adUnits configured. No bids requested."),p()}),"startAuction");fc.requestBids.before((function(e,t){function n(e){for(var t;t=e.shift();)t()}n(Wi),n(Sc),e.call(this,t)}),49),fc.addAdUnits=function(e){Ne("Invoking pbjs.addAdUnits",arguments),fc.adUnits.push.apply(fc.adUnits,$e(e)?e:[e]),$n(gc)},fc.onEvent=function(e,t,n){Ne("Invoking pbjs.onEvent",arguments),Ke(t)?!n||hc[e].call(null,n)?Jn(e,t,n):ze('The id provided is not valid for event "'+e+'" and no handler was set.'):ze('The event handler provided is not a function and was not set on event "'+e+'".')},fc.offEvent=function(e,t,n){Ne("Invoking pbjs.offEvent",arguments),n&&!hc[e].call(null,n)||Kn(e,t,n)},fc.getEvents=function(){return Ne("Invoking pbjs.getEvents"),Xn()},fc.registerBidAdapter=function(e,t){Ne("Invoking pbjs.registerBidAdapter",arguments);try{Mi.registerBidAdapter(e(),t)}catch(e){ze("Error registering bidder adapter : "+e.message)}},fc.registerAnalyticsAdapter=function(e){Ne("Invoking pbjs.registerAnalyticsAdapter",arguments);try{Mi.registerAnalyticsAdapter(e)}catch(e){ze("Error registering analytics adapter : "+e.message)}},fc.createBid=function(e){return Ne("Invoking pbjs.createBid",arguments),Bn(e)};var Sc=[],kc=an("async",(function(e){e&&!et(e)?(Ne("Invoking pbjs.enableAnalytics for: ",e),Mi.enableAnalytics(e)):ze("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");fc.enableAnalytics=function(e){Sc.push(kc.bind(this,e))},fc.aliasBidder=function(e,t,n){Ne("Invoking pbjs.aliasBidder",arguments),e&&t?Mi.aliasBidAdapter(e,t,n):ze("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},fc.aliasRegistry=Mi.aliasRegistry,K.getConfig("aliasRegistry",(function(e){"private"===e.aliasRegistry&&delete fc.aliasRegistry})),fc.getAllWinningBids=function(){return xo.getAllWinningBids()},fc.getAllPrebidWinningBids=function(){return xo.getBidsReceived().filter((function(e){return e.status===B.BID_TARGETING_SET}))},fc.getHighestCpmBids=function(e){return Wa.getWinningBids(e)},fc.markWinningBidAsUsed=function(e){var t=xc(e,"Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function.");t.length>0&&xo.addWinningBid(t[0])};var xc=function(e,t){var n=[];return e.adUnitCode&&e.adId?n=xo.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?n=Wa.getWinningBids(e.adUnitCode):e.adId?n=xo.getBidsReceived().filter((function(t){return t.adId===e.adId})):Me(t),n};function Bc(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){ze("Error processing command :","prebid.js",e)}}))}fc.getConfig=K.getAnyConfig,fc.readConfig=K.readAnyConfig,fc.mergeConfig=K.mergeConfig,fc.mergeBidderConfig=K.mergeBidderConfig,fc.setConfig=K.setConfig,fc.setBidderConfig=K.setBidderConfig,fc.que.push((function(){window.addEventListener("message",(function(e){!function(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(e){return}n&&n.adId&&n.message&&Ta.hasOwnProperty(n.message)&&Mo(n.adId,n.message===N).then((function(t){var r,i;Ta[n.message]((r=n.adId,i=function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw ze(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return i.apply(void 0,[Object.assign({},e,{adId:r})].concat(n))}),n,t)}))}(e)}),!1)})),fc.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){ze("Error processing command :",e.message,e.stack)}else ze("Commands written into pbjs.cmd.push must be wrapped in a function")},fc.que.push=fc.cmd.push,fc.processQueue=function(){an.ready(),Bc(fc.que),Bc(fc.cmd)},fc.triggerBilling=function(e){var t=xc(e,"Improper use of triggerBilling. It requires a bid with at least an adUnitCode or an adId to function."),n=t.find((function(t){return t.requestId===e.requestId}))||t[0];if(t.length>0&&n)try{Mi.callBidBillableBidder(n)}catch(e){ze("Error when triggering billing :",e)}else Me("The bid provided to triggerBilling did not match any bids received.")};const _c=fc;d("enrichmentFpdModule");var Uc="express",Dc=u();function Pc(e){var t=function(e){var t;return dt()&&(t=p(window.googletag.pubads().getSlots(),function(e){return function(t){return Ot(t,e)}}(e))),t}(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}Dc.express=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dc.adUnits;qe("loading "+Uc),0===e.length&&Me("no valid adUnits found, not loading "+Uc);var t={},n=e.reduce((function(e,t){return t.code&&t.bids?e[t.code]=t:ze("misconfigured adUnit",null,t),e}),{});window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){var e=window.googletag,r=e.pubads;if(e.display&&e.enableServices&&"function"==typeof r&&r().refresh&&r().disableInitialLoad&&r().getSlots&&r().enableSingleRequest){qe("running");var i=e.display,o=e.enableServices,a=r().refresh,c=r().disableInitialLoad,s=r().enableSingleRequest;e.enableServices=function(){return u||c.apply(r()),o.apply(e,arguments)},e.display=function(n){var o;Ne("display:",n),i.apply(e,arguments),d||(o=googletag.pubads().getSlots().filter((function(e){return e.getSlotElementId()===n}))),(o=f(o).filter((function(e){return!e._displayed}))).forEach((function(e){e._displayed=!0}));var c=p(o);u||(o.length&&a.apply(r(),[o]),c.length&&Dc.requestBids({adUnits:c,bidsBackHandler:function(){Dc.setTargetingForGPTAsync(),a.apply(r(),[c.map((function(e){return t[e.code]}))])}}))},r().refresh=function(e,n){Ne("refresh:",e);var i=p(e=f(e)).filter((function(e){return t[e.code]._displayed}));e.length&&a.apply(r(),[e,n]),i.length&&Dc.requestBids({adUnits:i,bidsBackHandler:function(){Dc.setTargetingForGPTAsync(),a.apply(r(),[i.map((function(e){return t[e.code]})),n])}})};var u=!1;r().disableInitialLoad=function(){return u=!0,c.apply(window.googletag.pubads(),arguments)};var d=!1;r().enableSingleRequest=function(){return d=!0,s.apply(window.googletag.pubads(),arguments)}}else ze("could not bind to gpt googletag api");function l(e){for(var t=[],n=0;n<e.length;n++)try{t.push([e[n].getWidth(),e[n].getHeight()])}catch(t){Me("slot size "+e[n].toString()+" not supported by"+Uc)}return t}function f(e){return Array.isArray(e)?e.slice():googletag.pubads().getSlots().slice()}function p(e){for(var r=[],i=e.length-1;i>-1;i--){var o=e[i],a=o.getSlotElementId(),c=n[a];c&&(t[a]=o,c.sizes=c.sizes||l(o.getSizes()),r.push(c),e.splice(i,1))}return r}}))},d("express");var qc="medianet",Nc="trustedstack",Mc=0,zc=1,Fc=2,Wc=xr(),Lc={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],Lc.urlData={domain:Wc.domain,page:Wc.page,isTop:Wc.reachedTop};var Gc=[{code:Nc,gvlid:1288}];function Hc(){try{return window.top.document.referrer}catch(e){return document.referrer}}function Vc(e,t){var n,r,i=function(e,t){try{var n=Ue().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return i&&(n=i,(r=Ue().document.createElement("a")).href=n,r.href)}function Jc(e,t){return e.filter((function(e){return e.type===t}))}function Kc(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function Xc(e,t){var n=I(e,"params"),r=I(t,"gdprConsent"),i=I(t,"uspConsent"),o=I(e,"userId"),a=I(e,"schain")||{},c=ns.getWindowSize(),s=!(!r||!r.gdprApplies),d=!!i,l=!!K.getConfig("coppa");return Object.assign({},{customer_id:n.cid},{prebid_version:u().version},{gdpr_applies:s},s&&{gdpr_consent_string:r.consentString||""},{usp_applies:d},d&&{usp_consent_string:i||""},{coppa_applies:l},-1!==c.w&&-1!==c.h&&{screen:c},o&&{user_id:o},u().medianetGlobals.analyticsEnabled&&{analytics:!0},!et(a)&&{schain:a})}function $c(e,t,n,r){var i=e.getFloor({currency:"USD",mediaType:t,size:n});n.length>1&&(i.size=n),i.mediaType=t,r.push(i)}function Qc(e){return e.reduce((function(e,t){return t.h*t.w<e.h*e.w?t:e}))}function Yc(e,t){var n,r,i,o,a=t.w*t.h,c=ns.getWindowSize(),s={x:e.x+t.w,y:e.y+t.h};return 0===a||-1===c.w||-1===c.h?0:(n=e,r=s,i={x:0,y:0},o={x:c.w,y:c.h},(n.x>o.x||r.x<i.x||n.y>o.y||r.y<i.y?0:(Math.min(r.x,o.x)-Math.max(n.x,i.x))*(Math.min(r.y,o.y)-Math.max(n.y,i.y)))/a)}function Zc(e,t){t=$e(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=I(t,"0.auctionId")||"",n.cid=u().medianetGlobals.cid||"",n.crid=t.map((function(e){return I(e,"params.0.crid")||e.adUnitCode})).join("|"),n.adunit_count=t.length||0,n.dn=Lc.urlData.domain||"",n.requrl=Lc.urlData.page||"",n.istop=Lc.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}function es(e,t){it(Rt({protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:Zc(e,t)}))}function ts(e){var t,n=I(e,"context")||"",r=I(e,"vto");"outstream"==n&&r&&(e.renderer=((t=Jt.install({url:"https://prebid.media.net/video/bundle.js"})).setRender((function(e){window.mnet.queue.push((function(){var t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},n=e.dfp_id,r=Pc(n).divId||n;window.mnet.mediaNetoutstreamPlayer(e,r,t)}))})),t))}u().medianetGlobals=u().medianetGlobals||{};var ns={code:qc,gvlid:142,aliases:Gc,supportedMediaTypes:[Ki,Vi,Ji],isBidRequestValid:function(e){return e.params?e.params.cid&&Xe(e.params.cid)&&!tt(e.params.cid)?(Object.assign(u().medianetGlobals,!u().medianetGlobals.cid&&{cid:e.params.cid}),!0):(ze("".concat(qc," : cid should be a string")),!1):(ze("".concat(qc," : Missing bid parameters")),!1)},buildRequests:function(e,t){var n,r,i=function(e,t){return{site:(n=e[0].params.site,r=t,i=r.refererInfo,o={domain:(n=n||{}).domain||i.domain,page:n.page||i.page,ref:n.ref||Hc(),topMostLocation:i.topmostLocation,isTop:n.isTop||i.reachedTop},Object.assign(o,function(){if(Lc.pageMeta)return Lc.pageMeta;var e=Vc('link[rel="canonical"]',"href"),t=Vc('meta[property="og:url"]',"content"),n=Vc('meta[name="twitter:url"]',"content");return Lc.pageMeta=Object.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),Lc.pageMeta}())),ext:Xc(e[0],t),id:e[0].auctionId,imp:e.map((function(e){return function(e,t){var n,r={id:e.bidId,transactionId:null===(n=e.ortb2Imp)||void 0===n||null===(n=n.ext)||void 0===n?void 0:n.tid,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(r.ortb2Imp=e.ortb2Imp);var i,o=I(e,"mediaTypes.banner.sizes")||[],a=I(e,"mediaTypes.video")||{},c=I(e,"params.video")||{},s=Object.assign({},c,a);if(et(s)||(r.video=s),o.length>0&&(r.banner=$e(i=o)&&2===i.length&&!$e(i[0])?[Kc(i)]:i.map((function(e){return Kc(e)}))),e.nativeParams)try{r.native=JSON.stringify(e.nativeParams)}catch(e){ze("".concat(qc," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(r.tagid=e.params.crid.toString());var u=parseFloat(e.params.bidfloor||e.params.bidFloor);u&&(r.bidfloor=u);var d=function(e){var t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){var n=Pc(e).divId;Xe(n)&&(t=document.getElementById(n))}if(t&&t.getBoundingClientRect){var r=t.getBoundingClientRect(),i={};return i.top_left={y:r.top,x:r.left},i.bottom_right={y:r.bottom,x:r.right},i}return null}(e.adUnitCode);if(d&&r.banner&&0!==r.banner.length){var l=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(d);r.ext.coordinates=l,r.ext.viewability=Yc(d.top_left,Qc(r.banner)),Yc(l.top_left,Qc(r.banner))>.5?r.ext.visibility=zc:r.ext.visibility=Fc}else r.ext.visibility=Mc;var f,p=function(e){var t=[];return"function"==typeof e.getFloor&&[Ki,Ji,Vi].forEach((function(n){e.mediaTypes.hasOwnProperty(n)&&(n==Ki?e.mediaTypes.banner.sizes.forEach((function(r){$c(e,n,r,t)})):$c(e,n,"*",t))})),t}(e);return p&&p.length>0&&(r.bidfloors=p),t.fledgeEnabled&&(r.ext.ae=null==e||null===(f=e.ortb2Imp)||void 0===f||null===(f=f.ext)||void 0===f?void 0:f.ae),r}(e,t)})),ortb2:t.ortb2,tmax:t.timeout};var n,r,i,o}(e=function(e){if(!e||!$e(e))return e;if(!e.some((function(e){var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[Vi])||void 0===t?void 0:t.ortb})))return e;var t,n=ft(e),r=Xo(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.mediaTypes&&i.mediaTypes[Vi]&&i.mediaTypes[Vi].ortb&&(i.mediaTypes[Vi]=Object.assign(It(i.mediaTypes[Vi],q),pa(i.mediaTypes[Vi].ortb)),i.nativeParams=aa(i.mediaTypes[Vi]))}}catch(e){r.e(e)}finally{r.f()}return n}(e),t);return{method:"POST",url:(n=t.bidderCode,r=i.ext.customer_id,(n===Nc?"https://prebid.trustedstack.com/rtb/trustedstack":"https://prebid.media.net/rtb/prebid")+"?cid="+encodeURIComponent(r)),data:JSON.stringify(i)}},interpretResponse:function(e,t){var n=[];if(!e||!e.body)return Ne("".concat(qc," : response is empty")),n;var r=e.body.bidList;$e(r)&&0!==r.length?(n=r.filter((function(e){return function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e)}))).forEach(ts):Ne("".concat(qc," : no bids"));var i=I(e,"body.ext.paApiAuctionConfigs")||[],o=I(e,"body.ext.igi")||[];return 0===i.length&&0===o.length?n:(o.length>0&&i.push.apply(i,l(o.map((function(e){return e.igs||[]})).flat())),{bids:n,fledgeAuctionConfigs:i})},getUserSyncs:function(e,t){var n,r=!et(n=t)&&n[0].body&&n[0].body.ext&&$e(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[];return e.iframeEnabled?Jc(r,"iframe"):e.pixelEnabled?Jc(r,"image"):void 0},onTimeout:function(e){try{es({name:"client_timeout",value:e.length,related_data:e[0].timeout||K.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{es({name:"client_bid_won",value:e.cpm},[e])}catch(e){}},clearMnData:function(){Lc={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}gr(ns),d("medianetBidAdapter");var is="medianet",os=is+"rtd",as="ortb2Imp";function cs(e){window.mnjs.que.push(e)}function ss(e,t){return e=e||u().adUnits||[],t&&t.length&&(e=e.filter((function(e){return f(t,e.code)}))),e}window.mnjs=window.mnjs||{},window.mnjs.que=window.mnjs.que||[];var us={name:is,init:function(e){var t=e.params&&e.params.cid;return t&&Xe(t)&&!tt(t)?(function(e){var t=function(e,t){return"https://warp.media.net/js/tags/prebidrtdclient.js?cid=".concat(e,"&dn=").concat(t)}(e,window.location.hostname);Gt(t,is)}(t),cs((function(){return window.mnjs.setData({module:"iref",name:"initIRefresh",data:{config:e,prebidGlobal:u()}},os)})),!0):(ze("".concat(os,": cid should be a string")),!1)},getBidRequestData:function(e,t,n,r){cs((function(){var i=ss(e.adUnits,e.adUnitCodes),o=window.mnjs.onPrebidRequestBid({requestBidsProps:e,config:n,userConsent:r});o?o.onComplete((function(){return t()}),(function(e,n){i.forEach((function(t){t[as]=t[as]||{},St(t[as],n[t.code]),St(t,e[t.code])})),t()})):t()}))},onAuctionInitEvent:function(e){cs((function(){return window.mnjs.setData({module:"iref",name:"auctionInit",data:{auction:e}},os)}))},getTargetingData:function(e,t,n,r){var i=ss(r.adUnits,e),o={};window.mnjs.loaded&&Ke(window.mnjs.getTargetingData)&&(o=window.mnjs.getTargetingData(e,i,os)||{});var c={};return e.forEach((function(e){c[e]=c[e]||{},o[e]=o[e]||{},c[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(a({},"mnadc",e),o[e])})),c}};!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=un[e];if(i)return i.apply(void 0,n);sn(e).before((function(e,t){t.push(n),e(t)}))}("realTimeData",us),d("medianetRtdProvider");var ds,ls=new WeakMap,fs=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),ps={instream:1},gs={1:Ki,2:Ji,4:Vi},vs=["request","imp","bidResponse","response"],ms=vs[0],hs=vs[1],bs=vs[2],ys=vs[3],ws="default",Os=new Set(vs),Ts=(ds={},{registerOrtbProcessor:function(e){var t=e.type,n=e.name,r=e.fn,i=e.priority,o=void 0===i?0:i,a=e.dialects,c=void 0===a?[ws]:a;if(!Os.has(t))throw new Error("ORTB processor type must be one of: ".concat(vs.join(", ")));c.forEach((function(e){ds.hasOwnProperty(e)||(ds[e]={}),ds[e].hasOwnProperty(t)||(ds[e][t]={}),ds[e][t][n]={priority:o,fn:r}}))},getProcessors:function(e){return ds[e]||{}}}),Is=Ts.getProcessors,Es=a(a(a({},ms,{fpd:{priority:99,fn:function(e,t){St(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:nc("ORTB request")},props:{fn:function(e,t){Object.assign(e,{id:e.id||je(),test:e.test||0});var n=parseInt(t.timeout,10);isNaN(n)||(e.tmax=n)}}}),hs,{fpd:{priority:99,fn:function(e,t){St(e,t.ortb2Imp)}},id:{fn:function(e,t){e.id=t.bidId}},banner:{fn:function(e,t,n){if(!n.mediaType||n.mediaType===Ki){var r=I(t,"mediaTypes.banner");if(r){var i={topframe:!0===pt()?0:1};r.sizes&&(i.format=ke(r.sizes).map(Be)),r.hasOwnProperty("pos")&&(i.pos=r.pos),e.banner=St(i,e.banner)}}}},pbadslot:{fn:function(e){var t,n,r=null===(t=e.ext)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.pbadslot;r&&"string"==typeof r||null===(n=e.ext)||void 0===n||null===(n=n.data)||void 0===n||delete n.pbadslot}}}),bs,{mediaType:{priority:99,fn:function(e,t,n){if(!e.mediaType){var r=n.mediaType;if(!r&&!gs.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=r||gs[t.mtype]}}},banner:{fn:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).createPixel,t=void 0===e?function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:encodeURI;if(!e)return"";return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+t(e)+'"></div>'}(decodeURIComponent(e),at)}:e;return function(e,n){e.mediaType===Ki&&(n.adm&&n.nurl?(e.ad=n.adm,e.ad+=t(n.nurl)):n.adm?e.ad=n.adm:n.nurl&&(e.adUrl=n.nurl))}}()},props:{fn:function(e,t,n){var i,o;Object.entries({requestId:null===(i=n.bidRequest)||void 0===i?void 0:i.bidId,seatBidId:t.id,cpm:t.price,currency:n.ortbResponse.cur||n.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||n.ttl,netRevenue:n.netRevenue}).filter((function(e){var t=r(e,2);return t[0],void 0!==t[1]})).forEach((function(t){var n=r(t,2),i=n[0],o=n[1];return e[i]=o})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain),null!==(o=t.ext)&&void 0!==o&&o.dsa&&(e.meta.dsa=t.ext.dsa)}}});function As(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),i=t.length>1?As.apply(void 0,t):t[0];return Object.fromEntries(vs.map((function(e){return[e,Object.assign({},r[e],i[e])]})))}Es[hs].native={fn:function(e,t,n){if(!n.mediaType||n.mediaType===Vi){var r,i=t.nativeOrtbRequest;i&&(null!==(r=(i=Object.assign({},n.nativeRequest,i)).assets)&&void 0!==r&&r.length?e.native=St({},{request:JSON.stringify(i),ver:i.ver},e.native):Me("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}}},Es[bs].native={fn:function(e,t){if(e.mediaType===Vi){var n;if(!Ye(n="string"==typeof t.adm?JSON.parse(t.adm):t.adm)||!Array.isArray(n.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:n}}}},Es[hs].video={fn:function(e,t,n){if(!n.mediaType||n.mediaType===Ji){var i=I(t,"mediaTypes.video");if(!et(i)){var o=Object.fromEntries(Object.entries(i).filter((function(e){var t=r(e,1)[0];return fs.has(t)})));if(i.playerSize){var a=ke(i.playerSize).map(Be);a.length>1&&Me("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(o,a[0])}var c=ps[i.context];null!=c&&(o.placement=c),e.video=St(o,e.video)}}}},Es[bs].video={fn:function(e,t,n){if(e.mediaType===Ji){if(I(n.imp,"video.w")&&I(n.imp,"video.h")){var r=[n.imp.video.w,n.imp.video.h];e.playerWidth=r[0],e.playerHeight=r[1]}t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl)}}};var Cs=xt((function(){return As(Es,Is(ws))}));function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function js(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gr({code:"openx",gvlid:69,supportedMediaTypes:[Ki,Ji],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return I(e,"mediaTypes.banner")&&t?!!e.params.unit||I(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){var n=e.filter((function(e){return xs(e)})),r=e.filter((function(e){return function(e){return I(e,"mediaTypes.banner")||!xs(e)}(e)})),i=r.length?[ks(r,t,Ki)]:[];return n.forEach((function(e){i.push(ks([e],t,Ji))})),i},interpretResponse:function(e,t){return e.body||(e.body={nbr:0}),Ss.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled){var i=e.iframeEnabled?"iframe":"image",o=[],a="https://u.openx.net/w/1.0/pd";if(n&&(o.push("gdpr="+(n.gdprApplies?1:0)),o.push("gdpr_consent="+encodeURIComponent(n.consentString||""))),r&&o.push("us_privacy="+encodeURIComponent(r)),t.length>0&&t[0].body&&t[0].body.ext){var c=t[0].body.ext;c.delDomain?a="https://".concat(c.delDomain,"/w/1.0/pd"):c.platform&&o.push("ph="+c.platform)}else o.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:i,url:"".concat(a).concat(o.length>0?"?"+o.join("&"):"")}]}},transformBidParams:function(e,t){return function(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(Ke(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t}({unit:"string",customFloor:"number"},e)}});var Ss=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?{}:t,i=e.processors,o=void 0===i?Cs:i,a=e.overrides,c=void 0===a?{}:a,s=e.imp,u=e.request,d=e.bidResponse,l=e.response,f=new WeakMap;function p(e,t,n,i){var a;return function(){return null==a&&(a=function(){var a=n.bind(this,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ls.has(e)){var n=Object.entries(e);n.sort((function(e,t){return(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1})),ls.set(e,n.map((function(e){var t=r(e,2);return[t[0],t[1].fn]})))}var i=ls.get(e).filter((function(e){var n=r(e,1)[0];return!t.hasOwnProperty(n)||t[n]})).map((function(e){var n=r(e,2),i=n[0],o=n[1];return t.hasOwnProperty(i)?t[i].bind(this,o):o}));return function(){var e=this,t=Array.from(arguments);i.forEach((function(n){n.apply(e,t)}))}}(o()[e]||{},c[e]||{}));return t&&(a=t.bind(this,a)),function(){try{return a.apply(this,arguments)}catch(e){i.call.apply(i,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),a.apply(this,arguments)}}var g=p(hs,s,(function(e,t,n){var r={};return e(r,t,n),r}),(function(e,t,n){ze("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:n})})),v=p(ms,u,(function(e,t,n,r){var i={imp:t};return e(i,n,r),i}),(function(e,t,n,r){throw ze("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:n,context:r}),e})),m=p(bs,d,(function(e,t,n){var r={};return e(r,t,n),r}),(function(e,t,n){ze("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:n})})),h=p(ys,l,(function(e,t,n,r){var i={bids:t};return e(i,n,r),i}),(function(e,t,n,r){throw ze("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:n,context:r}),e}));return{toORTB:function(e){var t=e.bidderRequest,r=e.bidRequests,i=e.context,o=void 0===i?{}:i;r=r||t.bids;var a={req:Object.assign({bidRequests:r},n,o),imp:{}};a.req.impContext=a.imp;var c=r.map((function(e){var r=Object.assign({bidderRequest:t,reqContext:a.req},n,o),i=g(e,r);if(null!=i){if(i.hasOwnProperty("id"))return Object.assign(r,{bidRequest:e,imp:i}),a.imp[i.id]=r,i;ze("Converted ORTB imp does not specify an id, ignoring bid request",e,i)}})).filter(Boolean),s=v(c,t,a.req);return a.req.bidderRequest=t,null!=s&&f.set(s,a),s},fromORTB:function(e){var t=e.request,n=e.response,r=f.get(t);if(null==r)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,{ortbRequest:t},n,e)}var o=Object.fromEntries((t.imp||[]).map((function(e){return[e.id,e]}))),a=(n.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(t){if(o.hasOwnProperty(t.impid)&&r.imp.hasOwnProperty(t.impid))return m(t,i(r.imp[t.impid],{imp:o[t.impid],seatbid:e,ortbResponse:n}));ze("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)}))})).filter(Boolean);return h(a,n,i(r.req))}}}({context:{netRevenue:!0,ttl:300},imp:function(e,t,n){var r=e(t,n);return St(r,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&Bt(r,"ext.customParams",t.params.customParams),t.params.customFloor&&!r.bidfloor&&(r.bidfloor=t.params.customFloor),r},request:function(e,t,n,r){var i=e(t,n,r);St(i,{at:1,ext:{bc:"".concat("hb_pb_ortb","_").concat("2.0"),pv:"8.52.0"}});var o=r.bidRequests[0];return o.params.coppa&&Bt(i,"regs.coppa",1),o.params.doNotTrack&&Bt(i,"device.dnt",1),o.params.platform&&Bt(i,"ext.platform",o.params.platform),o.params.delDomain&&Bt(i,"ext.delDomain",o.params.delDomain),o.params.response_template_name&&Bt(i,"ext.response_template_name",o.params.response_template_name),o.params.test&&(i.test=1),i},bidResponse:function(e,t,n){var r=e(t,n);t.ext&&(r.meta.networkId=t.ext.dsp_id,r.meta.advertiserId=t.ext.buyer_id,r.meta.brandId=t.ext.brand_id);var i=n.ortbResponse;return i.ext&&i.ext.paf&&(r.meta.paf=Object.assign({},i.ext.paf),r.meta.paf.content_id=I(t,"ext.paf.content_id")),r},response:function(e,t,n,i){var o=i.ortbRequest;o.ext&&(o.ext.delDomain&&Bt(n,"ext.delDomain",o.ext.delDomain),o.ext.platform&&Bt(n,"ext.platform",o.ext.platform));var a=e(t,n,i),c=I(n,"ext.fledge_auction_configs");return c?(c=Object.entries(c).map((function(e){var t,n=r(e,2),o=n[0],a=n[1];return{bidId:o,config:St(Object.assign({},a),{auctionSignals:{ortb2Imp:null===(t=i.impContext[o])||void 0===t?void 0:t.imp}})}})),{bids:a.bids,fledgeAuctionConfigs:c}):a.bids},overrides:{imp:{bidfloor:function(e,t,n,r){var i={};e(i,n,js(js({},r),{},{currency:"USD"})),"USD"===i.bidfloorcur&&Object.assign(t,i)},video:function(e,t,n,r){var i=n.mediaTypes[Ji];i&&(i=Object.assign({},i,n.params.video),n=js(js({},n),{},{mediaTypes:a({},Ji,i)})),e(t,n,r)}}}});function ks(e,t,n){return{method:"POST",url:K.getConfig("openxOrtbUrl")||"https://rtb.openx.net/openrtbb/prebidjs",data:Ss.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:n}})}}function xs(e){return I(e,"mediaTypes.video")}function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}d("openxBidAdapter");var Us="pubmatic",Ds="PubMatic: ",Ps="USD",qs=void 0,Ns="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Ms="Video.plcmt param missing",zs={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Fs={NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"},Ws={mimes:Fs.ARRAY,minduration:Fs.NUMBER,maxduration:Fs.NUMBER,startdelay:Fs.NUMBER,playbackmethod:Fs.ARRAY,api:Fs.ARRAY,protocols:Fs.ARRAY,w:Fs.NUMBER,h:Fs.NUMBER,battr:Fs.ARRAY,linearity:Fs.NUMBER,placement:Fs.NUMBER,plcmt:Fs.NUMBER,minbitrate:Fs.NUMBER,maxbitrate:Fs.NUMBER,skip:Fs.NUMBER},Ls={ICON:1,IMAGE:3},Gs={1:"PMP",5:"PREF",6:"PMPG"},Hs={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,r=Hs.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===r){n=window.bluebillywig.renderers[o];break}n?n.bootstrap(t,i):Me("".concat(Ds,": Couldn't find a renderer with ").concat(r))}else Me("".concat(Ds,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var n=Ns.replace("$RENDERER",e),r=Jt.install({url:n,loaded:!1,adUnitCode:t});try{r.setRender(Hs.outstreamRender)}catch(e){Me("".concat(Ds,": Error tying to setRender on renderer"),e)}return r},outstreamRender:function(e){e.renderer.push((function(){Hs.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},Vs=[Ki,Ji,Vi],Js=0,Ks=!1,Xs=["pubmatic"],$s=["all"];function Qs(e,t){if(!Xe(t))return t&&Me(Ds+"Ignoring param key: "+e+", expects string-value, found "+i(t)),qs;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||qs;case"yob":return parseInt(t)||qs;default:return t}}function Ys(){var e=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection);switch(null==e?void 0:e.effectiveType){case"ethernet":return 1;case"wifi":return 2;case"slow-2g":case"2g":return 4;case"3g":return 5;case"4g":return 6;default:return 0}}function Zs(e,t,n){var r,o="Ignoring param key: "+e+", expects "+n+", found "+i(t);switch(n){case Fs.BOOLEAN:r=Ze;break;case Fs.NUMBER:r=Qe;break;case Fs.STRING:r=Xe;break;case Fs.ARRAY:r=$e}return r(t)?t:(Me(Ds+o),qs)}var eu={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},tu=Object.values(eu);function nu(e){var t;if(e.ortb){e=e.ortb,t=_s(_s({ver:"1.2"},e),{},{assets:[]});var n=e.assets,r=function(e){return e.title||e.img||e.data||e.video};if(n.length<1||!n.some((function(e){return r(e)})))return Me("".concat(Ds,": Native assets object is empty or contains some invalid object")),Ks=!0,t;n.forEach((function(e){var n=e;n.img&&(n.img.type==Ls.IMAGE?(n.w=n.w||n.width||(n.sizes?n.sizes[0]:qs),n.h=n.h||n.height||(n.sizes?n.sizes[1]:qs),n.wmin=n.wmin||n.minimumWidth||(n.minsizes?n.minsizes[0]:qs),n.hmin=n.hmin||n.minimumHeight||(n.minsizes?n.minsizes[1]:qs)):n.img.type==Ls.ICON&&(n.w=n.w||n.width||(n.sizes?n.sizes[0]:qs),n.h=n.h||n.height||(n.sizes?n.sizes[1]:qs))),n&&void 0!==n.id&&r(n)&&t.assets.push(n)}))}else t=function(e){if(!e&&!Ye(e))return Me("".concat(Ds,": Native assets object is empty or not an object: ").concat(e)),void(Ks=!0);var t={ver:"1.2",assets:[]};for(var n in e)if(!q.includes(n))if(k.hasOwnProperty(n)||tu.includes(n)){var r=e[n],i=0;r.required&&Ze(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in eu)o.data={type:D[eu[n]]},(r.len||r.length)&&(o.data.len=r.len||r.length),r.ext&&(o.data.ext=r.ext);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?P.ICON:P.MAIN},r.aspect_ratios)if($e(r.aspect_ratios))if(r.aspect_ratios.length){var a=r.aspect_ratios[0],c=a.min_width,s=a.min_height;Tt(c)&&Tt(s)?(o.img.wmin=c,o.img.hmin=s):Me("".concat(Ds,": image.aspect_ratios min_width or min_height are invalid: ").concat(c,", ").concat(s));var u=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else Me("".concat(Ds,": image.aspect_ratios was passed, but it's empty: ").concat(r.aspect_ratios));else Me("".concat(Ds,": image.aspect_ratios was passed, but it's not a an array: ").concat(r.aspect_ratios));o.img.w=r.w||r.width,o.img.h=r.h||r.height,o.img.wmin=r.wmin||r.minimumWidth||(r.minsizes?r.minsizes[0]:qs),o.img.hmin=r.hmin||r.minimumHeight||(r.minsizes?r.minsizes[1]:qs),r.sizes&&(2===r.sizes.length&&Tt(r.sizes[0])&&Tt(r.sizes[1])?(Ne("".concat(Ds,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):Me("".concat(Ds,": image.sizes was passed, but its value is not an array of integers: ").concat(r.sizes))),r.ext&&(o.img.ext=r.ext),r.mimes&&(o.img.mimes=r.mimes)}else"title"===n?(o.title={len:r.len||r.length||140},r.ext&&(o.title.ext=r.ext)):"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else Me("".concat(Ds,": Unrecognized native asset code: ").concat(n,". Asset will be ignored."));return t.assets.length<1?(Me("".concat(Ds,": Could not find any valid asset")),void(Ks=!0)):t}(e);return t}function ru(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(n!==qs&&$e(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=qs,Me(Ds+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}n.length>0&&(r=[],n.forEach((function(e){e.length>1&&r.push({w:e[0],h:e[1]})})),r.length>0&&(t.format=r)),t.pos=0,t.topframe=pt()?0:1}else Me(Ds+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=qs;return t}function iu(e){var t,n=St(I(e.mediaTypes,"video"),e.params.video);if(n!==qs){for(var r in t={},function(e,t){I(e,"plcmt")||Me(Ms+" for "+t)}(n,e.adUnitCode),Ws)n.hasOwnProperty(r)&&(t[r]=Zs(r,n[r],Ws[r]));$e(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Qe(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=qs,Me(Ds+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function ou(e,t){(t=t.filter((function(e){return"string"==typeof e||(Me(Ds+"acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){return n.indexOf(e)===t}))).length>0&&(Me(Ds+"acat: Selected: ",t),e.ext.acat=t)}function au(e){return!0===$e(e)&&e.length>0}var cu={code:Us,gvlid:76,supportedMediaTypes:[Ki,Ji,Vi],isBidRequestValid:function(e){if(e&&e.params){if(!Xe(e.params.publisherId))return Me(Ds+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(Ji)){var t=I(e.mediaTypes,"video.mimes"),n=I(e,"params.video.mimes");if(!1===au(t)&&!1===au(n))return Me(Ds+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[Ji].hasOwnProperty("context"))return ze("".concat(Ds,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[Ji].context&&!Xe(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[Ji].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(Ki)||e.mediaTypes.hasOwnProperty(Vi)?(delete e.mediaTypes[Ji],Me("".concat(Ds,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):(ze("".concat(Ds,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,t){var n,r,o,a,c,s,u;t&&t.refererInfo&&(u=t.refererInfo);var d,f=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(u),p=function(e){return{id:""+(new Date).getTime(),at:1,cur:[Ps],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language,connectiontype:Ys()},user:{},ext:{}}}(f),g="",v=[],m=[],h=[],b=je();if(e.forEach((function(e){var n;if(e.params.wiid=e.params.wiid||t.auctionId||b,(d=ft(e)).params.adSlot=d.params.adSlot||"",function(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=Xe(t=e.params.adSlot)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&Me(Us+": adSlot must be a string. Ignoring adSlot"),"");var n=e.params.adSlot,r=n.split(":");if(n=r[0],2==r.length&&(e.params.adUnitIndex=r[1]),r=n.split("@"),e.params.adUnit=r[0],r.length>1){if(2!=(r=r[1].split("x")).length)return void Me(Ds+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(r[0],10),e.params.height=parseInt(r[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(Ki)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,o=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&o.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}(d),d.mediaTypes&&d.mediaTypes.hasOwnProperty("video")||d.params.hasOwnProperty("video"));else if(!(d.hasOwnProperty("mediaTypes")&&d.mediaTypes.hasOwnProperty(Vi)||0!==d.params.width||0!==d.params.height))return void Me(Ds+"Skipping the non-standard adslot: ",d.params.adSlot,JSON.stringify(d));f.pubId=f.pubId||d.params.publisherId,(f=function(e,t){var n,r,o;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),zs)zs.hasOwnProperty(n)&&(r=e[n])&&("object"===i(o=zs[n])&&(r=o.f(r,t)),Xe(r)?t[n]=r:Me(Ds+"Ignoring param : "+n+" with value : "+zs[n]+", expects string-value, found "+i(r)));return t}(d.params,f)).transactionId=null===(n=d.ortb2Imp)||void 0===n||null===(n=n.ext)||void 0===n?void 0:n.tid,""===g?g=d.params.currency||qs:d.params.hasOwnProperty("currency")&&g!==d.params.currency&&Me(Ds+"Currency specifier ignored. Only one currency permitted."),d.params.currency=g,d.params.hasOwnProperty("dctr")&&Xe(d.params.dctr)&&v.push(d.params.dctr),d.params.hasOwnProperty("bcat")&&$e(d.params.bcat)&&(m=m.concat(d.params.bcat)),d.params.hasOwnProperty("acat")&&$e(d.params.acat)&&(h=h.concat(d.params.acat));var r=function(e,t){var n,r,o={},a={},c=e.hasOwnProperty("sizes")?e.sizes:[],s="",u=[],d=null==t?void 0:t.fledgeEnabled;if(function(e,t){t.params.deals&&($e(t.params.deals)?t.params.deals.forEach((function(t){Xe(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):Me(Ds+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):Me(Ds+"Error: bid.params.deals should be an array of strings."))}(o={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:Qs("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:Qs("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?Qs("currency",e.params.currency):Ps,displaymanager:"Prebid.js",displaymanagerver:"8.52.0"},e),function(e,t){var n,r="";if(t.params.dctr)if(Xe(r=t.params.dctr)&&r.length>0){var i=r.split("|");r="",i.forEach((function(e){r+=e.length>0?e.trim()+"|":""})),n=r.length,"|"===r.substring(n,n-1)&&(r=r.substring(0,n-1)),e.ext.key_val=r.trim()}else Me(Ds+"Ignoring param : dctr with value : "+r+", expects string-value, found empty or non-string value")}(o,e),function(e,t){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,r="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var i,o=n.segments.length;r+="jw-id="+n.content.id;for(var a=0;a<o;a++)r+="|jw-"+n.segments[a]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=r:i.key_val+="|"+r}}(o,e),e.hasOwnProperty("mediaTypes"))for(s in e.mediaTypes)switch(s){case Ki:(n=ru(e))!==qs&&(o.banner=n);break;case Vi:a.request=JSON.stringify(nu(e.nativeParams)),Ks?(Me(Ds+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),Ks=!1):o.native=a;break;case Ji:(r=iu(e))!==qs&&(o.video=r)}else n={pos:0,w:e.params.width,h:e.params.height,topframe:pt()?0:1},$e(c)&&c.length>1&&((c=c.splice(1,c.length-1)).forEach((function(e){u.push({w:e[0],h:e[1]})})),n.format=u),o.banner=n;return function(e,t){var n=_s({},I(t,"ortb2Imp.ext.data"));Object.keys(n).forEach((function(t){"pbadslot"===t?"string"==typeof n[t]&&n[t]&&Bt(e,"ext.data.pbadslot",n[t]):"adserver"===t?["name","adslot"].forEach((function(t){var r=I(n,"adserver.".concat(t));"string"==typeof r&&r&&(Bt(e,"ext.data.adserver.".concat(t.toLowerCase()),r),"adslot"===t&&Bt(e,"ext.dfp_ad_unit_code",r))})):Bt(e,"ext.data.".concat(t),n[t])}));var r=I(t,"ortb2Imp.ext.gpid");r&&Bt(e,"ext.gpid",r)}(o,e),function(e,t){var n=-1;"function"!=typeof t.getFloor||K.getConfig("pubmatic.disableFloors")||[Ki,Ji,Vi].forEach((function(r){if(e.hasOwnProperty(r)){var o=[];"banner"===r&&(e[r].w&&e[r].h&&o.push([e[r].w,e[r].h]),$e(e[r].format)&&e[r].format.forEach((function(e){return o.push([e.w,e.h])}))),0===o.length&&o.push("*"),o.forEach((function(o){var a=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:o});if(Ne(Ds,"floor from floor module returned for mediatype:",r," and size:",o," is: currency",a.currency,"floor",a.floor),"object"===i(a)&&a.currency===e.bidfloorcur&&!isNaN(parseInt(a.floor))){var c=parseFloat(a.floor);Ne(Ds,"floor from floor module:",c,"previous floor value",n,"Min:",Math.min(c,n)),n=-1===n?c:Math.min(c,n),Ne(Ds,"new floor value:",n)}}))}})),e.bidfloor&&(Ne(Ds,"floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor)),e.bidfloor=!isNaN(n)&&n>0?n:qs,Ne(Ds,"new impObj.bidfloor value:",e.bidfloor)}(o,e),function(e,t,n){var r,i;n?(e.ext=e.ext||{},void 0!==(null==t||null===(r=t.ortb2Imp)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.ae)&&(e.ext.ae=t.ortb2Imp.ext.ae)):null!==(i=e.ext)&&void 0!==i&&i.ae&&delete e.ext.ae}(o,e,d),o.hasOwnProperty(Ki)||o.hasOwnProperty(Vi)||o.hasOwnProperty(Ji)?o:qs}(d,t);r&&p.imp.push(r)})),0!=p.imp.length){p.site.publisher.id=f.pubId.trim(),Js=f.pubId.trim(),p.ext.wrapper={},p.ext.wrapper.profile=parseInt(f.profId)||qs,p.ext.wrapper.version=parseInt(f.verId)||qs,p.ext.wrapper.wiid=f.wiid||t.auctionId,p.ext.wrapper.wv="prebid_prebid_8.52.0",p.ext.wrapper.transactionId=f.transactionId,p.ext.wrapper.wp="pbjs";var y,w,O=t?Zt.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==O){if(p.ext.marketplace={},t&&1==O){var T=Zt.get(t.bidderCode,"allowedAlternateBidderCodes");$e(T)?(T=T.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(ct),Xs=T.includes("*")?$s:[].concat(l(Xs),l(T))):Xs=$s}p.ext.marketplace.allowedbidders=Xs.filter(ct)}p.user.gender=f.gender?f.gender.trim():qs,p.user.geo={},p.user.yob=Qs("yob",f.yob),p.site.page=f.kadpageurl.trim()||p.site.page.trim(),p.site.domain=(y=p.site.page,(w=document.createElement("a")).href=y,w.hostname),"object"===i(K.getConfig("content"))&&(p.site.content=K.getConfig("content")),"object"===i(K.getConfig("device"))&&(p.device=Object.assign(p.device,K.getConfig("device"))),p.device.language=p.device.language&&p.device.language.split("-")[0],Bt(p,"source.tid",null==t||null===(n=t.ortb2)||void 0===n||null===(n=n.source)||void 0===n?void 0:n.tid),-1!==window.location.href.indexOf("pubmaticTest=true")&&(p.test=1),e[0].schain&&Bt(p,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(Bt(p,"user.ext.consent",t.gdprConsent.consentString),Bt(p,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&Bt(p,"regs.ext.us_privacy",t.uspConsent),null!=t&&null!==(r=t.gppConsent)&&void 0!==r&&r.gppString?(Bt(p,"regs.gpp",t.gppConsent.gppString),Bt(p,"regs.gpp_sid",t.gppConsent.applicableSections)):null!=t&&null!==(o=t.ortb2)&&void 0!==o&&null!==(o=o.regs)&&void 0!==o&&o.gpp&&(Bt(p,"regs.gpp",t.ortb2.regs.gpp),Bt(p,"regs.gpp_sid",t.ortb2.regs.gpp_sid)),!0===K.getConfig("coppa")&&Bt(p,"regs.coppa",1),null!=t&&null!==(a=t.ortb2)&&void 0!==a&&null!==(a=a.regs)&&void 0!==a&&null!==(a=a.ext)&&void 0!==a&&a.dsa&&Bt(p,"regs.ext.dsa",t.ortb2.regs.ext.dsa),function(e,t){var n=I(t,"0.userIdAsEids");$e(n)&&n.length>0&&Bt(e,"user.eids",n)}(p,e);var E,A=t&&t.ortb2||{},C=A.user,R=A.device,j=A.site,S=A.bcat,k=A.badv;if(j){var x=p.site,B=x.page,_=x.domain,U=x.ref;St(p,{site:j}),p.site.page=B,p.site.domain=_,p.site.ref=U}if(C&&St(p,{user:C}),k&&St(p,{badv:k}),S&&(m=m.concat(S)),null!=R&&R.sua&&(p.device.sua=null==R?void 0:R.sua),null!=R&&null!==(c=R.ext)&&void 0!==c&&c.cdep&&Bt(p,"device.ext.cdep",R.ext.cdep),null!=C&&C.geo&&null!=R&&R.geo?(p.device.geo=_s(_s({},p.device.geo),R.geo),p.user.geo=_s(_s({},p.user.geo),C.geo)):(null!=C&&C.geo||null!=R&&R.geo)&&(p.user.geo=p.device.geo=null!=C&&C.geo?_s(_s({},p.user.geo),C.geo):_s(_s({},p.user.geo),R.geo)),null!==(s=A.ext)&&void 0!==s&&null!==(s=s.prebid)&&void 0!==s&&null!==(s=s.bidderparams)&&void 0!==s&&null!==(s=s[t.bidderCode])&&void 0!==s&&s.acat){var D=A.ext.prebid.bidderparams[t.bidderCode].acat;ou(p,D)}else h.length&&ou(p,h);return function(e,t){(t=t.filter((function(e){return"string"==typeof e||(Me(Ds+"bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){if(e.length>3)return n.indexOf(e)===t;Me(Ds+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Me(Ds+"bcat: Selected: ",t),e.bcat=t)}(p,m),null!=t&&t.timeout?p.tmax=t.timeout:p.tmax=null===(E=window)||void 0===E||null===(E=E.PWT)||void 0===E||null===(E=E.versionDetails)||void 0===E?void 0:E.timeout,p.ext.epoch=(new Date).getTime(),"object"===i(K.getConfig("app"))&&(p.app=K.getConfig("app"),p.app.publisher=p.site.publisher,p.app.ext=p.site.ext||qs,"object"!==i(p.app.content)&&(p.app.content=p.site.content||qs),delete p.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(p),bidderRequest:t}}},interpretResponse:function(e,t){var n=[],i=Ps,o=JSON.parse(t.data),a=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&$e(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach((function(e){e.bid&&$e(e.bid)&&e.bid.forEach((function(r){var c={requestId:r.impid,cpm:parseFloat((r.price||0).toFixed(2)),width:r.w,height:r.h,creativeId:r.crid||r.id,dealId:r.dealid,currency:i,netRevenue:!0,ttl:300,referrer:a,ad:r.adm,pm_seat:e.seat||null,pm_dspid:r.ext&&r.ext.dspid?r.ext.dspid:null,partnerImpId:r.id||""};o.imp&&o.imp.length>0&&o.imp.forEach((function(e){if(r.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=Vs[e.ext.bidtype];else{Ne(Ds+"bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,r="",i=new RegExp(/VAST\s+version/);if(n.indexOf('span class="PubAPIAd"')>=0)t.mediaType=Ki;else if(i.test(n))t.mediaType=Ji;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=Vi)}catch(e){Me(Ds+"Error: Cannot parse native reponse for ad response: "+n)}}}(r,c),c.mediaType){case Ki:break;case Ji:c.width=r.hasOwnProperty("w")?r.w:e.video.w,c.height=r.hasOwnProperty("h")?r.h:e.video.h,c.vastXml=r.adm,function(e,t){var n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(n=t.bidderRequest.bids[o].params,r=t.bidderRequest.bids[o].mediaTypes[Ji].context,i=t.bidderRequest.bids[o].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=Hs.newRenderer(e.rendererCode,i))}}(c,t),function(e,t,n){var r,i;if(null!=t&&null!==(r=t.ext)&&void 0!==r&&r.prebiddealpriority){var o=function(e,t){if(e)return t.flatMap((function(e){return e.bids})).find((function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}))}(e.requestId,[n.bidderRequest]),a=I(o,"mediaTypes.video");if((null==a?void 0:a.context)==Xi){var c=(null==t||null===(i=t.ext)||void 0===i||null===(i=i.video)||void 0===i?void 0:i.duration)||(null==a?void 0:a.maxduration);e.video={context:Xi,durationSeconds:c,dealTier:t.ext.prebiddealpriority}}}}(c,r,t);break;case Vi:!function(e,t){if(e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return void Me(Ds+"Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:_s({},n.native)},t.mediaType=Vi,t.width||(t.width=0),t.height||(t.height=0)}}(r,c)}})),r.ext&&r.ext.deal_channel&&(c.dealChannel=Gs[r.ext.deal_channel]||null),function(e,t,n){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);var r=n||t.ext&&t.ext.advid;r&&(e.meta.advertiserId=r,e.meta.agencyId=r,e.meta.buyerId=r),t.adomain&&au(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&au(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0]),t.ext&&t.ext.dsa&&Object.keys(t.ext.dsa).length&&(e.meta.dsa=t.ext.dsa)}(c,r,e.seat),e.ext&&e.ext.buyid&&(c.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),r.ext&&r.ext.marketplace&&(c.bidderCode=r.ext.marketplace),n.push(c)}))})));var c=I(e.body,"ext.fledge_auction_configs");if(c)return c=Object.entries(c).map((function(e){var t=r(e,2),n=t[0],i=t[1];return{bidId:n,config:Object.assign({auctionSignals:{}},i)}})),{bids:n,fledgeAuctionConfigs:c}}catch(e){ze(e)}return n},getUserSyncs:function(e,t,n,r,i){var o,a,c=""+Js;return n&&(c+="&gdpr="+(n.gdprApplies?1:0),c+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(c+="&us_privacy="+encodeURIComponent(r)),null!=i&&i.gppString&&null!=i&&null!==(o=i.applicableSections)&&void 0!==o&&o.length&&(c+="&gpp="+encodeURIComponent(i.gppString),c+="&gpp_sid="+encodeURIComponent(null==i||null===(a=i.applicableSections)||void 0===a?void 0:a.join(","))),!0===K.getConfig("coppa")&&(c+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+c}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+c}]}};function su(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?su(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):su(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}gr(cu),d("pubmaticBidAdapter");var du={mimes:function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e}))},minduration:function(e){return Tt(e)},maxduration:function(e){return Tt(e)},protocols:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=10}))},w:function(e){return Tt(e)},h:function(e){return Tt(e)},startdelay:function(e){return Tt(e)},placement:function(e){return Tt(e)&&e>=1&&e<=5},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return Tt(e)},skipafter:function(e){return Tt(e)},sequence:function(e){return Tt(e)},battr:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=17}))},maxextended:function(e){return Tt(e)},minbitrate:function(e){return Tt(e)},maxbitrate:function(e){return Tt(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=3}))},pos:function(e){return Tt(e)&&e>=1&&e<=7},api:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))}},lu={context:function(e){return e!==Xi},mimes:du.mimes,maxduration:du.maxduration,protocols:du.protocols};function fu(e){var t=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{},n=parseFloat(t.floor);if(!isNaN(n))return n;var r=parseFloat(Se("bidfloor",e.params));return isNaN(r)?void 0:r}gr({code:"sovrn",supportedMediaTypes:[Ki,Ji],gvlid:13,isBidRequestValid:function(e){var t,n=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||n&&!Object.keys(lu).every((function(e){return lu[e](n[e])})))},buildRequests:function(e,t){try{var n,i,o,a,c=[];!function(e,t){var n=this;if(Ke(null==e?void 0:e.forEach))return e.forEach(t,this);Object.entries(e||{}).forEach((function(e){var i=r(e,2),o=i[0],a=i[1];return t.call(n,a,o)}))}(e,(function(e){var r;!o&&e.userIdAsEids&&(o=e.userIdAsEids).forEach((function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(a=e.uids[0].id)})),e.schain&&(i=i||e.schain),n=n||Se("iv",e.params);var s={adunitcode:e.adUnitCode,id:e.bidId,tagid:String(Se("tagid",e.params)),bidfloor:fu(e)};if(I(e,"mediaTypes.banner")){var u=I(e,"mediaTypes.banner.sizes")||e.sizes,d=(u=(u=$e(u)&&$e(u[0])?u:[u]).filter((function(e){return $e(e)}))).map((function(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}));s.banner={format:d,w:1,h:1}}I(e,"mediaTypes.video")&&(s.video=function(e){var t={},n=I(e,"sizes"),r=I(e,"mediaTypes.video",{}),i=I(e,"params.video",{}),o={};if(n){var a=Array.isArray(n[0])?n[0]:n;o.w=a[0],o.h=a[1]}else if(Array.isArray(r.playerSize)){var c=Array.isArray(r.playerSize[0])?r.playerSize[0]:r.playerSize;o.w=c[0],o.h=c[1]}var s=uu(uu(uu({},o),r),i);return Object.keys(du).forEach((function(e){s.hasOwnProperty(e)&&(du[e](s[e])?t[e]=s[e]:Me("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),t}(e)),s.ext=Se("ext",e.ortb2Imp)||void 0;var l=Se("segments",e.params);l&&(s.ext=s.ext||{},s.ext.deals=l.split(",").map((function(e){return e.trim()})));var f,p=null==e||null===(r=e.ortb2Imp)||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.ae;t.fledgeEnabled&&Tt(p)?(s.ext=s.ext||{},s.ext.ae=p):null!==(f=s.ext)&&void 0!==f&&f.ae&&delete s.ext.ae,c.push(s)}));var s=t.ortb2||{},u=s.site||{};u.page=t.refererInfo.page,u.domain=t.refererInfo.domain;var d=I(t,"timeout"),l={id:Re(),imp:c,site:u,user:s.user||{},tmax:d};i&&(l.source={ext:{schain:i}});var f=I(t,"ortb2.source.tid");f&&Bt(l,"source.tid",f),I(t,"ortb2.regs.coppa")&&Bt(l,"regs.coppa",1),t.gdprConsent&&(Bt(l,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),Bt(l,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&Bt(l,"regs.ext.us_privacy",t.uspConsent),t.gppConsent&&(Bt(l,"regs.gpp",t.gppConsent.gppString),Bt(l,"regs.gpp_sid",t.gppConsent.applicableSections)),o&&(Bt(l,"user.ext.eids",o),a&&Bt(l,"user.ext.prebid_criteoid",a));var p="https://ap.lijit.com/rtb/bid?src=prebid_prebid_8.52.0";return n&&(p+="&iv=".concat(n)),{method:"POST",url:p,data:JSON.stringify(l),options:{contentType:"text/plain"}}}catch(e){ze("Could not build bidrequest, error deatils:",e)}},interpretResponse:function(e){var t=e.body,n=t.id,i=t.seatbid,o=t.ext;if(!n||!i||!Array.isArray(i))return[];try{var a=i.filter((function(e){return e})).map((function(e){return e.bid.map((function(e){var t,n={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?Ki:Ji,ttl:(null===(t=e.ext)||void 0===t?void 0:t.ttl)||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?n.ad=decodeURIComponent("".concat(e.adm,'<img src="').concat(e.nurl,'">')):n.vastXml=decodeURIComponent(e.adm),n}))})).flat(),c=null;if($e(null==o?void 0:o.igbid)){var s=o.seller,u=o.decisionLogicUrl,d=o.sellerTimeout;o.igbid.filter((function(e){return!tt((t=e).impid)&&$e(t.igbuyer)&&t.igbuyer.length;var t})).forEach((function(e){var t={};e.igbuyer.filter((function(e){return!tt(e.igdomain)})).forEach((function(e){t[e.igdomain]=e.buyerdata}));var n=l(Object.keys(t));n.length&&((c=c||{})[e.impid]={seller:s,decisionLogicUrl:u,sellerTimeout:d,interestGroupBuyers:n,perBuyerSignals:t})}))}return c?{bids:a,fledgeAuctionConfigs:c=Object.entries(c).map((function(e){var t=r(e,2),n=t[0],i=t[1];return{bidId:n,config:Object.assign({auctionSignals:{}},i)}}))}:a}catch(e){return ze("Could not interpret bidresponse, error details:",e),e}},getUserSyncs:function(e,t,n,r,i){try{var o=[];if(t&&0!==t.length){if(e.iframeEnabled){var a=t.filter((function(e){return I(e,"body.ext.iid")})).map((function(e){return e.body.ext.iid})),c=[];n&&n.gdprApplies&&"string"==typeof n.consentString&&c.push(["gdpr_consent",n.consentString]),r&&c.push(["us_privacy",r]),i&&(c.push(["gpp",i.gppString]),c.push(["gpp_sid",i.applicableSections])),a[0]&&(c.push(["informer",a[0]]),o.push({type:"iframe",url:"https://ce.lijit.com/beacon?"+c.map((function(e){return e.join("=")})).join("&")}))}e.pixelEnabled&&t.filter((function(e){return I(e,"body.ext.sync.pixels")})).reduce((function(e,t){return e.concat(t.body.ext.sync.pixels)}),[]).map((function(e){return e.url})).forEach((function(e){return o.push({type:"image",url:e})}))}return o}catch(e){return[]}}}),d("sovrnBidAdapter"),_c.processQueue()})()})();