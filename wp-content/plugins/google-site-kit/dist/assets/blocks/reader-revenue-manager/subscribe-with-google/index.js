(()=>{var e={192:(e,t,r)=>{"use strict";var n=r(696),o=60103;if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function a(e,t,r){var n,i={},a=null,l=null;for(n in void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,n)&&!s.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:a,ref:l,props:i,_owner:c.current}}t.jsx=a,t.jsxs=a},362:(e,t,r)=>{"use strict";var n=r(441);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,c){if(c!==n){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},403:(e,t,r)=>{"use strict";var n=r(664),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,c=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113,y=o?Symbol.for("react.memo"):60115,_=o?Symbol.for("react.lazy"):60116,h="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function w(){}function k(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=v.prototype;var S=k.prototype=new w;S.constructor=k,n(S,v.prototype),S.isPureReactComponent=!0;var O={current:null},P=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,r){var n,o={},c=null,u=null;if(null!=t)for(n in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(c=""+t.key),t)P.call(t,n)&&!E.hasOwnProperty(n)&&(o[n]=t[n]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];o.children=a}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===o[n]&&(o[n]=s[n]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:O.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g,R=[];function M(e,t,r,n){if(R.length){var o=R.pop();return o.result=e,o.keyPrefix=t,o.func=r,o.context=n,o.count=0,o}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function q(e,t,r,n){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var u=!1;if(null===e)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case c:u=!0}}if(u)return r(n,e,""===t?"."+T(e,0):t),1;if(u=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var a=t+T(o=e[s],s);u+=q(o,a,r,n)}else if(null===e||"object"!=typeof e?a=null:a="function"==typeof(a=h&&e[h]||e["@@iterator"])?a:null,"function"==typeof a)for(e=a.call(e),s=0;!(o=e.next()).done;)u+=q(o=o.value,a=t+T(o,s++),r,n);else if("object"===o)throw r=""+e,Error(b(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return u}function C(e,t,r){return null==e?0:q(e,"",t,r)}function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function $(e,t){e.func.call(e.context,t,e.count++)}function W(e,t,r){var n=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?I(e,n,r,function(e){return e}):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(x,"$&/")+"/")+r)),n.push(e))}function I(e,t,r,n,o){var i="";null!=r&&(i=(""+r).replace(x,"$&/")+"/"),C(e,W,t=M(t,i,n,o)),N(t)}var U={current:null};function B(){var e=U.current;if(null===e)throw Error(b(321));return e}var L={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return I(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;C(e,$,t=M(null,null,t,r)),N(t)},count:function(e){return C(e,function(){return null},null)},toArray:function(e){var t=[];return I(e,t,null,function(e){return e}),t},only:function(e){if(!A(e))throw Error(b(143));return e}},t.Component=v,t.Fragment=u,t.Profiler=a,t.PureComponent=k,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null==e)throw Error(b(267,e));var o=n({},e.props),c=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=O.current),void 0!==t.key&&(c=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)P.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){a=Array(l);for(var p=0;p<l;p++)a[p]=arguments[p+2];o.children=a}return{$$typeof:i,type:e.type,key:c,ref:u,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:_,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return B().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,r){return B().useReducer(e,t,r)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.14.0"},441:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},452:e=>{!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=o(e,n(r)))}return e}function n(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var n="";for(var i in e)t.call(e,i)&&e[i]&&(n=o(n,i));return n}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return r}):window.classNames=r}()},540:(e,t,r)=>{"use strict";e.exports=r(192)},664:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,c,u=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var a in i=Object(arguments[s]))r.call(i,a)&&(u[a]=i[a]);if(t){c=t(i);for(var l=0;l<c.length;l++)n.call(i,c[l])&&(u[c[l]]=i[c[l]])}}return u}},688:(e,t,r)=>{e.exports=r(362)()},696:(e,t,r)=>{"use strict";e.exports=r(403)}},t={};function __webpack_require__(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,__webpack_require__),o.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=wp.blocks,t=googlesitekit.data,r="core/modules",n="kmAnalyticsTopCategories",o="modules/reader-revenue-manager",i=googlesitekit.i18n,c=((0,i.__)("Specific content types","google-site-kit"),(0,i.__)("Specified pages","google-site-kit"),(0,i.__)("Site wide","google-site-kit"),"reader-revenue-manager"),u="core/editor",s=wp.components,a=wp.element;var l,p=__webpack_require__(452),f=__webpack_require__.n(p),d=__webpack_require__(688),y=__webpack_require__.n(d),_=__webpack_require__(696);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(null,arguments)}const b=e=>_.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 43 44"},e),l||(l=_.createElement("g",{fill:"none",fillRule:"evenodd"},_.createElement("path",{fill:"#FBBC05",d:"m2.253 12.252 7.399 5.658A13 13 0 0 0 9 22c0 1.43.229 2.805.652 4.09l-7.4 5.658A22 22 0 0 1 0 22c0-3.506.81-6.814 2.253-9.748"}),_.createElement("path",{fill:"#EA4335",d:"m9.652 17.91-7.4-5.658A21.94 21.94 0 0 1 22 0c5.6 0 10.6 2.1 14.5 5.5l-6.4 6.4C27.9 10.1 25.1 9 22 9c-5.77 0-10.64 3.725-12.348 8.91"}),_.createElement("path",{fill:"#34A853",d:"m2.25 31.742 7.396-5.67A12.975 12.975 0 0 0 22 35c6.1 0 10.7-3.1 11.8-8.5H22V18h20.5c.3 1.3.5 2.7.5 4 0 14-10 22-21 22A21.94 21.94 0 0 1 2.25 31.742"}),_.createElement("path",{fill:"#4285F4",d:"m36.34 38.52-7.025-5.437c2.297-1.45 3.895-3.685 4.485-6.583H22V18h20.5c.3 1.3.5 2.7.5 4 0 7.17-2.623 12.767-6.66 16.52"}))));var m=__webpack_require__(540);function EditorButton({children:e,disabled:t}){return(0,m.jsxs)("button",{disabled:t,className:f()("googlesitekit-blocks-reader-revenue-manager-button",{"googlesitekit-blocks-reader-revenue-manager-button--disabled":t}),children:[(0,m.jsx)(b,{height:"18",width:"18"}),e]})}EditorButton.propTypes={children:y().node.isRequired,disabled:y().bool.isRequired};const g=wp.blockEditor,v=wp.data;function w({hasModuleAccess:e,withModuleAccessNotice:t,withoutModuleAccessNotice:r}){return void 0===e?null:e?t:r}function ButtonEdit({buttonLabel:e,requiredPaymentOption:n,invalidPaymentOptionWithModuleAccessNotice:i,invalidPaymentOptionWithoutModuleAccessNotice:l,noSnippetWithModuleAccessNotice:p,noSnippetWithoutModuleAccessNotice:f}){const[d,y]=(0,a.useState)(void 0),_=(0,g.useBlockProps)();(0,a.useEffect)(()=>{!async function(){let e=(0,t.select)(r).hasModuleOwnership(c);!1===e&&(e=await(0,t.resolveSelect)(r).hasModuleAccess(c)),y(!!e)}()},[]);const h=(0,t.select)(o).getSettings(),{publicationID:b,paymentOption:k,snippetMode:S,postTypes:O}=h,P=`googlesitekit_rrm_${b}:productID`,E=(0,v.useSelect)(e=>e(u).getEditedPostAttribute("meta")?.[P]||""),j=(0,v.useSelect)(e=>e(u).getCurrentPostType()),{notice:A,disabled:x}=function({paymentOption:e,requiredPaymentOption:t,hasModuleAccess:r,postProductID:n,snippetMode:o,postTypes:i,postType:c,invalidPaymentOptionWithModuleAccessNotice:u,invalidPaymentOptionWithoutModuleAccessNotice:s,noSnippetWithModuleAccessNotice:a,noSnippetWithoutModuleAccessNotice:l}){return e!==t?{disabled:!0,notice:w({hasModuleAccess:r,withModuleAccessNotice:u,withoutModuleAccessNotice:s})}:"none"===n||!n&&"per_post"===o||!n&&"post_types"===o&&!i.includes(c)?{disabled:!0,notice:w({hasModuleAccess:r,withModuleAccessNotice:a,withoutModuleAccessNotice:l})}:{disabled:!1,notice:null}}({paymentOption:k,requiredPaymentOption:n,hasModuleAccess:d,postProductID:E,snippetMode:S,postTypes:O,postType:j,invalidPaymentOptionWithModuleAccessNotice:i,invalidPaymentOptionWithoutModuleAccessNotice:l,noSnippetWithModuleAccessNotice:p,noSnippetWithoutModuleAccessNotice:f});return(0,m.jsxs)(a.Fragment,{children:[A&&(0,m.jsx)(g.InspectorControls,{children:(0,m.jsx)("div",{className:"block-editor-block-card",children:(0,m.jsx)(s.Notice,{status:"warning",isDismissible:!1,children:A})})}),(0,m.jsx)("div",{..._,children:(0,m.jsx)("div",{className:"googlesitekit-blocks-reader-revenue-manager",children:(0,m.jsx)(EditorButton,{disabled:x,children:e})})})]})}function Edit(){const e=(0,t.select)(o).getPublicationID(),r=(0,t.select)(o).getServiceURL({path:"reader-revenue-manager",query:{publication:e}});return(0,m.jsx)(ButtonEdit,{select:t.select,buttonLabel:/* translators: Button label for Subscribe with Google. See: https://github.com/subscriptions-project/swg-js/blob/05af2d45cfcaf831a6b4d35c28f2c7b5c2e39308/src/i18n/swg-strings.ts#L24-L57 (please refer to the latest version of the file) */ /* translators: Button label for Subscribe with Google. See: https://github.com/subscriptions-project/swg-js/blob/05af2d45cfcaf831a6b4d35c28f2c7b5c2e39308/src/i18n/swg-strings.ts#L24-L57 (please refer to the latest version of the file) */
(0,i.__)("Subscribe with Google","google-site-kit"),requiredPaymentOption:"subscriptions",invalidPaymentOptionWithModuleAccessNotice:(0,a.createInterpolateElement)((0,i.__)("You need to set up a paywall in Reader Revenue Manager to use this block. <a>Go to Reader Revenue Manager</a>","google-site-kit"),{a:(0,m.jsx)(s.ExternalLink,{href:r})}),invalidPaymentOptionWithoutModuleAccessNotice:(0,i.__)("You need to set up a paywall in Reader Revenue Manager to use this block. Contact your administrator.","google-site-kit"),noSnippetWithModuleAccessNotice:(0,a.createInterpolateElement)((0,i.__)("This post does not include the Reader Revenue Manager snippet. Configure the snippet for this post in the post settings sidebar.","google-site-kit"),{a:(0,m.jsx)(s.ExternalLink,{href:r})}),noSnippetWithoutModuleAccessNotice:(0,i.__)("This post does not include the Reader Revenue Manager snippet. Contact your administrator","google-site-kit")})}ButtonEdit.propTypes={buttonLabel:y().string.isRequired,requiredPaymentOption:y().string.isRequired,invalidPaymentOptionWithModuleAccessNotice:y().node.isRequired,invalidPaymentOptionWithoutModuleAccessNotice:y().node.isRequired,noSnippetWithModuleAccessNotice:y().node.isRequired,noSnippetWithoutModuleAccessNotice:y().node.isRequired};const k=JSON.parse('{"UU":"google-site-kit/rrm-subscribe-with-google"}');!async function(){await Promise.all([(0,t.resolveSelect)(r).getModule(c),(0,t.resolveSelect)("core/user").getUser(),(0,t.resolveSelect)(o).getSettings()]);const n=!!(0,t.select)("core/edit-site");(0,e.registerBlockType)(k.UU,{edit:()=>n?null:(0,m.jsx)(Edit,{}),supports:{inserter:!n}})}()})()})();