(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{122:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(4),i=n.n(a),r=n(14),o=n.n(r),s=n(54),l=n(39),c=n(123),u=n(124),d=n(125),p=n(45);function g(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(t){var n,a,r,o,c;return i.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=e.googlesitekit.admin,a=n.homeURL,r=n.ampMode,o={tagverify:1,timestamp:Date.now()},u.next=4,i.a.awrap(f(Object(l.a)(a,o),t));case 4:if((c=u.sent)||"secondary"!==r){u.next=9;break}return u.next=8,i.a.awrap(Object(s.default)({path:"/wp/v2/posts?per_page=1"}).then((function(e){return e.slice(0,1).map((function(e){return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(f(Object(l.a)(e.link,m({},o,{amp:1})),t));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}))})).pop()})));case 8:c=u.sent;case 9:return u.abrupt("return",Promise.resolve(c||null));case 10:case"end":return u.stop()}}))},f=function(e,t){var n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,i.a.awrap(fetch(e,{credentials:"omit"}).then((function(e){return e.text()})));case 3:return n=a.sent,a.abrupt("return",v(n,t)||null);case 7:return a.prev=7,a.t0=a.catch(0),a.abrupt("return",null);case 10:case"end":return a.stop()}}),null,null,[[0,7]])},v=function(e,t){var n=({adsense:u.a,analytics:d.a,tagmanager:p.d,setup:c.a}[t]||[]).find((function(t){return t.test(e)}));return!!n&&n.exec(e)[1]}}).call(this,n(16))},123:function(e,t,n){"use strict";t.a=[/<meta name="googlesitekit-setup" content="([a-z0-9-]+)"/]},124:function(e,t,n){"use strict";t.a=[/google_ad_client: ?["|'](.*?)["|']/,/<(?:script|amp-auto-ads) [^>]*data-ad-client="([^"]+)"/]},125:function(e,t,n){"use strict";t.a=[/<script [^>]*src=['|"]https:\/\/www.googletagmanager.com\/gtag\/js\?id=(UA-.*?)['|"][^>]*><\/script>/,/<script[^>]*>[^<]+google-analytics\.com\/analytics\.js[^<]+(UA-\d+-\d+)/,/__gaTracker\( ?['|"]create['|"], ?['|"](UA-.*?)['|"], ?['|"]auto['|"] ?\)/,/ga\( ?['|"]create['|"], ?['|"](UA-.*?)['|"], ?['|"]auto['|"] ?\)/,/_gaq.push\( ?\[ ?['|"]_setAccount['|"], ?['|"](UA-.*?)['|"] ?] ?\)/,/<amp-analytics [^>]*type="gtag"[^>]*>[^<]*<script type="application\/json">[^<]*"gtag_id":\s*"(UA-[^"]+)"/,/<amp-analytics [^>]*type="googleanalytics"[^>]*>[^<]*<script type="application\/json">[^<]*"account":\s*"(UA-[^"]+)"/]},151:function(e,t,n){"use strict";(function(e,a){var i=n(4),r=n.n(i),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(7),d=n.n(u),p=n(8),g=n.n(p),m=n(18),h=n.n(m),f=n(9),v=n.n(f),y=n(1),k=n(0),b=n(3),_=n(92),E=n(36),O=n(152),w=n(96),C=function(t){function UserMenu(e){var t;return s()(this,UserMenu),(t=d()(this,g()(UserMenu).call(this,e))).state={dialogActive:!1,menuOpen:!1},t.handleMenu=t.handleMenu.bind(h()(t)),t.handleMenuClose=t.handleMenuClose.bind(h()(t)),t.handleMenuItemSelect=t.handleMenuItemSelect.bind(h()(t)),t.handleDialog=t.handleDialog.bind(h()(t)),t.handleDialogClose=t.handleDialogClose.bind(h()(t)),t.handleUnlinkConfirm=t.handleUnlinkConfirm.bind(h()(t)),t.menuButtonRef=Object(y.h)(),t.menuRef=Object(y.h)(),t}return v()(UserMenu,t),c()(UserMenu,[{key:"componentDidMount",value:function(){e.addEventListener("mouseup",this.handleMenuClose),e.addEventListener("keyup",this.handleMenuClose),e.addEventListener("keyup",this.handleDialogClose)}},{key:"componentWillUnmount",value:function(){e.removeEventListener("mouseup",this.handleMenuClose),e.removeEventListener("keyup",this.handleMenuClose),e.removeEventListener("keyup",this.handleDialogClose)}},{key:"handleMenu",value:function(){var e=this.state.menuOpen;this.setState({menuOpen:!e})}},{key:"handleMenuClose",value:function(e){("keyup"!==e.type||27!==e.keyCode)&&"mouseup"!==e.type||this.menuButtonRef.current.buttonRef.current.contains(e.target)||this.menuRef.current.menuRef.current.contains(e.target)||this.setState({menuOpen:!1})}},{key:"handleMenuItemSelect",value:function(t,n){var a=e.googlesitekit.admin.proxyPermissionsURL;if("keydown"===n.type&&(13===n.keyCode||32===n.keyCode)||"click"===n.type)switch(t){case 0:this.handleDialog();break;case 1:e.location.assign(a);break;default:this.handleMenu()}}},{key:"handleDialog",value:function(){this.setState((function(e){return{dialogActive:!e.dialogActive,menuOpen:!1}}))}},{key:"handleDialogClose",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1,menuOpen:!1})}},{key:"handleUnlinkConfirm",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({dialogActive:!1}),Object(b.d)(),document.location=Object(b.m)("googlesitekit-splash",{googlesitekit_context:"revoked"});case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var t=e.googlesitekit.admin,n=t.userData,i=n.email,r=void 0===i?"":i,o=n.picture,s=void 0===o?"":o,l=t.proxyPermissionsURL,c=this.state,u=c.dialogActive,d=c.menuOpen;return a.createElement(y.b,null,a.createElement("div",{className:"googlesitekit-dropdown-menu mdc-menu-surface--anchor"},a.createElement(E.a,{ref:this.menuButtonRef,className:"googlesitekit-header__dropdown mdc-button--dropdown",text:!0,onClick:this.handleMenu,icon:s?a.createElement("i",{className:"mdc-button__icon","aria-hidden":"true"},a.createElement("img",{className:"mdc-button__icon--image",src:s,alt:Object(k.__)("User Avatar","google-site-kit")})):void 0,ariaHaspopup:"menu",ariaExpanded:d,ariaControls:"user-menu"},r),a.createElement(O.a,{ref:this.menuRef,menuOpen:d,menuItems:[Object(k.__)("Disconnect","google-site-kit")].concat(l?[Object(k.__)("Manage sites…","google-site-kit")]:[]),onSelected:this.handleMenuItemSelect,id:"user-menu"})),a.createElement(w.a,null,a.createElement(_.a,{dialogActive:u,handleConfirm:this.handleUnlinkConfirm,handleDialog:this.handleDialog,title:Object(k.__)("Disconnect","google-site-kit"),subtitle:Object(k.__)("Disconnecting Site Kit by Google will remove your access to all services. After disconnecting, you will need to re-authorize to restore service.","google-site-kit"),confirmButton:Object(k.__)("Disconnect","google-site-kit"),provides:[],danger:!0})))}}]),UserMenu}(y.a);t.a=C}).call(this,n(16),n(10))},152:function(e,t,n){"use strict";(function(e){var a=n(5),i=n.n(a),r=n(6),o=n.n(r),s=n(7),l=n.n(s),c=n(8),u=n.n(c),d=n(9),p=n.n(d),g=n(1),m=n(2),h=n.n(m),f=n(32),v=function(t){function Menu(e){var t;return i()(this,Menu),(t=l()(this,u()(Menu).call(this,e))).menuRef=Object(g.h)(),t}return p()(Menu,t),o()(Menu,[{key:"componentDidMount",value:function(){var e=this.props.menuOpen;this.menu=new f.f(this.menuRef.current),this.menu.open=e,this.menu.setDefaultFocusState(1)}},{key:"componentDidUpdate",value:function(e){var t=this.props.menuOpen;t!==e.menuOpen&&(this.menu.open=t)}},{key:"render",value:function(){var t=this.props,n=t.menuOpen,a=t.menuItems,i=t.onSelected,r=t.id;return e.createElement("div",{className:"mdc-menu mdc-menu-surface",ref:this.menuRef},e.createElement("ul",{id:r,className:"mdc-list",role:"menu","aria-hidden":!n,"aria-orientation":"vertical",tabIndex:"-1"},a.map((function(t,n){return e.createElement("li",{key:n,className:"mdc-list-item",role:"menuitem",onClick:i.bind(null,n),onKeyDown:i.bind(null,n)},e.createElement("span",{className:"mdc-list-item__text"},t))}))))}}]),Menu}(g.a);v.propTypes={menuOpen:h.a.bool.isRequired,menuItems:h.a.array.isRequired,id:h.a.string.isRequired},t.a=v}).call(this,n(10))},153:function(e,t,n){"use strict";var a=n(5),i=n.n(a),r=n(6),o=n.n(r),s=n(7),l=n.n(s),c=n(8),u=n.n(c),d=n(9),p=n.n(d),g=n(65),m=function(e){function ErrorNotification(){return i()(this,ErrorNotification),l()(this,u()(ErrorNotification).apply(this,arguments))}return p()(ErrorNotification,e),o()(ErrorNotification,[{key:"render",value:function(){return null}}]),ErrorNotification}(n(1).a);t.a=Object(g.a)("googlesitekit.ErrorNotification")(m)},154:function(e,t,n){"use strict";(function(e){var a=n(5),i=n.n(a),r=n(6),o=n.n(r),s=n(7),l=n.n(s),c=n(8),u=n.n(c),d=n(9),p=n.n(d),g=n(1),m=n(2),h=n.n(m),f=n(15),v=n.n(f),y=n(26),k=function(t){function LayoutHeader(){return i()(this,LayoutHeader),l()(this,u()(LayoutHeader).apply(this,arguments))}return p()(LayoutHeader,t),o()(LayoutHeader,[{key:"render",value:function(){var t=this.props,n=t.title,a=t.ctaLabel,i=t.ctaLink;return e.createElement("header",{className:"googlesitekit-layout__header"},e.createElement("div",{className:"mdc-layout-grid"},e.createElement("div",{className:"mdc-layout-grid__inner"},n&&e.createElement("div",{className:v()("mdc-layout-grid__cell","mdc-layout-grid__cell--align-middle","mdc-layout-grid__cell--span-4-phone",{"mdc-layout-grid__cell--span-6-desktop":i,"mdc-layout-grid__cell--span-12-desktop":!i,"mdc-layout-grid__cell--span-8-tablet":!i})},e.createElement("h3",{className:"googlesitekit-subheading-1 googlesitekit-layout__header-title"},n)),i&&e.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-tablet "},e.createElement(y.a,{href:i,external:!0,inherit:!0},a)))))}}]),LayoutHeader}(g.a);k.propTypes={title:h.a.string,ctaLabel:h.a.string,ctaLink:h.a.string},k.defaultProps={title:"",ctaLabel:"",ctaLink:""},t.a=k}).call(this,n(10))},155:function(e,t,n){"use strict";(function(e){var a=n(5),i=n.n(a),r=n(6),o=n.n(r),s=n(7),l=n.n(s),c=n(8),u=n.n(c),d=n(9),p=n.n(d),g=n(1),m=n(2),h=n.n(m),f=n(59),v=function(t){function LayoutFooter(){return i()(this,LayoutFooter),l()(this,u()(LayoutFooter).apply(this,arguments))}return p()(LayoutFooter,t),o()(LayoutFooter,[{key:"render",value:function(){var t=this.props,n=t.ctaLabel,a=t.ctaLink,i=t.footerContent;return e.createElement("footer",{className:"googlesitekit-layout__footer"},e.createElement("div",{className:"mdc-layout-grid"},e.createElement("div",{className:"mdc-layout-grid__inner"},e.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},a&&n&&e.createElement(f.a,{className:"googlesitekit-data-block__source",name:n,href:a,external:!0}),i))))}}]),LayoutFooter}(g.a);v.propTypes={ctaLabel:h.a.string,ctaLink:h.a.string},t.a=v}).call(this,n(10))},24:function(e,t,n){"use strict";(function(e){var a=n(5),i=n.n(a),r=n(6),o=n.n(r),s=n(7),l=n.n(s),c=n(8),u=n.n(c),d=n(9),p=n.n(d),g=n(1),m=n(2),h=n.n(m),f=n(15),v=n.n(f),y=n(154),k=n(155),b=function(t){function Layout(){return i()(this,Layout),l()(this,u()(Layout).apply(this,arguments))}return p()(Layout,t),o()(Layout,[{key:"render",value:function(){var t=this.props,n=t.header,a=t.footer,i=t.children,r=t.title,o=t.headerCtaLabel,s=t.headerCtaLink,l=t.footerCtaLabel,c=t.footerCtaLink,u=t.footerContent,d=t.className,p=t.fill,g=t.relative;return e.createElement("div",{className:v()("googlesitekit-layout",d,{"googlesitekit-layout--fill":p,"googlesitekit-layout--relative":g})},n&&e.createElement(y.a,{title:r,ctaLabel:o,ctaLink:s}),i,a&&e.createElement(k.a,{ctaLabel:l,ctaLink:c,footerContent:u}))}}]),Layout}(g.a);b.propTypes={header:h.a.bool,footer:h.a.bool,children:h.a.node.isRequired,title:h.a.string,headerCtaLabel:h.a.string,headerCtaLink:h.a.string,footerCtaLabel:h.a.string,footerCtaLink:h.a.string,footerContent:h.a.node,className:h.a.string,fill:h.a.bool,relative:h.a.bool},b.defaultProps={header:!1,footer:!1,title:"",headerCtaLabel:"",headerCtaLink:"",footerCtaLabel:"",footerCtaLink:"",footerContent:null,className:"",fill:!1,relative:!1},t.a=b}).call(this,n(10))},242:function(e,t,n){"use strict";(function(e){var a=n(14),i=n.n(a),r=n(5),o=n.n(r),s=n(6),l=n.n(s),c=n(7),u=n.n(c),d=n(8),p=n.n(d),g=n(18),m=n.n(g),h=n(9),f=n.n(h),v=n(1),y=n(2),k=n.n(y),b=n(15),_=n.n(b),E=n(54),O=n(0),w=n(3),C=n(243),x=n(50),L=function(t){function OptIn(e){var t;return o()(this,OptIn),(t=u()(this,p()(OptIn).call(this,e))).state={optIn:Object(x.a)(),error:!1},t.handleOptIn=t.handleOptIn.bind(m()(t)),t}return f()(OptIn,t),l()(OptIn,[{key:"handleOptIn",value:function(e){var t=this,n=!!e.target.checked,a=Object(w.i)("googlesitekit_tracking_optin");Object(x.b)(n),n&&Object(x.c)("tracking_plugin",this.props.optinAction),Object(E.default)({path:"/wp/v2/users/me",method:"POST",data:{meta:i()({},a,n)}}).then((function(){t.setState({optIn:n,error:!1})})).catch((function(e){t.setState({optIn:!n,error:{errorCode:e.code,errorMsg:e.message}})}))}},{key:"render",value:function(){var t=this.state,n=t.optIn,a=t.error,i=this.props,r=i.id,o=i.name,s=i.className,l=Object(O.sprintf)(
/* translators: %s: privacy policy URL */
Object(O.__)('Help us improve the Site Kit plugin by allowing tracking of anonymous usage stats. All data are treated in accordance with <a href="%s" target="_blank" rel="noopener noreferrer">Google Privacy Policy</a>',"google-site-kit"),"https://policies.google.com/privacy");return e.createElement("div",{className:_()("googlesitekit-opt-in",s)},e.createElement(C.a,{id:r,name:o,value:"1",checked:n,onChange:this.handleOptIn},e.createElement("span",{dangerouslySetInnerHTML:Object(w.t)(l,{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href","target","rel"]})})),a&&e.createElement("div",{className:"googlesitekit-error-text"},a.errorMsg))}}]),OptIn}(v.a);L.propTypes={id:k.a.string,name:k.a.string,className:k.a.string,optinAction:k.a.string},L.defaultProps={id:"googlesitekit-opt-in",name:"optIn"},t.a=L}).call(this,n(10))},243:function(e,t,n){"use strict";(function(e){var a=n(5),i=n.n(a),r=n(6),o=n.n(r),s=n(7),l=n.n(s),c=n(8),u=n.n(c),d=n(9),p=n.n(d),g=n(1),m=n(2),h=n.n(m),f=n(15),v=n.n(f),y=n(32),k=function(t){function Checkbox(e){var t;return i()(this,Checkbox),(t=l()(this,u()(Checkbox).call(this,e))).formFieldRef=Object(g.h)(),t.checkboxRef=Object(g.h)(),t}return p()(Checkbox,t),o()(Checkbox,[{key:"componentDidMount",value:function(){new y.e(this.formFieldRef.current).input=new y.c(this.checkboxRef.current)}},{key:"render",value:function(){var t=this.props,n=t.onChange,a=t.id,i=t.name,r=t.value,o=t.checked,s=t.disabled,l=t.children;return e.createElement("div",{className:"mdc-form-field",ref:this.formFieldRef},e.createElement("div",{className:v()("mdc-checkbox",{"mdc-checkbox--disabled":s}),ref:this.checkboxRef},e.createElement("input",{className:"mdc-checkbox__native-control",type:"checkbox",id:a,name:i,value:r,checked:o,disabled:s,onChange:n}),e.createElement("div",{className:"mdc-checkbox__background"},e.createElement("svg",{className:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},e.createElement("path",{className:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),e.createElement("div",{className:"mdc-checkbox__mixedmark"}))),e.createElement("label",{htmlFor:a},l))}}]),Checkbox}(g.a);k.propTypes={onChange:h.a.func.isRequired,id:h.a.string.isRequired,name:h.a.string.isRequired,value:h.a.string.isRequired,checked:h.a.bool,disabled:h.a.bool,children:h.a.node.isRequired},k.defaultProps={checked:!1,disabled:!1},t.a=k}).call(this,n(10))},310:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return j}));var i=n(51),r=n.n(i),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(7),d=n.n(u),p=n(8),g=n.n(p),m=n(9),h=n.n(m),f=n(4),v=n.n(f),y=n(1),k=n(0),b=n(2),_=n.n(b),E=n(103),O=n(41),w=n(122),C=n(13),x=n(26),L=[function(){var t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.location.hostname,!["localhost","127.0.0.1"].includes(t)&&!t.match(/\.(example|invalid|localhost|test)$/)){n.next=3;break}throw"invalid_hostname";case 3:case"end":return n.stop()}}))},function(){var e,t,n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(C.c.set(C.a,"site","setup-tag"));case 2:return e=a.sent,t=e.token,a.next=6,v.a.awrap(Object(w.a)("setup").catch((function(){throw"tag_fetch_failed"})));case 6:if(n=a.sent,t===n){a.next=9;break}throw"setup_token_mismatch";case 9:case"end":return a.stop()}}))}],j=function(t){function CompatibilityChecks(t){var n;s()(this,CompatibilityChecks);var a=e.googlesitekit.setup.isSiteKitConnected;return(n=d()(this,g()(CompatibilityChecks).call(this,t))).state={complete:a,error:null,developerPlugin:{}},n}return h()(CompatibilityChecks,t),c()(CompatibilityChecks,[{key:"componentDidMount",value:function(){var e,t,n,a;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!this.state.complete){i.next=2;break}return i.abrupt("return");case 2:i.prev=2,e=0,t=L;case 4:if(!(e<t.length)){i.next=11;break}return n=t[e],i.next=8,v.a.awrap(n());case 8:e++,i.next=4;break;case 11:i.next=19;break;case 13:return i.prev=13,i.t0=i.catch(2),i.next=17,v.a.awrap(C.c.get(C.a,"site","developer-plugin"));case 17:a=i.sent,this.setState({error:i.t0,developerPlugin:a});case 19:this.setState({complete:!0});case 20:case"end":return i.stop()}}),null,this,[[2,13]])}},{key:"helperCTA",value:function(){var e=this.state.developerPlugin,t=e.installed,n=e.active,a=e.installURL,i=e.activateURL,r=e.configureURL;return!t&&a?{labelHTML:Object(k.__)('Install<span class="screen-reader-text"> the helper plugin</span>',"google-site-kit"),href:a,external:!1}:t&&!n&&i?{labelHTML:Object(k.__)('Activate<span class="screen-reader-text"> the helper plugin</span>',"google-site-kit"),href:i,external:!1}:t&&n&&r?{labelHTML:Object(k.__)('Configure<span class="screen-reader-text"> the helper plugin</span>',"google-site-kit"),href:r,external:!1}:{labelHTML:Object(k.__)('Learn how<span class="screen-reader-text"> to install and use the helper plugin</span>',"google-site-kit"),href:"https://sitekit.withgoogle.com/documentation/using-site-kit-on-a-staging-environment/",external:!0}}},{key:"renderError",value:function(e){var t=this.state.developerPlugin.installed,n=this.helperCTA(),i=n.labelHTML,r=n.href,o=n.external;switch(e){case"invalid_hostname":case"tag_fetch_failed":return a.createElement(y.b,null,!t&&Object(k.__)("Looks like this may be a staging environment. If so, you’ll need to install a helper plugin and verify your production site in Search Console.","google-site-kit"),t&&Object(k.__)("Looks like this may be a staging environment and you already have the helper plugin. Before you can use Site Kit, please make sure you’ve provided the necessary credentials in the Authentication section and verified your production site in Search Console.","google-site-kit")," ",a.createElement(x.a,{href:r,dangerouslySetInnerHTML:{__html:i},external:o,inherit:!0}));case"setup_token_mismatch":return Object(k.__)("Looks like you may be using a caching plugin which could interfere with setup. Please deactivate any caching plugins before setting up Site Kit. You may reactivate them once setup has been completed.","google-site-kit")}}},{key:"render",value:function(){var e,t,n=this.state,i=n.complete,o=n.error,s=this.props,l=s.children,c=r()(s,["children"]);return o&&(e=a.createElement(y.b,null,a.createElement("div",{className:"googlesitekit-setup-compat mdc-layout-grid mdc-layout-grid--align-left"},a.createElement("div",{className:"mdc-layout-grid__inner"},a.createElement(E.a,null),a.createElement("div",{className:"googlesitekit-heading-4 mdc-layout-grid__cell--span-11"},Object(k.__)("Your site may not be ready for Site Kit","google-site-kit"))),a.createElement("p",null,this.renderError(o))))),i||(t=a.createElement("div",{style:{alignSelf:"center",marginLeft:"1rem"}},a.createElement("small",null,Object(k.__)("Checking Compatibility…","google-site-kit")),a.createElement(O.a,{small:!0,compress:!0}))),l({restProps:c,complete:i,error:o,inProgressFeedback:t,CTAFeedback:e})}}]),CompatibilityChecks}(y.a);j.propTypes={children:_.a.func.isRequired}}).call(this,n(16),n(10))},311:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return x}));var i=n(4),r=n.n(i),o=n(5),s=n.n(o),l=n(6),c=n.n(l),u=n(7),d=n.n(u),p=n(8),g=n.n(p),m=n(18),h=n.n(m),f=n(9),v=n.n(f),y=n(1),k=n(0),b=n(39),_=n(3),E=n(13),O=n(92),w=n(26),C=n(96),x=function(t){function ResetButton(t){var n;s()(this,ResetButton),n=d()(this,g()(ResetButton).call(this,t));var a=e._googlesitekitBaseData.splashURL;return n.state={dialogActive:!1,postResetURL:Object(b.a)(a,{notification:"reset_success"})},n.handleDialog=n.handleDialog.bind(h()(n)),n.handleUnlinkConfirm=n.handleUnlinkConfirm.bind(h()(n)),n.handleCloseModal=n.handleCloseModal.bind(h()(n)),n}return v()(ResetButton,t),c()(ResetButton,[{key:"componentDidMount",value:function(){e.addEventListener("keyup",this.handleCloseModal,!1)}},{key:"componentWillUnmount",value:function(){e.removeEventListener("keyup",this.handleCloseModal)}},{key:"handleUnlinkConfirm",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(E.c.set(E.a,"site","reset"));case 2:Object(_.d)(),this.handleDialog(),document.location=this.state.postResetURL;case 5:case"end":return e.stop()}}),null,this)}},{key:"handleCloseModal",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1})}},{key:"handleDialog",value:function(){this.setState((function(e){return{dialogActive:!e.dialogActive}}))}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.dialogActive;return a.createElement(y.b,null,a.createElement(w.a,{className:"googlesitekit-reset-button",onClick:function(){return e.setState({dialogActive:!0})},inherit:!0},t||Object(k.__)("Reset Site Kit","google-site-kit")),a.createElement(C.a,null,a.createElement(O.a,{dialogActive:n,handleConfirm:this.handleUnlinkConfirm,handleDialog:this.handleDialog,title:Object(k.__)("Reset Site Kit","google-site-kit"),subtitle:Object(k.__)("Resetting this site will remove access to all services. After disconnecting, you will need to re-authorize your access to restore service.","google-site-kit"),confirmButton:Object(k.__)("Reset","google-site-kit"),provides:[],danger:!0})))}}]),ResetButton}(y.a)}).call(this,n(16),n(10))},391:function(e,t,n){(function(e,n){!function(a){var i=t&&!t.nodeType&&t,r=e&&!e.nodeType&&e,o="object"==typeof n&&n;o.global!==o&&o.window!==o&&o.self!==o||(a=o);var s,l,c=2147483647,u=36,d=1,p=26,g=38,m=700,h=72,f=128,v="-",y=/^xn--/,k=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=u-d,O=Math.floor,w=String.fromCharCode;function C(e){throw new RangeError(_[e])}function x(e,t){for(var n=e.length,a=[];n--;)a[n]=t(e[n]);return a}function L(e,t){var n=e.split("@"),a="";return n.length>1&&(a=n[0]+"@",e=n[1]),a+x((e=e.replace(b,".")).split("."),t).join(".")}function j(e){for(var t,n,a=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(n=e.charCodeAt(i++)))?a.push(((1023&t)<<10)+(1023&n)+65536):(a.push(t),i--):a.push(t);return a}function S(e){return x(e,(function(e){var t="";return e>65535&&(t+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=w(e)})).join("")}function N(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function M(e,t,n){var a=0;for(e=n?O(e/m):e>>1,e+=O(e/t);e>E*p>>1;a+=u)e=O(e/E);return O(a+(E+1)*e/(e+g))}function R(e){var t,n,a,i,r,o,s,l,g,m,y,k=[],b=e.length,_=0,E=f,w=h;for((n=e.lastIndexOf(v))<0&&(n=0),a=0;a<n;++a)e.charCodeAt(a)>=128&&C("not-basic"),k.push(e.charCodeAt(a));for(i=n>0?n+1:0;i<b;){for(r=_,o=1,s=u;i>=b&&C("invalid-input"),((l=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||l>O((c-_)/o))&&C("overflow"),_+=l*o,!(l<(g=s<=w?d:s>=w+p?p:s-w));s+=u)o>O(c/(m=u-g))&&C("overflow"),o*=m;w=M(_-r,t=k.length+1,0==r),O(_/t)>c-E&&C("overflow"),E+=O(_/t),_%=t,k.splice(_++,0,E)}return S(k)}function A(e){var t,n,a,i,r,o,s,l,g,m,y,k,b,_,E,x=[];for(k=(e=j(e)).length,t=f,n=0,r=h,o=0;o<k;++o)(y=e[o])<128&&x.push(w(y));for(a=i=x.length,i&&x.push(v);a<k;){for(s=c,o=0;o<k;++o)(y=e[o])>=t&&y<s&&(s=y);for(s-t>O((c-n)/(b=a+1))&&C("overflow"),n+=(s-t)*b,t=s,o=0;o<k;++o)if((y=e[o])<t&&++n>c&&C("overflow"),y==t){for(l=n,g=u;!(l<(m=g<=r?d:g>=r+p?p:g-r));g+=u)E=l-m,_=u-m,x.push(w(N(m+E%_,0))),l=O(E/_);x.push(w(N(l,0))),r=M(n,b,a==i),n=0,++a}++n,++t}return x.join("")}if(s={version:"1.4.1",ucs2:{decode:j,encode:S},decode:R,encode:A,toASCII:function(e){return L(e,(function(e){return k.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return L(e,(function(e){return y.test(e)?R(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return s}));else if(i&&r)if(e.exports==i)r.exports=s;else for(l in s)s.hasOwnProperty(l)&&(i[l]=s[l]);else a.punycode=s}(this)}).call(this,n(258)(e),n(16))},45:function(e,t,n){"use strict";function a(e){return{byContext:function(t){return e.filter((function(e){return e.usageContext.includes(t)}))}}}function i(e){return(parseInt(e)||0)>0}function r(e){return!!e&&e.toString().match(/^GTM-[A-Z0-9]+$/)}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o}));var o=[/<script[^>]*>[^>]+?www.googletagmanager.com\/gtm[^>]+?['|"](GTM-[0-9A-Z]+)['|"]/,/<script[^>]*src=['|"]https:\/\/www.googletagmanager.com\/gtm\.js\?id=(GTM-[0-9A-Z]+)['|"]/,/<script[^>]*src=['|"]https:\/\/www.googletagmanager.com\/ns.html\?id=(GTM-[0-9A-Z]+)['|"]/,/<amp-analytics [^>]*config=['|"]https:\/\/www.googletagmanager.com\/amp.json\?id=(GTM-[0-9A-Z]+)['|"]/]},551:function(e,t,n){"use strict";n.r(t),function(e,a){var i=n(5),r=n.n(i),o=n(6),s=n.n(o),l=n(7),c=n.n(l),u=n(8),d=n.n(u),p=n(9),g=n.n(p),m=n(1),h=n(391),f=n.n(h),v=n(11),y=n(0),k=n(259),b=n(3),_=n(76),E=n(36),O=n(311),w=n(24),C=n(34),x=n(242),L=n(310),j=function(t){function SetupUsingProxy(t){var n;r()(this,SetupUsingProxy),n=c()(this,d()(SetupUsingProxy).call(this,t));var a=e.googlesitekit.admin,i=a.proxySetupURL,o=a.siteURL,s=e.googlesitekit.setup,l=s.isSiteKitConnected,u=s.isResettable,p=s.errorMessage,g=e.googlesitekit.permissions.canSetup;return n.state={canSetup:g,errorMessage:p,isSiteKitConnected:l,isResettable:u,completeSetup:!1,proxySetupURL:i,resetSuccess:"reset_success"===Object(k.a)(location.href,"notification"),context:Object(k.a)(location.href,"googlesitekit_context"),siteHostname:f.a.toUnicode(new URL(o).hostname)},n}return g()(SetupUsingProxy,t),s()(SetupUsingProxy,[{key:"isSetupFinished",value:function(){var e=this.state,t=e.isSiteKitConnected,n=e.completeSetup;return t&&n}},{key:"render",value:function(){if(this.isSetupFinished()){var t=Object(b.m)("googlesitekit-dashboard",{notification:"authentication_success"});Object(v.delay)((function(){e.location.replace(t)}),500,"later")}var n,i,r,o=this.state,s=o.context,l=o.errorMessage,c=o.isResettable,u=o.proxySetupURL,d=o.resetSuccess,p=o.siteHostname,g=c;return"revoked"===s?(n=Object(y.sprintf)(
/* translators: %s is the site's hostname. (e.g. example.com) */
Object(y.__)("You revoked access to Site Kit for %s","google-site-kit"),p),i=Object(y.__)('Site Kit will no longer have access to your account. If you’d like to reconnect Site Kit, click "Start Setup" below to generate new credentials.',"google-site-kit"),r=Object(y.__)("Sign in with Google","google-site-kit")):g?(n=Object(y.__)("Sign in with Google to configure Site Kit","google-site-kit"),i=Object(y.__)("To use Site Kit, sign in with your Google account. The Site Kit service will guide you through 3 simple steps to complete the connection and configure the plugin.","google-site-kit"),r=Object(y.__)("Sign in with Google","google-site-kit")):(n=Object(y.__)("Sign in with Google to set up Site Kit","google-site-kit"),i=Object(y.__)("The Site Kit service will guide you through 3 simple setup steps.","google-site-kit"),r=Object(y.__)("Start setup","google-site-kit")),a.createElement(m.b,null,a.createElement(_.a,null),l&&a.createElement(C.a,{id:"setup_error",type:"win-error",title:Object(y.__)("Oops! There was a problem during set up. Please try again.","google-site-kit"),description:l,isDismissable:!1}),d&&a.createElement(C.a,{id:"reset_success",title:Object(y.__)("Site Kit by Google was successfully reset.","google-site-kit"),isDismissable:!1}),a.createElement("div",{className:"googlesitekit-wizard"},a.createElement("div",{className:"mdc-layout-grid"},a.createElement("div",{className:"mdc-layout-grid__inner"},a.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},a.createElement(w.a,null,a.createElement("section",{className:"googlesitekit-wizard-progress"},a.createElement("div",{className:"googlesitekit-setup__footer"},a.createElement("div",{className:"mdc-layout-grid"},a.createElement("div",{className:"mdc-layout-grid__inner"},a.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},a.createElement("h1",{className:"googlesitekit-setup__title"},n),a.createElement("p",{className:"googlesitekit-setup__description"},i),a.createElement(L.a,null,(function(e){var t=e.complete,n=e.inProgressFeedback,i=e.CTAFeedback;return a.createElement(m.b,null,i,a.createElement(x.a,{optinAction:"analytics_optin_setup_fallback"}),a.createElement("div",{className:"googlesitekit-start-setup-wrap"},a.createElement(E.a,{className:"googlesitekit-start-setup",href:u,onClick:function(){Object(b.x)("plugin_setup","proxy_start_setup_landing_page")},disabled:!t},r),n,c&&a.createElement(O.a,null)))})))))))))))))}}]),SetupUsingProxy}(m.a);t.default=j}.call(this,n(16),n(10))},76:function(e,t,n){"use strict";(function(e,a){var i=n(5),r=n.n(i),o=n(6),s=n.n(o),l=n(7),c=n.n(l),u=n(8),d=n.n(u),p=n(9),g=n.n(p),m=n(1),h=n(128),f=n(151),v=n(153),y=function(t){function Header(){return r()(this,Header),c()(this,d()(Header).apply(this,arguments))}return g()(Header,t),s()(Header,[{key:"render",value:function(){var t=e.googlesitekit.setup.isAuthenticated;return a.createElement(m.b,null,a.createElement("header",{className:"googlesitekit-header"},a.createElement("section",{className:"mdc-layout-grid"},a.createElement("div",{className:"mdc-layout-grid__inner"},a.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--span-3-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},a.createElement(h.a,null)),a.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-phone mdc-layout-grid__cell--span-1-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},t&&a.createElement(f.a,null))))),a.createElement(v.a,null))}}]),Header}(m.a);t.a=y}).call(this,n(16),n(10))}}]);