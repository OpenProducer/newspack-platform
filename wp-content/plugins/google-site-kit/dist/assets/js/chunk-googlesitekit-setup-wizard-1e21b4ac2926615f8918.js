(window.__googlesitekit_webpackJsonp=window.__googlesitekit_webpackJsonp||[]).push([[2],{146:function(e,t,i){"use strict";(function(e){var n=i(5),a=i.n(n),r=i(6),s=i.n(r),o=i(7),c=i.n(o),l=i(8),u=i.n(l),d=i(9),p=i.n(d),g=i(1),m=i(2),h=i.n(m),f=i(17),_=i.n(f),k=i(25),y=function(t){function LayoutHeader(){return a()(this,LayoutHeader),c()(this,u()(LayoutHeader).apply(this,arguments))}return p()(LayoutHeader,t),s()(LayoutHeader,[{key:"render",value:function(){var t=this.props,i=t.title,n=t.ctaLabel,a=t.ctaLink;return e.createElement("header",{className:"googlesitekit-layout__header"},e.createElement("div",{className:"mdc-layout-grid"},e.createElement("div",{className:"mdc-layout-grid__inner"},i&&e.createElement("div",{className:_()("mdc-layout-grid__cell","mdc-layout-grid__cell--align-middle","mdc-layout-grid__cell--span-4-phone",{"mdc-layout-grid__cell--span-6-desktop":a,"mdc-layout-grid__cell--span-12-desktop":!a,"mdc-layout-grid__cell--span-8-tablet":!a})},e.createElement("h3",{className:"googlesitekit-subheading-1 googlesitekit-layout__header-title"},i)),a&&e.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-tablet "},e.createElement(k.a,{href:a,external:!0,inherit:!0},n)))))}}]),LayoutHeader}(g.a);y.propTypes={title:h.a.string,ctaLabel:h.a.string,ctaLink:h.a.string},y.defaultProps={title:"",ctaLabel:"",ctaLink:""},t.a=y}).call(this,i(10))},147:function(e,t,i){"use strict";(function(e){var n=i(5),a=i.n(n),r=i(6),s=i.n(r),o=i(7),c=i.n(o),l=i(8),u=i.n(l),d=i(9),p=i.n(d),g=i(1),m=i(2),h=i.n(m),f=i(77),_=function(t){function LayoutFooter(){return a()(this,LayoutFooter),c()(this,u()(LayoutFooter).apply(this,arguments))}return p()(LayoutFooter,t),s()(LayoutFooter,[{key:"render",value:function(){var t=this.props,i=t.ctaLabel,n=t.ctaLink,a=t.footerContent;return e.createElement("footer",{className:"googlesitekit-layout__footer"},e.createElement("div",{className:"mdc-layout-grid"},e.createElement("div",{className:"mdc-layout-grid__inner"},e.createElement("div",{className:"mdc-layout-grid__cell mdc-layout-grid__cell--span-12"},n&&i&&e.createElement(f.a,{className:"googlesitekit-data-block__source",name:i,href:n,external:!0}),a))))}}]),LayoutFooter}(g.a);_.propTypes={ctaLabel:h.a.string,ctaLink:h.a.string},t.a=_}).call(this,i(10))},158:function(e,t,i){"use strict";(function(e,n){var a=i(4),r=i.n(a),s=i(5),o=i.n(s),c=i(6),l=i.n(c),u=i(7),d=i.n(u),p=i(8),g=i.n(p),m=i(18),h=i.n(m),f=i(9),_=i.n(f),k=i(1),y=i(0),v=i(3),b=i(97),S=i(39),E=i(159),C=i(102),N=function(t){function UserMenu(e){var t;return o()(this,UserMenu),(t=d()(this,g()(UserMenu).call(this,e))).state={dialogActive:!1,menuOpen:!1},t.handleMenu=t.handleMenu.bind(h()(t)),t.handleMenuClose=t.handleMenuClose.bind(h()(t)),t.handleMenuItemSelect=t.handleMenuItemSelect.bind(h()(t)),t.handleDialog=t.handleDialog.bind(h()(t)),t.handleDialogClose=t.handleDialogClose.bind(h()(t)),t.handleUnlinkConfirm=t.handleUnlinkConfirm.bind(h()(t)),t.menuButtonRef=Object(k.h)(),t.menuRef=Object(k.h)(),t}return _()(UserMenu,t),l()(UserMenu,[{key:"componentDidMount",value:function(){e.addEventListener("mouseup",this.handleMenuClose),e.addEventListener("keyup",this.handleMenuClose),e.addEventListener("keyup",this.handleDialogClose)}},{key:"componentWillUnmount",value:function(){e.removeEventListener("mouseup",this.handleMenuClose),e.removeEventListener("keyup",this.handleMenuClose),e.removeEventListener("keyup",this.handleDialogClose)}},{key:"handleMenu",value:function(){var e=this.state.menuOpen;this.setState({menuOpen:!e})}},{key:"handleMenuClose",value:function(e){("keyup"!==e.type||27!==e.keyCode)&&"mouseup"!==e.type||this.menuButtonRef.current.buttonRef.current.contains(e.target)||this.menuRef.current.menuRef.current.contains(e.target)||this.setState({menuOpen:!1})}},{key:"handleMenuItemSelect",value:function(t,i){var n=e._googlesitekitLegacyData.admin.proxyPermissionsURL;if("keydown"===i.type&&(13===i.keyCode||32===i.keyCode)||"click"===i.type)switch(t){case 0:this.handleDialog();break;case 1:e.location.assign(n);break;default:this.handleMenu()}}},{key:"handleDialog",value:function(){this.setState((function(e){return{dialogActive:!e.dialogActive,menuOpen:!1}}))}},{key:"handleDialogClose",value:function(e){27===e.keyCode&&this.setState({dialogActive:!1,menuOpen:!1})}},{key:"handleUnlinkConfirm",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({dialogActive:!1}),Object(v.d)(),document.location=Object(v.n)("googlesitekit-splash",{googlesitekit_context:"revoked"});case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var t=e._googlesitekitLegacyData.admin,i=t.userData,a=i.email,r=void 0===a?"":a,s=i.picture,o=void 0===s?"":s,c=t.proxyPermissionsURL,l=this.state,u=l.dialogActive,d=l.menuOpen;return n.createElement(k.b,null,n.createElement("div",{className:"googlesitekit-dropdown-menu mdc-menu-surface--anchor"},n.createElement(S.a,{ref:this.menuButtonRef,className:"googlesitekit-header__dropdown mdc-button--dropdown",text:!0,onClick:this.handleMenu,icon:o?n.createElement("i",{className:"mdc-button__icon","aria-hidden":"true"},n.createElement("img",{className:"mdc-button__icon--image",src:o,alt:Object(y.__)("User Avatar","google-site-kit")})):void 0,ariaHaspopup:"menu",ariaExpanded:d,ariaControls:"user-menu"},r),n.createElement(E.a,{ref:this.menuRef,menuOpen:d,menuItems:[Object(y.__)("Disconnect","google-site-kit")].concat(c?[Object(y.__)("Manage sites…","google-site-kit")]:[]),onSelected:this.handleMenuItemSelect,id:"user-menu"})),n.createElement(C.a,null,n.createElement(b.a,{dialogActive:u,handleConfirm:this.handleUnlinkConfirm,handleDialog:this.handleDialog,title:Object(y.__)("Disconnect","google-site-kit"),subtitle:Object(y.__)("Disconnecting Site Kit by Google will remove your access to all services. After disconnecting, you will need to re-authorize to restore service.","google-site-kit"),confirmButton:Object(y.__)("Disconnect","google-site-kit"),provides:[],danger:!0})))}}]),UserMenu}(k.a);t.a=N}).call(this,i(16),i(10))},159:function(e,t,i){"use strict";(function(e){var n=i(5),a=i.n(n),r=i(6),s=i.n(r),o=i(7),c=i.n(o),l=i(8),u=i.n(l),d=i(9),p=i.n(d),g=i(1),m=i(2),h=i.n(m),f=i(32),_=function(t){function Menu(e){var t;return a()(this,Menu),(t=c()(this,u()(Menu).call(this,e))).menuRef=Object(g.h)(),t}return p()(Menu,t),s()(Menu,[{key:"componentDidMount",value:function(){var e=this.props.menuOpen;this.menu=new f.f(this.menuRef.current),this.menu.open=e,this.menu.setDefaultFocusState(1)}},{key:"componentDidUpdate",value:function(e){var t=this.props.menuOpen;t!==e.menuOpen&&(this.menu.open=t)}},{key:"render",value:function(){var t=this.props,i=t.menuOpen,n=t.menuItems,a=t.onSelected,r=t.id;return e.createElement("div",{className:"mdc-menu mdc-menu-surface",ref:this.menuRef},e.createElement("ul",{id:r,className:"mdc-list",role:"menu","aria-hidden":!i,"aria-orientation":"vertical",tabIndex:"-1"},n.map((function(t,i){return e.createElement("li",{key:i,className:"mdc-list-item",role:"menuitem",onClick:a.bind(null,i),onKeyDown:a.bind(null,i)},e.createElement("span",{className:"mdc-list-item__text"},t))}))))}}]),Menu}(g.a);_.propTypes={menuOpen:h.a.bool.isRequired,menuItems:h.a.array.isRequired,id:h.a.string.isRequired},t.a=_}).call(this,i(10))},160:function(e,t,i){"use strict";var n=i(5),a=i.n(n),r=i(6),s=i.n(r),o=i(7),c=i.n(o),l=i(8),u=i.n(l),d=i(9),p=i.n(d),g=i(75),m=function(e){function ErrorNotification(){return a()(this,ErrorNotification),c()(this,u()(ErrorNotification).apply(this,arguments))}return p()(ErrorNotification,e),s()(ErrorNotification,[{key:"render",value:function(){return null}}]),ErrorNotification}(i(1).a);t.a=Object(g.a)("googlesitekit.ErrorNotification")(m)},252:function(e,t,i){"use strict";(function(e){var n=i(4),a=i.n(n),r=i(11),s=i.n(r),o=i(5),c=i.n(o),l=i(6),u=i.n(l),d=i(7),p=i.n(d),g=i(8),m=i.n(g),h=i(18),f=i.n(h),_=i(9),k=i.n(_),y=i(1),v=i(2),b=i.n(v),S=i(17),E=i.n(S),C=i(58),N=i(0),w=i(3),L=i(253),O=i(50),R=function(t){function OptIn(e){var t;return c()(this,OptIn),(t=p()(this,m()(OptIn).call(this,e))).state={optIn:Object(O.a)(),error:!1},t.handleOptIn=t.handleOptIn.bind(f()(t)),t}return k()(OptIn,t),u()(OptIn,[{key:"handleOptIn",value:function(e){var t,i;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=!!e.target.checked,i=Object(w.j)("googlesitekit_tracking_optin"),Object(O.b)(t),!t){n.next=6;break}return n.next=6,a.a.awrap(Object(O.c)("tracking_plugin",this.props.optinAction));case 6:return n.prev=6,n.next=9,a.a.awrap(Object(C.default)({path:"/wp/v2/users/me",method:"POST",data:{meta:s()({},i,t)}}));case 9:this.setState({optIn:t,error:!1}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(6),this.setState({optIn:!t,error:{errorCode:n.t0.code,errorMsg:n.t0.message}});case 15:case"end":return n.stop()}}),null,this,[[6,12]])}},{key:"render",value:function(){var t=this.state,i=t.optIn,n=t.error,a=this.props,r=a.id,s=a.name,o=a.className,c=Object(N.sprintf)(
/* translators: %s: privacy policy URL */
Object(N.__)('Help us improve the Site Kit plugin by allowing tracking of anonymous usage stats. All data are treated in accordance with <a href="%s" target="_blank" rel="noopener noreferrer">Google Privacy Policy</a>',"google-site-kit"),"https://policies.google.com/privacy");return e.createElement("div",{className:E()("googlesitekit-opt-in",o)},e.createElement(L.a,{id:r,name:s,value:"1",checked:i,onChange:this.handleOptIn},e.createElement("span",{dangerouslySetInnerHTML:Object(w.u)(c,{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href","target","rel"]})})),n&&e.createElement("div",{className:"googlesitekit-error-text"},n.errorMsg))}}]),OptIn}(y.a);R.propTypes={id:b.a.string,name:b.a.string,className:b.a.string,optinAction:b.a.string},R.defaultProps={id:"googlesitekit-opt-in",name:"optIn"},t.a=R}).call(this,i(10))},253:function(e,t,i){"use strict";(function(e){var n=i(5),a=i.n(n),r=i(6),s=i.n(r),o=i(7),c=i.n(o),l=i(8),u=i.n(l),d=i(9),p=i.n(d),g=i(1),m=i(2),h=i.n(m),f=i(17),_=i.n(f),k=i(32),y=function(t){function Checkbox(e){var t;return a()(this,Checkbox),(t=c()(this,u()(Checkbox).call(this,e))).formFieldRef=Object(g.h)(),t.checkboxRef=Object(g.h)(),t}return p()(Checkbox,t),s()(Checkbox,[{key:"componentDidMount",value:function(){new k.e(this.formFieldRef.current).input=new k.c(this.checkboxRef.current)}},{key:"render",value:function(){var t=this.props,i=t.onChange,n=t.id,a=t.name,r=t.value,s=t.checked,o=t.disabled,c=t.children;return e.createElement("div",{className:"mdc-form-field",ref:this.formFieldRef},e.createElement("div",{className:_()("mdc-checkbox",{"mdc-checkbox--disabled":o}),ref:this.checkboxRef},e.createElement("input",{className:"mdc-checkbox__native-control",type:"checkbox",id:n,name:a,value:r,checked:s,disabled:o,onChange:i}),e.createElement("div",{className:"mdc-checkbox__background"},e.createElement("svg",{className:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},e.createElement("path",{className:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),e.createElement("div",{className:"mdc-checkbox__mixedmark"}))),e.createElement("label",{htmlFor:n},c))}}]),Checkbox}(g.a);y.propTypes={onChange:h.a.func.isRequired,id:h.a.string.isRequired,name:h.a.string.isRequired,value:h.a.string.isRequired,checked:h.a.bool,disabled:h.a.bool,children:h.a.node.isRequired},y.defaultProps={checked:!1,disabled:!1},t.a=y}).call(this,i(10))},26:function(e,t,i){"use strict";(function(e){var n=i(5),a=i.n(n),r=i(6),s=i.n(r),o=i(7),c=i.n(o),l=i(8),u=i.n(l),d=i(9),p=i.n(d),g=i(1),m=i(2),h=i.n(m),f=i(17),_=i.n(f),k=i(146),y=i(147),v=function(t){function Layout(){return a()(this,Layout),c()(this,u()(Layout).apply(this,arguments))}return p()(Layout,t),s()(Layout,[{key:"render",value:function(){var t=this.props,i=t.header,n=t.footer,a=t.children,r=t.title,s=t.headerCtaLabel,o=t.headerCtaLink,c=t.footerCtaLabel,l=t.footerCtaLink,u=t.footerContent,d=t.className,p=t.fill,g=t.relative;return e.createElement("div",{className:_()("googlesitekit-layout",d,{"googlesitekit-layout--fill":p,"googlesitekit-layout--relative":g})},i&&e.createElement(k.a,{title:r,ctaLabel:s,ctaLink:o}),a,n&&e.createElement(y.a,{ctaLabel:c,ctaLink:l,footerContent:u}))}}]),Layout}(g.a);v.propTypes={header:h.a.bool,footer:h.a.bool,children:h.a.node.isRequired,title:h.a.string,headerCtaLabel:h.a.string,headerCtaLink:h.a.string,footerCtaLabel:h.a.string,footerCtaLink:h.a.string,footerContent:h.a.node,className:h.a.string,fill:h.a.bool,relative:h.a.bool},v.defaultProps={header:!1,footer:!1,title:"",headerCtaLabel:"",headerCtaLink:"",footerCtaLabel:"",footerCtaLink:"",footerContent:null,className:"",fill:!1,relative:!1},t.a=v}).call(this,i(10))},614:function(e,t,i){"use strict";i.r(t),function(e,n){var a=i(4),r=i.n(a),s=i(5),o=i.n(s),c=i(6),l=i.n(c),u=i(7),d=i.n(u),p=i(8),g=i.n(p),m=i(18),h=i.n(m),f=i(9),_=i.n(f),k=i(1),y=i(12),v=i(0),b=i(83),S=i(39),E=i(26),C=i(14),N=i(3),w=i(617),L=i(624),O=function(t){function Setup(t){var i;o()(this,Setup),i=d()(this,g()(Setup).call(this,t));var n=e._googlesitekitLegacyData.admin.connectURL,a=e._googlesitekitLegacyData.setup,r=a.isAuthenticated,s=a.hasSearchConsoleProperty,c=a.isSiteKitConnected,l=a.isVerified,u=a.needReauthenticate,p=e._googlesitekitLegacyData.permissions.canSetup;return i.state={canSetup:p,isAuthenticated:r,isVerified:l,needReauthenticate:u,hasSearchConsoleProperty:s,hasSearchConsolePropertyFromTheStart:s,connectURL:n,errorMsg:"",isSiteKitConnected:c,completeSetup:!1},i.siteConnectedSetup=i.siteConnectedSetup.bind(h()(i)),i.siteVerificationSetup=i.siteVerificationSetup.bind(h()(i)),i.searchConsoleSetup=i.searchConsoleSetup.bind(h()(i)),i.resetAndRestart=i.resetAndRestart.bind(h()(i)),i.completeSetup=i.completeSetup.bind(h()(i)),i.setErrorMessage=i.setErrorMessage.bind(h()(i)),i}return _()(Setup,t),l()(Setup,[{key:"resetAndRestart",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(C.c.set(C.a,"site","reset"));case 2:Object(N.d)(),this.setState({isSiteKitConnected:!1,isAuthenticated:!1,isVerified:!1,hasSearchConsoleProperty:!1,completeSetup:!1,errorMsg:""});case 4:case"end":return e.stop()}}),null,this)}},{key:"completeSetup",value:function(){this.setState({completeSetup:!0})}},{key:"siteConnectedSetup",value:function(e){this.setState({isSiteKitConnected:e})}},{key:"siteVerificationSetup",value:function(e){this.setState({isVerified:e})}},{key:"searchConsoleSetup",value:function(e){this.setState({hasSearchConsoleProperty:e})}},{key:"isSetupFinished",value:function(){var e=this.state,t=e.isSiteKitConnected,i=e.isAuthenticated,n=e.isVerified,a=e.hasSearchConsoleProperty,r=e.completeSetup;return t&&i&&n&&a&&r}},{key:"setErrorMessage",value:function(e){this.setState({errorMsg:e})}},{key:"getApplicableSteps",value:function(){var e,t=w.a,i=Object.keys(t);for(e=0;e<i.length;e++)t[i[e]].isApplicable(this.state)||delete t[i[e]];return t}},{key:"currentStep",value:function(e){var t,i=Object.keys(e);for(t=0;t<i.length-1;t++)if(!e[i[t]].isCompleted(this.state))return i[t];return i[t]}},{key:"stepStatus",value:function(e,t){return e[t].isCompleted(this.state)?"completed":t===this.currentStep(e)?"inprogress":""}},{key:"render",value:function(){var t=this,i=this.state,a=i.canSetup,s=i.isAuthenticated,o=i.isVerified,c=i.needReauthenticate,l=i.hasSearchConsoleProperty,u=i.connectURL,d=i.isSiteKitConnected;if(this.isSetupFinished()){var p=Object(N.n)("googlesitekit-dashboard",{notification:"authentication_success"});Object(y.delay)((function(){e.location.replace(p)}),500,"later")}var g=this.getApplicableSteps(),m=this.currentStep(g),h=g[m].Component,f=n.createElement(h,{siteConnectedSetup:this.siteConnectedSetup,connectURL:u,siteVerificationSetup:this.siteVerificationSetup,searchConsoleSetup:this.searchConsoleSetup,completeSetup:this.completeSetup,isSiteKitConnected:d,isAuthenticated:s,isVerified:o,needReauthenticate:c,hasSearchConsoleProperty:l,setErrorMessage:this.setErrorMessage,resetAndRestart:g.clientCredentials?this.resetAndRestart:void 0}),_=a,C=!_&&!s;return n.createElement(k.b,null,n.createElement(b.a,null),n.createElement("div",{className:"googlesitekit-wizard"},n.createElement("div",{className:"mdc-layout-grid"},n.createElement("div",{className:"mdc-layout-grid__inner"},n.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},n.createElement(E.a,null,n.createElement("section",{className:"googlesitekit-wizard-progress"},n.createElement("div",{className:"mdc-layout-grid"},n.createElement("div",{className:"mdc-layout-grid__inner"},_&&n.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},n.createElement("div",{className:"googlesitekit-wizard-progress__steps"},Object.keys(g).map((function(e,i){return n.createElement(L.a,{key:g[e].title,currentStep:m===e,title:g[e].title,step:i+1,status:t.stepStatus(g,e),warning:g[e].warning,error:g[e].error,stepKey:e})})))))),C&&n.createElement("div",{className:"googlesitekit-setup__footer"},n.createElement("div",{className:"mdc-layout-grid"},n.createElement("div",{className:"mdc-layout-grid__inner"},n.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},n.createElement("h1",{className:"googlesitekit-setup__title"},Object(v.__)("Authenticate Site Kit","google-site-kit")),n.createElement("p",{className:"googlesitekit-setup__description"},Object(v.__)("Please sign into your Google account to begin.","google-site-kit")),n.createElement(S.a,{href:"#",onClick:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(Object(N.y)("plugin_setup","signin_with_google"));case 2:document.location=u;case 3:case"end":return e.stop()}}))}},Object(v.__)("Sign in with Google","google-site-kit"))))))),_&&f))))))}}]),Setup}(k.a);t.default=O}.call(this,i(16),i(10))},617:function(e,t,i){"use strict";var n=i(0),a=i(618),r=i(619),s=i(621),o=i(623),c={authentication:{title:Object(n.__)("Authenticate","google-site-kit"),required:!0,isApplicable:function(){return!0},isCompleted:function(e){return e.isSiteKitConnected&&e.isAuthenticated&&!e.needReauthenticate},Component:a.a},verification:{title:Object(n.__)("Verify URL","google-site-kit"),required:!0,isApplicable:function(){return!0},isCompleted:function(e){return e.isSiteKitConnected&&e.isAuthenticated&&e.isVerified},Component:r.a},seachConsoleProperty:{title:Object(n.__)("Connect Search Console","google-site-kit"),required:!0,isApplicable:function(){return!0},isCompleted:function(e){return e.isSiteKitConnected&&e.isAuthenticated&&e.isVerified&&e.hasSearchConsoleProperty},Component:s.a},completeSetup:{title:Object(n.__)("Finish","google-site-kit"),required:!1,isApplicable:function(){return!0},isCompleted:function(e){return e.isSiteKitConnected&&e.isAuthenticated&&e.isVerified&&e.hasSearchConsoleProperty},Component:o.a}};t.a=c},618:function(e,t,i){"use strict";(function(e){var n=i(4),a=i.n(n),r=i(5),s=i.n(r),o=i(6),c=i.n(o),l=i(7),u=i.n(l),d=i(8),p=i.n(d),g=i(9),m=i.n(g),h=i(1),f=i(2),_=i.n(f),k=i(0),y=i(3),v=i(39),b=i(25),S=i(252),E=i(82),C=function(t){function WizardStepAuthentication(){return s()(this,WizardStepAuthentication),u()(this,p()(WizardStepAuthentication).apply(this,arguments))}return m()(WizardStepAuthentication,t),c()(WizardStepAuthentication,[{key:"render",value:function(){var t=this.props,i=t.connectURL,n=t.needReauthenticate,r=t.resetAndRestart;return e.createElement("section",{className:"googlesitekit-wizard-step googlesitekit-wizard-step--two"},e.createElement("div",{className:"mdc-layout-grid"},e.createElement("div",{className:"mdc-layout-grid__inner"},e.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},e.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-wizard-step__title "},Object(k.__)("Authenticate with Google","google-site-kit")),e.createElement("p",null,Object(k.__)("Please sign into your Google account to begin.","google-site-kit")),n&&e.createElement("p",{className:"googlesitekit-error-text"},Object(k.__)("You did not grant access to one or more of the requested scopes. Please grant all scopes that you are prompted for.","google-site-kit")),e.createElement("p",null,e.createElement(v.a,{onClick:function(){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Object(y.y)("plugin_setup","signin_with_google"));case 2:document.location=i;case 3:case"end":return e.stop()}}))}},Object(k.__)("Sign in with Google","google-site-kit")),r&&e.createElement(b.a,{className:"googlesitekit-wizard-step__back",onClick:r},Object(k.__)("Back","google-site-kit"))),e.createElement("div",{className:"googlesitekit-wizard-step__action googlesitekit-wizard-step__action--justify"},e.createElement(S.a,{optinAction:"analytics_optin_setup_fallback"}),e.createElement(E.a,null))))))}}]),WizardStepAuthentication}(h.a);C.propTypes={connectURL:_.a.string.isRequired,resetAndRestart:_.a.func},t.a=C}).call(this,i(10))},619:function(e,t,i){"use strict";(function(e){var n=i(87),a=i.n(n),r=i(5),s=i.n(r),o=i(6),c=i.n(o),l=i(7),u=i.n(l),d=i(8),p=i.n(d),g=i(9),m=i.n(g),h=i(1),f=i(2),_=i.n(f),k=i(620),y=function(t){function WizardStepVerification(){return s()(this,WizardStepVerification),u()(this,p()(WizardStepVerification).apply(this,arguments))}return m()(WizardStepVerification,t),c()(WizardStepVerification,[{key:"render",value:function(){var t=!this.props.isVerified;return e.createElement("section",{className:"googlesitekit-wizard-step googlesitekit-wizard-step--three"},e.createElement("div",{className:"mdc-layout-grid"},e.createElement("div",{className:"mdc-layout-grid__inner"},e.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},e.createElement(k.a,a()({shouldSetup:t},this.props))))))}}]),WizardStepVerification}(h.a);y.propTypes={siteVerificationSetup:_.a.func.isRequired},t.a=y}).call(this,i(10))},620:function(e,t,i){"use strict";(function(e,n){var a=i(4),r=i.n(a),s=i(5),o=i.n(s),c=i(6),l=i.n(c),u=i(7),d=i.n(u),p=i(8),g=i.n(p),m=i(18),h=i.n(m),f=i(9),_=i.n(f),k=i(1),y=i(2),v=i.n(y),b=i(0),S=i(3),E=i(32),C=i(14),N=i(39),w=i(44),L=i(82),O=function(t){function SiteVerification(e){var t;o()(this,SiteVerification);var i=(t=d()(this,g()(SiteVerification).call(this,e))).props,n=i.isAuthenticated,a=i.shouldSetup;return t.state={loading:n&&a,loadingMsg:Object(b.__)("Getting your verified sites…","google-site-kit"),siteURL:" ",selectedURL:"",errorCode:!1,errorMsg:""},t.onProceed=t.onProceed.bind(h()(t)),t}return _()(SiteVerification,t),l()(SiteVerification,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isAuthenticated,i=e.shouldSetup;t&&i&&this.requestSitePropertyList()}},{key:"requestSitePropertyList",value:function(){var t,i,n,a,s,o=this,c=this.props.setErrorMessage;r.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,r.a.awrap(C.c.get(C.b,"site-verification","verification"));case 3:if(t=l.sent,i=t.verified,n=t.identifier,!i){l.next=17;break}return l.next=9,r.a.awrap(Object(S.y)("verification_setup","verification_check_true"));case 9:return l.next=11,r.a.awrap(o.insertSiteVerification(n));case 11:if(!0!==l.sent.verified){l.next=15;break}return o.props.siteVerificationSetup(!0),l.abrupt("return",!0);case 15:l.next=19;break;case 17:return l.next=19,r.a.awrap(Object(S.y)("verification_setup","verification_check_false"));case 19:o.setState({loading:!1,siteURL:n}),l.next=28;break;case 22:l.prev=22,l.t0=l.catch(0),a=l.t0.message,Object(S.z)(l.t0.message)&&(s=JSON.parse(l.t0.message),a=s.error.message||l.t0.message),c(a),o.setState({loading:!1,errorCode:l.t0.code,errorMsg:a,siteURL:e._googlesitekitLegacyData.admin.siteURL});case 28:case"end":return l.stop()}}),null,null,[[0,22]])}},{key:"insertSiteVerification",value:function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(C.c.set(C.b,"site-verification","verification",{siteURL:e}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}},{key:"onProceed",value:function(){var t,i,n,a;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=this.props.setErrorMessage,i=this.state.siteURL?this.state.siteURL:e._googlesitekitLegacyData.admin.siteURL,t(""),this.setState({loading:!0,loadingMsg:Object(b.__)("Verifying…","google-site-kit"),errorCode:!1,errorMsg:""}),s.prev=4,s.next=7,r.a.awrap(this.insertSiteVerification(i));case 7:!0===s.sent.verified&&(Object(S.y)("verification_setup","verification_insert_tag"),this.props.siteVerificationSetup(!0)),s.next=17;break;case 11:s.prev=11,s.t0=s.catch(4),n=s.t0.message,Object(S.z)(s.t0.message)&&(a=JSON.parse(s.t0.message),n=a.error.message||s.t0.message),t(n),this.setState({loading:!1,errorCode:s.t0.code,errorMsg:n});case 17:case"end":return s.stop()}}),null,this,[[4,11]])}},{key:"renderForm",value:function(){var e=this.state,t=e.loading,i=e.loadingMsg,a=e.siteURL,r=n.createElement(k.b,null,i&&n.createElement("p",null,i),n.createElement(w.a,null));return t?r:n.createElement(k.b,null,n.createElement("div",{className:"googlesitekit-wizard-step__inputs"},n.createElement(E.k,{label:Object(b.__)("Website Address","google-site-kit"),name:"siteProperty",floatingLabelClassName:"mdc-floating-label--float-above",outlined:!0,disabled:!0},n.createElement(E.b,{value:a}))),n.createElement("div",{className:"googlesitekit-wizard-step__action googlesitekit-wizard-step__action--justify"},n.createElement(N.a,{onClick:this.onProceed},Object(b.__)("Continue","google-site-kit")),n.createElement(L.a,null)))}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,i=e.shouldSetup,a=this.state.errorMsg;return i?n.createElement(k.b,null,n.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-wizard-step__title "},Object(b.__)("Verify URL","google-site-kit")),n.createElement("p",{className:"googlesitekit-wizard-step__text"},Object(b.__)("We will need to verify your URL for Site Kit.","google-site-kit")),a&&0<a.length&&n.createElement("p",{className:"googlesitekit-error-text"},a),t&&this.renderForm()):SiteVerification.renderSetupDone()}}],[{key:"renderSetupDone",value:function(){return n.createElement(k.b,null,n.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-wizard-step__title "},Object(b.__)("Verify URL","google-site-kit")),n.createElement("p",{className:"googlesitekit-wizard-step__text"},Object(b.__)("Congratulations, your site has been verified!","google-site-kit")))}}]),SiteVerification}(k.a);O.propTypes={isAuthenticated:v.a.bool.isRequired,shouldSetup:v.a.bool.isRequired,siteVerificationSetup:v.a.func.isRequired,completeSetup:v.a.func,setErrorMessage:v.a.func.isRequired},t.a=O}).call(this,i(16),i(10))},621:function(e,t,i){"use strict";(function(e){var n=i(87),a=i.n(n),r=i(5),s=i.n(r),o=i(6),c=i.n(o),l=i(7),u=i.n(l),d=i(8),p=i.n(d),g=i(9),m=i.n(g),h=i(1),f=i(2),_=i.n(f),k=i(622),y=function(t){function WizardStepSearchConsoleProperty(){return s()(this,WizardStepSearchConsoleProperty),u()(this,p()(WizardStepSearchConsoleProperty).apply(this,arguments))}return m()(WizardStepSearchConsoleProperty,t),c()(WizardStepSearchConsoleProperty,[{key:"render",value:function(){var t=this.props,i=t.isVerified,n=t.hasSearchConsoleProperty,r=i&&!n;return e.createElement("section",{className:"googlesitekit-wizard-step googlesitekit-wizard-step--four"},e.createElement("div",{className:"mdc-layout-grid"},e.createElement("div",{className:"mdc-layout-grid__inner"},e.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-12 "},r?e.createElement(k.a,a()({shouldSetup:r},this.props)):k.a.connected()))))}}]),WizardStepSearchConsoleProperty}(h.a);y.propTypes={searchConsoleSetup:_.a.func.isRequired},t.a=y}).call(this,i(10))},622:function(e,t,i){"use strict";(function(e,n){var a=i(4),r=i.n(a),s=i(5),o=i.n(s),c=i(6),l=i.n(c),u=i(7),d=i.n(u),p=i(8),g=i.n(p),m=i(18),h=i.n(m),f=i(9),_=i.n(f),k=i(1),y=i(2),v=i.n(y),b=i(0),S=i(3),E=i(14),C=i(44),N=i(82),w=i(32),L=i(39),O=function(t){function SearchConsole(t){var i;o()(this,SearchConsole),i=d()(this,g()(SearchConsole).call(this,t));var n=e._googlesitekitLegacyData.admin.siteURL;return i.state={loading:!0,sites:!1,selectedURL:n,siteURL:n,connected:!1,errorCode:!1,errorMsg:""},i.handleURLSelect=i.handleURLSelect.bind(h()(i)),i.insertPropertyToSearchConsole=i.insertPropertyToSearchConsole.bind(h()(i)),i.submitPropertyEventHandler=i.submitPropertyEventHandler.bind(h()(i)),i}return _()(SearchConsole,t),l()(SearchConsole,[{key:"componentDidMount",value:function(){var e,t,i;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=this.props,t=e.isAuthenticated,i=e.shouldSetup,t&&i){n.next=3;break}return n.abrupt("return");case 3:this.requestSearchConsoleSiteList();case 4:case"end":return n.stop()}}),null,this)}},{key:"requestSearchConsoleSiteList",value:function(){var e,t=this,i=this.props.setErrorMessage;r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(E.c.get(E.b,"search-console","matched-sites"));case 3:if(1!==(e=n.sent).length){n.next=9;break}return n.next=7,r.a.awrap(t.insertPropertyToSearchConsole(e[0].siteURL));case 7:return t.props.searchConsoleSetup(e[0].siteURL),n.abrupt("return");case 9:if(e.length){n.next=11;break}throw{code:"no_property_matched",message:Object(b.__)("Your site has not been added to Search Console yet. Would you like to add it now?","google-site-kit")};case 11:throw i(""),t.setState({loading:!1,selectedURL:e[0].siteURL,sites:e}),{code:"multiple_properties_matched",message:Object(b.sprintf)(
/* translators: %d: the number of matching properties */
Object(b.__)("We found %d existing accounts. Please choose which one to use below.","google-site-kit"),e.length)};case 16:n.prev=16,n.t0=n.catch(0),i(n.t0.message),t.setState({loading:!1,errorCode:n.t0.code,errorMsg:n.t0.message});case 20:case"end":return n.stop()}}),null,null,[[0,16]])}},{key:"insertPropertyToSearchConsole",value:function(e){var t,i=arguments;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i.length>1&&void 0!==i[1]&&i[1],n.next=3,r.a.awrap(E.c.set(E.b,"search-console","site",{siteURL:e}));case 3:if(!t){n.next=6;break}return n.next=6,r.a.awrap(Object(S.y)("search_console_setup","add_new_sc_property"));case 6:this.setState({loading:!1,connected:!0});case 7:case"end":return n.stop()}}),null,this)}},{key:"submitPropertyEventHandler",value:function(){var e=this,t=this.state,i=t.selectedURL,n=t.errorCode,a=this.props.setErrorMessage;r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(e.insertPropertyToSearchConsole(i,"no_property_matched"===n));case 3:a(""),e.props.searchConsoleSetup(i),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a(t.t0.message[0].message),e.setState({loading:!1,errorCode:t.t0.code,errorMsg:t.t0.message[0].message});case 11:case"end":return t.stop()}}),null,null,[[0,7]])}},{key:"handleURLSelect",value:function(e,t){this.setState({selectedURL:t.getAttribute("data-value")})}},{key:"matchedForm",value:function(){var e=this.state,t=e.sites,i=e.selectedURL;if(!t)return null;var a=t.map((function(e){var t=e.siteURL;return t.startsWith("sc-domain:")&&(
/* translators: %s: Search Console property domain name */
t=Object(b.sprintf)(Object(b.__)("%s (domain property)","google-site-kit"),t.replace(/^sc-domain:/,""))),{label:t,value:e.siteURL}}));return n.createElement(k.b,null,n.createElement("div",{className:"googlesitekit-setup-module__inputs"},n.createElement(w.j,{enhanced:!0,name:"siteProperty",label:Object(b.__)("Choose URL","google-site-kit"),outlined:!0,onEnhancedChange:this.handleURLSelect,options:a,value:i})),n.createElement("div",{className:"googlesitekit-wizard-step__action googlesitekit-wizard-step__action--justify"},n.createElement(L.a,{onClick:this.submitPropertyEventHandler},Object(b.__)("Continue","google-site-kit")),n.createElement(N.a,null)))}},{key:"noSiteForm",value:function(){var e=this.state.siteURL;return n.createElement(k.b,null,n.createElement("div",{className:"googlesitekit-setup-module__inputs"},n.createElement(w.k,{label:Object(b.__)("Website Address","google-site-kit"),name:"siteProperty",floatingLabelClassName:"mdc-floating-label--float-above",outlined:!0,disabled:!0},n.createElement(w.b,{value:e}))),n.createElement("div",{className:"googlesitekit-wizard-step__action googlesitekit-wizard-step__action--justify"},n.createElement(L.a,{onClick:this.submitPropertyEventHandler},Object(b.__)("Continue","google-site-kit")),n.createElement(N.a,null)))}},{key:"renderForm",value:function(){var e=this.state,t=e.loading,i=e.sites;return t?n.createElement(k.b,null,n.createElement("p",null,Object(b.__)("We’re locating your Search Console account.","google-site-kit")),n.createElement(C.a,null)):0===i.length?this.noSiteForm():this.matchedForm()}},{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,i=e.shouldSetup,a=this.state,r=a.errorMsg,s=a.connected;return!i||s?SearchConsole.connected():n.createElement("section",{className:"googlesitekit-setup-module googlesitekit-setup-module--search-console"},n.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-setup-module__title "},Object(b._x)("Search Console","Service name","google-site-kit")),r&&0<r.length&&n.createElement("p",{className:"googlesitekit-error-text"},r),t&&i&&this.renderForm())}}],[{key:"connected",value:function(){return n.createElement("section",{className:"googlesitekit-setup-module googlesitekit-setup-module--search-console"},n.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-setup-module__title "},Object(b._x)("Search Console","Service name","google-site-kit")),n.createElement("p",{className:"googlesitekit-setup-module__text--no-margin"},Object(b.__)("Your Search Console is set up with Site Kit.","google-site-kit")))}}]),SearchConsole}(k.a);O.propTypes={isAuthenticated:v.a.bool.isRequired,shouldSetup:v.a.bool.isRequired,searchConsoleSetup:v.a.func.isRequired,setErrorMessage:v.a.func.isRequired},t.a=O}).call(this,i(16),i(10))},623:function(e,t,i){"use strict";(function(e,n){var a=i(5),r=i.n(a),s=i(6),o=i.n(s),c=i(7),l=i.n(c),u=i(8),d=i.n(u),p=i(9),g=i.n(p),m=i(1),h=i(2),f=i.n(h),_=i(0),k=i(3),y=i(39),v=function(t){function WizardStepCompleteSetup(t){var i;return r()(this,WizardStepCompleteSetup),i=l()(this,d()(WizardStepCompleteSetup).call(this,t)),e._googlesitekitLegacyData.setup.hasSearchConsoleProperty?Object(k.y)("plugin_setup","user_verified"):Object(k.y)("plugin_setup","site_verified"),i}return g()(WizardStepCompleteSetup,t),o()(WizardStepCompleteSetup,[{key:"render",value:function(){return n.createElement("section",{className:"googlesitekit-wizard-step googlesitekit-wizard-step--five"},n.createElement("div",{className:"mdc-layout-grid"},n.createElement("div",{className:"mdc-layout-grid__inner"},n.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-5-tablet mdc-layout-grid__cell--span-9-desktop "},n.createElement("h2",{className:" googlesitekit-heading-3 googlesitekit-wizard-step__title "},Object(_.__)("Congratulations!","google-site-kit")),n.createElement("p",null,Object(_.__)("You successfully completed the Site Kit setup and connected Search Console. Check the dashboard for more services to connect.","google-site-kit")),n.createElement("div",{className:"googlesitekit-wizard-step__action"},n.createElement(y.a,{id:"wizard-step-five-proceed",onClick:this.props.completeSetup},Object(_.__)("Go to Dashboard","google-site-kit")))),n.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--span-4-phone mdc-layout-grid__cell--span-3-tablet mdc-layout-grid__cell--span-3-desktop "},n.createElement("div",{className:"googlesitekit-rocket"},n.createElement("img",{className:"googlesitekit-rocket__body",alt:"",src:e._googlesitekitLegacyData.admin.assetsRoot+"images/rocket-body.png"}),n.createElement("img",{className:"googlesitekit-rocket__clouds",alt:"",src:e._googlesitekitLegacyData.admin.assetsRoot+"images/rocket-clouds.png"}),n.createElement("img",{className:"googlesitekit-rocket__dust",alt:"",src:e._googlesitekitLegacyData.admin.assetsRoot+"images/rocket-dust.png"}))))))}}]),WizardStepCompleteSetup}(m.a);v.propTypes={completeSetup:f.a.func.isRequired},t.a=v}).call(this,i(16),i(10))},624:function(e,t,i){"use strict";var n=i(5),a=i.n(n),r=i(6),s=i.n(r),o=i(7),c=i.n(o),l=i(8),u=i.n(l),d=i(9),p=i.n(d),g=i(1),m=i(2),h=i.n(m),f=i(10),_=i.n(f),k=i(17),y=i.n(k),v=i(30),b=function(e){function WizardProgressStep(){return a()(this,WizardProgressStep),c()(this,u()(WizardProgressStep).apply(this,arguments))}return p()(WizardProgressStep,e),s()(WizardProgressStep,[{key:"render",value:function(){var e=this.props,t=e.currentStep,i=e.step,n=e.title,a=e.status,r=e.warning,s=e.error,o=e.stepKey,c=a;r?c="warning":s&&(c="error");var l=!1;switch(c){case"warning":case"error":l=_.a.createElement(v.a,{id:"exclamation",height:"12",width:"2"});break;case"completed":l=_.a.createElement(v.a,{id:"check",height:"12",width:"16"})}return _.a.createElement("div",{className:y()("googlesitekit-wizard-progress-step","googlesitekit-wizard-progress-step--".concat(i),"googlesitekit-wizard-progress-step--".concat(o),{"googlesitekit-wizard-progress-step--current":t})},_.a.createElement("div",{className:"googlesitekit-wizard-progress-step__number-wrapper"},_.a.createElement("div",{className:y()("googlesitekit-wizard-progress-step__number","googlesitekit-wizard-progress-step__number--".concat(c))},_.a.createElement("span",{className:y()("googlesitekit-wizard-progress-step__number-text","googlesitekit-wizard-progress-step__number-text--".concat(c))},i),l&&_.a.createElement("span",{className:y()("googlesitekit-wizard-progress-step__number-icon","googlesitekit-wizard-progress-step__number-icon--".concat(c))},l))),_.a.createElement("p",{className:"googlesitekit-wizard-progress-step__text"},n))}}]),WizardProgressStep}(g.a);b.propTypes={currentStep:h.a.bool.isRequired,step:h.a.number.isRequired,title:h.a.string,status:h.a.string,warning:h.a.bool,error:h.a.bool},b.defaultProps={title:"",status:"",warning:!1,error:!1,removeFirstStep:!1},t.a=b},82:function(e,t,i){"use strict";(function(e){i(1);var n=i(0),a=i(25);t.a=function HelpLink(){var t=Object(n.__)("Need help?","google-site-kit");return e.createElement(a.a,{className:"googlesitekit-help-link",href:"https://sitekit.withgoogle.com/documentation/",external:!0},t)}}).call(this,i(10))},83:function(e,t,i){"use strict";(function(e,n){var a=i(5),r=i.n(a),s=i(6),o=i.n(s),c=i(7),l=i.n(c),u=i(8),d=i.n(u),p=i(9),g=i.n(p),m=i(1),h=i(133),f=i(158),_=i(160),k=function(t){function Header(){return r()(this,Header),l()(this,d()(Header).apply(this,arguments))}return g()(Header,t),o()(Header,[{key:"render",value:function(){var t=e._googlesitekitLegacyData.setup.isAuthenticated;return n.createElement(m.b,null,n.createElement("header",{className:"googlesitekit-header"},n.createElement("section",{className:"mdc-layout-grid"},n.createElement("div",{className:"mdc-layout-grid__inner"},n.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--span-3-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},n.createElement(h.a,null)),n.createElement("div",{className:" mdc-layout-grid__cell mdc-layout-grid__cell--align-middle mdc-layout-grid__cell--align-right-phone mdc-layout-grid__cell--span-1-phone mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-6-desktop "},t&&n.createElement(f.a,null))))),n.createElement(_.a,null))}}]),Header}(m.a);t.a=k}).call(this,i(16),i(10))}}]);