/*! For license information please see index.js.LICENSE.txt */
!function(){var e={83849:function(e,t){var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var c=n.apply(null,o);c&&e.push(c)}}else if("object"===a)if(o.toString===Object.prototype.toString)for(var i in o)r.call(o,i)&&o[i]&&e.push(i);else e.push(o.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},74944:function(e){e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,o=Object.isFrozen,r=Object.getPrototypeOf,n=Object.getOwnPropertyDescriptor,a=Object.freeze,c=Object.seal,i=Object.create,l="undefined"!=typeof Reflect&&Reflect,s=l.apply,u=l.construct;s||(s=function(e,t,o){return e.apply(t,o)}),a||(a=function(e){return e}),c||(c=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}(t))))});var m,d=b(Array.prototype.forEach),p=b(Array.prototype.pop),f=b(Array.prototype.push),g=b(String.prototype.toLowerCase),h=b(String.prototype.match),_=b(String.prototype.replace),w=b(String.prototype.indexOf),y=b(String.prototype.trim),v=b(RegExp.prototype.test),E=(m=TypeError,function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return u(m,t)});function b(e){return function(t){for(var o=arguments.length,r=Array(o>1?o-1:0),n=1;n<o;n++)r[n-1]=arguments[n];return s(e,t,r)}}function k(e,r){t&&t(e,null);for(var n=r.length;n--;){var a=r[n];if("string"==typeof a){var c=g(a);c!==a&&(o(r)||(r[n]=c),a=c)}e[a]=!0}return e}function S(t){var o=i(null),r=void 0;for(r in t)s(e,t,[r])&&(o[r]=t[r]);return o}function C(e,t){for(;null!==e;){var o=n(e,t);if(o){if(o.get)return b(o.get);if("function"==typeof o.value)return b(o.value)}e=r(e)}return function(e){return console.warn("fallback value for",e),null}}var x=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=a(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),O=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),I=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),A=a(["#text"]),D=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),L=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),M=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),R=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F=c(/\{\{[\s\S]*|[\s\S]*\}\}/gm),B=c(/<%[\s\S]*|[\s\S]*%>/gm),V=c(/^data-[\-\w.\u00B7-\uFFFF]/),H=c(/^aria-[\-\w]+$/),z=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),U=c(/^(?:\w+script|data):/i),j=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W=c(/^html$/i),$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function G(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var q=function(){return"undefined"==typeof window?null:window},Z=function(e,t){if("object"!==(void 0===e?"undefined":$(e))||"function"!=typeof e.createPolicy)return null;var o=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(o=t.currentScript.getAttribute(r));var n="dompurify"+(o?"#"+o:"");try{return e.createPolicy(n,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+n+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q(),o=function(t){return e(t)};if(o.version="2.3.6",o.removed=[],!t||!t.document||9!==t.document.nodeType)return o.isSupported=!1,o;var r=t.document,n=t.document,c=t.DocumentFragment,i=t.HTMLTemplateElement,l=t.Node,s=t.Element,u=t.NodeFilter,m=t.NamedNodeMap,b=void 0===m?t.NamedNodeMap||t.MozNamedAttrMap:m,K=t.HTMLFormElement,J=t.DOMParser,Y=t.trustedTypes,X=s.prototype,Q=C(X,"cloneNode"),ee=C(X,"nextSibling"),te=C(X,"childNodes"),oe=C(X,"parentNode");if("function"==typeof i){var re=n.createElement("template");re.content&&re.content.ownerDocument&&(n=re.content.ownerDocument)}var ne=Z(Y,r),ae=ne?ne.createHTML(""):"",ce=n,ie=ce.implementation,le=ce.createNodeIterator,se=ce.createDocumentFragment,ue=ce.getElementsByTagName,me=r.importNode,de={};try{de=S(n).documentMode?n.documentMode:{}}catch(e){}var pe={};o.isSupported="function"==typeof oe&&ie&&void 0!==ie.createHTMLDocument&&9!==de;var fe=F,ge=B,he=V,_e=H,we=U,ye=j,ve=z,Ee=null,be=k({},[].concat(G(x),G(T),G(N),G(O),G(A))),ke=null,Se=k({},[].concat(G(D),G(L),G(M),G(R))),Ce=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Te=null,Ne=!0,Pe=!0,Oe=!1,Ie=!1,Ae=!1,De=!1,Le=!1,Me=!1,Re=!1,Fe=!1,Be=!0,Ve=!0,He=!1,ze={},Ue=null,je=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,$e=k({},["audio","video","img","source","image","track"]),Ge=null,qe=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",Ye=Je,Xe=!1,Qe=void 0,et=["application/xhtml+xml","text/html"],tt="text/html",ot=void 0,rt=null,nt=n.createElement("form"),at=function(e){return e instanceof RegExp||e instanceof Function},ct=function(e){rt&&rt===e||(e&&"object"===(void 0===e?"undefined":$(e))||(e={}),e=S(e),Ee="ALLOWED_TAGS"in e?k({},e.ALLOWED_TAGS):be,ke="ALLOWED_ATTR"in e?k({},e.ALLOWED_ATTR):Se,Ge="ADD_URI_SAFE_ATTR"in e?k(S(qe),e.ADD_URI_SAFE_ATTR):qe,We="ADD_DATA_URI_TAGS"in e?k(S($e),e.ADD_DATA_URI_TAGS):$e,Ue="FORBID_CONTENTS"in e?k({},e.FORBID_CONTENTS):je,xe="FORBID_TAGS"in e?k({},e.FORBID_TAGS):{},Te="FORBID_ATTR"in e?k({},e.FORBID_ATTR):{},ze="USE_PROFILES"in e&&e.USE_PROFILES,Ne=!1!==e.ALLOW_ARIA_ATTR,Pe=!1!==e.ALLOW_DATA_ATTR,Oe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=e.SAFE_FOR_TEMPLATES||!1,Ae=e.WHOLE_DOCUMENT||!1,Me=e.RETURN_DOM||!1,Re=e.RETURN_DOM_FRAGMENT||!1,Fe=e.RETURN_TRUSTED_TYPE||!1,Le=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,Ve=!1!==e.KEEP_CONTENT,He=e.IN_PLACE||!1,ve=e.ALLOWED_URI_REGEXP||ve,Ye=e.NAMESPACE||Je,e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&at(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Qe=Qe=-1===et.indexOf(e.PARSER_MEDIA_TYPE)?tt:e.PARSER_MEDIA_TYPE,ot="application/xhtml+xml"===Qe?function(e){return e}:g,Ie&&(Pe=!1),Re&&(Me=!0),ze&&(Ee=k({},[].concat(G(A))),ke=[],!0===ze.html&&(k(Ee,x),k(ke,D)),!0===ze.svg&&(k(Ee,T),k(ke,L),k(ke,R)),!0===ze.svgFilters&&(k(Ee,N),k(ke,L),k(ke,R)),!0===ze.mathMl&&(k(Ee,O),k(ke,M),k(ke,R))),e.ADD_TAGS&&(Ee===be&&(Ee=S(Ee)),k(Ee,e.ADD_TAGS)),e.ADD_ATTR&&(ke===Se&&(ke=S(ke)),k(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&k(Ge,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(Ue===je&&(Ue=S(Ue)),k(Ue,e.FORBID_CONTENTS)),Ve&&(Ee["#text"]=!0),Ae&&k(Ee,["html","head","body"]),Ee.table&&(k(Ee,["tbody"]),delete xe.tbody),a&&a(e),rt=e)},it=k({},["mi","mo","mn","ms","mtext"]),lt=k({},["foreignobject","desc","title","annotation-xml"]),st=k({},T);k(st,N),k(st,P);var ut=k({},O);k(ut,I);var mt=function(e){var t=oe(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});var o=g(e.tagName),r=g(t.tagName);if(e.namespaceURI===Ke)return t.namespaceURI===Je?"svg"===o:t.namespaceURI===Ze?"svg"===o&&("annotation-xml"===r||it[r]):Boolean(st[o]);if(e.namespaceURI===Ze)return t.namespaceURI===Je?"math"===o:t.namespaceURI===Ke?"math"===o&&lt[r]:Boolean(ut[o]);if(e.namespaceURI===Je){if(t.namespaceURI===Ke&&!lt[r])return!1;if(t.namespaceURI===Ze&&!it[r])return!1;var n=k({},["title","style","font","a","script"]);return!ut[o]&&(n[o]||!st[o])}return!1},dt=function(e){f(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ae}catch(t){e.remove()}}},pt=function(e,t){try{f(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(Me||Re)try{dt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ft=function(e){var t=void 0,o=void 0;if(Le)e="<remove></remove>"+e;else{var r=h(e,/^[\r\n\t ]+/);o=r&&r[0]}"application/xhtml+xml"===Qe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var a=ne?ne.createHTML(e):e;if(Ye===Je)try{t=(new J).parseFromString(a,Qe)}catch(e){}if(!t||!t.documentElement){t=ie.createDocument(Ye,"template",null);try{t.documentElement.innerHTML=Xe?"":a}catch(e){}}var c=t.body||t.documentElement;return e&&o&&c.insertBefore(n.createTextNode(o),c.childNodes[0]||null),Ye===Je?ue.call(t,Ae?"html":"body")[0]:Ae?t.documentElement:c},gt=function(e){return le.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},ht=function(e){return e instanceof K&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof b)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},_t=function(e){return"object"===(void 0===l?"undefined":$(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":$(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},wt=function(e,t,r){pe[e]&&d(pe[e],(function(e){e.call(o,t,r,rt)}))},yt=function(e){var t=void 0;if(wt("beforeSanitizeElements",e,null),ht(e))return dt(e),!0;if(h(e.nodeName,/[\u0080-\uFFFF]/))return dt(e),!0;var r=ot(e.nodeName);if(wt("uponSanitizeElement",e,{tagName:r,allowedTags:Ee}),!_t(e.firstElementChild)&&(!_t(e.content)||!_t(e.content.firstElementChild))&&v(/<[/\w]/g,e.innerHTML)&&v(/<[/\w]/g,e.textContent))return dt(e),!0;if("select"===r&&v(/<template/i,e.innerHTML))return dt(e),!0;if(!Ee[r]||xe[r]){if(!xe[r]&&Et(r)){if(Ce.tagNameCheck instanceof RegExp&&v(Ce.tagNameCheck,r))return!1;if(Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r))return!1}if(Ve&&!Ue[r]){var n=oe(e)||e.parentNode,a=te(e)||e.childNodes;if(a&&n)for(var c=a.length-1;c>=0;--c)n.insertBefore(Q(a[c],!0),ee(e))}return dt(e),!0}return e instanceof s&&!mt(e)?(dt(e),!0):"noscript"!==r&&"noembed"!==r||!v(/<\/no(script|embed)/i,e.innerHTML)?(Ie&&3===e.nodeType&&(t=e.textContent,t=_(t,fe," "),t=_(t,ge," "),e.textContent!==t&&(f(o.removed,{element:e.cloneNode()}),e.textContent=t)),wt("afterSanitizeElements",e,null),!1):(dt(e),!0)},vt=function(e,t,o){if(Be&&("id"===t||"name"===t)&&(o in n||o in nt))return!1;if(Pe&&!Te[t]&&v(he,t));else if(Ne&&v(_e,t));else if(!ke[t]||Te[t]){if(!(Et(e)&&(Ce.tagNameCheck instanceof RegExp&&v(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&v(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&v(Ce.tagNameCheck,o)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(o))))return!1}else if(Ge[t]);else if(v(ve,_(o,ye,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==w(o,"data:")||!We[e])if(Oe&&!v(we,_(o,ye,"")));else if(o)return!1;return!0},Et=function(e){return e.indexOf("-")>0},bt=function(e){var t=void 0,r=void 0,n=void 0,a=void 0;wt("beforeSanitizeAttributes",e,null);var c=e.attributes;if(c){var i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(a=c.length;a--;){var l=t=c[a],s=l.name,u=l.namespaceURI;if(r=y(t.value),n=ot(s),i.attrName=n,i.attrValue=r,i.keepAttr=!0,i.forceKeepAttr=void 0,wt("uponSanitizeAttribute",e,i),r=i.attrValue,!i.forceKeepAttr&&(pt(s,e),i.keepAttr))if(v(/\/>/i,r))pt(s,e);else{Ie&&(r=_(r,fe," "),r=_(r,ge," "));var m=ot(e.nodeName);if(vt(m,n,r))try{u?e.setAttributeNS(u,s,r):e.setAttribute(s,r),p(o.removed)}catch(e){}}}wt("afterSanitizeAttributes",e,null)}},kt=function e(t){var o=void 0,r=gt(t);for(wt("beforeSanitizeShadowDOM",t,null);o=r.nextNode();)wt("uponSanitizeShadowNode",o,null),yt(o)||(o.content instanceof c&&e(o.content),bt(o));wt("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e,n){var a=void 0,i=void 0,s=void 0,u=void 0,m=void 0;if((Xe=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!_t(e)){if("function"!=typeof e.toString)throw E("toString is not a function");if("string"!=typeof(e=e.toString()))throw E("dirty is not a string, aborting")}if(!o.isSupported){if("object"===$(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(_t(e))return t.toStaticHTML(e.outerHTML)}return e}if(De||ct(n),o.removed=[],"string"==typeof e&&(He=!1),He){if(e.nodeName){var d=ot(e.nodeName);if(!Ee[d]||xe[d])throw E("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)1===(i=(a=ft("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?a=i:a.appendChild(i);else{if(!Me&&!Ie&&!Ae&&-1===e.indexOf("<"))return ne&&Fe?ne.createHTML(e):e;if(!(a=ft(e)))return Me?null:Fe?ae:""}a&&Le&&dt(a.firstChild);for(var p=gt(He?e:a);s=p.nextNode();)3===s.nodeType&&s===u||yt(s)||(s.content instanceof c&&kt(s.content),bt(s),u=s);if(u=null,He)return e;if(Me){if(Re)for(m=se.call(a.ownerDocument);a.firstChild;)m.appendChild(a.firstChild);else m=a;return ke.shadowroot&&(m=me.call(r,m,!0)),m}var f=Ae?a.outerHTML:a.innerHTML;return Ae&&Ee["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&v(W,a.ownerDocument.doctype.name)&&(f="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+f),Ie&&(f=_(f,fe," "),f=_(f,ge," ")),ne&&Fe?ne.createHTML(f):f},o.setConfig=function(e){ct(e),De=!0},o.clearConfig=function(){rt=null,De=!1},o.isValidAttribute=function(e,t,o){rt||ct({});var r=ot(e),n=ot(t);return vt(r,n,o)},o.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],f(pe[e],t))},o.removeHook=function(e){pe[e]&&p(pe[e])},o.removeHooks=function(e){pe[e]&&(pe[e]=[])},o.removeAllHooks=function(){pe={}},o}()}()},70861:function(e,t,o){var r=o(83250).Symbol;e.exports=r},29233:function(e){e.exports=function(e,t){for(var o=-1,r=null==e?0:e.length,n=Array(r);++o<r;)n[o]=t(e[o],o,e);return n}},69823:function(e,t,o){var r=o(70861),n=o(91339),a=o(25151),c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?n(e):a(e)}},86245:function(e,t,o){var r=o(70861),n=o(29233),a=o(55589),c=o(52624),i=r?r.prototype:void 0,l=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return n(t,e)+"";if(c(t))return l?l.call(t):"";var o=t+"";return"0"==o&&1/t==-1/0?"-0":o}},20302:function(e,t,o){var r="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g;e.exports=r},91339:function(e,t,o){var r=o(70861),n=Object.prototype,a=n.hasOwnProperty,c=n.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),o=e[i];try{e[i]=void 0;var r=!0}catch(e){}var n=c.call(e);return r&&(t?e[i]=o:delete e[i]),n}},25151:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},83250:function(e,t,o){var r=o(20302),n="object"==typeof self&&self&&self.Object===Object&&self,a=r||n||Function("return this")();e.exports=a},55589:function(e){var t=Array.isArray;e.exports=t},50440:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},52624:function(e,t,o){var r=o(69823),n=o(50440);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},99835:function(e,t,o){var r=o(86245);e.exports=function(e){return null==e?"":r(e)}},61422:function(e,t,o){var r=o(99835),n=0;e.exports=function(e){var t=++n;return r(e)+t}},31772:function(e,t,o){"use strict";var r=o(25148);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,o,n,a,c){if(c!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return o.PropTypes=o,o}},7862:function(e,t,o){e.exports=o(31772)()},25148:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,o),a.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";o.r(r),o.d(r,{AUTO_DRAFT_NAME:function(){return O},DETAILS_SECTION_ID:function(){return S},NEW_PRODUCT_MANAGEMENT_ENABLED_OPTION_NAME:function(){return b},PRODUCT_STATUS_LABELS:function(){return Ho},TAB_GENERAL_ID:function(){return k},__experimentalBlockIcon:function(){return Nt},__experimentalDetailsCategoriesField:function(){return ae},__experimentalDetailsDescriptionField:function(){return le},__experimentalDetailsFeatureField:function(){return R},__experimentalDetailsNameField:function(){return L},__experimentalDetailsSummaryField:function(){return ie},__experimentalEditor:function(){return Po},__experimentalProductFieldSection:function(){return l},__experimentalProductMVPCESFooter:function(){return Ao},__experimentalProductMVPFeedbackModal:function(){return Ro},__experimentalProductMVPFeedbackModalContainer:function(){return Fo},__experimentalProductSectionLayout:function(){return c},__experimentalShippingDimensionsImage:function(){return wo},__experimentalUseCurrencyInputProps:function(){return Ht},__experimentalUseProductHelper:function(){return D},__experimentalUseProductMVPCESFooter:function(){return tr},__experimentalUseVariationsOrder:function(){return ar},__experimentalWooProductFieldItem:function(){return f},__experimentalWooProductMoreMenuItem:function(){return me},__experimentalWooProductSectionItem:function(){return g},__experimentalWooProductTabItem:function(){return h},createOrderedChildren:function(){return u},formatCurrencyDisplayValue:function(){return Vt},getCheckboxTracks:function(){return M},getCurrencySymbolProps:function(){return Bo},getDerivedProductType:function(){return P},getHeaderTitle:function(){return Me},getProductStatus:function(){return zo},getProductStockStatus:function(){return $o},getProductStockStatusClass:function(){return Go},getProductTitle:function(){return qo},getProductVariationTitle:function(){return Zo},getTruncatedProductVariationTitle:function(){return Ko},initBlock:function(){return Ke},preventLeavingProductForm:function(){return Jo},productApiFetchMiddleware:function(){return Qo},sortFillsByOrder:function(){return m}});var e={};o.r(e),o.d(e,{disableComplementaryArea:function(){return Se},enableComplementaryArea:function(){return ke},pinItem:function(){return Ce},setFeatureDefaults:function(){return Pe},setFeatureValue:function(){return Ne},toggleFeature:function(){return Te},unpinItem:function(){return xe}});var t={};o.r(t),o.d(t,{getActiveComplementaryArea:function(){return Oe},isFeatureActive:function(){return Ae},isItemPinned:function(){return Ie}});var n=window.wp.element,a=window.wc.components;const c=e=>{let{title:t,description:o,className:r,children:c}=e;return(0,n.createElement)(a.FormSection,{title:t,description:o,className:r},n.Children.map(c,(e=>(0,n.isValidElement)(e)&&e.props.onChange?(0,n.createElement)("div",{className:"product-field-layout"},e):e)))};var i=window.wp.components;const l=e=>{let{id:t,title:o,description:r,className:l,children:s}=e;return(0,n.createElement)(c,{title:o,description:r,className:l},(0,n.createElement)(i.Card,null,(0,n.createElement)(i.CardBody,null,s,(0,n.createElement)(a.__experimentalWooProductFieldItem.Slot,{section:t}))))};var s=window.React;function u(e,t,o,r){const{children:a,props:c}=function(e,t,o,r){if("function"==typeof e)return{children:e({...o,order:t,...r}),props:{order:t,...r}};if((0,s.isValidElement)(e))return"function"==typeof(null==e?void 0:e.type)?{children:e,props:{...o,order:t,...r}}:{children:e,props:{order:t,...r}};throw Error("Invalid children type")}(e,t,o,r);return(0,n.cloneElement)(a,c)}const m=e=>{const t=[...e].sort(((e,t)=>e[0].props.order-t[0].props.order));return(0,n.createElement)(s.Fragment,null,t)},d=20,p=e=>{let{fieldName:t,sectionName:o,order:r,children:c}=e;const{registerFill:l,getFillHelpers:s}=(0,a.useSlotContext)(),m=`product_field/${o}/${t}`;return(0,n.useEffect)((()=>{l(m)}),[]),(0,n.createElement)(i.Fill,{name:`woocommerce_product_field_${o}`,key:m},(e=>u(c,r,{sectionName:o,...e,...s()},{_id:m})))},f=e=>{let{children:t,sections:o,id:r}=e;return(0,n.createElement)(n.Fragment,null,o.map((e=>{let{name:o,order:a=d}=e;return(0,n.createElement)(p,{fieldName:r,sectionName:o,order:a,key:o},t)})))};f.Slot=e=>{let{fillProps:t,section:o}=e;const{filterRegisteredFills:r}=(0,a.useSlotContext)();return(0,n.createElement)(i.Slot,{name:`woocommerce_product_field_${o}`,fillProps:t},(e=>{var t;return m?n.Children.map(null===(t=m(r(e)))||void 0===t?void 0:t.props.children,(e=>(0,n.createElement)("div",{className:"woocommerce-product-form__field"},e))):null}))};const g=e=>{let{children:t,tabs:o}=e;return(0,n.createElement)(n.Fragment,null,o.map((e=>{let{name:o,order:r}=e;return(0,n.createElement)(i.Fill,{name:`woocommerce_product_section_${o}`,key:o},(e=>u(t,r||20,{tabName:o,...e})))})))};g.Slot=e=>{let{fillProps:t,tab:o}=e;return(0,n.createElement)(i.Slot,{name:`woocommerce_product_section_${o}`,fillProps:t},(e=>m?m(e):null))};const h=e=>{let{children:t,tabProps:o,templates:r}=e;return r?(0,n.createElement)(n.Fragment,null,r.map((e=>(0,n.createElement)(i.Fill,{name:`woocommerce_product_tab_${e.name}`,key:e.name},(r=>u(t,e.order||20,{},{tabProps:o,templateName:e.name,order:e.order||20,...r})))))):(console.warn("WooProductTabItem fill is missing templates property."),null)};h.Slot=e=>{let{fillProps:t,template:o,children:r}=e;return(0,n.createElement)(i.Slot,{name:`woocommerce_product_tab_${o}`,fillProps:t},(e=>{const o=e.reduce(((e,o)=>{let{childrenMap:r,tabs:n}=e;var a;const c=o[0].props;if(c&&c.tabProps){r[c.tabProps.name]=o[0];const e="function"==typeof c.tabProps?c.tabProps(t):c.tabProps;n.push({...e,order:null!==(a=c.order)&&void 0!==a?a:20})}return{childrenMap:r,tabs:n}}),{childrenMap:{},tabs:[]}),n=o.tabs.sort(((e,t)=>e.order-t.order));return r(n,o.childrenMap)}))};var _=window.wp.data,w=window.wp.i18n,y=window.wp.url,v=window.wc.data;const E="woocommerce_ces_product_mvp_ces_action",b="woocommerce_new_product_management_enabled",k="tab/general",S=`${k}/details`;var C=window.wc.tracks;const x=e=>{let{product:t,permalinkPrefix:o,permalinkSuffix:r,onCancel:a,onSaved:c,saveHandler:l}=e;const{createNotice:s}=(0,_.useDispatch)("core/notices"),[u,m]=(0,n.useState)(!1),[d,p]=(0,n.useState)(t.slug||(0,y.cleanForSlug)(t.name)),f=o+(0,y.cleanForSlug)(d)+r;return(0,n.createElement)(i.Modal,{title:(0,w.__)("Edit product link","woocommerce"),onRequestClose:()=>a(),className:"woocommerce-product-link-edit-modal"},(0,n.createElement)("div",{className:"woocommerce-product-link-edit-modal__wrapper"},(0,n.createElement)("p",{className:"woocommerce-product-link-edit-modal__description"},(0,w.__)("Create a unique link for this product. Use simple, descriptive words and numbers. We'll replace spaces with hyphens (-).","woocommerce")),(0,n.createElement)(i.TextControl,{label:(0,w.__)("Product link","woocommerce"),name:"slug",value:d,onChange:p,hideLabelFromVision:!0,help:(0,n.createInterpolateElement)((0,w.__)("Preview: <link />","woocommerce"),{link:(0,n.createElement)("strong",null,f)})}),(0,n.createElement)("div",{className:"woocommerce-product-link-edit-modal__buttons"},(0,n.createElement)(i.Button,{isSecondary:!0,onClick:()=>a()},(0,w.__)("Cancel","woocommerce")),(0,n.createElement)(i.Button,{isPrimary:!0,isBusy:u,disabled:u||d===t.slug,onClick:async()=>{m(!0),await(async()=>{var e;(0,C.recordEvent)("product_update_slug",{new_product_page:!0,product_id:t.id,product_type:t.type});const{slug:o,permalink:r}=null!==(e=await l(d))&&void 0!==e?e:{};o?s(o===(0,y.cleanForSlug)(d)?"success":"info",o===(0,y.cleanForSlug)(d)?(0,w.__)("Product link successfully updated.","woocommerce"):(0,w.__)("Product link already existed, updated to ","woocommerce")+r):s("error",(0,w.__)("Failed to update product link.","woocommerce")),c()})(),m(!1)}},(0,w.__)("Save","woocommerce")))))};var T=window.wc.number,N=window.wc.currency;const P=e=>{var t;return window.wcAdminFeatures["product-variation-management"]&&(null===(t=e.attributes)||void 0===t?void 0:t.find((e=>e.options.length&&e.variation)))?"variable":"simple"},O="AUTO-DRAFT";function I(e){return v.productReadOnlyProperties.forEach((t=>delete e[t])),e}function A(e,t){return"publish"===e&&t?[{label:(0,w.__)("View in store","woocommerce"),onClick:()=>{(0,C.recordEvent)("product_preview_changes",{new_product_page:!0}),window.open(t,"_blank")}}]:[]}function D(){const{createProduct:e,updateProduct:t,deleteProduct:o}=(0,_.useDispatch)(v.PRODUCTS_STORE_NAME),{batchUpdateProductVariations:r,invalidateResolutionForStoreSelector:a}=(0,_.useDispatch)(v.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),{createNotice:c}=(0,_.useDispatch)("core/notices"),[i,l]=(0,n.useState)(!1),[s,u]=(0,n.useState)({draft:!1,publish:!1}),m=(0,n.useContext)(N.CurrencyContext),d=(0,n.useCallback)((async function(t,o){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u({...s,[o]:!0}),e({...t,status:o,type:P(t)}).then((e=>{if(!r){const t="publish"===e.status?(0,w.__)("Product published.","woocommerce"):(0,w.__)("Product successfully created.","woocommerce");c("success",`🎉‎ ${t}`,{actions:A(e.status,e.permalink)})}return u({...s,[o]:!1}),e}),(e=>(r||c("error","publish"===o?(0,w.__)("Failed to publish product.","woocommerce"):(0,w.__)("Failed to create product.","woocommerce")),u({...s,[o]:!1}),e)))}),[s]);async function p(e,t){if(t)return r({product_id:e},{update:Object.values(t).flatMap(Object.entries).map((e=>{let[t,o]=e;return{id:t,menu_order:o}}))})}const f=(0,n.useCallback)((async function(e,o,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return u({...s,[r]:!0}),t(e,{...o,status:r,type:P(o)}).then((async e=>p(e.id,o.variationsOrder).then((()=>a("getProductVariations"))).then((()=>e)))).then((e=>{if(!n){const t="draft"===o.status&&"publish"===e.status?(0,w.__)("Product published.","woocommerce"):(0,w.__)("Product successfully updated.","woocommerce");c("success",`🎉‎ ${t}`,{actions:A(e.status,e.permalink)})}return u({...s,[r]:!1}),e}),(e=>(n||c("error",(0,w.__)("Failed to update product.","woocommerce")),u({...s,[r]:!1}),e)))}),[s]),g=(0,n.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"draft";return d(I({...e,name:(e.name||O)+" - Copy"}),t)}),[]),h=(0,n.useCallback)((async e=>(l(!0),o(e).then((e=>{const t=(0,w.__)("Successfully moved product to Trash.","woocommerce");return c("success",`🎉‎ ${t}`),l(!1),e}),(e=>(c("error",(0,w.__)("Failed to move product to Trash.","woocommerce")),l(!1),e))))),[]),y=(0,n.useCallback)((e=>{const{getCurrencyConfig:t}=m,{decimalSeparator:o}=t(),r=new RegExp("[^-\\d\\%s]+".replace("%s",o),"g"),n=new RegExp("[%s](?=%s*[%s])".replaceAll("%s",o),"g");return e.replace(r,"").replace(n,"").replace(o,".")}),[m]),E=(0,n.useCallback)((e=>{const{getCurrencyConfig:t}=m,{decimalSeparator:o,thousandSeparator:r}=t();return T.numberFormat({decimalSeparator:o,thousandSeparator:r},e)}),[m]),b=(0,n.useCallback)((e=>{const{getCurrencyConfig:t}=m,{decimalSeparator:o,thousandSeparator:r}=t();return T.parseNumber({decimalSeparator:o,thousandSeparator:r},e)}),[m]);return{createProductWithStatus:d,updateProductWithStatus:f,copyProductWithStatus:g,deleteProductAndRedirect:h,sanitizePrice:y,formatNumber:E,parseNumber:b,isUpdatingDraft:s.draft,isUpdatingPublished:s.publish,isDeleting:i}}const L=e=>{let{}=e;const{updateProductWithStatus:t}=D(),[o,r]=(0,n.useState)(!1),{getInputProps:c,values:l,touched:s,errors:u,setValue:m,resetForm:d}=(0,a.useFormContext)(),{permalinkPrefix:p,permalinkSuffix:f}=(0,_.useSelect)((e=>{const{getPermalinkParts:t}=e(v.PRODUCTS_STORE_NAME);if(l.id){const e=t(l.id);return{permalinkPrefix:null==e?void 0:e.prefix,permalinkSuffix:null==e?void 0:e.suffix}}return{}}));return(0,n.createElement)("div",null,(0,n.createElement)(i.TextControl,{label:(0,n.createInterpolateElement)((0,w.__)("Name <required />","woocommerce"),{required:(0,n.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(required)","woocommerce"))}),name:"product-details-name",placeholder:(0,w.__)("e.g. 12 oz Coffee Mug","woocommerce"),...c("name",{onBlur:()=>{var e;!l.sku&&(null===(e=l.name)||void 0===e?void 0:e.length)&&m("sku",(0,y.cleanForSlug)(l.name))}})}),l.id&&!(Boolean(s.name)&&Boolean(u.name))&&p&&(0,n.createElement)("span",{className:"woocommerce-product-form__secondary-text product-details-section__product-link"},(0,w.__)("Product link","woocommerce"),": ",(0,n.createElement)("a",{href:l.permalink,target:"_blank",rel:"noreferrer"},p,l.slug||(0,y.cleanForSlug)(l.name),f),(0,n.createElement)(i.Button,{variant:"link",onClick:()=>r(!0)},(0,w.__)("Edit","woocommerce"))),o&&(0,n.createElement)(x,{permalinkPrefix:p||"",permalinkSuffix:f||"",product:l,onCancel:()=>r(!1),onSaved:()=>r(!1),saveHandler:async e=>{const o=await t(l.id,{slug:e},l.status,!0);if(o&&o.id)return d({...l,slug:o.slug,permalink:o.permalink},s,u),{slug:o.slug,permalink:o.permalink}}}))};function M(e){return{onChange:t=>{(0,C.recordEvent)(`product_checkbox_${e}`,{checked:t})}}}const R=()=>{const{getCheckboxControlProps:e}=(0,a.useFormContext)();return(0,n.createElement)(i.CheckboxControl,{label:(0,n.createElement)(n.Fragment,null,(0,w.__)("Feature this product","woocommerce"),(0,n.createElement)(a.__experimentalTooltip,{text:(0,n.createInterpolateElement)((0,w.__)("Include this product in a featured section on your website with a widget or shortcode. <moreLink />","woocommerce"),{moreLink:(0,n.createElement)(a.Link,{href:"https://woocommerce.com/document/woocommerce-shortcodes/#products",target:"_blank",type:"external",onClick:()=>(0,C.recordEvent)("add_product_learn_more",{category:"product-details"})},(0,w.__)("Learn more","woocommerce"))})})),...e("featured",M("featured"))})};var F=window.lodash;const B={};function V(e,t){e[t.parentID]&&(e[t.parentID].isOpen=!0,0!==e[t.parentID].parentID&&V(e,e[t.parentID]))}const H=e=>e.sort(((e,t)=>e.data.count===t.data.count?e.data.name.localeCompare(t.data.name):t.data.count-e.data.count));function z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;for(const o of t)e.push(o.data),o.children.length>0&&(o.children=H(o.children),z(e,o.children));return e}async function U(e,t){const o={},r=[];for(const t of e)o[t.id]={data:t,children:[],parentID:t.parent,isOpen:!1};if(Object.keys(o).forEach((e=>{const n=o[parseInt(e,10)];if(0!==n.parentID)if(!o[n.parentID]&&B[n.parentID]&&(o[n.parentID]={data:B[n.parentID],children:[],parentID:B[n.parentID].parent,isOpen:!1}),o[n.parentID]){o[n.parentID].children.push(n),B[n.parentID]=o[n.parentID].data;const e=new RegExp((0,F.escapeRegExp)(t),"i");t.length>0&&e.test(n.data.name)&&V(o,n)}else r.push(n.parentID)})),r.length>0)return(0,_.resolveSelect)(v.EXPERIMENTAL_PRODUCT_CATEGORIES_STORE_NAME).getProductCategories({include:r}).then((o=>U([...o,...e],t)));const n=H(Object.values(o).filter((e=>0===e.parentID))),a=z([],n);return Promise.resolve([a,n,o])}const j={per_page:100},W=()=>{const e=(0,n.useRef)(""),{initialCategories:t,totalCount:o}=(0,_.useSelect)((e=>{const{getProductCategories:t,getProductCategoriesTotalCount:o}=e(v.EXPERIMENTAL_PRODUCT_CATEGORIES_STORE_NAME);return{initialCategories:t(j),totalCount:o(j)}})),[r,a]=(0,n.useState)(!0),[c,i]=(0,n.useState)([[],[],{}]),l=!t||t.length>0&&o>100;(0,n.useEffect)((()=>{t&&t.length>0&&(0===c[0].length||0===e.current.length)&&(a(!0),U([...t],"").then((e=>{i(e),a(!1)}),(()=>{a(!1)})))}),[t]);const s=(0,n.useCallback)((async o=>{if(e.current=o||"",!l&&t.length>0)return U([...t],o||"").then((e=>(i(e),e[1])));a(!0);try{const e=await(0,_.resolveSelect)(v.EXPERIMENTAL_PRODUCT_CATEGORIES_STORE_NAME).getProductCategories({search:o,per_page:100}),t=await U(e,o||"");return a(!1),i(t),t[1]}catch(e){return a(!1),[]}}),[t]),u=c[2];return{searchCategories:s,getFilteredItems:(0,n.useCallback)(((e,t,o)=>{const r=new RegExp((0,F.escapeRegExp)(t),"i");return e.filter((e=>o.indexOf(e)<0&&(r.test(e.name)||u[e.id]&&u[e.id].isOpen)))}),[c]),getFilteredItemsForSelectTree:(0,n.useCallback)(((e,t,o)=>{const r=new RegExp((0,F.escapeRegExp)(t),"i");return e.filter((e=>o.indexOf(e)<0&&(r.test(e.label)||u[+e.value]&&u[+e.value].isOpen)))}),[c]),categoriesSelectList:c[0],categories:c[1],isSearching:r,categoryTreeKeyValues:u}};var $=window.wp.compose,G=window.wp.htmlEntities,q=window.wp.primitives,Z=(0,n.createElement)(q.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(q.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),K=(0,n.createElement)(q.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(q.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),J=o(83849),Y=o.n(J);const X=e=>{let{item:t,selectedIds:o=[],items:r,highlightedIndex:a,openParent:c,getItemProps:l}=e;const[s,u]=(0,n.useState)(t.isOpen||!1),m=r.findIndex((e=>e.id===t.data.id)),d=t.children.filter((e=>r.includes(e.data)));return(0,n.useEffect)((()=>{a===m&&d.length>0&&!s?u(!0):a===m&&c&&c()}),[a]),(0,n.useEffect)((()=>{t.isOpen!==s&&u(t.isOpen)}),[t.isOpen]),(0,n.createElement)("li",{className:Y()("woocommerce-category-field-dropdown__item",{item_highlighted:m===a})},(0,n.createElement)("div",{className:"woocommerce-category-field-dropdown__item-content",...l({item:t.data,index:m})},d.length>0?(0,n.createElement)(i.Icon,{className:"woocommerce-category-field-dropdown__toggle",icon:s?Z:K,size:20,onClick:e=>{e.stopPropagation(),u(!s)}}):(0,n.createElement)("div",{className:"woocommerce-category-field-dropdown__toggle-placeholder"}),(0,n.createElement)(i.CheckboxControl,{label:(0,G.decodeEntities)(t.data.name),checked:o.includes(t.data.id),onChange:()=>t.data})),d.length>0?(0,n.createElement)("ul",{className:Y()("woocommerce-category-field-dropdown__item-children",{"woocommerce-category-field-dropdown__item-open":s})},d.map((e=>(0,n.createElement)(X,{key:e.data.id,item:e,selectedIds:o,items:r,highlightedIndex:a,openParent:()=>!s&&u(!0),getItemProps:l})))):null)};function Q(e){return(null==e?void 0:e.name)||""}function ee(e){return(null==e?void 0:e.id)||""}const te=e=>{let{initialCategoryName:t,onCancel:o,onCreate:r}=e;const{categoriesSelectList:c,isSearching:l,categoryTreeKeyValues:s,searchCategories:u,getFilteredItems:m}=W(),{createNotice:d}=(0,_.useDispatch)("core/notices"),[p,f]=(0,n.useState)(!1),{createProductCategory:g,invalidateResolutionForStoreSelector:h}=(0,_.useDispatch)(v.EXPERIMENTAL_PRODUCT_CATEGORIES_STORE_NAME),[y,E]=(0,n.useState)(t||""),[b,k]=(0,n.useState)(null),S=(0,$.useDebounce)(u,250);return(0,n.createElement)(i.Modal,{title:(0,w.__)("Create category","woocommerce"),onRequestClose:()=>o(),className:"woocommerce-create-new-category-modal"},(0,n.createElement)("div",{className:"woocommerce-create-new-category-modal__wrapper"},(0,n.createElement)(i.TextControl,{label:(0,w.__)("Name","woocommerce"),name:"Tops",value:y,onChange:E}),(0,n.createElement)(a.__experimentalSelectControl,{items:c,label:(0,n.createInterpolateElement)((0,w.__)("Parent category <optional/>","woocommerce"),{optional:(0,n.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(optional)","woocommerce"))}),selected:b,onSelect:e=>e&&k(e),onRemove:()=>k(null),onInputChange:S,getFilteredItems:m,getItemLabel:Q,getItemValue:ee},(e=>{let{items:t,isOpen:o,getMenuProps:r,highlightedIndex:c,getItemProps:u}=e;return(0,n.createElement)(a.__experimentalSelectControlMenu,{isOpen:o,getMenuProps:r,className:"woocommerce-category-field-dropdown__menu"},[l?(0,n.createElement)("div",{key:"loading-spinner",className:"woocommerce-category-field-dropdown__item"},(0,n.createElement)("div",{className:"woocommerce-category-field-dropdown__item-content"},(0,n.createElement)(i.Spinner,null))):null,...t.filter((e=>{var t;return 0===(null===(t=s[e.id])||void 0===t?void 0:t.parentID)})).map((e=>(0,n.createElement)(X,{key:`${e.id}`,item:s[e.id],selectedIds:b?[b.id]:[],items:t,highlightedIndex:c,getItemProps:u})))].filter((e=>null!==e)))})),(0,n.createElement)("div",{className:"woocommerce-create-new-category-modal__buttons"},(0,n.createElement)(i.Button,{isSecondary:!0,onClick:()=>o(),disabled:p},(0,w.__)("Cancel","woocommerce")),(0,n.createElement)(i.Button,{isPrimary:!0,disabled:0===y.length||p,isBusy:p,onClick:()=>{(async()=>{(0,C.recordEvent)("product_category_add",{new_product_page:!0}),f(!0);try{const e=await g({name:y,parent:b?b.id:void 0});h("getProductCategories"),f(!1),r(e)}catch(e){d("error",(0,w.__)("Failed to create category.","woocommerce")),f(!1),o()}})()}},(0,w.__)("Save","woocommerce")))))};function oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;e.push({id:t.id,name:t.name,parent:t.parent});const r=void 0!==t.parent?t.parent:o[t.id].parentID;return r>0&&o[r]&&!e.find((e=>e.id===r))&&oe(e,o[r].data,o),e}function re(e){return e.map((e=>e.parent?{value:String(e.id),label:e.name,parent:String(e.parent)}:{value:String(e.id),label:e.name}))}const ne=e=>{let{label:t,placeholder:o,value:r=[],onChange:c}=e;const{isSearching:i,categoriesSelectList:l,categoryTreeKeyValues:s,searchCategories:u,getFilteredItemsForSelectTree:m}=W(),[d,p]=(0,n.useState)(!1),[f,g]=(0,n.useState)(""),h=e=>{g(e||""),u(e||"")},_=(0,n.useMemo)((()=>(0,F.debounce)(h,150)),[h]);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a.__experimentalSelectTreeControl,{id:"category-field",multiple:!0,shouldNotRecursivelySelect:!0,createValue:f,label:t,isLoading:i,onInputChange:_,placeholder:0===r.length?o:"",onCreateNew:()=>{p(!0)},shouldShowCreateButton:e=>!e||-1===l.findIndex((t=>t.name===e)),items:m(re(l),f,re(r)),selected:re(r),onSelect:e=>{if(Array.isArray(e)){const t=e.filter((e=>{let{value:t}=e;return!r.some((e=>e.id===+t))})).map((e=>({id:+e.value,name:e.label,parent:e.parent?+e.parent:0})));c([...r,...t])}},onRemove:e=>{const t=Array.isArray(e)?r.filter((t=>!e.some((e=>{let{value:o}=e;return t.id===+o})))):r.filter((t=>t.id!==+e.value));c(t)}}),d&&(0,n.createElement)(te,{initialCategoryName:f,onCancel:()=>p(!1),onCreate:e=>{c(oe([...r],e,s)),p(!1),h("")}}))},ae=()=>{const{getInputProps:e}=(0,a.useFormContext)();return(0,n.createElement)(ne,{label:(0,w.__)("Categories","woocommerce"),placeholder:(0,w.__)("Search or create category…","woocommerce"),...e("categories")})};var ce=window.wp.blocks;const ie=()=>{const{setValue:e,values:t}=(0,a.useFormContext)(),[o,r]=(0,n.useState)((0,ce.parse)(t.short_description||""));return(0,n.createElement)(a.__experimentalRichTextEditor,{label:(0,w.__)("Summary","woocommerce"),blocks:o,onChange:t=>{r(t),o.length&&e("short_description",(0,ce.serialize)(t))},placeholder:(0,w.__)("Summarize this product in 1-2 short sentences. We'll show it at the top of the page.","woocommerce")})},le=()=>{const{setValue:e,values:t}=(0,a.useFormContext)(),[o,r]=(0,n.useState)((0,ce.parse)(t.description||""));return(0,n.createElement)(a.__experimentalRichTextEditor,{label:(0,w.__)("Description","woocommerce"),blocks:o,onChange:t=>{r(t),o.length&&e("description",(0,ce.serialize)(t))},placeholder:(0,w.__)("Describe this product. What makes it unique? What are its most important features?","woocommerce")})},{Fill:se,Slot:ue}=(0,i.createSlotFill)("WooProductMoreMenuItem");se.Slot=e=>{let{fillProps:t}=e;return(0,n.createElement)(ue,{fillProps:t},(e=>(0,F.isEmpty)(e)?null:(0,n.createElement)(n.Fragment,null,e)))};const me=se;var de=window.wp.plugins,pe=window.wp.coreData,fe=window.wp.keyboardShortcuts,ge=e=>{let{isActive:t}=e;return(0,n.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,n.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null};function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},he.apply(this,arguments)}var _e=(0,n.forwardRef)((function(e,t){let{footer:o,header:r,sidebar:a,secondarySidebar:c,notices:l,content:s,drawer:u,actions:m,labels:d,className:p,shortcuts:f}=e;const g=(0,i.__unstableUseNavigateRegions)(f);!function(e){(0,n.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const h={drawer:(0,w.__)("Drawer"),header:(0,w.__)("Header"),body:(0,w.__)("Content"),secondarySidebar:(0,w.__)("Block Library"),sidebar:(0,w.__)("Settings"),actions:(0,w.__)("Publish"),footer:(0,w.__)("Footer"),...d};return(0,n.createElement)("div",he({},g,{ref:(0,$.useMergeRefs)([t,g.ref]),className:Y()(p,"interface-interface-skeleton",g.className,!!o&&"has-footer")}),!!u&&(0,n.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":h.drawer,tabIndex:"-1"},u),(0,n.createElement)("div",{className:"interface-interface-skeleton__editor"},!!r&&(0,n.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":h.header,tabIndex:"-1"},r),(0,n.createElement)("div",{className:"interface-interface-skeleton__body"},!!c&&(0,n.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":h.secondarySidebar,tabIndex:"-1"},c),!!l&&(0,n.createElement)("div",{className:"interface-interface-skeleton__notices"},l),(0,n.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":h.body,tabIndex:"-1"},s),!!a&&(0,n.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":h.sidebar,tabIndex:"-1"},a),!!m&&(0,n.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":h.actions,tabIndex:"-1"},m))),!!o&&(0,n.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":h.footer,tabIndex:"-1"},o))})),we=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function ye(e){let{as:t=i.DropdownMenu,className:o,label:r=(0,w.__)("Options"),popoverProps:a,toggleProps:c,children:l}=e;return(0,n.createElement)(t,{className:Y()("interface-more-menu-dropdown",o),icon:we,label:r,popoverProps:{position:"bottom left",...a,className:Y()("interface-more-menu-dropdown__content",null==a?void 0:a.className)},toggleProps:{tooltipPosition:"bottom",...c}},(e=>l(e)))}var ve=window.wp.deprecated,Ee=o.n(ve),be=window.wp.preferences;const ke=(e,t)=>o=>{let{registry:r}=o;t&&r.dispatch(be.store).set(e,"complementaryArea",t)},Se=e=>t=>{let{registry:o}=t;o.dispatch(be.store).set(e,"complementaryArea",null)},Ce=(e,t)=>o=>{let{registry:r}=o;if(!t)return;const n=r.select(be.store).get(e,"pinnedItems");!0!==(null==n?void 0:n[t])&&r.dispatch(be.store).set(e,"pinnedItems",{...n,[t]:!0})},xe=(e,t)=>o=>{let{registry:r}=o;if(!t)return;const n=r.select(be.store).get(e,"pinnedItems");r.dispatch(be.store).set(e,"pinnedItems",{...n,[t]:!1})};function Te(e,t){return function(o){let{registry:r}=o;Ee()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),r.dispatch(be.store).toggle(e,t)}}function Ne(e,t,o){return function(r){let{registry:n}=r;Ee()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),n.dispatch(be.store).set(e,t,!!o)}}function Pe(e,t){return function(o){let{registry:r}=o;Ee()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),r.dispatch(be.store).setDefaults(e,t)}}const Oe=(0,_.createRegistrySelector)((e=>(t,o)=>e(be.store).get(o,"complementaryArea"))),Ie=(0,_.createRegistrySelector)((e=>(t,o,r)=>{var n;const a=e(be.store).get(o,"pinnedItems");return null===(n=null==a?void 0:a[r])||void 0===n||n})),Ae=(0,_.createRegistrySelector)((e=>(t,o,r)=>(Ee()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(be.store).get(o,r)))),De=(0,_.createReduxStore)("core/interface",{reducer:()=>{},actions:e,selectors:t});(0,_.register)(De);var Le=window.wc.adminLayout;const Me=(e,t)=>Boolean(e)&&e!==t?e:t===O?(0,w.__)("Add new product","woocommerce"):t,Re=()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(ye,null,(e=>{let{onClose:t}=e;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(me.Slot,{fillProps:{onClose:t}}))})));var Fe=window.wc.navigation;function Be(e){let{...t}=e;const[o]=(0,pe.useEntityProp)("postType","product","status"),{createErrorNotice:r}=(0,_.useDispatch)("core/notices"),a=function(e){let{disabled:t,onClick:o,onSaveSuccess:r,onSaveError:a,...c}=e;const i=(0,n.useRef)(),[l]=(0,pe.useEntityProp)("postType","product","id"),[s]=(0,pe.useEntityProp)("postType","product","status"),[u]=(0,pe.useEntityProp)("postType","product","permalink"),{hasEdits:m,isDisabled:d}=(0,_.useSelect)((e=>{const{hasEditsForEntityRecord:t,isSavingEntityRecord:o}=e("core"),{isPostSavingLocked:r}=e("core/editor"),n=r(),a=o("postType","product",l);return{isDisabled:n||a,hasEdits:t("postType","product",l)}}),[l]),p=t||d,{editEntityRecord:f,saveEditedEntityRecord:g}=(0,_.useDispatch)("core");let h;return"string"==typeof u&&(h=new URL(u),h.searchParams.append("preview","true")),{"aria-label":(0,w.__)("Preview in new tab","woocommerce"),children:(0,w.__)("Preview","woocommerce"),target:"_blank",...c,ref(e){"function"==typeof c.ref&&c.ref(e),i.current=e},"aria-disabled":p,href:null==h?void 0:h.toString(),variant:"tertiary",onClick:async function(e){var t;if(p)return e.preventDefault();if(o&&o(e),m){e.preventDefault();try{"auto-draft"===s&&await f("postType","product",l,{status:"draft"});const e=await g("postType","product",l);null===(t=i.current)||void 0===t||t.click(),r&&r(e)}catch(e){a&&a(e)}}}}}({...t,onSaveSuccess(e){if("auto-draft"===o){const t=(0,Fe.getNewPath)({},`/product/${e.id}`);(0,Fe.navigateTo)({url:t})}},onSaveError(){r((0,w.__)("Failed to preview product.","woocommerce"))}});return(0,n.createElement)(i.Button,{...a})}var Ve=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));function He(e){const[t]=(0,pe.useEntityProp)("postType","product","status"),{createSuccessNotice:o,createErrorNotice:r}=(0,_.useDispatch)("core/notices"),a=function(e){let{disabled:t,onClick:o,onSaveSuccess:r,onSaveError:a,...c}=e;const[l]=(0,pe.useEntityProp)("postType","product","id"),[s]=(0,pe.useEntityProp)("postType","product","status"),{hasEdits:u,isDisabled:m}=(0,_.useSelect)((e=>{const{hasEditsForEntityRecord:t,isSavingEntityRecord:o}=e("core"),{isPostSavingLocked:r}=e("core/editor"),n=r(),a=o("postType","product",l);return{isDisabled:n||a,hasEdits:t("postType","product",l)}}),[l]),d=t||m||"publish"!==s&&!u,{editEntityRecord:p,saveEditedEntityRecord:f}=(0,_.useDispatch)("core");let g;return g="publish"===s?(0,w.__)("Switch to draft","woocommerce"):u?(0,w.__)("Save draft","woocommerce"):(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.Icon,{icon:Ve}),(0,w.__)("Saved","woocommerce")),{children:g,...c,"aria-disabled":d,variant:"tertiary",onClick:async function(e){if(d)return e.preventDefault();o&&o(e);try{await p("postType","product",l,{status:"draft"});const e=await f("postType","product",l);r&&r(e)}catch(e){a&&a(e)}}}}({...e,onSaveSuccess(e){if(o((0,w.__)("Product saved as draft.","woocommerce")),"auto-draft"===t){const t=(0,Fe.getNewPath)({},`/product/${e.id}`);(0,Fe.navigateTo)({url:t})}},onSaveError(){r((0,w.__)("Failed to update product.","woocommerce"))}});return(0,n.createElement)(i.Button,{...a})}function ze(e){const[t]=(0,pe.useEntityProp)("postType","product","status"),o="auto-draft"===t,{createSuccessNotice:r,createErrorNotice:a}=(0,_.useDispatch)("core/notices"),c=function(e){let{disabled:t,onClick:o,onPublishSuccess:r,onPublishError:n,...a}=e;const[c]=(0,pe.useEntityProp)("postType","product","id"),[i]=(0,pe.useEntityProp)("postType","product","status"),{hasEdits:l,isDisabled:s,isBusy:u}=(0,_.useSelect)((e=>{const{hasEditsForEntityRecord:t,isSavingEntityRecord:o}=e("core"),{isPostSavingLocked:r}=e("core/editor"),n=r(),a=o("postType","product",c);return{isDisabled:n||a,isBusy:a,hasEdits:t("postType","product",c)}}),[c]),m="auto-draft"===i,d=t||s||"publish"===i&&!l,{editEntityRecord:p,saveEditedEntityRecord:f}=(0,_.useDispatch)("core");return{children:m?(0,w.__)("Add","woocommerce"):(0,w.__)("Save","woocommerce"),...a,"aria-disabled":d,isBusy:u,variant:"primary",onClick:async function(e){if(d)return e.preventDefault();o&&o(e);try{"publish"!==i&&await p("postType","product",c,{status:"publish"});const e=await f("postType","product",c);r&&r(e)}catch(e){n&&n(e)}}}}({...e,onPublishSuccess(e){const n=o?(0,w.__)("Product successfully created.","woocommerce"):(0,w.__)("Product published.","woocommerce"),a={icon:"🎉",actions:[{label:(0,w.__)("View in store","woocommerce"),url:e.permalink,onClick(t){t.preventDefault(),window.open(e.permalink,"_blank")}}]};if(r(n,a),"auto-draft"===t){const t=(0,Fe.getNewPath)({},`/product/${e.id}`);(0,Fe.navigateTo)({url:t})}},onPublishError(){const e=o?(0,w.__)("Failed to create product.","woocommerce"):(0,w.__)("Failed to publish product.","woocommerce");a(e)}});return(0,n.createElement)(i.Button,{...c})}const Ue="woocommerce_product_tabs";function je(e){let{onChange:t=(()=>{})}=e;const[o,r]=(0,n.useState)(null),a=(0,Fe.getQuery)();return(0,n.useEffect)((()=>{t(o)}),[o]),(0,n.useEffect)((()=>{a.tab&&r(a.tab)}),[a.tab]),(0,n.createElement)(i.NavigableMenu,{role:"tablist",onNavigate:function(e,t){t.click()},className:"woocommerce-product-tabs",orientation:"horizontal"},(0,n.createElement)(i.Slot,{fillProps:{onClick:function(e){window.document.documentElement.scrollTop=0,(0,Fe.navigateTo)({url:(0,Fe.getNewPath)({tab:e})})}},name:Ue},(e=>(function(e){var t;if(!o)for(let o=0;o<e.length;o++){if(e[o][0].props.disabled)continue;const n=(null===(t=e[o][0].key)||void 0===t?void 0:t.toString().slice(2))||null;return void r(n)}}(e),(0,n.createElement)(n.Fragment,null,e)))))}function We(e){let{onTabSelect:t,productName:o}=e;const[r]=(0,pe.useEntityProp)("postType","product","name");return(0,n.createElement)("div",{className:"woocommerce-product-header",role:"region","aria-label":(0,w.__)("Product Editor top bar.","woocommerce"),tabIndex:-1},(0,n.createElement)("div",{className:"woocommerce-product-header__inner"},(0,n.createElement)("div",null),(0,n.createElement)("h1",{className:"woocommerce-product-header__title"},Me(r,o)),(0,n.createElement)("div",{className:"woocommerce-product-header__actions"},(0,n.createElement)(He,null),(0,n.createElement)(Be,null),(0,n.createElement)(ze,null),(0,n.createElement)(Le.WooHeaderItem.Slot,{name:"product"}),(0,n.createElement)(Re,null))),(0,n.createElement)(je,{onChange:t}))}var $e=window.wp.mediaUtils,Ge=window.wp.blockEditor;function qe(e){let{context:t,settings:o,product:r}=e;const a=(0,_.useSelect)((e=>{const{canUser:t}=e("core");return!1!==t("create","media","")}),[]),c=(0,n.useMemo)((()=>a?{...o,mediaUpload(e){let{onError:t,...r}=e;(0,$e.uploadMedia)({wpAllowedMimeTypes:(null==o?void 0:o.allowedMimeTypes)||void 0,onError:e=>{let{message:o}=e;return t(o)},...r})}}:o),[a,o]),[i,l,s]=(0,pe.useEntityBlockEditor)("postType","product",{id:r.id});return(0,n.useLayoutEffect)((()=>{s((0,ce.synchronizeBlocksWithTemplate)([],null==o?void 0:o.template),{})}),[r.id]),i?(0,n.createElement)("div",{className:"woocommerce-product-block-editor"},(0,n.createElement)(Ge.BlockContextProvider,{value:t},(0,n.createElement)(Ge.BlockEditorProvider,{value:i,onInput:l,onChange:s,settings:c},(0,n.createElement)("div",{className:"editor-styles-wrapper"},(0,n.createElement)(Ge.BlockEditorKeyboardShortcuts.Register,null),(0,n.createElement)(Ge.BlockTools,null,(0,n.createElement)(Ge.WritingFlow,null,(0,n.createElement)(Ge.ObserveTyping,null,(0,n.createElement)(Ge.BlockList,{className:"woocommerce-product-block-editor__block-list"})))))))):null}var Ze=window.wp.blockLibrary;function Ke(e){if(!e)return;const{metadata:t,settings:o,name:r}=e;return(0,ce.registerBlockType)({name:r,...t},o)}var Je=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-images","title":"Product images","category":"widgets","description":"The product images.","keywords":["products","image","images","gallery"],"textdomain":"default","attributes":{"mediaId":{"type":"number","__experimentalRole":"content"},"images":{"__experimentalRole":"content","type":"array","items":{"type":"number"},"default":[]}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false}}'),Ye=function(e){let{icon:t,size:o=24,...r}=e;return(0,n.cloneElement)(t,{width:o,height:o,...r})},Xe=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));const{name:Qe}=Je,et={example:{},edit:function(){const[e,t]=(0,pe.useEntityProp)("postType","product","images"),[o,r]=(0,n.useState)(!1),[c,l]=(0,n.useState)(!1),[s,u]=(0,n.useState)(null),m=(0,Ge.useBlockProps)({className:Y()({"has-images":e.length>0})}),d=()=>{r(!o)};return(0,n.createElement)("div",{...m},(0,n.createElement)("div",{className:"woocommerce-product-form__image-drop-zone"},o?(0,n.createElement)(i.CardBody,null,(0,n.createElement)("div",{className:"woocommerce-product-form__remove-image-drop-zone"},(0,n.createElement)("span",null,(0,n.createElement)(Ye,{icon:Xe,size:20,className:"icon-control"}),(0,w.__)("Drop here to remove","woocommerce")),(0,n.createElement)(i.DropZone,{onHTMLDrop:()=>l(!0),onDrop:()=>l(!0),label:(0,w.__)("Drop here to remove","woocommerce")}))):(0,n.createElement)(i.CardBody,null,(0,n.createElement)(a.MediaUploader,{multipleSelect:!0,onError:()=>null,onFileUploadChange:o=>{o[0].id&&((0,C.recordEvent)("product_images_add_via_file_upload_area"),t([...e,...o]))},onSelect:o=>{const r=o.filter((t=>!e.find((e=>e.id===t.id))));r.length>0&&((0,C.recordEvent)("product_images_add_via_media_library"),t([...e,...r]))},onUpload:o=>{o[0].id&&((0,C.recordEvent)("product_images_add_via_drag_and_drop_upload"),t([...e,...o]))},label:""}))),(0,n.createElement)(a.ImageGallery,{onDragStart:t=>{var o;const{id:r,dataset:n}=t.target;if(r)u(parseInt(r,10));else{const t=null==n?void 0:n.index;t&&u(null===(o=e[parseInt(t,10)])||void 0===o?void 0:o.id)}d()},onDragEnd:()=>{c&&s&&((0,C.recordEvent)("product_images_remove_image_button_click"),t(e.filter((e=>e.id!==s))),l(!1),u(null)),d()},onOrderChange:o=>{const r=o.map((t=>e.find((e=>{var o;return e.id===parseInt(null===(o=null==t?void 0:t.props)||void 0===o?void 0:o.id,10)}))));(0,C.recordEvent)("product_images_change_image_order_via_image_gallery"),t(r)},onReplace:o=>{let{replaceIndex:r,media:n}=o;void 0===e.find((e=>n.id===e.id))&&(e[r]=n,(0,C.recordEvent)("product_images_replace_image_button_click"),t(e))},onSelectAsCover:()=>(0,C.recordEvent)("product_images_select_image_as_cover_button_click")},e.map((e=>(0,n.createElement)(a.ImageGalleryItem,{key:e.id||e.url,alt:e.alt,src:e.url||e.src,id:`${e.id}`})))))}};var tt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-name","title":"Product name","category":"widgets","description":"The product name.","keywords":["products","name","title"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css"}');function ot(e,t){const[o,r]=(0,n.useState)(),{lockPostSaving:a,unlockPostSaving:c}=(0,_.useDispatch)("core/editor");return(0,n.useEffect)((()=>{let o=t();"boolean"==typeof o&&(o=Promise.resolve(o)),o.then((t=>{t?c(e):a(e),r(t)})).catch((()=>{a(e),r(!1)}))}),[e,t,a,c]),o}const{name:rt}=tt,nt={example:{},edit:function(){const e=(0,Ge.useBlockProps)(),{editEntityRecord:t,saveEntityRecord:o}=(0,_.useDispatch)("core"),[r,a]=(0,n.useState)(!1),c=(0,pe.useEntityId)("postType","product"),l=(0,_.useSelect)((e=>e("core").getEditedEntityRecord("postType","product",c))),[s,u]=(0,pe.useEntityProp)("postType","product","sku"),[m,d]=(0,pe.useEntityProp)("postType","product","name"),{permalinkPrefix:p,permalinkSuffix:f}=(0,_.useSelect)((e=>{const{getPermalinkParts:t}=e(v.PRODUCTS_STORE_NAME);if(c){const e=t(c);return{permalinkPrefix:null==e?void 0:e.prefix,permalinkSuffix:null==e?void 0:e.suffix}}return{}})),g=ot("product/name",(()=>Boolean(m)&&m!==O));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{...e},(0,n.createElement)(i.BaseControl,{id:"product_name",label:(0,n.createInterpolateElement)((0,w.__)("Name <required />","woocommerce"),{required:(0,n.createElement)("span",{className:"woocommerce-product-form__required-input"},(0,w.__)("*","woocommerce"))})},(0,n.createElement)(i.__experimentalInputControl,{name:"woocommerce-product-name",placeholder:(0,w.__)("e.g. 12 oz Coffee Mug","woocommerce"),onChange:d,value:m||"",onBlur:()=>{!s&&g&&u((0,y.cleanForSlug)(m))}})),c&&g&&["publish","draft"].includes(l.status)&&p&&(0,n.createElement)("span",{className:"woocommerce-product-form__secondary-text product-details-section__product-link"},(0,w.__)("Product link","woocommerce"),": ",(0,n.createElement)("a",{href:l.permalink,target:"_blank",rel:"noreferrer"},p,l.slug||(0,y.cleanForSlug)(m),f),(0,n.createElement)(i.Button,{variant:"link",onClick:()=>a(!0)},(0,w.__)("Edit","woocommerce"))),r&&(0,n.createElement)(x,{permalinkPrefix:p||"",permalinkSuffix:f||"",product:l,onCancel:()=>a(!1),onSaved:()=>a(!1),saveHandler:async e=>{const{slug:r,permalink:n}=await o("postType","product",{id:l.id,slug:e});if(r&&n)return t("postType","product",l.id,{slug:r,permalink:n}),{slug:r,permalink:n}}})))}};var at=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-radio","title":"Product radio control","category":"woocommerce","description":"The product radio.","keywords":["products","radio","input"],"textdomain":"default","attributes":{"title":{"type":"string"},"description":{"type":"string"},"property":{"type":"string"},"options":{"type":"array","items":{"type":"object"},"default":[],"__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false}}'),ct=o(74944);const it=["a","b","em","i","strong","p","br"],lt=["target","href","rel","name","download"];function st(e){return{__html:(0,ct.sanitize)(e,{ALLOWED_TAGS:it,ALLOWED_ATTR:lt})}}function ut(e){let{title:t,description:o,className:r,...a}=e;return(0,n.createElement)(i.RadioControl,{...a,className:Y()(r,"woocommerce-radio-field"),label:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",{className:"woocommerce-radio-field__title"},t),o&&(0,n.createElement)("span",{className:"woocommerce-radio-field__description",dangerouslySetInnerHTML:st(o)}))})}const{name:mt,...dt}=at,pt={example:{},edit:function(e){let{attributes:t}=e;const o=(0,Ge.useBlockProps)(),{description:r,options:a,property:c,title:i}=t,[l,s]=(0,pe.useEntityProp)("postType","product",c);return(0,n.createElement)("div",{...o},(0,n.createElement)(ut,{title:i,description:r,selected:l,options:a,onChange:e=>s(e||"")}))}};var ft=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-summary","title":"Product summary","category":"widgets","description":"The product summary.","keywords":["products","summary","excerpt"],"textdomain":"default","attributes":{"align":{"type":"string"},"direction":{"type":"string","enum":["ltr","rtl"]},"label":{"type":"string"},"content":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false}}'),gt=o(61422),ht=o.n(gt),_t=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(q.Path,{d:"M5.52 2h7.43c.55 0 1 .45 1 1s-.45 1-1 1h-1v13c0 .55-.45 1-1 1s-1-.45-1-1V5c0-.55-.45-1-1-1s-1 .45-1 1v12c0 .55-.45 1-1 1s-1-.45-1-1v-5.96h-.43C3.02 11.04 1 9.02 1 6.52S3.02 2 5.52 2zM14 14l5-4-5-4v8z"}));function wt(e){let{direction:t,onChange:o}=e;return(0,n.createElement)(n.Fragment,null,(0,w.isRTL)()&&(0,n.createElement)(i.ToolbarButton,{icon:_t,title:(0,w._x)("Left to right","editor button","woocommerce"),isActive:"ltr"===t,onClick:function(){"function"==typeof o&&o("ltr"===t?void 0:"ltr")}}))}var yt=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M4 19.8h8.9v-1.5H4v1.5zm8.9-15.6H4v1.5h8.9V4.2zm-8.9 7v1.5h16v-1.5H4z"})),vt=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M16.4 4.2H7.6v1.5h8.9V4.2zM4 11.2v1.5h16v-1.5H4zm3.6 8.6h8.9v-1.5H7.6v1.5z"})),Et=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M11.1 19.8H20v-1.5h-8.9v1.5zm0-15.6v1.5H20V4.2h-8.9zM4 12.8h16v-1.5H4v1.5z"})),bt=(0,n.createElement)(q.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"}));const kt=[{icon:yt,title:(0,w.__)("Align text left","woocommerce"),align:"left"},{icon:vt,title:(0,w.__)("Align text center","woocommerce"),align:"center"},{icon:Et,title:(0,w.__)("Align text right","woocommerce"),align:"right"},{icon:bt,title:(0,w.__)("Align text justify","woocommerce"),align:"justify"}],{name:St,...Ct}=ft,xt={example:{},edit:function(e){let{attributes:t,setAttributes:o}=e;const{align:r,direction:a,label:c}=t,l=(0,Ge.useBlockProps)({style:{direction:a}}),s=ht()(),[u,m]=(0,pe.useEntityProp)("postType","product","short_description");return(0,n.createElement)("div",{...l},(0,n.createElement)(Ge.BlockControls,{group:"block"},(0,n.createElement)(Ge.AlignmentControl,{alignmentControls:kt,value:r,onChange:function(e){o({align:e})}}),(0,n.createElement)(wt,{direction:a,onChange:function(e){o({direction:e})}})),(0,n.createElement)(i.BaseControl,{id:s,label:c||(0,w.__)("Summary","woocommerce")},(0,n.createElement)(Ge.RichText,{id:s,identifier:"content",tagName:"p",value:u,onChange:m,placeholder:(0,w.__)("Summarize this product in 1-2 short sentences. We'll show it at the top of the page.","woocommerce"),"data-empty":Boolean(u),className:Y()("components-summary-control",{[`has-text-align-${r}`]:r}),dir:a})))}};var Tt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-section","title":"Product section","category":"woocommerce","description":"The product section.","keywords":["products","section","group"],"textdomain":"default","attributes":{"title":{"type":"string"},"description":{"type":"string","__experimentalRole":"content"},"icon":{"type":"object"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css"}');function Nt(e){let{clientId:t}=e;const o=(0,_.useSelect)((e=>{const{getBlockAttributes:o,getBlockName:r}=e("core/block-editor"),n=o(t);if(null==n?void 0:n.icon)return n.icon;const{getBlockType:a}=e("core/blocks"),c=a(r(t));return null==c?void 0:c.icon}),[t]);if(!o)return null;if("object"==typeof o){const{src:e,...t}=o;if(/^<(.)+>$/.test(e)){const o=(0,n.createElement)(n.RawHTML,{"aria-hidden":"true",...t},e);return(0,n.createElement)(Ge.BlockIcon,{icon:o,showColors:!0})}if(/^https?:\/\/(.)+/.test(e)){const o=(0,n.createElement)("img",{src:e,alt:"","aria-hidden":"true",...t,height:24,width:24});return(0,n.createElement)(Ge.BlockIcon,{icon:o,showColors:!0})}}return(0,n.createElement)(Ge.BlockIcon,{icon:o,showColors:!0})}const{name:Pt,...Ot}=Tt,It={example:{},edit:function(e){let{attributes:t,clientId:o}=e;const r=(0,Ge.useBlockProps)(),{description:a,title:c}=t;return(0,n.createElement)("div",{...r},(0,n.createElement)("h2",{className:"wp-block-woocommerce-product-section__title"},(0,n.createElement)(Nt,{clientId:o}),(0,n.createElement)("span",null,c)),(0,n.createElement)("p",{className:"wp-block-woocommerce-product-section__description",dangerouslySetInnerHTML:st(a)}),(0,n.createElement)(Ge.InnerBlocks,{templateLock:"all"}))}};function At(e){if(!e)return;const{metadata:t,settings:o,name:r}=e;return(0,ce.registerBlockType)({name:r,...t},o)}var Dt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-tab","title":"Product tab","category":"woocommerce","description":"The product tab.","keywords":["products","tab","group"],"textdomain":"default","attributes":{"id":{"type":"string"},"title":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"usesContext":["selectedTab"],"editorStyle":"file:./editor.css","templateLock":"contentOnly"}');function Lt(e){let{children:t,className:o,id:r,selected:a=!1}=e;const c=Y()("wp-block-woocommerce-product-tab__button",o,{"is-selected":a});return(0,n.createElement)(i.Fill,{name:Ue},(e=>{const{onClick:o}=e;return(0,n.createElement)(i.Button,{key:r,className:c,onClick:()=>o(r),id:`woocommerce-product-tab__${r}`,"aria-controls":`woocommerce-product-tab__${r}-content`,"aria-selected":a},t)}))}const{name:Mt}=Dt,Rt={example:{},edit:function(e){let{attributes:t,context:o}=e;const r=(0,Ge.useBlockProps)(),{id:a,title:c}=t,i=(null==o?void 0:o.selectedTab)===a,l=Y()("wp-block-woocommerce-product-tab__content",{"is-selected":i});return(0,n.createElement)("div",{...r},(0,n.createElement)(Lt,{id:a,selected:i},c),(0,n.createElement)("div",{id:`woocommerce-product-tab__${a}-content`,"aria-labelledby":`woocommerce-product-tab__${a}`,role:"tabpanel",className:l},(0,n.createElement)(Ge.InnerBlocks,{templateLock:"contentOnly"})))}};var Ft=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-pricing","description":"A product price block with currency display.","title":"Product pricing","category":"widgets","keywords":["products","price"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"},"label":{"type":"string"},"showPricingSection":{"type":"boolean"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css"}'),Bt=window.wc.wcSettings;const Vt=(e,t,o)=>{const{decimalSeparator:r,thousandSeparator:n}=t,a=new RegExp("[^-0-9%s1%s2]".replace("%s1",r).replace("%s2",n),"g");return void 0===e?e:o(e).replace(a,"")},Ht=e=>{let{value:t,setValue:o,onFocus:r,onKeyUp:a}=e;const{sanitizePrice:c}=D(),i=(0,n.useContext)(N.CurrencyContext),{getCurrencyConfig:l}=i;return{prefix:l().symbol,className:"half-width-field components-currency-control",sanitize:e=>c(String(e)),onFocus(e){setTimeout((function(e){e.select()}),0,e.currentTarget),r&&r(e)},onKeyUp(e){const r=Number.parseFloat(c(t||"0")),n=Number(e.currentTarget.step||"1");"ArrowUp"===e.code&&o(String(r+n)),"ArrowDown"===e.code&&o(String(r-n)),a&&a(e)}}},{name:zt}=Ft,Ut={example:{},edit:function(e){let{attributes:t}=e;const o=(0,Ge.useBlockProps)(),{name:r,label:c,showPricingSection:l=!1}=t,[s,u]=(0,pe.useEntityProp)("postType","product",r),m=(0,n.useContext)(N.CurrencyContext),{getCurrencyConfig:d,formatAmount:p}=m,f=d(),g=Ht({value:s,setValue:u}),h=l?(0,n.createInterpolateElement)((0,w.__)("Manage more settings in <link>Pricing.</link>","woocommerce"),{link:(0,n.createElement)(a.Link,{href:`${(0,Bt.getSetting)("adminUrl")}admin.php?page=wc-settings&tab=tax`,target:"_blank",type:"external",onClick:()=>{(0,C.recordEvent)("product_pricing_list_price_help_tax_settings_click")}})}):null;return(0,n.createElement)("div",{...o},(0,n.createElement)(i.BaseControl,{id:"product_pricing_"+r,help:h||""},(0,n.createElement)(i.__experimentalInputControl,{name:r,onChange:u,label:c||(0,w.__)("Price","woocommerce"),value:Vt(String(s),f,p),...g})))}};var jt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/collapsible","title":"Collapsible","category":"widgets","description":"Container with collapsible inner blocks.","textdomain":"default","attributes":{"toggleText":{"type":"string","__experimentalRole":"content"},"initialCollapsed":{"type":"boolean"},"persistRender":{"type":"boolean"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false}}');const{name:Wt}=jt,$t={example:{},edit:function(e){let{attributes:t}=e;const o=(0,Ge.useBlockProps)(),{toggleText:r,initialCollapsed:c,persistRender:i=!0}=t;return(0,n.createElement)("div",{...o},(0,n.createElement)(a.CollapsibleContent,{toggleText:r,initialCollapsed:c,persistRender:i},(0,n.createElement)(Ge.InnerBlocks,{templateLock:"all"})))}};var Gt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-schedule-sale-fields","title":"Product schedule sale fields","category":"woocommerce","description":"The product schedule sale fields.","keywords":["products","schedule","sale"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css"}'),qt=window.moment,Zt=o.n(qt),Kt=window.wp.date;const{name:Jt,...Yt}=Gt,Xt={example:{},edit:function(e){let{}=e;const t=(0,Ge.useBlockProps)({className:"wp-block-woocommerce-product-schedule-sale-fields"}),o=(0,Kt.getSettings)().formats.datetime,[r,c]=(0,n.useState)(!1),[l]=(0,pe.useEntityProp)("postType","product","sale_price"),s=Number.parseFloat(l||"0")>0,[u,m]=(0,pe.useEntityProp)("postType","product","date_on_sale_from_gmt"),[d,p]=(0,pe.useEntityProp)("postType","product","date_on_sale_to_gmt"),f=Zt()().startOf("minute").toISOString();(0,n.useEffect)((()=>{s||(c(!1),m(""),p(""))}),[s]),(0,n.useEffect)((()=>{(u||d)&&c(!0)}),[u,d]);const g=ot("product/date_on_sale_to_gmt",(()=>!r||!d||Zt()(u).isBefore(d)));return(0,n.createElement)("div",{...t},(0,n.createElement)(i.ToggleControl,{label:(0,w.__)("Schedule sale","woocommerce"),checked:r,onChange:function(e){(0,C.recordEvent)("product_pricing_schedule_sale_toggle_click",{enabled:e}),c(e),e?(m(f),p("")):(m(""),p(""))},disabled:!s}),r&&(0,n.createElement)("div",{className:"wp-block-columns"},(0,n.createElement)("div",{className:"wp-block-column"},(0,n.createElement)(a.DateTimePickerControl,{label:(0,w.__)("From","woocommerce"),placeholder:(0,w.__)("Sale start date and time (optional)","woocommerce"),dateTimeFormat:o,currentDate:u,onChange:m})),(0,n.createElement)("div",{className:"wp-block-column"},(0,n.createElement)(a.DateTimePickerControl,{label:(0,w.__)("To","woocommerce"),placeholder:(0,w.__)("Sale end date and time (optional)","woocommerce"),dateTimeFormat:o,currentDate:d,onChange:e=>p(Zt()(e).startOf("minute").toISOString()),className:g?void 0:"has-error",help:g?void 0:(0,w.__)("To date must be greater than From date.","woocommerce")}))))}};var Qt=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-track-inventory-fields","title":"Product track inventory fields","category":"woocommerce","description":"The product track inventory fields.","keywords":["products","track","inventory"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css"}');const{name:eo,...to}=Qt,oo={example:{},edit:function(e){let{}=e;const t=(0,Ge.useBlockProps)({className:"wp-block-woocommerce-product-track-inventory-fields"}),[o,r]=(0,pe.useEntityProp)("postType","product","manage_stock"),[a,c]=(0,pe.useEntityProp)("postType","product","stock_quantity"),l=(0,$.useInstanceId)(i.BaseControl),s=ot("product/stock_quantity",(function(){return!o||Boolean(a&&a>=0)}));return(0,n.useEffect)((()=>{o&&null===a&&c(1)}),[o,a]),(0,n.createElement)("div",{...t},(0,n.createElement)(i.ToggleControl,{label:(0,w.__)("Track stock quantity for this product","woocommerce"),checked:o,onChange:r}),o&&(0,n.createElement)("div",{className:"wp-block-columns"},(0,n.createElement)("div",{className:"wp-block-column"},(0,n.createElement)(i.BaseControl,{id:l,className:s?void 0:"has-error",help:s?void 0:(0,w.__)("Stock quantity must be a positive number.","woocommerce")},(0,n.createElement)(i.__experimentalInputControl,{name:"stock_quantity",label:(0,w.__)("Available quantity","woocommerce"),value:a,onChange:c,type:"number",min:0}))),(0,n.createElement)("div",{className:"wp-block-column"})))}};var ro=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-sku","title":"Product text control","category":"woocommerce","description":"The product sku.","keywords":["products","sku"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}');const{name:no}=ro,ao={example:{},edit:function(){const e=(0,Ge.useBlockProps)(),[t,o]=(0,pe.useEntityProp)("postType","product","sku");return(0,n.createElement)("div",{...e},(0,n.createElement)(i.BaseControl,{id:"product_sku",className:"woocommerce-product-form_inventory-sku",label:(0,n.createInterpolateElement)((0,w.__)("Sku <description />","woocommerce"),{description:(0,n.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(STOCK KEEPING UNIT)","woocommerce"))})},(0,n.createElement)(i.__experimentalInputControl,{name:"woocommerce-product-sku",onChange:o,value:t||""})))}};var co=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/conditional","title":"Conditional","category":"widgets","description":"Container to only conditionally render inner blocks.","textdomain":"default","attributes":{"mustMatch":{"__experimentalRole":"content","type":"array","items":{"type":"object"},"default":[]}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false}}');const{name:io}=co,lo={example:{},edit:function(e){let{attributes:t}=e;const o=(0,Ge.useBlockProps)(),{mustMatch:r}=t,c=(0,pe.useEntityId)("postType","product"),i=(0,_.useSelect)((e=>e("core").getEditedEntityRecord("postType","product",c))),l=(0,n.useMemo)((()=>{for(const[e,t]of Object.entries(r))if(!t.includes(i[e]))return!1;return!0}),[r,i]);return(0,n.createElement)("div",{...o},(0,n.createElement)(a.DisplayState,{state:l?"visible":"visually-hidden"},(0,n.createElement)(Ge.InnerBlocks,{templateLock:"all"})))}};var so=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-inventory-email","title":"Stock level threshold","category":"widgets","description":"Stock management minimum quantity.","keywords":["products","inventory","email","minimum"],"textdomain":"default","attributes":{"name":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css"}');const{name:uo}=so,mo={example:{},edit:function(){const e=(0,Ge.useBlockProps)({className:"woocommerce-product-form__inventory-email"}),t=(0,Bt.getSetting)("notifyLowStockAmount",2),[o,r]=(0,pe.useEntityProp)("postType","product","low_stock_amount");return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{...e},(0,n.createElement)("div",{className:"wp-block-columns"},(0,n.createElement)("div",{className:"wp-block-column"},(0,n.createElement)(i.BaseControl,{id:"product_inventory_email",label:(0,w.__)("Email me when stock reaches","woocommerce"),help:(0,n.createInterpolateElement)((0,w.__)("Make sure to enable notifications in <link>store settings.</link>","woocommerce"),{link:(0,n.createElement)(a.Link,{href:`${(0,Bt.getSetting)("adminUrl")}admin.php?page=wc-settings&tab=products&section=inventory`,target:"_blank",type:"external"})})},(0,n.createElement)(i.__experimentalInputControl,{name:"woocommerce-product-name",placeholder:(0,w.sprintf)((0,w.__)("%d (store default)","woocommerce"),t),onChange:r,value:o,min:0}))),(0,n.createElement)("div",{className:"wp-block-column"}))))}};var po=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-checkbox","title":"Product checkbox control","category":"woocommerce","description":"The product checkbox.","keywords":["products","checkbox","input"],"textdomain":"default","attributes":{"title":{"type":"string","__experimentalRole":"content"},"label":{"type":"string"},"property":{"type":"string"},"tooltip":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false,"__experimentalToolbar":false},"editorStyle":"file:./editor.css"}'),fo=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"}));const{name:go}=po,ho={example:{},edit:function(e){let{attributes:t}=e;const o=(0,Ge.useBlockProps)({className:"woocommerce-product-form__checkbox"}),{property:r,title:a,label:c,tooltip:l}=t,[s,u]=(0,pe.useEntityProp)("postType","product",r);return(0,n.createElement)("div",{...o},(0,n.createElement)("h4",null," ",a," "),(0,n.createElement)(i.CheckboxControl,{label:l?(0,n.createInterpolateElement)("<label /> <tooltip />",{label:(0,n.createElement)("span",null,c),tooltip:(0,n.createElement)(i.Tooltip,{text:(0,n.createElement)("span",null,l),position:"top center",className:"woocommerce-product-form__checkbox-tooltip",delay:0},(0,n.createElement)("span",{className:"woocommerce-product-form__checkbox-tooltip-icon"},(0,n.createElement)(Ye,{icon:fo,size:20,fill:"#949494"})))}):c,checked:s,onChange:e=>u(e)}))}};var _o=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-shipping-dimensions-fields","title":"Product shipping dimensions fields","category":"woocommerce","description":"The product shipping dimensions fields.","keywords":["products","shipping","dimensions"],"textdomain":"default","attributes":{"__contentEditable":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css"}');function wo(e){let{highlight:t,...o}=e;return(0,n.createElement)("svg",{...o,viewBox:"0 0 288 195",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M10.4922 134.221V35.2617C10.4922 33.8539 11.9079 32.8867 13.2193 33.3986L98.3109 66.6076C99.0711 66.9043 99.5748 67.633 99.5837 68.449L100.703 171.089C100.719 172.534 99.2449 173.518 97.9167 172.95L11.7054 136.06C10.9695 135.745 10.4922 135.022 10.4922 134.221Z",fill:"A"===t?"#F0F6FC":"#F6F7F7"}),(0,n.createElement)("path",{d:"M43.9062 84.2338V44.7946L187.953 11.877L211.485 20.5392L67.0049 53.3546V93.6078L43.9062 84.2338Z",fill:"#F0F0F0",stroke:"#DDDDDD",strokeWidth:"2"}),(0,n.createElement)("path",{d:"M43.9062 99.8824V90.6973L67.0049 100.301V109.256L43.9062 99.8824Z",fill:"#F0F0F0",stroke:"#DDDDDD",strokeWidth:"2"}),(0,n.createElement)("path",{d:"M10.4922 134.22V35.2617C10.4922 33.8539 11.9079 32.8867 13.2193 33.3986L98.2977 66.6025C99.0645 66.9017 99.5696 67.6402 99.5705 68.4633L99.6936 173.635L11.7067 136.06C10.9701 135.745 10.4922 135.021 10.4922 134.22Z",stroke:"#DDDDDD",strokeWidth:"2"}),(0,n.createElement)("path",{d:"M249.015 32.8879L99.5703 66.7689V172.489C99.5703 173.801 100.812 174.758 102.081 174.423L249.968 135.378C250.846 135.146 251.458 134.352 251.458 133.444V34.8384C251.458 33.5554 250.267 32.6042 249.015 32.8879Z",fill:"B"===t?"#F0F6FC":"#F6F7F7",stroke:"#DDDDDD",strokeWidth:"2"}),(0,n.createElement)("path",{d:"M154.224 117.401L115.969 126.13C115.059 126.337 114.414 127.147 114.414 128.08V154.212C114.414 155.526 115.658 156.483 116.928 156.145L155.182 145.98C156.058 145.747 156.668 144.954 156.668 144.047V119.351C156.668 118.067 155.475 117.115 154.224 117.401Z",fill:"#F0F0F0",stroke:"#DDDDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"6 6"}),(0,n.createElement)("path",{d:"M12.0625 33.3189L159.943 1.6182C160.304 1.54091 160.679 1.5648 161.027 1.68725L249.4 32.7973",stroke:"#DDDDDD",strokeWidth:"2"}),(0,n.createElement)("path",{d:"M0.214844 149.961L5.30102 156.971L8.8282 149.061L0.214844 149.961ZM84.7236 187.648L79.6374 180.638L76.1102 188.548L84.7236 187.648ZM6.07417 153.396L78.2533 185.584L78.8642 184.214L6.68509 152.026L6.07417 153.396Z",fill:"A"===t?"#007CBA":"#BBBBBB"}),(0,n.createElement)("path",{d:"M256.025 152.246L247.662 149.998L249.897 158.365L256.025 152.246ZM106.422 192.216L114.785 194.463L112.55 186.097L106.422 192.216ZM249.31 153.263L112.75 189.749L113.137 191.198L249.698 154.713L249.31 153.263Z",fill:"B"===t?"#007CBA":"#BBBBBB"}),(0,n.createElement)("path",{d:"M268.586 28.908L264.256 36.408H272.916L268.586 28.908ZM268.586 131.689L272.916 124.189H264.256L268.586 131.689ZM267.836 35.658V124.939H269.336V35.658H267.836Z",fill:"C"===t?"#007CBA":"#BBBBBB"}),(0,n.createElement)("path",{d:"M26.8564 184.66L29.6548 176.909H30.9492L33.7476 184.66H32.4692L31.7603 182.603H28.8062L28.0918 184.66H26.8564ZM29.1123 181.593H31.4541L30.3315 178.316H30.2402L29.1123 181.593Z",fill:"A"===t?"#007CBA":"#757575"}),(0,n.createElement)("path",{d:"M189.621 189.228V181.478H192.736C193.463 181.478 194.032 181.651 194.444 181.999C194.859 182.342 195.067 182.813 195.067 183.411C195.067 183.816 194.936 184.179 194.675 184.501C194.413 184.82 194.091 185.012 193.708 185.076V185.167C194.231 185.221 194.652 185.42 194.97 185.764C195.292 186.104 195.454 186.526 195.454 187.031C195.454 187.715 195.219 188.252 194.75 188.643C194.281 189.033 193.633 189.228 192.806 189.228H189.621ZM190.824 188.208H192.564C193.105 188.208 193.516 188.1 193.799 187.885C194.082 187.67 194.224 187.357 194.224 186.945C194.224 186.541 194.077 186.235 193.783 186.027C193.49 185.816 193.06 185.71 192.494 185.71H190.824V188.208ZM190.824 184.759H192.252C192.782 184.759 193.183 184.664 193.456 184.475C193.731 184.281 193.869 184 193.869 183.631C193.869 183.273 193.744 182.996 193.493 182.799C193.246 182.598 192.901 182.498 192.457 182.498H190.824V184.759Z",fill:"B"===t?"#007CBA":"#757575"}),(0,n.createElement)("path",{d:"M279.519 80.2898C279.519 79.033 279.83 78.0411 280.453 77.3142C281.08 76.5873 281.932 76.2239 283.01 76.2239C283.862 76.2239 284.587 76.4745 285.185 76.9758C285.787 77.4736 286.136 78.1181 286.232 78.9094H285.035C284.92 78.4332 284.68 78.0536 284.315 77.7708C283.953 77.4879 283.518 77.3464 283.01 77.3464C282.315 77.3464 281.764 77.6114 281.355 78.1414C280.951 78.6677 280.749 79.3839 280.749 80.2898C280.749 81.1921 280.951 81.9083 281.355 82.4382C281.764 82.9646 282.317 83.2278 283.015 83.2278C283.527 83.2278 283.964 83.0989 284.326 82.8411C284.691 82.5833 284.927 82.2359 285.035 81.7991H286.232C286.125 82.5653 285.778 83.183 285.19 83.6521C284.603 84.1176 283.878 84.3503 283.015 84.3503C281.937 84.3503 281.085 83.9869 280.458 83.26C279.832 82.5331 279.519 81.5431 279.519 80.2898Z",fill:"C"===t?"#007CBA":"#757575"}))}const{name:yo,...vo}=_o,Eo={example:{},edit:function(e){let{}=e;const t=(0,Ge.useBlockProps)(),[o,r]=(0,pe.useEntityProp)("postType","product","dimensions"),[a,c]=(0,pe.useEntityProp)("postType","product","weight"),[l,s]=(0,n.useState)(),{formatNumber:u,parseNumber:m}=D(),{dimensionUnit:d,weightUnit:p}=(0,_.useSelect)((e=>{const{getOption:t}=e(v.OPTIONS_STORE_NAME);return{dimensionUnit:t("woocommerce_dimension_unit"),weightUnit:t("woocommerce_weight_unit")}}),[]);function f(e,t){return{name:`dimensions.${e}`,value:o?u(String(o[e])):void 0,onChange:t=>r({...null!=o?o:{},[e]:m(t)}),onFocus:()=>s(t),onBlur:()=>s(void 0),suffix:d}}const g={...f("width","A"),id:(0,$.useInstanceId)(i.BaseControl,"product_shipping_dimensions_width")},h={...f("length","B"),id:(0,$.useInstanceId)(i.BaseControl,"product_shipping_dimensions_length")},y={...f("height","C"),id:(0,$.useInstanceId)(i.BaseControl,"product_shipping_dimensions_height")},E={id:(0,$.useInstanceId)(i.BaseControl,"product_shipping_weight"),name:"weight",value:u(String(a)),onChange:e=>c(m(e)),suffix:p},b=ot("product/dimensions/width",(function(){return!((null==o?void 0:o.width)&&+o.width<=0)})),k=ot("product/dimensions/length",(function(){return!((null==o?void 0:o.length)&&+o.length<=0)})),S=ot("product/dimensions/height",(function(){return!((null==o?void 0:o.height)&&+o.height<=0)})),C=ot("product/weight",(function(){return!(a&&+a<=0)}));return(0,n.createElement)("div",{...t},(0,n.createElement)("h4",null,(0,w.__)("Dimensions","woocommerce")),(0,n.createElement)("div",{className:"wp-block-columns"},(0,n.createElement)("div",{className:"wp-block-column"},(0,n.createElement)(i.BaseControl,{id:g.id,label:(0,n.createInterpolateElement)((0,w.__)("Width <Side />","woocommerce"),{Side:(0,n.createElement)("span",null,"A")}),className:Y()({"has-error":!b}),help:b?void 0:(0,w.__)("Width must be higher than zero.","woocommerce")},(0,n.createElement)(i.__experimentalInputControl,{...g})),(0,n.createElement)(i.BaseControl,{id:h.id,label:(0,n.createInterpolateElement)((0,w.__)("Length <Side />","woocommerce"),{Side:(0,n.createElement)("span",null,"B")}),className:Y()({"has-error":!k}),help:k?void 0:(0,w.__)("Length must be higher than zero.","woocommerce")},(0,n.createElement)(i.__experimentalInputControl,{...h})),(0,n.createElement)(i.BaseControl,{id:y.id,label:(0,n.createInterpolateElement)((0,w.__)("Height <Side />","woocommerce"),{Side:(0,n.createElement)("span",null,"C")}),className:Y()({"has-error":!S}),help:S?void 0:(0,w.__)("Height must be higher than zero.","woocommerce")},(0,n.createElement)(i.__experimentalInputControl,{...y})),(0,n.createElement)(i.BaseControl,{id:E.id,label:(0,w.__)("Weight","woocommerce"),className:Y()({"has-error":!C}),help:C?void 0:(0,w.__)("Weight must be higher than zero.","woocommerce")},(0,n.createElement)(i.__experimentalInputControl,{...E}))),(0,n.createElement)("div",{className:"wp-block-column"},(0,n.createElement)(wo,{highlight:l,className:"wp-block-woocommerce-product-shipping-dimensions-fields__dimensions-image"}))))}};var bo=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-shipping-fee-fields","title":"Product shipping fee fields","category":"woocommerce","description":"The product shipping fee fields.","keywords":["products","shipping","fee"],"textdomain":"default","attributes":{"title":{"type":"string","__experimentalRole":"content"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false},"editorStyle":"file:./editor.css"}');const ko="follow_class",So="free_shipping",Co=[{label:(0,w.__)("Follow class","woocommerce"),value:ko},{label:(0,w.__)("Free shipping","woocommerce"),value:So}],{name:xo,...To}=bo,No={example:{},edit:function(e){let{attributes:t}=e;const{title:o}=t,r=(0,Ge.useBlockProps)(),[c,l]=(0,n.useState)(So),[s,u]=(0,pe.useEntityProp)("postType","product","shipping_class"),{shippingClasses:m}=(0,_.useSelect)((e=>{var t;const{getProductShippingClasses:o}=e(v.EXPERIMENTAL_PRODUCT_SHIPPING_CLASSES_STORE_NAME);return{shippingClasses:null!==(t=o())&&void 0!==t?t:[]}}),[]),d=(0,$.useInstanceId)(i.BaseControl),p=ot("product/shipping_class",(function(){return!(c===ko&&!s)}));return(0,n.useEffect)((()=>{""===s?l(So):s&&l(ko)}),[s]),(0,n.createElement)("div",{...r},(0,n.createElement)("div",{className:"wp-block-columns"},(0,n.createElement)("div",{className:"wp-block-column"},(0,n.createElement)(ut,{title:o,selected:c,options:Co,onChange:function(e){var t;if(l(e),e===ko){const[e]=m;u(null!==(t=null==e?void 0:e.slug)&&void 0!==t?t:"")}else u("")}}))),c===ko&&(0,n.createElement)("div",{className:"wp-block-columns"},(0,n.createElement)("div",{className:Y()("wp-block-column",{"has-error":!p})},(0,n.createElement)(i.SelectControl,{id:d,name:"shipping_class",value:s,onChange:u,label:(0,w.__)("Shipping class","woocommerce"),help:p?(0,n.createInterpolateElement)((0,w.__)("Manage shipping classes and rates in <Link>global settings</Link>.","woocommerce"),{Link:(0,n.createElement)(a.Link,{href:(0,Fe.getNewPath)({tab:"shipping",section:"classes"},"",{},"wc-settings"),target:"_blank",type:"external",onClick:()=>{(0,C.recordEvent)("product_shipping_global_settings_link_click")}},(0,n.createElement)(n.Fragment,null))}):(0,w.__)("The shipping class is required.","woocommerce")},m.map((e=>{let{slug:t,name:o}=e;return(0,n.createElement)("option",{key:t,value:t},o)})))),(0,n.createElement)("div",{className:"wp-block-column"})))}};function Po(e){let{product:t,settings:o}=e;const[r,a]=(0,n.useState)(null);return(0,n.createElement)(n.StrictMode,null,(0,n.createElement)(pe.EntityProvider,{kind:"postType",type:"product",id:t.id},(0,n.createElement)(fe.ShortcutProvider,null,(0,n.createElement)(ge,{isActive:!1}),(0,n.createElement)(i.SlotFillProvider,null,(0,n.createElement)(_e,{header:(0,n.createElement)(We,{productName:t.name,onTabSelect:a}),content:(0,n.createElement)(n.Fragment,null,(0,n.createElement)(qe,{settings:o,product:t,context:{selectedTab:r}}),(0,n.createElement)(de.PluginArea,{scope:"woocommerce-product-block-editor"}))}),(0,n.createElement)(i.Popover.Slot,null)))))}(()=>{const e=(0,Ze.__experimentalGetCoreBlocks)().filter((e=>!(0,ce.getBlockType)(e.name)));(0,Ze.registerCoreBlocks)(e),Ke({name:Qe,metadata:Je,settings:et}),Ke({name:rt,metadata:tt,settings:nt}),Ke({name:mt,metadata:dt,settings:pt}),Ke({name:St,metadata:Ct,settings:xt}),Ke({name:Pt,metadata:Ot,settings:It}),At({name:Mt,metadata:Dt,settings:Rt}),Ke({name:zt,metadata:Ft,settings:Ut}),Ke({name:Wt,metadata:jt,settings:$t}),Ke({name:Jt,metadata:Yt,settings:Xt}),Ke({name:eo,metadata:to,settings:oo}),At({name:no,metadata:ro,settings:ao}),Ke({name:io,metadata:co,settings:lo}),Ke({name:uo,metadata:so,settings:mo}),At({name:go,metadata:po,settings:ho}),Ke({name:yo,metadata:vo,settings:Eo}),Ke({name:xo,metadata:To,settings:No})})();var Oo=(0,n.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(q.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),Io=window.wc.customerEffortScore;const Ao=()=>{const{showCesModal:e,showProductMVPFeedbackModal:t}=(0,_.useDispatch)(Io.STORE_KEY),{updateOptions:o}=(0,_.useDispatch)(v.OPTIONS_STORE_NAME),{cesAction:r,allowTracking:c,cesShownForActions:l,resolving:s}=(0,_.useSelect)((e=>{const{getOption:t,hasFinishedResolution:o}=e(v.OPTIONS_STORE_NAME),r=t(E);return{cesShownForActions:t(Io.SHOWN_FOR_ACTIONS_OPTION_NAME)||[],allowTracking:"yes"===(t(Io.ALLOW_TRACKING_OPTION_NAME)||"no"),cesAction:r,resolving:!o("getOption",[Io.SHOWN_FOR_ACTIONS_OPTION_NAME])||!o("getOption",[E])||!o("getOption",[Io.ALLOW_TRACKING_OPTION_NAME])}})),u=!s&&c&&r&&"hide"!==r;return(0,n.createElement)(n.Fragment,null,u&&(0,n.createElement)(Le.WooFooterItem,null,(0,n.createElement)("div",{className:"woocommerce-product-mvp-ces-footer"},(0,n.createElement)("div",{className:"woocommerce-product-mvp-ces-footer__container"},(0,n.createElement)(a.Pill,null,(0,w.__)("BETA","woocommerce")),(0,w.__)("You're using the new product editor (currently in development). How is your experience so far?","woocommerce"),(0,n.createElement)(i.Button,{variant:"secondary",onClick:()=>{e({action:r,title:(0,w.__)("How's your experience with the product editor?","woocommerce"),firstQuestion:(0,w.__)("The product editing screen is easy to use","woocommerce"),secondQuestion:(0,w.__)("The product editing screen's functionality meets my needs","woocommerce"),onsubmitLabel:(0,w.__)("Thanks for the feedback. We'll put it to good use!","woocommerce"),shouldShowComments:()=>!0},{},{type:"snackbar",icon:(0,n.createElement)("span",null,"🌟")}),o({[Io.SHOWN_FOR_ACTIONS_OPTION_NAME]:[r,...l]})}},(0,w.__)("Share feedback","woocommerce")),(0,n.createElement)(i.Button,{onClick:()=>{o({[E]:"hide"}),o({[b]:"no"}),t()},variant:"tertiary"},(0,w.__)("Turn it off","woocommerce"))),(0,n.createElement)(i.Button,{className:"woocommerce-product-mvp-ces-footer__close-button",icon:Oo,label:(0,w.__)("Remove share feedback","woocommerce"),onClick:()=>{o({[E]:"hide"})}}))))};var Do=o(7862),Lo=o.n(Do),Mo=window.wc.experimental;function Ro(e){let{recordScoreCallback:t,onCloseModal:o}=e;const[r,a]=(0,n.useState)(!1),[c,l]=(0,n.useState)(!1),[s,u]=(0,n.useState)(!1),[m,d]=(0,n.useState)(!1),[p,f]=(0,n.useState)(!1),g=[{key:"missing-features",label:(0,w.__)("Missing features","woocommerce"),checked:r,onChange:a},{key:"missing-plugins",label:(0,w.__)("Missing plugins","woocommerce"),checked:c,onChange:l},{key:"difficult-to-use",label:(0,w.__)("It is difficult to use","woocommerce"),checked:s,onChange:u},{key:"slow-buggy-or-broken",label:(0,w.__)("It is slow, buggy, or broken","woocommerce"),checked:m,onChange:d},{key:"other",label:(0,w.__)("Other (describe below)","woocommerce"),checked:p,onChange:f}],[h,_]=(0,n.useState)(""),y=!(h||r||c||s||m||p);return(0,n.createElement)(Io.FeedbackModal,{title:(0,w.__)("Thanks for trying out the new product editor!","woocommerce"),description:(0,w.__)("We’re working on making it better, and your feedback will help improve the experience for thousands of merchants like you.","woocommerce"),onSubmit:()=>{const e=g.filter((e=>e.checked)).map((e=>e.key));t(e,h)},onModalClose:o,isSubmitButtonDisabled:y,submitButtonLabel:(0,w.__)("Send feedback","woocommerce"),cancelButtonLabel:(0,w.__)("Skip","woocommerce")},(0,n.createElement)(n.Fragment,null,(0,n.createElement)(Mo.Text,{variant:"subtitle.small",as:"p",weight:"600",size:"14",lineHeight:"20px"},(0,w.__)("What made you switch back to the classic product editor?","woocommerce")),(0,n.createElement)(Mo.Text,{weight:"400",size:"12",as:"p",lineHeight:"16px",color:"#757575",className:"woocommerce-product-mvp-feedback-modal__subtitle"},(0,w.__)("(Check all that apply)","woocommerce")),(0,n.createElement)("div",{className:"woocommerce-product-mvp-feedback-modal__checkboxes"},g.map(((e,t)=>(0,n.createElement)(i.CheckboxControl,{key:t,label:e.label,name:e.key,checked:e.checked,onChange:e.onChange})))),(0,n.createElement)("div",{className:"woocommerce-product-mvp-feedback-modal__comments"},(0,n.createElement)(i.TextareaControl,{label:(0,w.__)("Additional comments","woocommerce"),value:h,placeholder:(0,w.__)("Optional, but much apprecated. We love reading your feedback!","woocommerce"),onChange:e=>_(e),rows:5}))))}Ro.propTypes={recordScoreCallback:Lo().func.isRequired,onCloseModal:Lo().func};const Fo=e=>{let{productId:t}=e;const{values:o}=(0,a.useFormContext)(),{hideProductMVPFeedbackModal:r}=(0,_.useDispatch)(Io.STORE_KEY),{isProductMVPModalVisible:c}=(0,_.useSelect)((e=>{const{isProductMVPFeedbackModalVisible:t}=e(Io.STORE_KEY);return{isProductMVPModalVisible:t()}})),i=null!=t?t:o.id,l=i?(0,Bt.getAdminLink)(`post.php?post=${i}&action=edit`):(0,Bt.getAdminLink)("post-new.php?post_type=product");return c?(0,n.createElement)(Ro,{recordScoreCallback:(e,t)=>{(0,C.recordEvent)("product_mvp_feedback",{action:"disable",checked:e,comments:t||""}),r(),window.location.href=`${l}&new-product-experience-disabled=true`},onCloseModal:()=>{(0,C.recordEvent)("product_mvp_feedback",{action:"disable",checked:"",comments:""}),r(),window.location.href=l}}):null},Bo=e=>{const{symbol:t,symbolPosition:o}=e;return{[o.includes("left")?"prefix":"suffix"]:t}};var Vo;!function(e){e.unsaved="unsaved",e.draft="draft",e.instock="instock",e.outofstock="outofstock"}(Vo||(Vo={}));const Ho={[Vo.unsaved]:(0,w.__)("Unsaved","woocommerce"),[Vo.draft]:(0,w.__)("Draft","woocommerce"),[Vo.instock]:(0,w.__)("In stock","woocommerce"),[Vo.outofstock]:(0,w.__)("Out of stock","woocommerce")},zo=e=>e?"draft"===e.status?Vo.draft:"instock"===e.stock_status?Vo.instock:Vo.outofstock:Vo.unsaved;var Uo,jo;!function(e){e.instock="instock",e.onbackorder="onbackorder",e.outofstock="outofstock"}(Uo||(Uo={})),function(e){e.instock="green",e.onbackorder="yellow",e.outofstock="red"}(jo||(jo={}));const Wo={[Uo.instock]:(0,w.__)("In stock","woocommerce"),[Uo.onbackorder]:(0,w.__)("On backorder","woocommerce"),[Uo.outofstock]:(0,w.__)("Out of stock","woocommerce")},$o=e=>e.manage_stock?e.stock_quantity||0:e.stock_status?Wo[e.stock_status]:Wo.instock,Go=e=>{if(e.manage_stock){const t=e.stock_quantity||0;return t>=10?jo.instock:t<10&&t>2?jo.onbackorder:jo.outofstock}return e.stock_status?jo[e.stock_status]:""},qo=(e,t,o)=>(null==e?void 0:e.length)?e:o&&o!==O?o:"simple"===t?(0,w.__)("New standard product","woocommerce"):(0,w.__)("New product","woocommerce"),Zo=e=>{var t;return(null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.length)?e.attributes.map((e=>e.option)).join(", "):"#"+e.id},Ko=e=>{const t=Zo(e);return t.length>32?t.substring(0,32)+"…":t},Jo=(e,t)=>{const o=new URLSearchParams(e.search),r=new URLSearchParams(t.search);return o.delete("tab"),r.delete("tab"),o.toString()!==r.toString()};var Yo=window.wp.apiFetch,Xo=o.n(Yo);const Qo=()=>{Xo().use(((e,t)=>{const o=new RegExp("^/wp/v2/product");return e.path&&o.test(null==e?void 0:e.path)&&(()=>{const e=(0,Fe.getQuery)();return"wc-admin"===(null==e?void 0:e.page)&&["/add-product","/product/"].some((t=>{var o;return null===(o=null==e?void 0:e.path)||void 0===o?void 0:o.startsWith(t)}))})()&&(e.path=e.path.replace(o,"/wc/v3/products")),t(e)}))};async function er(){return"hide"===await(0,_.resolveSelect)(v.OPTIONS_STORE_NAME).getOption(E)}const tr=()=>{const{updateOptions:e}=(0,_.useDispatch)(v.OPTIONS_STORE_NAME),t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";e({[E]:t})};return{onSaveDraft:async()=>{!1===await er()&&t("new_product")},onPublish:async()=>{!1===await er()&&t("new_product")},showCesFooter:t}};function or(e){return`${e.id}:${e.menu_order}`}function rr(e){let{key:t}=e;return"string"==typeof t?Number.parseInt(t.split(":")[1],10):Number.MAX_SAFE_INTEGER}function nr(e,t,o){let{variationsOrder:r}=o;if(!r||!r[t])return e;const n=r[t];return[...e].sort(((e,t)=>n[e.id]&&n[t.id]?n[e.id]-n[t.id]:0))}const ar=e=>{let{variations:t,currentPage:o}=e;const{setValue:r,values:n}=(0,a.useFormContext)();return{sortedVariations:nr(t,o,n),getVariationKey:or,onOrderChange:function(e){const t=Math.min(...e.map(rr));r("variationsOrder",{...n.variationsOrder,[o]:e.reduce(((e,o,r)=>({...e,[function(e){let{key:t}=e;return"string"==typeof t?Number.parseInt(t.split(":")[0],10):0}(o)]:t+r})),{})})}}}}(),(window.wc=window.wc||{}).productEditor=r}();