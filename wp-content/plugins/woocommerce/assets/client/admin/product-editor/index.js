/*! For license information please see index.js.LICENSE.txt */
(()=>{var e={83849:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var c=n.apply(null,r);c&&e.push(c)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var l in r)o.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{"use strict";r.r(o),r.d(o,{AUTO_DRAFT_NAME:()=>T,DETAILS_SECTION_ID:()=>C,PRODUCT_STATUS_LABELS:()=>nt,TAB_GENERAL_ID:()=>S,__experimentalDetailsCategoriesField:()=>ae,__experimentalDetailsDescriptionField:()=>ie,__experimentalDetailsFeatureField:()=>L,__experimentalDetailsNameField:()=>A,__experimentalDetailsSummaryField:()=>le,__experimentalEditor:()=>tt,__experimentalProductFieldSection:()=>i,__experimentalProductSectionLayout:()=>c,__experimentalUseCurrencyInputProps:()=>Ye,__experimentalUseProductHelper:()=>D,__experimentalUseVariationsOrder:()=>wt,__experimentalWooProductFieldItem:()=>g,__experimentalWooProductSectionItem:()=>_,__experimentalWooProductTabItem:()=>f,createOrderedChildren:()=>d,formatCurrencyDisplayValue:()=>Qe,getCheckboxTracks:()=>M,getCurrencySymbolProps:()=>rt,getDerivedProductType:()=>N,getHeaderTitle:()=>Ne,getProductStatus:()=>at,getProductStockStatus:()=>st,getProductStockStatusClass:()=>dt,getProductTitle:()=>mt,getProductVariationTitle:()=>ut,getTruncatedProductVariationTitle:()=>pt,initBlock:()=>Le,preventLeavingProductForm:()=>gt,sortFillsByOrder:()=>m});var e={};r.r(e),r.d(e,{disableComplementaryArea:()=>we,enableComplementaryArea:()=>he,pinItem:()=>Ee,setFeatureDefaults:()=>ke,setFeatureValue:()=>ve,toggleFeature:()=>be,unpinItem:()=>ye});var t={};r.r(t),r.d(t,{getActiveComplementaryArea:()=>Se,isFeatureActive:()=>Pe,isItemPinned:()=>Ce});const n=window.wp.element,a=window.wc.components,c=e=>{let{title:t,description:r,className:o,children:c}=e;return(0,n.createElement)(a.FormSection,{title:t,description:r,className:o},n.Children.map(c,(e=>(0,n.isValidElement)(e)&&e.props.onChange?(0,n.createElement)("div",{className:"product-field-layout"},e):e)))},l=window.wp.components,i=e=>{let{id:t,title:r,description:o,className:i,children:s}=e;return(0,n.createElement)(c,{title:r,description:o,className:i},(0,n.createElement)(l.Card,null,(0,n.createElement)(l.CardBody,null,s,(0,n.createElement)(a.__experimentalWooProductFieldItem.Slot,{section:t}))))},s=window.React;function d(e,t,r,o){const{children:a,props:c}=function(e,t,r,o){if("function"==typeof e)return{children:e({...r,order:t,...o}),props:{order:t,...o}};if((0,s.isValidElement)(e))return"function"==typeof(null==e?void 0:e.type)?{children:e,props:{...r,order:t,...o}}:{children:e,props:{order:t,...o}};throw Error("Invalid children type")}(e,t,r,o);return(0,n.cloneElement)(a,c)}const m=e=>{const t=[...e].sort(((e,t)=>e[0].props.order-t[0].props.order));return(0,n.createElement)(s.Fragment,null,t)},u=20,p=e=>{let{fieldName:t,sectionName:r,order:o,children:c}=e;const{registerFill:i,getFillHelpers:s}=(0,a.useSlotContext)(),m=`product_field/${r}/${t}`;return(0,n.useEffect)((()=>{i(m)}),[]),(0,n.createElement)(l.Fill,{name:`woocommerce_product_field_${r}`,key:m},(e=>d(c,o,{sectionName:r,...e,...s()},{_id:m})))},g=e=>{let{children:t,sections:r,id:o}=e;return(0,n.createElement)(n.Fragment,null,r.map((e=>{let{name:r,order:a=u}=e;return(0,n.createElement)(p,{fieldName:o,sectionName:r,order:a,key:r},t)})))};g.Slot=e=>{let{fillProps:t,section:r}=e;const{filterRegisteredFills:o}=(0,a.useSlotContext)();return(0,n.createElement)(l.Slot,{name:`woocommerce_product_field_${r}`,fillProps:t},(e=>{var t;return m?n.Children.map(null===(t=m(o(e)))||void 0===t?void 0:t.props.children,(e=>(0,n.createElement)("div",{className:"woocommerce-product-form__field"},e))):null}))};const _=e=>{let{children:t,tabs:r}=e;return(0,n.createElement)(n.Fragment,null,r.map((e=>{let{name:r,order:o}=e;return(0,n.createElement)(l.Fill,{name:`woocommerce_product_section_${r}`,key:r},(e=>d(t,o||20,{tabName:r,...e})))})))};_.Slot=e=>{let{fillProps:t,tab:r}=e;return(0,n.createElement)(l.Slot,{name:`woocommerce_product_section_${r}`,fillProps:t},(e=>m?m(e):null))};const f=e=>{let{children:t,tabProps:r,templates:o}=e;return o?(0,n.createElement)(n.Fragment,null,o.map((e=>(0,n.createElement)(l.Fill,{name:`woocommerce_product_tab_${e.name}`,key:e.name},(o=>d(t,e.order||20,{},{tabProps:r,templateName:e.name,order:e.order||20,...o})))))):(console.warn("WooProductTabItem fill is missing templates property."),null)};f.Slot=e=>{let{fillProps:t,template:r,children:o}=e;return(0,n.createElement)(l.Slot,{name:`woocommerce_product_tab_${r}`,fillProps:t},(e=>{const r=e.reduce(((e,r)=>{let{childrenMap:o,tabs:n}=e;var a;const c=r[0].props;if(c&&c.tabProps){o[c.tabProps.name]=r[0];const e="function"==typeof c.tabProps?c.tabProps(t):c.tabProps;n.push({...e,order:null!==(a=c.order)&&void 0!==a?a:20})}return{childrenMap:o,tabs:n}}),{childrenMap:{},tabs:[]}),n=r.tabs.sort(((e,t)=>e.order-t.order));return o(n,r.childrenMap)}))};const h=window.wp.data,w=window.wp.i18n,E=window.wp.url;function y(e){return e.startsWith("{{/")?{type:"componentClose",value:e.replace(/\W/g,"")}:e.endsWith("/}}")?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.startsWith("{{")?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}function b(e,t){let r,o,n=[];for(let a=0;a<e.length;a++){const c=e[a];if("string"!==c.type){if(void 0===t[c.value])throw new Error(`Invalid interpolation, missing component node: \`${c.value}\``);if("object"!=typeof t[c.value])throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \`${c.value}\``);if("componentClose"===c.type)throw new Error(`Missing opening component token: \`${c.value}\``);if("componentOpen"===c.type){r=t[c.value],o=a;break}n.push(t[c.value])}else n.push(c.value)}if(r){const a=function(e,t){const r=t[e];let o=0;for(let n=e+1;n<t.length;n++){const e=t[n];if(e.value===r.value){if("componentOpen"===e.type){o++;continue}if("componentClose"===e.type){if(0===o)return n;o--}}}throw new Error("Missing closing component token `"+r.value+"`")}(o,e),c=b(e.slice(o+1,a),t),l=(0,s.cloneElement)(r,{},c);if(n.push(l),a<e.length-1){const r=b(e.slice(a+1),t);n=n.concat(r)}}return n=n.filter(Boolean),0===n.length?null:1===n.length?n[0]:(0,s.createElement)(s.Fragment,null,...n)}function v(e){const{mixedString:t,components:r,throwErrors:o}=e;if(!r)return t;if("object"!=typeof r){if(o)throw new Error(`Interpolation Error: unable to process \`${t}\` because components is not an object`);return t}const n=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(y)}(t);try{return b(n,r)}catch(e){if(o)throw new Error(`Interpolation Error: unable to process \`${t}\` because of error \`${e.message}\``);return t}}const k=window.wc.data,S="tab/general",C=`${S}/details`,P=window.wc.tracks,x=window.wc.number,I=window.wc.currency,N=e=>{var t;return window.wcAdminFeatures["product-variation-management"]&&(null===(t=e.attributes)||void 0===t?void 0:t.find((e=>e.options.length&&e.variation)))?"variable":"simple"},T="AUTO-DRAFT";function F(e){return k.productReadOnlyProperties.forEach((t=>delete e[t])),e}function O(e,t){return"publish"===e&&t?[{label:(0,w.__)("View in store","woocommerce"),onClick:()=>{(0,P.recordEvent)("product_preview_changes",{new_product_page:!0}),window.open(t,"_blank")}}]:[]}function D(){const{createProduct:e,updateProduct:t,deleteProduct:r}=(0,h.useDispatch)(k.PRODUCTS_STORE_NAME),{batchUpdateProductVariations:o,invalidateResolutionForStoreSelector:a}=(0,h.useDispatch)(k.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),{createNotice:c}=(0,h.useDispatch)("core/notices"),[l,i]=(0,n.useState)(!1),[s,d]=(0,n.useState)({draft:!1,publish:!1}),m=(0,n.useContext)(I.CurrencyContext),u=(0,n.useCallback)((async function(t,r){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d({...s,[r]:!0}),e({...t,status:r,type:N(t)}).then((e=>{if(!o){const t="publish"===e.status?(0,w.__)("Product published.","woocommerce"):(0,w.__)("Product successfully created.","woocommerce");c("success",`ðŸŽ‰â€Ž ${t}`,{actions:O(e.status,e.permalink)})}return d({...s,[r]:!1}),e}),(e=>(o||c("error","publish"===r?(0,w.__)("Failed to publish product.","woocommerce"):(0,w.__)("Failed to create product.","woocommerce")),d({...s,[r]:!1}),e)))}),[s]);async function p(e,t){if(t)return o({product_id:e},{update:Object.values(t).flatMap(Object.entries).map((e=>{let[t,r]=e;return{id:t,menu_order:r}}))})}const g=(0,n.useCallback)((async function(e,r,o){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return d({...s,[o]:!0}),t(e,{...r,status:o,type:N(r)}).then((async e=>p(e.id,r.variationsOrder).then((()=>a("getProductVariations"))).then((()=>e)))).then((e=>{if(!n){const t="draft"===r.status&&"publish"===e.status?(0,w.__)("Product published.","woocommerce"):(0,w.__)("Product successfully updated.","woocommerce");c("success",`ðŸŽ‰â€Ž ${t}`,{actions:O(e.status,e.permalink)})}return d({...s,[o]:!1}),e}),(e=>(n||c("error",(0,w.__)("Failed to update product.","woocommerce")),d({...s,[o]:!1}),e)))}),[s]),_=(0,n.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"draft";return u(F({...e,name:(e.name||T)+" - Copy"}),t)}),[]),f=(0,n.useCallback)((async e=>(i(!0),r(e).then((e=>{const t=(0,w.__)("Successfully moved product to Trash.","woocommerce");return c("success",`ðŸŽ‰â€Ž ${t}`),i(!1),e}),(e=>(c("error",(0,w.__)("Failed to move product to Trash.","woocommerce")),i(!1),e))))),[]),E=(0,n.useCallback)((e=>{const{getCurrencyConfig:t}=m,{decimalSeparator:r}=t(),o=new RegExp("[^-\\d\\%s]+".replace("%s",r),"g"),n=new RegExp("[%s](?=%s*[%s])".replaceAll("%s",r),"g");return e.replace(o,"").replace(n,"").replace(r,".")}),[m]),y=(0,n.useCallback)((e=>{const{getCurrencyConfig:t}=m,{decimalSeparator:r,thousandSeparator:o}=t();return x.numberFormat({decimalSeparator:r,thousandSeparator:o},e)}),[m]),b=(0,n.useCallback)((e=>{const{getCurrencyConfig:t}=m,{decimalSeparator:r,thousandSeparator:o}=t();return x.parseNumber({decimalSeparator:r,thousandSeparator:o},e)}),[m]);return{createProductWithStatus:u,updateProductWithStatus:g,copyProductWithStatus:_,deleteProductAndRedirect:f,sanitizePrice:E,formatNumber:y,parseNumber:b,isUpdatingDraft:s.draft,isUpdatingPublished:s.publish,isDeleting:l}}const R=e=>{let{product:t,permalinkPrefix:r,permalinkSuffix:o,onCancel:c,onSaved:i}=e;const{createNotice:s}=(0,h.useDispatch)("core/notices"),{updateProductWithStatus:d,isUpdatingDraft:m,isUpdatingPublished:u}=D(),[p,g]=(0,n.useState)(t.slug||(0,E.cleanForSlug)(t.name)),{resetForm:_,touched:f,errors:y}=(0,a.useFormContext)(),b=r+(0,E.cleanForSlug)(p)+o;return(0,n.createElement)(l.Modal,{title:(0,w.__)("Edit product link","woocommerce"),onRequestClose:()=>c(),className:"woocommerce-product-link-edit-modal"},(0,n.createElement)("div",{className:"woocommerce-product-link-edit-modal__wrapper"},(0,n.createElement)("p",{className:"woocommerce-product-link-edit-modal__description"},(0,w.__)("Create a unique link for this product. Use simple, descriptive words and numbers. We'll replace spaces with hyphens (-).","woocommerce")),(0,n.createElement)(l.TextControl,{label:(0,w.__)("Product link","woocommerce"),name:"slug",value:p,onChange:g,hideLabelFromVision:!0,help:v({mixedString:(0,w.__)("Preview: {{link/}}","woocommerce"),components:{link:(0,n.createElement)("strong",null,b)}})}),(0,n.createElement)("div",{className:"woocommerce-product-link-edit-modal__buttons"},(0,n.createElement)(l.Button,{isSecondary:!0,onClick:()=>c()},(0,w.__)("Cancel","woocommerce")),(0,n.createElement)(l.Button,{isPrimary:!0,isBusy:m||u,disabled:m||u||p===t.slug,onClick:()=>{(async()=>{(0,P.recordEvent)("product_update_slug",{new_product_page:!0,product_id:t.id,product_type:t.type});const e=await d(t.id,{slug:p},t.status,!0);e&&e.id?(_({...t,slug:e.slug,permalink:e.permalink},f,y),s(e.slug===(0,E.cleanForSlug)(p)?"success":"info",e.slug===(0,E.cleanForSlug)(p)?(0,w.__)("Product link successfully updated.","woocommerce"):(0,w.__)("Product link already existed, updated to ","woocommerce")+e.permalink)):s("error",(0,w.__)("Failed to update product link.","woocommerce")),i()})()}},(0,w.__)("Save","woocommerce")))))},A=e=>{let{}=e;const[t,r]=(0,n.useState)(!1),{getInputProps:o,values:c,touched:i,errors:s,setValue:d}=(0,a.useFormContext)(),{permalinkPrefix:m,permalinkSuffix:u}=(0,h.useSelect)((e=>{const{getPermalinkParts:t}=e(k.PRODUCTS_STORE_NAME);if(c.id){const e=t(c.id);return{permalinkPrefix:null==e?void 0:e.prefix,permalinkSuffix:null==e?void 0:e.suffix}}return{}}));return(0,n.createElement)("div",null,(0,n.createElement)(l.TextControl,{label:v({mixedString:(0,w.__)("Name {{required/}}","woocommerce"),components:{required:(0,n.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(required)","woocommerce"))}}),name:"product-details-name",placeholder:(0,w.__)("e.g. 12 oz Coffee Mug","woocommerce"),...o("name",{onBlur:()=>{var e;!c.sku&&(null===(e=c.name)||void 0===e?void 0:e.length)&&d("sku",(0,E.cleanForSlug)(c.name))}})}),c.id&&!(Boolean(i.name)&&Boolean(s.name))&&m&&(0,n.createElement)("span",{className:"woocommerce-product-form__secondary-text product-details-section__product-link"},(0,w.__)("Product link","woocommerce"),":Â ",(0,n.createElement)("a",{href:c.permalink,target:"_blank",rel:"noreferrer"},m,c.slug||(0,E.cleanForSlug)(c.name),u),(0,n.createElement)(l.Button,{variant:"link",onClick:()=>r(!0)},(0,w.__)("Edit","woocommerce"))),t&&(0,n.createElement)(R,{permalinkPrefix:m||"",permalinkSuffix:u||"",product:c,onCancel:()=>r(!1),onSaved:()=>r(!1)}))};function M(e){return{onChange:t=>{(0,P.recordEvent)(`product_checkbox_${e}`,{checked:t})}}}const L=()=>{const{getCheckboxControlProps:e}=(0,a.useFormContext)();return(0,n.createElement)(l.CheckboxControl,{label:(0,n.createElement)(n.Fragment,null,(0,w.__)("Feature this product","woocommerce"),(0,n.createElement)(a.__experimentalTooltip,{text:v({mixedString:(0,w.__)("Include this product in a featured section on your website with a widget or shortcode. {{moreLink/}}","woocommerce"),components:{moreLink:(0,n.createElement)(a.Link,{href:"https://woocommerce.com/document/woocommerce-shortcodes/#products",target:"_blank",type:"external",onClick:()=>(0,P.recordEvent)("add_product_learn_more",{category:"product-details"})},(0,w.__)("Learn more","woocommerce"))}})})),...e("featured",M("featured"))})},B=window.lodash,V=window.wp.htmlEntities,$=window.wp.primitives,U=(0,n.createElement)($.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)($.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),j=(0,n.createElement)($.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)($.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));var W=r(83849),z=r.n(W);const q=e=>{let{item:t,selectedIds:r=[],items:o,highlightedIndex:a,openParent:c,getItemProps:i}=e;const[s,d]=(0,n.useState)(t.isOpen||!1),m=o.findIndex((e=>e.id===t.data.id)),u=t.children.filter((e=>o.includes(e.data)));return(0,n.useEffect)((()=>{a===m&&u.length>0&&!s?d(!0):a===m&&c&&c()}),[a]),(0,n.useEffect)((()=>{t.isOpen!==s&&d(t.isOpen)}),[t.isOpen]),(0,n.createElement)("li",{className:z()("woocommerce-category-field-dropdown__item",{item_highlighted:m===a})},(0,n.createElement)("div",{className:"woocommerce-category-field-dropdown__item-content",...i({item:t.data,index:m})},u.length>0?(0,n.createElement)(l.Icon,{className:"woocommerce-category-field-dropdown__toggle",icon:s?U:j,size:20,onClick:e=>{e.stopPropagation(),d(!s)}}):(0,n.createElement)("div",{className:"woocommerce-category-field-dropdown__toggle-placeholder"}),(0,n.createElement)(l.CheckboxControl,{label:(0,V.decodeEntities)(t.data.name),checked:r.includes(t.data.id),onChange:()=>t.data})),u.length>0?(0,n.createElement)("ul",{className:z()("woocommerce-category-field-dropdown__item-children",{"woocommerce-category-field-dropdown__item-open":s})},u.map((e=>(0,n.createElement)(q,{key:e.data.id,item:e,selectedIds:r,items:o,highlightedIndex:a,openParent:()=>!s&&d(!0),getItemProps:i})))):null)},G={};function K(e,t){e[t.parentID]&&(e[t.parentID].isOpen=!0,0!==e[t.parentID].parentID&&K(e,e[t.parentID]))}const H=e=>e.sort(((e,t)=>e.data.count===t.data.count?e.data.name.localeCompare(t.data.name):t.data.count-e.data.count));function X(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;for(const r of t)e.push(r.data),r.children.length>0&&(r.children=H(r.children),X(e,r.children));return e}async function J(e,t){const r={},o=[];for(const t of e)r[t.id]={data:t,children:[],parentID:t.parent,isOpen:!1};if(Object.keys(r).forEach((e=>{const n=r[parseInt(e,10)];if(0!==n.parentID)if(!r[n.parentID]&&G[n.parentID]&&(r[n.parentID]={data:G[n.parentID],children:[],parentID:G[n.parentID].parent,isOpen:!1}),r[n.parentID]){r[n.parentID].children.push(n),G[n.parentID]=r[n.parentID].data;const e=new RegExp((0,B.escapeRegExp)(t),"i");t.length>0&&e.test(n.data.name)&&K(r,n)}else o.push(n.parentID)})),o.length>0)return(0,h.resolveSelect)(k.EXPERIMENTAL_PRODUCT_CATEGORIES_STORE_NAME).getProductCategories({include:o}).then((r=>J([...r,...e],t)));const n=H(Object.values(r).filter((e=>0===e.parentID))),a=X([],n);return Promise.resolve([a,n,r])}const Q={per_page:100},Y=()=>{const e=(0,n.useRef)(""),{initialCategories:t,totalCount:r}=(0,h.useSelect)((e=>{const{getProductCategories:t,getProductCategoriesTotalCount:r}=e(k.EXPERIMENTAL_PRODUCT_CATEGORIES_STORE_NAME);return{initialCategories:t(Q),totalCount:r(Q)}})),[o,a]=(0,n.useState)(!0),[c,l]=(0,n.useState)([[],[],{}]),i=!t||t.length>0&&r>100;(0,n.useEffect)((()=>{t&&t.length>0&&(0===c[0].length||0===e.current.length)&&(a(!0),J([...t],"").then((e=>{l(e),a(!1)}),(()=>{a(!1)})))}),[t]);const s=(0,n.useCallback)((async r=>{if(e.current=r||"",!i&&t.length>0)return J([...t],r||"").then((e=>(l(e),e[1])));a(!0);try{const e=await(0,h.resolveSelect)(k.EXPERIMENTAL_PRODUCT_CATEGORIES_STORE_NAME).getProductCategories({search:r,per_page:100}),t=await J(e,r||"");return a(!1),l(t),t[1]}catch(e){return a(!1),[]}}),[t]),d=c[2];return{searchCategories:s,getFilteredItems:(0,n.useCallback)(((e,t,r)=>{const o=new RegExp((0,B.escapeRegExp)(t),"i");return e.filter((e=>r.indexOf(e)<0&&(o.test(e.name)||d[e.id]&&d[e.id].isOpen)))}),[c]),categoriesSelectList:c[0],categories:c[1],isSearching:o,categoryTreeKeyValues:d}},Z=window.wp.compose,ee=e=>{let{initialCategoryName:t,onCancel:r,onCreate:o}=e;const{categoriesSelectList:c,isSearching:i,categoryTreeKeyValues:s,searchCategories:d,getFilteredItems:m}=Y(),{createNotice:u}=(0,h.useDispatch)("core/notices"),[p,g]=(0,n.useState)(!1),{createProductCategory:_,invalidateResolutionForStoreSelector:f}=(0,h.useDispatch)(k.EXPERIMENTAL_PRODUCT_CATEGORIES_STORE_NAME),[E,y]=(0,n.useState)(t||""),[b,S]=(0,n.useState)(null),C=(0,Z.useDebounce)(d,250);return(0,n.createElement)(l.Modal,{title:(0,w.__)("Create category","woocommerce"),onRequestClose:()=>r(),className:"woocommerce-create-new-category-modal"},(0,n.createElement)("div",{className:"woocommerce-create-new-category-modal__wrapper"},(0,n.createElement)(l.TextControl,{label:(0,w.__)("Name","woocommerce"),name:"Tops",value:E,onChange:y}),(0,n.createElement)(a.__experimentalSelectControl,{items:c,label:v({mixedString:(0,w.__)("Parent category {{optional/}}","woocommerce"),components:{optional:(0,n.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(optional)","woocommerce"))}}),selected:b,onSelect:e=>e&&S(e),onRemove:()=>S(null),onInputChange:C,getFilteredItems:m,getItemLabel:e=>(null==e?void 0:e.name)||"",getItemValue:e=>(null==e?void 0:e.id)||""},(e=>{let{items:t,isOpen:r,getMenuProps:o,highlightedIndex:c,getItemProps:d}=e;return(0,n.createElement)(a.__experimentalSelectControlMenu,{isOpen:r,getMenuProps:o,className:"woocommerce-category-field-dropdown__menu"},[i?(0,n.createElement)("div",{key:"loading-spinner",className:"woocommerce-category-field-dropdown__item"},(0,n.createElement)("div",{className:"woocommerce-category-field-dropdown__item-content"},(0,n.createElement)(l.Spinner,null))):null,...t.filter((e=>{var t;return 0===(null===(t=s[e.id])||void 0===t?void 0:t.parentID)})).map((e=>(0,n.createElement)(q,{key:`${e.id}`,item:s[e.id],selectedIds:b?[b.id]:[],items:t,highlightedIndex:c,getItemProps:d})))].filter((e=>null!==e)))})),(0,n.createElement)("div",{className:"woocommerce-create-new-category-modal__buttons"},(0,n.createElement)(l.Button,{isSecondary:!0,onClick:()=>r(),disabled:p},(0,w.__)("Cancel","woocommerce")),(0,n.createElement)(l.Button,{isPrimary:!0,disabled:0===E.length||p,isBusy:p,onClick:()=>{(async()=>{(0,P.recordEvent)("product_category_add",{new_product_page:!0}),g(!0);try{const e=await _({name:E,parent:b?b.id:void 0});f("getProductCategories"),g(!1),o(e)}catch(e){u("error",(0,w.__)("Failed to create category.","woocommerce")),g(!1),r()}})()}},(0,w.__)("Save","woocommerce")))))},te=(0,n.createElement)($.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)($.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),re=e=>{let{item:t,highlightedIndex:r,getItemProps:o,items:a}=e;const c=a.findIndex((e=>e.id===t.id));return(0,n.createElement)("li",{...o({item:t,index:c}),className:z()("woocommerce-category-field-dropdown__item is-new",{item_highlighted:r===c})},(0,n.createElement)("div",{className:"woocommerce-category-field-dropdown__item-content"},(0,n.createElement)(l.Icon,{className:"category-field-dropdown__toggle",icon:te,size:20}),(0,w.sprintf)((0,w.__)('Create "%s"',"woocommerce"),t.name)))};function oe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;e.push({id:t.id,name:t.name});const o=void 0!==t.parent?t.parent:r[t.id].parentID;return o>0&&r[o]&&!e.find((e=>e.id===o))&&oe(e,r[o].data,r),e}const ne=e=>{let{label:t,placeholder:r,value:o=[],onChange:c}=e;const{isSearching:l,categoriesSelectList:i,categoryTreeKeyValues:s,searchCategories:d,getFilteredItems:m}=Y(),[u,p]=(0,n.useState)(!1),[g,_]=(0,n.useState)(""),f=e=>{_(e||""),d(e||"")},h=(0,n.useMemo)((()=>(0,B.debounce)(f,150)),[f]),w=(e,t)=>{if(-99!==e)if(t){const t=s[e].data;t&&c(oe([...o],t,s))}else c(o.filter((t=>t.id!==e)));else p(!0)},E=o.map((e=>e.id));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a.__experimentalSelectControl,{className:"woocommerce-category-field-dropdown components-base-control",multiple:!0,items:i,label:t,selected:o,getItemLabel:e=>(null==e?void 0:e.name)||"",getItemValue:e=>(null==e?void 0:e.id)||"",onSelect:e=>{e&&w(e.id,!E.includes(e.id))},onRemove:e=>e&&w(e.id,!1),onInputChange:h,getFilteredItems:(e,t,r)=>{const o=m(e,t,r);return t.length>0&&!l&&!o.find((e=>e.name.toLowerCase()===t.toLowerCase()))?[...o,{id:-99,name:t}]:o},placeholder:0===o.length?r:"",stateReducer:(e,t)=>{const{changes:r,type:o}=t;switch(o){case a.selectControlStateChangeTypes.ControlledPropUpdatedSelectedItem:return{...r,inputValue:e.inputValue};case a.selectControlStateChangeTypes.ItemClick:return r.selectedItem&&-99===r.selectedItem.id?r:{...r,isOpen:!0,inputValue:e.inputValue,highlightedIndex:e.highlightedIndex};default:return r}},__experimentalOpenMenuOnFocus:!0},(e=>{let{items:t,isOpen:r,getMenuProps:o,getItemProps:c,highlightedIndex:i}=e;const d=t.length>0?t.filter((e=>{var t;return 0===(null===(t=s[e.id])||void 0===t?void 0:t.parentID)||-99===e.id})):[];return(0,n.createElement)(a.__experimentalSelectControlMenu,{isOpen:r,getMenuProps:o,className:"woocommerce-category-field-dropdown__menu"},(0,n.createElement)(n.Fragment,null,l?(0,n.createElement)("li",{className:"woocommerce-category-field-dropdown__item"},(0,n.createElement)("div",{className:"woocommerce-category-field-dropdown__item-content"},(0,n.createElement)(a.Spinner,null))):d.map((e=>-99===e.id?(0,n.createElement)(re,{key:`${e.id}`,item:e,highlightedIndex:i,items:t,getItemProps:c}):(0,n.createElement)(q,{key:`${e.id}`,item:s[e.id],highlightedIndex:i,selectedIds:E,items:t,getItemProps:c})))))})),(0,n.createElement)(a.__experimentalSelectControlMenuSlot,null),u&&(0,n.createElement)(ee,{initialCategoryName:g,onCancel:()=>p(!1),onCreate:e=>{c(oe([...o],e,s)),p(!1),f("")}}))},ae=()=>{const{getInputProps:e}=(0,a.useFormContext)();return(0,n.createElement)(ne,{label:(0,w.__)("Categories","woocommerce"),placeholder:(0,w.__)("Search or create categoryâ€¦","woocommerce"),...e("categories")})},ce=window.wp.blocks,le=()=>{const{setValue:e,values:t}=(0,a.useFormContext)(),[r,o]=(0,n.useState)((0,ce.parse)(t.short_description||""));return(0,n.createElement)(a.__experimentalRichTextEditor,{label:(0,w.__)("Summary","woocommerce"),blocks:r,onChange:t=>{o(t),r.length&&e("short_description",(0,ce.serialize)(t))},placeholder:(0,w.__)("Summarize this product in 1-2 short sentences. We'll show it at the top of the page.","woocommerce")})},ie=()=>{const{setValue:e,values:t}=(0,a.useFormContext)(),[r,o]=(0,n.useState)((0,ce.parse)(t.description||""));return(0,n.createElement)(a.__experimentalRichTextEditor,{label:(0,w.__)("Description","woocommerce"),blocks:r,onChange:t=>{o(t),r.length&&e("description",(0,ce.serialize)(t))},placeholder:(0,w.__)("Describe this product. What makes it unique? What are its most important features?","woocommerce")})},se=window.wp.coreData,de=window.wp.keyboardShortcuts,me=e=>{let{isActive:t}=e;return(0,n.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,n.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null};function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ue.apply(this,arguments)}const pe=(0,n.forwardRef)((function(e,t){let{footer:r,header:o,sidebar:a,secondarySidebar:c,notices:i,content:s,drawer:d,actions:m,labels:u,className:p,shortcuts:g}=e;const _=(0,l.__unstableUseNavigateRegions)(g);!function(e){(0,n.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const f={drawer:(0,w.__)("Drawer"),header:(0,w.__)("Header"),body:(0,w.__)("Content"),secondarySidebar:(0,w.__)("Block Library"),sidebar:(0,w.__)("Settings"),actions:(0,w.__)("Publish"),footer:(0,w.__)("Footer"),...u};return(0,n.createElement)("div",ue({},_,{ref:(0,Z.useMergeRefs)([t,_.ref]),className:z()(p,"interface-interface-skeleton",_.className,!!r&&"has-footer")}),!!d&&(0,n.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":f.drawer,tabIndex:"-1"},d),(0,n.createElement)("div",{className:"interface-interface-skeleton__editor"},!!o&&(0,n.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":f.header,tabIndex:"-1"},o),(0,n.createElement)("div",{className:"interface-interface-skeleton__body"},!!c&&(0,n.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":f.secondarySidebar,tabIndex:"-1"},c),!!i&&(0,n.createElement)("div",{className:"interface-interface-skeleton__notices"},i),(0,n.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":f.body,tabIndex:"-1"},s),!!a&&(0,n.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":f.sidebar,tabIndex:"-1"},a),!!m&&(0,n.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":f.actions,tabIndex:"-1"},m))),!!r&&(0,n.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":f.footer,tabIndex:"-1"},r))})),ge=window.wp.deprecated;var _e=r.n(ge);const fe=window.wp.preferences,he=(e,t)=>r=>{let{registry:o}=r;t&&o.dispatch(fe.store).set(e,"complementaryArea",t)},we=e=>t=>{let{registry:r}=t;r.dispatch(fe.store).set(e,"complementaryArea",null)},Ee=(e,t)=>r=>{let{registry:o}=r;if(!t)return;const n=o.select(fe.store).get(e,"pinnedItems");!0!==(null==n?void 0:n[t])&&o.dispatch(fe.store).set(e,"pinnedItems",{...n,[t]:!0})},ye=(e,t)=>r=>{let{registry:o}=r;if(!t)return;const n=o.select(fe.store).get(e,"pinnedItems");o.dispatch(fe.store).set(e,"pinnedItems",{...n,[t]:!1})};function be(e,t){return function(r){let{registry:o}=r;_e()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),o.dispatch(fe.store).toggle(e,t)}}function ve(e,t,r){return function(o){let{registry:n}=o;_e()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),n.dispatch(fe.store).set(e,t,!!r)}}function ke(e,t){return function(r){let{registry:o}=r;_e()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),o.dispatch(fe.store).setDefaults(e,t)}}const Se=(0,h.createRegistrySelector)((e=>(t,r)=>e(fe.store).get(r,"complementaryArea"))),Ce=(0,h.createRegistrySelector)((e=>(t,r,o)=>{var n;const a=e(fe.store).get(r,"pinnedItems");return null===(n=null==a?void 0:a[o])||void 0===n||n})),Pe=(0,h.createRegistrySelector)((e=>(t,r,o)=>(_e()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(fe.store).get(r,o)))),xe=(0,h.createReduxStore)("core/interface",{reducer:()=>{},actions:e,selectors:t});(0,h.register)(xe);const Ie=window.wc.navigation,Ne=(e,t)=>Boolean(e)&&e!==t?e:t===T?(0,w.__)("Add new product","woocommerce"):t;function Te(e){let{productId:t,productName:r}=e;const{isProductLocked:o,isSaving:a,editedProductName:c}=(0,h.useSelect)((e=>{const{isSavingEntityRecord:r,getEditedEntityRecord:o}=e("core"),{isPostSavingLocked:n}=e("core/editor"),a=o("postType","product",t);return{isProductLocked:n(),isSaving:r("postType","product",t),editedProductName:null==a?void 0:a.name}}),[t]),i=o||a,s=r===T,{saveEditedEntityRecord:d}=(0,h.useDispatch)("core");return(0,n.createElement)("div",{className:"woocommerce-product-header",role:"region","aria-label":(0,w.__)("Product Editor top bar.","woocommerce"),tabIndex:-1},(0,n.createElement)("h1",{className:"woocommerce-product-header__title"},Ne(c,r)),(0,n.createElement)("div",{className:"woocommerce-product-header__actions"},(0,n.createElement)(l.Button,{onClick:function(){d("postType","product",t).then((e=>{s&&(0,Ie.navigateTo)({url:(0,Ie.getNewPath)({},`/product/${e.id}`)})}))},variant:"primary",isBusy:a,disabled:i},s?(0,w.__)("Add","woocommerce"):(0,w.__)("Save","woocommerce"))))}const Fe=window.wp.mediaUtils,Oe=window.wp.blockEditor,De="woocommerce_product_tabs";function Re(e){let{onChange:t=(()=>{})}=e;const[r,o]=(0,n.useState)(null),a=(0,Ie.getQuery)();return(0,n.useEffect)((()=>{t(r)}),[r]),(0,n.useEffect)((()=>{a.tab&&o(a.tab)}),[a.tab]),(0,n.createElement)(l.NavigableMenu,{role:"tablist",onNavigate:function(e,t){t.click()},className:"woocommerce-product-tabs",orientation:"horizontal"},(0,n.createElement)(l.Slot,{fillProps:{onClick:function(e){window.document.documentElement.scrollTop=0,(0,Ie.navigateTo)({url:(0,Ie.getNewPath)({tab:e})})}},name:De},(e=>(function(e){var t;if(!r)for(let r=0;r<e.length;r++){if(e[r][0].props.disabled)continue;const n=(null===(t=e[r][0].key)||void 0===t?void 0:t.toString().slice(2))||null;return void o(n)}}(e),(0,n.createElement)(n.Fragment,null,e)))))}function Ae(e){let{settings:t,product:r}=e;const[o,a]=(0,n.useState)(null),c=(0,h.useSelect)((e=>{const{canUser:t}=e("core");return!1!==t("create","media","")}),[]),l=(0,n.useMemo)((()=>c?{...t,mediaUpload(e){let{onError:r,...o}=e;(0,Fe.uploadMedia)({wpAllowedMimeTypes:(null==t?void 0:t.allowedMimeTypes)||void 0,onError:e=>{let{message:t}=e;return r(t)},...o})}}:t),[c,t]),[i,s,d]=(0,se.useEntityBlockEditor)("postType","product",{id:r.id});return(0,n.useLayoutEffect)((()=>{d((0,ce.synchronizeBlocksWithTemplate)([],null==t?void 0:t.template),{})}),[]),i?(0,n.createElement)("div",{className:"woocommerce-product-block-editor"},(0,n.createElement)(Oe.BlockContextProvider,{value:{selectedTab:o}},(0,n.createElement)(Oe.BlockEditorProvider,{value:i,onInput:s,onChange:d,settings:l},(0,n.createElement)(Re,{onChange:a}),(0,n.createElement)("div",{className:"editor-styles-wrapper"},(0,n.createElement)(Oe.BlockEditorKeyboardShortcuts.Register,null),(0,n.createElement)(Oe.BlockTools,null,(0,n.createElement)(Oe.WritingFlow,null,(0,n.createElement)(Oe.ObserveTyping,null,(0,n.createElement)(Oe.BlockList,{className:"woocommerce-product-block-editor__block-list"})))))))):null}const Me=window.wp.blockLibrary,Le=e=>{if(!e)return;const{metadata:t,settings:r,name:o}=e;return(0,ce.registerBlockType)({name:o,...t},r)},Be=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-name","title":"Product name","category":"widgets","description":"The product name.","keywords":["products","name","title"],"textdomain":"default","attributes":{"name":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false}}'),{name:Ve}=Be,$e={example:{},edit:function(){const e=(0,Oe.useBlockProps)(),[t,r]=(0,se.useEntityProp)("postType","product","name");return(0,n.createElement)("div",{...e},(0,n.createElement)(a.TextControl,{label:v({mixedString:(0,w.__)("Name {{required/}}","woocommerce"),components:{required:(0,n.createElement)("span",{className:"woocommerce-product-form__optional-input"},(0,w.__)("(required)","woocommerce"))}}),name:"woocommerce-product-name",placeholder:(0,w.__)("e.g. 12 oz Coffee Mug","woocommerce"),onChange:r,value:t||""}))}};function Ue(e){if(!e)return;const{metadata:t,settings:r,name:o}=e;return(0,ce.registerBlockType)({name:o,...t},r)}const je=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-section","title":"Product section","category":"woocommerce","description":"The product section.","keywords":["products","section","group"],"textdomain":"default","attributes":{"title":{"type":"string"},"description":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false}}'),{name:We}=je,ze={example:{},edit:function(e){let{attributes:t}=e;const r=(0,Oe.useBlockProps)(),{description:o,title:a}=t;return(0,n.createElement)("div",{...r},(0,n.createElement)("h2",{className:"wp-block-woocommerce-product-section__title"},a),(0,n.createElement)("p",{className:"wp-block-woocommerce-product-section__description"},o),(0,n.createElement)(Oe.InnerBlocks,{templateLock:"all"}))}},qe=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-tab","title":"Product tab","category":"woocommerce","description":"The product tab.","keywords":["products","tab","group"],"textdomain":"default","attributes":{"id":{"type":"string"},"title":{"type":"string"}},"supports":{"align":false,"html":false,"multiple":true,"reusable":false,"inserter":false,"lock":false},"usesContext":["selectedTab"]}');function Ge(e){let{children:t,className:r,id:o,selected:a=!1}=e;const c=z()("wp-block-woocommerce-product-tab__button",r,{"is-selected":a});return(0,n.createElement)(l.Fill,{name:De},(e=>{const{onClick:r}=e;return(0,n.createElement)(l.Button,{key:o,className:c,onClick:()=>r(o),id:`woocommerce-product-tab__${o}`,"aria-controls":`woocommerce-product-tab__${o}-content`,"aria-selected":a},t)}))}const{name:Ke}=qe,He={example:{},edit:function(e){let{attributes:t,context:r}=e;const o=(0,Oe.useBlockProps)(),{id:a,title:c}=t,l=(null==r?void 0:r.selectedTab)===a,i=z()("wp-block-woocommerce-product-tab__content",{"is-selected":l});return(0,n.createElement)("div",{...o},(0,n.createElement)(Ge,{id:a,selected:l},c),(0,n.createElement)("div",{id:`woocommerce-product-tab__${a}-content`,"aria-labelledby":`woocommerce-product-tab__${a}`,role:"tabpanel",className:i},(0,n.createElement)(Oe.InnerBlocks,{templateLock:"all"})))}},Xe=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce/product-pricing","description":"A product price block with currency display.","title":"Product pricing","category":"widgets","keywords":["products","price"],"textdomain":"default","attributes":{"name":{"type":"string"},"label":{"type":"string"},"showPricingSection":{"type":"boolean"}},"supports":{"align":false,"html":false,"multiple":false,"reusable":false,"inserter":false,"lock":false}}'),Je=window.wc.wcSettings,Qe=(e,t,r)=>{const{decimalSeparator:o,thousandSeparator:n}=t,a=new RegExp("[^-0-9%s1%s2]".replace("%s1",o).replace("%s2",n),"g");return void 0===e?e:r(e).replace(a,"")},Ye=e=>{let{value:t,setValue:r,onFocus:o,onKeyUp:a}=e;const{sanitizePrice:c}=D(),l=(0,n.useContext)(I.CurrencyContext),{getCurrencyConfig:i}=l;return{prefix:i().symbol,className:"half-width-field components-currency-control",sanitize:e=>c(String(e)),onFocus(e){setTimeout((function(e){e.select()}),0,e.currentTarget),o&&o(e)},onKeyUp(e){const o=Number.parseFloat(c(t||"0")),n=Number(e.currentTarget.step||"1");"ArrowUp"===e.code&&r(String(o+n)),"ArrowDown"===e.code&&r(String(o-n)),a&&a(e)}}},{name:Ze}=Xe,et={example:{},edit:function(e){let{attributes:t}=e;const r=(0,Oe.useBlockProps)(),{name:o,label:c,showPricingSection:i=!1}=t,[s,d]=(0,se.useEntityProp)("postType","product",o),m=(0,n.useContext)(I.CurrencyContext),{getCurrencyConfig:u,formatAmount:p}=m,g=u(),_=Ye({value:s,setValue:d}),f=i?v({mixedString:(0,w.__)("Manage more settings in {{link}}Pricing.{{/link}}","woocommerce"),components:{link:(0,n.createElement)(a.Link,{href:`${(0,Je.getSetting)("adminUrl")}admin.php?page=wc-settings&tab=tax`,target:"_blank",type:"external",onClick:()=>{(0,P.recordEvent)("product_pricing_list_price_help_tax_settings_click")}},(0,n.createElement)(n.Fragment,null))}}):null;return(0,n.createElement)("div",{...r},(0,n.createElement)(l.BaseControl,{id:"product_pricing_"+o,help:f||""},(0,n.createElement)(l.__experimentalInputControl,{name:o,onChange:d,label:c||(0,w.__)("Price","woocommerce"),value:Qe(String(s),g,p),..._})))}};function tt(e){let{product:t,settings:r}=e;return(0,n.createElement)(n.StrictMode,null,(0,n.createElement)(se.EntityProvider,{kind:"postType",type:"product",id:t.id},(0,n.createElement)(de.ShortcutProvider,null,(0,n.createElement)(me,{isActive:!1}),(0,n.createElement)(l.SlotFillProvider,null,(0,n.createElement)(pe,{header:(0,n.createElement)(Te,{productId:t.id,productName:t.name}),content:(0,n.createElement)(Ae,{settings:r,product:t})})))))}(0,Me.registerCoreBlocks)(),Le({name:Ve,metadata:Be,settings:$e}),Ue({name:We,metadata:je,settings:ze}),Ue({name:Ke,metadata:qe,settings:He}),Le({name:Ze,metadata:Xe,settings:et});const rt=e=>{const{symbol:t,symbolPosition:r}=e;return{[r.includes("left")?"prefix":"suffix"]:t}};var ot;!function(e){e.unsaved="unsaved",e.draft="draft",e.instock="instock",e.outofstock="outofstock"}(ot||(ot={}));const nt={[ot.unsaved]:(0,w.__)("Unsaved","woocommerce"),[ot.draft]:(0,w.__)("Draft","woocommerce"),[ot.instock]:(0,w.__)("In stock","woocommerce"),[ot.outofstock]:(0,w.__)("Out of stock","woocommerce")},at=e=>e?"draft"===e.status?ot.draft:"instock"===e.stock_status?ot.instock:ot.outofstock:ot.unsaved;var ct,lt;!function(e){e.instock="instock",e.onbackorder="onbackorder",e.outofstock="outofstock"}(ct||(ct={})),function(e){e.instock="green",e.onbackorder="yellow",e.outofstock="red"}(lt||(lt={}));const it={[ct.instock]:(0,w.__)("In stock","woocommerce"),[ct.onbackorder]:(0,w.__)("On backorder","woocommerce"),[ct.outofstock]:(0,w.__)("Out of stock","woocommerce")},st=e=>e.manage_stock?e.stock_quantity||0:e.stock_status?it[e.stock_status]:it.instock,dt=e=>{if(e.manage_stock){const t=e.stock_quantity||0;return t>=10?lt.instock:t<10&&t>2?lt.onbackorder:lt.outofstock}return e.stock_status?lt[e.stock_status]:""},mt=(e,t,r)=>(null==e?void 0:e.length)?e:r&&r!==T?r:"simple"===t?(0,w.__)("New standard product","woocommerce"):(0,w.__)("New product","woocommerce"),ut=e=>{var t;return(null===(t=null==e?void 0:e.attributes)||void 0===t?void 0:t.length)?e.attributes.map((e=>e.option)).join(", "):"#"+e.id},pt=e=>{const t=ut(e);return t.length>32?t.substring(0,32)+"â€¦":t},gt=(e,t)=>{const r=new URLSearchParams(e.search),o=new URLSearchParams(t.search);return r.delete("tab"),o.delete("tab"),r.toString()!==o.toString()};function _t(e){return`${e.id}:${e.menu_order}`}function ft(e){let{key:t}=e;return"string"==typeof t?Number.parseInt(t.split(":")[1],10):Number.MAX_SAFE_INTEGER}function ht(e,t,r){let{variationsOrder:o}=r;if(!o||!o[t])return e;const n=o[t];return[...e].sort(((e,t)=>n[e.id]&&n[t.id]?n[e.id]-n[t.id]:0))}const wt=e=>{let{variations:t,currentPage:r}=e;const{setValue:o,values:n}=(0,a.useFormContext)();return{sortedVariations:ht(t,r,n),getVariationKey:_t,onOrderChange:function(e){const t=Math.min(...e.map(ft));o("variationsOrder",{...n.variationsOrder,[r]:e.reduce(((e,r,o)=>({...e,[function(e){let{key:t}=e;return"string"==typeof t?Number.parseInt(t.split(":")[0],10):0}(r)]:t+o})),{})})}}}})(),(window.wc=window.wc||{}).productEditor=o})();