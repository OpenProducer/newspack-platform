(()=>{"use strict";var e={};(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})(e);const t=window.wc.tracks;function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r>6||setTimeout((()=>{document.querySelector(e)?t():c(e,t,++r)}),500)}productScreen&&"list"===productScreen.name&&(()=>{const e=document.querySelectorAll(".row-actions span"),c=document.querySelector("#bulk-action-selector-top"),r=document.querySelector("#doaction"),o=document.querySelector("#bulk-edit .cancel"),n=document.querySelector("#bulk_edit"),d=document.querySelectorAll("#the-list .featured a"),u=document.querySelector("#post-query-submit"),l=document.querySelector("#product_cat"),a=document.querySelector("#dropdown_product_type"),i=document.querySelector("#search-submit"),s=document.querySelector("#post-search-input"),_=document.querySelectorAll(".wp-list-table.posts thead .sortable a, .wp-list-table.posts thead .sorted a"),m=document.querySelector('[name="stock_status"]'),p=e=>{const t=document.querySelector(e);return!!t&&""!==t.value&&"-1"!==t.value};u?.addEventListener("click",(function(){(0,t.recordEvent)("products_list_filter_click",{search_string_length:s?.value.length,filter_category:""!==l.value,filter_product_type:a.value,filter_stock_status:m.value})})),r?.addEventListener("click",(function(){const e=document.querySelectorAll('[name="post[]"]:checked').length;(0,t.recordEvent)("products_list_bulk_actions_click",{selected_action:c.value,product_number:e})})),n?.addEventListener("click",(function(){(0,t.recordEvent)("products_list_bulk_edit_update",{product_number:document.querySelector("#bulk-titles")?.children.length,product_categories:document.querySelectorAll('[name="tax_input[product_cat][]"]:checked')?.length>0,comments:p('[name="comment_status"]'),status:p('[name="_status"]'),product_tags:p('[name="tax_input[product_tag]"]'),price:p('[name="change_regular_price"]'),sale:p('[name="change_sale_price"]'),tax_status:p('[name="_tax_status"]'),tax_class:p('[name="_tax_class"]'),weight:p('[name="change_weight"]'),dimensions:p('[name="change_dimensions"]'),shipping_class:p('[name="_shipping_class"]'),visibility:p('[name="_visibility"]'),featured:p('[name="_featured"]'),stock_status:p('[name="_stock_status"]'),manage_stock:p('[name="_manage_stock"]'),stock_quantity:p('[name="change_stock"]'),backorders:p('[name="_backorders"]'),sold_individually:p('[name="_sold_individually"]')})})),o?.addEventListener("click",(function(){(0,t.recordEvent)("products_list_bulk_edit_cancel")})),e.forEach((e=>{e.addEventListener("click",(function(e){const c=e.target?.parentElement?.classList[0],r={edit:"edit",inline:"quick_edit",trash:"trash",view:"preview",duplicate:"duplicate"};c&&r[c]&&(0,t.recordEvent)("products_list_product_action_click",{selected_action:r[c]})}))})),d.forEach((e=>{e.addEventListener("click",(function(e){const c=e.target.classList.contains("not-featured");(0,t.recordEvent)("products_list_featured_click",{featured:c?"yes":"no"})}))})),i?.addEventListener("click",(function(){(0,t.recordEvent)("products_search",{search_string_length:s.value.length,filter_category:""!==l.value,filter_product_type:a.value,filter_stock_status:m.value})})),_.forEach((e=>{e.addEventListener("click",(function(e){const c=e.target.closest("th");if(!c)return;const r=c.classList.contains("asc");(0,t.recordEvent)("products_list_column_header_click",{field_slug:c.id,order:r?"desc":"asc"})}))}))})();const r=()=>({product_id:document.querySelector("#post_ID")?.value,product_type:document.querySelector("#product-type")?.value,is_downloadable:document.querySelector("#_downloadable")?.value,is_virtual:document.querySelector("#_virtual")?.value,manage_stock:document.querySelector("#_manage_stock")?.value}),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.querySelector(`#${e}mm`)?.value,c=document.querySelector(`#${e}jj`)?.value,r=document.querySelector(`#${e}aa`)?.value,o=document.querySelector(`#${e}hh`)?.value,n=document.querySelector(`#${e}mn`)?.value;return`${t}-${c}-${r} ${o}:${n}`},n=()=>({status:document.querySelector("#post_status")?.value,visibility:document.querySelector('input[name="visibility"]:checked')?.value,date:o()!==o("hidden_")?"yes":"no",catalog_visibility:document.querySelector('input[name="_visibility"]:checked')?.value,featured:document.querySelector("#_featured")?.checked}),d=(e,t)=>Object.fromEntries(Object.entries(e).map((e=>{let[c,r]=e;return[`${t}${c}`,r]}))),u=()=>{const e=n();function o(e){(0,t.recordEvent)("product_tags_delete",{page:"product",tag_list_size:document.querySelector(".tagchecklist")?.children.length||0})}function u(){document.querySelectorAll("#product_tag .ntdelbutton").forEach((e=>{e.removeEventListener("click",o),e.addEventListener("click",o)}))}function l(e){(0,t.recordEvent)("product_tags_add",{page:"product",tag_string_length:e.target.textContent?.length,tag_list_size:document.querySelector(".tagchecklist")?.children.length||0,most_used:!0}),u()}function a(){document.querySelectorAll("#tagcloud-product_tag .tag-cloud-link").forEach((e=>{e.removeEventListener("click",l),e.addEventListener("click",l)}))}function i(){(0,t.recordEvent)("product_attributes_add_term",{page:"product"})}function s(){document.querySelectorAll(".woocommerce_attribute .add_new_attribute").forEach((e=>{e.removeEventListener("click",i),e.addEventListener("click",i)}))}document.querySelector("#post-preview")?.addEventListener("click",(()=>{(0,t.recordEvent)("product_preview_changes")})),document.querySelector(".submitduplicate")?.addEventListener("click",(()=>{(0,t.recordEvent)("product_copy",r())})),document.querySelector(".submitdelete")?.addEventListener("click",(()=>{(0,t.recordEvent)("product_delete",r())})),document.querySelectorAll(".edit-post-status, .edit-visibility, .edit-timestamp, .edit-catalog-visibility").forEach((e=>{e.addEventListener("click",(()=>{(0,t.recordEvent)("product_publish_widget_edit",{...n(),...r()})}))})),document.querySelectorAll(".save-post-status, .save-post-visibility, .save-timestamp, .save-post-visibility").forEach((c=>{c.addEventListener("click",(()=>{(0,t.recordEvent)("product_publish_widget_save",{...d(n(),"new_"),...d(e,"current_"),...r()})}))})),document.querySelectorAll(".handle-order-lower, .handle-order-higher").forEach((e=>{e.addEventListener("click",(e=>{const c=e.target.closest(".postbox");c&&(0,t.recordEvent)("product_widget_order_change",{widget:c.id})}))})),document.querySelector("#show-settings-link")?.addEventListener("click",(()=>{(0,t.recordEvent)("product_screen_options_open")})),document.querySelectorAll("#adv-settings .metabox-prefs input[type=checkbox]").forEach((e=>{e.addEventListener("change",(()=>{(0,t.recordEvent)("product_screen_elements",{selected_element:e.value,checkbox:e.checked})}))})),document.querySelectorAll('input[name="screen_columns"]').forEach((e=>{e.addEventListener("change",(()=>{(0,t.recordEvent)("product_layout",{selected_layout:e.value})}))})),document.querySelector("#editor-expand-toggle")?.addEventListener("change",(e=>{(0,t.recordEvent)("product_additional_settings",{checkbox:e.target.checked})})),c("#product_tag .tagchecklist",u),document.querySelector(".tagadd")?.addEventListener("click",(e=>{const c=document.querySelector("#new-tag-product_tag");c&&c.value&&c.value.length>0&&((0,t.recordEvent)("product_tags_add",{page:"product",tag_string_length:c.value.length,tag_list_size:(document.querySelector(".tagchecklist")?.children.length||0)+1,most_used:!1}),setTimeout((()=>{u()}),500))})),document.querySelector(".tagcloud-link")?.addEventListener("click",(()=>{c("#tagcloud-product_tag",a)})),s(),document.querySelector(".add_attribute")?.addEventListener("click",(()=>{setTimeout((()=>{s()}),1e3)}));const _=document.querySelectorAll(".woocommerce_attribute").length;document.querySelector(".save_attributes")?.addEventListener("click",(()=>{document.querySelectorAll(".woocommerce_attribute").length>_&&(0,t.recordEvent)("product_attributes_add",{page:"product",enable_archive:"",default_sort_order:""})}))};productScreen&&"edit"===productScreen.name&&((0,t.recordEvent)("product_edit_view"),u()),productScreen&&"new"===productScreen.name&&((0,t.recordEvent)("product_add_view"),u()),(window.wc=window.wc||{}).productTracking=e})();