"use strict";(globalThis.webpackChunk_wcAdmin_webpackJsonp=globalThis.webpackChunk_wcAdmin_webpackJsonp||[]).push([[3118],{10314:(e,t,o)=>{o.d(t,{Z:()=>a});var c=o(69307),r=o(70444);const a=(0,c.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,c.createElement)(r.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}))},75244:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var c=o(69307),r=o(14599),a=o(86020),l=o(55429),n=o(82405),s=o(68601);const d=()=>((0,c.useEffect)((()=>{(0,r.recordEvent)("view_new_product_management_experience")}),[]),(0,c.createElement)("div",{className:"woocommerce-add-product"},(0,c.createElement)(a.Form,{initialValues:{},errors:{}},(0,c.createElement)(l.a,null,(0,c.createElement)(s.o,null),(0,c.createElement)(n.p,null)))))},55429:(e,t,o)=>{o.d(t,{a:()=>r});var c=o(69307);const r=e=>{let{children:t}=e;return(0,c.createElement)("div",{className:"product-form-layout"},t)}},82405:(e,t,o)=>{o.d(t,{p:()=>w});var c=o(69307),r=o(65736),a=o(55609),l=o(62907),n=o(86158),s=o(10314),d=o(86020),u=o(14599),i=o(9818),m=o(67221),p=o(10431);function _(e){return m.productReadOnlyProperties.forEach((t=>delete e[t])),e}function h(e,t){return"publish"===e&&t?[{label:(0,r.__)("View in store","woocommerce"),onClick:()=>{(0,u.recordEvent)("product_preview_changes",{new_product_page:!0}),window.open(t,"_blank")}}]:[]}const w=()=>{const{createProductWithStatus:e,updateProductWithStatus:t,deleteProductAndRedirect:o,copyProductWithStatus:w,isUpdatingDraft:b,isUpdatingPublished:g,isDeleting:f}=function(){const{createProduct:e,updateProduct:t,deleteProduct:o}=(0,i.useDispatch)(m.PRODUCTS_STORE_NAME),{createNotice:a}=(0,i.useDispatch)("core/notices"),[l,n]=(0,c.useState)(!1),[s,d]=(0,c.useState)({draft:!1,publish:!1}),u=(0,c.useCallback)((async function(t,o){let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];d({...s,[o]:!0}),e({...t,status:o}).then((e=>{c||a("success","publish"===e.status?(0,r.__)("ðŸŽ‰ Product published. View in store","woocommerce"):(0,r.__)("ðŸŽ‰ Product successfully created.","woocommerce"),{actions:h(e.status,e.permalink)}),d({...s,[o]:!1}),l||(0,p.navigateTo)({url:"admin.php?page=wc-admin&path=/product/"+e.id})}),(()=>{a("error","publish"===o?(0,r.__)("Failed to publish product.","woocommerce"):(0,r.__)("Failed to create product.","woocommerce")),d({...s,[o]:!1})}))}),[s]),w=(0,c.useCallback)((async function(e,o){let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d({...s,[o]:!0}),t(e.id,{...e,status:o}).then((t=>(c||a("success","draft"===e.status&&"publish"===t.status?(0,r.__)("ðŸŽ‰ Product published. View in store.","woocommerce"):(0,r.__)("ðŸŽ‰ Product successfully updated.","woocommerce"),{actions:h(t.status,t.permalink)}),d({...s,[o]:!1}),t)),(e=>(a("error",(0,r.__)("Failed to update product.","woocommerce")),d({...s,[o]:!1}),e)))}),[s]),b=(0,c.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"draft";return u(_({...e,name:(e.name||"AUTO-DRAFT")+" - Copy"}),t)}),[]),g=(0,c.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"edit.php?post_type=product";return n(!0),o(e).then((()=>{a("success",(0,r.__)("ðŸŽ‰ Successfully moved product to Trash.","woocommerce")),(0,p.navigateTo)({url:t}),n(!1)}))}),[]);return{createProductWithStatus:u,updateProductWithStatus:w,copyProductWithStatus:b,deleteProductAndRedirect:g,isUpdatingDraft:s.draft,isUpdatingPublished:s.publish,isDeleting:l}}(),{isDirty:E,values:v,resetForm:y}=(0,d.useFormContext)(),k=()=>({product_id:v.id,product_type:v.type,is_downloadable:v.downloadable,is_virtual:v.virtual,manage_stock:v.manage_stock}),C=async()=>{(0,u.recordEvent)("product_publish_and_copy",{new_product_page:!0,...k()}),v.id?await t(v,"publish"):await e(v,"publish",!1,!0),await w(v)},P=async()=>{(0,u.recordEvent)("product_copy",{new_product_page:!0,...k()}),v.id&&await t(v,v.status||"draft"),await w(v)},N=()=>{(0,u.recordEvent)("product_delete",{new_product_page:!0,...k()}),v.id&&o(v.id)},S=v.id&&"publish"===v.status;return(0,c.createElement)("div",{className:"woocommerce-product-form-actions"},(0,c.createElement)(a.Button,{onClick:async()=>{if((0,u.recordEvent)("product_edit",{new_product_page:!0,...k()}),v.id){const e=await t(v,"draft");e&&e.id&&y(e)}else e(v,"draft")},disabled:!E&&!!v.id&&"publish"!==v.status||b||g||f},!E&&v.id&&"publish"!==v.status&&(0,c.createElement)(l.Z,{icon:n.Z}),b?(0,r.__)("Saving","woocommerce"):null,!E&&v.id||b||"publish"===v.status?null:(0,r.__)("Save draft","woocommerce"),"publish"!==v.status||b?null:(0,r.__)("Switch to draft","woocommerce"),E||!v.id||b||"publish"===v.status?null:(0,r.__)("Saved","woocommerce")),(0,c.createElement)(a.Button,{onClick:()=>(0,u.recordEvent)("product_preview_changes",{new_product_page:!0,...k()}),href:v.permalink+"?preview=true",disabled:!v.permalink,target:"_blank"},(0,r.__)("Preview","woocommerce")),(0,c.createElement)(a.ButtonGroup,{className:"woocommerce-product-form-actions__publish-button-group"},(0,c.createElement)(a.Button,{onClick:async()=>{if((0,u.recordEvent)("product_update",{new_product_page:!0,...k()}),v.id){const e=await t(v,"publish");e&&e.id&&y(e)}else e(v,"publish")},variant:"primary",isBusy:g,disabled:!E&&!!S||b||g||f},g?(0,r.__)("Updating","woocommerce"):null,S&&!g?(0,r.__)("Update","woocommerce"):null,S||g?null:(0,r.__)("Publish","woocommerce")),(0,c.createElement)(a.DropdownMenu,{className:"woocommerce-product-form-actions__publish-dropdown",label:(0,r.__)("Publish options","woocommerce"),icon:s.Z,popoverProps:{position:"bottom left"},toggleProps:{variant:"primary"}},(()=>(0,c.createElement)(c.Fragment,null,(0,c.createElement)(a.MenuGroup,null,(0,c.createElement)(a.MenuItem,{onClick:C},S?(0,r.__)("Update & duplicate","woocommerce"):(0,r.__)("Publish & duplicate","woocommerce")),(0,c.createElement)(a.MenuItem,{onClick:P},(0,r.__)("Copy to a new draft","woocommerce")),(0,c.createElement)(a.MenuItem,{onClick:N,isDestructive:!0,disabled:!v.id},(0,r.__)("Move to trash","woocommerce"))))))))}},68601:(e,t,o)=>{o.d(t,{o:()=>w});var c=o(5267),r=o(69307),a=o(55609),l=o(65736),n=o(86020),s=o(83849),d=o.n(s),u=o(14599),i=(o(99196),o(92819)),m=o(70481);const p=e=>{let{children:t,fieldName:o,categoryName:c,location:l,order:n=1}=e;const s=(0,i.snakeCase)(c),d=(0,i.snakeCase)(o);return(0,r.createElement)(a.Fill,{name:`woocommerce_product_${s}_${d}_${l}`},(e=>(0,m.uh)(t,n,e)))};p.Slot=e=>{let{fillProps:t,fieldName:o,categoryName:c,location:l}=e;const n=(0,i.snakeCase)(c),s=(0,i.snakeCase)(o);return(0,r.createElement)(a.Slot,{name:`woocommerce_product_${n}_${s}_${l}`,fillProps:t},m.qk)};const _=e=>{let{fieldName:t,categoryName:o,children:c}=e;return(0,r.createElement)("div",{className:"product-field-layout"},(0,r.createElement)(p.Slot,{fieldName:t,categoryName:o,location:"before"}),c,(0,r.createElement)(p.Slot,{fieldName:t,categoryName:o,location:"after"}))},h=e=>{let{title:t,description:o,children:c}=e;return(0,r.createElement)("div",{className:"product-form-layout__category product-category-layout"},(0,r.createElement)("div",{className:"product-category-layout__header"},(0,r.createElement)("h3",{className:"product-category-layout__title"},t),(0,r.createElement)("div",null,(0,r.createElement)("p",null,o))),(0,r.createElement)("div",{className:"product-category-layout__fields"},r.Children.map(c,(e=>(0,r.isValidElement)(e)&&e.props.name?(0,r.createElement)(_,{fieldName:e.props.name,categoryName:t},e):e))))},w=()=>{const{getInputProps:e}=(0,n.useFormContext)();return(0,r.createElement)(h,{title:(0,l.__)("Product details","woocommerce"),description:(0,l.__)("This info will be displayed on the product page, category pages, social media, and search results.","woocommerce")},(0,r.createElement)(a.TextControl,(0,c.Z)({label:(0,l.__)("Name","woocommerce"),name:"product-details-name",placeholder:(0,l.__)("e.g. 12 oz Coffee Mug","woocommerce")},(t=>{const{className:o,onBlur:c,onChange:r,value:a=""}=e("name");return{value:a,className:d()("woocommerce-add-product__checkbox",o),onChange:r,onBlur:c}})())),(0,r.createElement)(a.CheckboxControl,(0,c.Z)({label:(0,r.createElement)(n.EnrichedLabel,{label:(0,l.__)("Feature this product","woocommerce"),helpDescription:(0,l.__)("Include this product in a featured section on your website with a widget or shortcode.","woocommerce"),moreUrl:"https://woocommerce.com/document/woocommerce-shortcodes/#products",tooltipLinkCallback:()=>(0,u.recordEvent)("add_product_learn_more",{category:"product-details"})})},(t=>{const{checked:o,className:c,onChange:r,onBlur:a}=e(t);return{checked:o,className:d()("woocommerce-add-product__checkbox",c),onChange:e=>((0,u.recordEvent)(`add_product_checkbox_${t}`,{checked:e}),r(e)),onBlur:a}})("featured"))))}}}]);