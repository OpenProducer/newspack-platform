"use strict";(self.webpackChunk_wcAdmin_webpackJsonp=self.webpackChunk_wcAdmin_webpackJsonp||[]).push([[3628],{49472:function(e,t,o){var n=o(69307),r=o(98817),a=o(9818),l=o(67221),i=o(86020),c=o(51393);const m=e=>{let{fields:t}=e;const{getInputProps:o}=(0,i.useFormContext)();return(0,n.createElement)(n.Fragment,null,t.map((e=>(0,n.createElement)(c.__experimentalWooProductFieldItem,{key:e.properties.name,id:e.id,sections:[{name:e.section,order:e.order}],pluginId:e.plugin_id},(0,n.createElement)(n.Fragment,null,(0,i.renderField)(e.type,{...o(e.properties.name),...e.properties})))))," ")},s=e=>{let{sections:t}=e;return(0,n.createElement)(n.Fragment,null,t.map((e=>(0,n.createElement)(c.__experimentalWooProductSectionItem,{key:e.id,id:e.id,tabs:[{name:e.location,order:e.order}],pluginId:e.plugin_id},(0,n.createElement)(c.__experimentalProductFieldSection,{id:e.id,title:e.title,description:e.description})))))};(0,i.registerCoreProductFields)();const d=()=>{const{formData:e}=(0,a.useSelect)((e=>({formData:e(l.EXPERIMENTAL_PRODUCT_FORM_STORE_NAME).getProductForm()})));return(0,n.createElement)(n.Fragment,null,e&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s,{sections:e.sections}),(0,n.createElement)(m,{fields:e.fields})))};(0,a.resolveSelect)(l.EXPERIMENTAL_PRODUCT_FORM_STORE_NAME).getProductForm(),(0,r.registerPlugin)("wc-admin-product-editor-api-form-fills",{scope:"woocommerce-product-editor",render:()=>(0,n.createElement)(d,null)});var u=o(65736);const _="tab/general",p="tab/pricing",g="tab/inventory",E="tab/shipping",b="variant/tab/pricing",I="variant/tab/inventory",h="variant/tab/shipping",w="tab/general/images",N="tab/general/attributes",v="woocommerce",C=()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.__experimentalWooProductSectionItem,{id:c.DETAILS_SECTION_ID,tabs:[{name:c.TAB_GENERAL_ID,order:1}],pluginId:v},(0,n.createElement)(c.__experimentalProductFieldSection,{id:c.DETAILS_SECTION_ID,title:(0,u.__)("Product details","woocommerce"),description:(0,u.__)("This info will be displayed on the product page, category pages, social media, and search results.","woocommerce")})),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"name",sections:[{name:c.DETAILS_SECTION_ID,order:1}],pluginId:v},(0,n.createElement)(c.__experimentalDetailsNameField,null)),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"categories",sections:[{name:c.DETAILS_SECTION_ID,order:3}],pluginId:v},(0,n.createElement)(c.__experimentalDetailsCategoriesField,null)),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"feature",sections:[{name:c.DETAILS_SECTION_ID,order:5}],pluginId:v},(0,n.createElement)(c.__experimentalDetailsFeatureField,null)),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"summary",sections:[{name:c.DETAILS_SECTION_ID,order:7}],pluginId:v},(0,n.createElement)(c.__experimentalDetailsSummaryField,null)),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"description",sections:[{name:c.DETAILS_SECTION_ID,order:9}],pluginId:v},(0,n.createElement)(c.__experimentalDetailsDescriptionField,null)));var S=o(5267),x=o(78674),M=o(14599),y=o(55609);const T="__ADD_NEW_SHIPPING_CLASS_OPTION__";var k=o(79205);function P(e){var t;let{onAdd:o,onCancel:r}=e;const{errors:a,getInputProps:l,isValidForm:c}=(0,i.useFormContext)(),[m,s]=(0,n.useState)(!1);return(0,n.createElement)("div",{className:"woocommerce-add-new-shipping-class-modal__wrapper"},(0,n.createElement)(y.TextControl,(0,S.Z)({},l("name"),{placeholder:(0,u.__)("e.g. Fragile products","woocommerce"),label:(0,x.Z)({mixedString:(0,u.__)("Name {{required/}}","woocommerce"),components:{required:(0,n.createElement)("span",{className:"woocommerce-add-new-shipping-class-modal__optional-input"},(0,u.__)("(required)","woocommerce"))}})})),(0,n.createElement)(y.TextControl,(0,S.Z)({},l("slug"),{label:(0,u.__)("Slug","woocommerce")})),(0,n.createElement)(y.TextControl,(0,S.Z)({},l("description"),{label:(0,u.__)("Description","woocommerce"),help:null!==(t=null==a?void 0:a.description)&&void 0!==t?t:(0,u.__)("Describe how you and other store administrators can use this shipping class.","woocommerce")})),(0,n.createElement)("div",{className:"woocommerce-add-new-shipping-class-modal__buttons"},(0,n.createElement)(y.Button,{isSecondary:!0,onClick:r},(0,u.__)("Cancel","woocommerce")),(0,n.createElement)(y.Button,{isPrimary:!0,isBusy:m,disabled:!c||m,onClick:function(){s(!0),o().then((()=>{s(!1),r()})).catch((()=>{s(!1)}))}},(0,u.__)("Add","woocommerce"))))}function f(e){var t;const o={};return null!==(t=e.name)&&void 0!==t&&t.length||(o.name=(0,u.__)("The shipping class name is required.","woocommerce")),o}const D={name:"",slug:"",description:""};function A(e){let{shippingClass:t,onAdd:o,onCancel:r}=e;return(0,n.createElement)(y.Modal,{title:(0,u.__)("New shipping class","woocommerce"),className:"woocommerce-add-new-shipping-class-modal",onRequestClose:r},(0,n.createElement)(i.Form,{initialValues:null!=t?t:D,validate:f,errors:{},onSubmit:o},(e=>(0,n.createElement)(P,{onAdd:e.handleSubmit,onCancel:r}))))}const L=[{value:"",label:(0,u.__)("No shipping class","woocommerce")},{value:T,label:(0,u.__)("Add new shipping class","woocommerce")}];function R(e){return e.map((e=>{let{slug:t,name:o}=e;return{value:t,label:o}}))}function j(e,t){var o;const n=null==e||null===(o=e.categories)||void 0===o?void 0:o.find((e=>{let{slug:t}=e;return"uncategorized"!==t}));if(n&&(null==t||!t.some((e=>{let{slug:t}=e;return t===n.slug}))))return{name:n.name,slug:n.slug}}const O=e=>{let{product:t}=e;const{getInputProps:o,getSelectControlProps:r,setValue:c}=(0,i.useFormContext)(),[m,s]=(0,n.useState)(!1),d=o("shipping_class"),{shippingClasses:_,hasResolvedShippingClasses:p}=(0,a.useSelect)((e=>{const{getProductShippingClasses:t,hasFinishedResolution:o}=e(l.EXPERIMENTAL_PRODUCT_SHIPPING_CLASSES_STORE_NAME);return{hasResolvedShippingClasses:o("getProductShippingClasses"),shippingClasses:t()}}),[]),{createProductShippingClass:g,invalidateResolution:E}=(0,a.useDispatch)(l.EXPERIMENTAL_PRODUCT_SHIPPING_CLASSES_STORE_NAME),{createErrorNotice:b}=(0,a.useDispatch)("core/notices");function I(e){let t=(0,u.__)("We couldn’t add this shipping class. Try again in a few seconds.","woocommerce");throw"term_exists"===e.code&&(t=(0,u.__)("A shipping class with that slug already exists.","woocommerce")),b(t,{explicitDismiss:!0}),e}return(0,n.createElement)(n.Fragment,null,p?(0,n.createElement)(n.Fragment,null,(0,n.createElement)(y.SelectControl,(0,S.Z)({label:(0,u.__)("Shipping class","woocommerce")},r("shipping_class",{className:"half-width-field"}),{onChange:e=>{e!==T?d.onChange(e):s(!0)},options:[...L,...R(null!=_?_:[])]})),(0,n.createElement)("span",{className:"woocommerce-product-form__secondary-text"},(0,x.Z)({mixedString:(0,u.__)("Manage shipping classes and rates in {{link}}global settings{{/link}}.","woocommerce"),components:{link:(0,n.createElement)(i.Link,{href:`${k.SX}admin.php?page=wc-settings&tab=shipping&section=classes`,target:"_blank",type:"external",onClick:()=>{(0,M.recordEvent)("product_shipping_global_settings_link_click")}},(0,n.createElement)(n.Fragment,null))}}))):(0,n.createElement)("div",{className:"product-shipping-section__spinner-wrapper"},(0,n.createElement)(i.Spinner,null)),m&&(0,n.createElement)(A,{shippingClass:j(t,_),onAdd:e=>g(e).then((e=>((0,M.recordEvent)("product_new_shipping_class_modal_add_button_click"),E("getProductShippingClasses"),c("shipping_class",e.slug),e))).catch(I),onCancel:()=>s(!1)}))},F=e=>(0,x.Z)({mixedString:e,components:{span:(0,n.createElement)("span",{className:"woocommerce-product-form__secondary-text"})}}),z=e=>{let{dimensionProps:t,setHighlightSide:o}=e;const{getInputProps:r}=(0,i.useFormContext)(),{formatNumber:a}=(0,c.__experimentalUseProductHelper)(),l=r("dimensions.width",t);return(0,n.createElement)(y.BaseControl,{id:"product_shipping_dimensions_width",className:l.className,help:l.help},(0,n.createElement)(y.__experimentalInputControl,(0,S.Z)({},l,{value:a(String(l.value)),label:F((0,u.__)("Width {{span}}A{{/span}}","woocommerce")),onFocus:()=>{o("A")}})))},U=e=>{let{dimensionProps:t,setHighlightSide:o}=e;const{getInputProps:r}=(0,i.useFormContext)(),{formatNumber:a}=(0,c.__experimentalUseProductHelper)(),l=r("dimensions.length",t);return(0,n.createElement)(y.BaseControl,{id:"product_shipping_dimensions_length",className:l.className,help:l.help},(0,n.createElement)(y.__experimentalInputControl,(0,S.Z)({},l,{value:a(String(l.value)),label:F((0,u.__)("Length {{span}}B{{/span}}","woocommerce")),onFocus:()=>{o("B")}})))},W=e=>{let{dimensionProps:t,setHighlightSide:o}=e;const{getInputProps:r}=(0,i.useFormContext)(),{formatNumber:a}=(0,c.__experimentalUseProductHelper)(),l=r("dimensions.height",t);return(0,n.createElement)(y.BaseControl,{id:"product_shipping_dimensions_height",className:l.className,help:l.help},(0,n.createElement)(y.__experimentalInputControl,(0,S.Z)({},l,{value:a(String(l.value)),label:F((0,u.__)("Height {{span}}C{{/span}}","woocommerce")),onFocus:()=>{o("C")}})))},H=()=>{const{getInputProps:e}=(0,i.useFormContext)(),{formatNumber:t,parseNumber:o}=(0,c.__experimentalUseProductHelper)(),{weightUnit:r,hasResolvedUnits:m}=(0,a.useSelect)((e=>{const{getOption:t,hasFinishedResolution:o}=e(l.OPTIONS_STORE_NAME);return{weightUnit:t("woocommerce_weight_unit"),hasResolvedUnits:o("getOption",["woocommerce_weight_unit"])}}),[]);if(!m)return null;const s=e("weight",{sanitize:e=>o(String(e))});return(0,n.createElement)(y.BaseControl,{id:"product_shipping_weight",className:s.className,help:s.help},(0,n.createElement)(y.__experimentalInputControl,(0,S.Z)({},s,{value:t(String(s.value)),label:(0,u.__)("Weight","woocommerce"),suffix:r})))},Z=e=>{let{basicSectionId:t,dimensionsSectionId:o,tabId:r}=e;const[i,m]=(0,n.useState)(),{parseNumber:s}=(0,c.__experimentalUseProductHelper)(),{dimensionUnit:d,hasResolvedUnits:_}=(0,a.useSelect)((e=>{const{getOption:t,hasFinishedResolution:o}=e(l.OPTIONS_STORE_NAME);return{dimensionUnit:t("woocommerce_dimension_unit"),weightUnit:t("woocommerce_weight_unit"),hasResolvedUnits:o("getOption",["woocommerce_dimension_unit"])&&o("getOption",["woocommerce_weight_unit"])}}),[]),p={onBlur:()=>{m(void 0)},sanitize:e=>s(String(e)),suffix:d};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.__experimentalWooProductSectionItem,{id:t,tabs:[{name:r,order:1}],pluginId:v},(0,n.createElement)(c.__experimentalProductSectionLayout,{title:(0,u.__)("Shipping","woocommerce"),description:(0,u.__)("Set up shipping costs and enter dimensions used for accurate rate calculations.","woocommerce")},(0,n.createElement)(y.Card,null,(0,n.createElement)(y.CardBody,{className:"product-shipping-section__classes"},(0,n.createElement)(c.__experimentalWooProductFieldItem.Slot,{section:t}))),(0,n.createElement)(y.Card,null,(0,n.createElement)(y.CardBody,{className:"product-shipping-section__dimensions"},(0,n.createElement)("h4",null,(0,u.__)("Dimensions","woocommerce")),(0,n.createElement)("p",{className:"woocommerce-product-form__secondary-text"},(0,u.__)("Enter the size of the product as you'd put it in a shipping box, including packaging like bubble wrap.","woocommerce")),(0,n.createElement)("div",{className:"product-shipping-section__dimensions-body"},(0,n.createElement)("div",{className:"product-shipping-section__dimensions-body-col"},_&&(0,n.createElement)(c.__experimentalWooProductFieldItem.Slot,{section:o,fillProps:{setHighlightSide:m,dimensionProps:p}})),(0,n.createElement)("div",{className:"product-shipping-section__dimensions-body-col"},(0,n.createElement)(c.__experimentalShippingDimensionsImage,{highlight:i,className:"product-shipping-section__dimensions-image"}))))))),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"class",sections:[{name:t,order:1}],pluginId:v},(e=>{let{product:t}=e;return(0,n.createElement)(O,{product:t})})),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"width",sections:[{name:o,order:1}],pluginId:v},(e=>{let{...t}=e;return(0,n.createElement)(z,t)})),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"length",sections:[{name:o,order:3}],pluginId:v},(e=>{let{...t}=e;return(0,n.createElement)(U,t)})),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"height",sections:[{name:o,order:5}],pluginId:v},(e=>{let{...t}=e;return(0,n.createElement)(W,t)})),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"weight",sections:[{name:o,order:7}],pluginId:v},(0,n.createElement)(H,null)))};var B=o(17844);const Y=e=>{var t;let{currencyInputProps:o}=e;const{getInputProps:r}=(0,i.useFormContext)(),m=(0,n.useContext)(B.CurrencyContext),{getCurrencyConfig:s,formatAmount:d}=m,_=s(),{isResolving:p,taxSettings:g}=(0,a.useSelect)((e=>{var t,o;const{getSettings:n,hasFinishedResolution:r}=e(l.SETTINGS_STORE_NAME);return{isResolving:!r("getSettings",["tax"]),taxSettings:n("tax").tax||{},taxesEnabled:"yes"===(null===(t=n("general"))||void 0===t||null===(o=t.general)||void 0===o?void 0:o.woocommerce_calc_taxes)}})),E=r("regular_price",o),b=(0,u.__)("Per your {{link}}store settings{{/link}}, tax is {{strong}}included{{/strong}} in the price.","woocommerce"),I=(0,u.__)("Per your {{link}}store settings{{/link}}, tax is {{strong}}not included{{/strong}} in the price.","woocommerce"),h="yes"===g.woocommerce_prices_include_tax,w=(0,x.Z)({mixedString:h?b:I,components:{link:(0,n.createElement)(i.Link,{href:`${k.SX}admin.php?page=wc-settings&tab=tax`,target:"_blank",type:"external",onClick:()=>{(0,M.recordEvent)("product_pricing_list_price_help_tax_settings_click")}},(0,n.createElement)(n.Fragment,null)),strong:(0,n.createElement)("strong",null)}});return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(y.BaseControl,{id:"product_pricing_regular_price",help:null!==(t=null==E?void 0:E.help)&&void 0!==t?t:""},(0,n.createElement)(y.__experimentalInputControl,(0,S.Z)({},E,{name:"regular_price",label:(0,u.__)("List price","woocommerce"),value:(0,c.formatCurrencyDisplayValue)(String(null==E?void 0:E.value),_,d)}))),!p&&(0,n.createElement)("span",{className:"woocommerce-product-form__secondary-text"},w))};var Q=o(69771),V=o(76292),J=o.n(V);const G=e=>{var t,o;let{currencyInputProps:r}=e;const{getInputProps:m,values:s,setValues:d}=(0,i.useFormContext)(),{dateFormat:_,timeFormat:p}=(0,a.useSelect)((e=>{const{getOption:t}=e(l.OPTIONS_STORE_NAME);return{dateFormat:t("date_format")||"F j, Y",timeFormat:t("time_format")||"H:i"}})),g=(0,n.useContext)(B.CurrencyContext),{getCurrencyConfig:E,formatAmount:b}=g,I=E(),[h,w]=(0,n.useState)(!1),[N,v]=(0,n.useState)(!1),[C,T]=(0,n.useState)(!1);(0,n.useEffect)((()=>{if(N||C)return;const e="string"==typeof s.date_on_sale_from_gmt&&s.date_on_sale_from_gmt.length>0,t="string"==typeof s.date_on_sale_to_gmt&&s.date_on_sale_to_gmt.length>0;(e||t)&&(T(!0),w(!0))}),[N,C,s]);const k=m("sale_price",r),P={className:"woocommerce-product__date-time-picker",isDateOnlyPicker:!0,dateTimeFormat:_};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(y.BaseControl,{id:"product_pricing_sale_price",help:null!==(t=null==k?void 0:k.help)&&void 0!==t?t:""},(0,n.createElement)(y.__experimentalInputControl,(0,S.Z)({},k,{name:"sale_price",label:(0,u.__)("Sale price","woocommerce"),value:(0,c.formatCurrencyDisplayValue)(String(null==k?void 0:k.value),I,b)}))),(0,n.createElement)(y.ToggleControl,{label:(0,n.createElement)(n.Fragment,null,(0,u.__)("Schedule sale","woocommerce"),(0,n.createElement)(i.__experimentalTooltip,{text:(0,x.Z)({mixedString:(0,u.__)('The sale will start at the beginning of the "From" date ({{startTime/}}) and expire at the end of the "To" date ({{endTime/}}). {{moreLink/}}',"woocommerce"),components:{startTime:(0,n.createElement)("span",null,(0,Q.format)(p,J()().startOf("day"))),endTime:(0,n.createElement)("span",null,(0,Q.format)(p,J()().endOf("day"))),moreLink:(0,n.createElement)(i.Link,{href:"https://woocommerce.com/document/managing-products/#product-data",target:"_blank",type:"external",onClick:()=>(0,M.recordEvent)("add_product_learn_more",{category:"product-scheduled-sale"})},(0,u.__)("Learn more","woocommerce"))}})})),checked:h,onChange:e=>{(0,M.recordEvent)("product_pricing_schedule_sale_toggle_click",{enabled:e}),v(!0),w(e),d(e?{date_on_sale_from_gmt:J()().startOf("day").toISOString(),date_on_sale_to_gmt:null}:{date_on_sale_from_gmt:null,date_on_sale_to_gmt:null})},disabled:!((null===(o=s.sale_price)||void 0===o?void 0:o.length)>0)}),h&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.DateTimePickerControl,(0,S.Z)({label:(0,u.__)("From","woocommerce"),placeholder:(0,u.__)("Now","woocommerce"),timeForDateOnly:"start-of-day",currentDate:s.date_on_sale_from_gmt},m("date_on_sale_from_gmt",{...P}))),(0,n.createElement)(i.DateTimePickerControl,(0,S.Z)({label:(0,u.__)("To","woocommerce"),placeholder:(0,u.__)("No end date","woocommerce"),timeForDateOnly:"end-of-day",currentDate:s.date_on_sale_to_gmt},m("date_on_sale_to_gmt",{...P})))))},X=()=>{const{getInputProps:e}=(0,i.useFormContext)(),t=e("tax_status");return delete t.checked,delete t.value,(0,n.createElement)(y.RadioControl,(0,S.Z)({},t,{label:(0,u.__)("Charge sales tax on","woocommerce"),options:[{label:(0,u.__)("Product and shipping","woocommerce"),value:"taxable"},{label:(0,u.__)("Only shipping","woocommerce"),value:"shipping"},{label:(0,u.__)("Don't charge tax","woocommerce"),value:"none"}]}))},q=()=>{const{getInputProps:e}=(0,i.useFormContext)(),{isResolving:t,taxClasses:o}=(0,a.useSelect)((e=>{const{hasFinishedResolution:t,getTaxClasses:o}=e(l.EXPERIMENTAL_TAX_CLASSES_STORE_NAME);return{isResolving:!t("getTaxClasses"),taxClasses:o()}})),r=e("tax_class");return delete r.checked,delete r.value,t||o.length<=0?null:(0,n.createElement)(y.RadioControl,(0,S.Z)({},r,{label:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,(0,u.__)("Tax class","woocommerce")),(0,n.createElement)("span",{className:"woocommerce-product-form__secondary-text"},(0,x.Z)({mixedString:(0,u.__)("Apply a tax rate if this product qualifies for tax reduction or exemption. {{link}}Learn more{{/link}}","woocommerce"),components:{link:(0,n.createElement)(i.Link,{href:"https://woocommerce.com/document/setting-up-taxes-in-woocommerce/#shipping-tax-class",target:"_blank",type:"external"},(0,n.createElement)(n.Fragment,null))}}))),options:o.map((e=>({label:e.name,value:"standard"===e.slug?"":e.slug})))}))},$=e=>{let{tabId:t,basicSectionId:o,taxesSectionId:r,taxesAdvancedSectionId:a}=e;const{setValues:l,values:m}=(0,i.useFormContext)(),{sanitizePrice:s}=(0,c.__experimentalUseProductHelper)(),d=(0,n.useContext)(B.CurrencyContext),{getCurrencyConfig:_}=d,p={prefix:_().symbol,className:"half-width-field components-currency-control",sanitize:e=>s(String(e)),onFocus(e){setTimeout((function(e){e.select()}),0,e.currentTarget)},onKeyUp(e){const t=e.currentTarget.name,o=Number.parseFloat(s(m[t]||"0")),n=Number(e.currentTarget.step||"1");"ArrowUp"===e.code&&l({[t]:String(o+n)}),"ArrowDown"===e.code&&l({[t]:String(o-n)})}};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.__experimentalWooProductSectionItem,{id:o,tabs:[{name:t,order:1}],pluginId:v},(0,n.createElement)(c.__experimentalProductSectionLayout,{title:(0,u.__)("Pricing","woocommerce"),description:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,(0,u.__)("Set a competitive price, put the product on sale, and manage tax calculations.","woocommerce")),(0,n.createElement)(i.Link,{className:"woocommerce-form-section__header-link",href:"https://woocommerce.com/posts/how-to-price-products-strategies-expert-tips/",target:"_blank",type:"external",onClick:()=>{(0,M.recordEvent)("add_product_pricing_help")}},(0,u.__)("How to price your product: expert tips","woocommerce")))},(0,n.createElement)(y.Card,null,(0,n.createElement)(y.CardBody,null,(0,n.createElement)(c.__experimentalWooProductFieldItem.Slot,{section:o}))),(0,n.createElement)(y.Card,null,(0,n.createElement)(y.CardBody,null,(0,n.createElement)(c.__experimentalWooProductFieldItem.Slot,{section:r}),(0,n.createElement)(i.CollapsibleContent,{toggleText:(0,u.__)("Advanced","woocommerce")},(0,n.createElement)(c.__experimentalWooProductFieldItem.Slot,{section:a})))))),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"list",sections:[{name:o,order:1}],pluginId:v},(0,n.createElement)(Y,{currencyInputProps:p})),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"sale",sections:[{name:o,order:3}],pluginId:v},(0,n.createElement)(G,{currencyInputProps:p})),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"charge",sections:[{name:r,order:1}],pluginId:v},(0,n.createElement)(X,null)),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"class",sections:[{name:a,order:3}],pluginId:v},(0,n.createElement)(q,null)))},K=()=>{const{getInputProps:e}=(0,i.useFormContext)();return(0,n.createElement)(y.TextControl,(0,S.Z)({label:(0,u.__)("SKU (Stock Keeping Unit)","woocommerce")},e("sku",{className:"half-width-field"})))},ee=()=>{const{getCheckboxControlProps:e}=(0,i.useFormContext)(),t="yes"===(0,k.O3)("manageStock","yes");return(0,n.createElement)(i.__experimentalConditionalWrapper,{condition:!t,wrapper:e=>(0,n.createElement)(y.Tooltip,{text:(0,u.__)("Quantity tracking is disabled for all products. Go to global store settings to change it.","woocommerce"),position:"top center"},(0,n.createElement)("div",{className:"woocommerce-product-form__tooltip-disabled-overlay"},e))},(0,n.createElement)(y.ToggleControl,(0,S.Z)({label:(0,u.__)("Track quantity for this product","woocommerce")},e("manage_stock",(0,c.getCheckboxTracks)("manage_stock")),{disabled:!t})))},te=()=>{const{getInputProps:e}=(0,i.useFormContext)(),t=e("stock_status");return delete t.checked,delete t.value,(0,n.createElement)(y.RadioControl,(0,S.Z)({label:(0,u.__)("Stock status","woocommerce"),options:[{label:(0,u.__)("In stock","woocommerce"),value:"instock"},{label:(0,u.__)("Out of stock","woocommerce"),value:"outofstock"},{label:(0,u.__)("On backorder","woocommerce"),value:"onbackorder"}]},t))};var oe=o(74617);const ne=()=>{const{getInputProps:e}=(0,i.useFormContext)(),t=(0,k.O3)("notifyLowStockAmount",2);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h4",null,(0,u.__)("Product quantity","woocommerce")),(0,n.createElement)(y.TextControl,(0,S.Z)({type:"number",label:(0,u.__)("Current quantity","woocommerce")},e("stock_quantity"),{min:0})),(0,n.createElement)(y.TextControl,(0,S.Z)({type:"number",label:(0,u.__)("Email me when quantity reaches","woocommerce"),placeholder:(0,u.sprintf)((0,u.__)("%d (store default)","woocommerce"),t)},e("low_stock_amount"),{min:0})),(0,n.createElement)("span",{className:"woocommerce-product-form__secondary-text"},(0,x.Z)({mixedString:(0,u.__)("Make sure to enable notifications in {{link}}store settings{{/link}}.","woocommerce"),components:{link:(0,n.createElement)(i.Link,{href:(0,oe.getAdminLink)("admin.php?page=wc-settings&tab=products&section=inventory"),target:"_blank",type:"wp-admin",onClick:()=>{(0,M.recordEvent)("product_pricing_list_price_help_tax_settings_click")}},(0,n.createElement)(n.Fragment,null)),strong:(0,n.createElement)("strong",null)}})))},re=()=>{const{getInputProps:e}=(0,i.useFormContext)(),t=e("backorders");return delete t.checked,delete t.value,(0,n.createElement)(y.RadioControl,(0,S.Z)({label:(0,u.__)("When out of stock","woocommerce"),options:[{label:(0,u.__)("Allow purchases","woocommerce"),value:"yes"},{label:(0,u.__)("Allow purchases, but notify customers","woocommerce"),value:"notify"},{label:(0,u.__)("Don't allow purchases","woocommerce"),value:"no"}]},t))},ae=()=>{const{getCheckboxControlProps:e}=(0,i.useFormContext)();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("h4",null,(0,u.__)("Restrictions","woocommerce")),(0,n.createElement)(y.CheckboxControl,(0,S.Z)({label:(0,u.__)("Limit purchases to 1 item per order","woocommerce")},e("sold_individually",(0,c.getCheckboxTracks)("sold_individually")))))},le=e=>{let{tabId:t,basicSectionId:o,advancedSectionId:r}=e;const{values:a}=(0,i.useFormContext)();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.__experimentalWooProductSectionItem,{id:o,tabs:[{name:t,order:1}],pluginId:v},(0,n.createElement)(c.__experimentalProductSectionLayout,{title:(0,u.__)("Inventory","woocommerce"),description:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,(0,u.__)("Set up and manage inventory for this product, including status and available quantity.","woocommerce")),(0,n.createElement)(i.Link,{href:(0,oe.getAdminLink)("admin.php?page=wc-settings&tab=products&section=inventory"),target:"_blank",type:"wp-admin",onClick:()=>{(0,M.recordEvent)("add_product_inventory_help")},className:"woocommerce-form-section__header-link"},(0,u.__)("Manage global inventory settings","woocommerce")))},(0,n.createElement)(y.Card,null,(0,n.createElement)(y.CardBody,null,(0,n.createElement)(c.__experimentalWooProductFieldItem.Slot,{section:o}),(0,n.createElement)(i.CollapsibleContent,{toggleText:(0,u.__)("Advanced","woocommerce")},(0,n.createElement)(c.__experimentalWooProductFieldItem.Slot,{section:r})))))),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"sku",sections:[{name:o,order:1}],pluginId:v},(0,n.createElement)(K,null)),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"track-quantity",sections:[{name:o,order:3}],pluginId:v},(0,n.createElement)(ee,null)),a.manage_stock?(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"stock-manage",sections:[{name:o,order:5}],pluginId:v},(0,n.createElement)(ne,null)):(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"stock-manual",sections:[{name:o,order:5}],pluginId:v},(0,n.createElement)(te,null)),a.manage_stock&&(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"stock-out",sections:[{name:r,order:1}],pluginId:v},(0,n.createElement)(re,null)),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"stock-limit",sections:[{name:r,order:3}],pluginId:v},(0,n.createElement)(ae,null)))};var ie=o(94333),ce=o(35208),me=o(96483);const se=e=>{let{initialAttributeTermName:t,attributeId:o,onCancel:r=(()=>{}),onCreated:c=(()=>{})}=e;const{createNotice:m}=(0,a.useDispatch)("core/notices"),[s,d]=(0,n.useState)(!1),{createProductAttributeTerm:_,invalidateResolutionForStoreSelector:p}=(0,a.useDispatch)(l.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME);return(0,n.createElement)(y.Modal,{title:(0,u.__)("Create attribute","woocommerce"),onRequestClose:e=>{e.stopPropagation(),r()},className:"woocommerce-create-attribute-term-modal"},(0,n.createElement)(i.Form,{initialValues:{name:t,slug:(0,me.cleanForSlug)(t)},validate:function(e){var t;const o={};return null!==(t=e.name)&&void 0!==t&&t.length||(o.name=(0,u.__)("The attribute term name is required.","woocommerce")),o},errors:{},onSubmit:async e=>{(0,M.recordEvent)("product_attribute_term_add",{new_product_page:!0}),d(!0);try{const t=await _({...e,attribute_id:o});(0,M.recordEvent)("product_attribute_term_add_success",{new_product_page:!0}),p("getProductAttributes"),d(!1),c(t)}catch(e){(0,M.recordEvent)("product_attribute_term_add_failed",{new_product_page:!0}),m("error",(0,u.__)("Failed to create attribute term.","woocommerce")),d(!1),r()}}},(e=>{let{getInputProps:t,handleSubmit:o,isValidForm:a,setValue:l,values:i}=e;const c=t("name");return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(y.TextControl,(0,S.Z)({label:(0,u.__)("Name","woocommerce")},c,{onBlur:()=>{c.onBlur(),l("slug",(0,me.cleanForSlug)(i.name))}})),(0,n.createElement)(y.TextControl,(0,S.Z)({label:(0,u.__)("Slug","woocommerce")},t("slug"),{help:(0,u.__)("The “slug” is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens.","woocommerce")})),(0,n.createElement)(y.TextareaControl,(0,S.Z)({label:(0,u.__)("Description","woocommerce")},t("description"))),(0,n.createElement)("div",{className:"woocommerce-create-attribute-term-modal__buttons"},(0,n.createElement)(y.Button,{isSecondary:!0,label:(0,u.__)("Cancel","woocommerce"),onClick:()=>r()},(0,u.__)("Cancel","woocommerce")),(0,n.createElement)(y.Button,{isPrimary:!0,isBusy:s,label:(0,u.__)("Add attribute","woocommerce"),disabled:!a||s,onClick:o},(0,u.__)("Add","woocommerce"))))})))};let de=0;const ue=e=>{let{value:t=[],onChange:o,placeholder:r,disabled:c,attributeId:m,label:s=""}=e;const d=(0,n.useRef)("woocommerce-attribute-term-field-"+ ++de),[_,p]=(0,n.useState)([]),[g,E]=(0,n.useState)(!1),[b,I]=(0,n.useState)(),h=(0,n.useCallback)((e=>(E(!0),(0,a.resolveSelect)(l.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME).getProductAttributeTerms({search:e||"",attribute_id:m}).then((e=>(p(e),E(!1),e)),(e=>(E(!1),e))))),[m]),w=(0,ie.useDebounce)(h,250);(0,n.useEffect)((()=>{c||void 0===m||_.length||h()}),[c,m]);const N=e=>{o(t.filter((t=>t.slug!==e.slug)))},v=e=>{-99!==e.id?t.find((t=>t.slug===e.slug))?N(e):o([...t,e]):I(e.name)},C=()=>{const e=document.querySelector("."+d.current+" .woocommerce-experimental-select-control__input");e&&setTimeout((()=>{e.focus()}),0)},S=(t||[]).map((e=>e.slug));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.__experimentalSelectControl,{items:_,multiple:!0,disabled:c||!m,label:s,getFilteredItems:(e,t)=>t.length>0&&!e.find((e=>e.name.toLowerCase()===t.toLowerCase()))?[...e,{id:-99,name:t}]:e,onInputChange:w,placeholder:r||"",getItemLabel:e=>(null==e?void 0:e.name)||"",getItemValue:e=>(null==e?void 0:e.slug)||"",stateReducer:(e,t)=>{const{changes:o,type:n}=t;switch(n){case i.selectControlStateChangeTypes.ControlledPropUpdatedSelectedItem:return{...o,inputValue:e.inputValue};case i.selectControlStateChangeTypes.ItemClick:return o.selectedItem&&-99===o.selectedItem.id?o:{...o,isOpen:!0,inputValue:e.inputValue,highlightedIndex:e.highlightedIndex};default:return o}},selected:t,onSelect:v,onRemove:N,className:"woocommerce-attribute-term-field "+d.current,__experimentalOpenMenuOnFocus:!0},(e=>{let{items:t,highlightedIndex:o,getItemProps:r,getMenuProps:a,isOpen:l}=e;return(0,n.createElement)(i.__experimentalSelectControlMenu,{isOpen:l,getMenuProps:a},[g?(0,n.createElement)("div",{key:"loading-spinner",className:"woocommerce-attribute-term-field__loading-spinner"},(0,n.createElement)(y.Spinner,null)):null,...t.map(((e,t)=>{const a=S.includes(e.slug);return(0,n.createElement)(i.__experimentalSelectControlMenuItem,{key:`${e.slug}`,index:t,isActive:o===t,item:e,getItemProps:r},-99!==e.id?(0,n.createElement)(y.CheckboxControl,{onChange:()=>null,checked:a,label:(0,n.createElement)("span",{style:{fontWeight:a?"bold":"normal"}},e.name)}):(0,n.createElement)("div",{className:"woocommerce-attribute-term-field__add-new"},(0,n.createElement)(y.Icon,{icon:ce.Z,size:20,className:"woocommerce-attribute-term-field__add-new-icon"}),(0,n.createElement)("span",null,(0,u.sprintf)((0,u.__)('Create "%s"',"woocommerce"),e.name))))}))].filter((e=>null!==e)))})),b&&void 0!==m&&(0,n.createElement)(se,{initialAttributeTermName:b,onCancel:()=>{I(void 0),C()},attributeId:m,onCreated:e=>{v(e),I(void 0),C()}}))};function _e(e){return null!==e&&"object"==typeof e&&!!e.label}const pe=e=>{let{value:t=[],onChange:o,placeholder:r,disabled:a,label:l}=e;const[c,m]=(0,n.useState)(t),s=e=>{o(t.filter((t=>t!==e)))};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.__experimentalSelectControl,{items:c,multiple:!0,disabled:a,label:l||"",placeholder:r||"",getItemLabel:e=>_e(e)?e.label:e||"",getItemValue:e=>_e(e)?e.id:e||"",getFilteredItems:(e,t)=>{const o=e.filter((e=>!t.length||!_e(e)&&e.toLowerCase().includes(t.toLowerCase())));return t.length>0&&!o.find((e=>!_e(e)&&e.toLowerCase()===t.toLowerCase()))?[...o,{id:"is-new",label:t}]:o},selected:t,onSelect:e=>{if(_e(e))return m([...c,e.label]),void o([...t,e.label]);t.includes(e)?s(e):o([...t,e])},onRemove:s,className:"woocommerce-attribute-term-field"},(e=>{let{items:o,highlightedIndex:r,getItemProps:a,getMenuProps:l,isOpen:c}=e;return(0,n.createElement)(i.__experimentalSelectControlMenu,{isOpen:c,getMenuProps:l},o.map(((e,o)=>(0,n.createElement)(i.__experimentalSelectControlMenuItem,{key:`${_e(e)?e.id:e}`,index:o,isActive:r===o,item:e,getItemProps:a},_e(e)?(0,n.createElement)("div",{className:"woocommerce-attribute-term-field__add-new"},(0,n.createElement)(y.Icon,{icon:ce.Z,size:20,className:"woocommerce-attribute-term-field__add-new-icon"}),(0,n.createElement)("span",null,(0,u.sprintf)((0,u.__)('Create "%s"',"woocommerce"),e.label))):(0,n.createElement)(y.CheckboxControl,{onChange:()=>null,checked:t.includes(e),label:(0,n.createElement)("span",{style:{fontWeight:t.includes(e)?"bold":"normal"}},e)})))))})))},ge=e=>{let{title:t=(0,u.__)("Edit attribute","woocommerce"),nameLabel:o=(0,u.__)("Name","woocommerce"),globalAttributeHelperMessage:r,customAttributeHelperMessage:a=(0,u.__)("Your customers will see this on the product page","woocommerce"),termsLabel:l=(0,u.__)("Values","woocommerce"),termsPlaceholder:c=(0,u.__)("Search or create value","woocommerce"),visibleLabel:m=(0,u.__)("Visible to customers","woocommerce"),visibleTooltip:s=(0,u.__)("Show or hide this attribute on the product page","woocommerce"),cancelAccessibleLabel:d=(0,u.__)("Cancel","woocommerce"),cancelLabel:_=(0,u.__)("Cancel","woocommerce"),updateAccessibleLabel:p=(0,u.__)("Edit attribute","woocommerce"),updateLabel:g=(0,u.__)("Update","woocommerce"),onCancel:E,onEdit:b,attribute:I}=e;const[h,w]=(0,n.useState)({...I}),N=0===(null==h?void 0:h.id);return(0,n.createElement)(y.Modal,{title:t,onRequestClose:()=>E(),className:"woocommerce-edit-attribute-modal"},(0,n.createElement)("div",{className:"woocommerce-edit-attribute-modal__body"},(0,n.createElement)(y.TextControl,{label:o,disabled:!N,value:null!=h&&h.name?null==h?void 0:h.name:"",onChange:e=>w({...h,name:e})}),(0,n.createElement)("p",{className:"woocommerce-edit-attribute-modal__helper-text"},N?a:r),I.terms?(0,n.createElement)(ue,{label:l,placeholder:c,value:null==h?void 0:h.terms,attributeId:null==h?void 0:h.id,onChange:e=>{w({...h,terms:e})}}):(0,n.createElement)(pe,{label:l,placeholder:c,disabled:!(null!=I&&I.name),value:null==h?void 0:h.options,onChange:e=>{w({...h,options:e})}}),(0,n.createElement)("div",{className:"woocommerce-edit-attribute-modal__option-container"},(0,n.createElement)(y.CheckboxControl,{onChange:e=>w({...h,visible:e}),checked:null==h?void 0:h.visible,label:m}),(0,n.createElement)(i.__experimentalTooltip,{text:s}))),(0,n.createElement)("div",{className:"woocommerce-edit-attribute-modal__buttons"},(0,n.createElement)(y.Button,{isSecondary:!0,label:d,onClick:()=>E()},_),(0,n.createElement)(y.Button,{isPrimary:!0,label:p,onClick:()=>{b(h)}},g)))};function Ee(e){return 0!==e.id?e.id:e.name}const be=e=>`${e.id}-${e.name}`;var Ie=o(14812),he=o(83911);const we=e=>{let{image:t=he,subtitle:o=(0,u.__)("No attributes yet","woocommerce"),addNewLabel:r=(0,u.__)("Add first attribute","woocommerce"),onNewClick:a}=e;return(0,n.createElement)(y.Card,null,(0,n.createElement)(y.CardBody,null,(0,n.createElement)("div",{className:"woocommerce-attribute-empty-state"},(0,n.createElement)("img",{src:t,alt:"Completed",className:"woocommerce-attribute-empty-state__image"}),(0,n.createElement)(Ie.Text,{variant:"subtitle.small",weight:"600",size:"14",lineHeight:"20px",className:"woocommerce-attribute-empty-state__subtitle"},o),"function"==typeof a&&(0,n.createElement)(y.Button,{variant:"secondary",className:"woocommerce-attribute-empty-state__add-new",onClick:a},r))))},Ne=e=>{let{label:t=(0,u.__)("Add attribute","woocommerce"),onClick:o}=e;return(0,n.createElement)(i.ListItem,{className:"woocommerce-add-attribute-list-item"},(0,n.createElement)(y.Button,{variant:"secondary",className:"woocommerce-add-attribute-list-item__add-button",onClick:o},t))};var ve=o(28601);const Ce=e=>{let{attribute:t,editLabel:o=(0,u.__)("edit","woocommerce"),removeLabel:r=(0,u.__)("Remove attribute","woocommerce"),onDragStart:a,onDragEnd:l,onEditClick:c,onRemoveClick:m}=e;return(0,n.createElement)(i.ListItem,{className:"woocommerce-attribute-list-item",onDragStart:a,onDragEnd:l},(0,n.createElement)("div",null,t.name),(0,n.createElement)("div",{className:"woocommerce-attribute-list-item__options"},t.options.slice(0,2).map(((e,t)=>(0,n.createElement)("div",{className:"woocommerce-attribute-list-item__option-chip",key:t},e))),t.options.length>2&&(0,n.createElement)("div",{className:"woocommerce-attribute-list-item__option-chip"},(0,u.sprintf)((0,u.__)("+ %i more","woocommerce"),t.options.length-2))),(0,n.createElement)("div",{className:"woocommerce-attribute-list-item__actions"},"function"==typeof c&&(0,n.createElement)(y.Button,{variant:"tertiary",onClick:()=>c(t)},o),"function"==typeof m&&(0,n.createElement)(y.Button,{icon:ve.Z,label:r,onClick:()=>m(t)})))};var Se=o(19944);function xe(e){return-99===e.id}const Me=e=>{let{value:t=null,onChange:o,placeholder:r,label:c,disabled:m,ignoredAttributeIds:s=[]}=e;const{attributes:d,isLoading:_}=(0,a.useSelect)((e=>{const{getProductAttributes:t,hasFinishedResolution:o}=e(l.EXPERIMENTAL_PRODUCT_ATTRIBUTES_STORE_NAME);return{isLoading:!o("getProductAttributes"),attributes:t()}}));return(0,n.createElement)(i.__experimentalSelectControl,{className:"woocommerce-attribute-input-field",items:d||[],label:c||"",disabled:m,getFilteredItems:(e,t)=>{const o=e.filter((e=>(e=>!s.length||!s.includes(e.id))(e)&&(e.name||"").toLowerCase().startsWith(t.toLowerCase())));return t.length>0&&!e.find((e=>e.name.toLowerCase()===t.toLowerCase()))?[...o,{id:-99,name:t}]:o},placeholder:r,getItemLabel:e=>(null==e?void 0:e.name)||"",getItemValue:e=>(null==e?void 0:e.id)||"",selected:t,onSelect:e=>{xe(e)&&(0,M.recordEvent)("product_attribute_add_custom_attribute",{new_product_page:!0}),o(xe(e)?e.name:{id:e.id,name:e.name,options:[]})},onRemove:()=>o(),__experimentalOpenMenuOnFocus:!0},(e=>{let{items:t,highlightedIndex:o,getItemProps:r,getMenuProps:a,isOpen:l}=e;return(0,n.createElement)(i.__experimentalSelectControlMenu,{getMenuProps:a,isOpen:l},_?(0,n.createElement)(y.Spinner,null):t.map(((e,t)=>(0,n.createElement)(i.__experimentalSelectControlMenuItem,{key:e.id,index:t,isActive:o===t,item:e,getItemProps:r},xe(e)?(0,n.createElement)("div",{className:"woocommerce-attribute-input-field__add-new"},(0,n.createElement)(y.Icon,{icon:ce.Z,size:20,className:"woocommerce-attribute-input-field__add-new-icon"}),(0,n.createElement)("span",null,(0,u.sprintf)((0,u.__)('Create "%s"',"woocommerce"),e.name))):e.name))))}))},ye=e=>{let{title:t=(0,u.__)("Add attributes","woocommerce"),notice:o=(0,u.__)("By default, attributes are filterable and visible on the product page. You can change these settings for each attribute separately later.","woocommerce"),attributeLabel:r=(0,u.__)("Attribute","woocommerce"),valueLabel:a=(0,u.__)("Values","woocommerce"),attributePlaceholder:l=(0,u.__)("Search or create attribute","woocommerce"),termPlaceholder:c=(0,u.__)("Search or create value","woocommerce"),removeLabel:m=(0,u.__)("Remove attribute","woocommerce"),addAnotherAccessibleLabel:s=(0,u.__)("Add another attribute","woocommerce"),addAnotherLabel:d=(0,u.__)("+ Add another","woocommerce"),cancelLabel:_=(0,u.__)("Cancel","woocommerce"),addAccessibleLabel:p=(0,u.__)("Add attributes","woocommerce"),addLabel:g=(0,u.__)("Add","woocommerce"),confirmMessage:E=(0,u.__)("You have some attributes added to the list, are you sure you want to cancel?","woocommerce"),confirmCancelLabel:b=(0,u.__)("No thanks","woocommerce"),confirmConfirmLabel:I=(0,u.__)("Yes please!","woocommerce"),onCancel:h,onAdd:w,selectedAttributeIds:N=[]}=e;const[v,C]=(0,n.useState)(!1),S=e=>{e.attributes.some((e=>null!==e&&(null==e?void 0:e.terms)&&(null==e?void 0:e.terms.length)>0))?C(!0):h()};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.Form,{initialValues:{attributes:[null]}},(e=>{let{values:i,setValue:u}=e;return(0,n.createElement)(y.Modal,{title:t,onRequestClose:e=>{e.isPropagationStopped()||S(i)},className:"woocommerce-new-attribute-modal"},(0,n.createElement)(y.Notice,{isDismissible:!1},(0,n.createElement)("p",null,o)),(0,n.createElement)("div",{className:"woocommerce-new-attribute-modal__body"},(0,n.createElement)("table",{className:"woocommerce-new-attribute-modal__table"},(0,n.createElement)("thead",null,(0,n.createElement)("tr",{className:"woocommerce-new-attribute-modal__table-header"},(0,n.createElement)("th",null,r),(0,n.createElement)("th",null,a))),(0,n.createElement)("tbody",null,i.attributes.map(((e,t)=>(0,n.createElement)("tr",{key:t,className:`woocommerce-new-attribute-modal__table-row woocommerce-new-attribute-modal__table-row-${t}`},(0,n.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-column"},(0,n.createElement)(Me,{placeholder:l,value:e,label:r,onChange:e=>{u("attributes["+t+"]",e&&function(e){return"string"==typeof e?{id:0,name:e,options:[]}:e}(e)),e&&(e=>{setTimeout((()=>{const t=document.querySelector(".woocommerce-new-attribute-modal__table-row-"+e+" .woocommerce-new-attribute-modal__table-attribute-value-column .woocommerce-experimental-select-control__input");t&&t.focus()}),0)})(t)},ignoredAttributeIds:[...N,...i.attributes.map((e=>null==e?void 0:e.id)).filter((e=>void 0!==e))]})),(0,n.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-value-column"},null===e||0!==e.id?(0,n.createElement)(ue,{placeholder:c,disabled:!e||!e.id,attributeId:e?e.id:void 0,value:null===e?[]:e.terms,label:a,onChange:e=>u("attributes["+t+"].terms",e)}):(0,n.createElement)(pe,{placeholder:c,disabled:!e.name,value:e.options,label:a,onChange:e=>u("attributes["+t+"].options",e)})),(0,n.createElement)("td",{className:"woocommerce-new-attribute-modal__table-attribute-trash-column"},(0,n.createElement)(y.Button,{icon:Se.Z,disabled:1===i.attributes.length&&null===i.attributes[0],label:m,onClick:()=>((e,t,o)=>{(0,M.recordEvent)("product_add_attributes_modal_remove_attribute_button_click"),t.attributes.length>1?o("attributes",t.attributes.filter(((t,o)=>o!==e))):o(`attributes[${e}]`,[null])})(t,i,u)})))))))),(0,n.createElement)("div",null,(0,n.createElement)(y.Button,{className:"woocommerce-new-attribute-modal__add-attribute",variant:"tertiary",label:s,onClick:()=>{(0,M.recordEvent)("product_add_attributes_modal_add_another_attribute_button_click"),((e,t)=>{var o;t("attributes",[...e.attributes,null]),o=e.attributes.length,setTimeout((()=>{const e=document.querySelector(`.woocommerce-new-attribute-modal__table-row-${o}`);null==e||e.scrollIntoView({behavior:"smooth"})}),0)})(i,u)}},d)),(0,n.createElement)("div",{className:"woocommerce-new-attribute-modal__buttons"},(0,n.createElement)(y.Button,{isSecondary:!0,label:_,onClick:()=>S(i)},_),(0,n.createElement)(y.Button,{isPrimary:!0,label:p,disabled:1===i.attributes.length&&null===i.attributes[0],onClick:()=>(e=>{const t=[];e.attributes.forEach((e=>{if(null!==e&&e.name&&((e.terms||[]).length>0||(e.options||[]).length>0)){const o=0!==e.id?(e.terms||[]).map((e=>e.name)):e.options;t.push({...e,options:o})}})),w(t)})(i)},g)))})),(0,n.createElement)(i.__experimentalSelectControlMenuSlot,null),v&&(0,n.createElement)(y.__experimentalConfirmDialog,{cancelButtonText:b,confirmButtonText:I,onCancel:()=>C(!1),onConfirm:h},E))},Te=e=>{let{value:t,onAdd:o=(()=>{}),onChange:r,onEdit:a=(()=>{}),onNewModalCancel:l=(()=>{}),onNewModalClose:c=(()=>{}),onNewModalOpen:m=(()=>{}),onEditModalCancel:s=(()=>{}),onEditModalClose:d=(()=>{}),onEditModalOpen:_=(()=>{}),onRemove:p=(()=>{}),onRemoveCancel:g=(()=>{}),uiStrings:E={newAttributeModalTitle:void 0,emptyStateSubtitle:void 0,newAttributeListItemLabel:void 0,globalAttributeHelperMessage:(0,u.__)("You can change the attribute's name in {{link}}Attributes{{/link}}.","woocommerce")}}=e;const[b,I]=(0,n.useState)(!1),[h,w]=(0,n.useState)(null),N=e=>{r(e.map((e=>({...e,options:e.terms?e.terms.map((e=>e.name)):e.options,terms:void 0,visible:e.visible||!1}))))},v=()=>{I(!0),m()},C=()=>{I(!1),c()},S=e=>{w(null),d(e)},M=e=>{N([...t,...e.filter((e=>!t.find((t=>be(e)===be(t)))))]),o(e),C()};if(!t.length)return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(we,{addNewLabel:E.newAttributeModalTitle,onNewClick:()=>v(),subtitle:E.emptyStateSubtitle}),b&&(0,n.createElement)(ye,{onCancel:()=>{C(),l()},onAdd:M,selectedAttributeIds:[],title:E.newAttributeModalTitle}),(0,n.createElement)(i.__experimentalSelectControlMenuSlot,null));const y=t.sort(((e,t)=>e.position-t.position)),T=t.reduce(((e,t)=>(e[Ee(t)]=t,e)),{}),k=t.find((e=>be(e)===h));return(0,n.createElement)("div",{className:"woocommerce-attribute-field"},(0,n.createElement)(i.Sortable,{onOrderChange:e=>{const t=e.reduce(((e,t,o)=>{let{props:n}=t;return e[Ee(n.attribute)]=o,e}),{});r(function(e,t){return Object.keys(t).map((o=>isNaN(e[o])?{...t[o]}:{...t[o],position:e[o]}))}(t,T))}},y.map((e=>(0,n.createElement)(Ce,{attribute:e,key:be(e),onEditClick:()=>{return w(be(t=e)),void _(t);var t},onRemoveClick:()=>(e=>{if(window.confirm((0,u.__)("Remove this attribute?","woocommerce")))return N(t.filter((t=>be(t)!==be(e)))),void p(e);g(e)})(e)})))),(0,n.createElement)(Ne,{label:E.newAttributeListItemLabel,onClick:()=>v()}),b&&(0,n.createElement)(ye,{title:E.newAttributeModalTitle,onCancel:()=>{C(),l()},onAdd:M,selectedAttributeIds:t.map((e=>e.id))}),(0,n.createElement)(i.__experimentalSelectControlMenuSlot,null),k&&(0,n.createElement)(ge,{title:(0,u.sprintf)((0,u.__)("Edit %s","woocommerce"),k.name),globalAttributeHelperMessage:(0,x.Z)({mixedString:E.globalAttributeHelperMessage,components:{link:(0,n.createElement)(i.Link,{href:(0,oe.getAdminLink)("edit.php?post_type=product&page=product_attributes"),target:"_blank",type:"wp-admin"},(0,n.createElement)(n.Fragment,null))}}),onCancel:()=>{S(k),s(k)},onEdit:e=>{(e=>{const o=t.map((t=>be(t)===be(e)?e:t));a(e),N(o),S(e)})(e)},attribute:k}))};var ke=o(15635);function Pe(e){let{allAttributes:t=[],isVariationAttributes:o=!1,onChange:r,productId:i}=e;const c=()=>o?t.filter((e=>!!e.variation)):t.filter((e=>!e.variation)),[m,s]=(0,n.useState)(c()),[d,u]=(0,ke.QB)(m,(e=>0===e.id)),_=(0,n.useCallback)((e=>(0,a.resolveSelect)(l.EXPERIMENTAL_PRODUCT_ATTRIBUTE_TERMS_STORE_NAME).getProductAttributeTerms({attribute_id:e,product:i}).then((e=>e),(e=>e))),[i]);return(0,n.useEffect)((()=>{c().length&&!m.length&&Promise.all(u.map((e=>_(e.id)))).then((e=>{s([...u.map(((t,o)=>{return n=t,r=e[o],{...n,terms:r.length>0?r:void 0,options:0===r.length?n.options:[]};var n,r})),...d])}))}),[t,m,_]),{attributes:m,handleChange:e=>{const n=e.map(((e,t)=>({...e,variation:o,position:m.length+t}))),a=o?t.filter((e=>!e.variation)):t.filter((e=>!!e.variation));s(n),r([...a,...n])},setAttributes:s}}const fe=e=>{let{value:t,onChange:o,productId:r}=e;const{attributes:a,handleChange:l}=Pe({allAttributes:t,onChange:o,productId:r});return(0,n.createElement)(Te,{value:a,onAdd:()=>{(0,M.recordEvent)("product_add_attributes_modal_add_button_click")},onChange:l,onNewModalCancel:()=>{(0,M.recordEvent)("product_add_attributes_modal_cancel_button_click")},onNewModalOpen:()=>{a.length?(0,M.recordEvent)("product_add_attribute_button"):(0,M.recordEvent)("product_add_first_attribute_button_click")},onRemove:()=>(0,M.recordEvent)("product_remove_attribute_confirmation_confirm_click"),onRemoveCancel:()=>(0,M.recordEvent)("product_remove_attribute_confirmation_cancel_click")})},De=()=>{const{getInputProps:e,values:{id:t}}=(0,i.useFormContext)();return(0,n.createElement)(fe,e("attributes",{productId:t}))},Ae=()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.__experimentalWooProductSectionItem,{id:N,tabs:[{name:_,order:5}],pluginId:v},(0,n.createElement)(c.__experimentalProductSectionLayout,{title:(0,u.__)("Attributes","woocommerce"),className:"woocommerce-product-attributes-section",description:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,(0,u.__)("Add descriptive pieces of information that customers can use to filter and search for this product.","woocommerce")),(0,n.createElement)(i.Link,{className:"woocommerce-form-section__header-link",href:"https://woocommerce.com/document/managing-product-taxonomies/#product-attributes",target:"_blank",type:"external",onClick:()=>{(0,M.recordEvent)("learn_more_about_attributes_help")}},(0,u.__)("Learn more about attributes","woocommerce")))},(0,n.createElement)(c.__experimentalWooProductFieldItem.Slot,{section:N}))),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"add",sections:[{name:N,order:1}],pluginId:v},(0,n.createElement)(De,null)));var Le=o(23374),Re=o(83849),je=o.n(Re),Oe=o(34537);const Fe=()=>{const{getInputProps:e,setValue:t}=(0,i.useFormContext)(),o=e("images").value||[],[r,a]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),[m,s]=(0,n.useState)(null),d=()=>{a(!r)};return(0,n.createElement)("div",{className:je()("woocommerce-product-form__images",{"has-images":o.length>0})},(0,n.createElement)(i.ImageGallery,{onDragStart:e=>{const{id:t,dataset:n}=e.target;if(t)s(parseInt(t,10));else{const e=null==n?void 0:n.index;var r;e&&s(null===(r=o[parseInt(e,10)])||void 0===r?void 0:r.id)}d()},onDragEnd:()=>{l&&m&&((0,M.recordEvent)("product_images_remove_image_button_click"),t("images",o.filter((e=>e.id!==m))),c(!1),s(null)),d()},onOrderChange:e=>{const n=e.map((e=>o.find((t=>{var o;return t.id===parseInt(null==e||null===(o=e.props)||void 0===o?void 0:o.id,10)}))));(0,M.recordEvent)("product_images_change_image_order_via_image_gallery"),t("images",n)},onReplace:e=>{let{replaceIndex:n,media:r}=e;void 0===o.find((e=>r.id===e.id))&&(o[n]=r,(0,M.recordEvent)("product_images_replace_image_button_click"),t("images",o))},onSelectAsCover:()=>(0,M.recordEvent)("product_images_select_image_as_cover_button_click")},o.map((e=>(0,n.createElement)(i.ImageGalleryItem,{key:e.id||e.url,alt:e.alt,src:e.url||e.src,id:`${e.id}`})))),(0,n.createElement)("div",{className:"woocommerce-product-form__image-drop-zone"},r?(0,n.createElement)(y.CardBody,null,(0,n.createElement)("div",{className:"woocommerce-product-form__remove-image-drop-zone"},(0,n.createElement)("span",null,(0,n.createElement)(Le.Z,{icon:Se.Z,size:20,className:"icon-control"}),(0,u.__)("Drop here to remove","woocommerce")),(0,n.createElement)(y.DropZone,{onHTMLDrop:()=>c(!0),onDrop:()=>c(!0),label:(0,u.__)("Drop here to remove","woocommerce")}))):(0,n.createElement)(y.CardBody,null,(0,n.createElement)(i.MediaUploader,{multipleSelect:!0,onError:()=>null,onFileUploadChange:e=>{e[0].id&&((0,M.recordEvent)("product_images_add_via_file_upload_area"),t("images",[...o,...e]))},onSelect:e=>{const n=e.filter((e=>!o.find((t=>t.id===e.id))));n.length>0&&((0,M.recordEvent)("product_images_add_via_media_library"),t("images",[...o,...n]))},onUpload:e=>{e[0].id&&((0,M.recordEvent)("product_images_add_via_drag_and_drop_upload"),t("images",[...o,...e]))},label:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("img",{src:Oe,alt:(0,u.__)("Completed","woocommerce"),className:"woocommerce-product-form__drag-and-drop-image"}),(0,n.createElement)("span",null,(0,u.__)("Drag images here or click to upload","woocommerce")))}))))},ze=()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.__experimentalWooProductSectionItem,{id:w,tabs:[{name:_,order:3}],pluginId:v},(0,n.createElement)(c.__experimentalProductFieldSection,{id:w,title:(0,u.__)("Images","woocommerce"),description:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,(0,u.__)("For best results, use JPEG files that are 1000 by 1000 pixels or larger.","woocommerce")),(0,n.createElement)(i.Link,{className:"woocommerce-form-section__header-link",href:"https://woocommerce.com/posts/fast-high-quality-product-photos/",target:"_blank",type:"external",onClick:()=>{(0,M.recordEvent)("prepare_images_help")}},(0,u.__)("How should I prepare images?","woocommerce")))})),(0,n.createElement)(c.__experimentalWooProductFieldItem,{id:"gallery",sections:[{name:w,order:1}],pluginId:v},(0,n.createElement)(Fe,null))),Ue=e=>{let{title:t,description:o,className:r,children:a}=e;return(0,n.createElement)(i.FormSection,{title:t,description:o,className:r},n.Children.map(a,(e=>(0,n.isValidElement)(e)&&e.props.onChange?(0,n.createElement)("div",{className:"product-field-layout"},e):e)))},We=e=>{let{value:t,onChange:o,productId:r}=e;const{values:m}=(0,i.useFormContext)(),{generateProductVariations:s}=function(){const{generateProductVariations:e,invalidateResolutionForStoreSelector:t}=(0,a.useDispatch)(l.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),{createProduct:o,updateProduct:r}=(0,a.useDispatch)(l.PRODUCTS_STORE_NAME),{resetForm:m}=(0,i.useFormContext)(),[s,d]=(0,n.useState)(!1);return{generateProductVariations:(0,n.useCallback)((async n=>(d(!0),(n.id?()=>r(n.id,n):()=>o({...n,status:"auto-draft",name:n.name||c.AUTO_DRAFT_NAME}))().then((t=>(n.id||m({...t,name:n.name||""}),e({product_id:t.id})))).then((()=>t("getProductVariations"))).finally((()=>{d(!1)})))),[]),isGenerating:s}}(),{attributes:d,handleChange:_}=Pe({allAttributes:t,isVariationAttributes:!0,onChange:e=>{o(e),s({...m,attributes:e})},productId:r});return(0,n.createElement)(Te,{value:d,onAdd:()=>{(0,M.recordEvent)("product_add_options_modal_add_button_click")},onChange:_,onNewModalCancel:()=>{(0,M.recordEvent)("product_add_options_modal_cancel_button_click")},onNewModalOpen:()=>{d.length?(0,M.recordEvent)("product_add_option_button"):(0,M.recordEvent)("product_add_first_option_button_click")},uiStrings:{emptyStateSubtitle:(0,u.__)("No options yet","woocommerce"),newAttributeListItemLabel:(0,u.__)("Add option","woocommerce"),newAttributeModalTitle:(0,u.__)("Add options","woocommerce"),globalAttributeHelperMessage:(0,u.__)("You can change the option's name in {{link}}Attributes{{/link}}.","woocommerce")},onRemove:()=>(0,M.recordEvent)("product_remove_option_confirmation_confirm_click"),onRemoveCancel:()=>(0,M.recordEvent)("product_remove_option_confirmation_cancel_click")})},He=()=>{const{getInputProps:e,values:{id:t}}=(0,i.useFormContext)();return(0,n.createElement)(Ue,{title:(0,u.__)("Options","woocommerce"),className:"woocommerce-product-options-section",description:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,(0,u.__)("Add and manage options, such as size and color, for customers to choose on the product page.","woocommerce")),(0,n.createElement)(i.Link,{className:"woocommerce-form-section__header-link",href:"https://woocommerce.com/document/managing-product-taxonomies/#product-attributes",target:"_blank",type:"external",onClick:()=>{(0,M.recordEvent)("learn_more_about_options_help")}},(0,u.__)("Learn more about options","woocommerce")))},(0,n.createElement)(We,e("attributes",{productId:t})))};var Ze=o(10431),Be=o(56519),Ye=o.n(Be);function Qe(e){let{width:t=24,height:o=24,...r}=e;return(0,n.createElement)("svg",(0,S.Z)({},r,{width:t,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"}),(0,n.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7226 6.2125C13.1641 6.0766 12.5883 6 11.9999 6C8.10055 6 4.75407 9.36447 3.31899 11.0546C2.8507 11.6061 2.8507 12.3939 3.31899 12.9454C4.17896 13.9582 5.72533 15.5723 7.66574 16.7033L8.41572 15.4043C8.13761 15.242 7.86389 15.0655 7.59553 14.8776C6.25019 13.9359 5.15775 12.7905 4.48406 12C5.15775 11.2095 6.25019 10.0641 7.59553 9.12235C8.96667 8.16257 10.4775 7.5 11.9999 7.5C12.3118 7.5 12.6231 7.5278 12.9329 7.58027L13.7226 6.2125ZM12.3504 8.58923C12.2352 8.57753 12.1182 8.57153 11.9999 8.57153C10.1063 8.57153 8.57132 10.1066 8.57132 12.0001C8.57132 12.7505 8.81237 13.4445 9.22126 14.0091L10.1233 12.4467C10.0893 12.3034 10.0713 12.1538 10.0713 12.0001C10.0713 11.1266 10.652 10.3888 11.4484 10.1515L12.3504 8.58923ZM12.8092 10.2491L13.5611 8.94679C14.6697 9.51479 15.4285 10.6688 15.4285 12.0001C15.4285 13.8937 13.8934 15.4287 11.9999 15.4287C11.3128 15.4287 10.6729 15.2266 10.1364 14.8785L10.8883 13.5763C11.2025 13.7983 11.5859 13.9287 11.9999 13.9287C13.065 13.9287 13.9285 13.0652 13.9285 12.0001C13.9285 11.224 13.4701 10.555 12.8092 10.2491ZM9.51376 15.957C10.3246 16.2986 11.1605 16.5 11.9999 16.5C13.5223 16.5 15.0331 15.8374 16.4043 14.8776C17.7496 13.9359 18.842 12.7905 19.5157 12C18.842 11.2095 17.7496 10.0641 16.4043 9.12235C15.6875 8.62066 14.9327 8.20018 14.1579 7.91308L14.917 6.59839C17.5164 7.64275 19.6204 9.80575 20.6808 11.0546C21.1491 11.6061 21.1491 12.3939 20.6808 12.9454C19.2457 14.6355 15.8992 18 11.9999 18C10.8611 18 9.76945 17.713 8.7588 17.2646L9.51376 15.957Z",fill:"currentColor"}),(0,n.createElement)("rect",{x:"16.0625",y:"4.61377",width:"1.22727",height:"16",transform:"rotate(30 16.0625 4.61377)",fill:"currentColor"}))}function Ve(e){let{width:t=24,height:o=24,...r}=e;return(0,n.createElement)("svg",(0,S.Z)({},r,{width:t,height:o,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"}),(0,n.createElement)("path",{d:"M20.1091 11.54C20.3396 11.8116 20.3396 12.1884 20.1091 12.46C19.4144 13.2781 18.266 14.4899 16.8343 15.4921C15.397 16.4982 13.7359 17.25 11.9999 17.25C10.2638 17.25 8.60268 16.4982 7.1654 15.4921C5.73376 14.4899 4.58533 13.2781 3.89066 12.46C3.6601 12.1884 3.6601 11.8116 3.89066 11.54C4.58533 10.7219 5.73376 9.51006 7.1654 8.50792C8.60268 7.50184 10.2638 6.75 11.9999 6.75C13.7359 6.75 15.397 7.50184 16.8343 8.50792C18.266 9.51006 19.4144 10.7219 20.1091 11.54Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,n.createElement)("circle",{cx:"11.9999",cy:"11.9999",r:"2.67857",stroke:"currentColor",strokeWidth:"1.5"}))}const Je=(0,u.__)("Not visible to customers","woocommerce"),Ge=(0,u.__)("Visible to customers","woocommerce"),Xe=(0,u.__)("Updating product variation","woocommerce"),qe=()=>{const[e,t]=(0,n.useState)(1),[o,r]=(0,n.useState)(25),[m,s]=(0,n.useState)({}),{values:d}=(0,i.useFormContext)(),_=d.id,p=(0,n.useContext)(B.CurrencyContext),{formatAmount:g,getCurrencyConfig:E}=p,{isLoading:b,variations:I,totalCount:h}=(0,a.useSelect)((t=>{const{getProductVariations:n,hasFinishedResolution:r,getProductVariationsTotalCount:a}=t(l.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),i={product_id:_,page:e,per_page:o,order:"asc",orderby:"menu_order"};return{isLoading:!r("getProductVariations",[i]),variations:n(i),totalCount:a(i)}}),[e,o,_]),{updateProductVariation:w}=(0,a.useDispatch)(l.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),{sortedVariations:N,getVariationKey:v,onOrderChange:C}=(0,c.__experimentalUseVariationsOrder)({variations:I,currentPage:e});if(!I||b)return(0,n.createElement)(y.Card,{className:"woocommerce-product-variations is-loading"},(0,n.createElement)(y.Spinner,null));const S=E();function x(e,t){m[e]||(s((t=>({...t,[e]:!0}))),w({product_id:_,id:e},{status:t}).finally((()=>s((t=>({...t,[e]:!1}))))))}return(0,n.createElement)(y.Card,{className:"woocommerce-product-variations"},(0,n.createElement)("div",{className:"woocommerce-product-variations__header"},(0,n.createElement)("h4",null,(0,u.__)("Variation","woocommerce")),(0,n.createElement)("h4",null,(0,u.sprintf)((0,u.__)("Price (%s)","woocommerce"),S.code)),(0,n.createElement)("h4",null,(0,u.__)("Quantity","woocommerce"))),(0,n.createElement)(i.Sortable,{onOrderChange:C},N.map((e=>(0,n.createElement)(i.ListItem,{key:v(e)},(0,n.createElement)("div",{className:"woocommerce-product-variations__attributes"},e.attributes.map((e=>{const t=(0,n.createElement)(i.Tag,{id:e.id,className:"woocommerce-product-variations__attribute",key:e.id,label:Ye()(e.option,{length:32}),screenReaderLabel:e.option});return e.option.length<=32?t:(0,n.createElement)(y.Tooltip,{key:e.id,text:e.option,position:"top center"},(0,n.createElement)("span",null,t))}))),(0,n.createElement)("div",{className:je()("woocommerce-product-variations__price",{"woocommerce-product-variations__price--fade":"private"===e.status})},g(e.price)),(0,n.createElement)("div",{className:je()("woocommerce-product-variations__quantity",{"woocommerce-product-variations__quantity--fade":"private"===e.status})},(0,n.createElement)("span",{className:je()("woocommerce-product-variations__status-dot",(0,c.getProductStockStatusClass)(e))},"●"),(0,c.getProductStockStatus)(e)),(0,n.createElement)("div",{className:"woocommerce-product-variations__actions"},(0,n.createElement)(i.Link,{href:(0,Ze.getNewPath)({},`/product/${_}/variation/${e.id}`,{}),type:"wc-admin",className:"components-button"},(0,u.__)("Edit","woocommerce")),"private"===e.status&&(0,n.createElement)(y.Tooltip,{position:"top center",text:Je},(0,n.createElement)(y.Button,{className:"components-button--hidden","aria-label":m[e.id]?Xe:Je,"aria-disabled":m[e.id],onClick:()=>x(e.id,"publish")},m[e.id]?(0,n.createElement)(y.Spinner,null):(0,n.createElement)(Qe,null))),"publish"===e.status&&(0,n.createElement)(y.Tooltip,{position:"top center",text:Ge},(0,n.createElement)(y.Button,{className:"components-button--visible","aria-label":m[e.id]?Xe:Ge,"aria-disabled":m[e.id],onClick:()=>x(e.id,"private")},m[e.id]?(0,n.createElement)(y.Spinner,null):(0,n.createElement)(Ve,null)))))))),(0,n.createElement)(i.Pagination,{className:"woocommerce-product-variations__footer",page:e,perPage:o,total:h,showPagePicker:!1,onPageChange:t,onPerPageChange:r}))},$e=()=>{const{getInputProps:e,values:{id:t}}=(0,i.useFormContext)(),{value:o}=e("attributes",{productId:t});return 0===(o?o.filter((e=>e.variation)):[]).length?null:(0,n.createElement)(Ue,{title:(0,u.__)("Variations","woocommerce"),description:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("span",null,(0,u.__)("Manage individual product combinations created from options.","woocommerce")),(0,n.createElement)(i.Link,{className:"woocommerce-form-section__header-link",href:"https://woocommerce.com/posts/product-variations-display/",target:"_blank",type:"external",onClick:()=>{(0,M.recordEvent)("add_product_variation_help")}},(0,u.__)("How to make variations work for you","woocommerce")))},(0,n.createElement)(qe,null))},Ke=()=>{const{values:e}=(0,i.useFormContext)(),t=(0,n.useMemo)((()=>{var t,o,n;return{general:{name:"general",title:(0,u.__)("General","woocommerce")},pricing:{name:"pricing",title:(0,u.__)("Pricing","woocommerce"),disabled:!(null==e||null===(t=e.variations)||void 0===t||!t.length)},inventory:{name:"inventory",title:(0,u.__)("Inventory","woocommerce"),disabled:!(null==e||null===(o=e.variations)||void 0===o||!o.length)},shipping:{name:"shipping",title:(0,u.__)("Shipping","woocommerce"),disabled:!(null==e||null===(n=e.variations)||void 0===n||!n.length)},options:{name:"options",title:(0,u.__)("Options","woocommerce")}}}),[e.variations]);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.__experimentalWooProductTabItem,{id:_,templates:[{name:_,order:1}],pluginId:v,tabProps:t.general},(0,n.createElement)(c.__experimentalWooProductSectionItem.Slot,{tab:_})),(0,n.createElement)(c.__experimentalWooProductTabItem,{id:p,templates:[{name:_,order:3}],pluginId:v,tabProps:t.pricing},(0,n.createElement)(c.__experimentalWooProductSectionItem.Slot,{tab:p})),(0,n.createElement)(c.__experimentalWooProductTabItem,{id:g,templates:[{name:_,order:5}],pluginId:v,tabProps:t.inventory},(0,n.createElement)(c.__experimentalWooProductSectionItem.Slot,{tab:g})),(0,n.createElement)(c.__experimentalWooProductTabItem,{id:E,templates:[{name:_,order:7}],pluginId:v,tabProps:t.shipping},(0,n.createElement)(c.__experimentalWooProductSectionItem.Slot,{tab:E,fillProps:{product:e}})),window.wcAdminFeatures["product-variation-management"]?(0,n.createElement)(c.__experimentalWooProductTabItem,{id:"tab/options",templates:[{name:_,order:9}],pluginId:v,tabProps:t.options},(0,n.createElement)(n.Fragment,null,(0,n.createElement)(He,null),(0,n.createElement)($e,null))):null)};(0,r.registerPlugin)("wc-admin-product-editor-form-fills",{scope:"woocommerce-product-editor",render:()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(Ke,null),(0,n.createElement)(C,null),(0,n.createElement)(ze,null),(0,n.createElement)(Ae,null),(0,n.createElement)(Z,{tabId:E,basicSectionId:"tab/shipping/basic",dimensionsSectionId:"tab/shipping/dimensions"}),(0,n.createElement)($,{tabId:p,basicSectionId:"tab/pricing/basic",taxesSectionId:"tab/pricing/taxes",taxesAdvancedSectionId:"tab/pricing/taxes/advanced"}),(0,n.createElement)(le,{tabId:g,basicSectionId:"tab/inventory/basic",advancedSectionId:"tab/inventory/advanced"}))});var et=o(4981),tt=o(61422),ot=o.n(tt);function nt(e){let{id:t,label:o,value:r,className:a,onChange:l,...c}=e;const m=null!=t?t:ot()();function s(e){"function"==typeof l&&l(e)}return(0,n.createElement)("div",(0,S.Z)({},c,{className:je()("woocommerce-single-image-field",a)}),(0,n.createElement)("label",{htmlFor:m,className:"components-base-control__label woocommerce-single-image-field__label"},o),r?(0,n.createElement)("div",{id:m,className:"woocommerce-single-image-field__gallery",tabIndex:-1,role:"region"},(0,n.createElement)(i.ImageGallery,{onReplace:e=>{let{media:t}=e;return s(t)},onRemove:()=>s(void 0)},(0,n.createElement)(i.ImageGalleryItem,{key:r.id,id:String(r.id),alt:r.alt,src:r.url}))):(0,n.createElement)("div",{id:m,className:"woocommerce-single-image-field__drop-zone",tabIndex:-1,role:"region"},(0,n.createElement)(i.MediaUploader,{onError:()=>null,onSelect:e=>s(e),onUpload:e=>{let[t]=e;return s(t)},onFileUploadChange:e=>{let[t]=e;return s(t)},label:(0,u.__)("Drag image here or click to upload","woocommerce"),buttonText:(0,u.__)("Choose image","woocommerce")})))}function rt(e){if(e)return{id:e.id,url:e.src,alt:e.alt,title:e.name}}const at=()=>{const{getCheckboxControlProps:e,getInputProps:t,values:o,setValue:r}=(0,i.useFormContext)(),[a,l]=(0,n.useState)((0,et.rawHandler)({HTML:o.description})),m=t("image");return(0,n.createElement)(Ue,{title:(0,u.__)("Variant details","woocommerce"),description:(0,u.__)("This info will be displayed on the product page, category pages, social media, and search results.","woocommerce")},(0,n.createElement)(y.Card,null,(0,n.createElement)(y.CardBody,null,(0,n.createElement)(y.CheckboxControl,(0,S.Z)({label:(0,n.createElement)(n.Fragment,null,(0,u.__)("Visible to customers","woocommerce"),(0,n.createElement)(i.__experimentalTooltip,{text:(0,u.__)("When enabled, customers will be able to select and purchase this variation from the product page.","woocommerce")}))},e("status",(0,c.getCheckboxTracks)("status")),{checked:"publish"===o.status,onChange:()=>r("status","publish"!==o.status?"publish":"private")})),(0,n.createElement)(i.__experimentalRichTextEditor,{label:(0,u.__)("Description","woocommerce"),blocks:a,onChange:e=>{l(e),a.length&&r("description",(0,et.serialize)(e))},placeholder:(0,u.__)("Describe this product. What makes it unique? What are its most important features?","woocommerce")}),(0,n.createElement)(y.BaseControl,{id:"product-variation-image"},(0,n.createElement)(nt,{label:(0,u.__)("Image","woocommerce"),value:rt(m.value),onChange:e=>r("image",function(e){if(e)return{id:e.id,src:e.url,alt:e.alt,name:e.title}}(e))})))))},lt={general:{name:"general",title:(0,u.__)("General","woocommerce")},pricing:{name:"pricing",title:(0,u.__)("Pricing","woocommerce")},inventory:{name:"inventory",title:(0,u.__)("Inventory","woocommerce")},shipping:{name:"shipping",title:(0,u.__)("Shipping","woocommerce")},options:{name:"options",title:(0,u.__)("Options","woocommerce")}},it=()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(c.__experimentalWooProductTabItem,{id:"variant/tab/general",templates:[{name:"tab/variation",order:1}],pluginId:v,tabProps:lt.general},(0,n.createElement)(at,null)),(0,n.createElement)(c.__experimentalWooProductTabItem,{id:b,templates:[{name:"tab/variation",order:3}],pluginId:v,tabProps:lt.pricing},(0,n.createElement)(c.__experimentalWooProductSectionItem.Slot,{tab:b})),(0,n.createElement)(c.__experimentalWooProductTabItem,{id:I,templates:[{name:"tab/variation",order:5}],pluginId:v,tabProps:lt.inventory},(0,n.createElement)(c.__experimentalWooProductSectionItem.Slot,{tab:I})),(0,n.createElement)(c.__experimentalWooProductTabItem,{id:h,templates:[{name:"tab/variation",order:7}],pluginId:v,tabProps:lt.shipping},(e=>{let{product:t}=e;return(0,n.createElement)(c.__experimentalWooProductSectionItem.Slot,{tab:h,fillProps:{product:t}})})));(0,r.registerPlugin)("wc-admin-product-editor-form-variation-fills",{scope:"woocommerce-product-editor",render:()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(it,null),(0,n.createElement)(Z,{tabId:h,basicSectionId:"variant/tab/shipping/basic",dimensionsSectionId:"variant/tab/shipping/dimensions"}),(0,n.createElement)($,{tabId:b,basicSectionId:"variant/tab/pricing/basic",taxesSectionId:"variant/tab/pricing/taxes",taxesAdvancedSectionId:"variant/tab/pricing/taxes/advanced"}),(0,n.createElement)(le,{tabId:I,basicSectionId:"variant/tab/inventory/basic",advancedSectionId:"variant/tab/inventory/advanced"}))})},80269:function(e,t,o){o.d(t,{U:function(){return p},b:function(){return m}});var n=o(69307),r=o(65736),a=o(55609),l=o(9818),i=o(75606),c=o(78215);const m=e=>{let{onClose:t}=e;const{showCesModal:o}=(0,l.useDispatch)(i.STORE_KEY);return(0,n.createElement)(a.MenuItem,{onClick:()=>{o({action:"new_product",title:(0,r.__)("How's your experience with the product editor?","woocommerce"),firstQuestion:(0,r.__)("The product editing screen is easy to use","woocommerce"),secondQuestion:(0,r.__)("The product editing screen's functionality meets my needs","woocommerce")},{shouldShowComments:()=>!0},{type:"snackbar",icon:(0,n.createElement)("span",null,"🌟")}),t()},icon:(0,n.createElement)(c.A,null),iconPosition:"right"},(0,r.__)("Share feedback","woocommerce"))};var s=o(74617),d=o(67221),u=o(51393);const _=()=>(0,n.createElement)("svg",{width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.73365 13.1059L5.91005 10.7253L4.81688 9.69821L0.970703 13.8559L4.81688 18.0137L5.91005 16.9865L3.73365 14.6059H6.54528C7.67008 14.6059 8.79454 14.6362 9.91926 14.6059C11.3464 14.6047 13.2805 14.3559 14.882 13.3288C16.5414 12.2645 17.7498 10.423 17.7498 7.47022C17.7498 4.99134 16.4227 2.57446 14.1007 1.53934C12.279 0.727299 11.0554 0.740873 9.29353 0.751627C9.09868 0.752817 8.90948 0.753973 8.7271 0.753973C8.7271 0.753973 8.7271 1.08588 8.7271 1.50009C8.7271 1.9143 8.7271 2.25397 8.7271 2.25397C8.91043 2.25397 9.09488 2.25326 9.27997 2.25254C11.1006 2.24547 11.9842 2.23816 13.4899 2.90938C15.3434 3.73563 16.2498 5.56574 16.2498 7.47022C16.2498 9.94253 15.2764 11.2938 14.0722 12.0662C12.8139 12.8732 11.2081 13.1059 9.90892 13.1059H9.89866L9.8884 13.1062C8.774 13.1367 7.65978 13.1059 6.54528 13.1059H3.73365Z",fill:"#1E1E1E"})),p=e=>{let{onClose:t,productId:o}=e;const{showProductMVPFeedbackModal:c}=(0,l.useDispatch)(i.STORE_KEY),{updateOptions:m}=(0,l.useDispatch)(d.OPTIONS_STORE_NAME),{allowTracking:p,resolving:g}=(0,l.useSelect)((e=>{const{getOption:t,hasFinishedResolution:o}=e(d.OPTIONS_STORE_NAME);return{allowTracking:"yes"===(t(i.ALLOW_TRACKING_OPTION_NAME)||"no"),resolving:!o("getOption",[i.ALLOW_TRACKING_OPTION_NAME])}})),E=o?(0,s.getAdminLink)(`post.php?post=${o}&action=edit`):(0,s.getAdminLink)("post-new.php?post_type=product");return g?null:(0,n.createElement)(a.MenuItem,{onClick:()=>{p?(m({[u.NEW_PRODUCT_MANAGEMENT_ENABLED_OPTION_NAME]:"no"}),c(),t()):(window.location.href=E,t())},icon:(0,n.createElement)(_,null),iconPosition:"right"},(0,r.__)("Use the classic editor","woocommerce"))}},39152:function(e,t,o){o.d(t,{H:function(){return a}});var n=o(69307),r=o(51393);const a=()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.__experimentalProductMVPCESFooter,null),(0,n.createElement)(r.__experimentalProductMVPFeedbackModalContainer,null))},36279:function(e,t,o){o.d(t,{a:function(){return s}});var n=o(69307),r=o(65736),a=o(55609),l=o(10431),i=o(51393),c=o(83849),m=o.n(c);const s=e=>{let{id:t,product:o}=e;const c=(0,l.getQuery)();(0,n.useEffect)((()=>(window.document.body.classList.add("woocommerce-admin-product-layout"),()=>{window.document.body.classList.remove("woocommerce-admin-product-layout")})),[]);const{adminBarHeight:s,headerHeight:d}=(()=>{const[e,t]=(0,n.useState)(60),[o,r]=(0,n.useState)(32);return(0,n.useEffect)((()=>{const e=document.querySelector("#wpbody"),o=new MutationObserver((()=>{t(parseInt(e.style.marginTop,10))}));return o.observe(e,{attributes:!0}),()=>{o.disconnect()}}),[]),(0,n.useLayoutEffect)((()=>{const e=()=>{const e=document.querySelector("#wpadminbar");r(e.clientHeight)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),{adminBarHeight:o,headerHeight:e}})();(0,n.useEffect)((()=>{const e=document.querySelector(".product-form-layout .components-tab-panel__tabs");e&&(e.style.top=s+d+"px")}),[s,d]);const u=e=>e.map((e=>({name:e.name,title:e.disabled?(0,n.createElement)(a.Tooltip,{text:(0,r.__)("Manage individual variation details in the Options tab.","woocommerce")},(0,n.createElement)("span",{className:"woocommerce-product-form-tab__item-inner"},(0,n.createElement)("span",{className:"woocommerce-product-form-tab__item-inner-text"},e.title))):(0,n.createElement)("span",{className:"woocommerce-product-form-tab__item-inner"},(0,n.createElement)("span",{className:"woocommerce-product-form-tab__item-inner-text"},e.title)),disabled:e.disabled})));return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.__experimentalWooProductTabItem.Slot,{template:"tab/"+t,fillProps:{product:o}},((e,t)=>{var r;return e.length>0?(0,n.createElement)(a.TabPanel,{className:"product-form-layout",activeClass:"is-active",tabs:u(e),initialTabName:null!==(r=c.tab)&&void 0!==r?r:e[0].name,onSelect:e=>{window.document.documentElement.scrollTop=0,(0,l.navigateTo)({url:(0,l.getNewPath)({tab:e})})}},(e=>{const r=m()("woocommerce-product-form-tab","woocommerce-product-form-tab__"+e.name),a=t[e.name];return(0,n.createElement)("div",{className:r,key:e.name},"function"==typeof a?a(o):a)})):null})))}},78747:function(e,t,o){o.d(t,{H:function(){return R}});var n=o(69307),r=o(86020),a=o(98817),l=o(65736),i=o(55609),c=o(23374),m=o(47642),s=o(73224),d=o(46530),u=o(75606),_=o(51393),p=o(14599),g=o(10431),E=o(9818),b=o(90162);const I=()=>{const{createProductWithStatus:e,updateProductWithStatus:t,deleteProductAndRedirect:o,copyProductWithStatus:a,isUpdatingDraft:I,isUpdatingPublished:h,isDeleting:w}=(0,_.__experimentalUseProductHelper)(),{onPublish:N,onSaveDraft:v}=(0,_.__experimentalUseProductMVPCESFooter)(),{isDirty:C,isValidForm:S,values:x,resetForm:M}=(0,r.useFormContext)();(0,g.useConfirmUnsavedChanges)(C,_.preventLeavingProductForm),(0,u.useCustomerEffortScoreExitPageTracker)(x.id?"editing_new_product":"new_product",C);const{isSmallViewport:y}=(0,E.useSelect)((e=>({isSmallViewport:e(b.store).isViewportMatch("< medium")}))),T=()=>({product_id:x.id,product_type:x.type,is_downloadable:x.downloadable,is_virtual:x.virtual,manage_stock:x.manage_stock}),k=async()=>{if((0,p.recordEvent)("product_update",{new_product_page:!0,...T()}),x.id){const e=await t(x.id,x,"publish");e&&e.id&&M(e)}else{const t=await e(x,"publish");null!=t&&t.id&&(M(),(0,g.navigateTo)({url:"admin.php?page=wc-admin&path=/product/"+t.id}))}await N()},P=async()=>{(0,p.recordEvent)("product_publish_and_copy",{new_product_page:!0,...T()}),x.id?await t(x.id,x,"publish"):await e(x,"publish",!1),await a(x)},f=async()=>{(0,p.recordEvent)("product_copy",{new_product_page:!0,...T()}),x.id&&await t(x.id,x,x.status||"draft"),await a(x)},D=async()=>{if((0,p.recordEvent)("product_delete",{new_product_page:!0,...T()}),x.id){const e=await o(x.id);null!=e&&e.id&&(M(e),(0,g.navigateTo)({url:"edit.php?post_type=product"}))}},A=x.id&&"publish"===x.status,L=y?i.MenuItem:i.Button,R=(0,n.createElement)(n.Fragment,null,(0,n.createElement)(L,{onClick:async()=>{if((0,p.recordEvent)("product_edit",{new_product_page:!0,...T()}),x.id){const e=await t(x.id,x,"draft");e&&e.id&&M(e)}else{const t=await e(x,"draft");null!=t&&t.id&&(M(),(0,g.navigateTo)({url:"admin.php?page=wc-admin&path=/product/"+t.id}))}await v()},disabled:!S||!C&&!!x.id&&"publish"!==x.status||I||h||w},!C&&x.id&&"publish"!==x.status&&(0,n.createElement)(c.Z,{icon:m.Z}),I?(0,l.__)("Saving","woocommerce"):null,!C&&x.id||I||"publish"===x.status?null:(0,l.__)("Save draft","woocommerce"),"publish"!==x.status||I?null:(0,l.__)("Switch to draft","woocommerce"),C||!x.id||I||"publish"===x.status?null:(0,l.__)("Saved","woocommerce")),(0,n.createElement)(L,{onClick:()=>(0,p.recordEvent)("product_preview_changes",{new_product_page:!0,...T()}),href:x.permalink+"?preview=true",disabled:!S||!x.permalink,target:"_blank"},(0,l.__)("Preview","woocommerce")));return(0,n.createElement)(d.WooHeaderItem,null,(()=>(0,n.createElement)("div",{className:"woocommerce-product-form-actions"},!y&&R,(0,n.createElement)(i.ButtonGroup,{className:"woocommerce-product-form-actions__publish-button-group"},(0,n.createElement)(i.Button,{onClick:k,variant:"primary",isBusy:h,disabled:!S||!C&&!!A||I||h||w},h?(0,l.__)("Updating","woocommerce"):null,A&&!h?(0,l.__)("Update","woocommerce"):null,A||h?null:(0,l.__)("Publish","woocommerce")),(0,n.createElement)(i.DropdownMenu,{className:"woocommerce-product-form-actions__publish-dropdown",label:(0,l.__)("Publish options","woocommerce"),icon:s.Z,popoverProps:{position:"bottom left"},toggleProps:{variant:"primary",disabled:!x.id&&!S}},(()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.MenuGroup,null,y&&R,(0,n.createElement)(i.MenuItem,{onClick:P,disabled:!S},A?(0,l.__)("Update & duplicate","woocommerce"):(0,l.__)("Publish & duplicate","woocommerce")),(0,n.createElement)(i.MenuItem,{onClick:f,disabled:!S},(0,l.__)("Copy to a new draft","woocommerce")),x.id&&(0,n.createElement)(i.MenuItem,{onClick:D,isDestructive:!0},(0,l.__)("Move to trash","woocommerce"))))))))))};(0,a.registerPlugin)("action-buttons-header-item",{render:I,icon:"admin-generic"});var h=o(85797),w=o(67221),N=o(80269);const v=()=>{const{values:e}=(0,r.useFormContext)(),{resolving:t}=(0,E.useSelect)((e=>{const{hasFinishedResolution:t}=e(w.OPTIONS_STORE_NAME);return{resolving:!t("getOption",[u.ALLOW_TRACKING_OPTION_NAME])}}));return t?null:(0,n.createElement)(d.WooHeaderItem,null,(0,n.createElement)(i.DropdownMenu,{className:"woocommerce-product-form-more-menu",label:(0,l.__)("More product options","woocommerce"),icon:h.Z,popoverProps:{position:"bottom left"}},(t=>{let{onClose:o}=t;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(N.b,{onClose:o}),(0,n.createElement)(N.U,{productId:e.id,onClose:o}))})))};var C=o(5267),S=o(78018),x=o(28601);const M=()=>{const{getCheckboxControlProps:e,getInputProps:t}=(0,r.useFormContext)(),[o,a]=(0,n.useState)(!1);return(0,n.createElement)(d.WooHeaderItem,null,(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.Button,{"aria-label":(0,l.__)("Settings","woocommerce"),icon:S.Z,isPressed:o,onClick:()=>a(!o),className:"woocommerce-product-settings__toggle"}),o&&(0,n.createElement)(i.Panel,{className:"woocommerce-product-settings__panel"},(0,n.createElement)(i.PanelHeader,{label:(0,l.__)("Settings","woocommerce")},(0,n.createElement)(i.Button,{icon:x.Z,onClick:()=>a(!1),"aria-label":(0,l.__)("Close settings","woocommerce")})),(0,n.createElement)(i.PanelBody,{title:(0,l.__)("Advanced","woocommerce")},(0,n.createElement)(i.CheckboxControl,(0,C.Z)({label:(0,l.__)("Enable reviews","woocommerce")},e("reviews_allowed",(0,_.getCheckboxTracks)("reviews_allowed")))),(0,n.createElement)(i.TextControl,(0,C.Z)({label:(0,l.__)("Menu order","woocommerce"),type:"number"},t("menu_order")))))))};var y=o(39616);const T=()=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(y.t,null),(0,n.createElement)(I,null),(0,n.createElement)(M,null),(0,n.createElement)(v,null));var k=o(36279),P=o(76292),f=o.n(P);function D(e){const t={},o=f()(e.date_on_sale_from_gmt,f().ISO_8601,!0),n=f()(e.date_on_sale_to_gmt,f().ISO_8601,!0);return e.date_on_sale_from_gmt&&!o.isValid()&&(t.date_on_sale_from_gmt=(0,l.__)("Please enter a valid date.","woocommerce")),e.date_on_sale_to_gmt&&!n.isValid()&&(t.date_on_sale_to_gmt=(0,l.__)("Please enter a valid date.","woocommerce")),o.isAfter(n)&&(t.date_on_sale_from_gmt=(0,l.__)("The start date of the sale must be before the end date.","woocommerce")),n.isBefore(o)&&(t.date_on_sale_to_gmt=(0,l.__)("The end date of the sale must be after the start date.","woocommerce")),t}const A=e=>{var t,o,n,r;let a={};var i,c;return a=((e,t)=>{const o={...t};return e.stock_quantity&&e.stock_quantity<0&&(o.stock_quantity=(0,l.__)("Stock quantity must be a positive number.","woocommerce")),e.low_stock_amount&&e.low_stock_amount<0&&(o.low_stock_amount=(0,l.__)("Stock quantity must be a positive number.","woocommerce")),o})(e,a),null!==(t=e.name)&&void 0!==t&&t.length||(a.name=(0,l.__)("This field is required.","woocommerce")),e.name&&e.name.length>120&&(a.name=(0,l.__)("Please enter a product name shorter than 120 characters.","woocommerce")),e.regular_price&&!/^[0-9.,]+$/.test(e.regular_price)&&(a.regular_price=(0,l.__)("Please enter a price with one monetary decimal point without thousand separators and currency symbols.","woocommerce")),e.sale_price&&!/^[0-9.,]+$/.test(e.sale_price)&&(a.sale_price=(0,l.__)("Please enter a price with one monetary decimal point without thousand separators and currency symbols.","woocommerce")),e.sale_price&&(!e.regular_price||parseFloat(e.sale_price)>=parseFloat(null==e?void 0:e.regular_price))&&(a.sale_price=(0,l.__)("Sale price cannot be equal to or higher than list price.","woocommerce")),a={...a,...D(e)},null!==(o=e.dimensions)&&void 0!==o&&o.width&&+e.dimensions.width<=0&&(a.dimensions={width:(0,l.__)("Width must be higher than zero.","woocommerce")}),null!==(n=e.dimensions)&&void 0!==n&&n.length&&+e.dimensions.length<=0&&(a.dimensions={...null!==(i=a.dimensions)&&void 0!==i?i:{},length:(0,l.__)("Length must be higher than zero.","woocommerce")}),null!==(r=e.dimensions)&&void 0!==r&&r.height&&+e.dimensions.height<=0&&(a.dimensions={...null!==(c=a.dimensions)&&void 0!==c?c:{},height:(0,l.__)("Height must be higher than zero.","woocommerce")}),e.weight&&+e.weight<=0&&(a.weight=(0,l.__)("Weight must be higher than zero.","woocommerce")),a};var L=o(39152);const R=e=>{let{product:t,formRef:o}=e;return(0,n.createElement)(r.SlotContextProvider,null,(0,n.createElement)(r.Form,{initialValues:t||{backorders:"no",name:"",reviews_allowed:!0,sku:"",stock_quantity:0,stock_status:"instock"},ref:o,errors:{},validate:A},(0,n.createElement)(T,null),(0,n.createElement)(k.a,{id:"general",product:t}),(0,n.createElement)(L.H,null),(0,n.createElement)(a.PluginArea,{scope:"woocommerce-product-editor"})))}},39616:function(e,t,o){o.d(t,{t:function(){return h}});var n=o(69307),r=o(65736),a=o(46530),l=o(67221),i=o(74617),c=o(10431),m=o(51393),s=o(86020),d=o(85597),u=o(9818),_=o(23374),p=o(81694);const g=e=>{let{breadcrumbs:t}=e;const o=t.length>3?[t[0],{title:(0,n.createElement)(n.Fragment,null,"…")},t[t.length-1]]:t;return(0,n.createElement)("span",{className:"woocommerce-product-breadcrumbs"},o.map((e=>{const{href:t,title:o,type:r}=e;return(0,n.createElement)(n.Fragment,{key:t},(0,n.createElement)("span",{className:"woocommerce-product-breadcrumbs__item"},t?(0,n.createElement)(s.Link,{href:t,type:r||"wp-admin"},o):o),(0,n.createElement)("span",{className:"woocommerce-product-breadcrumbs__separator"},(0,n.createElement)(_.Z,{icon:p.Z})))})))};var E=o(83849),b=o.n(E);const I=()=>{const{productId:e}=(0,d.UO)(),t=(0,u.useSelect)((t=>e?t(l.PRODUCTS_STORE_NAME).getProduct(parseInt(e,10),void 0):void 0)),o=(0,m.getProductStatus)(t);return(0,n.createElement)(s.Pill,{className:b()("woocommerce-product-status",`is-${o}`)},m.PRODUCT_STATUS_LABELS[o])},h=()=>{const{values:e}=(0,s.useFormContext)(),{productId:t,variationId:o}=(0,d.UO)(),{isLoading:_,persistedName:p,productVariation:E}=(0,u.useSelect)((e=>{const{getProduct:n,hasFinishedResolution:r}=e(l.PRODUCTS_STORE_NAME),{getProductVariation:a,hasFinishedResolution:i}=e(l.EXPERIMENTAL_PRODUCT_VARIATIONS_STORE_NAME),c=t?n(parseInt(t,10)):null,m=o&&t?a({id:parseInt(o,10),product_id:parseInt(t,10)}):null,s=t&&!r("getProduct",[parseInt(t,10)]),d=o&&t&&!i("getProductVariation",[{id:parseInt(o,10),product_id:parseInt(t,10)}]);return{persistedName:null==c?void 0:c.name,productVariation:m,isLoading:s||d}})),b=(0,m.getProductTitle)(e.name,e.type,p),h=E&&(0,m.getProductVariationTitle)(E),w=[{href:(0,i.getAdminLink)("edit.php?post_type=product"),title:(0,r.__)("Products","woocommerce")},{href:(0,c.getNewPath)({},"/product/"+t),type:"wc-admin",title:(0,n.createElement)(n.Fragment,null,b,(0,n.createElement)(I,null))},h&&{title:(0,n.createElement)("span",{title:h},(0,m.getTruncatedProductVariationTitle)(E))}].filter((e=>!!e)),N=w.pop();return _?null:(0,n.createElement)(a.WooHeaderPageTitle,null,(0,n.createElement)("span",{className:"woocommerce-product-title"},(0,n.createElement)(g,{breadcrumbs:w}),(0,n.createElement)("span",{className:"woocommerce-product-title__wrapper"},null==N?void 0:N.title)))}},83911:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUxIiBoZWlnaHQ9IjcyIiB2aWV3Qm94PSIwIDAgMTUxIDcyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB4PSI0NS44MjkxIiB5PSIyNS4yMzYzIiB3aWR0aD0iNzguNDk0NSIgaGVpZ2h0PSI0NS4yNjM3IiByeD0iMy43MzgxIiBmaWxsPSIjRjZGN0Y3IiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWRhc2hhcnJheT0iNCAzIi8+CjxyZWN0IHg9IjIuMzEyNSIgeT0iMS41IiB3aWR0aD0iNzguNDk0NSIgaGVpZ2h0PSI2OSIgcng9IjMuNzM4MSIgZmlsbD0id2hpdGUiIHN0cm9rZT0iI0RERERERCIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxsaW5lIHgxPSIxMS4zNTE2IiB5MT0iOS45NDkyMiIgeDI9IjMzLjY3MDIiIHkyPSI5Ljk0OTIyIiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxsaW5lIHgxPSIxMS4wMTU2IiB5MT0iNTUuNDY2OCIgeDI9IjMzLjMzNDMiIHkyPSI1NS40NjY4IiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxsaW5lIHgxPSIxMS4wMTU2IiB5MT0iNjEuMDA1NCIgeDI9IjI2LjIxMzQiIHkyPSI2MS4wMDU0IiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxyZWN0IHg9IjExLjAxNTYiIHk9IjQxLjA2MDUiIHdpZHRoPSIyNy4wNjU5IiBoZWlnaHQ9IjguMDc2OTIiIHJ4PSIxLjUiIHN0cm9rZT0iI0RERERERCIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxsaW5lIHgxPSI0NS4wMzYxIiB5MT0iNTUuNDY3MyIgeDI9IjY3LjM1NDgiIHkyPSI1NS40NjczIiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxsaW5lIHgxPSI0NS4wMzYxIiB5MT0iNjEuMDA1NCIgeDI9IjYwLjIzMzkiIHkyPSI2MS4wMDU0IiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxyZWN0IHg9IjQ1LjAzNjEiIHk9IjQxLjA2MDUiIHdpZHRoPSIyNy4wNjU5IiBoZWlnaHQ9IjguMDc2OTIiIHJ4PSIxLjUiIHN0cm9rZT0iI0RERERERCIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxyZWN0IHg9IjExLjAxNTYiIHk9IjE4LjExNTIiIHdpZHRoPSI2MS4wODc5IiBoZWlnaHQ9IjE0LjQwNjYiIHJ4PSIxLjUiIHN0cm9rZT0iI0RERERERCIgc3Ryb2tlLXdpZHRoPSIzIi8+CjxwYXRoIGQ9Ik01OC41NzAzIDIzLjczNjNMNjEuNDIzNiAyNi41ODk3QzYxLjgxNDIgMjYuOTgwMiA2Mi40NDczIDI2Ljk4MDIgNjIuODM3OSAyNi41ODk3TDY1LjY5MTIgMjMuNzM2MyIgc3Ryb2tlPSIjREREREREIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPgo8bGluZSB4MT0iMTcuNSIgeTE9IjI1IiB4Mj0iMzkuODE4NyIgeTI9IjI1IiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+CjxwYXRoIGQ9Ik0xNDkuMTg4IDQyLjYzMDhMMTM0Ljk3NyAzMC4xOTY4IiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxjaXJjbGUgcj0iMTguMDM5MiIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTIyLjU0MSAxOS41MzkyKSIgZmlsbD0id2hpdGUiIHN0cm9rZT0iI0RERERERCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMjEuMjk3IDE1LjgzNEgxMzEuNjY3TTEyMS4yOTcgMjQuMDAwN0gxMzEuNjY3IiBzdHJva2U9IiNEREREREQiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxlbGxpcHNlIGN4PSIxMTQuMzMzIiBjeT0iMjMuOTk5MyIgcng9IjIuMzMzMzMiIHJ5PSIyLjMzMzMzIiBmaWxsPSIjREREREREIi8+CjxlbGxpcHNlIGN4PSIxMTQuMzMzIiBjeT0iMTUuODMzMyIgcng9IjIuMzMzMzMiIHJ5PSIyLjMzMzMzIiBmaWxsPSIjREREREREIi8+Cjwvc3ZnPgo="},34537:function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIiIGhlaWdodD0iNzQiIHZpZXdCb3g9IjAgMCA3MiA3NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxyZWN0IHg9IjIwLjcxIiB5PSIxLjUiIHdpZHRoPSI0OS42NTExIiBoZWlnaHQ9IjQ5LjY1MTEiIHJ4PSIyLjUiIGZpbGw9IiNGNkY3RjciIHN0cm9rZT0iI0UwRTBFMCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1kYXNoYXJyYXk9IjQgOSIvPgoJPHJlY3QgeD0iMS44MzM4MSIgeT0iMTguMDE4OCIgd2lkdGg9IjQ5LjY1MTEiIGhlaWdodD0iNDkuNjUxMSIgcng9IjIuNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTggMS44MzM4MSAxOC4wMTg4KSIgZmlsbD0id2hpdGUiIHN0cm9rZT0iI0NDQ0NDQyIgc3Ryb2tlLXdpZHRoPSIzIi8+Cgk8cGF0aCBkPSJNNy4xMzM5MiA1NC4xMTA1TDE5LjY5MjQgNDIuNDY3MkwzMS4wNCA0Ny40NThMNDEuNjMxNiAzNC40NDQ3TDU1LjM5OTkgNDQuMDM0NCIgc3Ryb2tlPSIjQ0NDQ0NDIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KCTxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMTQyNiA1NS43MDczTDY1LjE3NjIgNjEuNzQyNkw1OS4xODgzIDY1LjYzMDVMNDguMTQyNiA1NS43MDczWk00OC4xNDI1IDU1LjcwNzdMNTUuOTYxNyA3MS45OTk3TDU5LjE4ODIgNjUuNjMwOUw0OC4xNDI1IDU1LjcwNzdaIiBmaWxsPSIjQkJCQkJCIi8+Cgk8cGF0aCBkPSJNNjUuMTc2MiA2MS43NDI2TDY1Ljc4NzkgNjIuNjg0N0M2Ni4xNDY2IDYyLjQ1MTggNjYuMzQyIDYyLjAzNTQgNjYuMjkxNyA2MS42MTA3QzY2LjI0MTUgNjEuMTg2IDY1Ljk1NDUgNjAuODI2NiA2NS41NTE0IDYwLjY4MzhMNjUuMTc2MiA2MS43NDI2Wk00OC4xNDI2IDU1LjcwNzNMNDguNTE3OCA1NC42NDg1QzQ4LjAxMjQgNTQuNDY5NCA0Ny40NTA5IDU0LjY3MjUgNDcuMTc3IDU1LjEzMzRDNDYuOTAzIDU1LjU5NDQgNDYuOTkzIDU2LjE4NDYgNDcuMzkxOSA1Ni41NDI5TDQ4LjE0MjYgNTUuNzA3M1pNNTkuMTg4MyA2NS42MzA1TDU4LjQzNzYgNjYuNDY2MkM1OC44MTU0IDY2LjgwNTYgNTkuMzc0IDY2Ljg0OTMgNTkuOCA2Ni41NzI3TDU5LjE4ODMgNjUuNjMwNVpNNTUuOTYxNyA3MS45OTk3TDU0Ljk0OSA3Mi40ODU3QzU1LjEzNCA3Mi44NzEzIDU1LjUyMiA3My4xMTgzIDU1Ljk0OTYgNzMuMTIyOUM1Ni4zNzczIDczLjEyNzUgNTYuNzcwNCA3Mi44ODg4IDU2Ljk2MzcgNzIuNTA3M0w1NS45NjE3IDcxLjk5OTdaTTQ4LjE0MjUgNTUuNzA3N0w0OC44OTMyIDU0Ljg3MjFDNDguNDk0MyA1NC41MTM3IDQ3Ljg5NzggNTQuNDg3MyA0Ny40Njg4IDU0LjgwODhDNDcuMDM5NyA1NS4xMzA0IDQ2Ljg5NzggNTUuNzEwMyA0Ny4xMjk4IDU2LjE5MzdMNDguMTQyNSA1NS43MDc3Wk01OS4xODgyIDY1LjYzMDlMNjAuMTkwMiA2Ni4xMzg2QzYwLjQxOTcgNjUuNjg1NSA2MC4zMTY3IDY1LjEzNDcgNTkuOTM4OSA2NC43OTUzTDU5LjE4ODIgNjUuNjMwOVpNNjUuNTUxNCA2MC42ODM4TDQ4LjUxNzggNTQuNjQ4NUw0Ny43Njc0IDU2Ljc2NjFMNjQuODAxMSA2Mi44MDE0TDY1LjU1MTQgNjAuNjgzOFpNNTkuOCA2Ni41NzI3TDY1Ljc4NzkgNjIuNjg0N0w2NC41NjQ1IDYwLjgwMDVMNTguNTc2NiA2NC42ODg0TDU5LjggNjYuNTcyN1pNNDcuMzkxOSA1Ni41NDI5TDU4LjQzNzYgNjYuNDY2Mkw1OS45MzkgNjQuNzk0OUw0OC44OTMzIDU0Ljg3MTdMNDcuMzkxOSA1Ni41NDI5Wk01Ni45NzQ0IDcxLjUxMzZMNDkuMTU1MiA1NS4yMjE2TDQ3LjEyOTggNTYuMTkzN0w1NC45NDkgNzIuNDg1N0w1Ni45NzQ0IDcxLjUxMzZaTTU4LjE4NjEgNjUuMTIzM0w1NC45NTk2IDcxLjQ5Mkw1Ni45NjM3IDcyLjUwNzNMNjAuMTkwMiA2Ni4xMzg2TDU4LjE4NjEgNjUuMTIzM1pNNDcuMzkxOCA1Ni41NDMzTDU4LjQzNzUgNjYuNDY2NUw1OS45Mzg5IDY0Ljc5NTNMNDguODkzMiA1NC44NzIxTDQ3LjM5MTggNTYuNTQzM1oiIGZpbGw9IiNCQkJCQkIiLz4KPC9zdmc+Cg=="}}]);