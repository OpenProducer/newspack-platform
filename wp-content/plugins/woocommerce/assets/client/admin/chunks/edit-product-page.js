"use strict";(globalThis.webpackChunk_wcAdmin_webpackJsonp=globalThis.webpackChunk_wcAdmin_webpackJsonp||[]).push([[3307],{98076:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var n=r(69307),a=r(65736),c=r(14599),s=r(9818),i=r(86020),o=r(67221),u=r(85597),d=r(55429),l=r(59150),m=r(70770),p=r(25942),_=r(57194);const g=()=>{const{productId:e}=(0,u.UO)(),t=(0,n.useRef)(),r=(0,n.useRef)(null),{product:g,isLoading:E,isPendingAction:P}=(0,s.useSelect)((t=>{const{getProduct:r,hasFinishedResolution:n,isPending:a,getPermalinkParts:c}=t(o.PRODUCTS_STORE_NAME);if(e){const t=r(parseInt(e,10),void 0);return{product:c(parseInt(e,10))&&t?t:void 0,isLoading:!n("getProduct",[parseInt(e,10)])||!n("getPermalinkParts",[parseInt(e,10)]),isPendingAction:a("createProduct")||a("deleteProduct",parseInt(e,10))||a("updateProduct",parseInt(e,10))}}return{isLoading:!1,isPendingAction:!1}}));(0,n.useEffect)((()=>{t.current&&g&&t.current.id!==g.id&&r.current&&r.current.resetForm(g),t.current=g}),[g]),(0,n.useEffect)((()=>{(0,c.recordEvent)("view_new_product_management_experience")}),[]);const h=t.current?.id===g?.id&&"trash"!==t.current?.status&&"trash"===g?.status;return(0,n.createElement)("div",{className:"woocommerce-edit-product"},E&&!g?(0,n.createElement)("div",{className:"woocommerce-edit-product__spinner"},(0,n.createElement)(i.Spinner,null)):null,g&&"trash"===g.status&&!P&&!h&&(0,n.createElement)(d.a,null,(0,n.createElement)("div",{className:"woocommerce-edit-product__error"},(0,a.__)("You cannot edit this item because it is in the Trash. Please restore it and try again.","woocommerce"))),g&&("trash"!==g.status||h)&&(0,n.createElement)(i.Form,{ref:r,initialValues:g||{},validate:_.G,errors:{}},(0,n.createElement)(d.a,null,(0,n.createElement)(m.o,null),(0,n.createElement)(p.t,null),(0,n.createElement)(l.p,null))))}}}]);