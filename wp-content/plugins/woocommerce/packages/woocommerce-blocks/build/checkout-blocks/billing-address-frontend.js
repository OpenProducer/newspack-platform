(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[36],{27:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n(0),c=n(14),r=n.n(c);function o(e){const t=Object(s.useRef)(e);return r()(e,t.current)||(t.current=e),t.current}},277:function(e,t,n){"use strict";var s=n(13),c=n.n(s),r=n(0),o=n(5),i=n.n(o);n(278),t.a=e=>{let{children:t,className:n,headingLevel:s,...o}=e;const l=i()("wc-block-components-title",n),a="h"+s;return Object(r.createElement)(a,c()({className:l},o),t)}},278:function(e,t){},281:function(e,t){},282:function(e,t,n){"use strict";var s=n(1);t.a=e=>{let{defaultTitle:t=Object(s.__)("Step","woocommerce"),defaultDescription:n=Object(s.__)("Step description text.","woocommerce"),defaultShowStepNumber:c=!0}=e;return{title:{type:"string",default:t},description:{type:"string",default:n},showStepNumber:{type:"boolean",default:c}}}},288:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n(6),c=n(3);const r=()=>{const{customerData:e,isInitialized:t}=Object(s.useSelect)(e=>{const t=e(c.CART_STORE_KEY);return{customerData:t.getCustomerData(),isInitialized:t.hasFinishedResolution("getCartData")}}),{setShippingAddress:n,setBillingAddress:r}=Object(s.useDispatch)(c.CART_STORE_KEY);return{isInitialized:t,billingAddress:e.billingAddress,shippingAddress:e.shippingAddress,setBillingAddress:r,setShippingAddress:n}}},304:function(e,t){},305:function(e,t){},306:function(e,t){},309:function(e,t,n){"use strict";var s=n(0),c=n(5),r=n.n(c),o=n(277);n(281);const i=e=>{let{title:t,stepHeadingContent:n}=e;return Object(s.createElement)("div",{className:"wc-block-components-checkout-step__heading"},Object(s.createElement)(o.a,{"aria-hidden":"true",className:"wc-block-components-checkout-step__title",headingLevel:"2"},t),!!n&&Object(s.createElement)("span",{className:"wc-block-components-checkout-step__heading-content"},n))};t.a=e=>{let{id:t,className:n,title:c,legend:o,description:l,children:a,disabled:d=!1,showStepNumber:u=!0,stepHeadingContent:p=(()=>{})}=e;const b=o||c?"fieldset":"div";return Object(s.createElement)(b,{className:r()(n,"wc-block-components-checkout-step",{"wc-block-components-checkout-step--with-step-number":u,"wc-block-components-checkout-step--disabled":d}),id:t,disabled:d},!(!o&&!c)&&Object(s.createElement)("legend",{className:"screen-reader-text"},o||c),!!c&&Object(s.createElement)(i,{title:c,stepHeadingContent:p()}),Object(s.createElement)("div",{className:"wc-block-components-checkout-step__container"},!!l&&Object(s.createElement)("p",{className:"wc-block-components-checkout-step__description"},l),Object(s.createElement)("div",{className:"wc-block-components-checkout-step__content"},a)))}},378:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var s=n(2),c=n(0),r=n(6),o=n(3),i=n(288),l=n(116);const a=()=>{const{needsShipping:e}=Object(l.a)(),{useShippingAsBilling:t,prefersCollection:n}=Object(r.useSelect)(e=>({useShippingAsBilling:e(o.CHECKOUT_STORE_KEY).getUseShippingAsBilling(),prefersCollection:e(o.CHECKOUT_STORE_KEY).prefersCollection()})),{__internalSetUseShippingAsBilling:a}=Object(r.useDispatch)(o.CHECKOUT_STORE_KEY),{billingAddress:d,setBillingAddress:u,shippingAddress:p,setShippingAddress:b}=Object(i.a)(),g=Object(c.useCallback)(e=>{u({email:e})},[u]),h=Object(c.useCallback)(e=>{u({phone:e})},[u]),m=Object(c.useCallback)(e=>{b({phone:e})},[b]),O=Object(s.getSetting)("forcedBillingAddress",!1);return{shippingAddress:p,billingAddress:d,setShippingAddress:b,setBillingAddress:u,setEmail:g,setBillingPhone:h,setShippingPhone:m,defaultAddressFields:s.defaultAddressFields,useShippingAsBilling:t,setUseShippingAsBilling:a,needsShipping:e,showShippingFields:!O&&e&&!n,showShippingMethods:e&&!n,showBillingFields:!e||!t||n,forcedBillingAddress:O,useBillingAsShipping:O||n}}},382:function(e,t,n){"use strict";var s=n(13),c=n.n(s),r=n(0),o=n(47),i=n(51);const l=["BUTTON","FIELDSET","INPUT","OPTGROUP","OPTION","SELECT","TEXTAREA","A"];t.a=e=>{let{children:t,style:n={},...s}=e;const a=Object(r.useRef)(null),d=()=>{a.current&&o.focus.focusable.find(a.current).forEach(e=>{l.includes(e.nodeName)&&e.setAttribute("tabindex","-1"),e.hasAttribute("contenteditable")&&e.setAttribute("contenteditable","false")})},u=Object(i.a)(d,0,{leading:!0});return Object(r.useLayoutEffect)(()=>{let e;return d(),a.current&&(e=new window.MutationObserver(u),e.observe(a.current,{childList:!0,attributes:!0,subtree:!0})),()=>{e&&e.disconnect(),u.cancel()}},[u]),Object(r.createElement)("div",c()({ref:a,"aria-disabled":"true",style:{userSelect:"none",pointerEvents:"none",cursor:"normal",...n}},s),t)}},383:function(e,t,n){"use strict";var s=n(0),c=n(1),r=n(11);t.a=e=>{let{id:t="phone",errorId:n="phone",isRequired:o=!1,value:i="",onChange:l}=e;return Object(s.createElement)(r.ValidatedTextInput,{id:t,errorId:n,type:"tel",autoComplete:"tel",required:o,label:o?Object(c.__)("Phone","woocommerce"):Object(c.__)("Phone (optional)","woocommerce"),value:i,onChange:l})}},385:function(e,t,n){"use strict";var s=n(0),c=n(11),r=n(13),o=n.n(r),i=n(56),l=n(1),a=n(22),d=n(5),u=n.n(d),p=n(10),b=n(411),g=n(20),h=n(6),m=n(3);n(305);var O=Object(p.withInstanceId)(e=>{let{id:t,className:n,label:r,onChange:o,options:i,value:a,required:d=!1,errorMessage:p=Object(l.__)("Please select a value.","woocommerce"),errorId:O,instanceId:j="0",autoComplete:f="off"}=e;const E=Object(s.useRef)(null),_=t||"control-"+j,k=O||_,{setValidationErrors:C,clearValidationError:y}=Object(h.useDispatch)(m.VALIDATION_STORE_KEY),w=Object(h.useSelect)(e=>e(m.VALIDATION_STORE_KEY).getValidationError(k));return Object(s.useEffect)(()=>(!d||a?y(k):C({[k]:{message:p,hidden:!0}}),()=>{y(k)}),[y,a,k,p,d,C]),Object(s.createElement)("div",{id:_,className:u()("wc-block-components-combobox",n,{"is-active":a,"has-error":(null==w?void 0:w.message)&&!(null!=w&&w.hidden)}),ref:E},Object(s.createElement)(b.a,{className:"wc-block-components-combobox-control",label:r,onChange:o,onFilterValueChange:e=>{if(e.length){const t=Object(g.a)(E.current)?E.current.ownerDocument.activeElement:void 0;if(t&&Object(g.a)(E.current)&&E.current.contains(t))return;const n=e.toLocaleUpperCase(),s=i.find(e=>e.label.toLocaleUpperCase().startsWith(n)||e.value.toLocaleUpperCase()===n);s&&o(s.value)}},options:i,value:a||"",allowReset:!1,autoComplete:f,"aria-invalid":(null==w?void 0:w.message)&&!(null!=w&&w.hidden)}),Object(s.createElement)(c.ValidationInputError,{propertyName:k}))});n(304);var j=e=>{let{className:t,countries:n,id:c,label:r,onChange:o,value:i="",autoComplete:d="off",required:p=!1,errorId:b,errorMessage:g=Object(l.__)("Please select a country.","woocommerce")}=e;const h=Object(s.useMemo)(()=>Object.entries(n).map(e=>{let[t,n]=e;return{value:t,label:Object(a.decodeEntities)(n)}}),[n]);return Object(s.createElement)("div",{className:u()(t,"wc-block-components-country-input")},Object(s.createElement)(O,{id:c,label:r,onChange:o,options:h,value:i,errorId:b,errorMessage:g,required:p,autoComplete:d}))},f=e=>Object(s.createElement)(j,o()({countries:i.h},e)),E=e=>Object(s.createElement)(j,o()({countries:i.a},e));n(306);const _=(e,t)=>{const n=t.find(t=>t.label.toLocaleUpperCase()===e.toLocaleUpperCase()||t.value.toLocaleUpperCase()===e.toLocaleUpperCase());return n?n.value:""};var k=e=>{let{className:t,id:n,states:r,country:o,label:i,onChange:d,autoComplete:p="off",value:b="",required:g=!1,errorId:h=""}=e;const m=r[o],j=Object(s.useMemo)(()=>m?Object.keys(m).map(e=>({value:e,label:Object(a.decodeEntities)(m[e])})):[],[m]),f=Object(s.useCallback)(e=>{d(j.length>0?_(e,j):e)},[d,j]),E=Object(s.useRef)(b);return Object(s.useEffect)(()=>{E.current!==b&&(E.current=b)},[b]),Object(s.useEffect)(()=>{if(j.length>0&&E.current){const e=_(E.current,j);e!==E.current&&f(e)}},[j,f]),j.length>0?Object(s.createElement)(O,{className:u()(t,"wc-block-components-state-input"),id:n,label:i,onChange:f,options:j,value:b,errorMessage:Object(l.__)("Please select a state.","woocommerce"),errorId:h,required:g,autoComplete:p}):Object(s.createElement)(c.ValidatedTextInput,{className:t,id:n,label:i,onChange:f,autoComplete:p,value:b,required:g})},C=e=>Object(s.createElement)(k,o()({states:i.i},e)),y=e=>Object(s.createElement)(k,o()({states:i.b},e)),w=n(27),v=n(2),A=n(63);t.a=Object(p.withInstanceId)(e=>{let{id:t="",fields:n=Object.keys(v.defaultAddressFields),fieldConfig:r={},instanceId:o,onChange:i,type:a="shipping",values:d}=e;const{setValidationErrors:u,clearValidationError:p}=Object(h.useDispatch)(m.VALIDATION_STORE_KEY),b=Object(h.useSelect)(e=>e(m.VALIDATION_STORE_KEY).getValidationError("shipping_country")),g=Object(w.a)(n),O=Object(s.useMemo)(()=>Object(A.a)(g,r,d.country),[g,r,d.country]);return Object(s.useEffect)(()=>{O.forEach(e=>{e.hidden&&d[e.key]&&i({...d,[e.key]:""})})},[O,i,d]),Object(s.useEffect)(()=>{"shipping"===a&&((e,t,n,s)=>{s||e.country||!(e.city||e.state||e.postcode)||t({shipping_country:{message:Object(l.__)("Please select a country to calculate rates.","woocommerce"),hidden:!1}}),s&&e.country&&n("shipping_country")})(d,u,p,!(null==b||!b.message||null!=b&&b.hidden))},[d,null==b?void 0:b.message,null==b?void 0:b.hidden,u,p,a]),t=t||o,Object(s.createElement)("div",{id:t,className:"wc-block-components-address-form"},O.map(e=>{if(e.hidden)return null;const n=`${a}_${e.key}`;if("country"===e.key){const c="shipping"===a?f:E;return Object(s.createElement)(c,{key:e.key,id:`${t}-${e.key}`,errorId:n,label:e.required?e.label:e.optionalLabel,value:d.country,autoComplete:e.autocomplete,onChange:e=>i({...d,country:e,state:""}),errorMessage:e.errorMessage,required:e.required})}if("state"===e.key){const c="shipping"===a?C:y;return Object(s.createElement)(c,{key:e.key,id:`${t}-${e.key}`,errorId:n,country:d.country,label:e.required?e.label:e.optionalLabel,value:d.state,autoComplete:e.autocomplete,onChange:e=>i({...d,state:e}),errorMessage:e.errorMessage,required:e.required})}return Object(s.createElement)(c.ValidatedTextInput,{key:e.key,id:`${t}-${e.key}`,errorId:n,className:"wc-block-components-address-form__"+e.key,label:e.required?e.label:e.optionalLabel,value:d[e.key],autoCapitalize:e.autocapitalize,autoComplete:e.autocomplete,onChange:t=>i({...d,[e.key]:"postcode"===e.key?t.trimStart().toUpperCase():t}),customValidation:t=>((e,t,n)=>!("postcode"===t&&n.country&&!Object(c.isPostcode)({postcode:e.value,country:n.country})&&(e.setCustomValidity(Object(l.__)("Please enter a valid postcode","woocommerce")),1)))(t,e.key,d),errorMessage:e.errorMessage,required:e.required})}))})},495:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(5),r=n.n(c),o=n(142),i=n(309),l=n(378),a=n(6),d=n(3),u=n(72),p=n(49),b=n(45),g=n(385),h=n(382),m=n(11),O=n(383),j=e=>{let{showCompanyField:t=!1,showApartmentField:n=!1,showPhoneField:c=!1,requireCompanyField:r=!1,requirePhoneField:o=!1}=e;const{defaultAddressFields:i,billingAddress:a,setBillingAddress:d,setShippingAddress:j,setBillingPhone:f,setShippingPhone:E,useBillingAsShipping:_}=Object(l.a)(),{dispatchCheckoutEvent:k}=Object(u.a)(),{isEditor:C}=Object(p.a)();Object(s.useEffect)(()=>{c||f("")},[c,f]);const[y,w]=Object(s.useState)(!1);Object(s.useEffect)(()=>{y||(_&&j(a),w(!0))},[y,j,a,_]);const v=Object(s.useMemo)(()=>({company:{hidden:!t,required:r},address_2:{hidden:!n}}),[t,r,n]),A=C?h.a:s.Fragment,S=_?[b.d.BILLING_ADDRESS,b.d.SHIPPING_ADDRESS]:[b.d.BILLING_ADDRESS];return Object(s.createElement)(A,null,Object(s.createElement)(m.StoreNoticesContainer,{context:S}),Object(s.createElement)(g.a,{id:"billing",type:"billing",onChange:e=>{d(e),_&&(j(e),k("set-shipping-address")),k("set-billing-address")},values:a,fields:Object.keys(i),fieldConfig:v}),c&&Object(s.createElement)(O.a,{id:"billing-phone",errorId:"billing_phone",isRequired:o,value:a.phone,onChange:e=>{f(e),k("set-phone-number",{step:"billing"}),_&&(E(e),k("set-phone-number",{step:"shipping"}))}}))},f=n(282),E=n(1);const _=Object(E.__)("Billing address","woocommerce"),k=Object(E.__)("Enter the billing address that matches your payment method.","woocommerce"),C=Object(E.__)("Billing and shipping address","woocommerce"),y=Object(E.__)("Enter the billing and shipping address that matches your payment method.","woocommerce");var w={...Object(f.a)({defaultTitle:_,defaultDescription:k}),className:{type:"string",default:""},lock:{type:"object",default:{move:!0,remove:!0}}},v=n(149);t.default=Object(o.withFilteredAttributes)(w)(e=>{let{title:t,description:n,showStepNumber:c,children:o,className:u}=e;const p=Object(a.useSelect)(e=>e(d.CHECKOUT_STORE_KEY).isProcessing()),{requireCompanyField:b,requirePhoneField:g,showApartmentField:h,showCompanyField:m,showPhoneField:O}=Object(v.b)(),{showBillingFields:f,forcedBillingAddress:E,useBillingAsShipping:w}=Object(l.a)();return f||w?(t=((e,t)=>t?e===_?C:e:e===C?_:e)(t,E),n=((e,t)=>t?e===k?y:e:e===y?k:e)(n,E),Object(s.createElement)(i.a,{id:"billing-fields",disabled:p,className:r()("wc-block-checkout__billing-fields",u),title:t,description:n,showStepNumber:c},Object(s.createElement)(j,{requireCompanyField:b,showApartmentField:h,showCompanyField:m,showPhoneField:O,requirePhoneField:g}),o)):null})}}]);