(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{202:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(18);function a(e){var t=Object(c.dispatch)("core/notices").createNotice;e.error_data&&e.errors&&Object.keys(e.errors).length?Object.keys(e.errors).forEach((function(n){t("error",e.errors[n].join(" "))})):e.message&&t(e.code?"error":"success",e.message)}},753:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return m}));var c=n(72),a=n(2),r=n(22);function i(e){return e?e.split(":")[0]:null}function o(e){var t=i(e);return Object(a.without)(Object(r.g)("onboarding",{euCountries:[]}).euCountries,"GB").includes(t)&&(t="EU"),t}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,c=Object(r.g)("onboarding",{}),a=[];if(!c.productTypes)return a;var i=e.product_types||[];i.forEach((function(e){c.productTypes[e]&&c.productTypes[e].product&&(t||!n.includes(c.productTypes[e].slug))&&a.push(c.productTypes[e].product)}));var o=c.themes.find((function(t){return t.slug===e.theme}));return o&&o.id&&l(o.price)>0&&(t||!o.is_installed)&&a.push(o.id),a}function l(e){return Number(Object(c.decodeEntities)(e).replace(/[^0-9.-]+/g,""))}function m(){return!!window.wcAdminFeatures.onboarding&&Object(r.g)("onboardingEnabled",!1)}},758:function(e,t,n){"use strict";var c=n(766),a=["a","b","em","i","strong","p"],r=["target","href","rel","name","download"];t.a=function(e){return{__html:Object(c.sanitize)(e,{ALLOWED_TAGS:a,ALLOWED_ATTR:r})}}},760:function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return N}));var c=n(38),a=n.n(c),r=n(37),i=n.n(r),o=n(39),s=n.n(o),l=n(42),m=n.n(l),u=n(26),d=n.n(u),p=n(0),b=n(8),f=n.n(b),_=n(90),v=n.n(_),O=n(16),j=n.n(O),g=n(1),y=n.n(g),h=(n(762),n(53)),w=n(2);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return m()(this,n)}}var k=function(e){s()(n,e);var t=E(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.hasAction,c=e.hasDate,a=e.hasSubtitle,r=e.lines,i=f()("woocommerce-activity-card is-loading",t);return Object(p.createElement)("div",{className:i,"aria-hidden":!0},Object(p.createElement)("span",{className:"woocommerce-activity-card__icon"},Object(p.createElement)("span",{className:"is-placeholder"})),Object(p.createElement)("div",{className:"woocommerce-activity-card__header"},Object(p.createElement)("div",{className:"woocommerce-activity-card__title is-placeholder"}),a&&Object(p.createElement)("div",{className:"woocommerce-activity-card__subtitle is-placeholder"}),c&&Object(p.createElement)("div",{className:"woocommerce-activity-card__date"},Object(p.createElement)("span",{className:"is-placeholder"}))),Object(p.createElement)("div",{className:"woocommerce-activity-card__body"},Object(w.range)(r).map((function(e){return Object(p.createElement)("span",{className:"is-placeholder",key:e})}))),n&&Object(p.createElement)("div",{className:"woocommerce-activity-card__actions"},Object(p.createElement)("span",{className:"is-placeholder"})))}}]),n}(p.Component);k.propTypes={className:y.a.string,hasAction:y.a.bool,hasDate:y.a.bool,hasSubtitle:y.a.bool,lines:y.a.number},k.defaultProps={hasAction:!1,hasDate:!1,hasSubtitle:!1,lines:1};var N=k;function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return m()(this,n)}}var D=function(e){s()(n,e);var t=R(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.className,c=e.children,a=e.date,r=e.icon,i=e.subtitle,o=e.title,s=e.unread,l=f()("woocommerce-activity-card",n),m=Array.isArray(t)?t:[t];return Object(p.createElement)("section",{className:l},s&&Object(p.createElement)("span",{className:"woocommerce-activity-card__unread"}),r&&Object(p.createElement)("span",{className:"woocommerce-activity-card__icon","aria-hidden":!0},r),Object(p.createElement)("header",{className:"woocommerce-activity-card__header"},Object(p.createElement)(h.H,{className:"woocommerce-activity-card__title"},o),i&&Object(p.createElement)("div",{className:"woocommerce-activity-card__subtitle"},i),a&&Object(p.createElement)("span",{className:"woocommerce-activity-card__date"},j.a.utc(a).fromNow())),Object(p.createElement)(h.Section,{className:"woocommerce-activity-card__body"},c),t&&Object(p.createElement)("footer",{className:"woocommerce-activity-card__actions"},m.map((function(e,t){return Object(p.cloneElement)(e,{key:t})}))))}}]),n}(p.Component);D.propTypes={actions:y.a.oneOfType([y.a.arrayOf(y.a.element),y.a.element]),className:y.a.string,children:y.a.node.isRequired,date:y.a.string,icon:y.a.node,subtitle:y.a.node,title:y.a.oneOfType([y.a.string,y.a.node]).isRequired,unread:y.a.bool},D.defaultProps={icon:Object(p.createElement)(v.a,{icon:"notice-outline",size:48}),unread:!1}},761:function(e,t,n){"use strict";var c=n(38),a=n.n(c),r=n(37),i=n.n(r),o=n(39),s=n.n(o),l=n(42),m=n.n(l),u=n(26),d=n.n(u),p=n(0),b=n(8),f=n.n(b),_=n(1),v=n.n(_),O=(n(763),n(53));function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=d()(e);if(t){var a=d()(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return m()(this,n)}}var g=function(e){s()(n,e);var t=j(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.menu,c=e.subtitle,a=e.title,r=e.unreadMessages,i=f()({"woocommerce-layout__inbox-panel-header":c,"woocommerce-layout__activity-panel-header":!c},t),o=r||0;return Object(p.createElement)("div",{className:i},Object(p.createElement)(O.H,{className:"woocommerce-layout__activity-panel-header-title"},a,o>0&&Object(p.createElement)("span",null,r)),c&&Object(p.createElement)("div",{className:"woocommerce-layout__activity-panel-header-subtitle"},c),n&&Object(p.createElement)("div",{className:"woocommerce-layout__activity-panel-header-menu"},n))}}]),n}(p.Component);g.propTypes={className:v.a.string,unreadMessages:v.a.number,title:v.a.string.isRequired,subtitle:v.a.string,menu:v.a.shape({type:v.a.oneOf([O.EllipsisMenu])})},t.a=g},762:function(e,t,n){},763:function(e,t,n){},765:function(e,t,n){"use strict";var c=n(51),a=n.n(c),r=n(38),i=n.n(r),o=n(37),s=n.n(o),l=n(62),m=n.n(l),u=n(39),d=n.n(u),p=n(42),b=n.n(p),f=n(26),_=n.n(f),v=n(0),O=n(3),j=n(67),g=n(169),y=n(1),h=n.n(y),w=n(18),E=n(43);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=_()(e);if(t){var a=_()(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return b()(this,n)}}var N=function(e){d()(c,e);var t,n=k(c);function c(e){var t;return i()(this,c),(t=n.call(this,e)).state={isConnecting:!1},t.connectJetpack=t.connectJetpack.bind(m()(t)),e.setIsPending(!0),t}return s()(c,[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoConnect,n=e.jetpackConnectUrl;t&&n&&this.connectJetpack()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.autoConnect,c=t.createNotice,a=t.error,r=t.isRequesting,i=t.jetpackConnectUrl,o=t.onError,s=t.setIsPending;e.isRequesting&&!r&&s(!1),a&&a!==e.error&&(o&&o(),c("error",a)),n&&i&&this.connectJetpack()}},{key:"connectJetpack",value:(t=a()(regeneratorRuntime.mark((function e(){var t,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,n=t.jetpackConnectUrl,c=t.onConnect,this.setState({isConnecting:!0},(function(){c&&c(),window.location=n}));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.autoConnect,n=e.hasErrors,c=e.isRequesting,a=e.onSkip,r=e.skipText;return t?null:Object(v.createElement)(v.Fragment,null,n?Object(v.createElement)(j.a,{isPrimary:!0,onClick:function(){return window.location.reload()}},Object(O.__)("Retry",'woocommerce')):Object(v.createElement)(j.a,{disabled:c,isBusy:this.state.isConnecting,isPrimary:!0,onClick:this.connectJetpack},Object(O.__)("Connect",'woocommerce')),a&&Object(v.createElement)(j.a,{onClick:a},r||Object(O.__)("No thanks",'woocommerce')))}}]),c}(v.Component);N.propTypes={autoConnect:h.a.bool,createNotice:h.a.func.isRequired,error:h.a.string,hasErrors:h.a.bool,isRequesting:h.a.bool,jetpackConnectUrl:h.a.string,onConnect:h.a.func,onError:h.a.func,onSkip:h.a.func,redirectUrl:h.a.string,skipText:h.a.string,setIsPending:h.a.func},N.defaultProps={autoConnect:!1,setIsPending:function(){}},t.a=Object(g.a)(Object(w.withSelect)((function(e,t){var n=e(E.PLUGINS_STORE_NAME),c=n.getJetpackConnectUrl,a=n.isPluginsRequesting,r=n.getPluginsError,i={redirect_url:t.redirectUrl||window.location.href},o=a("getJetpackConnectUrl");return{error:r("getJetpackConnectUrl")||"",isRequesting:o,jetpackConnectUrl:c(i)}})),Object(w.withDispatch)((function(e){return{createNotice:e("core/notices").createNotice}})))(N)},773:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var c=n(16),a=n.n(c),r=n(2),i=n(24),o=n(43),s=n(23),l=n(201),m=n(22);var u=function(e){var t=e.indicator,n=e.primaryData,c=e.secondaryData,a=e.currency,i=e.formatCurrency,o=e.persistedQuery,u=Object(r.find)(n.data,(function(e){return e.stat===t.stat})),d=Object(r.find)(c.data,(function(e){return e.stat===t.stat}));if(!u||!d)return{};var p=u._links&&u._links.report[0]&&u._links.report[0].href||"",b=function(e,t,n){return e?"/jetpack"===e?Object(m.f)("admin.php?page=jetpack#/dashboard"):Object(s.getNewPath)(t,e,{chart:n.chart}):""}(p,o,u),f="/jetpack"===p?"wp-admin":"wc-admin",_="currency"===u.format,v=Object(l.calculateDelta)(u.value,d.value);return{primaryValue:_?i(u.value):Object(l.formatValue)(a,u.format,u.value),secondaryValue:_?i(d.value):Object(l.formatValue)(a,d.format,d.value),delta:v,reportUrl:b,reportUrlType:f}},d=function(e,t,n){var c=e("wc-api"),r=c.getReportItems,s=c.getReportItemsError,l=c.isReportItemsRequesting,m=e(o.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range,u=Object(i.getCurrentDates)(n,m),d=u.primary.before,p=u.secondary.before,b=t.map((function(e){return e.stat})).join(","),f={after:Object(i.appendTimestamp)(u.primary.after,"start"),before:Object(i.appendTimestamp)(d,d.isSame(a()(),"day")?"now":"end"),stats:b},_={after:Object(i.appendTimestamp)(u.secondary.after,"start"),before:Object(i.appendTimestamp)(p,p.isSame(a()(),"day")?"now":"end"),stats:b};return{primaryData:r("performance-indicators",f),primaryError:s("performance-indicators",f)||null,primaryRequesting:l("performance-indicators",f),secondaryData:r("performance-indicators",_),secondaryError:s("performance-indicators",_)||null,secondaryRequesting:l("performance-indicators",_),defaultDateRange:m}}},774:function(e,t,n){},776:function(e,t,n){},792:function(e,t,n){"use strict";n.r(t);var c=n(129),a=n.n(c),r=n(0),i=n(3),o=n(169),s=n(43),l=n(760),m=n(38),u=n.n(m),d=n(37),p=n.n(d),b=n(39),f=n.n(b),_=n(42),v=n.n(_),O=n(26),j=n.n(O),g=n(1),y=n.n(g);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=j()(e);if(t){var a=j()(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return v()(this,n)}}var w=function(e){f()(n,e);var t=h(n);function n(){return u()(this,n),t.apply(this,arguments)}return p()(n,[{key:"render",value:function(){var e=this.props.className;return Object(r.createElement)("div",{className:"woocommerce-inbox-message is-placeholder ".concat(e),"aria-hidden":!0},Object(r.createElement)("div",{className:"woocommerce-inbox-message__image"},Object(r.createElement)("div",{className:"banner-block"})),Object(r.createElement)("div",{className:"woocommerce-inbox-message__wrapper"},Object(r.createElement)("div",{className:"woocommerce-inbox-message__content"},Object(r.createElement)("div",{className:"woocommerce-inbox-message__date"},Object(r.createElement)("div",{className:"sixth-line"})),Object(r.createElement)("div",{className:"woocommerce-inbox-message__title"},Object(r.createElement)("div",{className:"line"}),Object(r.createElement)("div",{className:"line"})),Object(r.createElement)("div",{className:"woocommerce-inbox-message__text"},Object(r.createElement)("div",{className:"line"}),Object(r.createElement)("div",{className:"third-line"}))),Object(r.createElement)("div",{className:"woocommerce-inbox-message__actions"},Object(r.createElement)("div",{className:"fifth-line"}),Object(r.createElement)("div",{className:"fifth-line"}))))}}]),n}(r.Component);w.propTypes={className:y.a.string};var E=w,k=n(761),N=n(62),R=n.n(N),D=n(721),C=n(67),T=n(722),S=n(775),P=n.n(S),q=n(16),x=n.n(q),A=n(18),U=n(22);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=j()(e);if(t){var a=j()(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return v()(this,n)}}var M=function(e){f()(n,e);var t=I(n);function n(e){var c;return u()(this,n),(c=t.call(this,e)).state={inAction:!1},c.handleActionClick=c.handleActionClick.bind(R()(c)),c}return p()(n,[{key:"handleActionClick",value:function(e){var t=this.props,n=t.action,c=t.actionCallback,a=t.noteId,r=t.triggerNoteAction,i=t.removeAllNotes,o=t.removeNote,s=e.target.href||"",l=!0;s.length&&!s.startsWith(U.a)&&(e.preventDefault(),l=!1,window.open(s,"_blank")),n?this.setState({inAction:l},(function(){return r(a,n.id)})):(a?o(a):i(),c(!0))}},{key:"render",value:function(){var e=this.props,t=e.action,n=e.dismiss,c=e.label,a=n||t.primary;return Object(r.createElement)(C.a,{isPrimary:a,isSecondary:!a,isBusy:this.state.inAction,disabled:this.state.inAction,href:t?t.url:void 0,onClick:this.handleActionClick},n?c:t.label)}}]),n}(r.Component);M.propTypes={noteId:y.a.number,label:y.a.string,dismiss:y.a.bool,actionCallback:y.a.func,action:y.a.shape({id:y.a.number.isRequired,url:y.a.string,label:y.a.string.isRequired,primary:y.a.bool.isRequired})};var L=Object(o.a)(Object(A.withDispatch)((function(e){var t=e("wc-api");return{removeAllNotes:t.removeAllNotes,removeNote:t.removeNote,triggerNoteAction:t.triggerNoteAction}})))(M),J=n(758),B=n(8),z=n.n(B),V=n(63),F=(n(776),n(53)),G=n(268);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=j()(e);if(t){var a=j()(this).constructor;n=Reflect.construct(c,arguments,a)}else n=c.apply(this,arguments);return v()(this,n)}}var W=function(e){f()(n,e);var t=H(n);function n(e){var c;return u()(this,n),(c=t.call(this,e)).onVisible=c.onVisible.bind(R()(c)),c.hasBeenSeen=!1,c.state={isDismissModalOpen:!1,dismissType:null},c.openDismissModal=c.openDismissModal.bind(R()(c)),c.closeDismissModal=c.closeDismissModal.bind(R()(c)),c.bodyNotificationRef=Object(r.createRef)(),c.screen=c.getScreenName(),c}return p()(n,[{key:"componentDidMount",value:function(){var e=this;this.bodyNotificationRef.current&&this.bodyNotificationRef.current.addEventListener("click",(function(t){return e.handleBodyClick(t,e.props)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.bodyNotificationRef.current&&this.bodyNotificationRef.current.removeEventListener("click",(function(t){return e.handleBodyClick(t,e.props)}))}},{key:"handleBodyClick",value:function(e,t){var n=e.target.href;if(n){var c=t.note;Object(V.b)("wcadmin_inbox_action_click",{note_name:c.name,note_title:c.title,note_content_inner_link:n,screen:this.screen})}}},{key:"getScreenName",value:function(){var e="",t=Object(G.a)(window.location.search),n=t.page,c=t.path,a=t.post_type;if(n){var r="wc-admin"===n?"home_screen":n;e=c?c.replace(/\//g,"_").substring(1):r}else a&&(e=a);return e}},{key:"onVisible",value:function(e){if(e&&!this.hasBeenSeen){var t=this.props.note;Object(V.b)("inbox_note_view",{note_content:t.content,note_name:t.name,note_title:t.title,note_type:t.type,screen:this.screen}),this.hasBeenSeen=!0}}},{key:"openDismissModal",value:function(e,t){this.setState({isDismissModalOpen:!0,dismissType:e}),t()}},{key:"closeDismissModal",value:function(e){var t=this.state.dismissType,n=this.props.note,c="all"===t;Object(V.b)("inbox_action_dismiss",{note_name:n.name,note_title:n.title,note_name_dismiss_all:c,note_name_dismiss_confirmation:e||!1,screen:this.screen}),this.setState({isDismissModalOpen:!1})}},{key:"handleBlur",value:function(e,t){var n=e.relatedTarget?e.relatedTarget:document.activeElement;!!n&&["woocommerce-admin-dismiss-notification","components-popover__content"].some((function(e){return n.className.includes(e)}))?e.preventDefault():t()}},{key:"renderDismissButton",value:function(){var e=this;return Object(r.createElement)(D.a,{contentClassName:"woocommerce-admin-dismiss-dropdown",position:"bottom right",renderToggle:function(t){var n=t.onClose,c=t.onToggle;return Object(r.createElement)(C.a,{isTertiary:!0,onClick:c,onBlur:function(t){return e.handleBlur(t,n)}},Object(i.__)("Dismiss",'woocommerce'))},focusOnMount:!1,popoverProps:{noArrow:!0},renderContent:function(t){var n=t.onToggle;return Object(r.createElement)("ul",null,Object(r.createElement)("li",null,Object(r.createElement)(C.a,{className:"woocommerce-admin-dismiss-notification",onClick:function(){return e.openDismissModal("this",n)}},Object(i.__)("Dismiss this message",'woocommerce'))),Object(r.createElement)("li",null,Object(r.createElement)(C.a,{className:"woocommerce-admin-dismiss-notification",onClick:function(){return e.openDismissModal("all",n)}},Object(i.__)("Dismiss all messages",'woocommerce'))))}})}},{key:"getDismissConfirmationButton",value:function(){var e=this.props.note,t=this.state.dismissType;return Object(r.createElement)(L,{key:e.id,noteId:"all"===t?null:e.id,label:Object(i.__)("Yes, I'm sure",'woocommerce'),actionCallback:this.closeDismissModal,dismiss:!0})}},{key:"renderDismissConfirmationModal",value:function(){var e=this;return Object(r.createElement)(T.a,{title:Object(r.createElement)(r.Fragment,null,Object(i.__)("Are you sure?",'woocommerce')),onRequestClose:function(){return e.closeDismissModal()},className:"woocommerce-inbox-dismiss-confirmation_modal"},Object(r.createElement)("div",{className:"woocommerce-inbox-dismiss-confirmation_wrapper"},Object(r.createElement)("p",null,Object(i.__)("Dismissed messages cannot be viewed again",'woocommerce')),Object(r.createElement)("div",{className:"woocommerce-inbox-dismiss-confirmation_buttons"},Object(r.createElement)(C.a,{isSecondary:!0,onClick:function(){return e.closeDismissModal()}},Object(i.__)("Cancel",'woocommerce')),this.getDismissConfirmationButton())))}},{key:"renderActions",value:function(e){var t=e.actions,n=e.id;if(t)return Object(r.createElement)(r.Fragment,null,t.map((function(e,t){return Object(r.createElement)(L,{key:t,noteId:n,action:e})})))}},{key:"render",value:function(){var e=this.props,t=e.lastRead,n=e.note,c=this.state.isDismissModalOpen,a=n.content,i=n.date_created,o=n.date_created_gmt,s=n.image,l=n.is_deleted,m=n.layout,u=n.title;if(l)return null;var d=!t||!o||new Date(o+"Z").getTime()>t,p=i,b="plain"!==m&&""!==m,f=z()("woocommerce-inbox-message",m,{"message-is-unread":d});return Object(r.createElement)(P.a,{onChange:this.onVisible},Object(r.createElement)("section",{className:f},b&&Object(r.createElement)("div",{className:"woocommerce-inbox-message__image"},Object(r.createElement)("img",{src:s,alt:""})),Object(r.createElement)("div",{className:"woocommerce-inbox-message__wrapper"},Object(r.createElement)("div",{className:"woocommerce-inbox-message__content"},p&&Object(r.createElement)("span",{className:"woocommerce-inbox-message__date"},x.a.utc(p).fromNow()),Object(r.createElement)(F.H,{className:"woocommerce-inbox-message__title"},u),Object(r.createElement)(F.Section,{className:"woocommerce-inbox-message__text"},Object(r.createElement)("span",{dangerouslySetInnerHTML:Object(J.a)(a),ref:this.bodyNotificationRef}))),Object(r.createElement)("div",{className:"woocommerce-inbox-message__actions"},this.renderActions(n),this.renderDismissButton())),c&&this.renderDismissConfirmationModal()))}}]),n}(r.Component);W.propTypes={note:y.a.shape({id:y.a.number,status:y.a.string,title:y.a.string,content:y.a.string,date_created:y.a.string,date_created_gmt:y.a.string,actions:y.a.arrayOf(y.a.shape({id:y.a.number.isRequired,url:y.a.string,label:y.a.string.isRequired,primary:y.a.bool.isRequired})),layout:y.a.string,image:y.a.string,is_deleted:y.a.bool}),lastRead:y.a.number};var Q=W,Y=n(33),Z=n(101),K=n(2);function X(e,t){return Object(K.filter)(e,(function(e){var n=e.is_deleted,c=e.date_created_gmt;if(!n)return!t||!c||new Date(c+"Z").getTime()>t})).length}var $=function(e){var t=e.hasNotes,n=e.isDismissUndoRequesting,c=e.isDismissAllUndoRequesting,a=e.lastRead,o=e.notes;if(!c)return t?Object.keys(o).map((function(e){return o[e]})).map((function(e){return n===e.id?Object(r.createElement)(E,{className:"banner message-is-unread",key:e.id}):Object(r.createElement)(Q,{key:e.id,note:e,lastRead:a})})):Object(r.createElement)(l.a,{className:"woocommerce-empty-activity-card",title:Object(i.__)("Your inbox is empty",'woocommerce'),icon:!1},Object(i.__)("As things begin to happen in your store your inbox will start to fill up. You'll see things like achievements, new feature announcements, extension recommendations and more!",'woocommerce'))};t.default=Object(o.a)(Object(Z.a)((function(e){var t=e("wc-api"),n=t.getNotes,c=t.getNotesError,a=t.isGetNotesRequesting,r=t.getUndoDismissRequesting,i={page:1,per_page:Y.d.pageSize,type:Y.d.noteTypes,orderby:"date",order:"desc",status:"unactioned",_fields:["id","name","title","content","type","status","actions","date_created","date_created_gmt","layout","image","is_deleted"]},o=n(i),s=Boolean(c(i)),l=a(i),m=r();return{notes:o,isError:s,isRequesting:l,isUndoRequesting:m.isUndoRequesting,isDismissUndoRequesting:m.isDismissUndoRequesting,isDismissAllUndoRequesting:m.isDismissAllUndoRequesting}})))((function(e){var t=e.isError,n=e.isPanelEmpty,c=e.isRequesting,o=e.isUndoRequesting,l=e.isDismissAllUndoRequesting,m=e.isDismissUndoRequesting,u=e.notes,d=Object(s.useUserPreferences)(),p=d.updateUserPreferences,b=a()(d,["updateUserPreferences"]).activity_panel_inbox_last_read;if(Object(r.useEffect)((function(){var e=Date.now();return function(){p({activity_panel_inbox_last_read:e})}}),[]),t){var f=Object(i.__)("There was an error getting your inbox. Please try again.",'woocommerce'),_=Object(i.__)("Reload",'woocommerce');return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(F.EmptyContent,{title:f,actionLabel:_,actionURL:null,actionCallback:function(){window.location.reload()}}))}var v=function(e){return Object(K.filter)(e,(function(e){return!e.is_deleted})).length>0}(u),O=v||c||o;return n&&n(!v&&!O),Object(r.createElement)(r.Fragment,null,O&&Object(r.createElement)(k.a,{title:Object(i.__)("Inbox",'woocommerce'),subtitle:Object(i.__)("Insights and growth tips for your business",'woocommerce'),unreadMessages:X(u,b)}),Object(r.createElement)("div",{className:"woocommerce-homepage-notes-wrapper"},(c||l)&&Object(r.createElement)(F.Section,null,Object(r.createElement)(E,{className:"banner message-is-unread"})),Object(r.createElement)(F.Section,null,!c&&!l&&$({hasNotes:v,isDismissUndoRequesting:m,isDismissAllUndoRequesting:l,lastRead:b,notes:u}))))}))},889:function(e,t,n){},891:function(e,t,n){},892:function(e,t,n){},931:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(169),r=n(2),i=n(22),o=n(53),s=n(43),l=n(101),m=n(753),u=n(146),d=n.n(u),p=n(8),b=n.n(p),f=n(1),_=n.n(f),v=n(17),O=n.n(v),j=n(3),g=n(734),y=n(921),h=n(922),w=n(923),E=n(913),k=n(914),N=n(915),R=n(916),D=n(917),C=n(918),T=n(919),S=n(920),P=n(732),q=n(422),x=n(727),A=n(63);n(889);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t){var n=t.currentTarget.dataset.listItemTag;if(n&&(e.recordEvent("home_quick_links_click",{task_name:n}),"function"==typeof e.onItemClick))return e.onItemClick(n)?void 0:(t.preventDefault(),!1)}function L(e){return function(e){return[{title:Object(j.__)("Market my store",'woocommerce'),type:"wc-admin",path:"marketing",icon:E.a,listItemTag:"marketing"},{title:Object(j.__)("Add products",'woocommerce'),type:"wp-admin",path:"post-new.php?post_type=product",icon:k.a,listItemTag:"add-products"},{title:Object(j.__)("Personalize my store",'woocommerce'),type:"wp-admin",path:"customize.php",icon:N.a,listItemTag:"personalize-store"},{title:Object(j.__)("Shipping settings",'woocommerce'),type:"wc-settings",tab:"shipping",icon:R.a,listItemTag:"shipping-settings"},{title:Object(j.__)("Tax settings",'woocommerce'),type:"wc-settings",tab:"tax",icon:D.a,listItemTag:"tax-settings"},{title:Object(j.__)("Payment settings",'woocommerce'),type:"wc-settings",tab:"checkout",icon:C.a,listItemTag:"payment-settings"},{title:Object(j.__)("Edit store details",'woocommerce'),type:"wc-settings",tab:"general",icon:T.a,listItemTag:"edit-store-details"},{title:Object(j.__)("Get support",'woocommerce'),type:"external",href:"https://woocommerce.com/my-account/create-a-ticket/",icon:S.a,listItemTag:"support"},{title:Object(j.__)("View my store",'woocommerce'),type:"external",href:e.getSetting("siteUrl"),icon:P.a,listItemTag:"view-store"}]}(e).map((function(t){return I(I({title:Object(c.createElement)(g.a,{as:"div",variant:"button"},t.title),before:Object(c.createElement)(q.a,{icon:t.icon}),after:Object(c.createElement)(q.a,{icon:x.a})},function(e){var t,n;switch(e.type){case"wc-admin":t="wc-admin",n="admin.php?page=wc-admin&path=%2F".concat(e.path);break;case"wp-admin":t="wp-admin",n=e.path;break;case"wc-settings":t="wp-admin",n="admin.php?page=wc-settings&tab=".concat(e.tab);break;default:t="external",n=e.href}return{linkType:t,href:n}}(t)),{},{listItemTag:t.listItemTag,onClick:Object(r.partial)(M,e)})}))}var J=function(e){var t=L(e);return Object(c.createElement)(y.a,{size:"large",className:"woocommerce-quick-links"},Object(c.createElement)(h.a,{size:"medium"},Object(c.createElement)(g.a,{variant:"title.small"},Object(j.__)("Store management",'woocommerce'))),Object(c.createElement)(w.a,null,Object(c.createElement)(o.List,{items:t,className:"woocommerce-quick-links__list"})))};J.defaultProps={getSetting:i.g,recordEvent:A.b};var B=J,z=n(129),V=n.n(z),F=n(725),G=n(924),H=n(23),W=(n(891),n(48)),Q=Object(W.applyFilters)("woocommerce_admin_homepage_default_stats",["revenue/total_sales","revenue/net_revenue","orders/orders_count","products/items_sold","jetpack/stats/visitors","jetpack/stats/views"]),Y=["revenue/net_revenue","products/items_sold"],Z=n(200),K=n(773),X=Object(l.a)((function(e,t){var n=t.stats,c=t.query;if(0!==n.length)return Object(K.a)(e,n,c)}))((function(e){var t=e.stats,n=e.primaryData,a=e.secondaryData,r=e.primaryRequesting,i=e.secondaryRequesting,s=e.primaryError,l=e.secondaryError,m=e.query,u=Object(c.useContext)(Z.a),d=u.formatCurrency,p=u.getCurrency;if(s||l)return null;var f=Object(H.getPersistedQuery)(m),_=p();return Object(c.createElement)("ul",{className:b()("woocommerce-stats-overview__stats",{"is-even":t.length%2==0})},t.map((function(e){if(r||i)return Object(c.createElement)(o.SummaryNumberPlaceholder,{className:"is-homescreen",key:e.stat});var t=Object(K.b)({indicator:e,primaryData:n,secondaryData:a,currency:_,formatCurrency:d,persistedQuery:f}),s=t.primaryValue,l=t.secondaryValue,m=t.delta,u=t.reportUrl,p=t.reportUrlType;return Object(c.createElement)(o.SummaryNumber,{isHomescreen:!0,key:e.stat,href:u,hrefType:p,label:e.label,value:s,prevLabel:Object(j.__)("Previous Period:",'woocommerce'),prevValue:l,delta:m,onLinkClickCallback:function(){Object(A.b)("statsoverview_indicators_click",{key:e.stat})}})})))})),$=n(51),ee=n.n($),te=n(67),ne=n(13),ce=n(18),ae=n(765),re=n(202);function ie(e){var t=e.isJetpackInstalled,n=e.isJetpackActivated,a=e.isJetpackConnected,r=e.installAndActivatePlugins,l=e.isInstalling,m=Object(s.useUserPreferences)(),u=m.updateUserPreferences,p=V()(m,["updateUserPreferences"]),b=Object(ne.useState)(!1),f=d()(b,2),_=f[0],v=f[1],O=Object(ne.useState)((p.homepage_stats||{}).installJetpackDismissed),g=d()(O,2),y=g[0],h=g[1];function w(){return(w=ee()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(A.b)("statsoverview_install_jetpack"),r(["jetpack"]).then((function(){v(!a)})).catch((function(e){Object(re.a)(e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(y||t&&n&&a)return null;return Object(c.createElement)("article",{className:"woocommerce-stats-overview__install-jetpack-promo"},Object(c.createElement)("div",{className:"woocommerce-stats-overview__install-jetpack-promo__content"},Object(c.createElement)(o.H,null,Object(j.__)("Get traffic stats with Jetpack",'woocommerce')),Object(c.createElement)("p",null,Object(j.__)("Keep an eye on your views and visitors metrics with Jetpack. Requires Jetpack plugin and a WordPress.com account.",'woocommerce'))),Object(c.createElement)("footer",null,Object(c.createElement)(te.a,{isSecondary:!0,onClick:function(){return w.apply(this,arguments)},isBusy:l},t?n?a?"":Object(j.__)("Connect Jetpack",'woocommerce'):Object(j.__)("Activate Jetpack",'woocommerce'):Object(j.__)("Get Jetpack",'woocommerce')),Object(c.createElement)(te.a,{isTertiary:!0,onClick:function(){if(!l&&!_){var e=p.homepage_stats||{};e.installJetpackDismissed=!0,u({homepage_stats:e}),h(!0),Object(A.b)("statsoverview_dismiss_install_jetpack")}},isBusy:l},Object(j.__)("No thanks",'woocommerce'))),_&&Object(c.createElement)(ae.a,{autoConnect:!0,onError:function(){return v(!1)},redirectUrl:Object(i.f)("admin.php?page=wc-admin")}))}ie.propTypes={isJetpackConnected:_.a.bool.isRequired};var oe=Object(a.a)(Object(ce.withSelect)((function(e){var t=e(s.PLUGINS_STORE_NAME),n=t.isJetpackConnected,c=t.isPluginsRequesting,a=t.getInstalledPlugins,r=t.getActivePlugins;return{isInstalling:c("installPlugins")||c("activatePlugins"),isJetpackInstalled:a().includes("jetpack"),isJetpackActivated:r().includes("jetpack"),isJetpackConnected:n()}})),Object(ce.withDispatch)((function(e){return{installAndActivatePlugins:e(s.PLUGINS_STORE_NAME).installAndActivatePlugins}})))(ie),se=Object(i.g)("dataEndpoints",{performanceIndicators:[]}).performanceIndicators.filter((function(e){return Q.includes(e.stat)})),le=function(){var e=Object(s.useUserPreferences)(),t=e.updateUserPreferences,n=V()(e,["updateUserPreferences"]),a=Object(r.get)(n,["homepage_stats","hiddenStats"],Y),i=se.filter((function(e){return!a.includes(e.stat)}));return Object(c.createElement)(y.a,{size:"large",className:"woocommerce-stats-overview woocommerce-homescreen-card"},Object(c.createElement)(h.a,{size:"medium"},Object(c.createElement)(g.a,{variant:"title.small"},Object(j.__)("Stats overview",'woocommerce')),Object(c.createElement)(o.EllipsisMenu,{label:Object(j.__)("Choose which values to display",'woocommerce'),renderContent:function(){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(o.MenuTitle,null,Object(j.__)("Display stats:",'woocommerce')),se.map((function(e){var n=!a.includes(e.stat);return Object(c.createElement)(o.MenuItem,{checked:n,isCheckbox:!0,isClickable:!0,key:e.stat,onInvoke:function(){return n=e.stat,c=Object(r.xor)(a,[n]),t({homepage_stats:{hiddenStats:c}}),void Object(A.b)("statsoverview_indicators_toggle",{indicator_name:n,status:c.includes(n)?"off":"on"});var n,c}},e.label)})))}})),Object(c.createElement)(w.a,null,Object(c.createElement)(F.a,{className:"woocommerce-stats-overview__tabs",onSelect:function(e){Object(A.b)("statsoverview_date_picker_update",{period:e})},tabs:[{title:Object(j.__)("Today",'woocommerce'),name:"today"},{title:Object(j.__)("Week to date",'woocommerce'),name:"week"},{title:Object(j.__)("Month to date",'woocommerce'),name:"month"}]},(function(e){return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(oe,null),Object(c.createElement)(X,{query:{period:e.name,compare:"previous_period"},stats:i}))}))),Object(c.createElement)(G.a,null,Object(c.createElement)(o.Link,{className:"woocommerce-stats-overview__more-btn",href:Object(H.getNewPath)({},"/analytics/overview"),type:"wc-admin",onClick:function(){Object(A.b)("statsoverview_indicators_click",{key:"view_detailed_stats"})}},Object(j.__)("View detailed stats"))))},me=(n(892),n(774),function(e){var t=e.numTasks,n=void 0===t?5:t;return Object(c.createElement)("div",{className:"woocommerce-task-dashboard__container"},Object(c.createElement)("div",{className:"woocommerce-card woocommerce-task-card is-loading","aria-hidden":!0},Object(c.createElement)("div",{className:"woocommerce-card__header"},Object(c.createElement)("div",{className:"woocommerce-card__title-wrapper"},Object(c.createElement)("div",{className:"woocommerce-card__title woocommerce-card__header-item"},Object(c.createElement)("span",{className:"is-placeholder"})))),Object(c.createElement)("div",{className:"woocommerce-card__body"},Object(c.createElement)("div",{className:"woocommerce-list"},Array.from(new Array(n)).map((function(e,t){return Object(c.createElement)("div",{key:t,className:"woocommerce-list__item has-action"},Object(c.createElement)("div",{className:"woocommerce-list__item-inner"},Object(c.createElement)("div",{className:"woocommerce-list__item-before"},Object(c.createElement)("span",{className:"is-placeholder"})),Object(c.createElement)("div",{className:"woocommerce-list__item-text"},Object(c.createElement)("div",{className:"woocommerce-list__item-title"},Object(c.createElement)("span",{className:"is-placeholder"}))),Object(c.createElement)("div",{className:"woocommerce-list__item-after"},Object(c.createElement)("span",{className:"is-placeholder"}))))}))))))}),ue=n(792),de=Object(c.lazy)((function(){return Promise.all([n.e(3),n.e(5),n.e(44)]).then(n.bind(null,929))})),pe=function(e){var t=Object(c.useState)(!0),n=d()(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=d()(i,2),s=o[0],l=o[1],m=Object(c.useRef)(null),u=function(){if(m.current){var e=m.current.getBoundingClientRect().bottom,t=a&&e<window.innerHeight;l(t)}};Object(c.useEffect)((function(){return u(),window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}),[]);var p=e.isUndoRequesting,f=e.query,_=e.requestingTaskList,v=e.taskListComplete,O=!1===e.taskListHidden&&!v,j=!O||!f.task,g=function(e){r(!e)};p&&!a&&r(!0);var y=function(){return _?Object(c.createElement)(me,null):Object(c.createElement)(c.Suspense,{fallback:Object(c.createElement)(me,null)},Object(c.createElement)(de,{query:f}))};return Object(c.createElement)("div",{className:b()("woocommerce-homescreen",{hasInbox:a})},j?Object(c.createElement)(c.Fragment,null,a&&Object(c.createElement)("div",{className:"woocommerce-homescreen-column is-inbox"},Object(c.createElement)(ue.default,{isPanelEmpty:g})),Object(c.createElement)("div",{className:"woocommerce-homescreen-column",ref:m,style:{position:s?"sticky":"static"}},O&&y(),Object(c.createElement)(le,null),!O&&Object(c.createElement)(B,null))):O&&y())};pe.propTypes={requestingTaskList:_.a.bool.isRequired,taskListComplete:_.a.bool,taskListHidden:_.a.bool,query:_.a.object.isRequired};var be=Object(a.a)(Object(l.a)((function(e){var t=(0,e("wc-api").getUndoDismissRequesting)().isUndoRequesting,n=e(s.OPTIONS_STORE_NAME),c=n.getOption,a=n.isResolving;return Object(m.e)()?{isUndoRequesting:t,taskListComplete:"yes"===c("woocommerce_task_list_complete"),taskListHidden:"yes"===c("woocommerce_task_list_hidden"),requestingTaskList:a("getOption",["woocommerce_task_list_complete"])||a("getOption",["woocommerce_task_list_hidden"])}:{requestingTaskList:!1}})))(pe),fe=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(49),n.e(41)]).then(n.bind(null,909))}));t.default=Object(a.a)(Object(i.g)("onboarding",{}).profile?Object(s.withOnboardingHydration)(Object(i.g)("onboarding",{}).profile):r.identity,Object(l.a)((function(e){if(Object(m.e)())return{profileItems:(0,e(s.ONBOARDING_STORE_NAME).getProfileItems)()}})))((function(e){var t=e.profileItems,n=e.query;return Object(m.e)()&&!t.completed?Object(c.createElement)(c.Suspense,{fallback:Object(c.createElement)(o.Spinner,null)},Object(c.createElement)(fe,{query:n})):Object(c.createElement)(be,{query:n})}))}}]);
