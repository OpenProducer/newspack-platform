(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{112:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(0),c=new WeakMap;function a(e){return Object(n.useMemo)((function(){return function(e){var t=c.get(e)||0;return c.set(e,t+1),t}(e)}),[e])}},128:function(e,t,r){"use strict";var n=r(6),c=r(14),a=r(8),o=r.n(a),l=r(0);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.a=function(e){var t=e.as,r=void 0===t?"div":t,a=e.className,s=Object(c.a)(e,["as","className"]);return function(e){var t=e.as,r=void 0===t?"div":t,n=Object(c.a)(e,["as"]);return"function"==typeof n.children?n.children(n):Object(l.createElement)(r,n)}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({as:r,className:o()("components-visually-hidden",a)},s))}},171:function(e,t,r){"use strict";var n=r(0),c=r(8),a=r.n(c),o=r(128);function l(e){var t=e.id,r=e.label,c=e.hideLabelFromVision,i=e.help,s=e.className,u=e.children;return Object(n.createElement)("div",{className:a()("components-base-control",s)},Object(n.createElement)("div",{className:"components-base-control__field"},r&&t&&(c?Object(n.createElement)(o.a,{as:"label",htmlFor:t},r):Object(n.createElement)("label",{className:"components-base-control__label",htmlFor:t},r)),r&&!t&&(c?Object(n.createElement)(o.a,{as:"label"},r):Object(n.createElement)(l.VisualLabel,null,r)),u),!!i&&Object(n.createElement)("p",{id:t+"__help",className:"components-base-control__help"},i))}l.VisualLabel=function(e){var t=e.className,r=e.children;return t=a()("components-base-control__label",t),Object(n.createElement)("span",{className:t},r)},t.a=l},422:function(e,t,r){"use strict";var n=r(6),c=r(14),a=r(0);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.a=function(e){var t=e.icon,r=e.size,l=void 0===r?24:r,i=Object(c.a)(e,["icon","size"]);return Object(a.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({width:l,height:l},i))}},720:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(12),c=r(15),a=r(14),o=r(0),l=r(2),i=r(112),s=r(171);function u(e){var t=e.help,r=e.label,m=e.multiple,b=void 0!==m&&m,p=e.onChange,d=e.options,f=void 0===d?[]:d,O=e.className,v=e.hideLabelFromVision,j=Object(a.a)(e,["help","label","multiple","onChange","options","className","hideLabelFromVision"]),h=Object(i.a)(u),_="inspector-select-control-".concat(h);return!Object(l.isEmpty)(f)&&Object(o.createElement)(s.a,{label:r,hideLabelFromVision:v,id:_,help:t,className:O},Object(o.createElement)("select",Object(n.a)({id:_,className:"components-select-control__input",onChange:function(e){if(b){var t=Object(c.a)(e.target.options).filter((function(e){return e.selected})).map((function(e){return e.value}));p(t)}else p(e.target.value)},"aria-describedby":t?"".concat(_,"__help"):void 0,multiple:b},j),f.map((function(e,t){return Object(o.createElement)("option",{key:"".concat(e.label,"-").concat(e.value,"-").concat(t),value:e.value,disabled:e.disabled},e.label)}))))}},727:function(e,t,r){"use strict";var n=r(0),c=r(32),a=Object(n.createElement)(c.b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.a,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));t.a=a},730:function(e,t,r){"use strict";var n=r(0),c=r(32),a=Object(n.createElement)(c.b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.a,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"}));t.a=a},758:function(e,t,r){"use strict";var n=r(766),c=["a","b","em","i","strong","p"],a=["target","href","rel","name","download"];t.a=function(e){return{__html:Object(n.sanitize)(e,{ALLOWED_TAGS:c,ALLOWED_ATTR:a})}}},793:function(e,t,r){},926:function(e,t,r){"use strict";r.r(t);var n=r(38),c=r.n(n),a=r(37),o=r.n(a),l=r(62),i=r.n(l),s=r(39),u=r.n(s),m=r(42),b=r.n(m),p=r(26),d=r.n(p),f=r(0),O=r(3),v=r(67),j=r(720),h=r(75),_=r(8),g=r.n(_),w=r(36),y=r.n(w),E=r(169),N=r(18),x=r(16),A=r.n(x),P=r(422),k=r(730),L=r(727),S=r(53),D=r(23),R=r(101),z=r(33),C=r(758),M=r(1),F=r.n(M);function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var c=d()(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return b()(this,r)}}var T=function(e){u()(r,e);var t=I(r);function r(){return c()(this,r),t.apply(this,arguments)}return o()(r,[{key:"render",value:function(){var e=this.props.hasMultipleAlerts;return Object(f.createElement)("div",{className:"woocommerce-card woocommerce-store-alerts is-loading","aria-hidden":!0},Object(f.createElement)("div",{className:"woocommerce-card__header"},Object(f.createElement)("div",{className:"woocommerce-card__title woocommerce-card__header-item"},Object(f.createElement)("span",{className:"is-placeholder"})),e&&Object(f.createElement)("div",{className:"woocommerce-card__action woocommerce-card__header-item"},Object(f.createElement)("span",{className:"is-placeholder"}))),Object(f.createElement)("div",{className:"woocommerce-card__body"},Object(f.createElement)("div",{className:"woocommerce-store-alerts__message"},Object(f.createElement)("span",{className:"is-placeholder"}),Object(f.createElement)("span",{className:"is-placeholder"})),Object(f.createElement)("div",{className:"woocommerce-store-alerts__actions"},Object(f.createElement)("span",{className:"is-placeholder"}))))}}]),r}(f.Component),V=T;T.propTypes={hasMultipleAlerts:F.a.bool},T.defaultProps={hasMultipleAlerts:!1};var W=r(63);r(793);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d()(e);if(t){var c=d()(this).constructor;r=Reflect.construct(n,arguments,c)}else r=n.apply(this,arguments);return b()(this,r)}}var G=function(e){u()(r,e);var t=B(r);function r(e){var n;c()(this,r);var a=(n=t.call(this,e)).props.alerts;return n.state={currentIndex:a?0:null},n.previousAlert=n.previousAlert.bind(i()(n)),n.nextAlert=n.nextAlert.bind(i()(n)),n}return o()(r,[{key:"previousAlert",value:function(e){e.stopPropagation();var t=this.state.currentIndex;t>0&&this.setState({currentIndex:t-1})}},{key:"nextAlert",value:function(e){e.stopPropagation();var t=this.props.alerts,r=this.state.currentIndex;r<t.length-1&&this.setState({currentIndex:r+1})}},{key:"renderActions",value:function(e){var t=this.props,r=t.triggerNoteAction,n=t.updateNote,c=e.actions.map((function(t){return Object(f.createElement)(v.a,{key:t.name,isPrimary:t.primary,isSecondary:!t.primary,href:t.url||void 0,onClick:function(){return r(e.id,t.id)}},t.label)})),a=[{value:A()().add(4,"hours").unix().toString(),label:Object(O.__)("Later Today",'woocommerce')},{value:A()().add(1,"day").hour(9).minute(0).second(0).millisecond(0).unix().toString(),label:Object(O.__)("Tomorrow",'woocommerce')},{value:A()().add(1,"week").hour(9).minute(0).second(0).millisecond(0).unix().toString(),label:Object(O.__)("Next Week",'woocommerce')},{value:A()().add(1,"month").hour(9).minute(0).second(0).millisecond(0).unix().toString(),label:Object(O.__)("Next Month",'woocommerce')}],o=e.is_snoozable&&Object(f.createElement)(j.a,{className:"woocommerce-store-alerts__snooze",options:[{label:Object(O.__)("Remind Me Later",'woocommerce'),value:"0"}].concat(a),onChange:function(t){if("0"!==t){var r=a.find((function(e){return e.value===t}));!function(t){n(e.id,{status:"snoozed",date_reminder:t.value});var r={alert_name:e.name,alert_title:e.title,snooze_duration:t.value,snooze_label:t.label};Object(W.b)("store_alert_snooze",r)}({value:t,label:r&&r.label})}}});if(c||o)return Object(f.createElement)("div",{className:"woocommerce-store-alerts__actions"},c,o)}},{key:"render",value:function(){var e=this.props.alerts||[],t=Object(D.g)("alertCount",0,(function(e){return parseInt(e,10)}));if(t>0&&this.props.isLoading)return Object(f.createElement)(V,{hasMultipleAlerts:t>1});if(0===e.length)return null;var r=this.state.currentIndex,n=e.length,c=e[r],a=c.type,o=g()("woocommerce-store-alerts","woocommerce-analytics__card",{"is-alert-error":"error"===a,"is-alert-update":"update"===a});return Object(f.createElement)(S.Card,{title:[c.icon&&Object(f.createElement)(h.a,{key:"icon",icon:c.icon}),Object(f.createElement)(f.Fragment,{key:"title"},c.title)],className:o,action:n>1&&Object(f.createElement)("div",{className:"woocommerce-store-alerts__pagination"},Object(f.createElement)(v.a,{onClick:this.previousAlert,disabled:0===r,label:Object(O.__)("Previous Alert",'woocommerce')},Object(f.createElement)(P.a,{icon:k.a})),Object(f.createElement)("span",{className:"woocommerce-store-alerts__pagination-label",role:"status","aria-live":"polite"},y()({mixedString:Object(O.__)("{{current /}} of {{total /}}",'woocommerce'),components:{current:Object(f.createElement)(f.Fragment,null,r+1),total:Object(f.createElement)(f.Fragment,null,n)}})),Object(f.createElement)(v.a,{onClick:this.nextAlert,disabled:n-1===r,label:Object(O.__)("Next Alert",'woocommerce')},Object(f.createElement)(P.a,{icon:L.a})))},Object(f.createElement)("div",{className:"woocommerce-store-alerts__message",dangerouslySetInnerHTML:Object(C.a)(c.content)}),this.renderActions(c))}}]),r}(f.Component);t.default=Object(E.a)(Object(R.a)((function(e){var t=e("wc-api"),r=t.getNotes,n=t.isGetNotesRequesting,c={page:1,per_page:z.d.pageSize,type:"error,update",status:"unactioned"};return{alerts:r(c).filter((function(e){return"unactioned"===e.status})),isLoading:n(c)}})),Object(N.withDispatch)((function(e){var t=e("wc-api");return{triggerNoteAction:t.triggerNoteAction,updateNote:t.updateNote}})))(G)}}]);
