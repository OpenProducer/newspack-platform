(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[11],{278:function(t,e,n){"use strict";var c=n(11),r=n(19),a=n(4),o=n.n(a),i=n(0);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);e&&(c=c.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,c)}return n}e.a=function(t){var e=t.as,n=void 0===e?"div":e,a=t.className,s=Object(r.a)(t,["as","className"]);return function(t){var e=t.as,n=void 0===e?"div":e,c=Object(r.a)(t,["as"]);return"function"==typeof c.children?c.children(c):Object(i.createElement)(n,c)}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(c.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({as:n,className:o()("components-visually-hidden",a)},s))}},62:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"h",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return m})),n.d(e,"g",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"f",(function(){return b})),n.d(e,"b",(function(){return h}));var c=n(11),r=n(27),a=n(2),o=n(3);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=t.navigator.platform;return-1!==e.indexOf("Mac")||Object(a.includes)(["iPad","iPhone"],e)}var u=8,s=9,l=13,m=27,d=32,f=37,p=38,b=39,h=40,y="alt",v="ctrl",O="shift",j={primary:function(t){return t()?["meta"]:[v]},primaryShift:function(t){return t()?[O,"meta"]:[v,O]},primaryAlt:function(t){return t()?[y,"meta"]:[v,y]},secondary:function(t){return t()?[O,y,"meta"]:[v,O,y]},access:function(t){return t()?[v,y]:[O,y]},ctrl:function(){return[v]},alt:function(){return[y]},ctrlShift:function(){return[v,O]},shift:function(){return[O]},shiftAlt:function(){return[O,y]}},_=(Object(a.mapValues)(j,(function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return[].concat(Object(r.a)(t(n)),[e.toLowerCase()]).join("+")}})),Object(a.mapValues)(j,(function(t){return function(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,u=o(),s=(n={},Object(c.a)(n,y,u?"⌥":"Alt"),Object(c.a)(n,v,u?"^":"Ctrl"),Object(c.a)(n,"meta","⌘"),Object(c.a)(n,O,u?"⇧":"Shift"),n),l=t(o).reduce((function(t,e){var n=Object(a.get)(s,e,e);return[].concat(Object(r.a)(t),u?[n]:[n,"+"])}),[]),m=Object(a.capitalize)(e);return[].concat(Object(r.a)(l),[m])}})));Object(a.mapValues)(_,(function(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return t(e,n).join("")}})),Object(a.mapValues)(j,(function(t){return function(e){var n,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=u(),l=(n={},Object(c.a)(n,O,"Shift"),Object(c.a)(n,"meta",s?"Command":"Control"),Object(c.a)(n,v,"Control"),Object(c.a)(n,y,s?"Option":"Alt"),Object(c.a)(n,",",Object(o.__)("Comma")),Object(c.a)(n,".",Object(o.__)("Period")),Object(c.a)(n,"`",Object(o.__)("Backtick")),n);return[].concat(Object(r.a)(t(u)),[e]).map((function(t){return Object(a.capitalize)(Object(a.get)(l,t,t))})).join(s?" ":" + ")}})),Object(a.mapValues)(j,(function(t){return function(e,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,r=t(c);return!!r.every((function(t){return e["".concat(t,"Key")]}))&&(n?e.key===n:Object(a.includes)(r,e.key.toLowerCase()))}}))},742:function(t,e,n){"use strict";var c=n(0),r=n(4),a=n.n(r),o=n(278);function i(t){var e=t.id,n=t.label,r=t.hideLabelFromVision,u=t.help,s=t.className,l=t.children;return Object(c.createElement)("div",{className:a()("components-base-control",s)},Object(c.createElement)("div",{className:"components-base-control__field"},n&&e&&(r?Object(c.createElement)(o.a,{as:"label",htmlFor:e},n):Object(c.createElement)("label",{className:"components-base-control__label",htmlFor:e},n)),n&&!e&&(r?Object(c.createElement)(o.a,{as:"label"},n):Object(c.createElement)(i.VisualLabel,null,n)),l),!!u&&Object(c.createElement)("p",{id:e+"__help",className:"components-base-control__help"},u))}i.VisualLabel=function(t){var e=t.className,n=t.children;return e=a()("components-base-control__label",e),Object(c.createElement)("span",{className:e},n)},e.a=i},748:function(t,e,n){"use strict";var c=n(13),r=n.n(c),a=n(12),o=n.n(a),i=n(14),u=n.n(i),s=n(15),l=n.n(s),m=n(6),d=n.n(m),f=n(0),p=n(4),b=n.n(p),h=n(1),y=n.n(h),v=n(759),O=(n(750),n(55));function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,c=d()(t);if(e){var r=d()(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return l()(this,n)}}var _=function(t){u()(n,t);var e=j(n);function n(){return r()(this,n),e.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.menu,c=t.subtitle,r=t.title,a=t.unreadMessages,o=b()({"woocommerce-layout__inbox-panel-header":c,"woocommerce-layout__activity-panel-header":!c},e),i=a||0;return Object(f.createElement)("div",{className:o},Object(f.createElement)("div",{className:"woocommerce-layout__inbox-title"},Object(f.createElement)(v.a,{variant:"title.small"},r),Object(f.createElement)(v.a,{variant:"button"},i>0&&Object(f.createElement)("span",{className:"woocommerce-layout__inbox-badge"},a))),Object(f.createElement)("div",{className:"woocommerce-layout__inbox-subtitle"},c&&Object(f.createElement)(v.a,{variant:"body.small"},c)),n&&Object(f.createElement)("div",{className:"woocommerce-layout__activity-panel-header-menu"},n))}}]),n}(f.Component);_.propTypes={className:y.a.string,unreadMessages:y.a.number,title:y.a.string.isRequired,subtitle:y.a.string,menu:y.a.shape({type:y.a.oneOf([O.EllipsisMenu])})},e.a=_},750:function(t,e,n){},751:function(t,e,n){"use strict";n.d(e,"a",(function(){return R})),n.d(e,"b",(function(){return N}));var c=n(13),r=n.n(c),a=n(12),o=n.n(a),i=n(14),u=n.n(i),s=n(15),l=n.n(s),m=n(6),d=n.n(m),f=n(0),p=n(4),b=n.n(p),h=n(86),y=n.n(h),v=n(17),O=n.n(v),j=n(1),_=n.n(j),g=(n(752),n(55)),w=n(2);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,c=d()(t);if(e){var r=d()(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return l()(this,n)}}var k=function(t){u()(n,t);var e=E(n);function n(){return r()(this,n),e.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,e=t.className,n=t.hasAction,c=t.hasDate,r=t.hasSubtitle,a=t.lines,o=b()("woocommerce-activity-card is-loading",e);return Object(f.createElement)("div",{className:o,"aria-hidden":!0},Object(f.createElement)("span",{className:"woocommerce-activity-card__icon"},Object(f.createElement)("span",{className:"is-placeholder"})),Object(f.createElement)("div",{className:"woocommerce-activity-card__header"},Object(f.createElement)("div",{className:"woocommerce-activity-card__title is-placeholder"}),r&&Object(f.createElement)("div",{className:"woocommerce-activity-card__subtitle is-placeholder"}),c&&Object(f.createElement)("div",{className:"woocommerce-activity-card__date"},Object(f.createElement)("span",{className:"is-placeholder"}))),Object(f.createElement)("div",{className:"woocommerce-activity-card__body"},Object(w.range)(a).map((function(t){return Object(f.createElement)("span",{className:"is-placeholder",key:t})}))),n&&Object(f.createElement)("div",{className:"woocommerce-activity-card__actions"},Object(f.createElement)("span",{className:"is-placeholder"})))}}]),n}(f.Component);k.propTypes={className:_.a.string,hasAction:_.a.bool,hasDate:_.a.bool,hasSubtitle:_.a.bool,lines:_.a.number},k.defaultProps={hasAction:!1,hasDate:!1,hasSubtitle:!1,lines:1};var N=k;function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,c=d()(t);if(e){var r=d()(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return l()(this,n)}}var R=function(t){u()(n,t);var e=S(n);function n(){return r()(this,n),e.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var t=this.props,e=t.actions,n=t.className,c=t.children,r=t.date,a=t.icon,o=t.subtitle,i=t.title,u=t.unread,s=b()("woocommerce-activity-card",n),l=Array.isArray(e)?e:[e];return Object(f.createElement)("section",{className:s},u&&Object(f.createElement)("span",{className:"woocommerce-activity-card__unread"}),a&&Object(f.createElement)("span",{className:"woocommerce-activity-card__icon","aria-hidden":!0},a),Object(f.createElement)("header",{className:"woocommerce-activity-card__header"},Object(f.createElement)(g.H,{className:"woocommerce-activity-card__title"},i),o&&Object(f.createElement)("div",{className:"woocommerce-activity-card__subtitle"},o),r&&Object(f.createElement)("span",{className:"woocommerce-activity-card__date"},O.a.utc(r).fromNow())),Object(f.createElement)(g.Section,{className:"woocommerce-activity-card__body"},c),e&&Object(f.createElement)("footer",{className:"woocommerce-activity-card__actions"},l.map((function(t,e){return Object(f.cloneElement)(t,{key:e})}))))}}]),n}(f.Component);R.propTypes={actions:_.a.oneOfType([_.a.arrayOf(_.a.element),_.a.element]),className:_.a.string,children:_.a.node.isRequired,date:_.a.string,icon:_.a.node,subtitle:_.a.node,title:_.a.oneOfType([_.a.string,_.a.node]).isRequired,unread:_.a.bool},R.defaultProps={icon:Object(f.createElement)(y.a,{icon:"notice-outline",size:48}),unread:!1}},752:function(t,e,n){},759:function(t,e,n){"use strict";var c=n(280),r=n(98),a=n(167).b;function o(){var t=Object(r.a)(["\n\t","\n\t","\n"]);return o=function(){return t},t}function i(){var t=Object(r.a)(["\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t"]);return i=function(){return t},t}function u(){var t=Object(r.a)(["\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t"]);return u=function(){return t},t}function s(){var t=Object(r.a)(["\n\t\t\t\t","\n\t\t\t"]);return s=function(){return t},t}function l(){var t=Object(r.a)(["\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t"]);return l=function(){return t},t}function m(){var t=Object(r.a)(["\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t"]);return m=function(){return t},t}function d(){var t=Object(r.a)(["\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t"]);return d=function(){return t},t}function f(){var t=Object(r.a)(["\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t"]);return f=function(){return t},t}function p(){var t=Object(r.a)(["\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t"]);return p=function(){return t},t}var b="\n  ".concat("font-weight: 400;","\n"),h="\n\tfont-size: 32px;\n\tline-height: 40px;\n",y="\n\tfont-size: 24px;\n\tline-height: 32px;\n",v="\n\tfont-size: 20px;\n\tline-height: 28px;\n",O="\n\t".concat("font-weight: 600;","\n\tfont-size: 14px;\n\tline-height: 20px;\n"),j="\n\t".concat("font-weight: 400;","\n"),_="\n\tfont-size: 16px;\n\tline-height: 24px;\n",g="\n\tfont-size: 14px;\n\tline-height: 20px;\n",w="\n  ".concat("font-weight: 600;","\n  font-size: 14px;\n  line-height: 20px;\n"),E="\n\t".concat("font-weight: 400;","\n\tfont-size: 12px;\n\tline-height: 16px;\n"),k="\n\t".concat("font-weight: 600;","\n\tfont-size: 12px;\n\tline-height: 16px;\n"),N=Object(c.a)("p",{target:"e15wbhsk0",label:"Text"})("\n\tbox-sizing: border-box;\n\tmargin: 0;\n",(function(t){return a(o(),'font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\nOxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;',function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";switch(t){case"title.large":return a(p(),b,h);case"title.medium":return a(f(),b,y);case"title.small":return a(d(),b,v);case"subtitle":return a(m(),O,"\n\tfont-size: 16px;\n\tline-height: 24px;\n");case"subtitle.small":return a(l(),O,"\n\tfont-size: 14px;\n\tline-height: 20px;\n");case"body":return a(s(),j);case"body.large":return a(u(),j,_);case"body.small":return a(i(),j,g);case"button":return w;case"caption":return E;case"label":return k}}(t.variant))}),"");e.a=N},937:function(t,e,n){"use strict";n.r(e);var c=n(13),r=n.n(c),a=n(12),o=n.n(a),i=n(14),u=n.n(i),s=n(15),l=n.n(s),m=n(6),d=n.n(m),f=n(0),p=n(3),b=n(185),h=n(1),y=n.n(h),v=n(55),O=n(751),j=n(748),_=n(86),g=n.n(_),w=n(7),E=n.n(w),k=n(90),N=n(742),S=n(4),R=n.n(S),x=n(62),P=n(2),q=n(24),C=n(28),D=n(63);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,c=d()(t);if(e){var r=d()(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return l()(this,n)}}var A=function(t){u()(n,t);var e=z(n);function n(t){var c;return r()(this,n),(c=e.call(this,t)).state={quantity:t.product.stock_quantity,editing:!1,edited:!1},c.beginEdit=c.beginEdit.bind(E()(c)),c.cancelEdit=c.cancelEdit.bind(E()(c)),c.onQuantityChange=c.onQuantityChange.bind(E()(c)),c.handleKeyDown=c.handleKeyDown.bind(E()(c)),c.onSubmit=c.onSubmit.bind(E()(c)),c}return o()(n,[{key:"recordStockEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(D.b)("activity_panel_stock_".concat(t),e)}},{key:"beginEdit",value:function(){var t=this,e=this.props.product;this.setState({editing:!0,quantity:e.stock_quantity},(function(){t.quantityInput&&t.quantityInput.focus()})),this.recordStockEvent("update_stock")}},{key:"cancelEdit",value:function(){var t=this.props.product;this.setState({editing:!1,quantity:t.stock_quantity}),this.recordStockEvent("cancel")}},{key:"handleKeyDown",value:function(t){t.keyCode===x.d&&this.cancelEdit()}},{key:"onQuantityChange",value:function(t){this.setState({quantity:t.target.value})}},{key:"onSubmit",value:function(){var t=this.props,e=t.product,n=t.updateProductStock,c=this.state.quantity;this.setState({editing:!1,edited:!0}),n(e,c),this.recordStockEvent("save",{quantity:c})}},{key:"getActions",value:function(){return this.state.editing?[Object(f.createElement)(k.a,{key:"save",type:"submit",isPrimary:!0},Object(p.__)("Save",'woocommerce')),Object(f.createElement)(k.a,{key:"cancel",type:"reset"},Object(p.__)("Cancel",'woocommerce'))]:[Object(f.createElement)(k.a,{key:"update",isSecondary:!0,onClick:this.beginEdit},Object(p.__)("Update stock",'woocommerce'))]}},{key:"getBody",value:function(){var t=this,e=this.props.product,n=this.state,c=n.editing,r=n.quantity;return c?Object(f.createElement)(f.Fragment,null,Object(f.createElement)(N.a,{className:"woocommerce-stock-activity-card__edit-quantity"},Object(f.createElement)("input",{className:"components-text-control__input",type:"number",value:r,onKeyDown:this.handleKeyDown,onChange:this.onQuantityChange,ref:function(e){t.quantityInput=e}})),Object(f.createElement)("span",null,Object(p.__)("in stock",'woocommerce'))):Object(f.createElement)("span",{className:"woocommerce-stock-activity-card__stock-quantity"},Object(p.sprintf)(Object(p.__)("%d in stock",'woocommerce'),e.stock_quantity))}},{key:"render",value:function(){var t=this,e=this.props.product,n=this.state,c=n.edited,r=n.editing,a=Object(C.g)("notifyLowStockAmount",0),o=Number.isFinite(e.low_stock_amount)?e.low_stock_amount:a,i=e.stock_quantity<=o;if(!i&&!c)return null;var u=Object(f.createElement)(v.Link,{href:"post.php?action=edit&post="+(e.parent_id||e.id),onClick:function(){return t.recordStockEvent("product_name")},type:"wp-admin"},e.name),s=null;"variation"===e.type&&(s=Object.values(e.attributes).map((function(t){return t.option})).join(", "));var l=Object(P.get)(e,["images",0])||Object(P.get)(e,["image"]),m=R()("woocommerce-stock-activity-card__image-overlay__product",{"is-placeholder":!l||!l.src}),d=Object(f.createElement)("div",{className:"woocommerce-stock-activity-card__image-overlay"},Object(f.createElement)("div",{className:m},Object(f.createElement)(v.ProductImage,{product:e}))),p=R()("woocommerce-stock-activity-card",{"is-dimmed":!r&&!i}),b=Object(f.createElement)(O.a,{className:p,title:u,subtitle:s,icon:d,actions:this.getActions()},this.getBody());return r?Object(f.createElement)("form",{onReset:this.cancelEdit,onSubmit:this.onSubmit},b):b}}]),n}(f.Component),L=Object(b.a)(Object(q.withDispatch)((function(t){return{updateProductStock:t("wc-api").updateProductStock}})))(A),F=n(36),I=n(104);function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,c=d()(t);if(e){var r=d()(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return l()(this,n)}}var V=function(t){u()(n,t);var e=T(n);function n(){return r()(this,n),e.apply(this,arguments)}return o()(n,[{key:"renderEmptyCard",value:function(){return Object(f.createElement)(O.a,{className:"woocommerce-empty-activity-card",title:Object(p.__)("Your stock is in good shape.",'woocommerce'),icon:Object(f.createElement)(g.a,{icon:"checkmark",size:48})},Object(p.__)("You currently have no products running low on stock.",'woocommerce'))}},{key:"renderProducts",value:function(){var t=this.props.products;return 0===t.length?this.renderEmptyCard():t.map((function(t){return Object(f.createElement)(L,{key:t.id,product:t})}))}},{key:"render",value:function(){var t=this.props,e=t.isError,n=t.isRequesting,c=t.products;if(e){var r=Object(p.__)("There was an error getting your low stock products. Please try again.",'woocommerce'),a=Object(p.__)("Reload",'woocommerce');return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(v.EmptyContent,{title:r,actionLabel:a,actionURL:null,actionCallback:function(){window.location.reload()}}))}var o=n||c.length>0?Object(p.__)("Stock",'woocommerce'):Object(p.__)("No products with low stock",'woocommerce');return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(j.a,{title:o}),Object(f.createElement)(v.Section,null,n?Object(f.createElement)(O.b,{className:"woocommerce-stock-activity-card",hasAction:!0,lines:1}):this.renderProducts()))}}]),n}(f.Component);V.propTypes={products:y.a.array.isRequired,isError:y.a.bool,isRequesting:y.a.bool},V.defaultProps={products:[],isError:!1,isRequesting:!1};e.default=Object(b.a)(Object(I.a)((function(t){var e=t("wc-api"),n=e.getItems,c=e.getItemsError,r=e.isGetItemsRequesting,a={page:1,per_page:F.d.pageSize,low_in_stock:!0,status:"publish"};return{products:Array.from(n("products",a).values()),isError:Boolean(c("products",a)),isRequesting:r("products",a)}})))(V)},98:function(t,e,n){"use strict";function c(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}n.d(e,"a",(function(){return c}))}}]);
