(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{758:function(e,t,n){"use strict";var a=n(766),c=["a","b","em","i","strong","p"],r=["target","href","rel","name","download"];t.a=function(e){return{__html:Object(a.sanitize)(e,{ALLOWED_TAGS:c,ALLOWED_ATTR:r})}}},760:function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return R}));var a=n(38),c=n.n(a),r=n(37),i=n.n(r),o=n(39),s=n.n(o),l=n(42),m=n.n(l),u=n(26),d=n.n(u),b=n(0),f=n(8),p=n.n(f),v=n(90),_=n.n(v),h=n(16),y=n.n(h),g=n(1),O=n.n(g),w=(n(762),n(53)),j=n(2);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var c=d()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return m()(this,n)}}var N=function(e){s()(n,e);var t=E(n);function n(){return c()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.hasAction,a=e.hasDate,c=e.hasSubtitle,r=e.lines,i=p()("woocommerce-activity-card is-loading",t);return Object(b.createElement)("div",{className:i,"aria-hidden":!0},Object(b.createElement)("span",{className:"woocommerce-activity-card__icon"},Object(b.createElement)("span",{className:"is-placeholder"})),Object(b.createElement)("div",{className:"woocommerce-activity-card__header"},Object(b.createElement)("div",{className:"woocommerce-activity-card__title is-placeholder"}),c&&Object(b.createElement)("div",{className:"woocommerce-activity-card__subtitle is-placeholder"}),a&&Object(b.createElement)("div",{className:"woocommerce-activity-card__date"},Object(b.createElement)("span",{className:"is-placeholder"}))),Object(b.createElement)("div",{className:"woocommerce-activity-card__body"},Object(j.range)(r).map((function(e){return Object(b.createElement)("span",{className:"is-placeholder",key:e})}))),n&&Object(b.createElement)("div",{className:"woocommerce-activity-card__actions"},Object(b.createElement)("span",{className:"is-placeholder"})))}}]),n}(b.Component);N.propTypes={className:O.a.string,hasAction:O.a.bool,hasDate:O.a.bool,hasSubtitle:O.a.bool,lines:O.a.number},N.defaultProps={hasAction:!1,hasDate:!1,hasSubtitle:!1,lines:1};var R=N;function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var c=d()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return m()(this,n)}}var D=function(e){s()(n,e);var t=k(n);function n(){return c()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.actions,n=e.className,a=e.children,c=e.date,r=e.icon,i=e.subtitle,o=e.title,s=e.unread,l=p()("woocommerce-activity-card",n),m=Array.isArray(t)?t:[t];return Object(b.createElement)("section",{className:l},s&&Object(b.createElement)("span",{className:"woocommerce-activity-card__unread"}),r&&Object(b.createElement)("span",{className:"woocommerce-activity-card__icon","aria-hidden":!0},r),Object(b.createElement)("header",{className:"woocommerce-activity-card__header"},Object(b.createElement)(w.H,{className:"woocommerce-activity-card__title"},o),i&&Object(b.createElement)("div",{className:"woocommerce-activity-card__subtitle"},i),c&&Object(b.createElement)("span",{className:"woocommerce-activity-card__date"},y.a.utc(c).fromNow())),Object(b.createElement)(w.Section,{className:"woocommerce-activity-card__body"},a),t&&Object(b.createElement)("footer",{className:"woocommerce-activity-card__actions"},m.map((function(e,t){return Object(b.cloneElement)(e,{key:t})}))))}}]),n}(b.Component);D.propTypes={actions:O.a.oneOfType([O.a.arrayOf(O.a.element),O.a.element]),className:O.a.string,children:O.a.node.isRequired,date:O.a.string,icon:O.a.node,subtitle:O.a.node,title:O.a.oneOfType([O.a.string,O.a.node]).isRequired,unread:O.a.bool},D.defaultProps={icon:Object(b.createElement)(_.a,{icon:"notice-outline",size:48}),unread:!1}},761:function(e,t,n){"use strict";var a=n(38),c=n.n(a),r=n(37),i=n.n(r),o=n(39),s=n.n(o),l=n(42),m=n.n(l),u=n(26),d=n.n(u),b=n(0),f=n(8),p=n.n(f),v=n(1),_=n.n(v),h=(n(763),n(53));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var c=d()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return m()(this,n)}}var g=function(e){s()(n,e);var t=y(n);function n(){return c()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.menu,a=e.subtitle,c=e.title,r=e.unreadMessages,i=p()({"woocommerce-layout__inbox-panel-header":a,"woocommerce-layout__activity-panel-header":!a},t),o=r||0;return Object(b.createElement)("div",{className:i},Object(b.createElement)(h.H,{className:"woocommerce-layout__activity-panel-header-title"},c,o>0&&Object(b.createElement)("span",null,r)),a&&Object(b.createElement)("div",{className:"woocommerce-layout__activity-panel-header-subtitle"},a),n&&Object(b.createElement)("div",{className:"woocommerce-layout__activity-panel-header-menu"},n))}}]),n}(b.Component);g.propTypes={className:_.a.string,unreadMessages:_.a.number,title:_.a.string.isRequired,subtitle:_.a.string,menu:_.a.shape({type:_.a.oneOf([h.EllipsisMenu])})},t.a=g},762:function(e,t,n){},763:function(e,t,n){},776:function(e,t,n){},792:function(e,t,n){"use strict";n.r(t);var a=n(129),c=n.n(a),r=n(0),i=n(3),o=n(169),s=n(43),l=n(760),m=n(38),u=n.n(m),d=n(37),b=n.n(d),f=n(39),p=n.n(f),v=n(42),_=n.n(v),h=n(26),y=n.n(h),g=n(1),O=n.n(g);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y()(e);if(t){var c=y()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return _()(this,n)}}var j=function(e){p()(n,e);var t=w(n);function n(){return u()(this,n),t.apply(this,arguments)}return b()(n,[{key:"render",value:function(){var e=this.props.className;return Object(r.createElement)("div",{className:"woocommerce-inbox-message is-placeholder ".concat(e),"aria-hidden":!0},Object(r.createElement)("div",{className:"woocommerce-inbox-message__image"},Object(r.createElement)("div",{className:"banner-block"})),Object(r.createElement)("div",{className:"woocommerce-inbox-message__wrapper"},Object(r.createElement)("div",{className:"woocommerce-inbox-message__content"},Object(r.createElement)("div",{className:"woocommerce-inbox-message__date"},Object(r.createElement)("div",{className:"sixth-line"})),Object(r.createElement)("div",{className:"woocommerce-inbox-message__title"},Object(r.createElement)("div",{className:"line"}),Object(r.createElement)("div",{className:"line"})),Object(r.createElement)("div",{className:"woocommerce-inbox-message__text"},Object(r.createElement)("div",{className:"line"}),Object(r.createElement)("div",{className:"third-line"}))),Object(r.createElement)("div",{className:"woocommerce-inbox-message__actions"},Object(r.createElement)("div",{className:"fifth-line"}),Object(r.createElement)("div",{className:"fifth-line"}))))}}]),n}(r.Component);j.propTypes={className:O.a.string};var E=j,N=n(761),R=n(62),k=n.n(R),D=n(721),x=n(67),T=n(722),A=n(775),C=n.n(A),q=n(16),S=n.n(q),M=n(18),L=n(22);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y()(e);if(t){var c=y()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return _()(this,n)}}var P=function(e){p()(n,e);var t=U(n);function n(e){var a;return u()(this,n),(a=t.call(this,e)).state={inAction:!1},a.handleActionClick=a.handleActionClick.bind(k()(a)),a}return b()(n,[{key:"handleActionClick",value:function(e){var t=this.props,n=t.action,a=t.actionCallback,c=t.noteId,r=t.triggerNoteAction,i=t.removeAllNotes,o=t.removeNote,s=e.target.href||"",l=!0;s.length&&!s.startsWith(L.a)&&(e.preventDefault(),l=!1,window.open(s,"_blank")),n?this.setState({inAction:l},(function(){return r(c,n.id)})):(c?o(c):i(),a(!0))}},{key:"render",value:function(){var e=this.props,t=e.action,n=e.dismiss,a=e.label,c=n||t.primary;return Object(r.createElement)(x.a,{isPrimary:c,isSecondary:!c,isBusy:this.state.inAction,disabled:this.state.inAction,href:t?t.url:void 0,onClick:this.handleActionClick},n?a:t.label)}}]),n}(r.Component);P.propTypes={noteId:O.a.number,label:O.a.string,dismiss:O.a.bool,actionCallback:O.a.func,action:O.a.shape({id:O.a.number.isRequired,url:O.a.string,label:O.a.string.isRequired,primary:O.a.bool.isRequired})};var B=Object(o.a)(Object(M.withDispatch)((function(e){var t=e("wc-api");return{removeAllNotes:t.removeAllNotes,removeNote:t.removeNote,triggerNoteAction:t.triggerNoteAction}})))(P),F=n(758),I=n(8),z=n.n(I),H=n(63),V=(n(776),n(53)),W=n(268);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y()(e);if(t){var c=y()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return _()(this,n)}}var G=function(e){p()(n,e);var t=Y(n);function n(e){var a;return u()(this,n),(a=t.call(this,e)).onVisible=a.onVisible.bind(k()(a)),a.hasBeenSeen=!1,a.state={isDismissModalOpen:!1,dismissType:null},a.openDismissModal=a.openDismissModal.bind(k()(a)),a.closeDismissModal=a.closeDismissModal.bind(k()(a)),a.bodyNotificationRef=Object(r.createRef)(),a.screen=a.getScreenName(),a}return b()(n,[{key:"componentDidMount",value:function(){var e=this;this.bodyNotificationRef.current&&this.bodyNotificationRef.current.addEventListener("click",(function(t){return e.handleBodyClick(t,e.props)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.bodyNotificationRef.current&&this.bodyNotificationRef.current.removeEventListener("click",(function(t){return e.handleBodyClick(t,e.props)}))}},{key:"handleBodyClick",value:function(e,t){var n=e.target.href;if(n){var a=t.note;Object(H.b)("wcadmin_inbox_action_click",{note_name:a.name,note_title:a.title,note_content_inner_link:n,screen:this.screen})}}},{key:"getScreenName",value:function(){var e="",t=Object(W.a)(window.location.search),n=t.page,a=t.path,c=t.post_type;if(n){var r="wc-admin"===n?"home_screen":n;e=a?a.replace(/\//g,"_").substring(1):r}else c&&(e=c);return e}},{key:"onVisible",value:function(e){if(e&&!this.hasBeenSeen){var t=this.props.note;Object(H.b)("inbox_note_view",{note_content:t.content,note_name:t.name,note_title:t.title,note_type:t.type,screen:this.screen}),this.hasBeenSeen=!0}}},{key:"openDismissModal",value:function(e,t){this.setState({isDismissModalOpen:!0,dismissType:e}),t()}},{key:"closeDismissModal",value:function(e){var t=this.state.dismissType,n=this.props.note,a="all"===t;Object(H.b)("inbox_action_dismiss",{note_name:n.name,note_title:n.title,note_name_dismiss_all:a,note_name_dismiss_confirmation:e||!1,screen:this.screen}),this.setState({isDismissModalOpen:!1})}},{key:"handleBlur",value:function(e,t){var n=e.relatedTarget?e.relatedTarget:document.activeElement;!!n&&["woocommerce-admin-dismiss-notification","components-popover__content"].some((function(e){return n.className.includes(e)}))?e.preventDefault():t()}},{key:"renderDismissButton",value:function(){var e=this;return Object(r.createElement)(D.a,{contentClassName:"woocommerce-admin-dismiss-dropdown",position:"bottom right",renderToggle:function(t){var n=t.onClose,a=t.onToggle;return Object(r.createElement)(x.a,{isTertiary:!0,onClick:a,onBlur:function(t){return e.handleBlur(t,n)}},Object(i.__)("Dismiss",'woocommerce'))},focusOnMount:!1,popoverProps:{noArrow:!0},renderContent:function(t){var n=t.onToggle;return Object(r.createElement)("ul",null,Object(r.createElement)("li",null,Object(r.createElement)(x.a,{className:"woocommerce-admin-dismiss-notification",onClick:function(){return e.openDismissModal("this",n)}},Object(i.__)("Dismiss this message",'woocommerce'))),Object(r.createElement)("li",null,Object(r.createElement)(x.a,{className:"woocommerce-admin-dismiss-notification",onClick:function(){return e.openDismissModal("all",n)}},Object(i.__)("Dismiss all messages",'woocommerce'))))}})}},{key:"getDismissConfirmationButton",value:function(){var e=this.props.note,t=this.state.dismissType;return Object(r.createElement)(B,{key:e.id,noteId:"all"===t?null:e.id,label:Object(i.__)("Yes, I'm sure",'woocommerce'),actionCallback:this.closeDismissModal,dismiss:!0})}},{key:"renderDismissConfirmationModal",value:function(){var e=this;return Object(r.createElement)(T.a,{title:Object(r.createElement)(r.Fragment,null,Object(i.__)("Are you sure?",'woocommerce')),onRequestClose:function(){return e.closeDismissModal()},className:"woocommerce-inbox-dismiss-confirmation_modal"},Object(r.createElement)("div",{className:"woocommerce-inbox-dismiss-confirmation_wrapper"},Object(r.createElement)("p",null,Object(i.__)("Dismissed messages cannot be viewed again",'woocommerce')),Object(r.createElement)("div",{className:"woocommerce-inbox-dismiss-confirmation_buttons"},Object(r.createElement)(x.a,{isSecondary:!0,onClick:function(){return e.closeDismissModal()}},Object(i.__)("Cancel",'woocommerce')),this.getDismissConfirmationButton())))}},{key:"renderActions",value:function(e){var t=e.actions,n=e.id;if(t)return Object(r.createElement)(r.Fragment,null,t.map((function(e,t){return Object(r.createElement)(B,{key:t,noteId:n,action:e})})))}},{key:"render",value:function(){var e=this.props,t=e.lastRead,n=e.note,a=this.state.isDismissModalOpen,c=n.content,i=n.date_created,o=n.date_created_gmt,s=n.image,l=n.is_deleted,m=n.layout,u=n.title;if(l)return null;var d=!t||!o||new Date(o+"Z").getTime()>t,b=i,f="plain"!==m&&""!==m,p=z()("woocommerce-inbox-message",m,{"message-is-unread":d});return Object(r.createElement)(C.a,{onChange:this.onVisible},Object(r.createElement)("section",{className:p},f&&Object(r.createElement)("div",{className:"woocommerce-inbox-message__image"},Object(r.createElement)("img",{src:s,alt:""})),Object(r.createElement)("div",{className:"woocommerce-inbox-message__wrapper"},Object(r.createElement)("div",{className:"woocommerce-inbox-message__content"},b&&Object(r.createElement)("span",{className:"woocommerce-inbox-message__date"},S.a.utc(b).fromNow()),Object(r.createElement)(V.H,{className:"woocommerce-inbox-message__title"},u),Object(r.createElement)(V.Section,{className:"woocommerce-inbox-message__text"},Object(r.createElement)("span",{dangerouslySetInnerHTML:Object(F.a)(c),ref:this.bodyNotificationRef}))),Object(r.createElement)("div",{className:"woocommerce-inbox-message__actions"},this.renderActions(n),this.renderDismissButton())),a&&this.renderDismissConfirmationModal()))}}]),n}(r.Component);G.propTypes={note:O.a.shape({id:O.a.number,status:O.a.string,title:O.a.string,content:O.a.string,date_created:O.a.string,date_created_gmt:O.a.string,actions:O.a.arrayOf(O.a.shape({id:O.a.number.isRequired,url:O.a.string,label:O.a.string.isRequired,primary:O.a.bool.isRequired})),layout:O.a.string,image:O.a.string,is_deleted:O.a.bool}),lastRead:O.a.number};var Z=G,J=n(33),K=n(101),Q=n(2);function X(e,t){return Object(Q.filter)(e,(function(e){var n=e.is_deleted,a=e.date_created_gmt;if(!n)return!t||!a||new Date(a+"Z").getTime()>t})).length}var $=function(e){var t=e.hasNotes,n=e.isDismissUndoRequesting,a=e.isDismissAllUndoRequesting,c=e.lastRead,o=e.notes;if(!a)return t?Object.keys(o).map((function(e){return o[e]})).map((function(e){return n===e.id?Object(r.createElement)(E,{className:"banner message-is-unread",key:e.id}):Object(r.createElement)(Z,{key:e.id,note:e,lastRead:c})})):Object(r.createElement)(l.a,{className:"woocommerce-empty-activity-card",title:Object(i.__)("Your inbox is empty",'woocommerce'),icon:!1},Object(i.__)("As things begin to happen in your store your inbox will start to fill up. You'll see things like achievements, new feature announcements, extension recommendations and more!",'woocommerce'))};t.default=Object(o.a)(Object(K.a)((function(e){var t=e("wc-api"),n=t.getNotes,a=t.getNotesError,c=t.isGetNotesRequesting,r=t.getUndoDismissRequesting,i={page:1,per_page:J.d.pageSize,type:J.d.noteTypes,orderby:"date",order:"desc",status:"unactioned",_fields:["id","name","title","content","type","status","actions","date_created","date_created_gmt","layout","image","is_deleted"]},o=n(i),s=Boolean(a(i)),l=c(i),m=r();return{notes:o,isError:s,isRequesting:l,isUndoRequesting:m.isUndoRequesting,isDismissUndoRequesting:m.isDismissUndoRequesting,isDismissAllUndoRequesting:m.isDismissAllUndoRequesting}})))((function(e){var t=e.isError,n=e.isPanelEmpty,a=e.isRequesting,o=e.isUndoRequesting,l=e.isDismissAllUndoRequesting,m=e.isDismissUndoRequesting,u=e.notes,d=Object(s.useUserPreferences)(),b=d.updateUserPreferences,f=c()(d,["updateUserPreferences"]).activity_panel_inbox_last_read;if(Object(r.useEffect)((function(){var e=Date.now();return function(){b({activity_panel_inbox_last_read:e})}}),[]),t){var p=Object(i.__)("There was an error getting your inbox. Please try again.",'woocommerce'),v=Object(i.__)("Reload",'woocommerce');return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(V.EmptyContent,{title:p,actionLabel:v,actionURL:null,actionCallback:function(){window.location.reload()}}))}var _=function(e){return Object(Q.filter)(e,(function(e){return!e.is_deleted})).length>0}(u),h=_||a||o;return n&&n(!_&&!h),Object(r.createElement)(r.Fragment,null,h&&Object(r.createElement)(N.a,{title:Object(i.__)("Inbox",'woocommerce'),subtitle:Object(i.__)("Insights and growth tips for your business",'woocommerce'),unreadMessages:X(u,f)}),Object(r.createElement)("div",{className:"woocommerce-homepage-notes-wrapper"},(a||l)&&Object(r.createElement)(V.Section,null,Object(r.createElement)(E,{className:"banner message-is-unread"})),Object(r.createElement)(V.Section,null,!a&&!l&&$({hasNotes:_,isDismissUndoRequesting:m,isDismissAllUndoRequesting:l,lastRead:f,notes:u}))))}))},925:function(e,t,n){"use strict";n.r(t);var a=n(38),c=n.n(a),r=n(37),i=n.n(r),o=n(39),s=n.n(o),l=n(42),m=n.n(l),u=n(26),d=n.n(u),b=n(0),f=n(3),p=n(8),v=n.n(p),_=n(67),h=n(90),y=n.n(h),g=n(36),O=n.n(g),w=n(2),j=n(1),E=n.n(j),N=n(53),R=n(22),k=n(760),D=n(761),x=n(33),T=n(758),A=n(101),C=n(63);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var c=d()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return m()(this,n)}}var S=function(e){s()(n,e);var t=q(n);function n(){var e;return c()(this,n),(e=t.call(this)).mountTime=(new Date).getTime(),e}return i()(n,[{key:"renderReview",value:function(e,t){var n=t.lastRead,a=e&&e._embedded&&e._embedded.up&&e._embedded.up[0]||null;if(Object(w.isNull)(a))return null;var c=O()({mixedString:Object(f.sprintf)(Object(f.__)("{{productLink}}%s{{/productLink}} reviewed by {{authorLink}}%s{{/authorLink}}",'woocommerce'),a.name,e.reviewer),components:{productLink:Object(b.createElement)(N.Link,{href:a.permalink,type:"external"}),authorLink:Object(b.createElement)(N.Link,{href:"mailto:"+e.reviewer_email,type:"external"})}}),r=Object(b.createElement)(b.Fragment,null,Object(b.createElement)(N.ReviewRating,{review:e}),e.verified&&Object(b.createElement)("span",{className:"woocommerce-review-activity-card__verified"},Object(b.createElement)(y.a,{icon:"checkmark",size:18}),Object(f.__)("Verified customer",'woocommerce'))),i=Object(w.get)(a,["images",0])||Object(w.get)(a,["image"]),o=v()("woocommerce-review-activity-card__image-overlay__product",{"is-placeholder":!i||!i.src}),s=Object(b.createElement)("div",{className:"woocommerce-review-activity-card__image-overlay"},Object(b.createElement)(N.Gravatar,{user:e.reviewer_email,size:24}),Object(b.createElement)("div",{className:o},Object(b.createElement)(N.ProductImage,{product:a}))),l={date:e.date_created_gmt,status:e.status},m=Object(b.createElement)(_.a,{isSecondary:!0,onClick:function(){return Object(C.b)("review_manage_click",l)},href:Object(R.f)("comment.php?action=editcomment&c="+e.id)},Object(f.__)("Manage",'woocommerce'));return Object(b.createElement)(k.a,{className:"woocommerce-review-activity-card",key:e.id,title:c,subtitle:r,date:e.date_created_gmt,icon:s,actions:m,unread:"hold"===e.status||!n||!e.date_created_gmt||new Date(e.date_created_gmt+"Z").getTime()>n},Object(b.createElement)("span",{dangerouslySetInnerHTML:Object(T.a)(e.review)}))}},{key:"renderEmptyMessage",value:function(){var e=this.props.lastApprovedReviewTime,t=Object(f.__)("You have no reviews to moderate",'woocommerce'),n="",a="",c="",r="";if(e){((new Date).getTime()-e)/864e5>30?(n="https://woocommerce.com/posts/reviews-woocommerce-best-practices/",a="_blank",c=Object(f.__)("Learn more",'woocommerce'),r=Object(b.createElement)(b.Fragment,null,Object(b.createElement)("p",null,Object(f.__)("We noticed that it's been a while since your products had any reviews.",'woocommerce')),Object(b.createElement)("p",null,Object(f.__)("Take some time to learn about best practices for collecting and using your reviews.",'woocommerce')))):(n=Object(R.f)("edit-comments.php?comment_type=review"),c=Object(f.__)("View all Reviews",'woocommerce'),r=Object(b.createElement)("p",null,Object(f.__)("Awesome, you've moderated all of your product reviews. How about responding to some of those negative reviews?",'woocommerce')))}else n="https://woocommerce.com/posts/reviews-woocommerce-best-practices/",a="_blank",c=Object(f.__)("Learn more",'woocommerce'),r=Object(b.createElement)(b.Fragment,null,Object(b.createElement)("p",null,Object(f.__)("Your customers haven't started reviewing your products.",'woocommerce')),Object(b.createElement)("p",null,Object(f.__)("Take some time to learn about best practices for collecting and using your reviews.",'woocommerce')));return Object(b.createElement)(k.a,{className:"woocommerce-empty-activity-card",title:t,icon:Object(b.createElement)(y.a,{icon:"time",size:48}),actions:Object(b.createElement)(_.a,{href:n,target:a,isSecondary:!0},c)},r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isError,a=t.isRequesting,c=t.reviews;if(n){var r=Object(f.__)("There was an error getting your reviews. Please try again.",'woocommerce'),i=Object(f.__)("Reload",'woocommerce');return Object(b.createElement)(b.Fragment,null,Object(b.createElement)(N.EmptyContent,{title:r,actionLabel:i,actionURL:null,actionCallback:function(){window.location.reload()}}))}var o=a||c.length?Object(f.__)("Reviews",'woocommerce'):Object(f.__)("No reviews to moderate",'woocommerce');return Object(b.createElement)(b.Fragment,null,Object(b.createElement)(D.a,{title:o}),Object(b.createElement)(N.Section,null,a?Object(b.createElement)(k.b,{className:"woocommerce-review-activity-card",hasAction:!0,hasDate:!0,lines:2}):Object(b.createElement)(b.Fragment,null,c.length?c.map((function(t){return e.renderReview(t,e.props)})):this.renderEmptyMessage())))}}]),n}(b.Component);S.propTypes={reviews:E.a.array.isRequired,isError:E.a.bool,isRequesting:E.a.bool},S.defaultProps={reviews:[],isError:!1,isRequesting:!1},t.default=Object(A.a)((function(e,t){var n=t.hasUnapprovedReviews,a=e("wc-api"),c=a.getReviews,r=a.getReviewsError,i=a.isGetReviewsRequesting,o=[],s=!1,l=!1,m=null;if(n){var u={page:1,per_page:x.d.pageSize,status:"hold",_embed:1};o=c(u),s=Boolean(r(u)),l=i(u)}else{var d={page:1,per_page:1,status:"approved",_embed:1},b=c(d);if(b.length){var f=b[0];if(f.date_created_gmt)m=new Date(f.date_created_gmt).getTime()}s=Boolean(r(d)),l=i(d)}return{reviews:o,isError:s,isRequesting:l,lastApprovedReviewTime:m}}))(S)}}]);
