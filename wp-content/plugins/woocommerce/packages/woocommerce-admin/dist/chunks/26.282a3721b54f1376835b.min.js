(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[26],{278:function(e,t,n){"use strict";var r=n(11),c=n(19),o=n(4),a=n.n(o),i=n(0);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(e){var t=e.as,n=void 0===t?"div":t,o=e.className,s=Object(c.a)(e,["as","className"]);return function(e){var t=e.as,n=void 0===t?"div":t,r=Object(c.a)(e,["as"]);return"function"==typeof r.children?r.children(r):Object(i.createElement)(n,r)}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({as:n,className:a()("components-visually-hidden",o)},s))}},279:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),c=new WeakMap;function o(e,t){return Object(r.useMemo)((function(){var n=function(e){var t=c.get(e)||0;return c.set(e,t+1),t}(e);return t?"".concat(t,"-").concat(n):n}),[e])}},742:function(e,t,n){"use strict";var r=n(0),c=n(4),o=n.n(c),a=n(278);function i(e){var t=e.id,n=e.label,c=e.hideLabelFromVision,l=e.help,s=e.className,u=e.children;return Object(r.createElement)("div",{className:o()("components-base-control",s)},Object(r.createElement)("div",{className:"components-base-control__field"},n&&t&&(c?Object(r.createElement)(a.a,{as:"label",htmlFor:t},n):Object(r.createElement)("label",{className:"components-base-control__label",htmlFor:t},n)),n&&!t&&(c?Object(r.createElement)(a.a,{as:"label"},n):Object(r.createElement)(i.VisualLabel,null,n)),u),!!l&&Object(r.createElement)("p",{id:t+"__help",className:"components-base-control__help"},l))}i.VisualLabel=function(e){var t=e.className,n=e.children;return t=o()("components-base-control__label",t),Object(r.createElement)("span",{className:t},n)},t.a=i},747:function(e,t,n){"use strict";var r=n(5),c=n.n(r),o=n(13),a=n.n(o),i=n(12),l=n.n(i),s=n(7),u=n.n(s),d=n(14),b=n.n(d),m=n(15),p=n.n(m),f=n(6),O=n.n(f),h=n(0),v=n(1),j=n.n(v),_=n(2),y=n(24),g=n(55),k=n(28),w=n(46),E=n(63),S=n(115),D=n(218);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var c=O()(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return p()(this,n)}}var C=function(e){b()(n,e);var t=T(n);function n(){var e;return a()(this,n),(e=t.call(this)).trackDateSelect=e.trackDateSelect.bind(u()(e)),e.trackFilterSelect=e.trackFilterSelect.bind(u()(e)),e.trackAdvancedFilterAction=e.trackAdvancedFilterAction.bind(u()(e)),e}return l()(n,[{key:"trackDateSelect",value:function(e){var t=this.props.report;Object(E.b)("datepicker_update",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({report:t},Object(_.omitBy)(e,_.isUndefined)))}},{key:"trackFilterSelect",value:function(e){var t=this.props.report;Object(E.b)("analytics_filter",{report:t,filter:e.filter||"all"})}},{key:"trackAdvancedFilterAction",value:function(e,t){var n=this.props.report;switch(e){case"add":Object(E.b)("analytics_filters_add",{report:n,filter:t.key});break;case"remove":Object(E.b)("analytics_filters_remove",{report:n,filter:t.key});break;case"filter":var r=Object.keys(t).reduce((function(e,n){return e[Object(_.snakeCase)(n)]=t[n],e}),{});Object(E.b)("analytics_filters_filter",{report:n,snakeCaseData:r});break;case"clear_all":Object(E.b)("analytics_filters_clear_all",{report:n});break;case"match":Object(E.b)("analytics_filters_all_any",{report:n,value:t.match})}}},{key:"render",value:function(){var e=this.props,t=e.advancedFilters,n=e.filters,r=e.path,c=e.query,o=e.showDatePicker,a=e.defaultDateRange,i=Object(S.h)(c,a),l=i.period,s=i.compare,u=i.before,d=i.after,b=Object(S.f)(c,a),m={period:l,compare:s,before:u,after:d,primaryDate:b.primary,secondaryDate:b.secondary},p=this.context;return Object(h.createElement)(g.ReportFilters,{query:c,siteLocale:k.c.siteLocale,currency:p.getCurrencyConfig(),path:r,filters:n,advancedFilters:t,showDatePicker:o,onDateSelect:this.trackDateSelect,onFilterSelect:this.trackFilterSelect,onAdvancedFilterAction:this.trackAdvancedFilterAction,dateQuery:m,isoDateFormat:S.k})}}]),n}(h.Component);C.contextType=D.a,t.a=Object(y.withSelect)((function(e){return{defaultDateRange:e(w.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range}}))(C),C.propTypes={advancedFilters:j.a.object,filters:j.a.array,path:j.a.string.isRequired,query:j.a.object,showDatePicker:j.a.bool,report:j.a.string.isRequired}},780:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(8),c=n(26),o=n(0),a=n(4),i=n.n(a),l=n(121);function s(e){var t,n,a,s,u,d,b=e.renderContent,m=e.renderToggle,p=e.position,f=void 0===p?"bottom right":p,O=e.className,h=e.contentClassName,v=e.expandOnMobile,j=e.headerTitle,_=e.focusOnMount,y=e.popoverProps,g=e.onClose,k=e.onToggle,w=Object(o.useRef)(),E=(t=!1,n=k,a=Object(o.useState)(t),s=Object(c.a)(a,2),u=s[0],d=s[1],[u,function(e){d(e),n&&n(e)}]),S=Object(c.a)(E,2),D=S[0],P=S[1];function T(){g&&g(),P(!1)}Object(o.useEffect)((function(){return function(){k&&k(!1)}}),[]);var C={isOpen:D,onToggle:function(){P(!D)},onClose:T};return Object(o.createElement)("div",{className:i()("components-dropdown",O),ref:w},m(C),D&&Object(o.createElement)(l.a,Object(r.a)({position:f,onClose:T,onFocusOutside:function(){w.current.contains(document.activeElement)||document.activeElement.closest('[role="dialog"]')||T()},expandOnMobile:v,headerTitle:j,focusOnMount:_},y,{anchorRef:w.current,className:i()("components-dropdown__content",y?y.className:void 0,h)}),b(C)))}},916:function(e,t,n){"use strict";n.r(t);var r=n(49),c=n.n(r),o=n(5),a=n.n(o),i=n(25),l=n.n(i),s=n(0),u=n(3),d=n(185),b=n(2),m=n(780),p=n(90),f=n(124),O=n(44),h=n(452),v=n(51),j=Object(s.createElement)(v.c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(s.createElement)(v.b,{d:"M2 12C2 6.44444 6.44444 2 12 2C17.5556 2 22 6.44444 22 12C22 17.5556 17.5556 22 12 22C6.44444 22 2 17.5556 2 12ZM13 11V7H11V11H7V13H11V17H13V13H17V11H13Z"})),_=n(55),y=n(46),g=n(29),k=(n(758),Object(s.lazy)((function(){return Promise.all([n.e(2),n.e(1),n.e(28)]).then(n.bind(null,932))}))),w=Object(s.lazy)((function(){return Promise.all([n.e(4),n.e(34)]).then(n.bind(null,938))})),E=Object(s.lazy)((function(){return n.e(46).then(n.bind(null,924))})),S=Object(O.applyFilters)("woocommerce_dashboard_default_sections",[{key:"store-performance",component:function(e){return Object(s.createElement)(s.Suspense,{fallback:Object(s.createElement)(_.Spinner,null)},Object(s.createElement)(E,e))},title:Object(u.__)("Performance",'woocommerce'),isVisible:!0,icon:"arrow-right-alt",hiddenBlocks:["coupons/amount","coupons/orders_count","downloads/download_count","taxes/order_tax","taxes/total_tax","taxes/shipping_tax","revenue/shipping","orders/avg_order_value","revenue/refunds","revenue/gross_sales"]},{key:"charts",component:function(e){return Object(s.createElement)(s.Suspense,{fallback:Object(s.createElement)(_.Spinner,null)},Object(s.createElement)(k,e))},title:Object(u.__)("Charts",'woocommerce'),isVisible:!0,icon:"chart-bar",hiddenBlocks:["orders_avg_order_value","avg_items_per_order","products_items_sold","revenue_total_sales","revenue_refunds","coupons_amount","coupons_orders_count","revenue_shipping","taxes_total_tax","taxes_order_tax","taxes_shipping_tax","downloads_download_count"]},{key:"leaderboards",component:function(e){return Object(s.createElement)(s.Suspense,{fallback:Object(s.createElement)(_.Spinner,null)},Object(s.createElement)(w,e))},title:Object(u.__)("Leaderboards",'woocommerce'),isVisible:!0,icon:"editor-ol",hiddenBlocks:["coupons","customers"]}]),D=n(33),P=n.n(D),T=n(13),C=n.n(T),N=n(12),F=n.n(N),R=n(7),M=n.n(R),x=n(14),B=n.n(x),V=n(15),A=n.n(V),I=n(6),H=n.n(I),L=n(8),q=n(19),U=n(279),z=n(742);function Q(e){var t=e.label,n=e.hideLabelFromVision,r=e.value,c=e.help,o=e.className,a=e.onChange,i=e.type,l=void 0===i?"text":i,u=Object(q.a)(e,["label","hideLabelFromVision","value","help","className","onChange","type"]),d=Object(U.a)(Q),b="inspector-text-control-".concat(d);return Object(s.createElement)(z.a,{label:t,hideLabelFromVision:n,id:b,help:c,className:o},Object(s.createElement)("input",Object(L.a)({className:"components-text-control__input",type:l,id:b,value:r,onChange:function(e){return a(e.target.value)},"aria-describedby":c?b+"__help":void 0},u)))}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H()(e);if(t){var c=H()(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return A()(this,n)}}var J=function(e){B()(n,e);var t=G(n);function n(e){var r;return C()(this,n),(r=t.call(this,e)).onMoveUp=r.onMoveUp.bind(M()(r)),r.onMoveDown=r.onMoveDown.bind(M()(r)),r}return F()(n,[{key:"onMoveUp",value:function(){var e=this.props,t=e.onMove,n=e.onToggle;t(-1),n()}},{key:"onMoveDown",value:function(){var e=this.props,t=e.onMove,n=e.onToggle;t(1),n()}},{key:"render",value:function(){var e=this.props,t=e.onRemove,n=e.isFirst,r=e.isLast,c=e.onTitleBlur,o=e.onTitleChange,a=e.titleInput;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)("div",{className:"woocommerce-ellipsis-menu__item"},Object(s.createElement)(Q,{label:Object(u.__)("Section Title",'woocommerce'),onBlur:c,onChange:o,required:!0,value:a})),Object(s.createElement)("div",{className:"woocommerce-dashboard-section-controls"},!n&&Object(s.createElement)(_.MenuItem,{isClickable:!0,onInvoke:this.onMoveUp},Object(s.createElement)(f.a,{icon:"arrow-up-alt2",label:Object(u.__)("Move up")}),Object(u.__)("Move up",'woocommerce')),!r&&Object(s.createElement)(_.MenuItem,{isClickable:!0,onInvoke:this.onMoveDown},Object(s.createElement)(f.a,{icon:"arrow-down-alt2",label:Object(u.__)("Move Down")}),Object(u.__)("Move Down",'woocommerce')),Object(s.createElement)(_.MenuItem,{isClickable:!0,onInvoke:t},Object(s.createElement)(f.a,{icon:"trash",label:Object(u.__)("Remove block")}),Object(u.__)("Remove section",'woocommerce'))))}}]),n}(s.Component);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H()(e);if(t){var c=H()(this).constructor;n=Reflect.construct(r,arguments,c)}else n=r.apply(this,arguments);return A()(this,n)}}var W=function(e){B()(n,e);var t=Z(n);function n(e){var r;C()(this,n),r=t.call(this,e);var c=e.title;return r.state={titleInput:c},r.onToggleHiddenBlock=r.onToggleHiddenBlock.bind(M()(r)),r.onTitleChange=r.onTitleChange.bind(M()(r)),r.onTitleBlur=r.onTitleBlur.bind(M()(r)),r}return F()(n,[{key:"onTitleChange",value:function(e){this.setState({titleInput:e})}},{key:"onTitleBlur",value:function(){var e=this.props,t=e.onTitleUpdate,n=e.title,r=this.state.titleInput;""===r?this.setState({titleInput:n}):t&&t(r)}},{key:"onToggleHiddenBlock",value:function(e){var t=this;return function(){var n=Object(b.xor)(t.props.hiddenBlocks,[e]);t.props.onChangeHiddenBlocks(n)}}},{key:"render",value:function(){var e=this.props,t=e.component,n=c()(e,["component"]),r=this.state.titleInput;return Object(s.createElement)("div",{className:"woocommerce-dashboard-section"},Object(s.createElement)(t,P()({onTitleChange:this.onTitleChange,onTitleBlur:this.onTitleBlur,onToggleHiddenBlock:this.onToggleHiddenBlock,titleInput:r,controls:J},n)))}}]),n}(s.Component),K=n(104),X=n(63),Y=n(148),$=n(115),ee=n(747),te=n(218);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=Object(s.lazy)((function(){return Promise.all([n.e(3),n.e(4),n.e(5),n.e(6),n.e(47)]).then(n.bind(null,927))})),oe=Object(O.applyFilters)("woocommerce_admin_dashboard_filters",[]);t.default=Object(d.a)(Object(K.a)((function(e){var t=e(y.OPTIONS_STORE_NAME).getOption,n={defaultDateRange:e(y.SETTINGS_STORE_NAME).getSetting("wc_admin","wcAdminSettings").woocommerce_default_date_range};return Object(Y.f)()&&(n.homepageEnabled=window.wcAdminFeatures.homescreen&&"yes"===t("woocommerce_homescreen_enabled"),n.taskListHidden="yes"===t("woocommerce_task_list_hidden"),n.taskListComplete="yes"===t("woocommerce_task_list_complete")),n})))((function(e){var t,n,r,o,a,i,d,O,v,k=e.defaultDateRange,w=e.homepageEnabled,E=e.path,D=e.query,P=e.taskListComplete,T=e.taskListHidden,C=Object(y.useUserPreferences)(),N=C.updateUserPreferences,F=function(e){if(!e||0===e.length)return S;var t=S.map((function(e){return e.key})),n=e.map((function(e){return e.key})),r=new Set([].concat(l()(n),l()(t))),c=[];return r.forEach((function(t){var n=S.find((function(e){return e.key===t}));if(n){var r=e.find((function(e){return e.key===t}));c.push(re(re({},n),r))}})),c}(c()(C,["updateUserPreferences"]).dashboard_sections),R=!w&&Object(Y.f)()&&!T,M=!R||!D.task&&P,x=function(e){N({dashboard_sections:e})},B=function(e,t){var n=F.map((function(n){return n.key===e?re(re({},n),t):n}));x(n)},V=function(e){return function(t){Object(X.b)("dash_section_rename",{key:e}),B(e,{title:t})}},A=function(e,t){return function(){t&&t();var n=F.findIndex((function(t){return e===t.key})),r=F.splice(n,1).shift();r.isVisible=!r.isVisible,F.push(r),r.isVisible?Object(X.b)("dash_section_add",{key:r.key}):Object(X.b)("dash_section_remove",{key:r.key}),x(F)}},I=function e(t,n){var r=F.splice(t,1).shift(),c=t+n;if(F[n<0?c:c-1].isVisible||0===t||t===F.length-1){F.splice(c,0,r),x(F);var o={key:r.key,direction:n>0?"down":"up"};Object(X.b)("dash_section_order_change",o)}else e(t,n+n)};return Object(s.createElement)(te.a.Provider,{value:Object(te.b)(Object(g.getQuery)())},R&&Object(s.createElement)(s.Suspense,{fallback:Object(s.createElement)(_.Spinner,null)},Object(s.createElement)(ce,{query:D,inline:M})),M&&(n=Object($.h)(D,k),r=n.period,o=n.compare,a=n.before,i=n.after,d=Object($.f)(D,k),O={period:r,compare:o,before:a,after:i,primaryDate:d.primary,secondaryDate:d.secondary},v=F.filter((function(e){return e.isVisible})).map((function(e){return e.key})),Object(s.createElement)(s.Fragment,null,Object(s.createElement)(ee.a,{report:"dashboard",query:D,path:E,dateQuery:O,isoDateFormat:$.k,filters:oe}),F.map((function(e,t){return e.isVisible?Object(s.createElement)(W,{component:e.component,hiddenBlocks:e.hiddenBlocks,key:e.key,onChangeHiddenBlocks:(n=e.key,function(e){B(n,{hiddenBlocks:e})}),onTitleUpdate:V(e.key),path:E,query:D,title:e.title,onMove:Object(b.partial)(I,t),onRemove:A(e.key),isFirst:e.key===v[0],isLast:e.key===v[v.length-1],filters:oe}):null;var n})),0===(t=F.filter((function(e){return!1===e.isVisible}))).length?null:Object(s.createElement)(m.a,{position:"top center",className:"woocommerce-dashboard-section__add-more",renderToggle:function(e){var t=e.onToggle,n=e.isOpen;return Object(s.createElement)(p.a,{onClick:t,title:Object(u.__)("Add more sections",'woocommerce'),"aria-expanded":n},Object(s.createElement)(h.a,{icon:j}))},renderContent:function(e){var n=e.onToggle;return Object(s.createElement)(s.Fragment,null,Object(s.createElement)(_.H,null,Object(u.__)("Dashboard Sections",'woocommerce')),Object(s.createElement)("div",{className:"woocommerce-dashboard-section__add-more-choices"},t.map((function(e){return Object(s.createElement)(p.a,{key:e.key,onClick:A(e.key,n),className:"woocommerce-dashboard-section__add-more-btn",title:Object(u.sprintf)(Object(u.__)("Add %s section",'woocommerce'),e.title)},Object(s.createElement)(f.a,{icon:e.icon,size:30}),Object(s.createElement)("span",{className:"woocommerce-dashboard-section__add-more-btn-title"},e.title))}))))}}))))}))}}]);
