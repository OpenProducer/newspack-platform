(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[47],{106:function(e,t,n){"use strict";var r=n(10),o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,a=n(82),c=n(107),i=n(108),l="function"==typeof Symbol&&Symbol.iterator;function s(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function u(e,t,n,r){var a,i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||"object"===i&&e.$$typeof===o)return n(r,e,""===t?"."+s(e,0):t),1;var f=0,m=""===t?".":t+":";if(Array.isArray(e))for(var p=0;p<e.length;p++)f+=u(a=e[p],m+s(a,p),n,r);else{var d=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(d){0;for(var h,v=d.call(e),b=0;!(h=v.next()).done;)f+=u(a=h.value,m+s(a,b++),n,r)}else if("object"===i){0;var y=""+e;c(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===y?"object with keys {"+Object.keys(e).join(", ")+"}":y,"")}}return f}var f=/\/+/g;function m(e){return(""+e).replace(f,"$&/")}var p,d,h=v,v=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},b=function(e){c(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function y(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function g(e,t,n){var o,c,i=e.result,l=e.keyPrefix,s=e.func,u=e.context,f=s.call(u,t,e.count++);Array.isArray(f)?j(f,i,n,a.thatReturnsArgument):null!=f&&(r.isValidElement(f)&&(o=f,c=l+(!f.key||t&&t.key===f.key?"":m(f.key)+"/")+n,f=r.cloneElement(o,{key:c},void 0!==o.props?o.props.children:void 0)),i.push(f))}function j(e,t,n,r,o){var a="";null!=n&&(a=m(n)+"/");var c=y.getPooled(t,a,r,o);!function(e,t,n){null==e||u(e,"",t,n)}(e,g,c),y.release(c)}y.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},p=function(e,t,n,r){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)},(d=y).instancePool=[],d.getPooled=p||h,d.poolSize||(d.poolSize=10),d.release=b;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return i(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(r.isValidElement(e))return i(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;c(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)j(e[n],t,n,a.thatReturnsArgument);return t}},107:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,c,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,a,c,i],u=0;(l=new Error(t.replace(/%s/g,(function(){return s[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},108:function(e,t,n){"use strict";var r=n(82);e.exports=r},109:function(e,t,n){"use strict";function r(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(r)}},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(n(10)),a=i(n(106)),c=i(n(109));function i(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function s(e,t){var n,c,i,u,f,m,p,d,h=[],v={};for(m=0;m<e.length;m++)if("string"!==(f=e[m]).type){if(!t.hasOwnProperty(f.value)||void 0===t[f.value])throw new Error("Invalid interpolation, missing component node: `"+f.value+"`");if("object"!==r(t[f.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+f.value+"`","\n> "+l);if("componentClose"===f.type)throw new Error("Missing opening component token: `"+f.value+"`");if("componentOpen"===f.type){n=t[f.value],i=m;break}h.push(t[f.value])}else h.push(f.value);return n&&(u=function(e,t){var n,r,o=t[e],a=0;for(r=e+1;r<t.length;r++)if((n=t[r]).value===o.value){if("componentOpen"===n.type){a++;continue}if("componentClose"===n.type){if(0===a)return r;a--}}throw new Error("Missing closing component token `"+o.value+"`")}(i,e),p=s(e.slice(i+1,u),t),c=o.default.cloneElement(n,{},p),h.push(c),u<e.length-1&&(d=s(e.slice(u+1),t),h=h.concat(d))),1===h.length?h[0]:(h.forEach((function(e,t){e&&(v["interpolation-child-"+t]=e)})),(0,a.default)(v))}t.default=function(e){var t=e.mixedString,n=e.components,o=e.throwErrors;if(l=t,!n)return t;if("object"!==(void 0===n?"undefined":r(n))){if(o)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var a=(0,c.default)(t);try{return s(a,n)}catch(e){if(o)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},509:function(e,t,n){"use strict";var r=n(515),o=["a","b","em","i","strong","p","br"],a=["target","href","rel","name","download"];t.a=function(e){return{__html:Object(r.sanitize)(e,{ALLOWED_TAGS:o,ALLOWED_ATTR:a})}}},535:function(e,t,n){},536:function(e,t,n){"use strict";var r=n(0),o=n(196),a=Object(r.createElement)(o.b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(o.a,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));t.a=a},601:function(e,t,n){"use strict";n.r(t),n.d(t,"StoreAlerts",(function(){return W}));var r=n(11),o=n.n(r),a=n(12),c=n.n(a),i=n(8),l=n.n(i),s=n(13),u=n.n(s),f=n(14),m=n.n(f),p=n(6),d=n.n(p),h=n(0),v=n(2),b=n(4),y=n(7),g=n.n(y),j=n(26),w=n.n(j),E=n(18),O=n(15),_=n(16),x=n.n(_),A=n(306),S=n(196),R=Object(h.createElement)(S.b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(h.createElement)(S.a,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),k=n(536),N=n(25),P=n(22),C=n(28),M=n(31),T=n(509),z=n(1),I=n.n(z);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var B=function(e){u()(n,e);var t=L(n);function n(){return o()(this,n),t.apply(this,arguments)}return c()(n,[{key:"render",value:function(){var e=this.props.hasMultipleAlerts;return Object(h.createElement)(b.Card,{className:"woocommerce-store-alerts is-loading","aria-hidden":!0,size:null},Object(h.createElement)(b.CardHeader,{isBorderless:!0},Object(h.createElement)("span",{className:"is-placeholder"}),e&&Object(h.createElement)("span",{className:"is-placeholder"})),Object(h.createElement)(b.CardBody,null,Object(h.createElement)("div",{className:"woocommerce-store-alerts__message"},Object(h.createElement)("span",{className:"is-placeholder"}),Object(h.createElement)("span",{className:"is-placeholder"}))),Object(h.createElement)(b.CardFooter,{isBorderless:!0},Object(h.createElement)("span",{className:"is-placeholder"})))}}]),n}(h.Component),D=B;B.propTypes={hasMultipleAlerts:I.a.bool},B.defaultProps={hasMultipleAlerts:!1};n(535);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d()(e);if(t){var o=d()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var W=function(e){u()(n,e);var t=F(n);function n(e){var r;o()(this,n);var a=(r=t.call(this,e)).props.alerts;return r.state={currentIndex:a?0:null},r.previousAlert=r.previousAlert.bind(l()(r)),r.nextAlert=r.nextAlert.bind(l()(r)),r}return c()(n,[{key:"previousAlert",value:function(e){e.stopPropagation();var t=this.state.currentIndex;t>0&&this.setState({currentIndex:t-1})}},{key:"nextAlert",value:function(e){e.stopPropagation();var t=this.props.alerts,n=this.state.currentIndex;n<t.length-1&&this.setState({currentIndex:n+1})}},{key:"renderActions",value:function(e){var t=this.props,n=t.triggerNoteAction,r=t.updateNote,o=e.actions.map((function(t){return Object(h.createElement)(b.Button,{key:t.name,isPrimary:t.primary,isSecondary:!t.primary,href:t.url||void 0,onClick:function(){return n(e.id,t.id)}},t.label)})),a=[{value:x()().add(4,"hours").unix().toString(),label:Object(v.__)("Later Today",'woocommerce')},{value:x()().add(1,"day").hour(9).minute(0).second(0).millisecond(0).unix().toString(),label:Object(v.__)("Tomorrow",'woocommerce')},{value:x()().add(1,"week").hour(9).minute(0).second(0).millisecond(0).unix().toString(),label:Object(v.__)("Next Week",'woocommerce')},{value:x()().add(1,"month").hour(9).minute(0).second(0).millisecond(0).unix().toString(),label:Object(v.__)("Next Month",'woocommerce')}],c=e.is_snoozable&&Object(h.createElement)(b.SelectControl,{className:"woocommerce-store-alerts__snooze",options:[{label:Object(v.__)("Remind Me Later",'woocommerce'),value:"0"}].concat(a),onChange:function(t){if("0"!==t){var n=a.find((function(e){return e.value===t}));!function(t){r(e.id,{status:"snoozed",date_reminder:t.value});var n={alert_name:e.name,alert_title:e.title,snooze_duration:t.value,snooze_label:t.label};Object(C.recordEvent)("store_alert_snooze",n)}({value:t,label:n&&n.label})}}});if(o||c)return Object(h.createElement)("div",{className:"woocommerce-store-alerts__actions"},o,c)}},{key:"render",value:function(){var e=this.props.alerts||[],t=Object(N.g)("alertCount",0,(function(e){return parseInt(e,10)}));if(t>0&&this.props.isLoading)return Object(h.createElement)(D,{hasMultipleAlerts:t>1});if(0===e.length)return null;var n=this.state.currentIndex,r=e.length,o=e[n],a=o.type,c=g()("woocommerce-store-alerts",{"is-alert-error":"error"===a,"is-alert-update":"update"===a});return Object(h.createElement)(b.Card,{className:c,size:null},Object(h.createElement)(b.CardHeader,{isBorderless:!0},Object(h.createElement)(M.f,{variant:"title.medium",as:"h2"},o.icon&&Object(h.createElement)(b.Dashicon,{key:"icon",icon:o.icon}),o.title),r>1&&Object(h.createElement)("div",{className:"woocommerce-store-alerts__pagination"},Object(h.createElement)(b.Button,{onClick:this.previousAlert,disabled:0===n,label:Object(v.__)("Previous Alert",'woocommerce')},Object(h.createElement)(A.a,{icon:R})),Object(h.createElement)("span",{className:"woocommerce-store-alerts__pagination-label",role:"status","aria-live":"polite"},w()({mixedString:Object(v.__)("{{current /}} of {{total /}}",'woocommerce'),components:{current:Object(h.createElement)(h.Fragment,null,n+1),total:Object(h.createElement)(h.Fragment,null,r)}})),Object(h.createElement)(b.Button,{onClick:this.nextAlert,disabled:r-1===n,label:Object(v.__)("Next Alert",'woocommerce')},Object(h.createElement)(A.a,{icon:k.a})))),Object(h.createElement)(b.CardBody,null,Object(h.createElement)("div",{className:"woocommerce-store-alerts__message",dangerouslySetInnerHTML:Object(T.a)(o.content)})),Object(h.createElement)(b.CardFooter,{isBorderless:!0},this.renderActions(o)))}}]),n}(h.Component);t.default=Object(E.compose)(Object(O.withSelect)((function(e){var t=e(P.NOTES_STORE_NAME),n=t.getNotes,r=t.isResolving,o={page:1,per_page:P.QUERY_DEFAULTS.pageSize,type:"error,update",status:"unactioned"};return{alerts:n(o).filter((function(e){return"unactioned"===e.status})),isLoading:r("getNotes",[o])}})),Object(O.withDispatch)((function(e){var t=e(P.NOTES_STORE_NAME);return{triggerNoteAction:t.triggerNoteAction,updateNote:t.updateNote}})))(W)},82:function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o}}]);