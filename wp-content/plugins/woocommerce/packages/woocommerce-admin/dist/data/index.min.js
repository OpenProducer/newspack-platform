this.wc=this.wc||{},this.wc.data=function(e){var t={};function r(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=714)}({0:function(e,t){!function(){e.exports=this.wp.element}()},15:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(30);var c=r(49);function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},18:function(e,t){!function(){e.exports=this.wp.data}()},2:function(e,t){!function(){e.exports=this.lodash}()},21:function(e,t){!function(){e.exports=this.wp.apiFetch}()},27:function(e,t){!function(){e.exports=this.wp.url}()},29:function(e,t){!function(){e.exports=this.wp.dataControls}()},3:function(e,t){!function(){e.exports=this.wp.i18n}()},30:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},49:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(30);function c(e,t){if(e){if("string"==typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},6:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},68:function(e,t,r){"use strict";function n(e,t,r,n,c,o,i){try{var u=e[o](i),a=u.value}catch(e){return void r(e)}u.done?t(a):Promise.resolve(a).then(n,c)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(c,o){var i=e.apply(t,r);function u(e){n(i,c,o,u,a,"next",e)}function a(e){n(i,c,o,u,a,"throw",e)}u(void 0)}))}}r.d(t,"a",(function(){return c}))},714:function(e,t,r){"use strict";r.r(t),r.d(t,"SETTINGS_STORE_NAME",(function(){return $})),r.d(t,"withSettingsHydration",(function(){return X})),r.d(t,"useSettings",(function(){return te})),r.d(t,"PLUGINS_STORE_NAME",(function(){return De})),r.d(t,"pluginNames",(function(){return ne})),r.d(t,"withPluginsHydration",(function(){return Ge})),r.d(t,"ONBOARDING_STORE_NAME",(function(){return Xe})),r.d(t,"withOnboardingHydration",(function(){return Ze})),r.d(t,"USER_STORE_NAME",(function(){return et})),r.d(t,"withCurrentUserHydration",(function(){return tt})),r.d(t,"useUserPreferences",(function(){return it})),r.d(t,"OPTIONS_STORE_NAME",(function(){return xt})),r.d(t,"withOptionsHydration",(function(){return Ct}));var n={};r.r(n),r.d(n,"getSettingsGroupNames",(function(){return _})),r.d(n,"getSettings",(function(){return P})),r.d(n,"getDirtyKeys",(function(){return R})),r.d(n,"getIsDirty",(function(){return h})),r.d(n,"getSettingsForGroup",(function(){return S})),r.d(n,"isGetSettingsRequesting",(function(){return y})),r.d(n,"getSetting",(function(){return w})),r.d(n,"getLastSettingsErrorForGroup",(function(){return T})),r.d(n,"getSettingsError",(function(){return I}));var c={};r.r(c),r.d(c,"updateSettingsForGroup",(function(){return A})),r.d(c,"updateErrorForGroup",(function(){return N})),r.d(c,"setIsRequesting",(function(){return D})),r.d(c,"clearIsDirty",(function(){return G})),r.d(c,"updateAndPersistSettingsForGroup",(function(){return F})),r.d(c,"persistSettingsForGroup",(function(){return q})),r.d(c,"clearSettings",(function(){return L}));var o={};r.r(o),r.d(o,"getSettings",(function(){return K})),r.d(o,"getSettingsForGroup",(function(){return V}));var i={};r.r(i),r.d(i,"getActivePlugins",(function(){return ce})),r.d(i,"getInstalledPlugins",(function(){return oe})),r.d(i,"isPluginsRequesting",(function(){return ie})),r.d(i,"getPluginsError",(function(){return ue})),r.d(i,"isJetpackConnected",(function(){return ae})),r.d(i,"getJetpackConnectUrl",(function(){return se}));var u={};r.r(u),r.d(u,"updateActivePlugins",(function(){return ge})),r.d(u,"updateInstalledPlugins",(function(){return Oe})),r.d(u,"setIsRequesting",(function(){return be})),r.d(u,"setError",(function(){return me})),r.d(u,"updateIsJetpackConnected",(function(){return ve})),r.d(u,"updateJetpackConnectUrl",(function(){return Ee})),r.d(u,"installPlugins",(function(){return je})),r.d(u,"activatePlugins",(function(){return _e})),r.d(u,"installAndActivatePlugins",(function(){return Pe})),r.d(u,"formatErrors",(function(){return Re}));var a={};r.r(a),r.d(a,"getActivePlugins",(function(){return Ie})),r.d(a,"getInstalledPlugins",(function(){return Ue})),r.d(a,"isJetpackConnected",(function(){return ke})),r.d(a,"getJetpackConnectUrl",(function(){return xe}));var s={};r.r(s),r.d(s,"getProfileItems",(function(){return Fe})),r.d(s,"getOnboardingError",(function(){return qe})),r.d(s,"isOnboardingRequesting",(function(){return Le}));var p={};r.r(p),r.d(p,"setError",(function(){return Me})),r.d(p,"setIsRequesting",(function(){return Ke})),r.d(p,"setProfileItems",(function(){return Ve})),r.d(p,"updateProfileItems",(function(){return We}));var f={};r.r(f),r.d(f,"getProfileItems",(function(){return Be}));var l={};r.r(l),r.d(l,"getOption",(function(){return ut})),r.d(l,"getOptionsRequestingError",(function(){return at})),r.d(l,"isOptionsUpdating",(function(){return st})),r.d(l,"getOptionsUpdatingError",(function(){return pt}));var d={};r.r(d),r.d(d,"receiveOptions",(function(){return Ot})),r.d(d,"setRequestingError",(function(){return bt})),r.d(d,"setUpdatingError",(function(){return mt})),r.d(d,"setIsUpdating",(function(){return vt})),r.d(d,"updateOptions",(function(){return Et}));var g={};r.r(g),r.d(g,"getOption",(function(){return Tt}));var O=r(18),b=r(29),m="wc/admin/settings",v=r(15);function E(e,t){var r=JSON.stringify(t,Object.keys(t).sort());return"".concat(e,":").concat(r)}function j(e){var t=e.indexOf(":");return t<0?e:e.substring(0,t)}var _=function(e){var t=new Set(Object.keys(e).map((function(e){return j(e)})));return Object(v.a)(t)},P=function(e,t){var r={},n=e[t]&&e[t].data||[];return 0===n.length||n.forEach((function(n){r[n]=e[E(t,n)].data})),r},R=function(e,t){return e[t].dirty||[]},h=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=R(e,t);return 0!==n.length&&r.some((function(e){return n.includes(e)}))},S=function(e,t,r){var n=P(e,t);return r.reduce((function(e,t){return e[t]=n[t]||{},e}),{})},y=function(e,t){return e[t]&&Boolean(e[t].isRequesting)};function w(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return e},o=E(t,r),i=e[o]&&e[o].data||n;return c(i,n)}var T=function(e,t){var r=e[t].data;return 0===r.length?e[t].error:Object(v.a)(r).pop().error},I=function(e,t,r){return r?e[E(t,r)].error||!1:e[t]&&e[t].error||!1},U=r(2),k={UPDATE_SETTINGS_FOR_GROUP:"UPDATE_SETTINGS_FOR_GROUP",UPDATE_ERROR_FOR_GROUP:"UPDATE_ERROR_FOR_GROUP",CLEAR_SETTINGS:"CLEAR_SETTINGS",SET_IS_REQUESTING:"SET_IS_REQUESTING",CLEAR_IS_DIRTY:"CLEAR_IS_DIRTY"},x=regeneratorRuntime.mark(F),C=regeneratorRuntime.mark(q);function A(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return{type:k.UPDATE_SETTINGS_FOR_GROUP,group:e,data:t,time:r}}function N(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;return{type:k.UPDATE_ERROR_FOR_GROUP,group:e,data:t,error:r,time:n}}function D(e,t){return{type:k.SET_IS_REQUESTING,group:e,isRequesting:t}}function G(e){return{type:k.CLEAR_IS_DIRTY,group:e}}function F(e,t){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A(e,t);case 2:return r.delegateYield(q(e),"t0",3);case 3:case"end":return r.stop()}}),x)}function q(e){var t,r,n,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,D(e,!0);case 2:return o.next=4,Object(b.select)(m,"getDirtyKeys",e);case 4:if(0!==(t=o.sent).length){o.next=9;break}return o.next=8,D(e,!1);case 8:return o.abrupt("return");case 9:return o.next=11,Object(b.select)(m,"getSettingsForGroup",e,t);case 11:return r=o.sent,n="".concat("/wc-analytics","/settings/").concat(e,"/batch"),c=t.reduce((function(e,t){var n=Object.keys(r[t]).map((function(e){return{id:e,value:r[t][e]}}));return Object(U.concat)(e,n)}),[]),o.prev=14,o.next=17,Object(b.apiFetch)({path:n,method:"POST",data:{update:c}});case 17:if(o.sent){o.next=20;break}throw new Error("settings did not update");case 20:return o.next=22,G(e);case 22:o.next=28;break;case 24:return o.prev=24,o.t0=o.catch(14),o.next=28,N(e,null,o.t0);case 28:return o.next=30,D(e,!1);case 30:case"end":return o.stop()}}),C,null,[[14,24]])}function L(){return{type:k.CLEAR_SETTINGS}}var J=r(6),Q=regeneratorRuntime.mark(K),M=regeneratorRuntime.mark(V);function K(e){var t,r,n;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(b.dispatch)(m,"setIsRequesting",e,!0);case 2:return c.prev=2,t="/wc-analytics/settings/"+e,c.next=6,Object(b.apiFetch)({path:t,method:"GET"});case 6:return r=c.sent,n=r.reduce((function(e,t){return e[t.id]=t.value,e}),{}),c.abrupt("return",A(e,Object(J.a)({},e,n)));case 11:return c.prev=11,c.t0=c.catch(2),c.abrupt("return",N(e,null,c.t0.message));case 14:case"end":return c.stop()}}),Q,null,[[2,11]])}function V(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",K(e));case 1:case"end":return t.stop()}}),M)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(e,t){var r=t.group,n=t.groupIds,c=t.data,o=t.time,i=t.error;return n.forEach((function(t){e[E(r,t)]={data:c[t],lastReceived:o,error:i}})),e},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.group,c=t.data,o=t.error,i=t.time,u=t.isRequesting,a={};switch(r){case k.SET_IS_REQUESTING:e=H(H({},e),{},Object(J.a)({},n,H(H({},e[n]),{},{isRequesting:u})));break;case k.CLEAR_IS_DIRTY:e=H(H({},e),{},Object(J.a)({},n,H(H({},e[n]),{},{dirty:[]})));break;case k.UPDATE_SETTINGS_FOR_GROUP:case k.UPDATE_ERROR_FOR_GROUP:var s=c?Object.keys(c):[];e=null===c?H(H({},e),{},Object(J.a)({},n,{data:e[n]?e[n].data:[],error:o,lastReceived:i})):H(H({},e),{},Object(J.a)({},n,{data:e[n]&&e[n].data?[].concat(Object(v.a)(e[n].data),Object(v.a)(s)):s,error:o,lastReceived:i,isRequesting:!1,dirty:e[n]&&e[n].dirty?Object(U.union)(e[n].dirty,s):s}),B(a,{group:n,groupIds:s,data:c,time:i,error:o}));break;case k.CLEAR_SETTINGS:e={}}return e};Object(O.select)(m)||Object(O.registerStore)(m,{reducer:Y,actions:c,controls:b.controls,selectors:n,resolvers:o});var $=m,z=r(0),X=function(e,t){return function(r){return function(n){var c=Object(z.useRef)(t);return Object(O.useSelect)((function(t,r){if(c.current){var n=t(m),o=n.isResolving,i=n.hasFinishedResolution,u=r.dispatch(m),a=u.startResolution,s=u.finishResolution,p=u.updateSettingsForGroup,f=u.clearIsDirty;o("getSettings",[e])||i("getSettings",[e])||(a("getSettings",[e]),p(e,c.current),f(e),s("getSettings",[e]))}}),[]),Object(z.createElement)(r,n)}}};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(O.useSelect)((function(r){var n=r(m),c=n.getLastSettingsErrorForGroup,o=n.getSettingsForGroup,i=n.getIsDirty,u=n.isGetSettingsRequesting;return{requestedSettings:o(e,t),settingsError:Boolean(c(e)),isRequesting:u(e),isDirty:i(e,t)}}),[e,t]),n=r.requestedSettings,c=r.settingsError,o=r.isRequesting,i=r.isDirty,u=Object(O.useDispatch)(m),a=u.persistSettingsForGroup,s=u.updateAndPersistSettingsForGroup,p=u.updateSettingsForGroup,f=Object(z.useCallback)((function(t,r){p(e,Object(J.a)({},t,r))}),[e]),l=Object(z.useCallback)((function(){a(e)}),[e]),d=Object(z.useCallback)((function(t,r){s(e,Object(J.a)({},t,r))}),[e]);return ee(ee({settingsError:c,isRequesting:o,isDirty:i},n),{},{persistSettings:l,updateAndPersistSettings:d,updateSettings:f})},re=r(3),ne={"facebook-for-woocommerce":Object(re.__)("Facebook for WooCommerce",'woocommerce'),jetpack:Object(re.__)("Jetpack",'woocommerce'),"klarna-checkout-for-woocommerce":Object(re.__)("Klarna Checkout for WooCommerce",'woocommerce'),"klarna-payments-for-woocommerce":Object(re.__)("Klarna Payments for WooCommerce",'woocommerce'),"mailchimp-for-woocommerce":Object(re.__)("Mailchimp for WooCommerce",'woocommerce'),"woocommerce-gateway-paypal-express-checkout":Object(re.__)("WooCommerce PayPal",'woocommerce'),"woocommerce-gateway-stripe":Object(re.__)("WooCommerce Stripe",'woocommerce'),"woocommerce-payfast-gateway":Object(re.__)("WooCommerce PayFast",'woocommerce'),"woocommerce-payments":Object(re.__)("WooCommerce Payments",'woocommerce'),"woocommerce-services":Object(re.__)("WooCommerce Services",'woocommerce'),"woocommerce-shipstation-integration":Object(re.__)("WooCommerce ShipStation Gateway",'woocommerce'),"kliken-marketing-for-google":Object(re.__)("Google Ads",'woocommerce')},ce=function(e){return e.active||[]},oe=function(e){return e.installed||[]},ie=function(e,t){return e.requesting[t]||!1},ue=function(e,t){return e.errors[t]||!1},ae=function(e){return e.jetpackConnection},se=function(e,t){return e.jetpackConnectUrls[t.redirect_url]},pe={UPDATE_ACTIVE_PLUGINS:"UPDATE_ACTIVE_PLUGINS",UPDATE_INSTALLED_PLUGINS:"UPDATE_INSTALLED_PLUGINS",SET_IS_REQUESTING:"SET_IS_REQUESTING",SET_ERROR:"SET_ERROR",UPDATE_JETPACK_CONNECTION:"UPDATE_JETPACK_CONNECTION",UPDATE_JETPACK_CONNECT_URL:"UPDATE_JETPACK_CONNECT_URL"},fe=regeneratorRuntime.mark(je),le=regeneratorRuntime.mark(_e),de=regeneratorRuntime.mark(Pe);function ge(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:pe.UPDATE_ACTIVE_PLUGINS,active:e,replace:t}}function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:pe.UPDATE_INSTALLED_PLUGINS,installed:e,replace:t}}function be(e,t){return{type:pe.SET_IS_REQUESTING,selector:e,isRequesting:t}}function me(e,t){return{type:pe.SET_ERROR,selector:e,error:t}}function ve(e){return{type:pe.UPDATE_JETPACK_CONNECTION,jetpackConnection:e}}function Ee(e,t){return{type:pe.UPDATE_JETPACK_CONNECT_URL,jetpackConnectUrl:t,redirectUrl:e}}function je(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,be("installPlugins",!0);case 2:return r.prev=2,r.next=5,Object(b.apiFetch)({path:"".concat("/wc-admin","/plugins/install"),method:"POST",data:{plugins:e.join(",")}});case 5:if(!(t=r.sent).data.installed.length){r.next=9;break}return r.next=9,Oe(t.data.installed);case 9:if(!Object.keys(t.errors.errors).length){r.next=11;break}throw t.errors;case 11:return r.next=13,be("installPlugins",!1);case 13:return r.abrupt("return",t);case 16:return r.prev=16,r.t0=r.catch(2),r.next=20,me("installPlugins",r.t0);case 20:throw Re(r.t0);case 21:case"end":return r.stop()}}),fe,null,[[2,16]])}function _e(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,be("activatePlugins",!0);case 2:return r.prev=2,r.next=5,Object(b.apiFetch)({path:"".concat("/wc-admin","/plugins/activate"),method:"POST",data:{plugins:e.join(",")}});case 5:if(!(t=r.sent).data.activated.length){r.next=9;break}return r.next=9,ge(t.data.activated);case 9:if(!Object.keys(t.errors.errors).length){r.next=11;break}throw t.errors;case 11:return r.next=13,be("activatePlugins",!1);case 13:return r.abrupt("return",t);case 16:return r.prev=16,r.t0=r.catch(2),r.next=20,me("activatePlugins",r.t0);case 20:throw Re(r.t0);case 21:case"end":return r.stop()}}),le,null,[[2,16]])}function Pe(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(b.dispatch)("wc/admin/plugins","installPlugins",e);case 3:return r.next=5,Object(b.dispatch)("wc/admin/plugins","activatePlugins",e);case 5:return t=r.sent,r.abrupt("return",t);case 9:throw r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),de,null,[[0,9]])}function Re(e){return e.errors&&Object.keys(e.errors).forEach((function(t){e.errors[t]=e.errors[t].map((function(e){return ne[t]?e.replace("`".concat(t,"`"),ne[t]):e}))})),e}var he=r(27),Se=regeneratorRuntime.mark(Ie),ye=regeneratorRuntime.mark(Ue),we=regeneratorRuntime.mark(ke),Te=regeneratorRuntime.mark(xe);function Ie(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be("getActivePlugins",!0);case 2:return t.prev=2,"/wc-admin/plugins/active",t.next=6,Object(b.apiFetch)({path:"/wc-admin/plugins/active",method:"GET"});case 6:return e=t.sent,t.next=9,ge(e.plugins,!0);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(2),t.next=15,me("getActivePlugins",t.t0);case 15:case"end":return t.stop()}}),Se,null,[[2,11]])}function Ue(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be("getInstalledPlugins",!0);case 2:return t.prev=2,"/wc-admin/plugins/installed",t.next=6,Object(b.apiFetch)({path:"/wc-admin/plugins/installed",method:"GET"});case 6:return e=t.sent,t.next=9,Oe(e,!0);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(2),t.next=15,me("getInstalledPlugins",t.t0);case 15:case"end":return t.stop()}}),ye,null,[[2,11]])}function ke(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,be("isJetpackConnected",!0);case 2:return t.prev=2,"/jetpack/v4/connection",t.next=6,Object(b.apiFetch)({path:"/jetpack/v4/connection",method:"GET"});case 6:return e=t.sent,t.next=9,ve(e.isActive);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(2),t.next=15,me("isJetpackConnected",t.t0);case 15:return t.next=17,be("isJetpackConnected",!1);case 17:case"end":return t.stop()}}),we,null,[[2,11]])}function xe(e){var t,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,be("getJetpackConnectUrl",!0);case 2:return n.prev=2,t=Object(he.addQueryArgs)("/wc-admin/plugins/connect-jetpack",e),n.next=6,Object(b.apiFetch)({path:t,method:"GET"});case 6:return r=n.sent,n.next=9,Ee(e.redirect_url,r.connectAction);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(2),n.next=15,me("getJetpackConnectUrl",n.t0);case 15:return n.next=17,be("getJetpackConnectUrl",!1);case 17:case"end":return n.stop()}}),Te,null,[[2,11]])}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{active:[],installed:[],requesting:{},errors:{},jetpackConnectUrls:{}},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.active,c=t.installed,o=t.selector,i=t.isRequesting,u=t.error,a=t.jetpackConnection,s=t.redirectUrl,p=t.jetpackConnectUrl,f=t.replace;switch(r){case pe.UPDATE_ACTIVE_PLUGINS:e=Ae(Ae({},e),{},{active:f?n:Object(U.concat)(e.active,n),requesting:Ae(Ae({},e.requesting),{},{getActivePlugins:!1,activatePlugins:!1}),errors:Ae(Ae({},e.errors),{},{getActivePlugins:!1,activatePlugins:!1})});break;case pe.UPDATE_INSTALLED_PLUGINS:e=Ae(Ae({},e),{},{installed:f?c:Object(U.concat)(e.installed,c),requesting:Ae(Ae({},e.requesting),{},{getInstalledPlugins:!1,installPlugin:!1}),errors:Ae(Ae({},e.errors),{},{getInstalledPlugins:!1,installPlugin:!1})});break;case pe.SET_IS_REQUESTING:e=Ae(Ae({},e),{},{requesting:Ae(Ae({},e.requesting),{},Object(J.a)({},o,i))});break;case pe.SET_ERROR:e=Ae(Ae({},e),{},{requesting:Ae(Ae({},e.requesting),{},Object(J.a)({},o,!1)),errors:Ae(Ae({},e.errors),{},Object(J.a)({},o,u))});break;case pe.UPDATE_JETPACK_CONNECTION:e=Ae(Ae({},e),{},{jetpackConnection:a});break;case pe.UPDATE_JETPACK_CONNECT_URL:e=Ae(Ae({},e),{},{jetpackConnectUrls:Ae(Ae({},e.jetpackConnectUrl),{},Object(J.a)({},s,p))})}return e};Object(O.select)("wc/admin/plugins")||Object(O.registerStore)("wc/admin/plugins",{reducer:Ne,actions:u,controls:b.controls,selectors:i,resolvers:a});var De="wc/admin/plugins",Ge=function(e){return function(t){return function(r){var n=Object(z.useRef)(e);return Object(O.useSelect)((function(e,t){if(n.current){var r=e("wc/admin/plugins"),c=r.isResolving,o=r.hasFinishedResolution,i=t.dispatch("wc/admin/plugins"),u=i.startResolution,a=i.finishResolution,s=i.updateActivePlugins,p=i.updateInstalledPlugins,f=i.updateIsJetpackConnected;c("getActivePlugins",[])||o("getActivePlugins",[])||(u("getActivePlugins",[]),u("getInstalledPlugins",[]),u("isJetpackConnected",[]),s(n.current.activePlugins,!0),p(n.current.installedPlugins,!0),f(n.current.jetpackStatus&&n.current.jetpackStatus.isActive),a("getActivePlugins",[]),a("getInstalledPlugins",[]),a("isJetpackConnected",[]))}}),[]),Object(z.createElement)(t,r)}}},Fe=function(e){return e.profileItems||{}},qe=function(e,t){return e.errors[t]||!1},Le=function(e,t){return e.requesting[t]||!1},Je={SET_PROFILE_ITEMS:"SET_PROFILE_ITEMS",SET_ERROR:"SET_ERROR",SET_IS_REQUESTING:"SET_IS_REQUESTING"},Qe=regeneratorRuntime.mark(We);function Me(e,t){return{type:Je.SET_ERROR,selector:e,error:t}}function Ke(e,t){return{type:Je.SET_IS_REQUESTING,selector:e,isRequesting:t}}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:Je.SET_PROFILE_ITEMS,profileItems:e,replace:t}}function We(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ke("updateProfileItems",!0);case 2:return r.prev=2,r.next=5,Object(b.apiFetch)({path:"".concat("/wc-admin","/onboarding/profile"),method:"POST",data:e});case 5:if(!(t=r.sent)||"success"!==t.status){r.next=12;break}return r.next=9,Ve(e);case 9:return r.next=11,Ke("updateProfileItems",!1);case 11:return r.abrupt("return",t);case 12:throw new Error;case 15:return r.prev=15,r.t0=r.catch(2),r.next=19,Me("updateProfileItems",r.t0);case 19:return r.next=21,Ke("updateProfileItems",!1);case 21:case"end":return r.stop()}}),Qe,null,[[2,15]])}var He=regeneratorRuntime.mark(Be);function Be(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b.apiFetch)({path:"/wc-admin/onboarding/profile",method:"GET"});case 3:return e=t.sent,t.next=6,Ve(e,!0);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Me("getProfileItems",t.t0);case 12:case"end":return t.stop()}}),He,null,[[0,8]])}function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{profileItems:{},errors:{},requesting:{}},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.profileItems,c=t.replace,o=t.error,i=t.isRequesting,u=t.selector;switch(r){case Je.SET_PROFILE_ITEMS:e=$e($e({},e),{},{profileItems:c?n:$e($e({},e.profileItems),n)});break;case Je.SET_ERROR:e=$e($e({},e),{},{errors:$e($e({},e.errors),{},Object(J.a)({},u,o))});break;case Je.SET_IS_REQUESTING:e=$e($e({},e),{},{requesting:$e($e({},e.requesting),{},Object(J.a)({},u,i))})}return e};Object(O.select)("wc/admin/onboarding")||Object(O.registerStore)("wc/admin/onboarding",{reducer:ze,actions:p,controls:b.controls,selectors:s,resolvers:f});var Xe="wc/admin/onboarding",Ze=function(e){return function(t){return function(r){var n=Object(z.useRef)(e);return Object(O.useSelect)((function(e,t){if(n.current){var r=e("wc/admin/onboarding"),c=r.isResolving,o=r.hasFinishedResolution,i=t.dispatch("wc/admin/onboarding"),u=i.startResolution,a=i.finishResolution,s=i.setProfileItems;c("getProfileItems",[])||o("getProfileItems",[])||(u("getProfileItems",[]),s(n.current,!0),a("getProfileItems",[]))}}),[]),Object(z.createElement)(t,r)}}},et="core",tt=function(e){return function(t){return function(r){var n=Object(z.useRef)(e);return Object(O.useSelect)((function(e,t){if(n.current){var r=e("core"),c=r.isResolving,o=r.hasFinishedResolution,i=t.dispatch("core"),u=i.startResolution,a=i.finishResolution,s=i.receiveCurrentUser;c("getCurrentUser")||o("getCurrentUser")||(u("getCurrentUser",[]),s(n.current),a("getCurrentUser",[]))}})),Object(z.createElement)(t,r)}}},rt=r(68);function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ot=function(e){var t=e.woocommerce_meta||{};return Object(U.mapValues)(t,(function(e){return e&&0!==e.length?JSON.parse(e):""}))},it=function(){var e=Object(O.useDispatch)("core"),t=e.receiveCurrentUser,r=e.saveUser,n=Object(O.useSelect)((function(e){var n=e("core"),c=n.getCurrentUser,o=n.getLastEntitySaveError,i=n.hasStartedResolution,u=n.hasFinishedResolution,a=c(),s=ot(a),p=function(){var e=Object(rt.a)(regeneratorRuntime.mark((function e(n){var c,i,u,s,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=["categories_report_columns","coupons_report_columns","customers_report_columns","orders_report_columns","products_report_columns","revenue_report_columns","taxes_report_columns","variations_report_columns","dashboard_sections","dashboard_chart_type","dashboard_chart_interval","dashboard_leaderboard_rows","activity_panel_inbox_last_read","homepage_stats"],i=Object(U.mapValues)(Object(U.pick)(n,c),JSON.stringify),0!==Object.keys(i).length){e.next=4;break}return e.abrupt("return",{error:new Error("No valid woocommerce_meta keys were provided for update."),updatedUser:void 0});case 4:return t(ct(ct({},a),{},{woocommerce_meta:ct(ct({},a.woocommerce_meta),i)})),e.next=7,r({id:a.id,woocommerce_meta:i});case 7:if(void 0!==(u=e.sent)){e.next=11;break}return s=o("root","user",a.id),e.abrupt("return",{error:s,updatedUser:u});case 11:return p=ct(ct({},u),{},{woocommerce_meta:ot(u)}),e.abrupt("return",{updatedUser:p});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{isRequesting:i("getCurrentUser")&&!u("getCurrentUser"),userPreferences:s,updateUserPreferences:p}})),c=n.isRequesting,o=n.userPreferences,i=n.updateUserPreferences;return ct(ct({isRequesting:c},o),{},{updateUserPreferences:i})},ut=function(e,t){return e[t]},at=function(e,t){return e.requestingErrors[t]||!1},st=function(e){return e.isUpdating||!1},pt=function(e){return e.updatingError||!1},ft={RECEIVE_OPTIONS:"RECEIVE_OPTIONS",SET_IS_REQUESTING:"SET_IS_REQUESTING",SET_IS_UPDATING:"SET_IS_UPDATING",SET_REQUESTING_ERROR:"SET_REQUESTING_ERROR",SET_UPDATING_ERROR:"SET_UPDATING_ERROR"},lt=regeneratorRuntime.mark(Et);function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ot(e){return{type:ft.RECEIVE_OPTIONS,options:e}}function bt(e,t){return{type:ft.SET_REQUESTING_ERROR,error:e,name:t}}function mt(e){return{type:ft.SET_UPDATING_ERROR,error:e}}function vt(e){return{type:ft.SET_IS_UPDATING,isUpdating:e}}function Et(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,vt(!0);case 2:return r.next=4,Ot(e);case 4:return r.prev=4,r.next=7,Object(b.apiFetch)({path:"/wc-admin/options",method:"POST",data:e});case 7:return t=r.sent,r.next=10,vt(!1);case 10:return r.abrupt("return",gt({success:!0},t));case 13:return r.prev=13,r.t0=r.catch(4),r.next=17,mt(r.t0);case 17:return r.abrupt("return",gt({success:!1},r.t0));case 18:case"end":return r.stop()}}),lt,null,[[4,13]])}var jt=r(21),_t=r.n(jt);function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ht=[],St={},yt=Rt(Rt({},b.controls),{},{BATCH_FETCH:function(e){var t=e.optionName;return ht.push(t),new Promise((function(e){setTimeout((function(){var r=ht.join(",");if(St[r])return St[r].then((function(r){e(r[t])}));var n="/wc-admin/options?options="+r;St[r]=_t()({path:n}),St[r].then((function(t){return e(t)})),setTimeout((function(){ht=[],delete St[r]}),1)}),1)}))}}),wt=regeneratorRuntime.mark(Tt);function Tt(e){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,{type:"BATCH_FETCH",optionName:e};case 3:return t=r.sent,r.next=6,Ot(t);case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,bt(r.t0,e);case 12:case"end":return r.stop()}}),wt,null,[[0,8]])}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){Object(J.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isUpdating:!1,requestingErrors:{}},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.options,c=t.error,o=t.isUpdating,i=t.name;switch(r){case ft.RECEIVE_OPTIONS:e=Ut(Ut({},e),n);break;case ft.SET_IS_UPDATING:e=Ut(Ut({},e),{},{isUpdating:o});break;case ft.SET_REQUESTING_ERROR:e=Ut(Ut({},e),{},{requestingErrors:Object(J.a)({},i,c)});break;case ft.SET_UPDATING_ERROR:e=Ut(Ut({},e),{},{error:c,updatingError:c,isUpdating:!1})}return e};Object(O.registerStore)("wc/admin/options",{reducer:kt,actions:d,controls:yt,selectors:l,resolvers:g});var xt="wc/admin/options",Ct=function(e){return function(t){return function(r){var n=Object(z.useRef)(e);return Object(O.useSelect)((function(e,t){if(n.current){var r=e("wc/admin/options"),c=r.isResolving,o=r.hasFinishedResolution,i=t.dispatch("wc/admin/options"),u=i.startResolution,a=i.finishResolution,s=i.receiveOptions;Object.keys(n.current).forEach((function(e){c("getOption",[e])||o("getOption",[e])||(u("getOption",[e]),s(Object(J.a)({},e,n.current[e])),a("getOption",[e]))}))}}),[]),Object(z.createElement)(t,r)}}}}});
