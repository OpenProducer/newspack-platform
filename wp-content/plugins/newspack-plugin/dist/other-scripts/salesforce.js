(()=>{"use strict";const e=window.wp.i18n;!function(){const t=document.getElementById("newspack-salesforce-sync-status"),n=t.querySelector("span"),{base_url:s,order_id:r,salesforce_url:a,nonce:c}=newspack_salesforce_data;t&&fetch(`${s}newspack/salesforce/v1/order?orderId=${r}`,{headers:{"X-WP-Nonce":c}}).then((e=>e.json())).then((s=>{if(!1===s)t.classList.add("status-failed"),n.textContent=(0,e.__)("Not synced","newspack-plugin");else{if("string"!=typeof s)throw(0,e.__)("Error fetching status","newspack-plugin");{const r=document.createElement("a");t.classList.add("status-completed"),r.href=`${a}/lightning/r/Opportunity/${s}/view`,r.setAttribute("target","_blank"),r.setAttribute("rel","noopener noreferrer"),r.textContent=(0,e.__)("Synced","newspack-plugin"),n.textContent="",n.appendChild(r)}}})).catch((s=>{t.classList.add("status-failed"),n.textContent=s||(0,e.__)("Error fetching status","newspack-plugin")}))}()})();