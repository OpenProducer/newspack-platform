(()=>{"use strict";var e,t={790:e=>{e.exports=window.ReactJSXRuntime},6087:e=>{e.exports=window.wp.element},7143:e=>{e.exports=window.wp.data},7723:e=>{e.exports=window.wp.i18n},9451:(e,t,n)=>{var r=n(7723),i=n(7143),a=n(6087);const s=window.wp.editPost,l=window.wp.plugins;var o=n(790);(0,l.registerPlugin)("newspack-memberships-gate",{render:function(){const e=window.newspack_memberships_gate||{},{gate_plans:t,plans:n}=e,{createNotice:l}=(0,i.useDispatch)("core/notices");(0,a.useEffect)(()=>{t&&Object.keys(t).length&&l("info",(0,r.sprintf)(
// translators: %s is the list of plans.
// translators: %s is the list of plans.
(0,r.__)("You're currently editing a gate for content restricted by: %s","newspack-plugin"),Object.values(t).join(", ")))},[]);const p=(0,a.useMemo)(()=>{if(!n?.length||!t)return[];const e=Object.keys(t)||[];return n.filter(t=>!e.includes(t.id.toString()))},[t,n]);return n?.length?(0,o.jsxs)(s.PluginDocumentSettingPanel,{name:"content-gate-plans",title:(0,r.__)("WooCommerce Memberships","newspack-plugin"),children:[Object.keys(e?.gate_plans).length?(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)("p",{children:(0,r.sprintf)(
// translators: %s is the list of plans.
// translators: %s is the list of plans.
(0,r.__)("This gate will be rendered for the following membership plans: %s","newspack-plugin"),Object.values(e.gate_plans).join(", "))}),(0,o.jsx)("hr",{}),(0,o.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,r.sprintf)(
// translators: %s is the link to the primary gate.
// translators: %s is the link to the primary gate.
(0,r.__)('Edit the <a href="%s">primary gate</a>, or:',"newspack-plugin"),e.edit_gate_url)}})]}):(0,o.jsx)(a.Fragment,{children:(0,o.jsx)("p",{children:(0,r.__)("This gate will be rendered for all membership plans. Manage custom gates for when the content is locked behind a specific plan:","newspack-plugin")})}),(0,o.jsx)("ul",{children:p.map(t=>(0,o.jsxs)("li",{children:[t.name," (",!1!==t.gate_id&&(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)("strong",{children:"publish"===t.gate_status?(0,r.__)("published","newspack-plugin"):(0,r.__)("draft","newspack-plugin")})," ","-"," "]}),(0,o.jsx)("a",{href:e.edit_plan_gate_url+"&plan_id="+t.id,children:t.gate_id?(0,r.__)("edit gate","newspack-plugin"):(0,r.__)("create gate","newspack-plugin")}),")"]},t.id))})]}):null},icon:null})}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e](a,a.exports,r),a.loaded=!0,a.exports}r.m=t,e=[],r.O=(t,n,i,a)=>{if(!n){var s=1/0;for(c=0;c<e.length;c++){for(var[n,i,a]=e[c],l=!0,o=0;o<n.length;o++)(!1&a||s>=a)&&Object.keys(r.O).every(e=>r.O[e](n[o]))?n.splice(o--,1):(l=!1,a<s&&(s=a));if(l){e.splice(c--,1);var p=i();void 0!==p&&(t=p)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[n,i,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.j=196,(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={196:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,a,[s,l,o]=n,p=0;if(s.some(t=>0!==e[t])){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(o)var c=o(r)}for(t&&t(n);p<s.length;p++)a=s[p],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},n=globalThis.webpackChunknewspack=globalThis.webpackChunknewspack||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=r.O(void 0,[4223],()=>r(9451));i=r.O(i)})();