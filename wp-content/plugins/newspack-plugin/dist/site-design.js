(()=>{"use strict";var e,t={3637:(e,t,a)=>{a(8209);var n=a(6087),s=a(7723),l=a(1727),i=a(216),o=a(783),p=a(6427),r=a(790);const u=e=>{const[t,a]=(0,n.useState)(null),{themeSettings:i,setThemeMods:o}=e,{show_author_bio:u=!0,show_author_email:c=!1,author_bio_length:d=200,featured_image_default:h="large",post_template_default:_="default",featured_image_all_posts:g="none",post_template_all_posts:w="none",newspack_image_credits_placeholder_url:m,newspack_image_credits_class_name:b="",newspack_image_credits_prefix_label:k="",newspack_image_credits_auto_populate:x=!1}=i;return(0,n.useEffect)((()=>{m&&a(m)}),[m]),(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(l.X3,{title:(0,s.__)("Author Bio","newspack-plugin"),description:(0,s.__)("Control how author bios are displayed on posts.","newspack-plugin")}),(0,r.jsxs)(l.xA,{gutter:32,children:[(0,r.jsxs)(l.xA,{columns:1,gutter:16,children:[(0,r.jsx)(p.ToggleControl,{label:(0,s.__)("Author Bio","newspack-plugin"),help:(0,s.__)("Display an author bio under individual posts.","newspack-plugin"),checked:u,onChange:e=>o({show_author_bio:e})}),u&&(0,r.jsx)(p.ToggleControl,{label:(0,s.__)("Author Email","newspack-plugin"),help:(0,s.__)("Display the author email with bio on individual posts.","newspack-plugin"),checked:c,onChange:e=>o({show_author_email:e})})]}),(0,r.jsx)(l.xA,{columns:1,gutter:16,children:u&&(0,r.jsx)(l.xt,{label:(0,s.__)("Length","newspack-plugin"),help:(0,s.__)("Truncates the author bio on single posts to this approximate character length, but without breaking a word. The full bio appears on the author archive page.","newspack-plugin"),type:"number",value:d,onChange:e=>o({author_bio_length:e})})})]}),(0,r.jsx)(l.X3,{title:(0,s.__)("Default Featured Image Position And Post Template","newspack-plugin"),description:(0,s.__)("Modify how the featured image and post template settings are applied to new posts.","newspack-plugin")}),(0,r.jsxs)(l.xA,{gutter:32,children:[(0,r.jsx)(p.SelectControl,{label:(0,s.__)("Default featured image position for new posts","newspack-plugin"),help:(0,s.__)("Set a default featured image position for new posts.","newspack-plugin"),value:h,options:[{label:(0,s.__)("Large","newspack-plugin"),value:"large"},{label:(0,s.__)("Small","newspack-plugin"),value:"small"},{label:(0,s.__)("Behind article title","newspack-plugin"),value:"behind"},{label:(0,s.__)("Beside article title","newspack-plugin"),value:"beside"},{label:(0,s.__)("Hidden","newspack-plugin"),value:"hidden"}],onChange:e=>o({featured_image_default:e})}),(0,r.jsx)(p.SelectControl,{label:(0,s.__)("Default template for new posts","newspack-plugin"),help:(0,s.__)("Set a default template for new posts.","newspack-plugin"),value:_,options:[{label:(0,s.__)("With sidebar","newspack-plugin"),value:"default"},{label:(0,s.__)("One Column","newspack-plugin"),value:"single-feature.php"},{label:(0,s.__)("One Column Wide","newspack-plugin"),value:"single-wide.php"}],onChange:e=>o({post_template_default:e})})]}),(0,r.jsx)(l.X3,{title:(0,s.__)("Featured Image Position And Post Template For All Posts","newspack-plugin"),description:(0,s.__)("Modify how the featured image and post template settings are applied to existing posts. Warning: saving these options will override all posts.","newspack-plugin")}),i.post_count>1e3&&(0,r.jsx)(p.Notice,{isDismissible:!1,status:"warning",className:"ma0 mb2",children:(0,s.__)("You have more than 1000 posts. Applying these settings might take a moment.","newspack-plugin")}),(0,r.jsxs)(l.xA,{gutter:32,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p.SelectControl,{label:(0,s.__)("Featured image position for all posts","newspack-plugin"),help:(0,s.__)("Set a featured image position for all posts.","newspack-plugin"),value:g,options:[{label:(0,s.__)("Select to change all posts","newspack-plugin"),value:"none"},{label:(0,s.__)("Large","newspack-plugin"),value:"large"},{label:(0,s.__)("Small","newspack-plugin"),value:"small"},{label:(0,s.__)("Behind article title","newspack-plugin"),value:"behind"},{label:(0,s.__)("Beside article title","newspack-plugin"),value:"beside"},{label:(0,s.__)("Hidden","newspack-plugin"),value:"hidden"}],onChange:e=>o({featured_image_all_posts:e})}),"none"!==g&&(0,r.jsx)(p.Notice,{isDismissible:!1,status:"warning",className:"ma0 mt2",children:(0,s.__)("After saving the settings with this option selected, all posts will be updated. This cannot be undone.","newspack-plugin")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(p.SelectControl,{label:(0,s.__)("Template for all posts","newspack-plugin"),help:(0,s.__)("Set a template for all posts.","newspack-plugin"),value:w,options:[{label:(0,s.__)("Select to change all posts","newspack-plugin"),value:"none"},{label:(0,s.__)("With sidebar","newspack-plugin"),value:"default"},{label:(0,s.__)("One Column","newspack-plugin"),value:"single-feature.php"},{label:(0,s.__)("One Column Wide","newspack-plugin"),value:"single-wide.php"}],onChange:e=>o({post_template_all_posts:e})}),"none"!==w&&(0,r.jsx)(p.Notice,{isDismissible:!1,status:"warning",className:"ma0 mt2",children:(0,s.__)("After saving the settings with this option selected, all posts will be updated. This cannot be undone.","newspack-plugin")})]})]}),(0,r.jsx)(l.X3,{title:(0,s.__)("Media Credits","newspack-plugin"),description:(0,s.__)("Control how credits are displayed alongside media attachments.","newspack-plugin")}),(0,r.jsxs)(l.xA,{gutter:32,children:[(0,r.jsxs)(l.xA,{columns:1,gutter:16,children:[(0,r.jsx)(l.xt,{label:(0,s.__)("Credit Class Name","newspack-plugin"),help:(0,s.__)("A CSS class name to be applied to all image credit elements. Leave blank to display no class name.","newspack-plugin"),value:b,onChange:e=>o({newspack_image_credits_class_name:e})}),(0,r.jsx)(l.xt,{label:(0,s.__)("Credit Label","newspack-plugin"),help:(0,s.__)("A label to prefix all media credits. Leave blank to display no prefix.","newspack-plugin"),value:k,onChange:e=>o({newspack_image_credits_prefix_label:e})})]}),(0,r.jsxs)(l.xA,{columns:1,gutter:16,children:[(0,r.jsx)(l.BR,{image:t?{url:t}:null,label:(0,s.__)("Placeholder Image","newspack-plugin"),buttonLabel:(0,s.__)("Select","newspack-plugin"),onChange:e=>{a(e?.url||null),o({newspack_image_credits_placeholder:e?.id||null})},help:(0,s.__)("A placeholder image to be displayed in place of images without credits. If none is chosen, the image will be displayed normally whether or not it has a credit.","newspack-plugin")}),(0,r.jsx)(p.ToggleControl,{label:(0,s.__)("Auto-populate image credits","newspack-plugin"),help:(0,s.__)("Automatically populate image credits from EXIF or IPTC metadata when uploading new images.","newspack-plugin"),checked:x,onChange:e=>o({newspack_image_credits_auto_populate:e})})]})]})]})};u.defaultProps={themeSettings:{},setThemeMods:()=>null};const c=(0,l.c_)(u),{HashRouter:d,Redirect:h,Route:_,Switch:g}=i.A;class w extends n.Component{componentDidMount=()=>{const{setError:e,wizardApiFetch:t}=this.props;t({path:"/newspack/v1/wizard/newspack-setup-wizard/theme",method:"GET"}).then((e=>this.setState({themeSettings:{...e.theme_mods,...e.etc}}))).catch(e)};setThemeMods=e=>this.setState({themeSettings:{...this.state.themeSettings,...e}});updateThemeSettings=()=>{const{setError:e,wizardApiFetch:t}=this.props,{themeSettings:a}=this.state;(a.featured_image_all_posts&&"none"!==a.featured_image_all_posts||a.post_template_all_posts&&"none"!==a.post_template_all_posts)&&!l.Wp.confirmAction((0,s.__)("Saving will overwrite existing posts, this cannot be undone. Are you sure you want to proceed?","newspack-plugin"))||t({path:"/newspack/v1/wizard/newspack-setup-wizard/theme/",method:"POST",data:{theme_mods:a},quiet:!0}).then((e=>{const{theme:t,theme_mods:a}=e;this.setState({theme:t,themeSettings:a})})).catch((t=>e({error:t})))};state={};render(){const{pluginRequirements:e,wizardApiFetch:t,setError:a}=this.props,l=[{label:(0,s.__)("Design"),path:"/",exact:!0},{label:(0,s.__)("Settings"),path:"/settings",exact:!0}];return(0,r.jsx)(n.Fragment,{children:(0,r.jsx)(d,{hashType:"slash",children:(0,r.jsxs)(g,{children:[e,(0,r.jsx)(_,{path:"/",exact:!0,render:()=>(0,r.jsx)(o.A,{headerText:(0,s.__)("Site Design","newspack-plugin"),subHeaderText:(0,s.__)("Customize the look and feel of your site","newspack-plugin"),tabbedNavigation:l,wizardApiFetch:t,setError:a,isPartOfSetup:!1})}),(0,r.jsx)(_,{path:"/settings",exact:!0,render:()=>{const{themeSettings:e}=this.state;return(0,r.jsx)(c,{headerText:(0,s.__)("Site Design","newspack-plugin"),subHeaderText:(0,s.__)("Configure your Newspack theme","newspack-plugin"),tabbedNavigation:l,themeSettings:e,setThemeMods:this.setThemeMods,buttonText:(0,s.__)("Save","newspack-plugin"),buttonAction:this.updateThemeSettings,secondaryButtonText:(0,s.__)("Advanced Settings","newspack-plugin"),secondaryButtonAction:"/wp-admin/customize.php"})}}),(0,r.jsx)(h,{to:"/"})]})})})}}(0,n.render)((0,n.createElement)((0,l.Aq)(w)),document.getElementById("newspack-site-design-wizard"))},1609:e=>{e.exports=window.React},790:e=>{e.exports=window.ReactJSXRuntime},6154:e=>{e.exports=window.moment},1455:e=>{e.exports=window.wp.apiFetch},6427:e=>{e.exports=window.wp.components},7143:e=>{e.exports=window.wp.data},6087:e=>{e.exports=window.wp.element},2619:e=>{e.exports=window.wp.hooks},8537:e=>{e.exports=window.wp.htmlEntities},7723:e=>{e.exports=window.wp.i18n},8558:e=>{e.exports=window.wp.keycodes},5573:e=>{e.exports=window.wp.primitives},3832:e=>{e.exports=window.wp.url}},a={};function n(e){var s=a[e];if(void 0!==s)return s.exports;var l=a[e]={id:e,loaded:!1,exports:{}};return t[e].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.m=t,e=[],n.O=(t,a,s,l)=>{if(!a){var i=1/0;for(u=0;u<e.length;u++){for(var[a,s,l]=e[u],o=!0,p=0;p<a.length;p++)(!1&l||i>=l)&&Object.keys(n.O).every((e=>n.O[e](a[p])))?a.splice(p--,1):(o=!1,l<i&&(i=l));if(o){e.splice(u--,1);var r=s();void 0!==r&&(t=r)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,s,l]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.j=385,(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var s=a.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=a[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={385:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var s,l,[i,o,p]=a,r=0;if(i.some((t=>0!==e[t]))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(p)var u=p(n)}for(t&&t(a);r<i.length;r++)l=i[r],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},a=globalThis.webpackChunknewspack=globalThis.webpackChunknewspack||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var s=n.O(void 0,[223],(()=>n(3637)));s=n.O(s)})();