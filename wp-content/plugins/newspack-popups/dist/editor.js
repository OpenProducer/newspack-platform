(()=>{var e={614:(e,t)=>{
/*!
 * calendar.js: inspired by the calendar module from Python
 * Copyright(c) 2011 Luciano Ramalho <luciano@ramalho.org>
 * MIT Licensed
 */
t.version="0.1.0";var n=function(e){this.message=e,this.toString=function(){return this.constructor.name+": "+this.message}},r=function(e){this.firstWeekDay=e||0};r.prototype={constructor:r,weekStartDate:function(e){for(var t=new Date(e.getTime());t.getDay()!==this.firstWeekDay;)t.setDate(t.getDate()-1);return t},monthDates:function(e,t,r,o){if("number"!=typeof e||e<1970)throw new n("year must be a number >= 1970");if("number"!=typeof t||t<0||t>11)throw new n("month must be a number (Jan is 0)");var i=[],a=[],s=0,u=this.weekStartDate(new Date(e,t,1));do{for(s=0;s<7;s++)a.push(r?r(u):u),(u=new Date(u.getTime())).setDate(u.getDate()+1);i.push(o?o(a):a),a=[]}while(u.getMonth()<=t&&u.getFullYear()===e);return i},monthDays:function(e,t){return this.monthDates(e,t,(function(e){return e.getMonth()===t?e.getDate():0}))},monthText:function(e,t){if(void 0===e){var n=new Date;e=n.getFullYear(),t=n.getMonth()}return this.monthDates(e,t,(function(e){for(var n=e.getMonth()===t?e.getDate().toString():"  ";n.length<2;)n=" "+n;return n}),(function(e){return e.join(" ")})).join("\n")}};for(var o="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),i=0;i<o.length;i++)r[o[i]]=i;t.Calendar=r},1924:(e,t,n)=>{"use strict";var r=n(210),o=n(5559),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},5559:(e,t,n)=>{"use strict";var r=n(8612),o=n(210),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(f){c=null}e.exports=function(e){var t=s(r,a,arguments);if(u&&c){var n=u(t,"length");n.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var p=function(){return s(r,i,arguments)};c?c(e.exports,"apply",{value:p}):e.exports.apply=p},4184:(e,t)=>{var n;
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},6511:(e,t,n)=>{"use strict";var r=n(7418),o={};function i(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}var a="mixins";e.exports=function(e,t,n){var s=[],u={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},l={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(i(!(n in l),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return i("DEFINE_MANY_MERGED"===(c.hasOwnProperty(n)?c[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=d(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function p(e,t){var n=u.hasOwnProperty(t)?u[t]:null;_.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&l.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var c=n[s],f=r.hasOwnProperty(s);if(p(f,s),l.hasOwnProperty(s))l[s](e,c);else{var h=u.hasOwnProperty(s);if("function"==typeof c&&!h&&!f&&!1!==n.autobind)o.push(s,c),r[s]=c;else if(f){var y=u[s];i(h&&("DEFINE_MANY_MERGED"===y||"DEFINE_MANY"===y),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",y,s),"DEFINE_MANY_MERGED"===y?r[s]=d(r[s],c):"DEFINE_MANY"===y&&(r[s]=m(r[s],c))}else r[s]=c}}}else;}function h(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function d(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return h(o,n),h(o,r),o}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function y(e,t){return t.bind(e)}var v={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},_={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},b=function(){};return r(b.prototype,e.prototype,_),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=y(e,o)}}(this),this.props=e,this.context=r,this.refs=o,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new b,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(f.bind(null,t)),f(t,v),f(t,e),f(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),u)t.prototype[r]||(t.prototype[r]=null);return t}}},2555:(e,t,n)=>{"use strict";var r=n(9196),o=n(6511);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,i)},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,o="[object Function]";e.exports=function(e){var i=this;if("function"!=typeof i||r.call(i)!==o)throw new TypeError(t+i);for(var a,s=n.call(arguments,1),u=function(){if(this instanceof a){var t=i.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return i.apply(e,s.concat(n.call(arguments)))},c=Math.max(0,i.length-s.length),l=[],p=0;p<c;p++)l.push("$"+p);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),i.prototype){var f=function(){};f.prototype=i.prototype,a.prototype=new f,f.prototype=null}return a}},8612:(e,t,n)=>{"use strict";var r=n(7648);e.exports=Function.prototype.bind||r},210:(e,t,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(M){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(t){return c}}}():c,p=n(1405)(),f=Object.getPrototypeOf||function(e){return e.__proto__},h={},d="undefined"==typeof Uint8Array?r:f(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?f(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":d,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},y=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=f(o.prototype))}return m[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=n(8612),_=n(7642),b=g.call(Function.call,Array.prototype.concat),w=g.call(Function.apply,Array.prototype.splice),S=g.call(Function.call,String.prototype.replace),k=g.call(Function.call,String.prototype.slice),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,O=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return S(e,x,(function(e,t,n,o){r[r.length]=n?S(o,E,"$1"):t||e})),r},P=function(e,t){var n,r=e;if(_(v,r)&&(r="%"+(n=v[r])[0]+"%"),_(m,r)){var i=m[r];if(i===h&&(i=y(r)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var n=O(e),r=n.length>0?n[0]:"",i=P("%"+r+"%",t),s=i.name,c=i.value,l=!1,p=i.alias;p&&(r=p[0],w(n,b([0,1],p)));for(var f=1,h=!0;f<n.length;f+=1){var d=n[f],y=k(d,0,1),v=k(d,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&h||(l=!0),_(m,s="%"+(r+="."+d)+"%"))c=m[s];else if(null!=c){if(!(d in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var g=u(c,d);c=(h=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[d]}else h=_(c,d),c=c[d];h&&!l&&(m[s]=c)}}return c}},1405:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(5419);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},7642:(e,t,n)=>{"use strict";var r=n(8612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},8679:(e,t,n)=>{"use strict";var r=n(1296),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(d){var o=h(n);o&&o!==d&&e(t,o,r)}var a=l(n);p&&(a=a.concat(p(n)));for(var s=u(t),m=u(n),y=0;y<a.length;++y){var v=a[y];if(!(i[v]||r&&r[v]||m&&m[v]||s&&s[v])){var g=f(n,v);try{c(t,v,g)}catch(_){}}}}return t}},6103:(e,t)=>{"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case p:case i:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case y:case m:case u:return e;default:return t}}case o:return t}}}function S(e){return w(e)===p}t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Lazy=y,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return S(e)||w(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===s||e===a||e===h||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===g||e.$$typeof===_||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w},1296:(e,t,n)=>{"use strict";e.exports=n(6103)},3393:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:Y(e)}function r(e){return s(e)?e:G(e)}function o(e){return u(e)?e:K(e)}function i(e){return a(e)&&!c(e)?e:J(e)}function a(e){return!(!e||!e[p])}function s(e){return!(!e||!e[f])}function u(e){return!(!e||!e[h])}function c(e){return s(e)||u(e)}function l(e){return!(!e||!e[d])}t(r,n),t(o,n),t(i,n),n.isIterable=a,n.isKeyed=s,n.isIndexed=u,n.isAssociative=c,n.isOrdered=l,n.Keyed=r,n.Indexed=o,n.Set=i;var p="@@__IMMUTABLE_ITERABLE__@@",f="@@__IMMUTABLE_KEYED__@@",h="@@__IMMUTABLE_INDEXED__@@",d="@@__IMMUTABLE_ORDERED__@@",m="delete",y=5,v=1<<y,g=v-1,_={},b={value:!1},w={value:!1};function S(e){return e.value=!1,e}function k(e){e&&(e.value=!0)}function x(){}function E(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function O(e){return void 0===e.size&&(e.size=e.__iterate(M)),e.size}function P(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?O(e)+t:t}function M(){return!0}function C(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function D(e,t){return A(e,t,0)}function I(e,t){return A(e,t,t)}function A(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var j=0,N=1,R=2,T="function"==typeof Symbol&&Symbol.iterator,z="@@iterator",F=T||z;function L(e){this.next=e}function B(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function U(){return{value:void 0,done:!0}}function q(e){return!!W(e)}function $(e){return e&&"function"==typeof e.next}function H(e){var t=W(e);return t&&t.call(e)}function W(e){var t=e&&(T&&e[T]||e[z]);if("function"==typeof t)return t}function V(e){return e&&"number"==typeof e.length}function Y(e){return null==e?ae():a(e)?e.toSeq():ce(e)}function G(e){return null==e?ae().toKeyedSeq():a(e)?s(e)?e.toSeq():e.fromEntrySeq():se(e)}function K(e){return null==e?ae():a(e)?s(e)?e.entrySeq():e.toIndexedSeq():ue(e)}function J(e){return(null==e?ae():a(e)?s(e)?e.entrySeq():e:ue(e)).toSetSeq()}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=j,L.VALUES=N,L.ENTRIES=R,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[F]=function(){return this},t(Y,n),Y.of=function(){return Y(arguments)},Y.prototype.toSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq {","}")},Y.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Y.prototype.__iterate=function(e,t){return pe(this,e,t,!0)},Y.prototype.__iterator=function(e,t){return fe(this,e,t,!0)},t(G,Y),G.prototype.toKeyedSeq=function(){return this},t(K,Y),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(e,t){return pe(this,e,t,!1)},K.prototype.__iterator=function(e,t){return fe(this,e,t,!1)},t(J,Y),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},Y.isSeq=ie,Y.Keyed=G,Y.Set=J,Y.Indexed=K;var Q,Z,X,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function se(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():$(e)?new oe(e).fromEntrySeq():q(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ue(e){var t=le(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ce(e){var t=le(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function le(e){return V(e)?new te(e):$(e)?new oe(e):q(e)?new re(e):void 0}function pe(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function fe(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new L((function(){var e=o[n?i-a:a];return a++>i?U():B(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function he(e,t){return t?de(t,e,"",{"":e}):me(e)}function de(e,t,n,r){return Array.isArray(t)?e.call(r,n,K(t).map((function(n,r){return de(e,n,r,t)}))):ye(t)?e.call(r,n,G(t).map((function(n,r){return de(e,n,r,t)}))):t}function me(e){return Array.isArray(e)?K(e).map(me).toList():ye(e)?G(e).map(me).toMap():e}function ye(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ve(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ge(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||s(e)!==s(t)||u(e)!==u(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(l(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&ve(o[1],e)&&(n||ve(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var p=!0,f=t.__iterate((function(t,r){if(n?!e.has(t):o?!ve(t,e.get(r,_)):!ve(e.get(r,_),t))return p=!1,!1}));return p&&e.size===f}function _e(e,t){if(!(this instanceof _e))return new _e(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function be(e,t){if(!e)throw new Error(t)}function we(e,t,n){if(!(this instanceof we))return new we(e,t,n);if(be(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(X)return X;X=this}}function Se(){throw TypeError("Abstract")}function ke(){}function xe(){}function Ee(){}Y.prototype[ee]=!0,t(te,K),te.prototype.get=function(e,t){return this.has(e)?this._array[P(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new L((function(){return o>r?U():B(e,o,n[t?r-o++:o++])}))},t(ne,G),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new L((function(){var a=r[t?o-i:i];return i++>o?U():B(e,a,n[a])}))},ne.prototype[d]=!0,t(re,K),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=H(this._iterable),r=0;if($(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=H(this._iterable);if(!$(n))return new L(U);var r=0;return new L((function(){var t=n.next();return t.done?t:B(e,r++,t.value)}))},t(oe,K),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var a=n.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new L((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return B(e,o,r[o++])}))},t(_e,K),_e.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},_e.prototype.get=function(e,t){return this.has(e)?this._value:t},_e.prototype.includes=function(e){return ve(this._value,e)},_e.prototype.slice=function(e,t){var n=this.size;return C(e,t,n)?this:new _e(this._value,I(t,n)-D(e,n))},_e.prototype.reverse=function(){return this},_e.prototype.indexOf=function(e){return ve(this._value,e)?0:-1},_e.prototype.lastIndexOf=function(e){return ve(this._value,e)?this.size:-1},_e.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},_e.prototype.__iterator=function(e,t){var n=this,r=0;return new L((function(){return r<n.size?B(e,r++,n._value):U()}))},_e.prototype.equals=function(e){return e instanceof _e?ve(this._value,e._value):ge(e)},t(we,K),we.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},we.prototype.get=function(e,t){return this.has(e)?this._start+P(this,e)*this._step:t},we.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},we.prototype.slice=function(e,t){return C(e,t,this.size)?this:(e=D(e,this.size),(t=I(t,this.size))<=e?new we(0,0):new we(this.get(e,this._end),this.get(t,this._end),this._step))},we.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},we.prototype.lastIndexOf=function(e){return this.indexOf(e)},we.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},we.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new L((function(){var a=o;return o+=t?-r:r,i>n?U():B(e,i++,a)}))},we.prototype.equals=function(e){return e instanceof we?this._start===e._start&&this._end===e._end&&this._step===e._step:ge(this,e)},t(Se,n),t(ke,Se),t(xe,Se),t(Ee,Se),Se.Keyed=ke,Se.Indexed=xe,Se.Set=Ee;var Oe="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Pe(e){return e>>>1&1073741824|3221225471&e}function Me(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Pe(n)}if("string"===t)return e.length>Le?Ce(e):De(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Ie(e);if("function"==typeof e.toString)return De(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Ce(e){var t=qe[e];return void 0===t&&(t=De(e),Ue===Be&&(Ue=0,qe={}),Ue++,qe[e]=t),t}function De(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Pe(t)}function Ie(e){var t;if(Te&&void 0!==(t=Re.get(e)))return t;if(void 0!==(t=e[Fe]))return t;if(!je){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Fe]))return t;if(void 0!==(t=Ne(e)))return t}if(t=++ze,1073741824&ze&&(ze=0),Te)Re.set(e,t);else{if(void 0!==Ae&&!1===Ae(e))throw new Error("Non-extensible objects are not allowed as keys.");if(je)Object.defineProperty(e,Fe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Fe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Fe]=t}}return t}var Ae=Object.isExtensible,je=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Ne(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Re,Te="function"==typeof WeakMap;Te&&(Re=new WeakMap);var ze=0,Fe="__immutablehash__";"function"==typeof Symbol&&(Fe=Symbol(Fe));var Le=16,Be=255,Ue=0,qe={};function $e(e){be(e!==1/0,"Cannot perform this action with an infinite size.")}function He(e){return null==e?ot():We(e)&&!l(e)?e:ot().withMutations((function(t){var n=r(e);$e(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function We(e){return!(!e||!e[Ye])}t(He,ke),He.of=function(){var t=e.call(arguments,0);return ot().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},He.prototype.toString=function(){return this.__toString("Map {","}")},He.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},He.prototype.set=function(e,t){return it(this,e,t)},He.prototype.setIn=function(e,t){return this.updateIn(e,_,(function(){return t}))},He.prototype.remove=function(e){return it(this,e,_)},He.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return _}))},He.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},He.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=yt(this,kn(e),t,n);return r===_?void 0:r},He.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ot()},He.prototype.merge=function(){return ft(this,void 0,arguments)},He.prototype.mergeWith=function(t){return ft(this,t,e.call(arguments,1))},He.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},He.prototype.mergeDeep=function(){return ft(this,ht,arguments)},He.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return ft(this,dt(t),n)},He.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},He.prototype.sort=function(e){return qt(pn(this,e))},He.prototype.sortBy=function(e,t){return qt(pn(this,t,e))},He.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},He.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new x)},He.prototype.asImmutable=function(){return this.__ensureOwner()},He.prototype.wasAltered=function(){return this.__altered},He.prototype.__iterator=function(e,t){return new et(this,e,t)},He.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},He.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},He.isMap=We;var Ve,Ye="@@__IMMUTABLE_MAP__@@",Ge=He.prototype;function Ke(e,t){this.ownerID=e,this.entries=t}function Je(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Qe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Xe(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return B(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var o=Object.create(Ge);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function ot(){return Ve||(Ve=rt(0))}function it(e,t,n){var r,o;if(e._root){var i=S(b),a=S(w);if(r=at(e._root,e.__ownerID,0,void 0,t,n,i,a),!a.value)return e;o=e.size+(i.value?n===_?-1:1:0)}else{if(n===_)return e;o=1,r=new Ke(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(o,r):ot()}function at(e,t,n,r,o,i,a,s){return e?e.update(t,n,r,o,i,a,s):i===_?e:(k(s),k(a),new Xe(t,r,[o,i]))}function st(e){return e.constructor===Xe||e.constructor===Ze}function ut(e,t,n,r,o){if(e.keyHash===r)return new Ze(t,r,[e.entry,o]);var i,a=(0===n?e.keyHash:e.keyHash>>>n)&g,s=(0===n?r:r>>>n)&g;return new Je(t,1<<a|1<<s,a===s?[ut(e,t,n+y,r,o)]:(i=new Xe(t,r,o),a<s?[e,i]:[i,e]))}function ct(e,t,n,r){e||(e=new x);for(var o=new Xe(e,Me(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function lt(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new Je(e,o,a)}function pt(e,t,n,r,o){for(var i=0,a=new Array(v),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[i++]:void 0;return a[r]=o,new Qe(e,i+1,a)}function ft(e,t,n){for(var o=[],i=0;i<n.length;i++){var s=n[i],u=r(s);a(s)||(u=u.map((function(e){return he(e)}))),o.push(u)}return mt(e,t,o)}function ht(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ve(e,t)?e:t}function dt(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return ve(t,o)?t:o}}function mt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,_,(function(e){return e===_?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function yt(e,t,n,r){var o=e===_,i=t.next();if(i.done){var a=o?n:e,s=r(a);return s===a?e:s}be(o||e&&e.set,"invalid keyPath");var u=i.value,c=o?_:e.get(u,_),l=yt(c,t,n,r);return l===c?e:l===_?e.remove(u):(o?ot():e).set(u,l)}function vt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function gt(e,t,n,r){var o=r?e:E(e);return o[t]=n,o}function _t(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function bt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}Ge[Ye]=!0,Ge[m]=Ge.remove,Ge.removeIn=Ge.deleteIn,Ke.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ve(n,o[i][0]))return o[i][1];return r},Ke.prototype.update=function(e,t,n,r,o,i,a){for(var s=o===_,u=this.entries,c=0,l=u.length;c<l&&!ve(r,u[c][0]);c++);var p=c<l;if(p?u[c][1]===o:s)return this;if(k(a),(s||!p)&&k(i),!s||1!==u.length){if(!p&&!s&&u.length>=wt)return ct(e,u,r,o);var f=e&&e===this.ownerID,h=f?u:E(u);return p?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,o]:h.push([r,o]),f?(this.entries=h,this):new Ke(e,h)}},Je.prototype.get=function(e,t,n,r){void 0===t&&(t=Me(n));var o=1<<((0===e?t:t>>>e)&g),i=this.bitmap;return 0==(i&o)?r:this.nodes[vt(i&o-1)].get(e+y,t,n,r)},Je.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Me(r));var s=(0===t?n:n>>>t)&g,u=1<<s,c=this.bitmap,l=0!=(c&u);if(!l&&o===_)return this;var p=vt(c&u-1),f=this.nodes,h=l?f[p]:void 0,d=at(h,e,t+y,n,r,o,i,a);if(d===h)return this;if(!l&&d&&f.length>=St)return pt(e,f,c,s,d);if(l&&!d&&2===f.length&&st(f[1^p]))return f[1^p];if(l&&d&&1===f.length&&st(d))return d;var m=e&&e===this.ownerID,v=l?d?c:c^u:c|u,b=l?d?gt(f,p,d,m):bt(f,p,m):_t(f,p,d,m);return m?(this.bitmap=v,this.nodes=b,this):new Je(e,v,b)},Qe.prototype.get=function(e,t,n,r){void 0===t&&(t=Me(n));var o=(0===e?t:t>>>e)&g,i=this.nodes[o];return i?i.get(e+y,t,n,r):r},Qe.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Me(r));var s=(0===t?n:n>>>t)&g,u=o===_,c=this.nodes,l=c[s];if(u&&!l)return this;var p=at(l,e,t+y,n,r,o,i,a);if(p===l)return this;var f=this.count;if(l){if(!p&&--f<kt)return lt(e,c,f,s)}else f++;var h=e&&e===this.ownerID,d=gt(c,s,p,h);return h?(this.count=f,this.nodes=d,this):new Qe(e,f,d)},Ze.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(ve(n,o[i][0]))return o[i][1];return r},Ze.prototype.update=function(e,t,n,r,o,i,a){void 0===n&&(n=Me(r));var s=o===_;if(n!==this.keyHash)return s?this:(k(a),k(i),ut(this,e,t,n,[r,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!ve(r,u[c][0]);c++);var p=c<l;if(p?u[c][1]===o:s)return this;if(k(a),(s||!p)&&k(i),s&&2===l)return new Xe(e,this.keyHash,u[1^c]);var f=e&&e===this.ownerID,h=f?u:E(u);return p?s?c===l-1?h.pop():h[c]=h.pop():h[c]=[r,o]:h.push([r,o]),f?(this.entries=h,this):new Ze(e,this.keyHash,h)},Xe.prototype.get=function(e,t,n,r){return ve(n,this.entry[0])?this.entry[1]:r},Xe.prototype.update=function(e,t,n,r,o,i,a){var s=o===_,u=ve(r,this.entry[0]);return(u?o===this.entry[1]:s)?this:(k(a),s?void k(i):u?e&&e===this.ownerID?(this.entry[1]=o,this):new Xe(e,this.keyHash,[r,o]):(k(i),ut(this,e,t,Me(r),[r,o])))},Ke.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},Je.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Xe.prototype.iterate=function(e,t){return e(this.entry)},t(et,L),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return tt(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return tt(e,i.entry);t=this._stack=nt(i,t)}continue}t=this._stack=this._stack.__prev}return U()};var wt=v/4,St=v/2,kt=v/4;function xt(e){var t=Nt();if(null==e)return t;if(Et(e))return e;var n=o(e),r=n.size;return 0===r?t:($e(r),r>0&&r<v?jt(0,r,y,null,new Mt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function Et(e){return!(!e||!e[Ot])}t(xt,xe),xt.of=function(){return this(arguments)},xt.prototype.toString=function(){return this.__toString("List [","]")},xt.prototype.get=function(e,t){if((e=P(this,e))>=0&&e<this.size){var n=Ft(this,e+=this._origin);return n&&n.array[e&g]}return t},xt.prototype.set=function(e,t){return Rt(this,e,t)},xt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},xt.prototype.insert=function(e,t){return this.splice(e,0,t)},xt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=y,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Nt()},xt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Lt(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},xt.prototype.pop=function(){return Lt(this,0,-1)},xt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Lt(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},xt.prototype.shift=function(){return Lt(this,1)},xt.prototype.merge=function(){return Bt(this,void 0,arguments)},xt.prototype.mergeWith=function(t){return Bt(this,t,e.call(arguments,1))},xt.prototype.mergeDeep=function(){return Bt(this,ht,arguments)},xt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Bt(this,dt(t),n)},xt.prototype.setSize=function(e){return Lt(this,0,e)},xt.prototype.slice=function(e,t){var n=this.size;return C(e,t,n)?this:Lt(this,D(e,n),I(t,n))},xt.prototype.__iterator=function(e,t){var n=0,r=At(this,t);return new L((function(){var t=r();return t===It?U():B(e,n++,t)}))},xt.prototype.__iterate=function(e,t){for(var n,r=0,o=At(this,t);(n=o())!==It&&!1!==e(n,r++,this););return r},xt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?jt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},xt.isList=Et;var Ot="@@__IMMUTABLE_LIST__@@",Pt=xt.prototype;function Mt(e,t){this.array=e,this.ownerID=t}Pt[Ot]=!0,Pt[m]=Pt.remove,Pt.setIn=Ge.setIn,Pt.deleteIn=Pt.removeIn=Ge.removeIn,Pt.update=Ge.update,Pt.updateIn=Ge.updateIn,Pt.mergeIn=Ge.mergeIn,Pt.mergeDeepIn=Ge.mergeDeepIn,Pt.withMutations=Ge.withMutations,Pt.asMutable=Ge.asMutable,Pt.asImmutable=Ge.asImmutable,Pt.wasAltered=Ge.wasAltered,Mt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&g;if(r>=this.array.length)return new Mt([],e);var o,i=0===r;if(t>0){var a=this.array[r];if((o=a&&a.removeBefore(e,t-y,n))===a&&i)return this}if(i&&!o)return this;var s=zt(this,e);if(!i)for(var u=0;u<r;u++)s.array[u]=void 0;return o&&(s.array[r]=o),s},Mt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&g;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-y,n))===i&&o===this.array.length-1)return this}var a=zt(this,e);return a.array.splice(o+1),r&&(a.array[o]=r),a};var Ct,Dt,It={};function At(e,t){var n=e._origin,r=e._capacity,o=Ut(r),i=e._tail;return a(e._root,e._level,0);function a(e,t,n){return 0===t?s(e,n):u(e,t,n)}function s(e,a){var s=a===o?i&&i.array:e&&e.array,u=a>n?0:n-a,c=r-a;return c>v&&(c=v),function(){if(u===c)return It;var e=t?--c:u++;return s&&s[e]}}function u(e,o,i){var s,u=e&&e.array,c=i>n?0:n-i>>o,l=1+(r-i>>o);return l>v&&(l=v),function(){for(;;){if(s){var e=s();if(e!==It)return e;s=null}if(c===l)return It;var n=t?--l:c++;s=a(u&&u[n],o-y,i+(n<<o))}}}}function jt(e,t,n,r,o,i,a){var s=Object.create(Pt);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Nt(){return Ct||(Ct=jt(0,0,y))}function Rt(e,t,n){if((t=P(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Lt(e,t).set(0,n):Lt(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i=S(w);return t>=Ut(e._capacity)?r=Tt(r,e.__ownerID,0,t,n,i):o=Tt(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):jt(e._origin,e._capacity,e._level,o,r):e}function Tt(e,t,n,r,o,i){var a,s=r>>>n&g,u=e&&s<e.array.length;if(!u&&void 0===o)return e;if(n>0){var c=e&&e.array[s],l=Tt(c,t,n-y,r,o,i);return l===c?e:((a=zt(e,t)).array[s]=l,a)}return u&&e.array[s]===o?e:(k(i),a=zt(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function zt(e,t){return t&&e&&t===e.ownerID?e:new Mt(e?e.array.slice():[],t)}function Ft(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+y){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&g],r-=y;return n}}function Lt(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new x,o=e._origin,i=e._capacity,a=o+t,s=void 0===n?i:n<0?i+n:o+n;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var u=e._level,c=e._root,l=0;a+l<0;)c=new Mt(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=y);l&&(a+=l,o+=l,s+=l,i+=l);for(var p=Ut(i),f=Ut(s);f>=1<<u+y;)c=new Mt(c&&c.array.length?[c]:[],r),u+=y;var h=e._tail,d=f<p?Ft(e,s-1):f>p?new Mt([],r):h;if(h&&f>p&&a<i&&h.array.length){for(var m=c=zt(c,r),v=u;v>y;v-=y){var _=p>>>v&g;m=m.array[_]=zt(m.array[_],r)}m.array[p>>>y&g]=h}if(s<i&&(d=d&&d.removeAfter(r,0,s)),a>=f)a-=f,s-=f,u=y,c=null,d=d&&d.removeBefore(r,0,a);else if(a>o||f<p){for(l=0;c;){var b=a>>>u&g;if(b!==f>>>u&g)break;b&&(l+=(1<<u)*b),u-=y,c=c.array[b]}c&&a>o&&(c=c.removeBefore(r,u,a-l)),c&&f<p&&(c=c.removeAfter(r,u,f-l)),l&&(a-=l,s-=l)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=c,e._tail=d,e.__hash=void 0,e.__altered=!0,e):jt(a,s,u,c,d)}function Bt(e,t,n){for(var r=[],i=0,s=0;s<n.length;s++){var u=n[s],c=o(u);c.size>i&&(i=c.size),a(u)||(c=c.map((function(e){return he(e)}))),r.push(c)}return i>e.size&&(e=e.setSize(i)),mt(e,t,r)}function Ut(e){return e<v?0:e-1>>>y<<y}function qt(e){return null==e?Wt():$t(e)?e:Wt().withMutations((function(t){var n=r(e);$e(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function $t(e){return We(e)&&l(e)}function Ht(e,t,n,r){var o=Object.create(qt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Wt(){return Dt||(Dt=Ht(ot(),Nt()))}function Vt(e,t,n){var r,o,i=e._map,a=e._list,s=i.get(t),u=void 0!==s;if(n===_){if(!u)return e;a.size>=v&&a.size>=2*i.size?(r=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=i,o=a.set(s,[t,n])}else r=i.set(t,a.size),o=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Ht(r,o)}function Yt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Gt(e){this._iter=e,this.size=e.size}function Kt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Qt(e){var t=bn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=wn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===R){var r=e.__iterator(t,n);return new L((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===N?j:N,n)},t}function Zt(e,t,n){var r=bn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,_);return i===_?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(R,o);return new L((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return B(r,s,t.call(n,a[1],s,e),o)}))},r}function Xt(e,t){var n=bn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=wn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var o=bn(e);return r&&(o.has=function(r){var o=e.get(r,_);return o!==_&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,_);return i!==_&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,u){if(t.call(n,e,i,u))return s++,o(e,r?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(R,i),s=0;return new L((function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(t.call(n,l,c,e))return B(o,r?c:s++,l,i)}}))},o}function tn(e,t,n){var r=He().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}function nn(e,t,n){var r=s(e),o=(l(e)?qt():He()).asMutable();e.__iterate((function(i,a){o.update(t.call(n,i,a,e),(function(e){return(e=e||[]).push(r?[a,i]:i),e}))}));var i=gn(e);return o.map((function(t){return mn(e,i(t))}))}function rn(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=o:n|=0),C(t,n,o))return e;var i=D(t,o),a=I(n,o);if(i!=i||a!=a)return rn(e.toSeq().cacheResult(),t,n,r);var s,u=a-i;u==u&&(s=u<0?0:u);var c=bn(e);return c.size=0===s?s:e.size&&s||void 0,!r&&ie(e)&&s>=0&&(c.get=function(t,n){return(t=P(this,t))>=0&&t<s?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var o=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,c=0;return e.__iterate((function(e,n){if(!u||!(u=a++<i))return c++,!1!==t(e,r?n:c-1,o)&&c!==s})),c},c.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var o=0!==s&&e.__iterator(t,n),a=0,u=0;return new L((function(){for(;a++<i;)o.next();if(++u>s)return U();var e=o.next();return r||t===N?e:B(t,u-1,t===j?void 0:e.value[1],e)}))},c}function on(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate((function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)})),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(R,o),s=!0;return new L((function(){if(!s)return U();var e=a.next();if(e.done)return e;var o=e.value,u=o[0],c=o[1];return t.call(n,c,u,i)?r===R?e:B(r,u,c,e):(s=!1,U())}))},r}function an(e,t,n,r){var o=bn(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate((function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return u++,o(e,r?i:u-1,a)})),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(R,i),u=!0,c=0;return new L((function(){var e,i,l;do{if((e=s.next()).done)return r||o===N?e:B(o,c++,o===j?void 0:e.value[1],e);var p=e.value;i=p[0],l=p[1],u&&(u=t.call(n,l,i,a))}while(u);return o===R?e:B(o,i,l,e)}))},o}function sn(e,t){var n=s(e),o=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?se(e):ue(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&s(i)||u(e)&&u(i))return i}var c=new te(o);return n?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),c}function un(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,o){var i=0,s=!1;function u(e,c){var l=this;e.__iterate((function(e,o){return(!t||c<t)&&a(e)?u(e,c+1):!1===r(e,n?o:i++,l)&&(s=!0),!s}),o)}return u(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),s=[],u=0;return new L((function(){for(;i;){var e=i.next();if(!1===e.done){var c=e.value;if(r===R&&(c=c[1]),t&&!(s.length<t)||!a(c))return n?e:B(r,u++,c,e);s.push(i),i=c.__iterator(r,o)}else i=s.pop()}return U()}))},r}function cn(e,t,n){var r=gn(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}function ln(e,t){var n=bn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(N,r),a=0;return new L((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?B(n,a++,t):B(n,a++,o.value,o)}))},n}function pn(e,t,n){t||(t=Sn);var r=s(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?G(i):u(e)?K(i):J(i)}function fn(e,t,n){if(t||(t=Sn),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return hn(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return hn(t,e,n)?n:e}))}function hn(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function dn(e,t,r){var o=bn(e);return o.size=new te(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(N,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=n(e),H(o?e.reverse():e)})),a=0,s=!1;return new L((function(){var n;return s||(n=i.map((function(e){return e.next()})),s=n.some((function(e){return e.done}))),s?U():B(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function mn(e,t){return ie(e)?t:e.constructor(t)}function yn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function vn(e){return $e(e.size),O(e)}function gn(e){return s(e)?r:u(e)?o:i}function bn(e){return Object.create((s(e)?G:u(e)?K:J).prototype)}function wn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function Sn(e,t){return e>t?1:e<t?-1:0}function kn(e){var t=H(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(n(e))}return t}function xn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);Mn(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=He(i)},o=r.prototype=Object.create(En);return o.constructor=r,r}t(qt,He),qt.of=function(){return this(arguments)},qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},qt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Wt()},qt.prototype.set=function(e,t){return Vt(this,e,t)},qt.prototype.remove=function(e){return Vt(this,e,_)},qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},qt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},qt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},qt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Ht(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},qt.isOrderedMap=$t,qt.prototype[d]=!0,qt.prototype[m]=qt.prototype.remove,t(Yt,G),Yt.prototype.get=function(e,t){return this._iter.get(e,t)},Yt.prototype.has=function(e){return this._iter.has(e)},Yt.prototype.valueSeq=function(){return this._iter.valueSeq()},Yt.prototype.reverse=function(){var e=this,t=Xt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Yt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Yt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?vn(this):0,function(o){return e(o,t?--n:n++,r)}),t)},Yt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(N,t),r=t?vn(this):0;return new L((function(){var o=n.next();return o.done?o:B(e,t?--r:r++,o.value,o)}))},Yt.prototype[d]=!0,t(Gt,K),Gt.prototype.includes=function(e){return this._iter.includes(e)},Gt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Gt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t),r=0;return new L((function(){var t=n.next();return t.done?t:B(e,r++,t.value,t)}))},t(Kt,J),Kt.prototype.has=function(e){return this._iter.includes(e)},Kt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Kt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t);return new L((function(){var t=n.next();return t.done?t:B(e,t.value,t.value,t)}))},t(Jt,G),Jt.prototype.entrySeq=function(){return this._iter.toSeq()},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){yn(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(N,t);return new L((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){yn(r);var o=a(r);return B(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Gt.prototype.cacheResult=Yt.prototype.cacheResult=Kt.prototype.cacheResult=Jt.prototype.cacheResult=wn,t(xn,ke),xn.prototype.toString=function(){return this.__toString(Pn(this)+" {","}")},xn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},xn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},xn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=On(this,ot()))},xn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Pn(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:On(this,n)},xn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:On(this,t)},xn.prototype.wasAltered=function(){return this._map.wasAltered()},xn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},xn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},xn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?On(this,t,e):(this.__ownerID=e,this._map=t,this)};var En=xn.prototype;function On(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Pn(e){return e._name||e.constructor.name||"Record"}function Mn(e,t){try{t.forEach(Cn.bind(void 0,e))}catch(n){}}function Cn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){be(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Dn(e){return null==e?zn():In(e)&&!l(e)?e:zn().withMutations((function(t){var n=i(e);$e(n.size),n.forEach((function(e){return t.add(e)}))}))}function In(e){return!(!e||!e[jn])}En[m]=En.remove,En.deleteIn=En.removeIn=Ge.removeIn,En.merge=Ge.merge,En.mergeWith=Ge.mergeWith,En.mergeIn=Ge.mergeIn,En.mergeDeep=Ge.mergeDeep,En.mergeDeepWith=Ge.mergeDeepWith,En.mergeDeepIn=Ge.mergeDeepIn,En.setIn=Ge.setIn,En.update=Ge.update,En.updateIn=Ge.updateIn,En.withMutations=Ge.withMutations,En.asMutable=Ge.asMutable,En.asImmutable=Ge.asImmutable,t(Dn,Ee),Dn.of=function(){return this(arguments)},Dn.fromKeys=function(e){return this(r(e).keySeq())},Dn.prototype.toString=function(){return this.__toString("Set {","}")},Dn.prototype.has=function(e){return this._map.has(e)},Dn.prototype.add=function(e){return Rn(this,this._map.set(e,!0))},Dn.prototype.remove=function(e){return Rn(this,this._map.remove(e))},Dn.prototype.clear=function(){return Rn(this,this._map.clear())},Dn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},Dn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},Dn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},Dn.prototype.merge=function(){return this.union.apply(this,arguments)},Dn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Dn.prototype.sort=function(e){return Fn(pn(this,e))},Dn.prototype.sortBy=function(e,t){return Fn(pn(this,t,e))},Dn.prototype.wasAltered=function(){return this._map.wasAltered()},Dn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},Dn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},Dn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Dn.isSet=In;var An,jn="@@__IMMUTABLE_SET__@@",Nn=Dn.prototype;function Rn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Tn(e,t){var n=Object.create(Nn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zn(){return An||(An=Tn(ot()))}function Fn(e){return null==e?$n():Ln(e)?e:$n().withMutations((function(t){var n=i(e);$e(n.size),n.forEach((function(e){return t.add(e)}))}))}function Ln(e){return In(e)&&l(e)}Nn[jn]=!0,Nn[m]=Nn.remove,Nn.mergeDeep=Nn.merge,Nn.mergeDeepWith=Nn.mergeWith,Nn.withMutations=Ge.withMutations,Nn.asMutable=Ge.asMutable,Nn.asImmutable=Ge.asImmutable,Nn.__empty=zn,Nn.__make=Tn,t(Fn,Dn),Fn.of=function(){return this(arguments)},Fn.fromKeys=function(e){return this(r(e).keySeq())},Fn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Fn.isOrderedSet=Ln;var Bn,Un=Fn.prototype;function qn(e,t){var n=Object.create(Un);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function $n(){return Bn||(Bn=qn(Wt()))}function Hn(e){return null==e?Jn():Wn(e)?e:Jn().unshiftAll(e)}function Wn(e){return!(!e||!e[Yn])}Un[d]=!0,Un.__empty=$n,Un.__make=qn,t(Hn,xe),Hn.of=function(){return this(arguments)},Hn.prototype.toString=function(){return this.__toString("Stack [","]")},Hn.prototype.get=function(e,t){var n=this._head;for(e=P(this,e);n&&e--;)n=n.next;return n?n.value:t},Hn.prototype.peek=function(){return this._head&&this._head.value},Hn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Kn(e,t)},Hn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;$e(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Kn(t,n)},Hn.prototype.pop=function(){return this.slice(1)},Hn.prototype.unshift=function(){return this.push.apply(this,arguments)},Hn.prototype.unshiftAll=function(e){return this.pushAll(e)},Hn.prototype.shift=function(){return this.pop.apply(this,arguments)},Hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Jn()},Hn.prototype.slice=function(e,t){if(C(e,t,this.size))return this;var n=D(e,this.size);if(I(t,this.size)!==this.size)return xe.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Kn(r,o)},Hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Kn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new L((function(){if(r){var t=r.value;return r=r.next,B(e,n++,t)}return U()}))},Hn.isStack=Wn;var Vn,Yn="@@__IMMUTABLE_STACK__@@",Gn=Hn.prototype;function Kn(e,t,n,r){var o=Object.create(Gn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Jn(){return Vn||(Vn=Kn(0))}function Qn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Gn[Yn]=!0,Gn.withMutations=Ge.withMutations,Gn.asMutable=Ge.asMutable,Gn.asImmutable=Ge.asImmutable,Gn.wasAltered=Ge.wasAltered,n.Iterator=L,Qn(n,{toArray:function(){$e(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Gt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Yt(this,!0)},toMap:function(){return He(this.toKeyedSeq())},toObject:function(){$e(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return qt(this.toKeyedSeq())},toOrderedSet:function(){return Fn(s(this)?this.valueSeq():this)},toSet:function(){return Dn(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Kt(this)},toSeq:function(){return u(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Hn(s(this)?this.valueSeq():this)},toList:function(){return xt(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,sn(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ve(t,e)}))},entries:function(){return this.__iterator(R)},every:function(e,t){$e(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return $e(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){$e(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(j)},map:function(e,t){return mn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,o;return $e(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,Xt(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(nr(e),t)},sort:function(e){return mn(this,pn(this,e))},values:function(){return this.__iterator(N)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return O(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return ge(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(tr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(nr(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(M)},flatMap:function(e,t){return mn(this,cn(this,e,t))},flatten:function(e){return mn(this,un(this,e,!0))},fromEntrySeq:function(){return new Jt(this)},get:function(e,t){return this.find((function(t,n){return ve(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=kn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,_):_)===_)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,_)!==_},hasIn:function(e){return this.getIn(e,_)!==_},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return ve(t,e)}))},keySeq:function(){return this.toSeq().map(er).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return fn(this,e)},maxBy:function(e,t){return fn(this,t,e)},min:function(e){return fn(this,e?rr(e):ar)},minBy:function(e,t){return fn(this,t?rr(t):ar,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(nr(e),t)},sortBy:function(e,t){return mn(this,pn(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,on(this,e,t))},takeUntil:function(e,t){return this.takeWhile(nr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=sr(this))}});var Zn=n.prototype;Zn[p]=!0,Zn[F]=Zn.values,Zn.__toJS=Zn.toArray,Zn.__toStringMapper=or,Zn.inspect=Zn.toSource=function(){return this.toString()},Zn.chain=Zn.flatMap,Zn.contains=Zn.includes,Qn(r,{flip:function(){return mn(this,Qt(this))},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var Xn=r.prototype;function er(e,t){return t}function tr(e,t){return[t,e]}function nr(e){return function(){return!e.apply(this,arguments)}}function rr(e){return function(){return-e.apply(this,arguments)}}function or(e){return"string"==typeof e?JSON.stringify(e):String(e)}function ir(){return E(arguments)}function ar(e,t){return e<t?1:e>t?-1:0}function sr(e){if(e.size===1/0)return 0;var t=l(e),n=s(e),r=t?1:0;return ur(e.__iterate(n?t?function(e,t){r=31*r+cr(Me(e),Me(t))|0}:function(e,t){r=r+cr(Me(e),Me(t))|0}:t?function(e){r=31*r+Me(e)|0}:function(e){r=r+Me(e)|0}),r)}function ur(e,t){return t=Oe(t,3432918353),t=Oe(t<<15|t>>>-15,461845907),t=Oe(t<<13|t>>>-13,5),t=Oe((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Pe((t=Oe(t^t>>>13,3266489909))^t>>>16)}function cr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Xn[f]=!0,Xn[F]=Zn.entries,Xn.__toJS=Zn.toObject,Xn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+or(e)},Qn(o,{toKeyedSeq:function(){return new Yt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,Xt(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=D(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(E(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return mn(this,un(this,e,!1))},get:function(e,t){return(e=P(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=P(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,ln(this,e))},interleave:function(){var e=[this].concat(E(arguments)),t=dn(this.toSeq(),K.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},keySeq:function(){return we(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,an(this,e,t,!1))},zip:function(){return mn(this,dn(this,ir,[this].concat(E(arguments))))},zipWith:function(e){var t=E(arguments);return t[0]=this,mn(this,dn(this,e,t))}}),o.prototype[h]=!0,o.prototype[d]=!0,Qn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Zn.includes,i.prototype.contains=i.prototype.includes,Qn(G,r.prototype),Qn(K,o.prototype),Qn(J,i.prototype),Qn(ke,r.prototype),Qn(xe,o.prototype),Qn(Ee,i.prototype),{Iterable:n,Seq:Y,Collection:Se,Map:He,OrderedMap:qt,List:xt,Stack:Hn,Set:Dn,OrderedSet:Fn,Record:xn,Range:we,Repeat:_e,is:ve,fromJS:he}}()},5826:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},3542:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r=n(5)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";e.exports=n(18)()?Symbol:n(20)},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateRange=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(_n=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);_n=!0);}catch(s){r=!0,o=s}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.extendMoment=function(e){return e.range=function(t,n){return p.hasOwnProperty(t)?new f(e(this).startOf(t),e(this).endOf(t)):new f(t,n)},e.rangeFromInterval=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e();if(e.isMoment(r)||(r=e(r)),!r.isValid())throw new Error("Invalid date.");var o=r.clone().add(n,t),i=[];return i.push(e.min(r,o)),i.push(e.max(r,o)),new f(i)},e.parseZoneRange=function(t){var n=h(t),r=e.parseZone(n[0]),o=e.parseZone(n[1]);return new f(r,o)},e.fn.range=e.range,e.range.constructor=f,e.isRange=function(e){return e instanceof f},e.fn.within=function(e){return e.contains(this.toDate())},e};var a=u(n(2)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},f=t.DateRange=function(){function e(t,n){l(this,e);var i=t,s=n;if(1===arguments.length||void 0===n)if("object"===(void 0===t?"undefined":o(t))&&2===t.length){var u=r(t,2);i=u[0],s=u[1]}else if("string"==typeof t){var c=h(t),p=r(c,2);i=p[0],s=p[1]}this.start=i||0===i?(0,a.default)(i):(0,a.default)(-864e13),this.end=s||0===s?(0,a.default)(s):(0,a.default)(864e13)}return i(e,[{key:"adjacent",value:function(e){var t=this.start.isSame(e.end),n=this.end.isSame(e.start);return t&&e.start.valueOf()<=this.start.valueOf()||n&&e.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1};return this.overlaps(e,t)?new this.constructor(a.default.min(this.start,e.start),a.default.max(this.end,e.end)):null}},{key:"by",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this;return c({},s.default.iterator,(function(){var r=t.exclusive||!1,o=t.step||1,i=Math.abs(n.start.diff(n.end,e))/o,a=0;return{next:function(){var t=n.start.clone().add(a*o,e),s=r?!(a<i):!(a<=i);return a++,{done:s,value:s?void 0:t}}}}))}},{key:"byRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this,r=t.step||1,o=this.valueOf()/e.valueOf()/r,i=t.exclusive||!1,u=Math.floor(o),l=0;return c({},s.default.iterator,(function(){return u===1/0?{done:!0}:{next:function(){var t=(0,a.default)(n.start.valueOf()+e.valueOf()*l*r),s=u===o&&i?!(l<u):!(l<=u);return l++,{done:s,value:s?void 0:t}}}}))}},{key:"center",value:function(){var e=this.start.valueOf()+this.diff()/2;return(0,a.default)(e)}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"contains",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1},r=this.start.valueOf(),o=this.end.valueOf(),i=t.valueOf(),a=t.valueOf();t instanceof e&&(i=t.start.valueOf(),a=t.end.valueOf());var s=r<i||r<=i&&!n.exclusive,u=o>a||o>=a&&!n.exclusive;return s&&u}},{key:"diff",value:function(e,t){return this.end.diff(this.start,e,t)}},{key:"duration",value:function(e,t){return this.diff(e,t)}},{key:"intersect",value:function(e){var t=this.start.valueOf(),n=this.end.valueOf(),r=e.start.valueOf(),o=e.end.valueOf();if(t==n){if(t==r||t==o)return null;if(t>r&&t<o)return this}else if(r==o){if(r==t||r==n)return null;if(r>t&&r<n)return e}return t<=r&&r<n&&n<o?new this.constructor(r,n):r<t&&t<o&&o<=n?new this.constructor(t,o):r<t&&t<=n&&n<o?this:t<=r&&r<=o&&o<=n?e:null}},{key:"isEqual",value:function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)}},{key:"isSame",value:function(e){return this.isEqual(e)}},{key:"overlaps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1},n=null!==this.intersect(e);return t.adjacent&&!n?this.adjacent(e):n}},{key:"reverseBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this;return c({},s.default.iterator,(function(){var r=t.exclusive||!1,o=t.step||1,i=Math.abs(n.start.diff(n.end,e))/o,a=0;return{next:function(){var t=n.end.clone().subtract(a*o,e),s=r?!(a<i):!(a<=i);return a++,{done:s,value:s?void 0:t}}}}))}},{key:"reverseByRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this,r=t.step||1,o=this.valueOf()/e.valueOf()/r,i=t.exclusive||!1,u=Math.floor(o),l=0;return c({},s.default.iterator,(function(){return u===1/0?{done:!0}:{next:function(){var t=(0,a.default)(n.end.valueOf()-e.valueOf()*l*r),s=u===o&&i?!(l<u):!(l<=u);return l++,{done:s,value:s?void 0:t}}}}))}},{key:"subtract",value:function(e){var t=this.start.valueOf(),n=this.end.valueOf(),r=e.start.valueOf(),o=e.end.valueOf();return null===this.intersect(e)?[this]:r<=t&&t<n&&n<=o?[]:r<=t&&t<o&&o<n?[new this.constructor(o,n)]:t<r&&r<n&&n<=o?[new this.constructor(t,r)]:t<r&&r<o&&o<n?[new this.constructor(t,r),new this.constructor(o,n)]:t<r&&r<n&&o<n?[new this.constructor(t,r),new this.constructor(r,n)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),e}();function h(e){return e.split("/")}},function(e,t,n){"use strict";var r,o=n(6),i=n(13),a=n(9),s=n(15);r=e.exports=function(e,t){var n,r,a,u,c;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(n=a=!0,r=!1):(n=s.call(e,"c"),r=s.call(e,"e"),a=s.call(e,"w")),c={value:t,configurable:n,enumerable:r,writable:a},u?o(i(u),c):c},r.gs=function(e,t,n){var r,u,c,l;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:a(t)?null==n?n=void 0:a(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(r=!0,u=!1):(r=s.call(e,"c"),u=s.call(e,"e")),l={get:t,set:n,configurable:r,enumerable:u},c?o(i(c),l):l}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";e.exports=n(7)()?Object.assign:n(8)},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(10),o=n(14),i=Math.max;e.exports=function(e,t){var n,a,s,u=i(arguments.length,2);for(e=Object(o(e)),s=function(r){try{e[r]=t[r]}catch(o){n||(n=o)}},a=1;a<u;++a)r(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(11)()?Object.keys:n(12)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(0),o=Object.keys;e.exports=function(e){return o(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r=n(0),o=Array.prototype.forEach,i=Object.create,a=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=i(null);return o.call(arguments,(function(e){r(e)&&a(Object(e),t)})),t}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";e.exports=n(16)()?String.prototype.contains:n(17)},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag]}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,n){"use strict";var r,o,i,a,s=n(4),u=n(21),c=Object.create,l=Object.defineProperties,p=Object.defineProperty,f=Object.prototype,h=c(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(y){}}var d,m=(d=c(null),function(e){for(var t,n,r=0;d[e+(r||"")];)++r;return d[e+=r||""]=!0,p(f,t="@@"+e,s.gs(null,(function(e){n||(n=!0,p(this,t,s(e)),n=!1)}))),t});i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return o(e)},e.exports=o=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?r(t):(n=c(i.prototype),t=void 0===t?"":String(t),l(n,{__description__:s("",t),__name__:s("",m(t))}))},l(o,{for:s((function(e){return h[e]?h[e]:h[e]=o(String(e))})),keyFor:s((function(e){var t;for(t in u(e),h)if(h[t]===e)return t})),hasInstance:s("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:s("",r&&r.iterator||o("iterator")),match:s("",r&&r.match||o("match")),replace:s("",r&&r.replace||o("replace")),search:s("",r&&r.search||o("search")),species:s("",r&&r.species||o("species")),split:s("",r&&r.split||o("split")),toPrimitive:s("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:s("",r&&r.toStringTag||o("toStringTag")),unscopables:s("",r&&r.unscopables||o("unscopables"))}),l(i.prototype,{constructor:s(o),toString:s("",(function(){return this.__name__}))}),l(o.prototype,{toString:s((function(){return"Symbol ("+u(this).__description__+")"})),valueOf:s((function(){return u(this)}))}),p(o.prototype,o.toPrimitive,s("",(function(){var e=u(this);return"symbol"==typeof e?e:e.toString()}))),p(o.prototype,o.toStringTag,s("c","Symbol")),p(i.prototype,o.toStringTag,s("c",o.prototype[o.toStringTag])),p(i.prototype,o.toPrimitive,s("c",o.prototype[o.toPrimitive]))},function(e,t,n){"use strict";var r=n(19);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}}])},e.exports=r(n(6292))},7418:e=>{"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,i){for(var a,s,u=o(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var p=0;p<s.length;p++)r.call(a,s[p])&&(u[s[p]]=a[s[p]])}}return u}},631:(e,t,n)=>{var r="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&o&&"function"==typeof o.get?o.get:null,a=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,p="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,g=String.prototype.slice,_=String.prototype.replace,b=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,k=Array.prototype.concat,x=Array.prototype.join,E=Array.prototype.slice,O=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,M=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,D="function"==typeof Symbol&&"object"==typeof Symbol.iterator,I="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||"symbol")?Symbol.toStringTag:null,A=Object.prototype.propertyIsEnumerable,j=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-O(-e):O(e);if(r!==e){var o=String(r),i=g.call(t,o.length+1);return _.call(o,n,"$&_")+"."+_.call(_.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(t,n,"$&_")}var R=n(4654).custom,T=R&&B(R)?R:null;function z(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function F(e){return _.call(String(e),/"/g,"&quot;")}function L(e){return!("[object Array]"!==$(e)||I&&"object"==typeof e&&I in e)}function B(e){if(D)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(t){}return!1}e.exports=function e(t,n,r,o){var s=n||{};if(q(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(q(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!q(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(q(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(q(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return W(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var b=String(t);return m?N(t,b):b}if("bigint"==typeof t){var S=String(t)+"n";return m?N(t,S):S}var O=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=O&&O>0&&"object"==typeof t)return L(t)?"[Array]":"[Object]";var M=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=x.call(Array(e.indent+1)," ")}return{base:n,prev:x.call(Array(t+1),n)}}(s,r);if(void 0===o)o=[];else if(H(o,t)>=0)return"[Circular]";function R(t,n,i){if(n&&(o=E.call(o)).push(n),i){var a={depth:s.depth};return q(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,o)}return e(t,s,r+1,o)}if("function"==typeof t){var U=function(e){if(e.name)return e.name;var t=v.call(y.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),V=Q(t,R);return"[Function"+(U?": "+U:" (anonymous)")+"]"+(V.length>0?" { "+x.call(V,", ")+" }":"")}if(B(t)){var Z=D?_.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(t);return"object"!=typeof t||D?Z:Y(Z)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var X="<"+w.call(String(t.nodeName)),ee=t.attributes||[],te=0;te<ee.length;te++)X+=" "+ee[te].name+"="+z(F(ee[te].value),"double",s);return X+=">",t.childNodes&&t.childNodes.length&&(X+="..."),X+="</"+w.call(String(t.nodeName))+">"}if(L(t)){if(0===t.length)return"[]";var ne=Q(t,R);return M&&!function(e){for(var t=0;t<e.length;t++)if(H(e[t],"\n")>=0)return!1;return!0}(ne)?"["+J(ne,M)+"]":"[ "+x.call(ne,", ")+" ]"}if(function(e){return!("[object Error]"!==$(e)||I&&"object"==typeof e&&I in e)}(t)){var re=Q(t,R);return"cause"in t&&!A.call(t,"cause")?"{ ["+String(t)+"] "+x.call(k.call("[cause]: "+R(t.cause),re),", ")+" }":0===re.length?"["+String(t)+"]":"{ ["+String(t)+"] "+x.call(re,", ")+" }"}if("object"==typeof t&&u){if(T&&"function"==typeof t[T])return t[T]();if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(X){return!0}return e instanceof Map}catch(t){}return!1}(t)){var oe=[];return a.call(t,(function(e,n){oe.push(R(n,t,!0)+" => "+R(e,t))})),K("Map",i.call(t),oe,M)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var ie=[];return l.call(t,(function(e){ie.push(R(e,t))})),K("Set",c.call(t),ie,M)}if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{f.call(e,f)}catch(X){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return G("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{p.call(e,p)}catch(X){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return G("WeakSet");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(t){}return!1}(t))return G("WeakRef");if(function(e){return!("[object Number]"!==$(e)||I&&"object"==typeof e&&I in e)}(t))return Y(R(Number(t)));if(function(e){if(!e||"object"!=typeof e||!P)return!1;try{return P.call(e),!0}catch(t){}return!1}(t))return Y(R(P.call(t)));if(function(e){return!("[object Boolean]"!==$(e)||I&&"object"==typeof e&&I in e)}(t))return Y(d.call(t));if(function(e){return!("[object String]"!==$(e)||I&&"object"==typeof e&&I in e)}(t))return Y(R(String(t)));if(!function(e){return!("[object Date]"!==$(e)||I&&"object"==typeof e&&I in e)}(t)&&!function(e){return!("[object RegExp]"!==$(e)||I&&"object"==typeof e&&I in e)}(t)){var ae=Q(t,R),se=j?j(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",ce=!se&&I&&Object(t)===t&&I in t?g.call($(t),8,-1):ue?"Object":"",le=(se||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ce||ue?"["+x.call(k.call([],ce||[],ue||[]),": ")+"] ":"");return 0===ae.length?le+"{}":M?le+"{"+J(ae,M)+"}":le+"{ "+x.call(ae,", ")+" }"}return String(t)};var U=Object.prototype.hasOwnProperty||function(e){return e in this};function q(e,t){return U.call(e,t)}function $(e){return m.call(e)}function H(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function W(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return W(g.call(e,0,t.maxStringLength),t)+r}return z(_.call(_.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,V),"single",t)}function V(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function Y(e){return"Object("+e+")"}function G(e){return e+" { ? }"}function K(e,t,n,r){return e+" ("+t+") {"+(r?J(n,r):x.call(n,", "))+"}"}function J(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+x.call(e,","+n)+"\n"+t.prev}function Q(e,t){var n=L(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=q(e,o)?t(e[o],e):""}var i,a="function"==typeof M?M(e):[];if(D){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var u in e)q(e,u)&&(n&&String(Number(u))===u&&u<e.length||D&&i["$"+u]instanceof Symbol||(S.call(/[^\w$]/,u)?r.push(t(u,e)+": "+t(e[u],e)):r.push(u+": "+t(e[u],e))));if("function"==typeof M)for(var c=0;c<a.length;c++)A.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},4779:(e,t,n)=>{var r=n(5826);e.exports=h,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=o.exec(e));){var p=n[0],f=n[1],h=n.index;if(s+=e.slice(a,h),a=h+p.length,f)s+=f[1];else{var d=e[a],m=n[2],y=n[3],v=n[4],g=n[5],_=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=d&&d!==m,S="+"===_||"*"===_,k="?"===_||"*"===_,x=n[2]||l,E=v||g;r.push({name:y||i++,prefix:m||"",delimiter:x,optional:k,repeat:S,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+u(x)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",p(t)));return function(t,o){for(var i="",s=t||{},u=(o||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var p,f=s[l.name];if(null==f){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(p=u(f[h]),!n[c].test(p))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(p)+"`");i+=(0===h?l.prefix:l.delimiter)+p}}else{if(p=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(p))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+p+'"');i+=l.prefix+p}}else i+=l}return i}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=u(c);else{var f=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+f+h+")*"),a+=h=c.optional?c.partial?f+"("+h+")?":"(?:"+f+"("+h+"))?":f+"("+h+")"}}var d=u(n.delimiter||"/"),m=a.slice(-d.length)===d;return o||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=i?"$":o&&m?"":"(?="+d+"|$)",l(new RegExp("^"+a,p(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(h(e[o],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return f(i(e,n),t,n)}(e,t,n)}},2703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5798:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",o="RFC3986";e.exports={default:o,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:o}},129:(e,t,n)=>{"use strict";var r=n(8261),o=n(5235),i=n(5798);e.exports={formats:i,parse:o,stringify:r}},5235:(e,t,n)=>{"use strict";var r=n(2769),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},u=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),c=s?i.slice(0,s.index):i,l=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;l.push(c)}for(var p=0;n.depth>0&&null!==(s=a.exec(i))&&p<n.depth;){if(p+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+i.slice(s.index)+"]"),function(e,t,n,r){for(var o=r?t:u(t,n),i=e.length-1;i>=0;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(o);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(c,10);n.parseArrays||""!==c?!isNaN(l)&&s!==c&&String(l)===c&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[])[l]=o:"__proto__"!==c&&(a[c]=o):a={0:o}}o=a}return o}(l,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var n,c={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,p=t.parameterLimit===1/0?void 0:t.parameterLimit,f=l.split(t.delimiter,p),h=-1,d=t.charset;if(t.charsetSentinel)for(n=0;n<f.length;++n)0===f[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[n]?d="utf-8":"utf8=%26%2310003%3B"===f[n]&&(d="iso-8859-1"),h=n,n=f.length);for(n=0;n<f.length;++n)if(n!==h){var m,y,v=f[n],g=v.indexOf("]="),_=-1===g?v.indexOf("="):g+1;-1===_?(m=t.decoder(v,a.decoder,d,"key"),y=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,_),a.decoder,d,"key"),y=r.maybeMap(u(v.slice(_+1),t),(function(e){return t.decoder(e,a.decoder,d,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===d&&(y=s(y)),v.indexOf("[]=")>-1&&(y=i(y)?[y]:y),o.call(c,m)?c[m]=r.combine(c[m],y):c[m]=y}return c}(e,n):e,p=n.plainObjects?Object.create(null):{},f=Object.keys(l),h=0;h<f.length;++h){var d=f[h],m=c(d,l[d],n,"string"==typeof e);p=r.merge(p,m,n)}return!0===n.allowSparse?p:r.compact(p)}},8261:(e,t,n)=>{"use strict";var r=n(7478),o=n(2769),i=n(5798),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},u=Array.isArray,c=String.prototype.split,l=Array.prototype.push,p=function(e,t){l.apply(e,u(t)?t:[t])},f=Date.prototype.toISOString,h=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:h,formatter:i.formatters[h],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},m={},y=function e(t,n,i,a,s,l,f,h,y,v,g,_,b,w,S){for(var k,x=t,E=S,O=0,P=!1;void 0!==(E=E.get(m))&&!P;){var M=E.get(t);if(O+=1,void 0!==M){if(M===O)throw new RangeError("Cyclic object value");P=!0}void 0===E.get(m)&&(O=0)}if("function"==typeof f?x=f(n,x):x instanceof Date?x=v(x):"comma"===i&&u(x)&&(x=o.maybeMap(x,(function(e){return e instanceof Date?v(e):e}))),null===x){if(a)return l&&!b?l(n,d.encoder,w,"key",g):n;x=""}if("string"==typeof(k=x)||"number"==typeof k||"boolean"==typeof k||"symbol"==typeof k||"bigint"==typeof k||o.isBuffer(x)){if(l){var C=b?n:l(n,d.encoder,w,"key",g);if("comma"===i&&b){for(var D=c.call(String(x),","),I="",A=0;A<D.length;++A)I+=(0===A?"":",")+_(l(D[A],d.encoder,w,"value",g));return[_(C)+"="+I]}return[_(C)+"="+_(l(x,d.encoder,w,"value",g))]}return[_(n)+"="+_(String(x))]}var j,N=[];if(void 0===x)return N;if("comma"===i&&u(x))j=[{value:x.length>0?x.join(",")||null:void 0}];else if(u(f))j=f;else{var R=Object.keys(x);j=h?R.sort(h):R}for(var T=0;T<j.length;++T){var z=j[T],F="object"==typeof z&&void 0!==z.value?z.value:x[z];if(!s||null!==F){var L=u(x)?"function"==typeof i?i(n,z):n:n+(y?"."+z:"["+z+"]");S.set(t,O);var B=r();B.set(m,S),p(N,e(F,L,i,a,s,l,f,h,y,v,g,_,b,w,B))}}return N};e.exports=function(e,t){var n,o=e,c=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!a.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],o=d.filter;return("function"==typeof e.filter||u(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:void 0===e.delimiter?d.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:d.encode,encoder:"function"==typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"==typeof c.filter?o=(0,c.filter)("",o):u(c.filter)&&(n=c.filter);var l,f=[];if("object"!=typeof o||null===o)return"";l=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=s[l];n||(n=Object.keys(o)),c.sort&&n.sort(c.sort);for(var m=r(),v=0;v<n.length;++v){var g=n[v];c.skipNulls&&null===o[g]||p(f,y(o[g],g,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var _=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),_.length>0?b+_:""}},2769:(e,t,n)=>{"use strict";var r=n(5798),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],a=o.obj[o.prop],s=Object.keys(a),u=0;u<s.length;++u){var c=s[u],l=a[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(t.push({obj:a,prop:c}),n.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(o){return r}},encode:function(e,t,n,o,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var u="",c=0;c<s.length;++c){var l=s.charCodeAt(c);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||i===r.RFC1738&&(40===l||41===l)?u+=s.charAt(c):l<128?u+=a[l]:l<2048?u+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?u+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(c+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(c)),u+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return u},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(i(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=s(t,r)),i(t)&&i(n)?(n.forEach((function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t}),a)}}},6781:e=>{"use strict";var t=Object.prototype.hasOwnProperty;function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function r(e,r){if(n(e,r))return!0;if("object"!=typeof e||null===e||"object"!=typeof r||null===r)return!1;var o=Object.keys(e),i=Object.keys(r);if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(!t.call(r,o[a])||!n(e[o[a]],r[o[a]]))return!1;return!0}e.exports={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}}},3784:(e,t,n)=>{"use strict";var r=_(n(9196)),o=_(n(5697)),i=_(n(2555)),a=_(n(2053)),s=_(n(3393)),u=_(n(614)),c=_(n(4298)),l=_(n(9395)),p=_(n(9295)),f=_(n(8733)),h=_(n(6403)),d=_(n(8331)),m=_(n(5682)),y=_(n(7826)),v=n(7305),g=_(n(6781));function _(e){return e&&e.__esModule?e:{default:e}}var b=(0,a.default)(new Date(-432e13)).startOf("day"),w=(0,a.default)(new Date(432e13)).startOf("day");function S(){}(0,i.default)({mixins:[c.default,g.default],displayName:"DateRangePicker",propTypes:{bemBlock:o.default.string,bemNamespace:o.default.string,className:o.default.string,dateStates:o.default.array,defaultState:o.default.string,disableNavigation:o.default.bool,firstOfWeek:o.default.oneOf([0,1,2,3,4,5,6]),helpMessage:o.default.string,initialDate:o.default.instanceOf(Date),initialFromValue:o.default.bool,initialMonth:o.default.number,initialRange:o.default.object,initialYear:o.default.number,locale:o.default.string,maximumDate:o.default.instanceOf(Date),minimumDate:o.default.instanceOf(Date),numberOfCalendars:o.default.number,onHighlightDate:o.default.func,onHighlightRange:o.default.func,onSelect:o.default.func,onSelectStart:o.default.func,paginationArrowComponent:o.default.func,selectedLabel:o.default.string,selectionType:o.default.oneOf(["single","range"]),singleDateRange:o.default.bool,showLegend:o.default.bool,stateDefinitions:o.default.object,value:l.default.momentOrMomentRange},getDefaultProps:function(){var e=new Date;return{bemNamespace:null,bemBlock:"DateRangePicker",className:"",numberOfCalendars:1,firstOfWeek:0,disableNavigation:!1,nextLabel:"",previousLabel:"",initialDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()),initialFromValue:!0,locale:(0,a.default)().locale(),selectionType:"range",singleDateRange:!1,stateDefinitions:{__default:{color:null,selectable:!0,label:null}},selectedLabel:"Your selected dates",defaultState:"__default",dateStates:[],showLegend:!1,onSelect:S,paginationArrowComponent:d.default}},componentWillReceiveProps:function(e){var t=this.getDateStates(e),n=this.getEnabledRange(e),r={selectedStartDate:null,hideSelection:!1,dateStates:this.state.dateStates&&s.default.is(this.state.dateStates,t)?this.state.dateStates:t,enabledRange:this.state.enabledRange&&this.state.enabledRange.isSame(n)?this.state.enabledRange:n};if((0,y.default)(this.props,e)&&(!e.value||!this.isStartOrEndVisible(e))){var o=(0,v.getYearMonthProps)(e);r.year=o.year,r.month=o.month}this.setState(r)},getInitialState:function(){var e=new Date,t=this.props,n=t.initialYear,r=t.initialMonth,o=t.initialFromValue,i=t.value,s=e.getFullYear(),u=e.getMonth();if(Number.isInteger(n)&&Number.isInteger(r)&&(s=n,u=r),o&&(a.default.isMoment(i)||(0,m.default)(i))){var c=(0,v.getYearMonthProps)(this.props);u=c.month,s=c.year}return{year:s,month:u,selectedStartDate:null,highlightedDate:null,highlightRange:null,hideSelection:!1,enabledRange:this.getEnabledRange(this.props),dateStates:this.getDateStates(this.props)}},getEnabledRange:function(e){var t=e.minimumDate?(0,a.default)(e.minimumDate).startOf("day"):b,n=e.maximumDate?(0,a.default)(e.maximumDate).startOf("day"):w;return a.default.range(t,n)},getDateStates:function(e){var t=e.dateStates,n=e.defaultState,r=e.stateDefinitions,o=[],i=b,u=w,c=(0,a.default)(i).startOf("day"),l=s.default.fromJS(r);return t.forEach((function(e){var t=e.range,r=t.start.startOf("day"),i=t.end.startOf("day");c.isSame(r,"day")||o.push({state:n,range:a.default.range(c,r)}),o.push(e),c=i})),o.push({state:n,range:a.default.range(c,u)}),s.default.List(o).map((function(e){var t=l.get(e.state);return s.default.Map({range:e.range,state:e.state,selectable:t.get("selectable",!0),color:t.get("color")})}))},isDateDisabled:function(e){return!this.state.enabledRange.contains(e)},isDateSelectable:function(e){return this.dateRangesForDate(e).some((function(e){return e.get("selectable")}))},nonSelectableStateRanges:function(){return this.state.dateStates.filter((function(e){return!e.get("selectable")}))},dateRangesForDate:function(e){return this.state.dateStates.filter((function(t){return t.get("range").contains(e)}))},sanitizeRange:function(e,t){var n=this.nonSelectableStateRanges().map((function(e){return e.get("range")})),r=void 0;if(t){if(r=n.find((function(t){return e.intersect(t)})))return a.default.range(e.start,r.start)}else if(r=n.findLast((function(t){return e.intersect(t)})))return a.default.range(r.end,e.end);return e.start.isBefore(this.state.enabledRange.start)?a.default.range(this.state.enabledRange.start,e.end):e.end.isAfter(this.state.enabledRange.end)?a.default.range(e.start,this.state.enabledRange.end):e},highlightRange:function(e){this.setState({highlightedRange:e,highlightedDate:null}),"function"==typeof this.props.onHighlightRange&&this.props.onHighlightRange(e,this.statesForRange(e))},onUnHighlightDate:function(){this.setState({highlightedDate:null})},onSelectDate:function(e){var t=this.props.selectionType,n=this.state.selectedStartDate;"range"===t?n?this.completeRangeSelection():e&&!this.isDateDisabled(e)&&this.isDateSelectable(e)&&(this.startRangeSelection(e),this.props.singleDateRange&&this.highlightRange(a.default.range(e,e))):!this.isDateDisabled(e)&&this.isDateSelectable(e)&&this.completeSelection()},onHighlightDate:function(e){var t=this.props.selectionType,n=this.state.selectedStartDate,r=void 0,o=void 0,i=void 0;"range"===t&&n?(r=s.default.List.of(n,e).sortBy((function(e){return e.unix()})),i=(o=a.default.range(r.get(0),r.get(1))).start.unix()===n.unix(),o=this.sanitizeRange(o,i),this.highlightRange(o)):!this.isDateDisabled(e)&&this.isDateSelectable(e)&&this.highlightDate(e)},startRangeSelection:function(e){this.setState({hideSelection:!0,selectedStartDate:e}),"function"==typeof this.props.onSelectStart&&this.props.onSelectStart((0,a.default)(e))},statesForDate:function(e){return this.state.dateStates.filter((function(t){return e.within(t.get("range"))})).map((function(e){return e.get("state")}))},statesForRange:function(e){return e.start.isSame(e.end,"day")?this.statesForDate(e.start):this.state.dateStates.filter((function(t){return t.get("range").intersect(e)})).map((function(e){return e.get("state")}))},completeSelection:function(){var e=this.state.highlightedDate;e&&(this.setState({hideSelection:!1,highlightedDate:null}),this.props.onSelect(e,this.statesForDate(e)))},completeRangeSelection:function(){var e=this.state.highlightedRange;!e||e.start.isSame(e.end,"day")&&!this.props.singleDateRange||(this.setState({selectedStartDate:null,highlightedRange:null,highlightedDate:null,hideSelection:!1}),this.props.onSelect(e,this.statesForRange(e)))},highlightDate:function(e){this.setState({highlightedDate:e}),"function"==typeof this.props.onHighlightDate&&this.props.onHighlightDate(e,this.statesForDate(e))},getMonthDate:function(){return(0,a.default)(new Date(this.state.year,this.state.month,1))},isStartOrEndVisible:function(e){var t=this,n=e.value,r=e.selectionType,o=e.numberOfCalendars,i=function(e){var n=(0,v.getYearMonth)(e),r=n.year===t.state.year,i=n.month===t.state.month||2===o&&n.month-1===t.state.month;return r&&i};return"single"===r?i(n):i(n.start)||i(n.end)},canMoveBack:function(){return!this.getMonthDate().subtract(1,"days").isBefore(this.state.enabledRange.start)},moveBack:function(){var e=void 0;this.canMoveBack()&&((e=this.getMonthDate()).subtract(1,"months"),this.setState((0,v.getYearMonth)(e)))},canMoveForward:function(){return!this.getMonthDate().add(this.props.numberOfCalendars,"months").isAfter(this.state.enabledRange.end)},moveForward:function(){var e=void 0;this.canMoveForward()&&((e=this.getMonthDate()).add(1,"months"),this.setState((0,v.getYearMonth)(e)))},changeYear:function(e){var t=this.state,n=t.enabledRange,r=t.month;(0,a.default)({years:e,months:r,date:1}).unix()<n.start.unix()&&(r=n.start.month()),(0,a.default)({years:e,months:r+1,date:1}).unix()>n.end.unix()&&(r=n.end.month()),this.setState({year:e,month:r})},changeMonth:function(e){this.setState({month:e})},rangesOverlap:function(e,t){return!!(e.overlaps(t)||e.contains(t.start)||e.contains(t.end))},renderCalendar:function(e){var t,n=this.props,o=n.bemBlock,i=n.bemNamespace,c=n.firstOfWeek,l=n.numberOfCalendars,p=n.selectionType,d=n.value,y=this.state,v=y.dateStates,g=y.enabledRange,_=y.hideSelection,b=y.highlightedDate,w=y.highlightedRange,S=this.getMonthDate(),k=e+"-"+S.year()+"-"+S.month();S.add(e,"months");var x=new u.default.Calendar(c),E=s.default.fromJS(x.monthDates(S.year(),S.month())),O=E.first().first(),P=E.last().last(),M=a.default.range(O,P);return(a.default.isMoment(d)&&!M.contains(d)||(0,m.default)(d)&&!this.rangesOverlap(M,d))&&(d=null),a.default.isMoment(b)&&M.contains(b)||(b=null),(0,m.default)(w)&&this.rangesOverlap(M,w)||(w=null),t={bemBlock:o,bemNamespace:i,dateStates:v,enabledRange:g,firstOfWeek:c,hideSelection:_,highlightedDate:b,highlightedRange:w,index:e,key:k,selectionType:p,value:d,maxIndex:l-1,firstOfMonth:S,onMonthChange:this.changeMonth,onYearChange:this.changeYear,onSelectDate:this.onSelectDate,onHighlightDate:this.onHighlightDate,onUnHighlightDate:this.onUnHighlightDate,dateRangesForDate:this.dateRangesForDate,dateComponent:h.default,locale:this.props.locale},r.default.createElement(f.default,t)},render:function(){var e=this.props,t=e.paginationArrowComponent,n=e.className,o=e.numberOfCalendars,i=e.stateDefinitions,a=e.selectedLabel,u=e.showLegend,c=e.helpMessage,l=s.default.Range(0,o).map(this.renderCalendar);return n=this.cx({element:null})+" "+n,r.default.createElement("div",{className:n.trim()},r.default.createElement(t,{direction:"previous",onTrigger:this.moveBack,disabled:!this.canMoveBack()}),l.toJS(),r.default.createElement(t,{direction:"next",onTrigger:this.moveForward,disabled:!this.canMoveForward()}),c?r.default.createElement("span",{className:this.cx({element:"HelpMessage"})},c):null,u?r.default.createElement(p.default,{stateDefinitions:i,selectedLabel:a}):null)}})},9295:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(9196)),o=u(n(5697)),i=u(n(2555)),a=u(n(4298)),s=u(n(6781));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)({mixins:[a.default,s.default],displayName:"Legend",propTypes:{selectedLabel:o.default.string.isRequired,stateDefinitions:o.default.object.isRequired},render:function(){var e=this.props,t=e.selectedLabel,n=e.stateDefinitions,o=[],i=void 0,a=void 0,s=void 0;for(i in n)(a=n[i]).label&&a.color&&(s={backgroundColor:a.color},o.push(r.default.createElement("li",{className:this.cx({element:"LegendItem"}),key:i},r.default.createElement("span",{className:this.cx({element:"LegendItemColor"}),style:s}),r.default.createElement("span",{className:this.cx({element:"LegendItemLabel"})},a.label))));return r.default.createElement("ul",{className:this.cx()},r.default.createElement("li",{className:this.cx({element:"LegendItem"})},r.default.createElement("span",{className:this.cx({element:"LegendItemColor",modifiers:{selection:!0}})}),r.default.createElement("span",{className:this.cx({element:"LegendItemLabel"})},t)),o)}});t.default=c},8331:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(9196)),i=c(n(5697)),a=c(n(2555)),s=c(n(4298)),u=c(n(6781));function c(e){return e&&e.__esModule?e:{default:e}}var l=(0,a.default)({mixins:[s.default,u.default],displayName:"PaginationArrow",propTypes:{disabled:i.default.bool,onTrigger:i.default.func,direction:i.default.oneOf(["next","previous"])},getDefaultProps:function(){return{disabled:!1}},render:function(){var e,t,n,i=this.props,a=i.disabled,s=i.direction,u=i.onTrigger,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["disabled","direction","onTrigger"]),l=(n=!0,(t=s)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),p={disabled:a},f={modifiers:l,states:p},h={element:"PaginationArrowIcon",modifiers:l,states:p};return o.default.createElement("div",r({className:this.cx(f)},c,{onClick:u}),o.default.createElement("div",{className:this.cx(h)}))}});t.default=l},6403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(9196)),o=d(n(5697)),i=d(n(2555)),a=d(n(3393)),s=d(n(4298)),u=d(n(9395)),c=d(n(8664)),l=d(n(2614)),p=d(n(6475)),f=d(n(213)),h=d(n(7979));function d(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.default)({mixins:[s.default,c.default],displayName:"CalendarDate",propTypes:{date:u.default.moment,firstOfMonth:o.default.object.isRequired,isSelectedDate:o.default.bool,isSelectedRangeStart:o.default.bool,isSelectedRangeEnd:o.default.bool,isInSelectedRange:o.default.bool,isHighlightedDate:o.default.bool,isHighlightedRangeStart:o.default.bool,isHighlightedRangeEnd:o.default.bool,isInHighlightedRange:o.default.bool,highlightedDate:o.default.object,dateStates:o.default.instanceOf(a.default.List),isDisabled:o.default.bool,isToday:o.default.bool,dateRangesForDate:o.default.func,onHighlightDate:o.default.func,onUnHighlightDate:o.default.func,onSelectDate:o.default.func},getInitialState:function(){return{mouseDown:!1}},componentWillUnmount:function(){this.isUnmounted=!0,document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("touchend",this.touchEnd)},mouseUp:function(){this.props.onSelectDate(this.props.date),this.isUnmounted||(this.state.mouseDown&&this.setState({mouseDown:!1}),document.removeEventListener("mouseup",this.mouseUp))},mouseDown:function(){this.setState({mouseDown:!0}),document.addEventListener("mouseup",this.mouseUp)},touchEnd:function(){event.preventDefault(),this.props.onHighlightDate(this.props.date),this.props.onSelectDate(this.props.date),this.isUnmounted||(this.state.mouseDown&&this.setState({mouseDown:!1}),document.removeEventListener("touchend",this.touchEnd))},touchStart:function(e){e.preventDefault(),this.setState({mouseDown:!0}),document.addEventListener("touchend",this.touchEnd)},mouseEnter:function(){this.props.onHighlightDate(this.props.date)},mouseLeave:function(){this.state.mouseDown&&(this.props.onSelectDate(this.props.date),this.setState({mouseDown:!1})),this.props.onUnHighlightDate(this.props.date)},getBemModifiers:function(){var e=this.props,t=e.date,n=e.firstOfMonth,r=e.isToday,o=!1,i=!1;return t.month()!==n.month()&&(o=!0),0!==t.day()&&6!==t.day()||(i=!0),{today:r,weekend:i,otherMonth:o}},getBemStates:function(){var e=this.props,t=e.isSelectedDate,n=e.isInSelectedRange,r=e.isInHighlightedRange,o=e.isHighlightedDate;return{disabled:e.isDisabled,highlighted:o,selected:t||n||r}},render:function(){var e=this.props,t=e.date,n=e.dateRangesForDate,o=e.isSelectedDate,i=e.isSelectedRangeStart,a=e.isSelectedRangeEnd,s=e.isInSelectedRange,u=e.isHighlightedDate,c=e.isHighlightedRangeStart,d=e.isHighlightedRangeEnd,m=e.isInHighlightedRange,y=this.getBemModifiers(),v=this.getBemStates(),g=m,_=void 0,b=void 0,w=void 0,S=n(t),k=S.count(),x={},E={},O=void 0,P=void 0;return o||i&&a||c&&d?P="single":i||c?P="start":a||d?P="end":(s||m)&&(P="segment"),u&&(O="single"),1===k?(_=S.getIn([0,"color"]))&&(E={backgroundColor:_},x={borderLeftColor:(0,l.default)(_,-10),borderRightColor:(0,l.default)(_,-10)}):(b=S.getIn([0,"color"]),w=S.getIn([1,"color"]),b&&(x.borderLeftColor=(0,l.default)(b,-10)),w&&(x.borderRightColor=(0,l.default)(w,-10))),r.default.createElement("td",{className:this.cx({element:"Date",modifiers:y,states:v}),style:x,onTouchStart:this.touchStart,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,onMouseDown:this.mouseDown},k>1&&r.default.createElement("div",{className:this.cx({element:"HalfDateStates"})},r.default.createElement(p.default,{period:"am",color:b}),r.default.createElement(p.default,{period:"pm",color:w})),1===k&&r.default.createElement("div",{className:this.cx({element:"FullDateStates"}),style:E}),r.default.createElement("span",{className:this.cx({element:"DateLabel"})},t.format("D")),P?r.default.createElement(h.default,{modifier:P,pending:g}):null,O?r.default.createElement(f.default,{modifier:O}):null)}});t.default=m},6475:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(9196)),o=u(n(5697)),i=u(n(2555)),a=u(n(4298)),s=u(n(8664));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)({mixins:[a.default,s.default],displayName:"CalendarDatePeriod",propTypes:{color:o.default.string,period:o.default.string},render:function(){var e,t,n,o=this.props,i=o.color,a=o.period,s=(n=!0,(t=a)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),u=void 0;return i&&(u={backgroundColor:i}),r.default.createElement("div",{style:u,className:this.cx({modifiers:s})})}});t.default=c},213:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(9196)),o=u(n(5697)),i=u(n(2555)),a=u(n(4298)),s=u(n(8664));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)({mixins:[a.default,s.default],displayName:"CalendarHighlight",propTypes:{modifier:o.default.string},render:function(){var e,t,n,o=this.props.modifier,i=(n=!0,(t=o)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return r.default.createElement("div",{className:this.cx({states:{},modifiers:i})})}});t.default=c},8733:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=d(n(9196)),i=d(n(5697)),a=d(n(2555)),s=d(n(2053)),u=d(n(614)),c=d(n(3393)),l=d(n(4298)),p=d(n(9395)),f=d(n(5682)),h=d(n(8664));function d(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({mixins:[l.default,h.default],displayName:"CalendarMonth",propTypes:{dateComponent:i.default.func,disableNavigation:i.default.bool,enabledRange:p.default.momentRange,firstOfMonth:p.default.moment,firstOfWeek:i.default.oneOf([0,1,2,3,4,5,6]),hideSelection:i.default.bool,highlightedDate:i.default.object,highlightedRange:i.default.object,onMonthChange:i.default.func,onYearChange:i.default.func,value:p.default.momentOrMomentRange,locale:i.default.string},setLocale:function(e){s.default.locale(e),this.WEEKDAYS=c.default.List(s.default.weekdays()).zip(c.default.List(s.default.weekdaysShort())),this.MONTHS=c.default.List(s.default.months())},componentWillMount:function(){var e=this.props.locale;this.setLocale(e)},componentWillReceiveProps:function(e){var t=e.locale;t!==this.props.locale&&this.setLocale(t)},renderDay:function(e,t){var n=this.props,i=n.dateComponent,a=n.value,u=n.highlightedDate,c=n.highlightedRange,l=n.hideSelection,p=n.enabledRange,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["dateComponent","value","highlightedDate","highlightedRange","hideSelection","enabledRange"]),d=(0,s.default)(e).locale(this.props.locale),m=void 0,y=void 0,v=void 0,g=void 0;return!l&&a&&s.default.isMoment(a)&&a.isSame(d,"day")?y=!0:!l&&a&&(0,f.default)(a)&&a.contains(d)&&(m=!0,v=a.start.isSame(d,"day"),g=a.end.isSame(d,"day")),o.default.createElement(i,r({key:t,isToday:d.isSame((0,s.default)(),"day"),isDisabled:!p.contains(d),isHighlightedDate:!(!u||!u.isSame(d,"day")),isHighlightedRangeStart:!(!c||!c.start.isSame(d,"day")),isHighlightedRangeEnd:!(!c||!c.end.isSame(d,"day")),isInHighlightedRange:!(!c||!c.contains(d)),isSelectedDate:y,isSelectedRangeStart:v,isSelectedRangeEnd:g,isInSelectedRange:m,date:d},h))},renderWeek:function(e,t){var n=e.map(this.renderDay);return o.default.createElement("tr",{className:this.cx({element:"Week"}),key:t},n.toJS())},renderDayHeaders:function(){var e=this.props.firstOfWeek,t=c.default.Range(e,7).concat(c.default.Range(0,e)).map(function(e){var t=this.WEEKDAYS.get(e);return o.default.createElement("th",{className:this.cx({element:"WeekdayHeading"}),key:t,scope:"col"},o.default.createElement("abbr",{title:t[0]},t[1]))}.bind(this));return o.default.createElement("tr",{className:this.cx({element:"Weekdays"})},t.toJS())},handleYearChange:function(e){this.props.onYearChange(parseInt(e.target.value,10))},renderYearChoice:function(e){var t=this.props.enabledRange;return e<t.start.year()||e>t.end.year()?null:o.default.createElement("option",{key:e,value:e},(0,s.default)(e,"YYYY").locale(this.props.locale).format("YYYY"))},renderHeaderYear:function(){var e=this.props.firstOfMonth,t=e.year(),n=c.default.Range(t-5,t).concat(c.default.Range(t,t+10)).map(this.renderYearChoice);return o.default.createElement("span",{className:this.cx({element:"MonthHeaderLabel",modifiers:{year:!0}})},e.locale(this.props.locale).format("YYYY"),this.props.disableNavigation?null:o.default.createElement("select",{className:this.cx({element:"MonthHeaderSelect"}),value:t,onChange:this.handleYearChange},n.toJS()))},handleMonthChange:function(e){this.props.onMonthChange(parseInt(e.target.value,10))},renderMonthChoice:function(e,t){var n=this.props,r=n.firstOfMonth,i=n.enabledRange,a=!1,u=r.year();return(0,s.default)({years:u,months:t+1,date:1}).unix()<i.start.unix()&&(a=!0),(0,s.default)({years:u,months:t,date:1}).unix()>i.end.unix()&&(a=!0),o.default.createElement("option",{key:e,value:t,disabled:a?"disabled":null},e)},renderHeaderMonth:function(){var e=this.props.firstOfMonth,t=this.MONTHS.map(this.renderMonthChoice);return o.default.createElement("span",{className:this.cx({element:"MonthHeaderLabel",modifiers:{month:!0}})},e.locale(this.props.locale).format("MMMM"),this.props.disableNavigation?null:o.default.createElement("select",{className:this.cx({element:"MonthHeaderSelect"}),value:e.month(),onChange:this.handleMonthChange},t.toJS()))},renderHeader:function(){return o.default.createElement("div",{className:this.cx({element:"MonthHeader"})},this.renderHeaderMonth()," ",this.renderHeaderYear())},render:function(){var e=this.props,t=e.firstOfWeek,n=e.firstOfMonth,r=new u.default.Calendar(t),i=c.default.fromJS(r.monthDates(n.year(),n.month())).map(this.renderWeek);return o.default.createElement("div",{className:this.cx({element:"Month"})},this.renderHeader(),o.default.createElement("table",{className:this.cx({element:"MonthDates"})},o.default.createElement("thead",null,this.renderDayHeaders()),o.default.createElement("tbody",null,i.toJS())))}});t.default=m},7979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(9196)),o=u(n(5697)),i=u(n(2555)),a=u(n(4298)),s=u(n(8664));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)({mixins:[a.default,s.default],displayName:"CalendarSelection",propTypes:{modifier:o.default.string,pending:o.default.bool.isRequired},render:function(){var e,t,n,o=this.props,i=o.modifier,a=o.pending,s=(n=!0,(t=i)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),u={pending:a};return r.default.createElement("div",{className:this.cx({states:u,modifiers:s})})}});t.default=c},2053:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(6292),i=(r=o)&&r.__esModule?r:{default:r};var a=(0,n(3542).extendMoment)(i.default);t.default=a},4298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(3976)),o=i(n(5697));function i(e){return e&&e.__esModule?e:{default:e}}var a={propTypes:{bemNamespace:o.default.string,bemBlock:o.default.string},contextTypes:{bemNamespace:o.default.string,bemBlock:o.default.string},childContextTypes:{bemNamespace:o.default.string,bemBlock:o.default.string},getChildContext:function(){return{bemNamespace:this.getBemNamespace(),bemBlock:this.getBemBlock()}},getBemNamespace:function(){return this.props.bemNamespace?this.props.bemNamespace:this.context.bemNamespace?this.context.bemNamespace:null},getBemBlock:function(){return this.props.bemBlock?this.props.bemBlock:this.context.bemBlock?this.context.bemBlock:null},cx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={namespace:this.getBemNamespace(),element:this.constructor.displayName,block:this.getBemBlock()};return Object.assign(t,e),(0,r.default)(t)}};t.default=a},9395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2053)),o=i(n(5682));function i(e){return e&&e.__esModule?e:{default:e}}t.default={momentOrMomentRange:function(e,t){var n=e[t];return n?r.default.isMoment(n)||(0,o.default)(n)?null:new Error("'"+t+"' must be a moment or a moment range"):null},moment:function(e,t){var n=e[t];return n?r.default.isMoment(n)?null:new Error("'"+t+"' must be a moment"):null},momentRange:function(e,t){var n=e[t];return n?(0,o.default)(n)?null:new Error("'"+t+"' must be a moment range"):null}}},8664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(9918),i=(r=o)&&r.__esModule?r:{default:r};var a={shouldComponentUpdate:function(e,t){return!(0,i.default)(this.props,e)||!(0,i.default)(this.state,t)}};t.default=a},7172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!(0,i.default)(e)||!(0,i.default)(t))return!1;return e.start.isSame(t.start,"day")&&e.end.isSame(t.end,"day")};var r,o=n(5682),i=(r=o)&&r.__esModule?r:{default:r}},7756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return!(!i.default.isMoment(e)||!i.default.isMoment(t))&&e.isSame(t)};var r,o=n(2053),i=(r=o)&&r.__esModule?r:{default:r}},3976:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.block,r=e.element,o=e.namespace,i=e.modifiers,a=e.states,s=[],u=void 0;u=r?o?o+"-"+t+"__"+r:t+"__"+r:o?o+"-"+t:t;s.push(u),a&&("object"===(void 0===a?"undefined":n(a))&&(a=Object.keys(a).filter((function(e){return a[e]}))),a.forEach((function(e){s.push(u+"--is-"+e)})));i&&("object"===(void 0===i?"undefined":n(i))&&(i=Object.keys(i).filter((function(e){return i[e]}))),i.forEach((function(e){s.push(u+"--"+e),a&&a.forEach((function(t){s.push(u+"--"+e+"--is-"+t)}))})));return s.join(" ")}},7305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getYearMonthProps=void 0,t.getYearMonth=a;var r=i(n(2053)),o=i(n(5682));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(r.default.isMoment(e))return{year:e.year(),month:e.month()}}t.getYearMonthProps=function(e){var t=e.selectionType,n=e.value,i=e.initialYear,s=e.initialMonth;return r.default.isMoment(n)||(0,o.default)(n)?a("single"===t?n:n.start):{year:i,month:s}}},7826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.value,i=t.value;return!(n===i||(0,o.default)(n,i)||(0,r.default)(n,i))};var r=i(n(7172)),o=i(n(7756));function i(e){return e&&e.__esModule?e:{default:e}}},5682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&e.start&&e.end&&i.default.isMoment(e.start)&&i.default.isMoment(e.end)};var r,o=n(2053),i=(r=o)&&r.__esModule?r:{default:r}},2614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r=!1,o=void 0,i=void 0,a=void 0;"#"===e[0]&&(e=e.slice(1),r=!0);n=parseInt(e,16),(o=(n>>16)+t)>255?o=255:o<0&&(o=0);(i=(n>>8&255)+t)>255?i=255:i<0&&(i=0);(a=(255&n)+t)>255?a=255:a<0&&(a=0);return(r?"#":"")+(a|i<<8|o<<16).toString(16)}},9918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(2053)),o=a(n(7172)),i=a(n(5682));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(r.default.isMoment(e[n])&&r.default.isMoment(t[n])){if(!e[n].isSame(t[n],"day"))return!1}else if((0,i.default)(e[n])&&(0,i.default)(t[n])){if(!(0,o.default)(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}},86:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case p:case i:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case y:case m:case u:return e;default:return t}}case o:return t}}}function S(e){return w(e)===p}},663:(e,t,n)=>{"use strict";n(86)},5251:(e,t,n)=>{"use strict";
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */n(7418);var r=n(9196),o=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),t.Fragment=i("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:l,props:i,_owner:a.current}}t.jsx=c,t.jsxs=c},5893:(e,t,n)=>{"use strict";e.exports=n(5251)},7478:(e,t,n)=>{"use strict";var r=n(210),o=n(1924),i=n(631),a=r("%TypeError%"),s=r("%WeakMap%",!0),u=r("%Map%",!0),c=o("WeakMap.prototype.get",!0),l=o("WeakMap.prototype.set",!0),p=o("WeakMap.prototype.has",!0),f=o("Map.prototype.get",!0),h=o("Map.prototype.set",!0),d=o("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+i(e))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return c(e,r)}else if(u){if(t)return f(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(e)return p(e,r)}else if(u){if(t)return d(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,o){s&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new s),l(e,r,o)):u?(t||(t=new u),h(t,r,o)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,o))}};return r}},9196:e=>{"use strict";e.exports=window.React},6292:e=>{"use strict";e.exports=window.moment},4654:()=>{}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r);var e={};function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(e),n.d(e,{BrowserRouter:()=>Fn,HashRouter:()=>Ln,Link:()=>Wn,MemoryRouter:()=>hn,NavLink:()=>Gn,Prompt:()=>mn,Redirect:()=>bn,Route:()=>xn,Router:()=>fn,StaticRouter:()=>Dn,Switch:()=>In,generatePath:()=>gn,matchPath:()=>kn,useHistory:()=>Nn,useLocation:()=>Rn,useParams:()=>Tn,useRouteMatch:()=>zn,withRouter:()=>An});const o=window.wp.element,i=window.wp.i18n,a=window.wp.compose,s=window.wp.data,u=window.wp.plugins,c=window.wp.editPost;var __=i.__,_n=i._n,l=function(e){return e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return"#"+t+t+n+n+r+r})).substring(1).match(/.{2}/g).map((function(e){return parseInt(e,16)}))},p=function(e){var t;return-1<((null===(t=window.newspack_popups_data)||void 0===t?void 0:t.overlay_placements)||[]).indexOf(e)},f=function(e){var t,n=(null===(t=window.newspack_popups_data)||void 0===t?void 0:t.custom_placements)||{};return-1<Object.keys(n).indexOf(e)};function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function m(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const y=window.wp.components,v=window.lodash;function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var b=n(4184),w=n.n(b),S=["layout","label","help","onChange","size"],k=i.__;const x=function(e){var t=e.layout,n=e.label,r=e.help,i=e.onChange,a=e.size,s=function(e,t){if(null==e)return{};var n,r,o=_(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,S),u="full-width"===a?[{value:"top",label:k("Top","newspack-popups")},{value:"center",label:k("Center","newspack-popups")},{value:"bottom",label:k("Bottom","newspack-popups")}]:[{value:"top_left",label:k("Top Left","newspack-popups")},{value:"top",label:k("Top Center","newspack-popups")},{value:"top_right",label:k("Top Right","newspack-popups")},{value:"center_left",label:k("Center Left","newspack-popups")},{value:"center",label:k("Center","newspack-popups")},{value:"center_right",label:k("Center Right","newspack-popups")},{value:"bottom_left",label:k("Bottom Left","newspack-popups")},{value:"bottom",label:k("Bottom Center","newspack-popups")},{value:"bottom_right",label:k("Bottom Right","newspack-popups")}];return(0,o.createElement)("div",{className:w()("newspack-popups-css-grid-selector","size-"+a)},(0,o.createElement)("p",{className:"components-base-control__label"},n),(0,o.createElement)(y.ButtonGroup,g({"aria-label":k("Select Position","newspack-popups")},s),u.map((function(e,n){var r=e.label,a=e.value;return(0,o.createElement)(y.Tooltip,{text:r,key:"grid-tooltip-".concat(n)},(0,o.createElement)("div",{className:a===t?"is-selected":null},(0,o.createElement)(y.Button,{isSmall:!0,isSecondary:a!==t,isPrimary:a===t,onClick:function(){i(a)}})))}))),(0,o.createElement)("p",{className:"components-base-control__help"},r))};var E=i.__;const O=function(e){var t,n,r,a=e.display_title,s=e.hide_border,u=e.frequency,c=e.onMetaFieldChange,l=e.placement,h=e.overlay_size,d=e.trigger_type,g=e.trigger_delay,_=e.trigger_scroll_progress,b=e.trigger_blocks_count,w=e.archive_insertion_posts_count,S=e.archive_insertion_is_repeating,k=e.isOverlay,O=e.archive_page_types,P=void 0===O?[]:O,M=function(e){c("placement",e),p(e)&&"always"===u&&c("frequency","once")},C=(null===(t=window.newspack_popups_data)||void 0===t?void 0:t.custom_placements)||{},D=(null===(n=window.newspack_popups_data)||void 0===n?void 0:n.popup_size_options)||{},I=(null===(r=window.newspack_popups_data)||void 0===r?void 0:r.available_archive_page_types)||[],A=function(e){if(f(e.placement)){var t,n=(null===(t=window.newspack_popups_data)||void 0===t?void 0:t.custom_placements)||{};return(0,i.sprintf)(__("The prompt will appear where %s is inserted using the Custom Placement block.","newspack-popups"),n[e.placement]||__("this custom placement","newspack-popups"))}switch(e.placement){case"center":return __("The prompt will be displayed as an overlay at the center of the viewport.","newspack-popups");case"center_left":return __("The prompt will be displayed as an overlay at the center left of the viewport.","newspack-popups");case"center_right":return __("The prompt will be displayed as an overlay at the center right of the viewport.","newspack-popups");case"top":return __("The prompt will be displayed as an overlay at the top of the viewport.","newspack-popups");case"top_left":return __("The prompt will be displayed as an overlay at the top left of the viewport.","newspack-popups");case"top_right":return __("The prompt will be displayed as an overlay at the top right of the viewport.","newspack-popups");case"bottom":return __("The prompt will be displayed as an overlay at the bottom of the viewport.","newspack-popups");case"bottom_left":return __("The prompt will be displayed as an overlay at the bottom left of the viewport.","newspack-popups");case"bottom_right":return __("The prompt will be displayed as an overlay at the bottom right of the viewport.","newspack-popups");case"above_header":return __("The prompt will be automatically inserted at the very top of the page, above the header.","newspack-popups");case"inline":return"blocks_count"===e.trigger_type?(0,i.sprintf)(_n("The prompt will be automatically inserted after %s block of content.","The prompt will be automatically inserted after %s blocks of content.",e.trigger_blocks_count,"newspack-popups"),e.trigger_blocks_count):(0,i.sprintf)(__("The prompt will be automatically inserted about %s into article content.","newspack-popups"),e.trigger_scroll_progress+"%");case"archives":return e.archive_insertion_is_repeating?(0,i.sprintf)(__("The prompt will be automatically inserted every %d articles in the archive pages.","newspack-popups"),e.archive_insertion_posts_count):(0,i.sprintf)(__("The prompt will be automatically inserted after %d articles in the archive pages.","newspack-popups"),e.archive_insertion_posts_count);case"manual":return __("The prompt will appear only where inserted using the Single Prompt block or a shortcode.","newspack-popups");default:return __("The placement where the prompt can appear.","newspack-popups")}}(e);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.RadioControl,{className:"newspack-popups__prompt-type-control",label:E("Prompt type","newspack-popups"),selected:k?"center":"inline",options:[{label:E("Inline","newspack-popups"),value:"inline"},{label:E("Overlay","newspack-popups"),value:"center"}],onChange:M}),k?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.SelectControl,{label:E("Size","newspack-popups"),value:h,onChange:function(e){c("overlay_size",e),"full-width"===e&&function(){switch(l){case"top_left":case"top_right":c("placement","top");break;case"center_left":case"center_right":c("placement","center");break;case"bottom_left":case"bottom_right":c("placement","bottom")}}()},options:D}),(0,o.createElement)(x,{layout:l,label:E("Position","newspack-popups"),help:A,value:l,onChange:M,size:h})):(0,o.createElement)(y.SelectControl,{label:E("Placement"),help:A,value:l,onChange:M,options:[{value:"inline",label:E("In article content","newspack-popups")},{value:"archives",label:E("In archive pages")},{value:"above_header",label:E("Above site header","newspack-popups")},{value:"manual",label:E("Manual only","newspack-popups")}].concat(Object.keys(C).map((function(e){return{value:e,label:C[e]}})))}),k&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.SelectControl,{label:E("Trigger","newspack-popups"),help:E("The event to trigger the prompt.","newspack-popups"),value:d,options:[{label:E("Timer","newspack-popups"),value:"time"},{label:E("Scroll Progress","newspack-popups"),value:"scroll"}],onChange:function(e){return c("trigger_type",e)}}),"scroll"===d?(0,o.createElement)(y.RangeControl,{label:E("Scroll Progress (percent)","newspack-popups"),value:_,onChange:function(e){return c("trigger_scroll_progress",e)},min:1,max:100}):(0,o.createElement)(y.RangeControl,{label:E("Delay (seconds)","newspack-popups"),value:g,onChange:function(e){return c("trigger_delay",e)},min:0,max:60})),"inline"===l&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.SelectControl,{label:E("Insertion position","newspack-popups"),help:E("The position at which to insert the prompt.","newspack-popups"),value:d,options:[{label:E("Percentage","newspack-popups"),value:"scroll"},{label:E("Blocks Count","newspack-popups"),value:"blocks_count"}],onChange:function(e){return c("trigger_type",e)}}),"blocks_count"===d?(0,o.createElement)(y.RangeControl,{label:E("Number of blocks before the prompt","newspack-popups"),value:b,onChange:function(e){return c("trigger_blocks_count",e)},min:0}):(0,o.createElement)(y.RangeControl,{label:E("Approximate Position (in percent)","newspack-popups"),value:_,onChange:function(e){return c("trigger_scroll_progress",e)},min:0,max:100})),"archives"===l&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.RangeControl,{label:E("Number of articles before prompt","newspack-popups"),value:w,onChange:function(e){return c("archive_insertion_posts_count",e)},min:1,max:20}),(0,o.createElement)("div",{className:"newspack-popups__prompt-type-control"},(0,o.createElement)("legend",{className:"components-base-control__legend"},E("Archive Page Types","newspack-popups")),I.map((function(e){var t=e.name,n=e.label;return(0,o.createElement)(y.CheckboxControl,{key:t,label:n,checked:P.indexOf(t)>-1,onChange:function(e){c("archive_page_types",e?[].concat(m(P),[t]):(0,v.without)(P,t))}})}))),(0,o.createElement)(y.ToggleControl,{label:E("Repeat prompt","newspack-popups"),checked:S,onChange:function(e){return c("archive_insertion_is_repeating",e)}})),(0,o.createElement)(y.ToggleControl,{label:E("Display Prompt Title","newspack-popups"),checked:a,onChange:function(e){return c("display_title",e)}}),(-1<["inline","above_header","archives"].indexOf(l)||function(e){return"manual"===e}(l)||f(l))&&(0,o.createElement)(y.ToggleControl,{label:E("Hide Prompt Border","newspack-popups"),checked:s,onChange:function(e){return c("hide_border",e)}}))};var P=i.__;const M=function(e){var t=e.frequency,n=e.onMetaFieldChange,r=e.isOverlay,i=e.utm_suppression;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.SelectControl,{label:P("Frequency"),value:t,onChange:function(e){return n("frequency",e)},options:[{value:"once",label:P("Once","newspack-popups")},{value:"daily",label:P("Once a day","newspack-popups")},{value:"always",label:P("Until dismissed","newspack-popups"),disabled:r}]}),(0,o.createElement)(y.TextControl,{label:P("UTM Suppression"),help:P("Readers arriving at the site via URLs with this utm_source parameter will never be shown the prompt."),value:i,placeholder:P("utm_campaign_name","newspack"),onChange:function(e){return n("utm_suppression",e)}}))};function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],_n=!0,a=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);_n=!0);}catch(s){a=!0,o=s}finally{try{_n||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=i.__,_x=i._x,I=[{id:"",name:D("Everyone","newspack-popups")}],A=window&&window.newspack_popups_data&&window.newspack_popups_data.segments.concat(I)||I;const j=function(e){var t=e.onMetaFieldChange,n=e.selected_segment_id,r=C((0,o.useState)([]),2),a=r[0],s=r[1];return(0,o.useEffect)((function(){s(n?n.split(","):[])}),[n]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.BaseControl,{className:"newspack-popups__segmentation-sidebar",help:n?(0,i.sprintf)(D("The prompt will be shown only to readers who match the selected segment%s.","newspack-popups"),1===a.length?"":_x("s","plural modifier for segment","newspack-popups")):D("The prompt will be shown to all readers.","newspack-popups")},0<A.length&&(0,o.createElement)(y.FormTokenField,{value:[],onChange:function(e){var n=A.find((function(t){return t.name===e[0]}));if(n)return n.id?(a.push(n.id),t("selected_segment_id",a.join(","))):t("selected_segment_id","")},suggestions:A.filter((function(e){return-1===a.indexOf(e.id)})).map((function(e){return e.name})),label:D("Search Segments","newspack-popups")}),A.map((function(e){var n=a.indexOf(e.id),r=n>-1;return(0,o.createElement)(y.CheckboxControl,{key:e.id,value:e.id,label:e.name,onChange:function(){return e.id?(r?a.splice(n,1):a.push(e.id),t("selected_segment_id",a.join(","))):t("selected_segment_id","")},checked:e.id?r:0===a.length})}))),(0,o.createElement)(y.ExternalLink,{href:"/wp-admin/admin.php?page=newspack-popups-wizard#/segments",key:"segmentation-link"},D("Manage segments","newspack-popups")))};var N=i.__;const R=function(e){var t=e.dismiss_text,n=e.dismiss_text_alignment,r=e.onMetaFieldChange,i=e.placement,a=e.undismissible_prompt;return(0,o.createElement)(o.Fragment,null,!p(i)&&(0,o.createElement)(y.ToggleControl,{checked:!a,onChange:function(){return r("undismissible_prompt",!a)},label:N("Allow this prompt to be dismissed","newspack-popups")}),(p(i)||!a)&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.TextControl,{label:N("Label","newspack-popups"),help:N("When clicked, this button will permanently dismiss the prompt for the current reader.","newspack-popups"),value:t,onChange:function(e){return r("dismiss_text",e)}}),(0,o.createElement)(y.SelectControl,{label:N("Alignment","newspack-popups"),id:"newspack-popups-dimiss-button-alignment",onChange:function(e){return r("dismiss_text_alignment",e)},value:n,options:[{label:N("Center","newspack-popups"),value:""},{label:N("Left","newspack-popups"),value:"left"},{label:N("Right","newspack-popups"),value:"right"}]})))},T=window.wp.blockEditor;var z=i.__;const F=function(e){var t=e.background_color,n=e.onMetaFieldChange,r=e.overlay_opacity,i=e.overlay_color,a=e.isOverlay;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(T.ColorPaletteControl,{value:t,onChange:function(e){return n("background_color",e||"#FFFFFF")},label:z("Background Color")}),a&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(T.ColorPaletteControl,{value:i,onChange:function(e){return n("overlay_color",e||"#000000")},label:z("Overlay Color")}),(0,o.createElement)(y.RangeControl,{label:z("Overlay opacity"),value:r,onChange:function(e){return n("overlay_opacity",e)},min:0,max:100})))},L=window.wp.htmlEntities,B=window.wp.apiFetch;var U=n.n(B);const q=window.wp.url;const $=function(e){let{icon:t,size:n=24,...r}=e;return(0,o.cloneElement)(t,{width:n,height:n,...r})},H=window.wp.primitives,W=(0,o.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(H.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));var V=n(9196),Y=n.n(V);var G=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),K=Math.abs,J=String.fromCharCode;function Q(e){return e.trim()}function Z(e,t,n){return e.replace(t,n)}function X(e,t){return e.indexOf(t)}function ee(e,t){return 0|e.charCodeAt(t)}function te(e,t,n){return e.slice(t,n)}function ne(e){return e.length}function re(e){return e.length}function oe(e,t){return t.push(e),e}var ie=1,ae=1,se=0,ue=0,ce=0,le="";function pe(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:ie,column:ae,length:a,return:""}}function fe(e,t,n){return pe(e,t.root,t.parent,n,t.props,t.children,0)}function he(){return ce=ue>0?ee(le,--ue):0,ae--,10===ce&&(ae=1,ie--),ce}function de(){return ce=ue<se?ee(le,ue++):0,ae++,10===ce&&(ae=1,ie++),ce}function me(){return ee(le,ue)}function ye(){return ue}function ve(e,t){return te(le,e,t)}function ge(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _e(e){return ie=ae=1,se=ne(le=e),ue=0,[]}function be(e){return le="",e}function we(e){return Q(ve(ue-1,xe(91===e?e+2:40===e?e+1:e)))}function Se(e){for(;(ce=me())&&ce<33;)de();return ge(e)>2||ge(ce)>3?"":" "}function ke(e,t){for(;--t&&de()&&!(ce<48||ce>102||ce>57&&ce<65||ce>70&&ce<97););return ve(e,ye()+(t<6&&32==me()&&32==de()))}function xe(e){for(;de();)switch(ce){case e:return ue;case 34:case 39:return xe(34===e||39===e?e:ce);case 40:41===e&&xe(e);break;case 92:de()}return ue}function Ee(e,t){for(;de()&&e+ce!==57&&(e+ce!==84||47!==me()););return"/*"+ve(t,ue-1)+"*"+J(47===e?e:de())}function Oe(e){for(;!ge(me());)de();return ve(e,ue)}var Pe="-ms-",Me="-moz-",Ce="-webkit-",De="comm",Ie="rule",Ae="decl";function je(e,t){for(var n="",r=re(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Ne(e,t,n,r){switch(e.type){case"@import":case Ae:return e.return=e.return||e.value;case De:return"";case Ie:e.value=e.props.join(",")}return ne(n=je(e.children,r))?e.return=e.value+"{"+n+"}":""}function Re(e,t){switch(function(e,t){return(((t<<2^ee(e,0))<<2^ee(e,1))<<2^ee(e,2))<<2^ee(e,3)}(e,t)){case 5103:return Ce+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+e+Me+e+Pe+e+e;case 6828:case 4268:return Ce+e+Pe+e+e;case 6165:return Ce+e+Pe+"flex-"+e+e;case 5187:return Ce+e+Z(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Ce+e+Pe+"flex-item-"+Z(e,/flex-|-self/,"")+e;case 4675:return Ce+e+Pe+"flex-line-pack"+Z(e,/align-content|flex-|-self/,"")+e;case 5548:return Ce+e+Pe+Z(e,"shrink","negative")+e;case 5292:return Ce+e+Pe+Z(e,"basis","preferred-size")+e;case 6060:return Ce+"box-"+Z(e,"-grow","")+Ce+e+Pe+Z(e,"grow","positive")+e;case 4554:return Ce+Z(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Z(Z(Z(e,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),e,"")+e;case 5495:case 3959:return Z(e,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return Z(Z(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+e+e;case 4095:case 3583:case 4068:case 2532:return Z(e,/(.+)-inline(.+)/,Ce+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ne(e)-1-t>6)switch(ee(e,t+1)){case 109:if(45!==ee(e,t+4))break;case 102:return Z(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Me+(108==ee(e,t+3)?"$3":"$2-$3"))+e;case 115:return~X(e,"stretch")?Re(Z(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ee(e,t+1))break;case 6444:switch(ee(e,ne(e)-3-(~X(e,"!important")&&10))){case 107:return Z(e,":",":"+Ce)+e;case 101:return Z(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ce+(45===ee(e,14)?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+Pe+"$2box$3")+e}break;case 5936:switch(ee(e,t+11)){case 114:return Ce+e+Pe+Z(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ce+e+Pe+Z(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ce+e+Pe+Z(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ce+e+Pe+e+e}return e}function Te(e){return be(ze("",null,null,null,[""],e=_e(e),0,[0],e))}function ze(e,t,n,r,o,i,a,s,u){for(var c=0,l=0,p=a,f=0,h=0,d=0,m=1,y=1,v=1,g=0,_="",b=o,w=i,S=r,k=_;y;)switch(d=g,g=de()){case 34:case 39:case 91:case 40:k+=we(g);break;case 9:case 10:case 13:case 32:k+=Se(d);break;case 92:k+=ke(ye()-1,7);continue;case 47:switch(me()){case 42:case 47:oe(Le(Ee(de(),ye()),t,n),u);break;default:k+="/"}break;case 123*m:s[c++]=ne(k)*v;case 125*m:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+l:h>0&&ne(k)-p&&oe(h>32?Be(k+";",r,n,p-1):Be(Z(k," ","")+";",r,n,p-2),u);break;case 59:k+=";";default:if(oe(S=Fe(k,t,n,c,l,o,s,_,b=[],w=[],p),i),123===g)if(0===l)ze(k,t,S,S,b,i,p,s,w);else switch(f){case 100:case 109:case 115:ze(e,S,S,r&&oe(Fe(e,S,S,0,0,o,s,_,o,b=[],p),w),o,w,p,s,r?b:w);break;default:ze(k,S,S,S,[""],w,p,s,w)}}c=l=h=0,m=v=1,_=k="",p=a;break;case 58:p=1+ne(k),h=d;default:if(m<1)if(123==g)--m;else if(125==g&&0==m++&&125==he())continue;switch(k+=J(g),g*m){case 38:v=l>0?1:(k+="\f",-1);break;case 44:s[c++]=(ne(k)-1)*v,v=1;break;case 64:45===me()&&(k+=we(de())),f=me(),l=ne(_=k+=Oe(ye())),g++;break;case 45:45===d&&2==ne(k)&&(m=0)}}return i}function Fe(e,t,n,r,o,i,a,s,u,c,l){for(var p=o-1,f=0===o?i:[""],h=re(f),d=0,m=0,y=0;d<r;++d)for(var v=0,g=te(e,p+1,p=K(m=a[d])),_=e;v<h;++v)(_=Q(m>0?f[v]+" "+g:Z(g,/&\f/g,f[v])))&&(u[y++]=_);return pe(e,t,n,0===o?Ie:s,u,c,l)}function Le(e,t,n){return pe(e,t,n,De,J(ce),te(e,2,-2),0)}function Be(e,t,n,r){return pe(e,t,n,Ae,te(e,0,r),te(e,r+1,-1),r)}var Ue=function(e,t,n){for(var r=0,o=0;r=o,o=me(),38===r&&12===o&&(t[n]=1),!ge(o);)de();return ve(e,ue)},qe=function(e,t){return be(function(e,t){var n=-1,r=44;do{switch(ge(r)){case 0:38===r&&12===me()&&(t[n]=1),e[n]+=Ue(ue-1,t,n);break;case 2:e[n]+=we(r);break;case 4:if(44===r){e[++n]=58===me()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=J(r)}}while(r=de());return e}(_e(e),t))},$e=new WeakMap,He=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||$e.get(n))&&!r){$e.set(e,!0);for(var o=[],i=qe(t,o),a=n.props,s=0,u=0;s<i.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},We=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Ve=[function(e,t,n,r){if(!e.return)switch(e.type){case Ae:e.return=Re(e.value,e.length);break;case"@keyframes":return je([fe(Z(e.value,"@","@"+Ce),e,"")],r);case Ie:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return je([fe(Z(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return je([fe(Z(t,/:(plac\w+)/,":-webkit-input-$1"),e,""),fe(Z(t,/:(plac\w+)/,":-moz-$1"),e,""),fe(Z(t,/:(plac\w+)/,Pe+"input-$1"),e,"")],r)}return""}))}}];const Ye=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Ve;var o,i,a={},s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var u,c,l,p,f=[Ne,(p=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&p(e)})],h=(c=[He,We].concat(r,f),l=re(c),function(e,t,n,r){for(var o="",i=0;i<l;i++)o+=c[i](e,t,n,r)||"";return o});i=function(e,t,n,r){u=n,je(Te(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new G({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return d.sheet.hydrate(s),d};const Ge=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};const Ke={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const Je=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}};var Qe=/[A-Z]|^ms/g,Ze=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Xe=function(e){return 45===e.charCodeAt(1)},et=function(e){return null!=e&&"boolean"!=typeof e},tt=Je((function(e){return Xe(e)?e:e.replace(Qe,"-$&").toLowerCase()})),nt=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Ze,(function(e,t,n){return ot={name:t,styles:n,next:ot},t}))}return 1===Ke[e]||Xe(e)||"number"!=typeof t||0===t?t:t+"px"};function rt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ot={name:n.name,styles:n.styles,next:ot},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)ot={name:r.name,styles:r.styles,next:ot},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=rt(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":et(a)&&(r+=tt(i)+":"+nt(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=rt(e,t,a);switch(i){case"animation":case"animationName":r+=tt(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var u=0;u<a.length;u++)et(a[u])&&(r+=tt(i)+":"+nt(i,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=ot,i=n(e);return ot=o,rt(e,t,i)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var ot,it=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var at={}.hasOwnProperty,st=(0,V.createContext)("undefined"!=typeof HTMLElement?Ye({key:"css"}):null);st.Provider;var ut=function(e){return(0,V.forwardRef)((function(t,n){var r=(0,V.useContext)(st);return e(t,r,n)}))},ct=(0,V.createContext)({});var lt="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",pt=function(e,t){var n={};for(var r in t)at.call(t,r)&&(n[r]=t[r]);return n[lt]=e,n},ft=function(){return null},ht=ut((function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[lt],i=[r],a="";"string"==typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,i,e.className):null!=e.className&&(a=e.className+" ");var s=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";ot=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=rt(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=rt(n,t,e[a]),r&&(o+=i[a]);it.lastIndex=0;for(var s,u="";null!==(s=it.exec(o));)u+="-"+s[1];return{name:Ge(o)+u,styles:o,next:ot}}(i,void 0,(0,V.useContext)(ct));!function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,s,"string"==typeof o);a+=t.key+"-"+s.name;var u={};for(var c in e)at.call(e,c)&&"css"!==c&&c!==lt&&(u[c]=e[c]);u.ref=n,u.className=a;var l=(0,V.createElement)(o,u),p=(0,V.createElement)(ft,null);return(0,V.createElement)(V.Fragment,null,p,l)}));var dt=n(8679),mt=n.n(dt),yt=n(5893);yt.Fragment;function vt(e,t,n){return at.call(t,"css")?(0,yt.jsx)(ht,pt(e,t),n):(0,yt.jsx)(e,t,n)}function gt(e,t,n){return at.call(t,"css")?(0,yt.jsxs)(ht,pt(e,t),n):(0,yt.jsxs)(e,t,n)}class _t extends o.Component{constructor(){super(...arguments),t(this,"backgroundImageStyles",(e=>e?{backgroundImage:`url(${e})`}:{}))}render(){const{badge:e,className:t,checkbox:n,children:r,disabled:o,title:i,description:a,handoff:s,editLink:u,href:c,notification:l,notificationLevel:p,notificationHTML:f,actionContent:h,actionText:d,secondaryActionText:m,image:v,imageLink:g,isSmall:_,isMedium:b,simple:S,onClick:k,onSecondaryActionClick:x,isWaiting:E,titleLink:O,toggleChecked:P,toggleOnChange:M,hasGreyHeader:C}=this.props,D=l||r,I=w()("newspack-action-card",S&&"newspack-card--is-clickable",C&&"newspack-card--has-grey-header",D&&"newspack-card--has-children",_&&"is-small",b&&"is-medium",t),A=!M||O||o?{}:{onClick:()=>M(!P),tabIndex:"0"},j=c&&0!==c.indexOf("http"),N=m&&x,R=!Array.isArray(e)&&e?[e]:e;return gt(tr,{className:I,onClick:S&&k,children:[gt("div",{className:"newspack-action-card__region newspack-action-card__region-top",children:[M&&vt(Qr,{checked:P,onChange:M,disabled:o}),v&&!M&&vt("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:vt("a",{href:g,children:vt("div",{className:"newspack-action-card__image",style:this.backgroundImageStyles(v)})})}),n&&!M&&vt("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:vt("span",{className:w()("newspack-checkbox-icon","is-primary","checked"===n&&"newspack-checkbox-icon--checked"),children:"checked"===n&&vt($,{icon:W})})}),gt("div",{className:"newspack-action-card__region newspack-action-card__region-center",children:[gt("h2",{children:[vt("span",{className:"newspack-action-card__title",...A,children:O?vt("a",{href:O,children:i}):i}),(null==R?void 0:R.length)&&R.map(((e,t)=>vt("span",{className:"newspack-action-card__badge",children:e},`badge-${t}`)))]}),gt("p",{children:["string"==typeof a&&a,"function"==typeof a&&a()]})]}),(d||N||h)&&gt("div",{className:"newspack-action-card__region newspack-action-card__region-right",children:[h&&h,d&&(s?vt(dr,{plugin:s,editLink:u,compact:!0,isLink:!0,children:d}):k||j?vt(Qn,{isLink:!0,href:c,onClick:k,className:"newspack-action-card__primary_button",children:d}):c?vt(y.ExternalLink,{href:c,className:"newspack-action-card__primary_button",children:d}):gt("div",{className:"newspack-action-card__container",children:[d,E&&vt(eo,{isRight:!0})]})),N&&vt(Qn,{isLink:!0,onClick:x,className:"newspack-action-card__secondary_button",children:m})]})]}),l&&gt("div",{className:"newspack-action-card__notification newspack-action-card__region-children",children:["error"===p&&vt(Or,{noticeText:l,isError:!0,rawHTML:f}),"info"===p&&vt(Or,{noticeText:l,rawHTML:f}),"success"===p&&vt(Or,{noticeText:l,isSuccess:!0,rawHTML:f}),"warning"===p&&vt(Or,{noticeText:l,isWarning:!0,rawHTML:f})]}),r&&vt("div",{className:"newspack-action-card__region-children",children:r})]})}}_t.defaultProps={toggleChecked:!1};const bt=_t;class wt extends o.Component{constructor(e){super(e),t(this,"isFetchingInfoOnLoad",(()=>{const{tokens:e,fetchSavedInfo:t}=this.props;return Boolean(e.length&&t)})),this.state={suggestions:[],validValues:{},loading:this.isFetchingInfoOnLoad()},this.debouncedUpdateSuggestions=(0,v.debounce)(this.updateSuggestions,500)}componentDidMount(){if(this.isFetchingInfoOnLoad()){const{tokens:e,fetchSavedInfo:t}=this.props;t(e).then((e=>{const{validValues:t}=this.state;e.forEach((e=>{t[e.value]=e.label})),this.setState({validValues:t,loading:!1})}))}}componentWillUnmount(){delete this.suggestionsRequest,this.debouncedUpdateSuggestions.cancel()}getLabelsForValues(e){const{validValues:t}=this.state;return e.reduce(((e,n)=>n?n.label?[...e,n.label]:t[n]?[...e,t[n]]:e:e),[])}getValuesForLabels(e){const{returnFullObjects:t}=this.props,{validValues:n}=this.state;return t?e.reduce(((e,t)=>(Object.keys(n).forEach((r=>{n[r]===t&&e.push({value:r,label:t})})),e)),[]):e.map((e=>Object.keys(n).find((t=>n[t]===e))))}updateSuggestions(e){const{fetchSuggestions:t}=this.props;t&&this.setState({loading:!0},(()=>{const n=t(e);n.then((e=>{if(this.suggestionsRequest!==n)return;const t=[...e],r={};e.forEach((e=>{r[e.value]=e.label})),this.setState({suggestions:t,validValues:r,loading:!1})})).catch((()=>{this.suggestionsRequest===n&&this.setState({loading:!1})})),this.suggestionsRequest=n}))}handleOnChange(e){const{onChange:t}=this.props;t(this.getValuesForLabels(e))}getTokens(){const{tokens:e}=this.props;return this.getLabelsForValues(e)}render(){const{help:e,label:t="",maxLength:n}=this.props,{suggestions:r,loading:o}=this.state;return gt("div",{className:"newspack-autocomplete-tokenfield",children:[vt(y.FormTokenField,{value:this.getTokens(),suggestions:r.map((e=>e.label)),onChange:e=>this.handleOnChange(e),onInputChange:e=>this.debouncedUpdateSuggestions(e),label:t,maxLength:n}),o&&vt(y.Spinner,{}),e&&vt("p",{className:"newspack-autocomplete-tokenfield__help",children:e})]})}}const St=wt;function kt(e,t){return kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kt(e,t)}function xt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kt(e,t)}var Et=n(5697),Ot=n.n(Et);function Pt(e){return"/"===e.charAt(0)}function Mt(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}const Ct=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&Pt(e),a=t&&Pt(t),s=i||a;if(e&&Pt(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var u=o[o.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=o.length;l>=0;l--){var p=o[l];"."===p?Mt(o,l):".."===p?(Mt(o,l),c++):c&&(Mt(o,l),c--)}if(!s)for(;c--;c)o.unshift("..");!s||""===o[0]||o[0]&&Pt(o[0])||o.unshift("");var f=o.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};function Dt(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const It=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=Dt(t),o=Dt(n);return r!==t||o!==n?e(r,o):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var At="Invariant failed";function jt(e,t){if(!e)throw new Error(At)}function Nt(e){return"/"===e.charAt(0)?e:"/"+e}function Rt(e){return"/"===e.charAt(0)?e.substr(1):e}function Tt(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function zt(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Ft(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function Lt(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=g({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(i){throw i instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):i}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=Ct(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function Bt(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Ut=!("undefined"==typeof window||!window.document||!window.document.createElement);function qt(e,t){t(window.confirm(e))}var $t="popstate",Ht="hashchange";function Wt(){try{return window.history.state||{}}catch(e){return{}}}function Vt(e){void 0===e&&(e={}),Ut||jt(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,u=i.getUserConfirmation,c=void 0===u?qt:u,l=i.keyLength,p=void 0===l?6:l,f=e.basename?zt(Nt(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return f&&(i=Tt(i,f)),Lt(i,r,n)}function d(){return Math.random().toString(36).substr(2,p)}var m=Bt();function y(e){g(C,e),C.length=n.length,m.notifyListeners(C.location,C.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(h(e.state))}function _(){w(h(Wt()))}var b=!1;function w(e){if(b)b=!1,y();else{m.confirmTransitionTo(e,"POP",c,(function(t){t?y({action:"POP",location:e}):function(e){var t=C.location,n=k.indexOf(t.key);-1===n&&(n=0);var r=k.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(b=!0,E(o))}(e)}))}}var S=h(Wt()),k=[S.key];function x(e){return f+Ft(e)}function E(e){n.go(e)}var O=0;function P(e){1===(O+=e)&&1===e?(window.addEventListener($t,v),o&&window.addEventListener(Ht,_)):0===O&&(window.removeEventListener($t,v),o&&window.removeEventListener(Ht,_))}var M=!1;var C={length:n.length,action:"POP",location:S,createHref:x,push:function(e,t){var o="PUSH",i=Lt(e,t,d(),C.location);m.confirmTransitionTo(i,o,c,(function(e){if(e){var t=x(i),a=i.key,u=i.state;if(r)if(n.pushState({key:a,state:u},null,t),s)window.location.href=t;else{var c=k.indexOf(C.location.key),l=k.slice(0,c+1);l.push(i.key),k=l,y({action:o,location:i})}else window.location.href=t}}))},replace:function(e,t){var o="REPLACE",i=Lt(e,t,d(),C.location);m.confirmTransitionTo(i,o,c,(function(e){if(e){var t=x(i),a=i.key,u=i.state;if(r)if(n.replaceState({key:a,state:u},null,t),s)window.location.replace(t);else{var c=k.indexOf(C.location.key);-1!==c&&(k[c]=i.key),y({action:o,location:i})}else window.location.replace(t)}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return M||(P(1),M=!0),function(){return M&&(M=!1,P(-1)),t()}},listen:function(e){var t=m.appendListener(e);return P(1),function(){P(-1),t()}}};return C}var Yt="hashchange",Gt={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Rt(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Rt,decodePath:Nt},slash:{encodePath:Nt,decodePath:Nt}};function Kt(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Jt(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Qt(e){window.location.replace(Kt(window.location.href)+"#"+e)}function Zt(e){void 0===e&&(e={}),Ut||jt(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?qt:r,i=n.hashType,a=void 0===i?"slash":i,s=e.basename?zt(Nt(e.basename)):"",u=Gt[a],c=u.encodePath,l=u.decodePath;function p(){var e=l(Jt());return s&&(e=Tt(e,s)),Lt(e)}var f=Bt();function h(e){g(O,e),O.length=t.length,f.notifyListeners(O.location,O.action)}var d=!1,m=null;function y(){var e,t,n=Jt(),r=c(n);if(n!==r)Qt(r);else{var i=p(),a=O.location;if(!d&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(m===Ft(i))return;m=null,function(e){if(d)d=!1,h();else{var t="POP";f.confirmTransitionTo(e,t,o,(function(n){n?h({action:t,location:e}):function(e){var t=O.location,n=w.lastIndexOf(Ft(t));-1===n&&(n=0);var r=w.lastIndexOf(Ft(e));-1===r&&(r=0);var o=n-r;o&&(d=!0,S(o))}(e)}))}}(i)}}var v=Jt(),_=c(v);v!==_&&Qt(_);var b=p(),w=[Ft(b)];function S(e){t.go(e)}var k=0;function x(e){1===(k+=e)&&1===e?window.addEventListener(Yt,y):0===k&&window.removeEventListener(Yt,y)}var E=!1;var O={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=Kt(window.location.href)),n+"#"+c(s+Ft(e))},push:function(e,t){var n="PUSH",r=Lt(e,void 0,void 0,O.location);f.confirmTransitionTo(r,n,o,(function(e){if(e){var t=Ft(r),o=c(s+t);if(Jt()!==o){m=t,function(e){window.location.hash=e}(o);var i=w.lastIndexOf(Ft(O.location)),a=w.slice(0,i+1);a.push(t),w=a,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=Lt(e,void 0,void 0,O.location);f.confirmTransitionTo(r,n,o,(function(e){if(e){var t=Ft(r),o=c(s+t);Jt()!==o&&(m=t,Qt(o));var i=w.indexOf(Ft(O.location));-1!==i&&(w[i]=t),h({action:n,location:r})}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return E||(x(1),E=!0),function(){return E&&(E=!1,x(-1)),t()}},listen:function(e){var t=f.appendListener(e);return x(1),function(){x(-1),t()}}};return O}function Xt(e,t,n){return Math.min(Math.max(e,t),n)}function en(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,i=t.initialIndex,a=void 0===i?0:i,s=t.keyLength,u=void 0===s?6:s,c=Bt();function l(e){g(y,e),y.length=y.entries.length,c.notifyListeners(y.location,y.action)}function p(){return Math.random().toString(36).substr(2,u)}var f=Xt(a,0,o.length-1),h=o.map((function(e){return Lt(e,void 0,"string"==typeof e?p():e.key||p())})),d=Ft;function m(e){var t=Xt(y.index+e,0,y.entries.length-1),r=y.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var y={length:h.length,action:"POP",location:h[f],index:f,entries:h,createHref:d,push:function(e,t){var r="PUSH",o=Lt(e,t,p(),y.location);c.confirmTransitionTo(o,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),l({action:r,location:o,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",o=Lt(e,t,p(),y.location);c.confirmTransitionTo(o,r,n,(function(e){e&&(y.entries[y.index]=o,l({action:r,location:o}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&(e=!1),c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return y}var tn=1073741823,nn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window||"undefined"!=typeof window?window:{};function rn(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var on=Y().createContext||function(e,t){var n,r,o="__create-react-context-"+function(){var e="__global_unique_id__";return nn[e]=(nn[e]||0)+1}()+"__",i=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=rn(t.props.value),t}xt(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i==1/a:i!=i&&a!=a)?n=0:(n="function"==typeof t?t(r,o):tn,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},r.render=function(){return this.props.children},n}(V.Component);i.childContextTypes=((n={})[o]=Ot().object.isRequired,n);var a=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}xt(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?tn:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?tn:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(V.Component);return a.contextTypes=((r={})[o]=Ot().object,r),{Provider:i,Consumer:a}};const an=on;var sn=n(4779),un=n.n(sn),cn=(n(663),function(e){var t=an();return t.displayName=e,t}),ln=cn("Router-History"),pn=cn("Router"),fn=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}xt(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return Y().createElement(pn.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Y().createElement(ln.Provider,{children:this.props.children||null,value:this.props.history}))},t}(Y().Component);var hn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=en(t.props),t}return xt(t,e),t.prototype.render=function(){return Y().createElement(fn,{history:this.history,children:this.props.children})},t}(Y().Component);var dn=function(e){function t(){return e.apply(this,arguments)||this}xt(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(Y().Component);function mn(e){var t=e.message,n=e.when,r=void 0===n||n;return Y().createElement(pn.Consumer,null,(function(e){if(e||jt(!1),!r||e.staticContext)return null;var n=e.history.block;return Y().createElement(dn,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var yn={},vn=0;function gn(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(yn[e])return yn[e];var t=un().compile(e);return vn<1e4&&(yn[e]=t,vn++),t}(e)(t,{pretty:!0})}function bn(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return Y().createElement(pn.Consumer,null,(function(e){e||jt(!1);var r=e.history,i=e.staticContext,a=o?r.push:r.replace,s=Lt(t?"string"==typeof n?gn(n,t.params):g({},n,{pathname:gn(n.pathname,t.params)}):n);return i?(a(s),null):Y().createElement(dn,{onMount:function(){a(s)},onUpdate:function(e,t){var n,r,o=Lt(t.to);n=o,r=g({},s,{key:o.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&It(n.state,r.state)||a(s)},to:n})}))}var wn={},Sn=0;function kn(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=wn[n]||(wn[n]={});if(r[e])return r[e];var o=[],i={regexp:un()(e,o,t),keys:o};return Sn<1e4&&(r[e]=i,Sn++),i}(n,{end:i,strict:s,sensitive:c}),o=r.regexp,a=r.keys,u=o.exec(e);if(!u)return null;var l=u[0],p=u.slice(1),f=e===l;return i&&!f?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var xn=function(e){function t(){return e.apply(this,arguments)||this}return xt(t,e),t.prototype.render=function(){var e=this;return Y().createElement(pn.Consumer,null,(function(t){t||jt(!1);var n=e.props.location||t.location,r=g({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?kn(n.pathname,e.props):t.match}),o=e.props,i=o.children,a=o.component,s=o.render;return Array.isArray(i)&&function(e){return 0===Y().Children.count(e)}(i)&&(i=null),Y().createElement(pn.Provider,{value:r},r.match?i?"function"==typeof i?i(r):i:a?Y().createElement(a,r):s?s(r):null:"function"==typeof i?i(r):null)}))},t}(Y().Component);function En(e){return"/"===e.charAt(0)?e:"/"+e}function On(e,t){if(!e)return t;var n=En(e);return 0!==t.pathname.indexOf(n)?t:g({},t,{pathname:t.pathname.substr(n.length)})}function Pn(e){return"string"==typeof e?e:Ft(e)}function Mn(e){return function(){jt(!1)}}function Cn(){}var Dn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return Cn},t.handleBlock=function(){return Cn},t}xt(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,o=void 0===r?"":r,i=n.context,a=void 0===i?{}:i;a.action=t,a.location=function(e,t){return e?g({},t,{pathname:En(e)+t.pathname}):t}(o,Lt(e)),a.url=Pn(a.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,i=e.location,a=void 0===i?"/":i,s=_(e,["basename","context","location"]),u={createHref:function(e){return En(n+Pn(e))},action:"POP",location:On(n,Lt(a)),push:this.handlePush,replace:this.handleReplace,go:Mn(),goBack:Mn(),goForward:Mn(),listen:this.handleListen,block:this.handleBlock};return Y().createElement(fn,g({},s,{history:u,staticContext:o}))},t}(Y().Component);var In=function(e){function t(){return e.apply(this,arguments)||this}return xt(t,e),t.prototype.render=function(){var e=this;return Y().createElement(pn.Consumer,null,(function(t){t||jt(!1);var n,r,o=e.props.location||t.location;return Y().Children.forEach(e.props.children,(function(e){if(null==r&&Y().isValidElement(e)){n=e;var i=e.props.path||e.props.from;r=i?kn(o.pathname,g({},e.props,{path:i})):t.match}})),r?Y().cloneElement(n,{location:o,computedMatch:r}):null}))},t}(Y().Component);function An(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=_(t,["wrappedComponentRef"]);return Y().createElement(pn.Consumer,null,(function(t){return t||jt(!1),Y().createElement(e,g({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,mt()(n,e)}var jn=Y().useContext;function Nn(){return jn(ln)}function Rn(){return jn(pn).location}function Tn(){var e=jn(pn).match;return e?e.params:{}}function zn(e){var t=Rn(),n=jn(pn).match;return e?kn(t.pathname,e):n}var Fn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Vt(t.props),t}return xt(t,e),t.prototype.render=function(){return Y().createElement(fn,{history:this.history,children:this.props.children})},t}(Y().Component);var Ln=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=Zt(t.props),t}return xt(t,e),t.prototype.render=function(){return Y().createElement(fn,{history:this.history,children:this.props.children})},t}(Y().Component);var Bn=function(e,t){return"function"==typeof e?e(t):e},Un=function(e,t){return"string"==typeof e?Lt(e,null,null,t):e},qn=function(e){return e},$n=Y().forwardRef;void 0===$n&&($n=qn);var Hn=$n((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=_(e,["innerRef","navigate","onClick"]),a=i.target,s=g({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=qn!==$n&&t||n,Y().createElement("a",s)}));var Wn=$n((function(e,t){var n=e.component,r=void 0===n?Hn:n,o=e.replace,i=e.to,a=e.innerRef,s=_(e,["component","replace","to","innerRef"]);return Y().createElement(pn.Consumer,null,(function(e){e||jt(!1);var n=e.history,u=Un(Bn(i,e.location),e.location),c=u?n.createHref(u):"",l=g({},s,{href:c,navigate:function(){var t=Bn(i,e.location),r=Ft(e.location)===Ft(Un(t));(o||r?n.replace:n.push)(t)}});return qn!==$n?l.ref=t||a:l.innerRef=a,Y().createElement(r,l)}))})),Vn=function(e){return e},Yn=Y().forwardRef;void 0===Yn&&(Yn=Vn);var Gn=Yn((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,i=void 0===o?"active":o,a=e.activeStyle,s=e.className,u=e.exact,c=e.isActive,l=e.location,p=e.sensitive,f=e.strict,h=e.style,d=e.to,m=e.innerRef,y=_(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Y().createElement(pn.Consumer,null,(function(e){e||jt(!1);var n=l||e.location,o=Un(Bn(d,n),n),v=o.pathname,_=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=_?kn(n.pathname,{path:_,exact:u,sensitive:p,strict:f}):null,w=!!(c?c(b,n):b),S="function"==typeof s?s(w):s,k="function"==typeof h?h(w):h;w&&(S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(S,i),k=g({},k,a));var x=g({"aria-current":w&&r||null,className:S,style:k,to:o},y);return Vn!==Yn?x.ref=t||m:x.innerRef=m,Y().createElement(Wn,x)}))}));const Kn=e,{useHistory:Jn}=Kn,Qn=e=>{let{className:t,isQuaternary:n,href:r,onClick:i,...a}=e;const s=Jn(),[u,c]=(0,o.useState)(!1),l=w()("newspack-button",n&&"is-quaternary",t);return r&&i?a.onClick=async()=>{c(!0),await i(),c(!1),s.push(r.replace("#",""))}:(a.href=r,a.onClick=i),u&&(a.disabled=!0),vt(y.Button,{className:l,...a})};class Zn extends o.Component{render(){const{className:e,noMargin:t,...n}=this.props,r=w()("newspack-button-group",{"newspack-button-group--no-margin":t},e);return vt(y.ButtonGroup,{className:r,...n})}}const Xn=Zn;class er extends o.Component{render(){const{buttonsCard:e,className:t,headerActions:n,isMedium:r,isSmall:o,noBorder:i,...a}=this.props;return vt("div",{className:w()("newspack-card",t,e&&"newspack-card__buttons-card",n&&"newspack-card__header-actions",r&&"newspack-card__is-medium",o&&"newspack-card__is-small",i&&"newspack-card__no-border"),...a})}}const tr=er;class nr extends o.Component{constructor(e){super(e),t(this,"state",{suggestions:{},allCategories:{}}),t(this,"handleOnChange",(e=>{const{onChange:t}=this.props,{suggestions:n}=this.state,r=e.map((e=>"string"==typeof e?n[e]:e));t(r)})),this.debouncedUpdateSuggestions=(0,v.debounce)(this.updateSuggestions,100)}componentDidMount(){U()({path:(0,q.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{per_page:-1,_fields:"id,name"})}).then((e=>this.setState({allCategories:e})))}componentWillUnmount(){this.debouncedUpdateSuggestions.cancel()}updateSuggestions(e){U()({path:(0,q.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then((e=>{this.setState({suggestions:e.reduce(((e,t)=>({...e,[t.name]:t})),{})})}))}render(){const{className:e,disabled:t,description:n,hideHelpFromVision:r,hideLabelFromVision:o,label:i,value:a}=this.props,{suggestions:s,allCategories:u}=this.state;return vt("div",{className:w()("newspack-category-autocomplete",e),children:vt(pr,{onInputChange:e=>this.debouncedUpdateSuggestions(e),value:a.reduce(((e,t)=>{const n="number"==typeof t?(0,v.find)(u,["id",t]):t;return n&&e.push({id:n.term_id||n.id,value:n.name}),e}),[]),suggestions:Object.keys(s),onChange:this.handleOnChange,label:i,disabled:t,description:n,hideHelpFromVision:r,hideLabelFromVision:o})})}}nr.defaultProps={taxonomy:"categories"};class rr extends o.Component{render(){const{className:e,checked:t,tooltip:n,...r}=this.props;return gt("div",{className:w()("newspack-checkbox-control",e),children:[vt(y.CheckboxControl,{checked:Boolean(t),...r}),n&&vt(vr,{text:n})]})}}const or=rr,{useHistory:ir}=Kn,ar=e=>(0,o.useRef)(`${e}-${Math.round(99999*Math.random())}`).current,sr=window.wp.keycodes,ur={InteractiveDiv:e=>{let{style:t={},...n}=e;return vt("div",{tabIndex:"0",role:"button",onKeyDown:e=>sr.ENTER===e.keyCode&&n.onClick(),style:{cursor:"pointer",...t},...n})}},{InteractiveDiv:cr}=ur;class lr extends o.Component{render(){const{className:e,description:t,hideHelpFromVision:n,hideLabelFromVision:r,...o}=this.props,i=w()("newspack-form-token-field__input-container",e);return gt("div",{className:w()({"newspack-form-token-field--label-hidden":r,"newspack-form-token-field--help-hidden":n},"newspack-form-token-field"),children:[vt(y.FormTokenField,{className:i,...o}),t&&vt("div",{className:"i",children:t})]})}}const pr=lr,fr=i.__;class hr extends o.Component{constructor(){super(...arguments),t(this,"componentDidMount",(()=>{this._isMounted=!0;const{plugin:e}=this.props;this.retrievePluginInfo(e)})),t(this,"componentWillUnmount",(()=>{this._isMounted=!1})),t(this,"retrievePluginInfo",(e=>{const{onReady:t}=this.props;U()({path:"/newspack/v1/plugins/"+e}).then((e=>{this._isMounted&&(t(e),this.setState({pluginInfo:e}))}))})),t(this,"textForPlugin",(e=>{const t={modalBody:null,modalTitle:e.Name&&`${fr("Manage","newspack")} ${e.Name}`,primaryButton:e.Name&&`${fr("Manage","newspack")} ${e.Name}`,primaryModalButton:fr("Manage","newspack"),dismissModalButton:fr("Dismiss","newspack")};return(0,v.assign)(t,this.props)})),t(this,"goToPlugin",(e=>{const{editLink:t,showOnBlockEditor:n}=this.props;U()({path:"/newspack/v1/plugins/"+e+"/handoff",method:"POST",data:{editLink:t,handoffReturnUrl:window&&window.location.href,showOnBlockEditor:!!n}}).then((e=>{window.location.href=e.HandoffLink}))})),this.state={pluginInfo:[],showModal:!1}}render(){const{className:e,children:t,compact:n,useModal:r,modalTitle:i,modalBody:a,onReady:s,editLink:u,...c}=this.props,{pluginInfo:l,showModal:p}=this.state,{modalBody:f,modalTitle:h,primaryButton:d,primaryModalButton:m,dismissModalButton:y}=this.textForPlugin(l),{Configured:v,Name:g,Slug:_,Status:b}=l,S=w()(v&&"is-configured",e);return gt(o.Fragment,{children:[g&&"active"===b&&vt(Qn,{className:S,isSecondary:!c.isPrimary&&!c.isTertiary&&!c.isLink,...c,onClick:()=>r?this.setState({showModal:!0}):this.goToPlugin(_),children:t||d}),g&&"active"!==b&&vt(Qn,{className:S,isSecondary:!0,disabled:!0,...c,children:g+fr(" not installed","newspack")}),!g&&vt(Qn,{className:S,isSecondary:!c.isPrimary&&!c.isTertiary&&!c.isLink,...c,children:gt(o.Fragment,{children:[!n&&vt(eo,{isLeft:!0}),fr("Retrieving Plugin Info","newspack")]})}),p&&gt(wr,{title:h,onRequestClose:()=>this.setState({showModal:!1}),children:[vt("p",{children:f}),gt(tr,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:[vt(Qn,{isSecondary:!0,onClick:()=>this.setState({showModal:!1}),children:y}),vt(Qn,{isPrimary:!0,onClick:()=>this.goToPlugin(_),children:m})]})]})]})}}hr.defaultProps={onReady:()=>{}};const dr=hr,mr=(0,o.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(H.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"}));class yr extends o.Component{render(){const{className:e,...t}=this.props;return vt(y.Tooltip,{...t,children:vt("span",{className:w()("newspack-info-button",e),children:vt($,{icon:mr})})})}}const vr=yr;n(129);class gr extends o.Component{render(){const{className:e,columns:t,gutter:n,noMargin:r,rowGap:o,...i}=this.props;return vt("div",{className:w()("newspack-grid",r&&"newspack-grid--no-margin",t&&"newspack-grid__columns-"+t,n&&"newspack-grid__gutter-"+n,o&&"newspack-grid__row-gap-"+o,e),...i})}}gr.defaultProps={columns:2,gutter:32,rowGap:null};const _r=gr;class br extends o.Component{render(){const{className:e,overlayClassName:t,isWide:n,isNarrow:r,...o}=this.props,i=w()("newspack-modal",n&&"newspack-modal--wide",r&&"newspack-modal--narrow",e),a=w()("newspack-modal__overlay",t);return vt(y.Modal,{className:i,overlayClassName:a,...o})}}const wr=br;class Sr extends o.Component{render(){const{className:e,size:t}=this.props,n=w()("newspack-icon",e);return vt(y.SVG,{xmlns:"http://www.w3.org/2000/svg",height:t,width:t,viewBox:"0 0 32 32",className:n,children:vt(y.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M32 16c0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16S7.164 0 16 0s16 7.164 16 16zm-10.732.622h1.72v-1.124h-2.823l1.103 1.124zm-3.249-3.31h4.97v-1.124h-6.072l1.102 1.124zm-3.248-3.31h8.217V8.877h-9.32l1.103 1.125zM9.01 8.877l13.977 14.246h-4.66l-5.866-5.98v5.98h-3.45V8.877z"})})}}Sr.defaultProps={size:32};class kr extends o.Component{render(){const{centered:e,className:t,height:n}=this.props,r=w()("newspack-logo__svg",e&&"is-centered",t);return vt(y.SVG,{xmlns:"http://www.w3.org/2000/svg",height:n,viewBox:"0 0 221 64",className:r,children:vt(y.Path,{d:"M32 0c17.672 0 32 14.328 32 32S49.672 64 32 64C14.326 64 0 49.672 0 32S14.328 0 32 0zm130.57 27.247c3.611 0 6.475 2.521 6.475 7.974 0 5.417-3.134 8.995-8.314 8.995-1.262 0-2.248-.172-3.305-.376v8.551h-4.022V27.67h3.85v1.486c1.534-1.191 3.237-1.908 5.316-1.908zM18.023 17.755v28.49h6.902V34.287l11.733 11.958h9.319l-27.954-28.49zm178.552 9.495c2.009 0 3.219.34 4.581.784v3.407c-1.158-.444-2.878-.921-4.513-.921-2.453 0-4.532 1.294-4.532 5.076 0 4.156 2.077 5.383 4.736 5.387 1.262 0 2.676-.273 4.516-.99v3.34c-1.636.544-3.118.92-5.025.92-6.033 0-8.417-3.442-8.417-8.45 0-5.283 3.305-8.553 8.654-8.553zm-18.195-.003c3.919 0 6.44 1.567 6.435 6.235V43.84h-3.747v-1.771h-.103c-1.327 1.022-2.93 2.079-5.314 2.079-2.112 0-4.36-1.534-4.36-4.6 0-4.133 3.545-4.912 5.997-5.252l3.51-.477v-.47c0-2.181-.886-2.897-2.93-2.897-.989 0-3.338.305-5.28 1.09l-.341-3.237c1.738-.614 4.123-1.058 6.133-1.058zm-73.55-.12c5.145 0 6.951 3.579 6.951 6.987 0 .936-.047 1.518-.102 2.06l-.034.325h-10.358c.101 3.542 2.106 4.36 5.104 4.36 1.637 0 3.158-.372 4.845-.991v3.342c-2.093.644-3.89.921-5.968.921-5.141 0-8.308-2.556-8.308-8.586 0-4.398 2.69-8.417 7.87-8.417zm39.998 0c1.771 0 3.305.172 4.804.614v3.338s-2.188-.714-4.497-.714c-1.43 0-2.76.477-2.76 1.703 0 2.725 8.042 1.262 8.04 6.883 0 4.053-3.611 5.178-7.394 5.178-1.738 0-3.487-.467-4.736-.958v-3.305c1.5.52 3.578 1.026 4.873 1.026 1.84 0 3.1-.374 3.1-1.771 0-2.829-8.04-1.33-8.04-7.156 0-2.998 2.724-4.837 6.61-4.837zm64.01-6.114v13.63c.34-.376.615-.785 5.657-6.952h5.213l-6.543 7.666 7.156 8.485h-5.248l-6.235-7.665v7.665h-4.02v-22.83h4.02zm-127.634 0l8.633 15.263V21.013h4.022v22.83h-4.416L80.81 28.578v15.263h-4.021v-22.83h4.416zm36.758 6.678l2.476 11.469 2.801-11.469h3.572l2.438 11.469 2.75-11.469h4.038l-4.54 16.151h-4.83l-1.714-9.495-2.325 9.495h-4.814l-4.268-16.15h4.416zm62.836 8.616l-3.305.512c-.987.136-2.044.732-2.044 2.231 0 1.322.75 2.067 1.84 2.067 1.157 0 2.452-.716 3.509-1.466v-3.344zm-19.318-5.752c-1.193 0-2.657.545-4.054 1.771v8.415c.885.17 1.77.306 2.997.306 2.829 0 4.464-1.805 4.464-5.517 0-3.476-1.158-4.975-3.407-4.975zm-56.685-.394c-2.009 0-3.235 1.43-3.475 3.678h6.268c0-1.975-.646-3.678-2.793-3.678zm-58.818.836H40.33l2.205 2.248h3.442v-2.248zm0-6.621H33.833l2.205 2.248h9.939v-2.248zm0-6.621h-18.64l2.204 2.248h16.436v-2.248z"})})}}kr.defaultProps={height:56};const xr=(0,o.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(H.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"}));class Er extends o.Component{render(){const{className:e,isError:t,isHelp:n,isSuccess:r,isWarning:i,noticeText:a,rawHTML:s,style:u={},children:c=null}=this.props,l=w()("newspack-notice",e,t&&"newspack-notice__is-error",n&&"newspack-notice__is-help",r&&"newspack-notice__is-success",i&&"newspack-notice__is-warning");let p;return p=n?xr:r?W:mr,gt("div",{className:l,style:u,children:[vt($,{icon:p}),gt("div",{className:"newspack-notice__content",children:[s?vt(o.RawHTML,{children:a}):a,c||null]})]})}}const Or=Er;const Pr=i.__;class Mr extends o.Component{constructor(){var e;super(...arguments),e=this,t(this,"componentDidMount",(()=>{const{plugins:e}=this.props;this.retrievePluginInfo(e).then((()=>{this.props.autoInstall&&this.installAllPlugins()}))})),t(this,"componentDidUpdate",(e=>{const{autoInstall:t,plugins:n}=this.props,{installationInitialized:r}=this.state;n!==e.plugins&&this.retrievePluginInfo(n),t&&!r&&this.installAllPlugins()})),t(this,"retrievePluginInfo",(e=>new Promise((t=>{U()({path:"/newspack/v1/plugins/"}).then((n=>{const r=Object.keys(n).reduce(((t,r)=>(-1===e.indexOf(r)||(t[r]={...n[r],installationStatus:"active"===n[r].Status?1:0}),t)),{});this.updatePluginInfo(r).then((()=>t()))}))})))),t(this,"installAllPlugins",(()=>{const{pluginInfo:e}=this.state;this.setState({installationInitialized:!0});Object.keys(e).filter((t=>"active"!==e[t].Status)).map((e=>()=>this.installPlugin(e))).reduce(((e,t)=>e.then((e=>t().then(Array.prototype.concat.bind(e))))),Promise.resolve([]))})),t(this,"installPlugin",(e=>{this.setInstallationStatus(e,2);const t={path:`/newspack/v1/plugins/${e}/configure/`,method:"post"};return U()(t).then((t=>{const{pluginInfo:n}=this.state;this.props.onInstalled(e),this.updatePluginInfo({...n,[e]:{...t,installationStatus:1}})})).catch((t=>{this.setInstallationStatus(e,3,t.message)}))})),t(this,"setChecked",((e,t)=>{const{pluginInfo:n}=this.state;this.updatePluginInfo({...n,[e]:{...n[e],checked:t}})})),t(this,"setInstallationStatus",(function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{pluginInfo:o}=e.state;e.updatePluginInfo({...o,[t]:{...o[t],installationStatus:n,notification:r}})})),t(this,"updatePluginInfo",(e=>new Promise((t=>{const{onStatus:n}=this.props;this.setState({pluginInfo:e},(()=>{const r=Object.values(e).every((e=>"active"===e.Status));n({complete:r,pluginInfo:e}),t()}))})))),t(this,"classForInstallationStatus",(e=>{switch(e){case 1:return"newspack-plugin-installer__status-active";case 2:return"newspack-plugin-installer__status-installing";case 3:return"newspack-plugin-installer__status-error";default:return"newspack-plugin-installer__status-none"}})),this.state={pluginInfo:{},installationInitialized:!1}}render(){const{autoInstall:e,isSmall:t,withoutFooterButton:n}=this.props,{pluginInfo:r}=this.state,o=Object.keys(r),i=[];o.forEach((e=>{const t=r[e];i.push(t.Status)}));const a=i.every((e=>"active"===e||"inactive"===e))?Pr("Activate","newspack"):Pr("Install","newspack"),s=o.some((e=>{const t=r[e];return"active"!==t.Status&&0===t.installationStatus}));return gt("div",{children:[(!r||!Object.keys(r).length)&&gt("div",{className:"newspack-plugin-installer_is-waiting",children:[vt(eo,{isLeft:!0}),Pr("Retrieving plugin information…")]}),r&&o.length>0&&o.map((e=>{const n=r[e],{Name:o,Description:i,Status:a,installationStatus:s,notification:u}=n,c=2===s,l=!c&&"active"!==a;let p;2===s?p=Pr("Installing…"):"uninstalled"===a?p=gt("span",{className:"newspack-plugin-installer__status",children:[Pr("Install","newspack"),vt("span",{className:"newspack-checkbox-icon"})]}):"inactive"===a?p=gt("span",{className:"newspack-plugin-installer__status",children:[Pr("Activate","newspack"),vt("span",{className:"newspack-checkbox-icon"})]}):"active"===a&&(p=gt("span",{className:"newspack-plugin-installer__status",children:[Pr("Installed","newspack"),vt("span",{className:"newspack-checkbox-icon newspack-checkbox-icon--checked",children:vt($,{icon:W})})]}));const f=w()("newspack-action-card__plugin-installer",this.classForInstallationStatus(s));return vt(bt,{title:o,description:i,actionText:p,isSmall:t,isWaiting:c,onClick:l?()=>this.installPlugin(e):null,notification:u,notificationLevel:"error",notificationHTML:!0,className:f},e)})),!n&&!e&&r&&o.length>0&&vt("div",{className:"newspack-buttons-card",children:vt(Qn,{disabled:!s,isPrimary:!0,onClick:this.installAllPlugins,children:a})})]})}}Mr.defaultProps={onStatus:()=>{},onInstalled:()=>{}};const Cr=i.__,Dr=e=>{switch(e.type){case"int":case"integer":case"float":case"number":return"number";case"string":case"text":return"text";default:return null}},Ir=e=>{let{active:t,title:n,description:r,fields:i,disabled:a,onChange:s,onUpdate:u}=e;const c=e=>{var t;return{disabled:a,name:`${e.section}_${e.key}`,type:Dr(e),label:e.description,help:e.help||null,options:(null===(t=e.options)||void 0===t?void 0:t.map((e=>({value:e.value,label:e.name}))))||null,value:e.value,checked:"boolean"===e.type?!!e.value:null,onChange:t=>{s(e.key,t)}}};return vt(bt,{isMedium:!0,disabled:a,title:n,description:r,toggleChecked:t,hasGreyHeader:!0,toggleOnChange:null!==t?e=>u({active:e}):null,children:(t||null===t)&&gt(o.Fragment,{children:[vt(_r,{columns:i.length%3==0?3:2,gutter:32,children:i.map((e=>{const t=(e=>{if(Array.isArray(e.options)&&e.options.length)return Ur;switch(e.type){case"checkbox":case"boolean":return or;default:return Kr}})(e);return vt(t,{...c(e)},e.key)}))}),vt("div",{className:"newspack-buttons-card",style:{margin:"32px 0 0"},children:vt(Qn,{isPrimary:!0,disabled:a,onClick:()=>{u()},children:Cr("Save settings","newspack")})})]})})},Ar=i.__;class jr extends o.Component{constructor(){super(...arguments),t(this,"fetchSettings",(()=>{const{pluginSlug:e}=this.props;this.setState({inFlight:!0}),U()({path:`/${e}/v1/settings`}).then((e=>{this.setState({settings:e,error:null})})).catch((e=>{this.setState({error:e})})).finally((()=>{this.setState({inFlight:!1})}))})),t(this,"getSettingsValues",(e=>{var t;return(null===(t=this.state.settings[e])||void 0===t?void 0:t.reduce(((e,t)=>(e[t.key]=t.value,e)),{}))||{}})),t(this,"handleSettingChange",(e=>(t,n)=>{const r=[...this.state.settings[e]];r.forEach((e=>{e.key===t&&(e.value=n)})),this.setState({settings:{...this.state.settings,[e]:r}})})),t(this,"handleSectionUpdate",(e=>t=>{const{pluginSlug:n}=this.props;this.setState({inFlight:!0}),U()({path:`/${n}/v1/settings`,method:"POST",data:{section:e,settings:t||this.getSettingsValues(e)}}).then((e=>{this.setState({settings:e,error:null})})).catch((e=>{this.setState({error:e})})).finally((()=>{this.setState({inFlight:!1})}))})),t(this,"getSectionInfo",(e=>{var t;return null===(t=this.state.settings[e])||void 0===t?void 0:t.find((e=>!e.key||"active"===e.key))})),t(this,"getSectionTitle",(e=>{var t;return null===(t=this.getSectionInfo(e))||void 0===t?void 0:t.description})),t(this,"getSectionDescription",(e=>{var t;return null===(t=this.getSectionInfo(e))||void 0===t?void 0:t.help})),t(this,"isSectionActive",(e=>{var t;const{settings:n}=this.state,r=null===(t=n[e])||void 0===t?void 0:t.find((e=>"active"===e.key));return r?r.value:null})),t(this,"getSectionFields",(e=>{var t;return null===(t=this.state.settings[e])||void 0===t?void 0:t.filter((e=>e.key&&"active"!==e.key))})),this.state={inFlight:!1,settings:{},error:null}}componentDidMount(){this.fetchSettings()}render(){const{title:e,description:t}=this.props,{settings:n,inFlight:r,error:i}=this.state;return gt(o.Fragment,{children:[vt(Rr,{title:e,description:t}),i&&vt(Or,{isError:!0,noticeText:i.message}),vt("div",{className:w()({"newspack-wizard-section__is-loading":r&&!Object.keys(n).length}),children:Object.keys(n).map((e=>vt(Ir,{disabled:r,title:this.getSectionTitle(e),description:this.getSectionDescription(e),active:this.isSectionActive(e),fields:this.getSectionFields(e),onChange:this.handleSettingChange(e),onUpdate:this.handleSectionUpdate(e)},e)))})]})}}jr.defaultProps={title:Ar("General Settings","newspack")},jr.Section=Ir;class Nr extends o.Component{render(){const{className:e,padding:t,...n}=this.props,r=w()("newspack-popover",t&&"newspack-popover__padding-"+t,e);return vt(y.Popover,{className:r,...n})}}Nr.defaultProps={padding:!1};const Rr=e=>{let{className:t,description:n,noMargin:r,title:o}=e;return gt("div",{className:w()("newspack-section-header",r&&"newspack-section-header--no-margin",t),children:[vt("h2",{children:o}),"string"==typeof n&&vt("span",{children:n}),"function"==typeof n&&vt("span",{children:n()})]})},Tr=(0,o.createElement)(H.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)(H.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})),zr=i.__;function Fr(e){let{help:t,label:n,onChange:r,optgroups:o=[],className:i,hideLabelFromVision:a,...s}=e;const u=ar("group-select");return gt(y.BaseControl,{label:n,hideLabelFromVision:a,id:u,help:t,className:w()(i,"components-select-control"),children:[gt("select",{id:u,className:"components-select-control__input",onChange:e=>{const{value:t}=e.target,n=(0,v.find)(o,(e=>(0,v.some)(e.options,["value",t])));r(t,n)},"aria-describedby":t?`${u}__help`:void 0,...s,children:[vt("option",{value:"",children:zr("-- Select --","newspack")}),o.map(((e,t)=>{let{label:n,options:r}=e;return vt("optgroup",{label:n,children:r.map(((e,t)=>vt("option",{value:e.value,disabled:e.disabled,children:e.label},`${e.label}-${e.value}-${t}`)))},t)}))]}),vt("div",{className:"components-select-control__arrow-wrapper",children:vt($,{icon:Tr,size:18})})]})}const Lr=e=>{let{buttonOptions:t,onChange:n,value:r,label:o,className:i}=e;const a=ar("button-group");return vt(y.BaseControl,{label:o,id:a.current,className:w()(i,"components-select-control"),children:vt(Xn,{noMargin:!0,children:t.map((e=>{const t=r===e.value;let o=()=>e.label;return e.icon&&(o=()=>vt($,{icon:e.icon})),vt(Qn,{isSecondary:!t,isPressed:t,onClick:()=>n(e.value),children:vt(o,{})},e.value)}))})})};class Br extends o.Component{render(){const{className:e,optgroups:t,buttonOptions:n,isSmall:r,...o}=this.props;return vt("div",{className:w()("newspack-select-control",t&&"newspack-grouped-select-control",n&&"newspack-buttons-select-control",r&&"newspack-select-control--small",e),children:t?vt(Fr,{optgroups:t,...o}):n?vt(Lr,{buttonOptions:n,...o}):vt(y.SelectControl,{...o})})}}const Ur=Br;n(3784);var qr=n(6292),$r=n.n(qr);(0,n(3542).extendMoment)($r());const Hr=e=>{let{children:t,className:n,columns:r,gutter:o,...i}=e;return vt(bt,{...i,className:w()(n,"newspack-settings__card"),notificationLevel:"info",children:vt(_r,{columns:r,gutter:o,children:t})})};Hr.defaultProps={columns:3,gutter:32};i.__;const{NavLink:Wr,useHistory:Vr}=Kn,Yr=i.__;class Gr extends o.Component{constructor(e){super(e),this.wrapperRef=(0,o.createRef)()}componentDidMount(){if(this.wrapperRef.current){const e=this.wrapperRef.current.querySelector("label");e&&e.setAttribute("data-required-text",Yr("(required)","newspack"))}}render(){const{className:e,required:t,isSmall:n,isWide:r,withMargin:o=!0,...i}=this.props,a=w()("newspack-text-control",{"newspack-text-control--small":n},{"newspack-text-control--wide":r},{"newspack-text-control--with-margin":o},e);return t?vt("div",{ref:this.wrapperRef,className:"newspack-text-control--required",children:vt(y.TextControl,{className:a,required:t,...i})}):vt(y.TextControl,{className:a,...i})}}const Kr=Gr;class Jr extends o.Component{render(){const{className:e,isDark:t,checked:n,...r}=this.props,o=w()("newspack-toggle-control",t&&"newspack-toggle-control--is-dark",r.disabled&&"newspack-toggle-control--is-disabled",e);return vt(y.ToggleControl,{className:o,checked:Boolean(n),...r})}}const Qr=Jr;const Zr=vt(y.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:vt(y.Path,{clipRule:"evenodd",d:"M12 4h-.033a7.975 7.975 0 00-5.636 2.322L5.138 5.129l-.353 3.889 3.889-.354-1.282-1.281A6.48 6.48 0 0112 5.5a6.48 6.48 0 014.63 1.904 6.469 6.469 0 011.848 3.747l1.487-.195a7.969 7.969 0 00-2.275-4.613A7.975 7.975 0 0012.033 4H12zm-6.478 8.85l-1.487.194a7.969 7.969 0 002.275 4.613A7.975 7.975 0 0012 20a7.975 7.975 0 005.669-2.322l1.193 1.193.353-3.889-3.889.354 1.282 1.281A6.48 6.48 0 0112 18.5a6.48 6.48 0 01-4.63-1.904 6.469 6.469 0 01-1.848-3.747z",fillRule:"evenodd"})});class Xr extends o.Component{render(){const{className:e,isRight:t,isLeft:n,isCenter:r,size:o}=this.props,i=w()("newspack-is-waiting",e,{"newspack-is-waiting__is-right":t,"newspack-is-waiting__is-left":n,"newspack-is-waiting__is-center":r});return vt($,{icon:Zr,size:o,className:i})}}const eo=Xr,to=(0,o.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(H.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),no=(0,o.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(H.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})),ro=(0,o.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(H.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})),oo=(0,o.createElement)(H.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(H.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),io=i.__,ao="newspack-components-web-preview-wrapper";class so extends o.Component{constructor(e){super(e),t(this,"state",{device:"desktop",loaded:!1,isPreviewVisible:!1}),t(this,"getWebPreviewModal",(()=>{const{beforeLoad:e=(()=>{}),onClose:t=(()=>{}),url:n}=this.props,{device:r,loaded:i,isPreviewVisible:a}=this.state;if(!this.modalDOMElement||!a)return null;const s=w()("newspack-web-preview__container",r,i&&"newspack-web-preview__is-loaded");return e(),(0,o.createPortal)(vt("div",{className:s,children:gt("div",{className:"newspack-web-preview__interior",children:[gt("div",{className:"newspack-web-preview__toolbar",children:[vt("div",{className:"newspack-web-preview__toolbar-left",children:gt(Xn,{children:[vt(Qn,{onClick:()=>this.setState({device:"desktop"}),isSmall:!0,className:w()("is-desktop","desktop"===r&&"is-selected"),icon:to,label:io("Preview desktop size","newspack")}),vt(Qn,{onClick:()=>this.setState({device:"tablet"}),isSmall:!0,className:w()("is-tablet","tablet"===r&&"is-selected"),icon:no,label:io("Preview tablet size","newspack")}),vt(Qn,{onClick:()=>this.setState({device:"phone"}),isSmall:!0,className:w()("is-phone","phone"===r&&"is-selected"),icon:ro,label:io("Preview phone size","newspack")})]})}),vt("div",{className:"newspack-web-preview__toolbar-right",children:vt(Qn,{onClick:()=>{t(),this.setState({isPreviewVisible:!1,loaded:!1})},isSmall:!0,icon:oo,label:io("Close preview","newspack")})})]}),gt("div",{className:"newspack-web-preview__content",children:[!i&&gt("div",{className:"newspack-web-preview__is-waiting",children:[vt(eo,{isLeft:!0}),io("Loading…","newspack")]}),vt("iframe",{ref:this.iframeRef,title:"web-preview",src:n,onLoad:()=>{this.setState({loaded:!0}),this.props.onLoad(this.iframeRef.current)}})]})]})}),this.modalDOMElement)})),t(this,"showPreview",(()=>{this.setState({isPreviewVisible:!0})})),this.iframeRef=(0,o.createRef)()}componentDidMount(){const e=document.getElementById(ao);this.modalDOMElement=e||document.createElement("div"),e||(this.modalDOMElement.id=ao,document.body.appendChild(this.modalDOMElement))}componentDidUpdate(){!0===this.state.isPreviewVisible?document.body.classList.add("newspack-web-preview--open"):document.body.classList.remove("newspack-web-preview--open")}render(){const{label:e,isPrimary:t,isSecondary:n,isTertiary:r,isQuaternary:i,isLink:a,isSmall:s,renderButton:u}=this.props;return gt(o.Fragment,{children:[u?u({showPreview:this.showPreview}):vt(Qn,{isPrimary:t,isSecondary:n,isTertiary:r,isQuaternary:i,isLink:a,isSmall:s,onClick:this.showPreview,tabIndex:"0",children:e}),this.getWebPreviewModal()]})}}so.defaultProps={url:"//newspack.pub",label:io("Preview","newspack"),onLoad:()=>{}};const uo=so,{Redirect:co,Route:lo}=Kn;const{withRouter:po}=Kn;po((e=>{const{location:t,routes:n}=e,r=Object.keys(n||{}),o=r.find((e=>t.pathname===n[e].path));return vt("div",{className:"newspack-wizard-pagination",children:r.length&&vt("ul",{children:r.map(((e,t)=>{if("0"===e)return null;const i=r.indexOf(o),a=[];return e===o&&a.push("active"),t>i&&a.push("disabled"),t<i&&a.push("complete"),vt("li",{children:vt("a",{className:a.join(" "),href:t<=i&&"#"+n[e].path,children:n[e].label})},t)}))})})}));var fo=i.__;const ho=function(e){var t=e.onMetaFieldChange,n=e.excluded_categories,r=void 0===n?[]:n,i=e.excluded_tags,a=void 0===i?[]:i,s=function(e){return(0,L.decodeEntities)(e.name)||fo("(no title)","newspack-blocks")},u=function(e,t){return U()({path:(0,q.addQueryArgs)(e,{search:t,per_page:20,_fields:"id,name,parent",orderby:"count",order:"desc"})}).then((function(e){return e.map((function(e){return{value:e.id,label:s(e)}}))}))},c=function(e,t){return U()({path:(0,q.addQueryArgs)(e,{per_page:100,_fields:"id,name",include:t.join(",")})}).then((function(e){return e.map((function(e){return{value:e.id,label:s(e)}}))}))};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.BaseControl,{className:"newspack-popups__segmentation-sidebar"},(0,o.createElement)(St,{key:"categories",tokens:r,onChange:function(e){t("excluded_categories",e)},fetchSuggestions:function(e){return u("/wp/v2/categories",e)},fetchSavedInfo:function(e){return c("/wp/v2/categories",e)},label:fo("Excluded Categories","newspack-blocks")}),(0,o.createElement)(St,{key:"tags",tokens:a,onChange:function(e){t("excluded_tags",e)},fetchSuggestions:function(e){return u("/wp/v2/tags",e)},fetchSavedInfo:function(e){return c("/wp/v2/tags",e)},label:fo("Excluded Tags","newspack-blocks")})))};function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var yo=i.__;const vo=(0,a.compose)([(0,s.withSelect)((function(e){var t=e("core/editor"),n=t.isSavingPost,r=t.getCurrentPostId,o=t.getEditedPostAttribute;return{postId:r(),metaFields:o("meta"),isSavingPost:n()}})),(0,s.withDispatch)((function(e){return{autosavePost:function(){return e("core/editor").autosave()}}}))])((function(e){var n,r,i,a=e.autosavePost,s=e.isSavingPost,u=e.postId,c=e.metaFields,l=(null===(n=window.newspack_popups_data)||void 0===n?void 0:n.preview_query_keys)||{},p=(null===(r=window)||void 0===r||null===(i=r.newspack_popups_data)||void 0===i?void 0:i.frontend_url)||"/",f={};Object.keys(c).forEach((function(e){l.hasOwnProperty(e)&&(f[l[e]]=c[e])}));var h=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?mo(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({pid:u},f),d="archives"===c.placement,v=window.newspack_popups_data[d?"preview_archive":"preview_post"]||"/";return(0,o.createElement)(uo,{url:(0,q.addQueryArgs)(v,h),onLoad:function(e){e&&m(e.contentWindow.document.querySelectorAll('a[href^="'+p+'"]')).forEach((function(e){e.setAttribute("href",(0,q.addQueryArgs)(e.getAttribute("href"),h))}))},renderButton:function(e){var t=e.showPreview;return(0,o.createElement)(y.Button,{isPrimary:!0,isBusy:s,disabled:s,onClick:function(){return a().then(t)}},yo("Preview","newspack-popups"))}})}));function go(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,o)}function _o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){go(i,r,o,a,s,"next",e)}function s(e){go(i,r,o,a,s,"throw",e)}a(void 0)}))}}var bo=i.__;const wo=(0,a.compose)([(0,s.withSelect)((function(e){var t=e("core/editor"),n=t.isSavingPost,r=t.getCurrentPostId,o=t.getEditedPostAttribute,i=o("meta").duplicate_of;return{postId:r(),isSavingPost:n(),title:o("title"),campaignGroups:o("newspack_popups_taxonomy"),duplicateOf:i}})),(0,s.withDispatch)((function(e){return{autosave:e("core/editor").autosave,createNotice:e("core/notices").createNotice}}))])((function(e){var t=e.autosave,n=e.campaignGroups,r=e.duplicateOf,a=e.isSavingPost,s=e.postId,u=e.title,c=C((0,o.useState)(null),2),l=c[0],p=c[1],f=C((0,o.useState)(!1),2),h=f[0],d=f[1],m=C((0,o.useState)(null),2),v=m[0],g=m[1],_=C((0,o.useState)(null),2),b=_[0],w=_[1];(0,o.useEffect)((function(){p(null),h&&!v&&S(),h||(w(null),g(null))}),[h]);var S=function(){var e=_o(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(r||s),e.prev=1,e.next=4,U()({path:"/newspack-popups/v1/".concat(t,"/").concat(s,"/duplicate")});case 4:n=e.sent,g(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),g(u+bo(" copy","newspack-popups"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=_o(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(null),e.prev=1,e.next=4,U()({path:(0,q.addQueryArgs)("/newspack-popups/v1/".concat(t,"/duplicate"),{title:n}),method:"POST"});case 4:if(r=e.sent,!isNaN(r)){e.next=7;break}throw new Error(bo("Error duplicating prompt.","newspack-popups"));case 7:w(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),p((null===e.t0||void 0===e.t0?void 0:e.t0.message)||bo("Error duplicating prompt.","newspack-popups"));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(_x,t){return e.apply(this,arguments)}}();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.Button,{isSecondary:!0,isBusy:a,disabled:a,onClick:function(){return d(!0)}},bo("Duplicate","newspack-popups")),h&&(0,o.createElement)(y.Modal,{className:"newspack-popups__duplicate-modal",title:(0,i.sprintf)(bo("Duplicate “%s”","newspack-popups"),u),onRequestClose:function(){return d(!1)}},l&&(0,o.createElement)(y.Notice,{isDismissible:!1,status:"error"},l),b?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(y.Notice,{status:"success",isDismissible:!1},(0,i.sprintf)(bo("Duplicate of “%s” created as a draft.","newspack-popups"),u)),(!n||0===n.length)&&(0,o.createElement)(y.Notice,{status:"warning",isDismissible:!1},bo("This prompt is currently not assigned to any campaign.","newspack-popups")),(0,o.createElement)(y.Flex,{justify:"flex-end"},(0,o.createElement)(y.Button,{isSecondary:!0,onClick:function(){return d(!1)}},bo("Close","newspack-popups")),(0,o.createElement)(y.Button,{isPrimary:!0,href:"/wp-admin/post.php?post=".concat(b,"&action=edit")},bo("Edit","newspack-popups")))):(0,o.createElement)(o.Fragment,null,(!n||0===n.length)&&(0,o.createElement)(y.Notice,{status:"warning",isDismissible:!1},bo("This prompt will not be assigned to any campaign.","newspack-popups")),(0,o.createElement)(y.TextControl,{disabled:a||null===v,label:bo("Title","newspack-popups"),value:v,onChange:function(e){return g(e)}}),(0,o.createElement)(y.Flex,{justify:"flex-end"},(0,o.createElement)(y.Button,{isBusy:a,isSecondary:!0,onClick:function(){d(!1)}},bo("Cancel","newspack-popups")),(0,o.createElement)(y.Button,{isBusy:a,disabled:null===v,isPrimary:!0,onClick:function(){var e=v.trim()||u+bo(" copy","newspack-popups");t().then(k(s,e))}},bo("Duplicate","newspack-popups"))))))}));const So=function(){var e=(0,s.useSelect)((function(e){return e("core/editor").getEditedPostAttribute("meta")})),t=e.undismissible_prompt,n=e.dismiss_text,r=e.dismiss_text_alignment,i=e.background_color,a=e.overlay_size,u=e.placement;return(0,o.useEffect)((function(){!function(e){if(e){var t="#000000",n=l(e),r=l(t),o=.2126*Math.pow(n[0]/255,2.2)+.7152*Math.pow(n[1]/255,2.2)+.0722*Math.pow(n[2]/255,2.2),i=.2126*Math.pow(r[0]/255,2.2)+.7152*Math.pow(r[1]/255,2.2)+.0722*Math.pow(r[2]/255,2.2),a=(o>i?parseInt((o+.05)/(i+.05)):parseInt((i+.05)/(o+.05)))>5?t:"#ffffff",s=document.querySelector(".editor-styles-wrapper"),u=document.querySelector(".wp-block.editor-post-title__block .editor-post-title__input");s&&(s.style.backgroundColor=e,s.style.color=a),u&&(u.style.color=a,u.style.setProperty("--newspack-popups-editor-placeholder-color","".concat(a,"80")))}}(i)}),[i]),(0,o.useEffect)((function(){var e=document.querySelector(".newspack-popups__not-interested-button-preview");if(!t&&n){var o="has-text-align-"+(r||"center");if(!e){var i=document.querySelector(".block-editor-block-list__layout.is-root-container");i&&(e=document.createElement("div"),i.appendChild(e))}e&&(e.className="newspack-popups__not-interested-button-preview wp-block "+o,e.textContent=n)}else e&&e.parentNode.removeChild(e)}),[t,n,r]),(0,o.useEffect)((function(){var e=document.querySelector(".block-editor-block-list__layout");e&&(e.classList.forEach((function(t){t.startsWith("is-size-")&&e.classList.remove(t)})),p(u)&&e.classList.add("is-size-".concat(a)))}),[a,u]),null};const ko=function(e){var t=e.post_types,n=void 0===t?[]:t,r=e.onMetaFieldChange;return[{name:"post",label:"Posts"},{name:"page",label:"Pages"}].concat(m(window.newspack_popups_data.available_post_types)).map((function(e){var t=e.name,i=e.label;return(0,o.createElement)(y.PanelRow,{key:t},(0,o.createElement)(y.CheckboxControl,{label:i,checked:n.indexOf(t)>-1,onChange:function(e){r("post_types",e?[].concat(m(n),[t]):(0,v.without)(n,t))}}))}))};var xo=i.__,Eo=(0,a.compose)([(0,s.withSelect)((function(e){var t=(0,e("core/editor").getEditedPostAttribute)("meta")||{},n=t.background_color,r=t.frequency,o=t.undismissible_prompt,i=t.dismiss_text,a=t.dismiss_text_alignment,s=t.display_title,u=t.hide_border,c=t.overlay_color,l=t.overlay_opacity,f=t.overlay_size,h=t.placement,d=t.trigger_type,m=t.trigger_delay,y=t.trigger_scroll_progress,v=t.trigger_blocks_count,g=t.archive_insertion_posts_count,_=t.archive_insertion_is_repeating,b=t.utm_suppression,w=t.selected_segment_id,S=t.post_types,k=t.archive_page_types,x=t.excluded_categories,E=t.excluded_tags;return{background_color:n,undismissible_prompt:o,dismiss_text:i,dismiss_text_alignment:a,display_title:s,hide_border:u,frequency:r,overlay_color:c,overlay_opacity:l,overlay_size:f,placement:h,trigger_type:d,trigger_delay:m,trigger_scroll_progress:y,trigger_blocks_count:v,archive_insertion_posts_count:g,archive_insertion_is_repeating:_,utm_suppression:b,selected_segment_id:w,isOverlay:p(h),post_types:S,archive_page_types:k,excluded_categories:x,excluded_tags:E}})),(0,s.withDispatch)((function(e){var n=e("core/notices");return{onMetaFieldChange:function(n,r){e("core/editor").editPost({meta:t({},n,r)})},createNotice:n.createNotice,removeNotice:n.removeNotice}}))]),Oo=Eo(O),Po=Eo(M),Mo=Eo(j),Co=Eo(R),Do=Eo(F),Io=Eo(ko),Ao=Eo(ho);(0,u.registerPlugin)("newspack-popups",{render:function(){return(0,o.createElement)(c.PluginDocumentSettingPanel,{name:"popup-settings-panel",title:xo("Prompt Settings","newspack-popups")},(0,o.createElement)(Oo,null))},icon:null}),(0,u.registerPlugin)("newspack-popups-frequency",{render:function(){return(0,o.createElement)(c.PluginDocumentSettingPanel,{name:"-frequency-panel",title:xo("Frequency Settings","newspack-popups")},(0,o.createElement)(Po,null))},icon:null}),(0,u.registerPlugin)("newspack-popups-segmentation",{render:function(){return(0,o.createElement)(c.PluginDocumentSettingPanel,{name:"popup-segmentation-panel",title:xo("Segmentation Settings","newspack-popups")},(0,o.createElement)(Mo,null))},icon:null}),(0,u.registerPlugin)("newspack-popups-dismiss",{render:function(){return(0,o.createElement)(c.PluginDocumentSettingPanel,{name:"popup-dismiss-panel",title:xo("Dismiss Button Settings","newspack-popups")},(0,o.createElement)(Co,null))},icon:null}),(0,u.registerPlugin)("newspack-popups-colors",{render:function(){return(0,o.createElement)(c.PluginDocumentSettingPanel,{name:"popup-colors-panel",title:xo("Color Settings","newspack-popups")},(0,o.createElement)(Do,null))},icon:null}),(0,u.registerPlugin)("newspack-popups-post-types",{render:function(){return(0,o.createElement)(c.PluginDocumentSettingPanel,{name:"post-types-panel",title:xo("Post Types","newspack-popups")},(0,o.createElement)(Io,null))},icon:null}),(0,u.registerPlugin)("newspack-popups-advanced",{render:function(){return(0,o.createElement)(c.PluginDocumentSettingPanel,{name:"popup-advanced-panel",title:xo("Advanced Settings","newspack-popups")},(0,o.createElement)(Ao,null))},icon:null}),(0,u.registerPlugin)("newspack-popups-editor",{render:So,icon:null});(0,u.registerPlugin)("newspack-popups-preview",{render:function(){return(0,o.createElement)(c.PluginPostStatusInfo,{className:"newspack-popups__status-options"},(0,o.createElement)(vo,null),(0,o.createElement)(wo,null))}})})();var o=window;for(var i in r)o[i]=r[i];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();