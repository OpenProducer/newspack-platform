(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n);const s=window.wp.hooks,o=window.wp.plugins;function t(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}const r=window.wp.element,a=window.wp.i18n,p=window.wp.components,l=window.wp.compose,i=window.wp.data,c=window.wp.editPost;var __=a.__,w=(0,l.compose)([(0,i.withSelect)((function(e){var n=e("core/editor"),s=n.getCurrentPostType,o=n.getEditedPostAttribute;return{meta:o("meta"),postType:s(),title:o("title")}})),(0,i.withDispatch)((function(e){var n=e("core/editor").editPost;return{updateMetaValue:function(e,s){return n({meta:t({},e,s)})}}}))])((function(e){if("newspack_spnsrs_cpt"!==e.postType)return null;var n=e.meta,s=e.title,o=e.updateMetaValue,t=n.newspack_sponsor_url,a=n.newspack_sponsor_flag_override,l=n.newspack_sponsor_byline_prefix,i=n.newspack_sponsor_sponsorship_scope,w=n.newspack_sponsor_only_direct,u=n.newspack_sponsor_disclaimer_override,d=window.newspack_sponsors_data,_=d.settings,f=d.defaults;return(0,r.createElement)(c.PluginDocumentSettingPanel,{className:"newspack-sponsors",name:"newspack-sponsors",title:__("Sponsor Settings","newspack-sponsors")},(0,r.createElement)(p.SelectControl,{className:"newspack-sponsors__select-control",label:__("Sponsorship Scope","newspack-sponsors"),value:i||"native",options:[{value:"native",label:__("Native content","newspack-sponsors")},{value:"underwritten",label:__("Underwritten content","newspack-sponsors")}],onChange:function(e){return o("newspack_sponsor_sponsorship_scope",e)},help:__("Generally, native content is authored by the sponsor, while underwritten content is authored by editorial staff but supported by the sponsor. This option allows you to select a different visual treatment for native vs. underwitten content.","newspack-sponsors")}),(0,r.createElement)(p.TextControl,{className:"newspack-sponsors__text-control",label:__("Sponsor URL","newspack-sponsors"),placeholder:__("URL to link to for this sponsor","newspack-sponsors"),help:__("Required if you want to link the sponsor logo to an external URL.","newspack-sponsors"),type:"url",value:t,onChange:function(e){return o("newspack_sponsor_url",e)}}),(0,r.createElement)(p.TextControl,{className:"newspack-sponsors__text-control",label:__("Sponsor Flag Override (Optional)","newspack-sponsors"),placeholder:_.flag||f.flag,help:__("The label for the flag that appears in lieu of category flags. If not empty, this field will override the site-wide setting.","newspack-sponsors"),type:"url",value:a,onChange:function(e){return o("newspack_sponsor_flag_override",e)}}),(0,r.createElement)(p.TextareaControl,{className:"newspack-sponsors__textarea-control",label:__("Sponsor Disclaimer Override (Optional)","newspack-sponsors"),placeholder:(_.disclaimer||f.disclaimer).replace("[sponsor name]",s),help:__("Text shown to explain sponsorship by this sponsor. If not empty, this field will override the site-wide setting.","newspack-sponsors"),value:u,onChange:function(e){return o("newspack_sponsor_disclaimer_override",e)}}),(0,r.createElement)(p.TextControl,{className:"newspack-sponsors__text-control",label:__("Sponsor Byline Prefix (Optional)","newspack-sponsors"),help:__("The prefix for the sponsor attribution that appears in lieu of author byline. If not empty, this field will override the site-wide setting.","newspack-sponsors"),placeholder:_.byline||f.byline,type:"url",value:l,onChange:function(e){return o("newspack_sponsor_byline_prefix",e)}}),(0,r.createElement)(p.ToggleControl,{className:"newspack-sponsors__toggle-control",label:__("Show on posts only if a direct sponsor?","newspack-newsletters"),help:__("If this option is enabled, this sponsor will only be shown on single posts if assigned as a direct sponsor. It will still appear on category and tag archive pages, if applicable."),checked:w,onChange:function(e){return o("newspack_sponsor_only_direct",e)}}))}));function u(){return u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},u.apply(this,arguments)}var d=a.__;(0,s.addFilter)("editor.PostTaxonomyType","newspack-sponsors-editor",(function(e){return function(n){var s=(0,i.select)("core/editor").getCurrentPostType();if("newspack_spnsrs_cpt"!==s&&"post"!==s)return(0,r.createElement)(e,n);var o=n.slug,t="category"===o,p=d("category"===o?"categories":"tags","newspack-sponsors"),l=(0,a.sprintf)(d("%1$s one or more post %2$s to associate this sponsor with those %3$s.","newspack-sponsors"),d(t?"Select ":"Add ","newspack-sponsors"),p,p);return(0,r.createElement)(r.Fragment,null,"newspack_spnsrs_cpt"===s&&("category"===o||"post_tag"===o)&&(0,r.createElement)("p",null,(0,r.createElement)("em",null,l)),(0,r.createElement)(e,u({},n,{hasCreateAction:"newspack_spnsrs_tax"!==o})))}})),(0,o.registerPlugin)("newspack-sponsors-editor",{render:w,icon:null});var _=window;for(var f in n)_[f]=n[f];n.__esModule&&Object.defineProperty(_,"__esModule",{value:!0})})();