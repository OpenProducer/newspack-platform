(()=>{var t={1873:(t,e,r)=>{var n=r(9325).Symbol;t.exports=n},2552:(t,e,r)=>{var n=r(1873),o=r(659),i=r(9350),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},4128:(t,e,r)=>{var n=r(1800),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},4840:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},659:(t,e,r)=>{var n=r(1873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},9350:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},9325:(t,e,r)=>{var n=r(4840),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},1800:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},8221:(t,e,r)=>{var n=r(3805),o=r(124),i=r(9374),a=Math.max,u=Math.min;t.exports=function(t,e,r){var c,s,l,d,f,p,b=0,y=!1,v=!1,_=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var r=c,n=s;return c=s=void 0,b=e,d=t.apply(n,r)}function h(t){var r=t-p;return void 0===p||r>=e||r<0||v&&t-b>=l}function w(){var t=o();if(h(t))return g(t);f=setTimeout(w,function(t){var r=e-(t-p);return v?u(r,l-(t-b)):r}(t))}function g(t){return f=void 0,_&&c?m(t):(c=s=void 0,d)}function x(){var t=o(),r=h(t);if(c=arguments,s=this,p=t,r){if(void 0===f)return function(t){return b=t,f=setTimeout(w,e),y?m(t):d}(p);if(v)return clearTimeout(f),f=setTimeout(w,e),m(p)}return void 0===f&&(f=setTimeout(w,e)),d}return e=i(e)||0,n(r)&&(y=!!r.leading,l=(v="maxWait"in r)?a(i(r.maxWait)||0,e):l,_="trailing"in r?!!r.trailing:_),x.cancel=function(){void 0!==f&&clearTimeout(f),b=0,c=p=s=f=void 0},x.flush=function(){return void 0===f?d:g(o())},x}},3805:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},346:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},4394:(t,e,r)=>{var n=r(2552),o=r(346);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},124:(t,e,r)=>{var n=r(9325);t.exports=function(){return n.Date.now()}},9374:(t,e,r)=>{var n=r(4128),o=r(3805),i=r(4394),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=u.test(t);return r||c.test(t)?s(t.slice(2),r?2:8):a.test(t)?NaN:+t}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=r(8221),e=r.n(t);const n="wpbnbd__button--active",o=t=>`.wpbnbd__tiers__amount [data-frequency-slug="${t}"]`,i=t=>{const r=((t="")=>{try{const e=JSON.parse(t);return{params:{frequency:e[0],tierPrefix:e[1]},initialFrequency:e[2],tiersBasedOptions:e[3],amounts:e[4],renewsAt:{month:e[5],year:e[6]},buttonColor:e[7]}}catch(t){return!1}})(t.getAttribute("data-tiers-based-config")||"");if(!r)return;const i=t.querySelectorAll(".wpbnbd__tiers__selection button"),a=t.querySelectorAll(".wpbnbd__tiers__amount [data-frequency-slug]"),u=t.querySelector(`input[name="${r.params.frequency}"]`),c=t.querySelector("form[data-is-init-form]");if(!(i&&a&&u&&c))return;((t,r)=>{const n=t.querySelector(".wpbnbd__tiers__options"),o=t.querySelector(".wpbnbd__tiers__options__dots");if(!n||!o||!r)return;const i=()=>Array.from(n.children).map((t=>({el:t,width:t.clientWidth})));let a=i();const u=Math.round(a.length/2)-1,c=()=>a[u].width,s=()=>a.map(((t,e)=>l*e));let l=c(),d=s();const f=u*l;window.addEventListener("resize",(()=>{a=i(),l=c(),d=s(),n.scrollTo(f,0)}));const p=Array.from(o.children),b=e()((()=>{const t=((t,e)=>{const r=t.reduce(((t,r)=>Math.abs(r-e)<Math.abs(t)?r-e:t),1/0)+e;return t.indexOf(r)})(d,n.scrollLeft);p.forEach(((e,n)=>{e.style.backgroundColor=n===t?r.buttonColor:""}))}),100);n.addEventListener("scroll",b),p.forEach(((t,e)=>{t.addEventListener("click",(()=>{n.scrollTo({left:e*l,behavior:"smooth"})}))})),n.scrollTo(f,0)})(t,r);let s=r.initialFrequency;i.forEach((e=>{e.addEventListener("click",(()=>{const c=e.getAttribute("data-frequency-slug");c&&(s=c,u.setAttribute("value",s),a.forEach((t=>t.style.display="none")),t.querySelectorAll(o(s)).forEach((t=>t.style.display="inline")),i.forEach((t=>{s===t.getAttribute("data-frequency-slug")?t.classList.add(n):t.classList.remove(n)})),t.querySelectorAll('button[type="submit"]').forEach((t=>{if(!s)return;t.setAttribute("name",`${r.params.tierPrefix}${s}`);const e=t.getAttribute("data-tier-index"),n=document.querySelector(`${o(s)}[data-tier-index="${e}"]`);if(!n)return;const i=n.getAttribute("data-amount");i&&t.setAttribute("value",i)})))}))}));const l=t.querySelector("button.wpbnbd__tiers__back-button"),d=t.querySelectorAll(".wpbnbd__tiers__tier button"),f=t.querySelectorAll(".wpbnbd__tiers__view");d.forEach((e=>{e.addEventListener("click",(()=>{const n=parseInt(e.getAttribute("data-tier-index")||""),o=c.querySelector('input[name="donation_tier_index"]'),i=c.querySelector(`input[name="donation_value_${s}"]`);o&&o.remove(),i&&i.remove();const a=document.createElement("input"),u=document.createElement("input");a.setAttribute("type","hidden"),u.setAttribute("type","hidden"),a.setAttribute("name","donation_tier_index"),u.setAttribute("name",`donation_value_${s}`),a.setAttribute("value",n.toString()),u.setAttribute("value",r.amounts[s][n]),c.appendChild(a),c.appendChild(u);const l=t.querySelector(".wpbnbd__tiers__tier-tile h2"),d=t.querySelector(".wpbnbd__tiers__tier-tile span[data-amount]"),p=t.querySelector(".wpbnbd__tiers__tier-tile span[data-frequency]"),b=t.querySelector(".wpbnbd__tiers__tier-tile span[data-renews-date]");if(isNaN(n)||!l||!d||!p||!b)return;const y=r.tiersBasedOptions[n],v=t.querySelector(`[data-frequency-slug="${s}"]`)?.getAttribute("data-frequency-label");l.textContent=y.heading,p.textContent=v||"",d.textContent=r.amounts[s][n],b.textContent=r.renewsAt[s],f.forEach((t=>t.classList.toggle("wpbnbd__tiers__view--hidden")))}))})),window.addEventListener(`newspackPaymentFlowComplete-${t.id}`,(()=>{l&&(l.style.display="none")}))};var a;"undefined"!=typeof window&&(a=()=>((t=document)=>{t.querySelectorAll(".wpbnbd--tiers-based").forEach(i)})(),"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",a):a()))})()})();