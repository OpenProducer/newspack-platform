(()=>{var e={2:(e,t,s)=>{var n=s(2199),a=s(4664),r=s(5950);e.exports=function(e){return n(e,r,a)}},79:(e,t,s)=>{var n=s(3702),a=s(80),r=s(4739),i=s(8655),o=s(1175);function l(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,e.exports=l},80:(e,t,s)=>{var n=s(6025),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,s=n(t,e);return!(s<0||(s==t.length-1?t.pop():a.call(t,s,1),--this.size,0))}},104:(e,t,s)=>{var n=s(3661);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var s=function(){var n=arguments,a=t?t.apply(this,n):n[0],r=s.cache;if(r.has(a))return r.get(a);var i=e.apply(this,n);return s.cache=r.set(a,i)||r,i};return s.cache=new(a.Cache||n),s}a.Cache=n,e.exports=a},124:(e,t,s)=>{var n=s(9325);e.exports=function(){return n.Date.now()}},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var s in Object(e))t.push(s);return t}},270:(e,t,s)=>{var n=s(7068),a=s(346);e.exports=function e(t,s,r,i,o){return t===s||(null==t||null==s||!a(t)&&!a(s)?t!=t&&s!=s:n(t,s,r,i,e,o))}},289:(e,t,s)=>{var n=s(2651);e.exports=function(e){return n(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,s=Array(e.size);return e.forEach(function(e,n){s[++t]=[n,e]}),s}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,s){var n=typeof e;return!!(s=null==s?9007199254740991:s)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<s}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},583:(e,t,s)=>{var n=s(7237),a=s(7255),r=s(8586),i=s(7797);e.exports=function(e){return r(e)?n(i(e)):a(e)}},631:(e,t,s)=>{var n=s(8077),a=s(9326);e.exports=function(e,t){return null!=e&&a(e,t,n)}},641:(e,t,s)=>{var n=s(6649),a=s(5950);e.exports=function(e,t){return e&&n(e,t,a)}},659:(e,t,s)=>{var n=s(1873),a=Object.prototype,r=a.hasOwnProperty,i=a.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,o),s=e[o];try{e[o]=void 0;var n=!0}catch(e){}var a=i.call(e);return n&&(t?e[o]=s:delete e[o]),a}},689:(e,t,s)=>{var n=s(2),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,s,r,i,o){var l=1&s,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in t:a.call(t,p)))return!1}var h=o.get(e),f=o.get(t);if(h&&f)return h==t&&f==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=l;++u<d;){var v=e[p=c[u]],b=t[p];if(r)var w=l?r(b,v,p,t,e,o):r(v,b,p,e,t,o);if(!(void 0===w?v===b||i(v,b,s,r,o):w)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var y=e.constructor,x=t.constructor;y==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(m=!1)}return o.delete(e),o.delete(t),m}},695:(e,t,s)=>{var n=s(8096),a=s(2428),r=s(6449),i=s(3656),o=s(361),l=s(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var s=r(e),d=!s&&a(e),u=!s&&!d&&i(e),p=!s&&!d&&!u&&l(e),h=s||d||u||p,f=h?n(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||u&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,m))||f.push(g);return f}},756:(e,t,s)=>{var n=s(3805);e.exports=function(e){return e==e&&!n(e)}},766:(e,t,s)=>{"use strict";s.d(t,{O:()=>l,X:()=>c});var n=s(7723),a=s(6427),r=s(7143),i=s(790);const o=({options:e,values:t,onChange:s,defaultRequiredSlug:n=null})=>Array.isArray(e)?e.map(({name:e,slug:r})=>{const o=n&&r===n,l=n&&t.some(e=>e!==n),c=o&&!l;return(0,i.jsx)(a.CheckboxControl,{label:e,checked:t.indexOf(r)>-1,disabled:c,onChange:e=>{const a=[...new Set(t)];e&&-1===a.indexOf(r)?a.push(r):!e&&a.indexOf(r)>-1&&a.splice(a.indexOf(r),1),n&&0===a.length&&a.push(n),s(a)}},r)}):(0,i.jsx)(a.Spinner,{}),l=({attributes:e,setAttributes:t})=>{const{availablePostTypes:s}=(0,r.useSelect)(e=>{const{getPostTypes:t}=e("core"),s=(0,n.__)("Listings","newspack-blocks");return{availablePostTypes:t({per_page:-1})?.filter(({supports:{newspack_blocks:e}})=>e)?.map(e=>(0===e.slug.indexOf("newspack_lst")&&"newspack_lst_generic"!==e.slug&&-1===e.name.indexOf(s)&&(e.name=`${e.name} ${s}`),e))}});return(0,i.jsx)(a.PanelBody,{title:(0,n.__)("Post Types","newspack-blocks"),initialOpen:!1,children:(0,i.jsx)(o,{options:s,values:e.postType,onChange:e=>t({postType:e}),defaultRequiredSlug:"post"})})},c=({attributes:e,setAttributes:t})=>(0,i.jsxs)(a.PanelBody,{title:(0,n.__)("Additional Post Statuses","newspack-blocks"),initialOpen:!1,children:[(0,i.jsx)(a.BaseControl,{help:(0,n.__)("Selection here has effect only for editors, regular users will only see published posts.","newspack-blocks")}),(0,i.jsx)(o,{values:e.includedPostStatuses,options:[{name:"Draft",slug:"draft"},{name:"Scheduled",slug:"future"}],onChange:e=>t({includedPostStatuses:e})})]})},776:(e,t,s)=>{var n=s(756),a=s(5950);e.exports=function(e){for(var t=a(e),s=t.length;s--;){var r=t[s],i=e[r];t[s]=[r,i,n(i)]}return t}},790:e=>{"use strict";e.exports=window.ReactJSXRuntime},909:(e,t,s)=>{var n=s(641),a=s(8329)(n);e.exports=a},916:(e,t,s)=>{var n=s(909);e.exports=function(e,t){var s;return n(e,function(e,n,a){return!(s=t(e,n,a))}),!!s}},938:e=>{e.exports=function(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}},945:(e,t,s)=>{var n=s(79),a=s(8223),r=s(3661);e.exports=function(e,t){var s=this.__data__;if(s instanceof n){var i=s.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++s.size,this;s=this.__data__=new r(i)}return s.set(e,t),this.size=s.size,this}},999:(e,t,s)=>{var n=s(9302),a=s(6800);e.exports=function(e){return n(function(t,s){var n=-1,r=s.length,i=r>1?s[r-1]:void 0,o=r>2?s[2]:void 0;for(i=e.length>3&&"function"==typeof i?(r--,i):void 0,o&&a(s[0],s[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var l=s[n];l&&e(t,l,n,i)}return t})}},1033:e=>{e.exports=function(e,t,s){switch(s.length){case 0:return e.call(t);case 1:return e.call(t,s[0]);case 2:return e.call(t,s[0],s[1]);case 3:return e.call(t,s[0],s[1],s[2])}return e.apply(t,s)}},1042:(e,t,s)=>{var n=s(6110)(Object,"create");e.exports=n},1126:e=>{"use strict";e.exports=JSON.parse('{"UU":"homepage-articles","L1":"newspack","uK":{"className":{"type":"string","default":""},"showExcerpt":{"type":"boolean","default":true},"showFullContent":{"type":"boolean","default":false},"excerptLength":{"type":"number","default":55},"showReadMore":{"type":"boolean","default":false},"infiniteScroll":{"type":"boolean","default":false},"readMoreLabel":{"type":"string","default":"Keep reading"},"showDate":{"type":"boolean","default":true},"showImage":{"type":"boolean","default":true},"showCaption":{"type":"boolean","default":false},"showCredit":{"type":"boolean","default":false},"disableImageLazyLoad":{"type":"boolean","default":false},"fetchPriority":{"type":"string","default":""},"imageShape":{"type":"string","default":"landscape"},"minHeight":{"type":"integer","default":0},"moreButton":{"type":"boolean","default":false},"moreButtonText":{"type":"string","default":""},"showAuthor":{"type":"boolean","default":true},"showAvatar":{"type":"boolean","default":true},"showCategory":{"type":"boolean","default":false},"postLayout":{"type":"string","default":"list"},"columns":{"type":"integer","default":3},"colGap":{"type":"integer","default":3},"postsToShow":{"type":"integer","default":3},"mediaPosition":{"type":"string","default":"top"},"authors":{"type":"array","default":[],"items":{"type":"integer"}},"categories":{"type":"array","default":[],"items":{"type":"integer"}},"categoryJoinType":{"type":"string","default":"or","enum":["or","all"]},"includeSubcategories":{"type":"boolean","default":true},"tags":{"type":"array","default":[],"items":{"type":"integer"}},"customTaxonomies":{"type":"array","default":[],"items":{"type":"object","properties":{"slug":{"type":"string"},"terms":{"type":"array","items":{"type":"integer"}}}}},"tagExclusions":{"type":"array","default":[],"items":{"type":"integer"}},"categoryExclusions":{"type":"array","default":[],"items":{"type":"integer"}},"customTaxonomyExclusions":{"type":"array","default":[],"items":{"type":"object","properties":{"slug":{"type":"string"},"terms":{"type":"array","items":{"type":"integer"}}}}},"specificPosts":{"type":"array","default":[],"items":{"type":"integer"}},"typeScale":{"type":"integer","default":4},"imageScale":{"type":"integer","default":3},"mobileStack":{"type":"boolean","default":false},"sectionHeader":{"type":"string","default":""},"specificMode":{"type":"boolean","default":false},"textColor":{"type":"string","default":""},"customTextColor":{"type":"string","default":""},"singleMode":{"type":"boolean","default":false},"showSubtitle":{"type":"boolean","default":false},"postType":{"type":"array","default":["post"],"items":{"type":"string"}},"textAlign":{"type":"string","default":""},"includedPostStatuses":{"type":"array","default":["publish"],"items":{"type":"string"}},"deduplicate":{"type":"boolean","default":true}}}')},1175:(e,t,s)=>{var n=s(6025);e.exports=function(e,t){var s=this.__data__,a=n(s,e);return a<0?(++this.size,s.push([e,t])):s[a][1]=t,this}},1225:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var n=s(7723),a=s(6087),r=s(6427),i=s(1455),o=s.n(i),l=s(3832),c=s(8537),d=s(8468),u=s(790);class p extends a.Component{constructor(e){super(e),this.state={suggestions:[],validValues:{},loading:this.isFetchingInfoOnLoad()},this.debouncedUpdateSuggestions=(0,d.debounce)(this.updateSuggestions,500)}isFetchingInfoOnLoad=()=>{const{tokens:e,fetchSavedInfo:t}=this.props;return Boolean(e.length&&t)};componentDidMount(){if(this.isFetchingInfoOnLoad()){const{tokens:e,fetchSavedInfo:t}=this.props;t(e).then(e=>{const{validValues:t}=this.state;e.forEach(e=>{t[e.value]=e.label}),this.setState({validValues:t,loading:!1})})}}componentWillUnmount(){delete this.suggestionsRequest,this.debouncedUpdateSuggestions.cancel()}getLabelsForValues(e){const{validValues:t}=this.state;return e.reduce((e,s)=>t[s]?[...e,t[s]]:e,[])}getValuesForLabels(e){const{validValues:t}=this.state;return e.map(e=>Object.keys(t).find(s=>t[s]===e)).filter(e=>!!e)}updateSuggestions(e){const{fetchSuggestions:t}=this.props;t&&this.setState({loading:!0},()=>{const s=t(e);s.then(e=>{if(this.suggestionsRequest!==s)return;const{validValues:t}=this.state,n=[];e.forEach(e=>{const s=e.label.trim();n.indexOf(s)>=0&&(e.label=`${s} (${e.value})`),n.push(s),t[e.value]=s}),this.setState({suggestions:n,validValues:t,loading:!1})}).catch(()=>{this.suggestionsRequest===s&&this.setState({loading:!1})}),this.suggestionsRequest=s})}handleOnChange(e){const{onChange:t}=this.props;t(this.getValuesForLabels(e))}getTokens(){const{tokens:e}=this.props;return this.getLabelsForValues(e)}render(){const{help:e,label:t=""}=this.props,{suggestions:s,loading:n}=this.state;return(0,u.jsxs)("div",{className:"autocomplete-tokenfield",children:[(0,u.jsx)(r.FormTokenField,{value:this.getTokens(),suggestions:s,onChange:e=>this.handleOnChange(e),onInputChange:e=>this.debouncedUpdateSuggestions(e),label:t,__next40pxDefaultSize:!0}),n&&(0,u.jsx)(r.Spinner,{}),e&&(0,u.jsx)("p",{className:"autocomplete-tokenfield__help",children:e})]})}}const h=p,f=e=>(0,c.decodeEntities)(e.name)||(0,n.__)("(no title)","newspack-blocks"),m=e=>(0,c.decodeEntities)(e.name)||(0,n.__)("(no title)","newspack-blocks");class g extends a.Component{fetchPostSuggestions=e=>{const{postType:t}=this.props,s=window.newspack_blocks_data.specific_posts_rest_url;return o()({url:(0,l.addQueryArgs)(s,{search:e,postsToShow:20,_fields:"id,title",type:"post",postType:t})}).then(function(e){return e.map(e=>({value:e.id,label:(0,c.decodeEntities)(e.title)||(0,n.__)("(no title)","newspack-blocks")}))})};fetchSavedPosts=e=>{const{postType:t}=this.props,s=window.newspack_blocks_data.posts_rest_url;return o()({url:(0,l.addQueryArgs)(s,{postsToShow:100,include:e.join(","),_fields:"id,title",postType:t})}).then(function(e){return e.map(e=>({value:e.id,label:(0,c.decodeEntities)(e.title.rendered)||(0,n.__)("(no title)","newspack-blocks")}))})};fetchAuthorSuggestions=e=>{const t=window.newspack_blocks_data.authors_rest_url;return o()({url:(0,l.addQueryArgs)(t,{search:e,per_page:20,fields:"id,name"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,c.decodeEntities)(e.name)||(0,n.__)("(no name)","newspack-blocks")}))})};fetchSavedAuthors=e=>{const t=window.newspack_blocks_data.authors_rest_url;return o()({url:(0,l.addQueryArgs)(t,{per_page:100,include:e.join(","),fields:"id,name"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,c.decodeEntities)(e.name)||(0,n.__)("(no name)","newspack-blocks")}))})};fetchCategorySuggestions=e=>o()({path:(0,l.addQueryArgs)("/wp/v2/categories",{search:e,per_page:20,_fields:"id,name,parent",orderby:"count",order:"desc"})}).then(e=>Promise.all(e.map(e=>e.parent>0?o()({path:(0,l.addQueryArgs)(`/wp/v2/categories/${e.parent}`,{_fields:"name"})}).then(t=>({value:e.id,label:`${f(e)} – ${f(t)}`})):Promise.resolve({value:e.id,label:f(e)}))));fetchSavedCategories=e=>o()({path:(0,l.addQueryArgs)("/wp/v2/categories",{per_page:100,_fields:"id,name",include:e.join(",")})}).then(function(t){const s=t.map(e=>({value:e.id,label:(0,c.decodeEntities)(e.name)||(0,n.__)("(no title)","newspack-blocks")}));return e.forEach(e=>{s.find(t=>t.value===parseInt(e))||s.push({value:parseInt(e),label:(0,n.__)("Deleted category","newspack-blocks")})}),s});fetchTagSuggestions=e=>o()({path:(0,l.addQueryArgs)("/wp/v2/tags",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,c.decodeEntities)(e.name)||(0,n.__)("(no title)","newspack-blocks")}))});fetchSavedTags=e=>o()({path:(0,l.addQueryArgs)("/wp/v2/tags",{per_page:100,_fields:"id,name",include:e.join(",")})}).then(function(t){const s=t.map(e=>({value:e.id,label:(0,c.decodeEntities)(e.name)||(0,n.__)("(no title)","newspack-blocks")}));return e.forEach(e=>{s.find(t=>t.value===parseInt(e))||s.push({value:parseInt(e),label:(0,n.__)("Deleted tag","newspack-blocks")})}),s});fetchCustomTaxonomiesSuggestions=(e,t)=>o()({path:(0,l.addQueryArgs)(`/wp/v2/${e}`,{search:t,per_page:20,_fields:"id,name,parent",orderby:"count",order:"desc"})}).then(t=>Promise.all(t.map(t=>t.parent>0?o()({path:(0,l.addQueryArgs)(`/wp/v2/${e}/${t.parent}`,{_fields:"name"})}).then(e=>({value:t.id,label:`${m(t)} – ${m(e)}`})):Promise.resolve({value:t.id,label:m(t)}))));fetchSavedCustomTaxonomies=(e,t)=>o()({path:(0,l.addQueryArgs)(`/wp/v2/${e}`,{per_page:100,_fields:"id,name",include:t.join(",")})}).then(function(e){return e.map(e=>({value:e.id,label:(0,c.decodeEntities)(e.name)||(0,n.__)("(no title)","newspack-blocks")}))});render=()=>{const{specificMode:e,onSpecificModeChange:t,onLoopModeChange:s,specificPosts:a,onSpecificPostsChange:i,authors:o,onAuthorsChange:l,categories:c,onCategoriesChange:d,categoryJoinType:p,onCategoryJoinTypeChange:f,includeSubcategories:m,onIncludeSubcategoriesChange:g,tags:v,onTagsChange:b,customTaxonomies:w,onCustomTaxonomiesChange:y,tagExclusions:x,onTagExclusionsChange:_,categoryExclusions:k,onCategoryExclusionsChange:S,customTaxonomyExclusions:C,onCustomTaxonomyExclusionsChange:E,enableSpecific:T}=this.props,j=window.newspack_blocks_data?.custom_taxonomies,M=(e,t,s,n)=>{let a=e.filter(e=>e.slug!==s);a=[...a,{slug:s,terms:n}],t(a)},P=(e,t)=>{const s=e.find(e=>e.slug===t);return s?s.terms:[]};return(0,u.jsxs)(u.Fragment,{children:[T&&(0,u.jsxs)(r.__experimentalToggleGroupControl,{label:(0,n.__)("Mode","newspack-blocks"),value:e?"specific":"dynamic",onChange:e=>{"specific"===e?t():s()},isBlock:!0,help:e?(0,n.__)("The block will display only the specifically selected content.","newspack-blocks"):(0,n.__)("The block will display content based on the filtering settings below.","newspack-blocks"),__next40pxDefaultSize:!0,children:[(0,u.jsx)(r.__experimentalToggleGroupControlOption,{label:(0,n.__)("Dynamic","newspack-blocks"),value:"dynamic"}),(0,u.jsx)(r.__experimentalToggleGroupControlOption,{label:(0,n.__)("Static","newspack-blocks"),value:"specific"})]}),e?(0,u.jsx)(h,{tokens:a||[],onChange:i,fetchSuggestions:this.fetchPostSuggestions,fetchSavedInfo:this.fetchSavedPosts,label:(0,n.__)("Content","newspack-blocks"),help:(0,n.__)("Begin typing any word in a title. Click on an autocomplete result to select it.","newspack-blocks")}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.QueryControls,{...this.props,maxItems:30}),d&&(0,u.jsxs)(r.BaseControl,{id:"newspack-block__category-control",children:[(0,u.jsxs)("div",{className:"components-base-control__label-dropdown",children:[(0,u.jsx)(r.BaseControl.VisualLabel,{children:(0,n.__)("Category","newspack-blocks")}),(0,u.jsx)(r.SelectControl,{size:"small",value:p,options:[{label:(0,n.__)("is one of","newspack-blocks"),value:"or"},{label:(0,n.__)("is all of","newspack-blocks"),value:"all"}],onChange:e=>{"all"===e&&g(!1),f(e)},__nextHasNoMarginBottom:!0})]}),(0,u.jsx)(h,{tokens:c||[],onChange:d,fetchSuggestions:this.fetchCategorySuggestions,fetchSavedInfo:this.fetchSavedCategories})]}),"all"!==p&&g&&(0,u.jsx)(r.CheckboxControl,{checked:m,onChange:g,label:(0,n.__)("Include subcategories","newspack-blocks")}),b&&(0,u.jsx)(h,{tokens:v||[],onChange:b,fetchSuggestions:this.fetchTagSuggestions,fetchSavedInfo:this.fetchSavedTags,label:(0,n.__)("Tags","newspack-blocks")}),l&&(0,u.jsx)(h,{tokens:o||[],onChange:l,fetchSuggestions:this.fetchAuthorSuggestions,fetchSavedInfo:this.fetchSavedAuthors,label:(0,n.__)("Authors","newspack-blocks")}),y&&j.map((e,t)=>(0,u.jsx)(h,{tokens:P(w,e.slug),onChange:t=>{M(w,y,e.slug,t)},fetchSuggestions:t=>this.fetchCustomTaxonomiesSuggestions(e.slug,t),fetchSavedInfo:t=>this.fetchSavedCustomTaxonomies(e.slug,t),label:e.label},t)),S&&(0,u.jsx)(h,{tokens:k||[],onChange:S,fetchSuggestions:this.fetchCategorySuggestions,fetchSavedInfo:this.fetchSavedCategories,label:(0,n.__)("Excluded categories","newspack-blocks")}),_&&(0,u.jsx)(h,{tokens:x||[],onChange:_,fetchSuggestions:this.fetchTagSuggestions,fetchSavedInfo:this.fetchSavedTags,label:(0,n.__)("Excluded tags","newspack-blocks")}),j&&E&&j.map(({label:e,slug:t})=>(0,u.jsx)(h,{fetchSavedInfo:e=>this.fetchSavedCustomTaxonomies(t,e),fetchSuggestions:e=>this.fetchCustomTaxonomiesSuggestions(t,e),label:(0,n.sprintf)(
// translators: %s is the custom taxonomy label.
// translators: %s is the custom taxonomy label.
(0,n.__)("Excluded %s","newspack-blocks"),e),onChange:e=>M(C,E,t,e),tokens:P(C,t)},`${t}-exclusions-selector`))]})]})}}g.defaultProps={enableSpecific:!0,specificPosts:[],authors:[],categories:[],tags:[],customTaxonomies:[],tagExclusions:[],customTaxonomyExclusions:[]};const v=g},1331:(e,t,s)=>{var n=s(2552),a=s(8879),r=s(346),i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=n(e))return!1;var t=a(e);if(null===t)return!0;var s=c.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&l.call(s)==d}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1417:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(790),a=s(5573),r=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{d:"M4 18h6V6H4v12zm9-9.5V10h7V8.5h-7zm0 7h7V14h-7v1.5z"})})},1420:(e,t,s)=>{var n=s(79);e.exports=function(){this.__data__=new n,this.size=0}},1455:e=>{"use strict";e.exports=window.wp.apiFetch},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1489:(e,t,s)=>{var n=s(7400);e.exports=function(e){var t=n(e),s=t%1;return t==t?s?t-s:t:0}},1538:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var n=s(6087),a=(0,n.forwardRef)(({icon:e,size:t=24,...s},a)=>(0,n.cloneElement)(e,{width:t,height:t,...s,ref:a}))},1549:(e,t,s)=>{var n=s(2032),a=s(3862),r=s(6721),i=s(2749),o=s(5749);function l(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,e.exports=l},1609:e=>{"use strict";e.exports=window.React},1769:(e,t,s)=>{var n=s(6449),a=s(8586),r=s(1802),i=s(3222);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:r(i(e))}},1791:(e,t,s)=>{var n=s(6547),a=s(3360);e.exports=function(e,t,s,r){var i=!s;s||(s={});for(var o=-1,l=t.length;++o<l;){var c=t[o],d=r?r(s[c],e[c],c,s,e):void 0;void 0===d&&(d=e[c]),i?a(s,c,d):n(s,c,d)}return s}},1799:(e,t,s)=>{var n=s(7217),a=s(270);e.exports=function(e,t,s,r){var i=s.length,o=i,l=!r;if(null==e)return!o;for(e=Object(e);i--;){var c=s[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){var d=(c=s[i])[0],u=e[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var h=new n;if(r)var f=r(u,p,d,e,t,h);if(!(void 0===f?a(p,u,3,r,h):f))return!1}}return!0}},1800:e=>{var t=/\s/;e.exports=function(e){for(var s=e.length;s--&&t.test(e.charAt(s)););return s}},1802:(e,t,s)=>{var n=s(2224),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,i=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,s,n,a){t.push(n?a.replace(r,"$1"):s||e)}),t});e.exports=i},1811:e=>{var t=Date.now;e.exports=function(e){var s=0,n=0;return function(){var a=t(),r=16-(a-n);if(n=a,r>0){if(++s>=800)return arguments[0]}else s=0;return e.apply(void 0,arguments)}}},1873:(e,t,s)=>{var n=s(9325).Symbol;e.exports=n},1882:(e,t,s)=>{var n=s(2552),a=s(3805);e.exports=function(e){if(!a(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1961:(e,t,s)=>{var n=s(9653);e.exports=function(e,t){var s=t?n(e.buffer):e.buffer;return new e.constructor(s,e.byteOffset,e.length)}},1986:(e,t,s)=>{var n=s(1873),a=s(7828),r=s(5288),i=s(5911),o=s(317),l=s(4247),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,s,n,c,u,p){switch(s){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=o;case"[object Set]":var f=1&n;if(h||(h=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;n|=2,p.set(e,t);var g=i(h(e),h(t),n,c,u,p);return p.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},2006:(e,t,s)=>{var n=s(5389),a=s(4894),r=s(5950);e.exports=function(e){return function(t,s,i){var o=Object(t);if(!a(t)){var l=n(s,3);t=r(t),s=function(e){return l(o[e],e,o)}}var c=e(t,s,i);return c>-1?o[l?t[c]:c]:void 0}}},2017:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(790),a=s(5573),r=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})})},2032:(e,t,s)=>{var n=s(1042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},2122:(e,t,s)=>{"use strict";s.d(t,{S:()=>d});var n=s(7723),a=s(6087);const r=window.wp.autop;var i=s(6942),o=s.n(i),l=s(790);const c=({author:e,children:t,showArchiveLink:s})=>s&&e&&e.url?(0,l.jsx)("a",{href:"#",className:"no-op",children:t}):(0,l.jsx)(l.Fragment,{children:t}),d=({author:e,attributes:t})=>{const{showBio:s,showSocial:i,showEmail:d,showArchiveLink:u,showAvatar:p,textSize:h,avatarAlignment:f,avatarBorderRadius:m,avatarSize:g}=t,v=i&&e&&e.social||{};d&&e&&e.email?v.email=e.email:delete v.email,t.shownewspack_phone_number&&e&&e.newspack_phone_number?v.newspack_phone_number=e.newspack_phone_number:delete v.newspack_phone_number;const b=[t.shownewspack_role&&e.newspack_role,t.shownewspack_employer&&e.newspack_employer].filter(Boolean).join(", "),w=Object.keys(v);return(0,l.jsxs)("div",{className:o()("wp-block-newspack-blocks-author-profile","avatar-"+f,"text-size-"+h,t.className),children:[p&&e.avatar&&(0,l.jsx)("div",{className:"wp-block-newspack-blocks-author-profile__avatar",children:(0,l.jsx)("figure",{style:{borderRadius:m,height:`${g}px`,width:`${g}px`},dangerouslySetInnerHTML:{__html:e.avatar}})}),(0,l.jsxs)("div",{className:"wp-block-newspack-blocks-author-profile__bio",children:[(0,l.jsx)("h3",{children:(0,l.jsx)(c,{author:e,showArchiveLink:u,children:e.name})}),t.shownewspack_job_title&&e.newspack_job_title&&(0,l.jsx)("p",{className:"wp-block-newspack-blocks-author-profile__job-title",children:e.newspack_job_title}),b&&(0,l.jsx)("p",{className:"wp-block-newspack-blocks-author-profile__employment",children:b}),s&&e.bio&&(0,l.jsxs)("p",{children:[(0,l.jsxs)(a.RawHTML,{children:[(0,r.autop)(e.bio)," "]}),u&&(0,l.jsx)("a",{href:"#",className:"no-op",children:(0,n.__)("More by","newspack-blocks")+" "+e.name})]}),0!==w.length&&(0,l.jsx)("ul",{className:"wp-block-newspack-blocks-author-profile__social-links",children:w.map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)("a",{href:"#",className:"no-op",children:[v[e].svg&&(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:v[e].svg}}),(0,l.jsx)("span",{className:v[e].svg?"hidden":"visible",children:e})]})},e))})]})]})}},2193:(e,t,s)=>{var n=s(8984),a=s(5861),r=s(2428),i=s(6449),o=s(4894),l=s(3656),c=s(5527),d=s(7167),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||r(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var s in e)if(u.call(e,s))return!1;return!0}},2199:(e,t,s)=>{var n=s(4528),a=s(6449);e.exports=function(e,t,s){var r=t(e);return a(e)?r:n(r,s(e))}},2224:(e,t,s)=>{var n=s(104);e.exports=function(e){var t=n(e,function(e){return 500===s.size&&s.clear(),e}),s=t.cache;return t}},2426:(e,t,s)=>{var n=s(4248),a=s(5389),r=s(916),i=s(6449),o=s(6800);e.exports=function(e,t,s){var l=i(e)?n:r;return s&&o(e,t,s)&&(t=void 0),l(e,a(t,3))}},2428:(e,t,s)=>{var n=s(7534),a=s(346),r=Object.prototype,i=r.hasOwnProperty,o=r.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return a(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2523:e=>{e.exports=function(e,t,s,n){for(var a=e.length,r=s+(n?1:-1);n?r--:++r<a;)if(t(e[r],r,e))return r;return-1}},2552:(e,t,s)=>{var n=s(1873),a=s(659),r=s(9350),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):r(e)}},2619:e=>{"use strict";e.exports=window.wp.hooks},2651:(e,t,s)=>{var n=s(4218);e.exports=function(e,t){var s=e.__data__;return n(t)?s["string"==typeof t?"string":"hash"]:s.map}},2694:(e,t,s)=>{"use strict";var n=s(6925);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,s,a,r,i){if(i!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return s.PropTypes=s,s}},2749:(e,t,s)=>{var n=s(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)}},2804:(e,t,s)=>{var n=s(6110)(s(9325),"Promise");e.exports=n},2824:(e,t,s)=>{var n=s(7805),a=s(3290),r=s(1961),i=s(3007),o=s(5529),l=s(2428),c=s(6449),d=s(3693),u=s(3656),p=s(1882),h=s(3805),f=s(1331),m=s(7167),g=s(4974),v=s(9884);e.exports=function(e,t,s,b,w,y,x){var _=g(e,s),k=g(t,s),S=x.get(k);if(S)n(e,s,S);else{var C=y?y(_,k,s+"",e,t,x):void 0,E=void 0===C;if(E){var T=c(k),j=!T&&u(k),M=!T&&!j&&m(k);C=k,T||j||M?c(_)?C=_:d(_)?C=i(_):j?(E=!1,C=a(k,!0)):M?(E=!1,C=r(k,!0)):C=[]:f(k)||l(k)?(C=_,l(_)?C=v(_):h(_)&&!p(_)||(C=o(k))):E=!1}E&&(x.set(k,C),w(C,k,b,y,x),x.delete(k)),n(e,s,C)}}},2859:(e,t,s)=>{"use strict";s.d(t,{Fl:()=>v,Wu:()=>i,cR:()=>g,kN:()=>c,pV:()=>l,u$:()=>b,yG:()=>u});var n=s(8468),a=s(7723),r=s(8903);const i=()=>"object"==typeof window&&window.wpcomGutenberg&&-1===Number(window.wpcomGutenberg.blogPublic),o=["postsToShow","authors","categories","includeSubcategories","categoryJoinType","excerptLength","tags","customTaxonomies","showExcerpt","specificPosts","specificMode","tagExclusions","categoryExclusions","customTaxonomyExclusions","postType","includedPostStatuses","deduplicate","showCaption","showCredit"],l=(e,t)=>!(0,n.isEqual)((0,n.pick)(e.attributes,o),(0,n.pick)(t.attributes,o))||!(0,n.isEqual)(e.topBlocksClientIdsInOrder,t.topBlocksClientIdsInOrder),c=e=>e.map(e=>parseInt(e)).filter(e=>e>0),d=e=>(0,n.pickBy)(e,e=>!(0,n.isUndefined)(e)&&!(0,n.isNull)(e)),u=(e,t)=>e.flatMap(e=>{const s=[];if(t.indexOf(e.name)>=0){const t=(e=>{const{postsToShow:t,authors:s,categories:a,includeSubcategories:r,categoryJoinType:i,excerptLength:l,postType:u,showExcerpt:p,showCaption:h,showCredit:f,tags:m,customTaxonomies:g,specificPosts:v=[],specificMode:b,tagExclusions:w,categoryExclusions:y,customTaxonomyExclusions:x,includedPostStatuses:_}=(0,n.pick)(e,o),k=c(v),S=b&&k&&k.length,C=(0,n.pickBy)(S?{include:k,postsToShow:v.length,postType:u}:{postsToShow:t,categories:d(a),includeSubcategories:r,categoryJoinType:i,authors:d(s),tags:d(m),tagExclusions:d(w),categoryExclusions:d(y),customTaxonomyExclusions:x,customTaxonomies:g,postType:u,includedPostStatuses:_},e=>!(0,n.isUndefined)(e));return C.excerptLength=l,C.showExcerpt=p,C.showCaption=h,C.showCredit=f,C})(e.attributes);s.push({postsQuery:t,clientId:e.clientId})}return s.concat(u(e.innerBlocks,t))}),p=e=>e.flatMap(e=>{const t=[];return t.push(e.clientId),t.concat(p(e.innerBlocks))}),h=window.newspack_blocks_data.assets_path,f=e=>{const t=new Date;return t.setHours(12,0,0,0),{author:1,content:{rendered:"<p>"+(0,a.__)("The post content.","newspack-blocks")+"</p>"},date:t.toISOString(),date_formatted:t.toLocaleString(),article_meta_footer:"",excerpt:{rendered:"<p>"+(0,a.__)("The post excerpt.","newspack-blocks")+"</p>"},full_content:(0,a.__)("Full post content.","newspack-blocks"),post_link:"/",featured_media:"1",id:e,post_type:"post",meta:{newspack_post_subtitle:(0,a.__)("Post Subtitle","newspack-blocks")},title:{rendered:(0,a.__)("Post Title","newspack-blocks")},newspack_article_classes:"type-post",newspack_post_avatars:'<div style="background: #e8e8e8;width: 40px;height: 40px;display: block;overflow: hidden;border-radius: 50%; max-width: 100%; max-height: 100%;" class="avatar"></div>',newspack_post_byline:`<span class="byline">\n\t\t\t<span class="author-prefix">${(0,a.__)("by","newspack-blocks")}</span>\n\t\t\t<span class="author vcard">\n\t\t\t\t<a class="url fn n" href="/">Author Name</a>\n\t\t\t</span>\n\t\t</span>`,newspack_category_info:(0,a.__)("Category","newspack-blocks"),newspack_featured_image_caption:(0,a.__)("Featured image caption","newspack-blocks"),newspack_featured_image_src:{large:`${h}/placeholder-1024x536.jpg`,landscape:`${h}/placeholder-800x600.jpg`,portrait:`${h}/placeholder-600x800.jpg`,square:`${h}/placeholder-800x800.jpg`,uncropped:`${h}/placeholder-1024x536.jpg`},newspack_has_custom_excerpt:!1,newspack_sponsors_show_categories:!1,newspack_sponsors_show_author:!1}},m=e=>(0,n.times)(e.postsToShow,f),g=(e,{clientId:t,attributes:s})=>{const{getBlocks:n}=e("core/block-editor"),{getEditedPostAttribute:a}=e("core/editor"),i=a("blocks")||[],o=[];for(const e of i)"core/block"===e.name?o.push(...n(e.clientId)):o.push(e);const l=p(o),c=n(),d=c.some(e=>"core/widget-area"===e.name),u=0===l.length||l.indexOf(t)>=0||d,{getPosts:h,getError:f,isUIDisabled:g}=e(r.C);return{isEditorBlock:u,isUIDisabled:g(),error:f({clientId:t}),topBlocksClientIdsInOrder:c.map(e=>e.clientId),latestPosts:u?h({clientId:t}):m(s)}},v=(e,{isEditorBlock:t})=>({triggerReflow:t?e(r.C).reflow:()=>{}}),b=(e,t=e())=>t.map(t=>{let s=0===t.innerBlocks.length?e(t.clientId):t.innerBlocks;return s=b(e,s),{...t,innerBlocks:s}})},2865:(e,t,s)=>{var n=s(9570),a=s(1811)(n);e.exports=a},2903:(e,t,s)=>{var n=s(3805),a=s(5527),r=s(181),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return r(e);var t=a(e),s=[];for(var o in e)("constructor"!=o||!t&&i.call(e,o))&&s.push(o);return s}},2949:(e,t,s)=>{var n=s(2651);e.exports=function(e,t){var s=n(this,e),a=s.size;return s.set(e,t),this.size+=s.size==a?0:1,this}},3007:e=>{e.exports=function(e,t){var s=-1,n=e.length;for(t||(t=Array(n));++s<n;)t[s]=e[s];return t}},3019:(e,t,s)=>{"use strict";s.d(t,{$A:()=>y,Ay:()=>_,MD:()=>w,dM:()=>x});var n=s(1455),a=s.n(n),r=s(4715),i=s(6427),o=s(6087),l=s(8537),c=s(2017),d=s(9068),u=s(1417),p=s(3216),h=s(7723),f=s(3832),m=s(2122),g=s(5858),v=s(6961),b=s(790);const w=[{value:"%",label:"%"},{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}],y=[{value:"small",label:/* translators: label for small text size option */ /* translators: label for small text size option */(0,h.__)("Small","newspack-blocks"),shortName:/* translators: abbreviation for small text size option */ /* translators: abbreviation for small text size option */(0,h.__)("S","newspack-blocks")},{value:"medium",label:/* translators: label for medium text size option */ /* translators: label for medium text size option */(0,h.__)("Medium","newspack-blocks"),shortName:/* translators: abbreviation for medium text size option */ /* translators: abbreviation for medium text size option */(0,h.__)("M","newspack-blocks")},{value:"large",label:/* translators: label for small text size option */ /* translators: label for small text size option */(0,h.__)("Large","newspack-blocks"),shortName:/* translators: abbreviation for large text size option */ /* translators: abbreviation for large text size option */(0,h.__)("L","newspack-blocks")},{value:"extra-large",label:/* translators: label for extra-large text size option */ /* translators: label for extra-large text size option */(0,h.__)("Extra Large","newspack-blocks"),shortName:/* translators: abbreviation for small text size option */ /* translators: abbreviation for small text size option */(0,h.__)("XL","newspack-blocks")}],x=[{value:72,label:/* translators: label for small avatar size option */ /* translators: label for small avatar size option */(0,h.__)("Small","newspack-blocks"),shortName:/* translators: abbreviation for small avatar size option */ /* translators: abbreviation for small avatar size option */(0,h.__)("S","newspack-blocks")},{value:128,label:/* translators: label for medium avatar size option */ /* translators: label for medium avatar size option */(0,h.__)("Medium","newspack-blocks"),shortName:/* translators: abbreviation for medium avatar size option */ /* translators: abbreviation for medium avatar size option */(0,h.__)("M","newspack-blocks")},{value:192,label:/* translators: label for large avatar size option */ /* translators: label for large avatar size option */(0,h.__)("Large","newspack-blocks"),shortName:/* translators: abbreviation for large avatar size option */ /* translators: abbreviation for large avatar size option */(0,h.__)("L","newspack-blocks")},{value:256,label:/* translators: label for extra-large avatar size option */ /* translators: label for extra-large avatar size option */(0,h.__)("Extra-large","newspack-blocks"),shortName:/* translators: abbreviation for extra-large avatar size option  */ /* translators: abbreviation for extra-large avatar size option  */(0,h.__)("XL","newspack-blocks")}],_=({attributes:e,setAttributes:t})=>{const[s,n]=(0,o.useState)(null),[_,k]=(0,o.useState)(null),[S,C]=(0,o.useState)(null),[E,T]=(0,o.useState)(!1),[j,M]=(0,o.useState)(0),{authorId:P,isGuestAuthor:A,showSocial:L,showEmail:I,textSize:O,showAvatar:N,avatarAlignment:z,avatarBorderRadius:D,avatarSize:$,avatarHideDefault:B}=e;(0,o.useEffect)(()=>{0!==P&&R()},[P,B,A]);const R=async()=>{C(null),T(!0);try{const e={author_id:P,is_guest_author:A?1:0,fields:"id,name,bio,email,social,avatar,url"};B&&(e.avatar_hide_default=1);const t=(await a()({path:(0,f.addQueryArgs)("/newspack-blocks/v1/authors",e)})).pop();if(!t)throw(0,h.sprintf)(/* translators: %s: error text for when no authors are found. */ /* translators: %s: error text for when no authors are found. */
(0,h.__)("No authors or guest authors found for ID %s.","newspack-blocks"),P);n(t)}catch(e){C(e.message||e||(0,h.sprintf)(/* translators: %s: error text for when no authors are found. */ /* translators: %s: error text for when no authors are found. */
(0,h.__)("No authors or guest authors found for ID %s.","newspack-blocks"),P))}T(!1)},F=L&&s&&s.social||{};return I&&s&&s.email?F.email=s.email:delete F.email,(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.InspectorControls,{children:[(0,b.jsxs)(i.PanelBody,{title:(0,h.__)("Author Profile Settings","newspack-blocks"),children:[(0,b.jsx)(i.__experimentalToggleGroupControl,{label:(0,h.__)("Text Size","newspack-blocks"),value:O,onChange:e=>t({textSize:e}),isBlock:!0,__next40pxDefaultSize:!0,children:y.map(e=>(0,b.jsx)(i.__experimentalToggleGroupControlOption,{label:e.shortName,value:e.value},e.value))}),(0,b.jsx)(g.P,{attributes:e,setAttributes:t})]}),(0,b.jsxs)(i.PanelBody,{title:(0,h.__)("Avatar","newspack-blocks"),children:[(0,b.jsx)(i.ToggleControl,{label:(0,h.__)("Display avatar","newspack-blocks"),checked:N,onChange:()=>t({showAvatar:!N})}),N&&(0,b.jsx)(i.ToggleControl,{label:(0,h.__)("Hide default avatar","newspack-blocks"),checked:B,onChange:()=>t({avatarHideDefault:!B})}),N&&(0,b.jsx)(i.__experimentalToggleGroupControl,{label:(0,h.__)("Size","newspack-blocks"),"aria-label":(0,h.__)("Avatar size","newspack-blocks"),value:$,onChange:e=>t({avatarSize:e}),isBlock:!0,__next40pxDefaultSize:!0,children:x.map(e=>(0,b.jsx)(i.__experimentalToggleGroupControlOption,{label:e.shortName,value:e.value},e.value))}),N&&(0,b.jsx)(i.__experimentalUnitControl,{label:(0,h.__)("Border radius","newspack-blocks"),"aria-label":(0,h.__)("Avatar border radius","newspack-blocks"),labelPosition:"edge",__next40pxDefaultSize:!0,__unstableInputWidth:"80px",units:w,value:D,onChange:e=>t({avatarBorderRadius:0>parseFloat(e)?"0":e})})]})]}),s&&(0,b.jsxs)(r.BlockControls,{children:[N&&!e.className?.includes("is-style-center")&&(0,b.jsx)(i.Toolbar,{controls:[{icon:u.A,title:(0,h.__)("Show avatar on left","newspack-blocks"),isActive:"left"===z,onClick:()=>t({avatarAlignment:"left"})},{icon:p.A,title:(0,h.__)("Show avatar on right","newspack-blocks"),isActive:"right"===z,onClick:()=>t({avatarAlignment:"right"})}]}),(0,b.jsx)(i.Toolbar,{controls:[{icon:c.A,title:(0,h.__)("Edit selection","newspack-blocks"),onClick:()=>{t({authorId:0}),n(null)}}]})]}),s?(0,b.jsx)(m.S,{author:s,attributes:e}):(0,b.jsxs)(i.Placeholder,{className:"newspack-blocks-author-profile",icon:d.A,label:(0,h.__)("Author Profile","newspack-blocks"),children:[S&&(0,b.jsx)(i.Notice,{status:"error",isDismissible:!1,children:S}),E&&(0,b.jsxs)("div",{className:"is-loading",children:[(0,h.__)("Fetching author info…","newspack-blocks"),(0,b.jsx)(i.Spinner,{})]}),!E&&(0,b.jsx)(v.IW,{label:(0,h.__)("Search for an author to display","newspack-blocks"),help:(0,h.__)("Begin typing name, click autocomplete result to select.","newspack-blocks"),fetchSuggestions:async(e=null,t=0)=>{if(k(null),P&&!S)return[];const s=await a()({parse:!1,path:(0,f.addQueryArgs)("/newspack-blocks/v1/authors",{search:e,offset:t,fields:"id,name"})}),n=parseInt(s.headers.get("x-wp-total")||0),r=await s.json();j||e||M(n);const i=r.map(e=>({value:e.id,label:(0,l.decodeEntities)(e.name)||(0,h.__)("(no name)","newspack-blocks"),isGuestAuthor:e.is_guest}));return k(i),i},maxItemsToSuggest:j,onChange:e=>{let s=!1;const n=e[0];_&&_.forEach(e=>{parseInt(n?.value)===parseInt(e?.value)&&e?.isGuestAuthor&&(s=!0)}),t({authorId:parseInt(n?.value||0),isGuestAuthor:s})},postTypeLabel:(0,h.__)("author","newspack-blocks"),postTypeLabelPlural:(0,h.__)("authors","newspack-blocks"),selectedItems:[]})]})]})}},3040:(e,t,s)=>{var n=s(1549),a=s(79),r=s(8223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||a),string:new n}}},3072:(e,t)=>{"use strict";var s="function"==typeof Symbol&&Symbol.for,n=s?Symbol.for("react.element"):60103,a=s?Symbol.for("react.portal"):60106,r=s?Symbol.for("react.fragment"):60107,i=s?Symbol.for("react.strict_mode"):60108,o=s?Symbol.for("react.profiler"):60114,l=s?Symbol.for("react.provider"):60109,c=s?Symbol.for("react.context"):60110,d=s?Symbol.for("react.async_mode"):60111,u=s?Symbol.for("react.concurrent_mode"):60111,p=s?Symbol.for("react.forward_ref"):60112,h=s?Symbol.for("react.suspense"):60113,f=s?Symbol.for("react.suspense_list"):60120,m=s?Symbol.for("react.memo"):60115,g=s?Symbol.for("react.lazy"):60116,v=s?Symbol.for("react.block"):60121,b=s?Symbol.for("react.fundamental"):60117,w=s?Symbol.for("react.responder"):60118,y=s?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case r:case o:case i:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case a:return t}}}function _(e){return x(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=r,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=o,t.StrictMode=i,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||x(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===r},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===o},t.isStrictMode=function(e){return x(e)===i},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===o||e===i||e===h||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y||e.$$typeof===v)},t.typeOf=x},3170:(e,t,s)=>{var n=s(6547),a=s(1769),r=s(361),i=s(3805),o=s(7797);e.exports=function(e,t,s,l){if(!i(e))return e;for(var c=-1,d=(t=a(t,e)).length,u=d-1,p=e;null!=p&&++c<d;){var h=o(t[c]),f=s;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=u){var m=p[h];void 0===(f=l?l(m,h,p):void 0)&&(f=i(m)?m:r(t[c+1])?[]:{})}n(p,h,f),p=p[h]}return e}},3216:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(790),a=s(5573),r=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{d:"M14 6v12h6V6h-6zM4 10h7V8.5H4V10zm0 5.5h7V14H4v1.5z"})})},3221:e=>{e.exports=function(e){return function(t,s,n){for(var a=-1,r=Object(t),i=n(t),o=i.length;o--;){var l=i[e?o:++a];if(!1===s(r[l],l,r))break}return t}}},3222:(e,t,s)=>{var n=s(7556);e.exports=function(e){return null==e?"":n(e)}},3243:(e,t,s)=>{var n=s(6110),a=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},3290:(e,t,s)=>{e=s.nmd(e);var n=s(9325),a=t&&!t.nodeType&&t,r=a&&e&&!e.nodeType&&e,i=r&&r.exports===a?n.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var s=e.length,n=o?o(s):new e.constructor(s);return e.copy(n),n}},3345:e=>{e.exports=function(){return[]}},3360:(e,t,s)=>{var n=s(3243);e.exports=function(e,t,s){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[t]=s}},3404:(e,t,s)=>{"use strict";e.exports=s(3072)},3488:e=>{e.exports=function(e){return e}},3560:(e,t,s)=>{var n=s(3170);e.exports=function(e,t,s){return null==e?e:n(e,t,s)}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,s)=>{var n=s(4335)(Object.keys,Object);e.exports=n},3656:(e,t,s)=>{e=s.nmd(e);var n=s(9325),a=s(9935),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r?n.Buffer:void 0,l=(o?o.isBuffer:void 0)||a;e.exports=l},3661:(e,t,s)=>{var n=s(3040),a=s(7670),r=s(289),i=s(4509),o=s(2949);function l(e){var t=-1,s=null==e?0:e.length;for(this.clear();++t<s;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=a,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,e.exports=l},3663:(e,t,s)=>{var n=s(1799),a=s(776),r=s(7197);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(s){return s===e||n(s,e,t)}}},3693:(e,t,s)=>{var n=s(4894),a=s(346);e.exports=function(e){return a(e)&&n(e)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3832:e=>{"use strict";e.exports=window.wp.url},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},4128:(e,t,s)=>{var n=s(1800),a=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(a,""):e}},4146:(e,t,s)=>{"use strict";var n=s(3404),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return n.isMemo(e)?i:o[e.$$typeof]||a}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=i;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,s,n){if("string"!=typeof s){if(f){var a=h(s);a&&a!==f&&e(t,a,n)}var i=d(s);u&&(i=i.concat(u(s)));for(var o=l(t),m=l(s),g=0;g<i.length;++g){var v=i[g];if(!(r[v]||n&&n[v]||m&&m[v]||o&&o[v])){var b=p(s,v);try{c(t,v,b)}catch(e){}}}}return t}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,s=Array(e.size);return e.forEach(function(e){s[++t]=e}),s}},4248:e=>{e.exports=function(e,t){for(var s=-1,n=null==e?0:e.length;++s<n;)if(t(e[s],s,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(s){return e(t(s))}}},4394:(e,t,s)=>{var n=s(2552),a=s(346);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},4509:(e,t,s)=>{var n=s(2651);e.exports=function(e){return n(this,e).has(e)}},4528:e=>{e.exports=function(e,t){for(var s=-1,n=t.length,a=e.length;++s<n;)e[a+s]=t[s];return e}},4634:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},4664:(e,t,s)=>{var n=s(9770),a=s(3345),r=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(e){return null==e?[]:(e=Object(e),n(i(e),function(t){return r.call(e,t)}))}:a;e.exports=o},4713:(e,t,s)=>{var n=s(2523),a=s(5389),r=s(1489),i=Math.max;e.exports=function(e,t,s){var o=null==e?0:e.length;if(!o)return-1;var l=null==s?0:r(s);return l<0&&(l=i(o+l,0)),n(e,a(t,3),l)}},4715:e=>{"use strict";e.exports=window.wp.blockEditor},4727:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n={"primary-000":"#dfe7f4","primary-050":"#bfcfe9","primary-100":"#9fb6dd","primary-200":"#809ed2","primary-300":"#6086c7","primary-400":"#406ebc","primary-500":"#2055b0","primary-600":"#003da5","primary-700":"#00296e","primary-800":"#001f53","primary-900":"#001437","primary-1000":"#000a1c","secondary-000":"#eff9f2","secondary-050":"#ddf3e3","secondary-100":"#c8ecd4","secondary-200":"#b1e6c3","secondary-300":"#95dfaf","secondary-400":"#6fd898","secondary-500":"#26d07c","secondary-600":"#1fb36a","secondary-700":"#1ba25f","secondary-800":"#178e53","secondary-900":"#117644","secondary-1000":"#09552f","tertiary-000":"#fff4f6","tertiary-050":"#fee8ed","tertiary-100":"#fedbe3","tertiary-200":"#fcded8","tertiary-300":"#fdbfcd","tertiary-400":"#fcaec0","tertiary-500":"#fc9bb3","tertiary-600":"#d9859a","tertiary-700":"#c5788b","tertiary-800":"#ad697a","tertiary-900":"#905665","tertiary-1000":"#683d48","quaternary-000":"#fff5ee","quaternary-050":"#ffeadc","quaternary-100":"#ffdec7","quaternary-200":"#ffd1af","quaternary-300":"#ffc392","quaternary-400":"#ffb46a","quaternary-500":"#ffa300","quaternary-600":"#dc8c00","quaternary-700":"#c77e00","quaternary-800":"#af6e00","quaternary-900":"#925b00","quaternary-1000":"#6a4100","neutral-000":"#fff","neutral-050":"#f7f7f7","neutral-100":"#f0f0f0","neutral-200":"#e0e0e0","neutral-300":"#ddd","neutral-400":"#ccc","neutral-500":"#949494","neutral-600":"#6c6c6c","neutral-700":"rgba(0,0,0,.702)","neutral-800":"#3e3e3e","neutral-900":"#1e1e1e","neutral-1000":"#000","success-000":"#edfaef","success-050":"#b8e6bf","success-500":"#008a20","success-600":"#007017","error-000":"#fcf0f1","error-050":"#facfd2","error-500":"#d63638","error-600":"#b32d2e","warning-000":"#fcf9e8","warning-050":"#f5e6ab","warning-300":"#dba617","warning-400":"#bd8600"}},4739:(e,t,s)=>{var n=s(6025);e.exports=function(e){var t=this.__data__,s=n(t,e);return s<0?void 0:t[s][1]}},4840:(e,t,s)=>{var n="object"==typeof s.g&&s.g&&s.g.Object===Object&&s.g;e.exports=n},4894:(e,t,s)=>{var n=s(1882),a=s(294);e.exports=function(e){return null!=e&&a(e.length)&&!n(e)}},4901:(e,t,s)=>{var n=s(2552),a=s(294),r=s(346),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&a(e.length)&&!!i[n(e)]}},4912:(e,t)=>{"use strict";var s="function"==typeof Symbol&&Symbol.for;s&&Symbol.for("react.element"),s&&Symbol.for("react.portal"),s&&Symbol.for("react.fragment"),s&&Symbol.for("react.strict_mode"),s&&Symbol.for("react.profiler"),s&&Symbol.for("react.provider"),s&&Symbol.for("react.context"),s&&Symbol.for("react.async_mode"),s&&Symbol.for("react.concurrent_mode"),s&&Symbol.for("react.forward_ref"),s&&Symbol.for("react.suspense"),s&&Symbol.for("react.suspense_list"),s&&Symbol.for("react.memo"),s&&Symbol.for("react.lazy"),s&&Symbol.for("react.block"),s&&Symbol.for("react.fundamental"),s&&Symbol.for("react.responder"),s&&Symbol.for("react.scope")},4932:e=>{e.exports=function(e,t){for(var s=-1,n=null==e?0:e.length,a=Array(n);++s<n;)a[s]=t(e[s],s,e);return a}},4974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},4997:e=>{"use strict";e.exports=window.wp.blocks},5015:(e,t,s)=>{var n=s(2552),a=s(6449),r=s(346);e.exports=function(e){return"string"==typeof e||!a(e)&&r(e)&&"[object String]"==n(e)}},5083:(e,t,s)=>{var n=s(1882),a=s(7296),r=s(3805),i=s(7473),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||a(e))&&(n(e)?p:o).test(i(e))}},5250:(e,t,s)=>{var n=s(7217),a=s(7805),r=s(6649),i=s(2824),o=s(3805),l=s(7241),c=s(4974);e.exports=function e(t,s,d,u,p){t!==s&&r(s,function(r,l){if(p||(p=new n),o(r))i(t,s,l,d,e,u,p);else{var h=u?u(c(t,l),r,l+"",t,s,p):void 0;void 0===h&&(h=r),a(t,l,h)}},l)}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5302:(e,t,s)=>{var n=s(4634);e.exports=function e(t,s,a){return n(s)||(a=s||a,s=[]),a=a||{},t instanceof RegExp?function(e,t){var s=e.source.match(/\((?!\?)/g);if(s)for(var n=0;n<s.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(t,s):n(t)?function(t,s,n){for(var a=[],r=0;r<t.length;r++)a.push(e(t[r],s,n).source);return u(new RegExp("(?:"+a.join("|")+")",p(n)),s)}(t,s,a):function(e,t,s){return h(r(e,s),t,s)}(t,s,a)},e.exports.parse=r,e.exports.compile=function(e,t){return l(r(e,t))},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=h;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e,t){for(var s,n=[],r=0,i=0,o="",l=t&&t.delimiter||"/";null!=(s=a.exec(e));){var u=s[0],p=s[1],h=s.index;if(o+=e.slice(i,h),i=h+u.length,p)o+=p[1];else{var f=e[i],m=s[2],g=s[3],v=s[4],b=s[5],w=s[6],y=s[7];o&&(n.push(o),o="");var x=null!=m&&null!=f&&f!==m,_="+"===w||"*"===w,k="?"===w||"*"===w,S=s[2]||l,C=v||b;n.push({name:g||r++,prefix:m||"",delimiter:S,optional:k,repeat:_,partial:x,asterisk:!!y,pattern:C?d(C):y?".*":"[^"+c(S)+"]+?"})}}return i<e.length&&(o+=e.substr(i)),o&&n.push(o),n}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function o(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e){for(var t=new Array(e.length),s=0;s<e.length;s++)"object"==typeof e[s]&&(t[s]=new RegExp("^(?:"+e[s].pattern+")$"));return function(s,a){for(var r="",l=s||{},c=(a||{}).pretty?i:encodeURIComponent,d=0;d<e.length;d++){var u=e[d];if("string"!=typeof u){var p,h=l[u.name];if(null==h){if(u.optional){u.partial&&(r+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(n(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<h.length;f++){if(p=c(h[f]),!t[d].test(p))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(p)+"`");r+=(0===f?u.prefix:u.delimiter)+p}}else{if(p=u.asterisk?o(h):c(h),!t[d].test(p))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+p+'"');r+=u.prefix+p}}else r+=u}return r}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function d(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function h(e,t,s){n(t)||(s=t||s,t=[]);for(var a=(s=s||{}).strict,r=!1!==s.end,i="",o=0;o<e.length;o++){var l=e[o];if("string"==typeof l)i+=c(l);else{var d=c(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+d+h+")*"),i+=h=l.optional?l.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var f=c(s.delimiter||"/"),m=i.slice(-f.length)===f;return a||(i=(m?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=r?"$":a&&m?"":"(?="+f+"|$)",u(new RegExp("^"+i,p(s)),t)}},5389:(e,t,s)=>{var n=s(3663),a=s(7978),r=s(3488),i=s(6449),o=s(583);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?i(e)?a(e[0],e[1]):n(e):o(e)}},5481:(e,t,s)=>{var n=s(9325)["__core-js_shared__"];e.exports=n},5527:e=>{var t=Object.prototype;e.exports=function(e){var s=e&&e.constructor;return e===("function"==typeof s&&s.prototype||t)}},5529:(e,t,s)=>{var n=s(9344),a=s(8879),r=s(5527);e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:n(a(e))}},5556:(e,t,s)=>{e.exports=s(2694)()},5573:e=>{"use strict";e.exports=window.wp.primitives},5580:(e,t,s)=>{var n=s(6110)(s(9325),"DataView");e.exports=n},5749:(e,t,s)=>{var n=s(1042);e.exports=function(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},5858:(e,t,s)=>{"use strict";s.d(t,{P:()=>o});var n=s(6427),a=s(7723),r=s(790);const i=window.newspack_blocks_data?.author_custom_fields||[],o=({attributes:e,setAttributes:t})=>{const s=[{name:"Bio",label:(0,a.__)("Biographical info","newspack-blocks")},{name:"Social",label:(0,a.__)("Social links","newspack-blocks")},{name:"Email",label:(0,a.__)("Email address","newspack-blocks")},{name:"ArchiveLink",label:(0,a.__)("Link to author archive","newspack-blocks")},...i];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:(0,a.__)("Display the following fields:","newspack-blocks")}),s.map(s=>{const a=`show${s.name}`;return(0,r.jsx)(n.ToggleControl,{label:s.label,checked:Boolean(e[a]),onChange:()=>t({[a]:!e[a]})},s.name)})]})}},5861:(e,t,s)=>{var n=s(5580),a=s(8223),r=s(2804),i=s(6545),o=s(8303),l=s(2552),c=s(7473),d="[object Map]",u="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=c(n),g=c(a),v=c(r),b=c(i),w=c(o),y=l;(n&&y(new n(new ArrayBuffer(1)))!=f||a&&y(new a)!=d||r&&y(r.resolve())!=u||i&&y(new i)!=p||o&&y(new o)!=h)&&(y=function(e){var t=l(e),s="[object Object]"==t?e.constructor:void 0,n=s?c(s):"";if(n)switch(n){case m:return f;case g:return d;case v:return u;case b:return p;case w:return h}return t}),e.exports=y},5911:(e,t,s)=>{var n=s(8859),a=s(4248),r=s(9219);e.exports=function(e,t,s,i,o,l){var c=1&s,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&s?new n:void 0;for(l.set(e,t),l.set(t,e);++f<d;){var v=e[f],b=t[f];if(i)var w=c?i(b,v,f,t,e,l):i(v,b,f,e,t,l);if(void 0!==w){if(w)continue;m=!1;break}if(g){if(!a(t,function(e,t){if(!r(g,t)&&(v===e||o(v,e,s,i,l)))return g.push(t)})){m=!1;break}}else if(v!==b&&!o(v,b,s,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},5950:(e,t,s)=>{var n=s(695),a=s(8984),r=s(4894);e.exports=function(e){return r(e)?n(e):a(e)}},6009:(e,t,s)=>{e=s.nmd(e);var n=s(4840),a=t&&!t.nodeType&&t,r=a&&e&&!e.nodeType&&e,i=r&&r.exports===a&&n.process,o=function(){try{return r&&r.require&&r.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o},6025:(e,t,s)=>{var n=s(5288);e.exports=function(e,t){for(var s=e.length;s--;)if(n(e[s][0],t))return s;return-1}},6087:e=>{"use strict";e.exports=window.wp.element},6110:(e,t,s)=>{var n=s(5083),a=s(392);e.exports=function(e,t){var s=a(e,t);return n(s)?s:void 0}},6139:(e,t,s)=>{var n=s(6547),a=s(1791),r=s(999),i=s(4894),o=s(5527),l=s(5950),c=Object.prototype.hasOwnProperty,d=r(function(e,t){if(o(t)||i(t))a(t,l(t),e);else for(var s in t)c.call(t,s)&&n(e,s,t[s])});e.exports=d},6175:(e,t,s)=>{"use strict";s.d(t,{X8:()=>c,__:()=>o,pO:()=>i,vQ:()=>l});var n=s(7723),a=s(6087),r=s(790);const i=(e,t=!1)=>{const s='<span class="byline">'+e.newspack_post_byline+"</span>";return t&&e.newspack_post_avatars?e.newspack_post_avatars+s:s},o=e=>(0,r.jsx)("span",{className:"sponsor-logos",children:e.map(e=>(0,r.jsx)(a.Fragment,{children:e.src&&(0,r.jsx)("a",{href:e.sponsor_url,children:(0,r.jsx)("img",{src:e.src,width:e.img_width,height:e.img_height,alt:e.sponsor_name})})},e.id))}),l=e=>(0,r.jsxs)("span",{className:"byline sponsor-byline",children:[e[0].byline_prefix," ",e.reduce((t,s,a)=>[...t,(0,r.jsx)("span",{className:"author",children:(0,r.jsx)("a",{href:s.author_link,children:s.sponsor_name})},s.id),a<e.length-2&&", ",e.length>1&&a===e.length-2&&(0,n._x)("and","post author","newspack-blocks")],[])]}),c=(e={})=>"publish"!==e.post_status?(0,r.jsx)("div",{className:"newspack-preview-label",children:{draft:(0,n.__)("Draft","newspack-blocks"),future:(0,n.__)("Scheduled","newspack-blocks")}[e.post_status]}):null},6427:e=>{"use strict";e.exports=window.wp.components},6428:(e,t,s)=>{"use strict";s.d(t,{UU:()=>Ze,W0:()=>Je});var n=s(4727),a=s(5573),r=s(790);const i=(0,r.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(a.Path,{d:"M9 8.25H15V9.75H9V8.25ZM9 12.75H15V11.25H9V12.75ZM9 15.75H12.5V14.25H9V15.75ZM18.5 6.125V17.875C18.5 18.773 17.773 19.5 16.875 19.5H7.125C6.69402 19.5 6.2807 19.3288 5.97595 19.024C5.67121 18.7193 5.5 18.306 5.5 17.875V6.125C5.5 5.228 6.228 4.5 7.125 4.5H16.875C17.773 4.5 18.5 5.228 18.5 6.125ZM17 6.125C17 6.09185 16.9868 6.06005 16.9634 6.03661C16.9399 6.01317 16.9082 6 16.875 6H7.125C7.09185 6 7.06005 6.01317 7.03661 6.03661C7.01317 6.06005 7 6.09185 7 6.125V17.875C7 17.944 7.056 18 7.125 18H16.875C16.9082 18 16.9399 17.9868 16.9634 17.9634C16.9868 17.9399 17 17.9082 17 17.875V6.125ZM20.25 17.998H21.753V6H20.25V17.998ZM2.25 17.998H3.753V6H2.25V17.998Z"})});var o=s(7723),l=s(8468),c=s(6942),d=s.n(c),u=s(4715);const p=window.wp.date;var h=s(6087),f=s(6427),m=s(7143),g=s(9491),v=s(8537),b=s(1225),w=s(766);const y=window.wp.a11y,x=window.wp.escapeHtml;function _(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function k(e={},t={}){const s=["__proto__","constructor","prototype"];Object.keys(t).filter(e=>s.indexOf(e)<0).forEach(s=>{void 0===e[s]?e[s]=t[s]:_(t[s])&&_(e[s])&&Object.keys(t[s]).length>0&&k(e[s],t[s])})}const S={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function C(){const e="undefined"!=typeof document?document:{};return k(e,S),e}const E={document:S,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function T(){const e="undefined"!=typeof window?window:{};return k(e,E),e}function j(e=""){return e.trim().split(" ").filter(e=>!!e.trim())}function M(e,t=0){return setTimeout(e,t)}function P(){return Date.now()}function A(e,t="x"){const s=T();let n,a,r;const i=function(e){const t=T();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?(a=i.transform||i.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(e=>e.replace(",",".")).join(", ")),r=new s.WebKitCSSMatrix("none"===a?"":a)):(r=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=r.toString().split(",")),"x"===t&&(a=s.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(a=s.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),a||0}function L(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function I(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function O(...e){const t=Object(e[0]),s=["__proto__","constructor","prototype"];for(let n=1;n<e.length;n+=1){const a=e[n];if(null!=a&&!I(a)){const e=Object.keys(Object(a)).filter(e=>s.indexOf(e)<0);for(let s=0,n=e.length;s<n;s+=1){const n=e[s],r=Object.getOwnPropertyDescriptor(a,n);void 0!==r&&r.enumerable&&(L(t[n])&&L(a[n])?a[n].__swiper__?t[n]=a[n]:O(t[n],a[n]):!L(t[n])&&L(a[n])?(t[n]={},a[n].__swiper__?t[n]=a[n]:O(t[n],a[n])):t[n]=a[n])}}}return t}function N(e,t,s){e.style.setProperty(t,s)}function z({swiper:e,targetPosition:t,side:s}){const n=T(),a=-e.translate;let r,i=null;const o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const l=t>a?"next":"prev",c=(e,t)=>"next"===l&&e>=t||"prev"===l&&e<=t,d=()=>{r=(new Date).getTime(),null===i&&(i=r);const l=Math.max(Math.min((r-i)/o,1),0),u=.5-Math.cos(l*Math.PI)/2;let p=a+u*(t-a);if(c(p,t)&&(p=t),e.wrapperEl.scrollTo({[s]:p}),c(p,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),void n.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=n.requestAnimationFrame(d)};d()}function D(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function $(e,t=""){const s=T(),n=[...e.children];return s.HTMLSlotElement&&e instanceof HTMLSlotElement&&n.push(...e.assignedElements()),t?n.filter(e=>e.matches(t)):n}function B(e){try{return void console.warn(e)}catch(e){}}function R(e,t=[]){const s=document.createElement(e);return s.classList.add(...Array.isArray(t)?t:j(t)),s}function F(e){const t=T(),s=C(),n=e.getBoundingClientRect(),a=s.body,r=e.clientTop||a.clientTop||0,i=e.clientLeft||a.clientLeft||0,o=e===t?t.scrollY:e.scrollTop,l=e===t?t.scrollX:e.scrollLeft;return{top:n.top+o-r,left:n.left+l-i}}function H(e,t){return T().getComputedStyle(e,null).getPropertyValue(t)}function V(e){let t,s=e;if(s){for(t=0;null!==(s=s.previousSibling);)1===s.nodeType&&(t+=1);return t}}function G(e,t){const s=[];let n=e.parentElement;for(;n;)t?n.matches(t)&&s.push(n):s.push(n),n=n.parentElement;return s}function q(e,t){t&&e.addEventListener("transitionend",function s(n){n.target===e&&(t.call(e,n),e.removeEventListener("transitionend",s))})}function U(e,t,s){const n=T();return s?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}function W(e){return(Array.isArray(e)?e:[e]).filter(e=>!!e)}function Y(e){return t=>Math.abs(t)>0&&e.browser&&e.browser.need3dFix&&Math.abs(t)%90==0?t+.001:t}function X(e,t=""){"undefined"!=typeof trustedTypes?e.innerHTML=trustedTypes.createPolicy("html",{createHTML:e=>e}).createHTML(t):e.innerHTML=t}let Z,Q,K;function J(){return Z||(Z=function(){const e=T(),t=C();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),Z}function ee(e={}){return Q||(Q=function({userAgent:e}={}){const t=J(),s=T(),n=s.navigator.platform,a=e||s.navigator.userAgent,r={ios:!1,android:!1},i=s.screen.width,o=s.screen.height,l=a.match(/(Android);?[\s\/]+([\d.]+)?/);let c=a.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=a.match(/(iPod)(.*OS\s([\d_]+))?/),u=!c&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===n;let h="MacIntel"===n;return!c&&h&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${i}x${o}`)>=0&&(c=a.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),h=!1),l&&!p&&(r.os="android",r.android=!0),(c||u||d)&&(r.os="ios",r.ios=!0),r}(e)),Q}function te(){return K||(K=function(){const e=T(),t=ee();let s=!1;function n(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(n()){const t=String(e.navigator.userAgent);if(t.includes("Version/")){const[e,n]=t.split("Version/")[1].split(" ")[0].split(".").map(e=>Number(e));s=e<16||16===e&&n<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent),r=n();return{isSafari:s||r,needPerspectiveFix:s,need3dFix:r||a&&t.ios,isWebView:a}}()),K}var se={on(e,t,s){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const a=s?"unshift":"push";return e.split(" ").forEach(e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][a](t)}),n},once(e,t,s){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;function a(...s){n.off(e,a),a.__emitterProxy&&delete a.__emitterProxy,t.apply(n,s)}return a.__emitterProxy=t,n.on(e,a,s)},onAny(e,t){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof e)return s;const n=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[n](e),s},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off(e,t){const s=this;return!s.eventsListeners||s.destroyed?s:s.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach((n,a)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&s.eventsListeners[e].splice(a,1)})}),s):s},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let s,n,a;return"string"==typeof e[0]||Array.isArray(e[0])?(s=e[0],n=e.slice(1,e.length),a=t):(s=e[0].events,n=e[0].data,a=e[0].context||t),n.unshift(a),(Array.isArray(s)?s:s.split(" ")).forEach(e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(t=>{t.apply(a,[e,...n])}),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach(e=>{e.apply(a,n)})}),t}};const ne=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)},ae=(e,t,s)=>{t&&!e.classList.contains(s)?e.classList.add(s):!t&&e.classList.contains(s)&&e.classList.remove(s)},re=(e,t)=>{if(!e||e.destroyed||!e.params)return;const s=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(s){let t=s.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(s.shadowRoot?t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(t=s.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())})),t&&t.remove()}},ie=(e,t)=>{if(!e.slides[t])return;const s=e.slides[t].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},oe=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const s=e.slides.length;if(!s||!t||t<0)return;t=Math.min(t,s);const n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),a=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const s=a,r=[s-t];return r.push(...Array.from({length:t}).map((e,t)=>s+n+t)),void e.slides.forEach((t,s)=>{r.includes(t.column)&&ie(e,s)})}const r=a+n-1;if(e.params.rewind||e.params.loop)for(let n=a-t;n<=r+t;n+=1){const t=(n%s+s)%s;(t<a||t>r)&&ie(e,t)}else for(let n=Math.max(a-t,0);n<=Math.min(r+t,s-1);n+=1)n!==a&&(n>r||n<a)&&ie(e,n)};var le={updateSize:function(){const e=this;let t,s;const n=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n.clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:n.clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(H(n,"padding-left")||0,10)-parseInt(H(n,"padding-right")||0,10),s=s-parseInt(H(n,"padding-top")||0,10)-parseInt(H(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t,s){return parseFloat(t.getPropertyValue(e.getDirectionLabel(s))||0)}const s=e.params,{wrapperEl:n,slidesEl:a,rtlTranslate:r,wrongRTL:i}=e,o=e.virtual&&s.virtual.enabled,l=o?e.virtual.slides.length:e.slides.length,c=$(a,`.${e.params.slideClass}, swiper-slide`),d=o?e.virtual.slides.length:c.length;let u=[];const p=[],h=[];let f=s.slidesOffsetBefore;"function"==typeof f&&(f=s.slidesOffsetBefore.call(e));let m=s.slidesOffsetAfter;"function"==typeof m&&(m=s.slidesOffsetAfter.call(e));const g=e.snapGrid.length,v=e.slidesGrid.length,b=e.size-f-m;let w=s.spaceBetween,y=-f,x=0,_=0;if(void 0===b)return;"string"==typeof w&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*b:"string"==typeof w&&(w=parseFloat(w)),e.virtualSize=-w-f-m,c.forEach(e=>{r?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(N(n,"--swiper-centered-offset-before",""),N(n,"--swiper-centered-offset-after",""));const k=s.grid&&s.grid.rows>1&&e.grid;let S;k?e.grid.initSlides(c):e.grid&&e.grid.unsetSlides();const C="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(e=>void 0!==s.breakpoints[e].slidesPerView).length>0;for(let n=0;n<d;n+=1){S=0;const a=c[n];if(!a||(k&&e.grid.updateSlide(n,a,c),"none"!==H(a,"display"))){if(o&&"auto"===s.slidesPerView)s.virtual.slidesPerViewAutoSlideSize&&(S=s.virtual.slidesPerViewAutoSlideSize),S&&a&&(s.roundLengths&&(S=Math.floor(S)),a.style[e.getDirectionLabel("width")]=`${S}px`);else if("auto"===s.slidesPerView){C&&(a.style[e.getDirectionLabel("width")]="");const n=getComputedStyle(a),r=a.style.transform,i=a.style.webkitTransform;if(r&&(a.style.transform="none"),i&&(a.style.webkitTransform="none"),s.roundLengths)S=e.isHorizontal()?U(a,"width",!0):U(a,"height",!0);else{const e=t(n,"width"),s=t(n,"padding-left"),r=t(n,"padding-right"),i=t(n,"margin-left"),o=t(n,"margin-right"),l=n.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=e+i+o;else{const{clientWidth:t,offsetWidth:n}=a;S=e+s+r+i+o+(n-t)}}r&&(a.style.transform=r),i&&(a.style.webkitTransform=i),s.roundLengths&&(S=Math.floor(S))}else S=(b-(s.slidesPerView-1)*w)/s.slidesPerView,s.roundLengths&&(S=Math.floor(S)),a&&(a.style[e.getDirectionLabel("width")]=`${S}px`);a&&(a.swiperSlideSize=S),h.push(S),s.centeredSlides?(y=y+S/2+x/2+w,0===x&&0!==n&&(y=y-b/2-w),0===n&&(y=y-b/2-w),Math.abs(y)<.001&&(y=0),s.roundLengths&&(y=Math.floor(y)),_%s.slidesPerGroup===0&&u.push(y),p.push(y)):(s.roundLengths&&(y=Math.floor(y)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&u.push(y),p.push(y),y=y+S+w),e.virtualSize+=S+w,x=S,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,b)+m,r&&i&&("slide"===s.effect||"coverflow"===s.effect)&&(n.style.width=`${e.virtualSize+w}px`),s.setWrapperSize&&(n.style[e.getDirectionLabel("width")]=`${e.virtualSize+w}px`),k&&e.grid.updateWrapperSize(S,u),!s.centeredSlides){const t=[];for(let n=0;n<u.length;n+=1){let a=u[n];s.roundLengths&&(a=Math.floor(a)),u[n]<=e.virtualSize-b&&t.push(a)}u=t,Math.floor(e.virtualSize-b)-Math.floor(u[u.length-1])>1&&u.push(e.virtualSize-b)}if(o&&s.loop){const t=h[0]+w;if(s.slidesPerGroup>1){const n=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/s.slidesPerGroup),a=t*s.slidesPerGroup;for(let e=0;e<n;e+=1)u.push(u[u.length-1]+a)}for(let n=0;n<e.virtual.slidesBefore+e.virtual.slidesAfter;n+=1)1===s.slidesPerGroup&&u.push(u[u.length-1]+t),p.push(p[p.length-1]+t),e.virtualSize+=t}if(0===u.length&&(u=[0]),0!==w){const t=e.isHorizontal()&&r?"marginLeft":e.getDirectionLabel("marginRight");c.filter((e,t)=>!(s.cssMode&&!s.loop)||t!==c.length-1).forEach(e=>{e.style[t]=`${w}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let e=0;h.forEach(t=>{e+=t+(w||0)}),e-=w;const t=e>b?e-b:0;u=u.map(e=>e<=0?-f:e>t?t+m:e)}if(s.centerInsufficientSlides){let e=0;h.forEach(t=>{e+=t+(w||0)}),e-=w;const t=(f||0)+(m||0);if(e+t<b){const s=(b-e-t)/2;u.forEach((e,t)=>{u[t]=e-s}),p.forEach((e,t)=>{p[t]=e+s})}}if(Object.assign(e,{slides:c,snapGrid:u,slidesGrid:p,slidesSizesGrid:h}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){N(n,"--swiper-centered-offset-before",-u[0]+"px"),N(n,"--swiper-centered-offset-after",e.size/2-h[h.length-1]/2+"px");const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+s)}if(d!==l&&e.emit("slidesLengthChange"),u.length!==g&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==v&&e.emit("slidesGridLengthChange"),s.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!(o||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const t=`${s.containerModifierClass}backface-hidden`,n=e.el.classList.contains(t);d<=s.maxBackfaceHiddenSlides?n||e.el.classList.add(t):n&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,s=[],n=t.virtual&&t.params.virtual.enabled;let a,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const i=e=>n?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach(e=>{s.push(e)});else for(a=0;a<Math.ceil(t.params.slidesPerView);a+=1){const e=t.activeIndex+a;if(e>t.slides.length&&!n)break;s.push(i(e))}else s.push(i(t.activeIndex));for(a=0;a<s.length;a+=1)if(void 0!==s[a]){const e=s[a].offsetHeight;r=e>r?e:r}(r||0===r)&&(t.wrapperEl.style.height=`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,s=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-s-e.cssOverflowAdjustment()},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,s=t.params,{slides:n,rtlTranslate:a,snapGrid:r}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let i=-e;a&&(i=e),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=s.spaceBetween;"string"==typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:"string"==typeof o&&(o=parseFloat(o));for(let e=0;e<n.length;e+=1){const l=n[e];let c=l.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(c-=n[0].swiperSlideOffset);const d=(i+(s.centeredSlides?t.minTranslate():0)-c)/(l.swiperSlideSize+o),u=(i-r[0]+(s.centeredSlides?t.minTranslate():0)-c)/(l.swiperSlideSize+o),p=-(i-c),h=p+t.slidesSizesGrid[e],f=p>=0&&p<=t.size-t.slidesSizesGrid[e],m=p>=0&&p<t.size-1||h>1&&h<=t.size||p<=0&&h>=t.size;m&&(t.visibleSlides.push(l),t.visibleSlidesIndexes.push(e)),ne(l,m,s.slideVisibleClass),ne(l,f,s.slideFullyVisibleClass),l.progress=a?-d:d,l.originalProgress=a?-u:u}},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:a,isBeginning:r,isEnd:i,progressLoop:o}=t;const l=r,c=i;if(0===n)a=0,r=!0,i=!0;else{a=(e-t.minTranslate())/n;const s=Math.abs(e-t.minTranslate())<1,o=Math.abs(e-t.maxTranslate())<1;r=s||a<=0,i=o||a>=1,s&&(a=0),o&&(a=1)}if(s.loop){const s=t.getSlideIndexByData(0),n=t.getSlideIndexByData(t.slides.length-1),a=t.slidesGrid[s],r=t.slidesGrid[n],i=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);o=l>=a?(l-a)/i:(l+i-r)/i,o>1&&(o-=1)}Object.assign(t,{progress:a,progressLoop:o,isBeginning:r,isEnd:i}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),r&&!l&&t.emit("reachBeginning toEdge"),i&&!c&&t.emit("reachEnd toEdge"),(l&&!r||c&&!i)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,slidesEl:n,activeIndex:a}=e,r=e.virtual&&s.virtual.enabled,i=e.grid&&s.grid&&s.grid.rows>1,o=e=>$(n,`.${s.slideClass}${e}, swiper-slide${e}`)[0];let l,c,d;if(r)if(s.loop){let t=a-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=o(`[data-swiper-slide-index="${t}"]`)}else l=o(`[data-swiper-slide-index="${a}"]`);else i?(l=t.find(e=>e.column===a),d=t.find(e=>e.column===a+1),c=t.find(e=>e.column===a-1)):l=t[a];l&&(i||(d=function(e,t){const s=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&s.push(n):s.push(n),e=n}return s}(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!d&&(d=t[0]),c=function(e,t){const s=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&s.push(n):s.push(n),e=n}return s}(l,`.${s.slideClass}, swiper-slide`)[0],s.loop&&0===!c&&(c=t[t.length-1]))),t.forEach(e=>{ae(e,e===l,s.slideActiveClass),ae(e,e===d,s.slideNextClass),ae(e,e===c,s.slidePrevClass)}),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:a,activeIndex:r,realIndex:i,snapIndex:o}=t;let l,c=e;const d=e=>{let s=e-t.virtual.slidesBefore;return s<0&&(s=t.virtual.slides.length+s),s>=t.virtual.slides.length&&(s-=t.virtual.slides.length),s};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:s}=e,n=e.rtlTranslate?e.translate:-e.translate;let a;for(let e=0;e<t.length;e+=1)void 0!==t[e+1]?n>=t[e]&&n<t[e+1]-(t[e+1]-t[e])/2?a=e:n>=t[e]&&n<t[e+1]&&(a=e+1):n>=t[e]&&(a=e);return s.normalizeSlideIndex&&(a<0||void 0===a)&&(a=0),a}(t)),n.indexOf(s)>=0)l=n.indexOf(s);else{const e=Math.min(a.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/a.slidesPerGroup)}if(l>=n.length&&(l=n.length-1),c===r&&!t.params.loop)return void(l!==o&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===r&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=d(c));const u=t.grid&&a.grid&&a.grid.rows>1;let p;if(t.virtual&&a.virtual.enabled&&a.loop)p=d(c);else if(u){const e=t.slides.find(e=>e.column===c);let s=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(s)&&(s=Math.max(t.slides.indexOf(e),0)),p=Math.floor(s/a.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");p=e?parseInt(e,10):c}else p=c;Object.assign(t,{previousSnapIndex:o,snapIndex:l,previousRealIndex:i,realIndex:p,previousIndex:r,activeIndex:c}),t.initialized&&oe(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(i!==p&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const s=this,n=s.params;let a=e.closest(`.${n.slideClass}, swiper-slide`);!a&&s.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach(e=>{!a&&e.matches&&e.matches(`.${n.slideClass}, swiper-slide`)&&(a=e)});let r,i=!1;if(a)for(let e=0;e<s.slides.length;e+=1)if(s.slides[e]===a){i=!0,r=e;break}if(!a||!i)return s.clickedSlide=void 0,void(s.clickedIndex=void 0);s.clickedSlide=a,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=r,n.slideToClickedSlide&&void 0!==s.clickedIndex&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}};function ce({swiper:e,runCallbacks:t,direction:s,step:n}){const{activeIndex:a,previousIndex:r}=e;let i=s;i||(i=a>r?"next":a<r?"prev":"reset"),e.emit(`transition${n}`),t&&"reset"===i?e.emit(`slideResetTransition${n}`):t&&a!==r&&(e.emit(`slideChangeTransition${n}`),"next"===i?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`))}var de={slideTo:function(e=0,t,s=!0,n,a){"string"==typeof e&&(e=parseInt(e,10));const r=this;let i=e;i<0&&(i=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:p,wrapperEl:h,enabled:f}=r;if(!f&&!n&&!a||r.destroyed||r.animating&&o.preventInteractionOnTransition)return!1;void 0===t&&(t=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,i);let g=m+Math.floor((i-m)/r.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const v=-l[g];if(o.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*v),s=Math.floor(100*c[e]),n=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=s&&t<n-(n-s)/2?i=e:t>=s&&t<n&&(i=e+1):t>=s&&(i=e)}if(r.initialized&&i!==u){if(!r.allowSlideNext&&(p?v>r.translate&&v>r.minTranslate():v<r.translate&&v<r.minTranslate()))return!1;if(!r.allowSlidePrev&&v>r.translate&&v>r.maxTranslate()&&(u||0)!==i)return!1}let b;i!==(d||0)&&s&&r.emit("beforeSlideChangeStart"),r.updateProgress(v),b=i>u?"next":i<u?"prev":"reset";const w=r.virtual&&r.params.virtual.enabled;if((!w||!a)&&(p&&-v===r.translate||!p&&v===r.translate))return r.updateActiveIndex(i),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(v),"reset"!==b&&(r.transitionStart(s,b),r.transitionEnd(s,b)),!1;if(o.cssMode){const e=r.isHorizontal(),s=p?v:-v;if(0===t)w&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),w&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[e?"scrollLeft":"scrollTop"]=s})):h[e?"scrollLeft":"scrollTop"]=s,w&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return z({swiper:r,targetPosition:s,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:s,behavior:"smooth"})}return!0}const y=te().isSafari;return w&&!a&&y&&r.isElement&&r.virtual.update(!1,!1,i),r.setTransition(t),r.setTranslate(v),r.updateActiveIndex(i),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,n),r.transitionStart(s,b),0===t?r.transitionEnd(s,b):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(s,b))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t,s=!0,n){"string"==typeof e&&(e=parseInt(e,10));const a=this;if(a.destroyed)return;void 0===t&&(t=a.params.speed);const r=a.grid&&a.params.grid&&a.params.grid.rows>1;let i=e;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)i+=a.virtual.slidesBefore;else{let e;if(r){const t=i*a.params.grid.rows;e=a.slides.find(e=>1*e.getAttribute("data-swiper-slide-index")===t).column}else e=a.getSlideIndexByData(i);const t=r?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:s,slidesOffsetBefore:o,slidesOffsetAfter:l}=a.params,c=s||!!o||!!l;let d=a.params.slidesPerView;"auto"===d?d=a.slidesPerViewDynamic():(d=Math.ceil(parseFloat(a.params.slidesPerView,10)),c&&d%2==0&&(d+=1));let u=t-e<d;if(c&&(u=u||e<Math.ceil(d/2)),n&&c&&"auto"!==a.params.slidesPerView&&!r&&(u=!1),u){const s=c?e<a.activeIndex?"prev":"next":e-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:s,slideTo:!0,activeSlideIndex:"next"===s?e+1:e-t+1,slideRealIndex:"next"===s?a.realIndex:void 0})}if(r){const e=i*a.params.grid.rows;i=a.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e).column}else i=a.getSlideIndexByData(i)}return requestAnimationFrame(()=>{a.slideTo(i,t,s,n)}),a},slideNext:function(e,t=!0,s){const n=this,{enabled:a,params:r,animating:i}=n;if(!a||n.destroyed)return n;void 0===e&&(e=n.params.speed);let o=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<r.slidesPerGroupSkip?1:o,c=n.virtual&&r.virtual.enabled;if(r.loop){if(i&&!c&&r.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,e,t,s)}),!0}return r.rewind&&n.isEnd?n.slideTo(0,e,t,s):n.slideTo(n.activeIndex+l,e,t,s)},slidePrev:function(e,t=!0,s){const n=this,{params:a,snapGrid:r,slidesGrid:i,rtlTranslate:o,enabled:l,animating:c}=n;if(!l||n.destroyed)return n;void 0===e&&(e=n.params.speed);const d=n.virtual&&a.virtual.enabled;if(a.loop){if(c&&!d&&a.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=u(o?n.translate:-n.translate),h=r.map(e=>u(e)),f=a.freeMode&&a.freeMode.enabled;let m=r[h.indexOf(p)-1];if(void 0===m&&(a.cssMode||f)){let e;r.forEach((t,s)=>{p>=t&&(e=s)}),void 0!==e&&(m=f?r[e]:r[e>0?e-1:e])}let g=0;if(void 0!==m&&(g=i.indexOf(m),g<0&&(g=n.activeIndex-1),"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(g=g-n.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),a.rewind&&n.isBeginning){const a=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(a,e,t,s)}return a.loop&&0===n.activeIndex&&a.cssMode?(requestAnimationFrame(()=>{n.slideTo(g,e,t,s)}),!0):n.slideTo(g,e,t,s)},slideReset:function(e,t=!0,s){const n=this;if(!n.destroyed)return void 0===e&&(e=n.params.speed),n.slideTo(n.activeIndex,e,t,s)},slideToClosest:function(e,t=!0,s,n=.5){const a=this;if(a.destroyed)return;void 0===e&&(e=a.params.speed);let r=a.activeIndex;const i=Math.min(a.params.slidesPerGroupSkip,r),o=i+Math.floor((r-i)/a.params.slidesPerGroup),l=a.rtlTranslate?a.translate:-a.translate;if(l>=a.snapGrid[o]){const e=a.snapGrid[o];l-e>(a.snapGrid[o+1]-e)*n&&(r+=a.params.slidesPerGroup)}else{const e=a.snapGrid[o-1];l-e<=(a.snapGrid[o]-e)*n&&(r-=a.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,a.slidesGrid.length-1),a.slideTo(r,e,t,s)},slideToClickedSlide:function(){const e=this;if(e.destroyed)return;const{params:t,slidesEl:s}=e,n="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let a,r=e.getSlideIndexWhenGrid(e.clickedIndex);const i=e.isElement?"swiper-slide":`.${t.slideClass}`,o=e.grid&&e.params.grid&&e.params.grid.rows>1;if(t.loop){if(e.animating)return;a=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?e.slideToLoop(a):r>(o?(e.slides.length-n)/2-(e.params.grid.rows-1):e.slides.length-n)?(e.loopFix(),r=e.getSlideIndex($(s,`${i}[data-swiper-slide-index="${a}"]`)[0]),M(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}},ue={loopCreate:function(e,t){const s=this,{params:n,slidesEl:a}=s;if(!n.loop||s.virtual&&s.params.virtual.enabled)return;const r=()=>{$(a,`.${n.slideClass}, swiper-slide`).forEach((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})},i=s.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||i)&&(()=>{const e=$(a,`.${n.slideBlankClass}`);e.forEach(e=>{e.remove()}),e.length>0&&(s.recalcSlides(),s.updateSlides())})();const o=n.slidesPerGroup*(i?n.grid.rows:1),l=s.slides.length%o!==0,c=i&&s.slides.length%n.grid.rows!==0,d=e=>{for(let t=0;t<e;t+=1){const e=s.isElement?R("swiper-slide",[n.slideBlankClass]):R("div",[n.slideClass,n.slideBlankClass]);s.slidesEl.append(e)}};l?(n.loopAddBlankSlides?(d(o-s.slides.length%o),s.recalcSlides(),s.updateSlides()):B("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):c?(n.loopAddBlankSlides?(d(n.grid.rows-s.slides.length%n.grid.rows),s.recalcSlides(),s.updateSlides()):B("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)"),r()):r();const u=n.centeredSlides||!!n.slidesOffsetBefore||!!n.slidesOffsetAfter;s.loopFix({slideRealIndex:e,direction:u?void 0:"next",initial:t})},loopFix:function({slideRealIndex:e,slideTo:t=!0,direction:s,setTranslate:n,activeSlideIndex:a,initial:r,byController:i,byMousewheel:o}={}){const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:u,slidesEl:p,params:h}=l,{centeredSlides:f,slidesOffsetBefore:m,slidesOffsetAfter:g,initialSlide:v}=h,b=f||!!m||!!g;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled)return t&&(b||0!==l.snapIndex?b&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=u,void l.emit("loopFix");let w=h.slidesPerView;"auto"===w?w=l.slidesPerViewDynamic():(w=Math.ceil(parseFloat(h.slidesPerView,10)),b&&w%2==0&&(w+=1));const y=h.slidesPerGroupAuto?w:h.slidesPerGroup;let x=b?Math.max(y,Math.ceil(w/2)):y;x%y!==0&&(x+=y-x%y),x+=h.loopAdditionalSlides,l.loopedSlides=x;const _=l.grid&&h.grid&&h.grid.rows>1;c.length<w+x||"cards"===l.params.effect&&c.length<w+2*x?B("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):_&&"row"===h.grid.fill&&B("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],S=[],C=_?Math.ceil(c.length/h.grid.rows):c.length,E=r&&C-v<w&&!b;let T=E?v:l.activeIndex;void 0===a?a=l.getSlideIndex(c.find(e=>e.classList.contains(h.slideActiveClass))):T=a;const j="next"===s||!s,M="prev"===s||!s;let P=0,A=0;const L=(_?c[a].column:a)+(b&&void 0===n?-w/2+.5:0);if(L<x){P=Math.max(x-L,y);for(let e=0;e<x-L;e+=1){const t=e-Math.floor(e/C)*C;if(_){const e=C-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&k.push(t)}else k.push(C-t-1)}}else if(L+w>C-x){A=Math.max(L-(C-2*x),y),E&&(A=Math.max(A,w-C+v+1));for(let e=0;e<A;e+=1){const t=e-Math.floor(e/C)*C;_?c.forEach((e,s)=>{e.column===t&&S.push(s)}):S.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),"cards"===l.params.effect&&c.length<w+2*x&&(S.includes(a)&&S.splice(S.indexOf(a),1),k.includes(a)&&k.splice(k.indexOf(a),1)),M&&k.forEach(e=>{c[e].swiperLoopMoveDOM=!0,p.prepend(c[e]),c[e].swiperLoopMoveDOM=!1}),j&&S.forEach(e=>{c[e].swiperLoopMoveDOM=!0,p.append(c[e]),c[e].swiperLoopMoveDOM=!1}),l.recalcSlides(),"auto"===h.slidesPerView?l.updateSlides():_&&(k.length>0&&M||S.length>0&&j)&&l.slides.forEach((e,t)=>{l.grid.updateSlide(t,e,l.slides)}),h.watchSlidesProgress&&l.updateSlidesOffset(),t)if(k.length>0&&M){if(void 0===e){const e=l.slidesGrid[T],t=l.slidesGrid[T+P]-e;o?l.setTranslate(l.translate-t):(l.slideTo(T+Math.ceil(P),0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(n){const e=_?k.length/h.grid.rows:k.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(S.length>0&&j)if(void 0===e){const e=l.slidesGrid[T],t=l.slidesGrid[T-A]-e;o?l.setTranslate(l.translate-t):(l.slideTo(T-A,0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=_?S.length/h.grid.rows:S.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=d,l.allowSlideNext=u,l.controller&&l.controller.control&&!i){const r={slideRealIndex:e,direction:s,setTranslate:n,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(e=>{!e.destroyed&&e.params.loop&&e.loopFix({...r,slideTo:e.params.slidesPerView===h.slidesPerView&&t})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...r,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView&&t})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:s}=e;if(!t.loop||!s||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach(e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;n[t]=e}),e.slides.forEach(e=>{e.removeAttribute("data-swiper-slide-index")}),n.forEach(e=>{s.append(e)}),e.recalcSlides(),e.slideTo(e.realIndex,0)}};function pe(e,t,s){const n=T(),{params:a}=e,r=a.edgeSwipeDetection,i=a.edgeSwipeThreshold;return!r||!(s<=i||s>=n.innerWidth-i)||"prevent"===r&&(t.preventDefault(),!0)}function he(e){const t=this,s=C();let n=e;n.originalEvent&&(n=n.originalEvent);const a=t.touchEventsData;if("pointerdown"===n.type){if(null!==a.pointerId&&a.pointerId!==n.pointerId)return;a.pointerId=n.pointerId}else"touchstart"===n.type&&1===n.targetTouches.length&&(a.touchId=n.targetTouches[0].identifier);if("touchstart"===n.type)return void pe(t,n,n.targetTouches[0].pageX);const{params:r,touches:i,enabled:o}=t;if(!o)return;if(!r.simulateTouch&&"mouse"===n.pointerType)return;if(t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let l=n.target;if("wrapper"===r.touchEventsTarget&&!function(e,t){const s=T();let n=t.contains(e);return!n&&s.HTMLSlotElement&&t instanceof HTMLSlotElement&&(n=[...t.assignedElements()].includes(e),n||(n=function(e,t){const s=[t];for(;s.length>0;){const t=s.shift();if(e===t)return!0;s.push(...t.children,...t.shadowRoot?t.shadowRoot.children:[],...t.assignedElements?t.assignedElements():[])}}(e,t))),n}(l,t.wrapperEl))return;if("which"in n&&3===n.which)return;if("button"in n&&n.button>0)return;if(a.isTouched&&a.isMoved)return;const c=!!r.noSwipingClass&&""!==r.noSwipingClass,d=n.composedPath?n.composedPath():n.path;c&&n.target&&n.target.shadowRoot&&d&&(l=d[0]);const u=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,p=!(!n.target||!n.target.shadowRoot);if(r.noSwiping&&(p?function(e,t=this){return function t(s){if(!s||s===C()||s===T())return null;s.assignedSlot&&(s=s.assignedSlot);const n=s.closest(e);return n||s.getRootNode?n||t(s.getRootNode().host):null}(t)}(u,l):l.closest(u)))return void(t.allowClick=!0);if(r.swipeHandler&&!l.closest(r.swipeHandler))return;i.currentX=n.pageX,i.currentY=n.pageY;const h=i.currentX,f=i.currentY;if(!pe(t,n,h))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),i.startX=h,i.startY=f,a.touchStartTime=P(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(a.allowThresholdMove=!1);let m=!0;l.matches(a.focusableElements)&&(m=!1,"SELECT"===l.nodeName&&(a.isTouched=!1)),s.activeElement&&s.activeElement.matches(a.focusableElements)&&s.activeElement!==l&&("mouse"===n.pointerType||"mouse"!==n.pointerType&&!l.matches(a.focusableElements))&&s.activeElement.blur();const g=m&&t.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!g||l.isContentEditable||n.preventDefault(),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.animating&&!r.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",n)}function fe(e){const t=C(),s=this,n=s.touchEventsData,{params:a,touches:r,rtlTranslate:i,enabled:o}=s;if(!o)return;if(!a.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==n.touchId)return;if(c.pointerId!==n.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].find(e=>e.identifier===n.touchId),!l||l.identifier!==n.touchId)return}else l=c;if(!n.isTouched)return void(n.startMoving&&n.isScrolling&&s.emit("touchMoveOpposite",c));const d=l.pageX,u=l.pageY;if(c.preventedByNestedSwiper)return r.startX=d,void(r.startY=u);if(!s.allowTouchMove)return c.target.matches(n.focusableElements)||(s.allowClick=!1),void(n.isTouched&&(Object.assign(r,{startX:d,startY:u,currentX:d,currentY:u}),n.touchStartTime=P()));if(a.touchReleaseOnEdges&&!a.loop)if(s.isVertical()){if(u<r.startY&&s.translate<=s.maxTranslate()||u>r.startY&&s.translate>=s.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else{if(i&&(d>r.startX&&-s.translate<=s.maxTranslate()||d<r.startX&&-s.translate>=s.minTranslate()))return;if(!i&&(d<r.startX&&s.translate<=s.maxTranslate()||d>r.startX&&s.translate>=s.minTranslate()))return}if(t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==c.target&&"mouse"!==c.pointerType&&t.activeElement.blur(),t.activeElement&&c.target===t.activeElement&&c.target.matches(n.focusableElements))return n.isMoved=!0,void(s.allowClick=!1);n.allowTouchCallbacks&&s.emit("touchMove",c),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=d,r.currentY=u;const p=r.currentX-r.startX,h=r.currentY-r.startY;if(s.params.threshold&&Math.sqrt(p**2+h**2)<s.params.threshold)return;if(void 0===n.isScrolling){let e;s.isHorizontal()&&r.currentY===r.startY||s.isVertical()&&r.currentX===r.startX?n.isScrolling=!1:p*p+h*h>=25&&(e=180*Math.atan2(Math.abs(h),Math.abs(p))/Math.PI,n.isScrolling=s.isHorizontal()?e>a.touchAngle:90-e>a.touchAngle)}if(n.isScrolling&&s.emit("touchMoveOpposite",c),void 0===n.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(n.startMoving=!0)),n.isScrolling||"touchmove"===c.type&&n.preventTouchMoveFromPointerMove)return void(n.isTouched=!1);if(!n.startMoving)return;s.allowClick=!1,!a.cssMode&&c.cancelable&&c.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&c.stopPropagation();let f=s.isHorizontal()?p:h,m=s.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;a.oneWayMovement&&(f=Math.abs(f)*(i?1:-1),m=Math.abs(m)*(i?1:-1)),r.diff=f,f*=a.touchRatio,i&&(f=-f,m=-m);const g=s.touchesDirection;s.swipeDirection=f>0?"prev":"next",s.touchesDirection=m>0?"prev":"next";const v=s.params.loop&&!a.cssMode,b="next"===s.touchesDirection&&s.allowSlideNext||"prev"===s.touchesDirection&&s.allowSlidePrev;if(!n.isMoved){if(v&&b&&s.loopFix({direction:s.swipeDirection}),n.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});s.wrapperEl.dispatchEvent(e)}n.allowMomentumBounce=!1,!a.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)}if((new Date).getTime(),!1!==a._loopSwapReset&&n.isMoved&&n.allowThresholdMove&&g!==s.touchesDirection&&v&&b&&Math.abs(f)>=1)return Object.assign(r,{startX:d,startY:u,currentX:d,currentY:u,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,void(n.startTranslate=n.currentTranslate);s.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=f+n.startTranslate;let w=!0,y=a.resistanceRatio;if(a.touchReleaseOnEdges&&(y=0),f>0?(v&&b&&n.allowThresholdMove&&n.currentTranslate>(a.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]-("auto"!==a.slidesPerView&&s.slides.length-a.slidesPerView>=2?s.slidesSizesGrid[s.activeIndex+1]+s.params.spaceBetween:0)-s.params.spaceBetween:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>s.minTranslate()&&(w=!1,a.resistance&&(n.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+n.startTranslate+f)**y))):f<0&&(v&&b&&n.allowThresholdMove&&n.currentTranslate<(a.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween+("auto"!==a.slidesPerView&&s.slides.length-a.slidesPerView>=2?s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween:0):s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-("auto"===a.slidesPerView?s.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),n.currentTranslate<s.maxTranslate()&&(w=!1,a.resistance&&(n.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-n.startTranslate-f)**y))),w&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),s.allowSlidePrev||s.allowSlideNext||(n.currentTranslate=n.startTranslate),a.threshold>0){if(!(Math.abs(f)>a.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,n.currentTranslate=n.startTranslate,void(r.diff=s.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}a.followFinger&&!a.cssMode&&((a.freeMode&&a.freeMode.enabled&&s.freeMode||a.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(n.currentTranslate),s.setTranslate(n.currentTranslate))}function me(e){const t=this,s=t.touchEventsData;let n,a=e;if(a.originalEvent&&(a=a.originalEvent),"touchend"===a.type||"touchcancel"===a.type){if(n=[...a.changedTouches].find(e=>e.identifier===s.touchId),!n||n.identifier!==s.touchId)return}else{if(null!==s.touchId)return;if(a.pointerId!==s.pointerId)return;n=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)&&(!["pointercancel","contextmenu"].includes(a.type)||!t.browser.isSafari&&!t.browser.isWebView))return;s.pointerId=null,s.touchId=null;const{params:r,touches:i,rtlTranslate:o,slidesGrid:l,enabled:c}=t;if(!c)return;if(!r.simulateTouch&&"mouse"===a.pointerType)return;if(s.allowTouchCallbacks&&t.emit("touchEnd",a),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&r.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);r.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=P(),u=d-s.touchStartTime;if(t.allowClick){const e=a.path||a.composedPath&&a.composedPath();t.updateClickedSlide(e&&e[0]||a.target,e),t.emit("tap click",a),u<300&&d-s.lastClickTime<300&&t.emit("doubleTap doubleClick",a)}if(s.lastClickTime=P(),M(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||0===i.diff&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let p;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,p=r.followFinger?o?t.translate:-t.translate:-s.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:p});const h=p>=-t.maxTranslate()&&!t.params.loop;let f=0,m=t.slidesSizesGrid[0];for(let e=0;e<l.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==l[e+t]?(h||p>=l[e]&&p<l[e+t])&&(f=e,m=l[e+t]-l[e]):(h||p>=l[e])&&(f=e,m=l[l.length-1]-l[l.length-2])}let g=null,v=null;r.rewind&&(t.isBeginning?v=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const b=(p-l[f])/m,w=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(b>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?g:f+w):t.slideTo(f)),"prev"===t.swipeDirection&&(b>1-r.longSwipesRatio?t.slideTo(f+w):null!==v&&b<0&&Math.abs(b)>r.longSwipesRatio?t.slideTo(v):t.slideTo(f))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||a.target!==t.navigation.nextEl&&a.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==g?g:f+w),"prev"===t.swipeDirection&&t.slideTo(null!==v?v:f)):a.target===t.navigation.nextEl?t.slideTo(f+w):t.slideTo(f)}}function ge(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:a,snapGrid:r}=e,i=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=i&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!i?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout(()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()},500)),e.allowSlidePrev=a,e.allowSlideNext=n,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}function ve(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function be(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:n}=e;if(!n)return;let a;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();a=0===r?0:(e.translate-e.minTranslate())/r,a!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function we(e){const t=this;re(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function ye(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const xe=(e,t)=>{const s=C(),{params:n,el:a,wrapperEl:r,device:i}=e,o=!!n.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;a&&"string"!=typeof a&&(s[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:o}),a[l]("touchstart",e.onTouchStart,{passive:!1}),a[l]("pointerdown",e.onTouchStart,{passive:!1}),s[l]("touchmove",e.onTouchMove,{passive:!1,capture:o}),s[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),s[l]("touchend",e.onTouchEnd,{passive:!0}),s[l]("pointerup",e.onTouchEnd,{passive:!0}),s[l]("pointercancel",e.onTouchEnd,{passive:!0}),s[l]("touchcancel",e.onTouchEnd,{passive:!0}),s[l]("pointerout",e.onTouchEnd,{passive:!0}),s[l]("pointerleave",e.onTouchEnd,{passive:!0}),s[l]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&a[l]("click",e.onClick,!0),n.cssMode&&r[l]("scroll",e.onScroll),n.updateOnWindowResize?e[c](i.ios||i.android?"resize orientationchange observerUpdate":"resize observerUpdate",ge,!0):e[c]("observerUpdate",ge,!0),a[l]("load",e.onLoad,{capture:!0}))},_e=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var ke={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Se(e,t){return function(s={}){const n=Object.keys(s)[0],a=s[n];"object"==typeof a&&null!==a?(!0===e[n]&&(e[n]={enabled:!0}),"navigation"===n&&e[n]&&e[n].enabled&&!e[n].prevEl&&!e[n].nextEl&&(e[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&e[n]&&e[n].enabled&&!e[n].el&&(e[n].auto=!0),n in e&&"enabled"in a?("object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),O(t,s)):O(t,s)):O(t,s)}}const Ce={eventsEmitter:se,update:le,translate:{getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:s,translate:n,wrapperEl:a}=this;if(t.virtualTranslate)return s?-n:n;if(t.cssMode)return n;let r=A(a,e);return r+=this.cssOverflowAdjustment(),s&&(r=-r),r||0},setTranslate:function(e,t){const s=this,{rtlTranslate:n,params:a,wrapperEl:r,progress:i}=s;let o,l=0,c=0;s.isHorizontal()?l=n?-e:e:c=e,a.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?l:c,a.cssMode?r[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-l:-c:a.virtualTranslate||(s.isHorizontal()?l-=s.cssOverflowAdjustment():c-=s.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const d=s.maxTranslate()-s.minTranslate();o=0===d?0:(e-s.minTranslate())/d,o!==i&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,s=!0,n=!0,a){const r=this,{params:i,wrapperEl:o}=r;if(r.animating&&i.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let d;if(d=n&&e>l?l:n&&e<c?c:e,r.updateProgress(d),i.cssMode){const e=r.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-d;else{if(!r.support.smoothScroll)return z({swiper:r,targetPosition:-d,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(d),s&&(r.emit("beforeTransitionStart",t,a),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(d),s&&(r.emit("beforeTransitionStart",t,a),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,s&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${e}ms`,s.wrapperEl.style.transitionDelay=0===e?"0ms":""),s.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const s=this,{params:n}=s;n.cssMode||(n.autoHeight&&s.updateAutoHeight(),ce({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const s=this,{params:n}=s;s.animating=!1,n.cssMode||(s.setTransition(0),ce({swiper:s,runCallbacks:e,direction:t,step:"End"}))}},slide:de,loop:ue,grabCursor:{setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const s="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1})},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1}))}},events:{attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=he.bind(e),e.onTouchMove=fe.bind(e),e.onTouchEnd=me.bind(e),e.onDocumentTouchStart=ye.bind(e),t.cssMode&&(e.onScroll=be.bind(e)),e.onClick=ve.bind(e),e.onLoad=we.bind(e),xe(e,"on")},detachEvents:function(){xe(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{realIndex:t,initialized:s,params:n,el:a}=e,r=n.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const i=C(),o="window"!==n.breakpointsBase&&n.breakpointsBase?"container":n.breakpointsBase,l=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?e.el:i.querySelector(n.breakpointsBase),c=e.getBreakpoint(r,o,l);if(!c||e.currentBreakpoint===c)return;const d=(c in r?r[c]:void 0)||e.originalParams,u=_e(e,n),p=_e(e,d),h=e.params.grabCursor,f=d.grabCursor,m=n.enabled;u&&!p?(a.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!u&&p&&(a.classList.add(`${n.containerModifierClass}grid`),(d.grid.fill&&"column"===d.grid.fill||!d.grid.fill&&"column"===n.grid.fill)&&a.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),h&&!f?e.unsetGrabCursor():!h&&f&&e.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(t=>{if(void 0===d[t])return;const s=n[t]&&n[t].enabled,a=d[t]&&d[t].enabled;s&&!a&&e[t].disable(),!s&&a&&e[t].enable()});const g=d.direction&&d.direction!==n.direction,v=n.loop&&(d.slidesPerView!==n.slidesPerView||g),b=n.loop;g&&s&&e.changeDirection(),O(e.params,d);const w=e.params.enabled,y=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),m&&!w?e.disable():!m&&w&&e.enable(),e.currentBreakpoint=c,e.emit("_beforeBreakpoint",d),s&&(v?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!b&&y?(e.loopCreate(t),e.updateSlides()):b&&!y&&e.loopDestroy()),e.emit("breakpoint",d)},getBreakpoint:function(e,t="window",s){if(!e||"container"===t&&!s)return;let n=!1;const a=T(),r="window"===t?a.innerHeight:s.clientHeight,i=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:r*t,point:e}}return{value:e,point:e}});i.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let e=0;e<i.length;e+=1){const{point:r,value:o}=i[e];"window"===t?a.matchMedia(`(min-width: ${o}px)`).matches&&(n=r):o<=s.clientWidth&&(n=r)}return n||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:n}=s;if(n){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:s,rtl:n,el:a,device:r}=e,i=function(e,t){const s=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(n=>{e[n]&&s.push(t+n)}):"string"==typeof e&&s.push(t+e)}),s}(["initialized",s.direction,{"free-mode":e.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:n},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&"column"===s.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);t.push(...i),a.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e&&"string"!=typeof e&&(e.classList.remove(...t),this.emitContainerClasses())}}},Ee={};class Te{constructor(...e){let t,s;1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?s=e[0]:[t,s]=e,s||(s={}),s=O({},s),t&&!s.el&&(s.el=t);const n=C();if(s.el&&"string"==typeof s.el&&n.querySelectorAll(s.el).length>1){const e=[];return n.querySelectorAll(s.el).forEach(t=>{const n=O({},s,{el:t});e.push(new Te(n))}),e}const a=this;a.__swiper__=!0,a.support=J(),a.device=ee({userAgent:s.userAgent}),a.browser=te(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],s.modules&&Array.isArray(s.modules)&&a.modules.push(...s.modules);const r={};a.modules.forEach(e=>{e({params:s,swiper:a,extendParams:Se(s,r),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const i=O({},ke,r);return a.params=O({},i,Ee,s),a.originalParams=O({},a.params),a.passedParams=O({},s),a.params&&a.params.on&&Object.keys(a.params.on).forEach(e=>{a.on(e,a.params.on[e])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:s}=this,n=V($(t,`.${s.slideClass}, swiper-slide`)[0]);return V(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>1*t.getAttribute("data-swiper-slide-index")===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&("column"===this.params.grid.fill?e=Math.floor(e/this.params.grid.rows):"row"===this.params.grid.fill&&(e%=Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=$(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const s=this;e=Math.min(Math.max(e,0),1);const n=s.minTranslate(),a=(s.maxTranslate()-n)*e+n;s.translateTo(a,void 0===t?0:t),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(s=>{const n=e.getSlideClasses(s);t.push({slideEl:s,classNames:n}),e.emit("_slideClass",s,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:s,slides:n,slidesGrid:a,slidesSizesGrid:r,size:i,activeIndex:o}=this;let l=1;if("number"==typeof s.slidesPerView)return s.slidesPerView;if(s.centeredSlides){let e,t=n[o]?Math.ceil(n[o].swiperSlideSize):0;for(let s=o+1;s<n.length;s+=1)n[s]&&!e&&(t+=Math.ceil(n[s].swiperSlideSize),l+=1,t>i&&(e=!0));for(let s=o-1;s>=0;s-=1)n[s]&&!e&&(t+=n[s].swiperSlideSize,l+=1,t>i&&(e=!0))}else if("current"===e)for(let e=o+1;e<n.length;e+=1)(t?a[e]+r[e]-a[o]<i:a[e]-a[o]<i)&&(l+=1);else for(let e=o-1;e>=0;e-=1)a[o]-a[e]<i&&(l+=1);return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(t=>{t.complete&&re(e,t)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),s.freeMode&&s.freeMode.enabled&&!s.cssMode)n(),s.autoHeight&&e.updateAutoHeight();else{if(("auto"===s.slidesPerView||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const t=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(t.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||n()}s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,n=s.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(s.el.classList.remove(`${s.params.containerModifierClass}${n}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(t=>{"vertical"===e?t.style.width="":t.style.height=""}),s.emit("changeDirection"),t&&s.update()),s}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let s=e||t.params.el;if("string"==typeof s&&(s=document.querySelector(s)),!s)return!1;s.swiper=t,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(n()):$(s,n())[0];return!a&&t.params.createElements&&(a=R("div",t.params.wrapperClass),s.append(a),$(s,`.${t.params.slideClass}`).forEach(e=>{a.append(e)})),Object.assign(t,{el:s,wrapperEl:a,slidesEl:t.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:a,hostEl:t.isElement?s.parentNode.host:s,mounted:!0,rtl:"rtl"===s.dir.toLowerCase()||"rtl"===H(s,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===s.dir.toLowerCase()||"rtl"===H(s,"direction")),wrongRTL:"-webkit-box"===H(a,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(e=>{e.complete?re(t,e):e.addEventListener("load",e=>{re(t,e.target)})}),oe(t),t.initialized=!0,oe(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const s=this,{params:n,el:a,wrapperEl:r,slides:i}=s;return void 0===s.params||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),n.loop&&s.loopDestroy(),t&&(s.removeClasses(),a&&"string"!=typeof a&&a.removeAttribute("style"),r&&r.removeAttribute("style"),i&&i.length&&i.forEach(e=>{e.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(e=>{s.off(e)}),!1!==e&&(s.el&&"string"!=typeof s.el&&(s.el.swiper=null),function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})}(s)),s.destroyed=!0),null}static extendDefaults(e){O(Ee,e)}static get extendedDefaults(){return Ee}static get defaults(){return ke}static installModule(e){Te.prototype.__modules__||(Te.prototype.__modules__=[]);const t=Te.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(e=>Te.installModule(e)),Te):(Te.installModule(e),Te)}}function je(e,t,s,n){return e.params.createElements&&Object.keys(n).forEach(a=>{if(!s[a]&&!0===s.auto){let r=$(e.el,`.${n[a]}`)[0];r||(r=R("div",n[a]),r.className=n[a],e.el.append(r)),s[a]=r,t[a]=r}}),s}Object.keys(Ce).forEach(e=>{Object.keys(Ce[e]).forEach(t=>{Te.prototype[t]=Ce[e][t]})}),Te.use([function({swiper:e,on:t,emit:s}){const n=T();let a=null,r=null;const i=()=>{e&&!e.destroyed&&e.initialized&&(s("beforeResize"),s("resize"))},o=()=>{e&&!e.destroyed&&e.initialized&&s("orientationchange")};t("init",()=>{e.params.resizeObserver&&void 0!==n.ResizeObserver?e&&!e.destroyed&&e.initialized&&(a=new ResizeObserver(t=>{r=n.requestAnimationFrame(()=>{const{width:s,height:n}=e;let a=s,r=n;t.forEach(({contentBoxSize:t,contentRect:s,target:n})=>{n&&n!==e.el||(a=s?s.width:(t[0]||t).inlineSize,r=s?s.height:(t[0]||t).blockSize)}),a===s&&r===n||i()})}),a.observe(e.el)):(n.addEventListener("resize",i),n.addEventListener("orientationchange",o))}),t("destroy",()=>{r&&n.cancelAnimationFrame(r),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null),n.removeEventListener("resize",i),n.removeEventListener("orientationchange",o)})},function({swiper:e,extendParams:t,on:s,emit:n}){const a=[],r=T(),i=(t,s={})=>{const i=new(r.MutationObserver||r.WebkitMutationObserver)(t=>{if(e.__preventObserver__)return;if(1===t.length)return void n("observerUpdate",t[0]);const s=function(){n("observerUpdate",t[0])};r.requestAnimationFrame?r.requestAnimationFrame(s):r.setTimeout(s,0)});i.observe(t,{attributes:void 0===s.attributes||s.attributes,childList:e.isElement||(void 0===s.childList||s).childList,characterData:void 0===s.characterData||s.characterData}),a.push(i)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",()=>{if(e.params.observer){if(e.params.observeParents){const t=G(e.hostEl);for(let e=0;e<t.length;e+=1)i(t[e])}i(e.hostEl,{childList:e.params.observeSlideChildren}),i(e.wrapperEl,{attributes:!1})}}),s("destroy",()=>{a.forEach(e=>{e.disconnect()}),a.splice(0,a.length)})}]);const Me='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Pe(e=""){return`.${e.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Ae(e){const t=this,{params:s,slidesEl:n}=t;s.loop&&t.loopDestroy();const a=e=>{if("string"==typeof e){const t=document.createElement("div");X(t,e),n.append(t.children[0]),X(t,"")}else n.append(e)};if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&a(e[t]);else a(e);t.recalcSlides(),s.loop&&t.loopCreate(),s.observer&&!t.isElement||t.update()}function Le(e){const t=this,{params:s,activeIndex:n,slidesEl:a}=t;s.loop&&t.loopDestroy();let r=n+1;const i=e=>{if("string"==typeof e){const t=document.createElement("div");X(t,e),a.prepend(t.children[0]),X(t,"")}else a.prepend(e)};if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&i(e[t]);r=n+e.length}else i(e);t.recalcSlides(),s.loop&&t.loopCreate(),s.observer&&!t.isElement||t.update(),t.slideTo(r,0,!1)}function Ie(e,t){const s=this,{params:n,activeIndex:a,slidesEl:r}=s;let i=a;n.loop&&(i-=s.loopedSlides,s.loopDestroy(),s.recalcSlides());const o=s.slides.length;if(e<=0)return void s.prependSlide(t);if(e>=o)return void s.appendSlide(t);let l=i>e?i+1:i;const c=[];for(let t=o-1;t>=e;t-=1){const e=s.slides[t];e.remove(),c.unshift(e)}if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&r.append(t[e]);l=i>e?i+t.length:i}else r.append(t);for(let e=0;e<c.length;e+=1)r.append(c[e]);s.recalcSlides(),n.loop&&s.loopCreate(),n.observer&&!s.isElement||s.update(),n.loop?s.slideTo(l+s.loopedSlides,0,!1):s.slideTo(l,0,!1)}function Oe(e){const t=this,{params:s,activeIndex:n}=t;let a=n;s.loop&&(a-=t.loopedSlides,t.loopDestroy());let r,i=a;if("object"==typeof e&&"length"in e){for(let s=0;s<e.length;s+=1)r=e[s],t.slides[r]&&t.slides[r].remove(),r<i&&(i-=1);i=Math.max(i,0)}else r=e,t.slides[r]&&t.slides[r].remove(),r<i&&(i-=1),i=Math.max(i,0);t.recalcSlides(),s.loop&&t.loopCreate(),s.observer&&!t.isElement||t.update(),s.loop?t.slideTo(i+t.loopedSlides,0,!1):t.slideTo(i,0,!1)}function Ne(){const e=this,t=[];for(let s=0;s<e.slides.length;s+=1)t.push(s);e.removeSlide(t)}function ze(e){const{effect:t,swiper:s,on:n,setTranslate:a,setTransition:r,overwriteParams:i,perspective:o,recreateShadows:l,getEffectParams:c}=e;let d;n("beforeInit",()=>{if(s.params.effect!==t)return;s.classNames.push(`${s.params.containerModifierClass}${t}`),o&&o()&&s.classNames.push(`${s.params.containerModifierClass}3d`);const e=i?i():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)}),n("setTranslate _virtualUpdated",()=>{s.params.effect===t&&a()}),n("setTransition",(e,n)=>{s.params.effect===t&&r(n)}),n("transitionEnd",()=>{if(s.params.effect===t&&l){if(!c||!c().slideShadows)return;s.slides.forEach(e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>e.remove())}),l()}}),n("virtualUpdate",()=>{s.params.effect===t&&(s.slides.length||(d=!0),requestAnimationFrame(()=>{d&&s.slides&&s.slides.length&&(a(),d=!1)}))})}function De(e,t){const s=D(t);return s!==t&&(s.style.backfaceVisibility="hidden",s.style["-webkit-backface-visibility"]="hidden"),s}function $e({swiper:e,duration:t,transformElements:s,allSlides:n}){const{activeIndex:a}=e;if(e.params.virtualTranslate&&0!==t){let t,r=!1;t=n?s:s.filter(t=>{const s=t.classList.contains("swiper-slide-transform")?(t=>t.parentElement?t.parentElement:e.slides.find(e=>e.shadowRoot&&e.shadowRoot===t.parentNode))(t):t;return e.getSlideIndex(s)===a}),t.forEach(t=>{q(t,()=>{if(r)return;if(!e||e.destroyed)return;r=!0,e.animating=!1;const t=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(t)})})}}function Be(e,t,s){const n=`swiper-slide-shadow${s?`-${s}`:""}${e?` swiper-slide-shadow-${e}`:""}`,a=D(t);let r=a.querySelector(`.${n.split(" ").join(".")}`);return r||(r=R("div",n.split(" ")),a.append(r)),r}const Re=[function({swiper:e,extendParams:t,on:s,emit:n}){let a;t({virtual:{enabled:!1,slides:[],cache:!0,slidesPerViewAutoSlideSize:320,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});const r=C();e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};const i=r.createElement("div");function o(t,s){const n=e.params.virtual;if(n.cache&&e.virtual.cache[s])return e.virtual.cache[s];let a;return n.renderSlide?(a=n.renderSlide.call(e,t,s),"string"==typeof a&&(X(i,a),a=i.children[0])):a=e.isElement?R("swiper-slide"):R("div",e.params.slideClass),a.setAttribute("data-swiper-slide-index",s),n.renderSlide||X(a,t),n.cache&&(e.virtual.cache[s]=a),a}function l(t,s,a){const{slidesPerGroup:r,centeredSlides:i,slidesPerView:l,loop:c,initialSlide:d}=e.params;if(s&&!c&&d>0)return;const{addSlidesBefore:u,addSlidesAfter:p,slidesPerViewAutoSlideSize:h}=e.params.virtual,{from:f,to:m,slides:g,slidesGrid:v,offset:b}=e.virtual;e.params.cssMode||e.updateActiveIndex();const w=void 0===a?e.activeIndex||0:a;let y,x,_,k;if(y=e.rtlTranslate?"right":e.isHorizontal()?"left":"top","auto"===l)if(h){let t=e.size;t||(t=e.isHorizontal()?e.el.getBoundingClientRect().width:e.el.getBoundingClientRect().height),x=Math.max(1,Math.ceil(t/h))}else x=1;else x=l;i?(_=Math.floor(x/2)+r+p,k=Math.floor(x/2)+r+u):(_=x+(r-1)+p,k=(c?x:r)+u);let S=w-k,C=w+_;c||(S=Math.max(S,0),C=Math.min(C,g.length-1));let E=(e.slidesGrid[S]||0)-(e.slidesGrid[0]||0);function T(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n("virtualUpdate")}if(c&&w>=k?(S-=k,i||(E+=e.slidesGrid[0])):c&&w<k&&(S=-k,i&&(E+=e.slidesGrid[0])),Object.assign(e.virtual,{from:S,to:C,offset:E,slidesGrid:e.slidesGrid,slidesBefore:k,slidesAfter:_}),f===S&&m===C&&!t)return e.slidesGrid!==v&&E!==b&&e.slides.forEach(t=>{t.style[y]=E-Math.abs(e.cssOverflowAdjustment())+"px"}),e.updateProgress(),void n("virtualUpdate");if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:E,from:S,to:C,slides:function(){const e=[];for(let t=S;t<=C;t+=1)e.push(g[t]);return e}()}),void(e.params.virtual.renderExternalUpdate?T():n("virtualUpdate"));const j=[],M=[],P=e=>{let t=e;return e<0?t=g.length+e:t>=g.length&&(t-=g.length),t};if(t)e.slides.filter(t=>t.matches(`.${e.params.slideClass}, swiper-slide`)).forEach(e=>{e.remove()});else for(let t=f;t<=m;t+=1)if(t<S||t>C){const s=P(t);e.slides.filter(t=>t.matches(`.${e.params.slideClass}[data-swiper-slide-index="${s}"], swiper-slide[data-swiper-slide-index="${s}"]`)).forEach(e=>{e.remove()})}const A=c?-g.length:0,L=c?2*g.length:g.length;for(let e=A;e<L;e+=1)if(e>=S&&e<=C){const s=P(e);void 0===m||t?M.push(s):(e>m&&M.push(s),e<f&&j.push(s))}if(M.forEach(t=>{e.slidesEl.append(o(g[t],t))}),c)for(let t=j.length-1;t>=0;t-=1){const s=j[t];e.slidesEl.prepend(o(g[s],s))}else j.sort((e,t)=>t-e),j.forEach(t=>{e.slidesEl.prepend(o(g[t],t))});$(e.slidesEl,".swiper-slide, swiper-slide").forEach(t=>{t.style[y]=E-Math.abs(e.cssOverflowAdjustment())+"px"}),T()}s("beforeInit",()=>{if(!e.params.virtual.enabled)return;let t;if(void 0===e.passedParams.virtual.slides){const s=[...e.slidesEl.children].filter(t=>t.matches(`.${e.params.slideClass}, swiper-slide`));s&&s.length&&(e.virtual.slides=[...s],t=!0,s.forEach((t,s)=>{t.setAttribute("data-swiper-slide-index",s),e.virtual.cache[s]=t,t.remove()}))}t||(e.virtual.slides=e.params.virtual.slides),e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,l(!1,!0)}),s("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(a),a=setTimeout(()=>{l()},100)):l())}),s("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&N(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:function(t){if("object"==typeof t&&"length"in t)for(let s=0;s<t.length;s+=1)t[s]&&e.virtual.slides.push(t[s]);else e.virtual.slides.push(t);l(!0)},prependSlide:function(t){const s=e.activeIndex;let n=s+1,a=1;if(Array.isArray(t)){for(let s=0;s<t.length;s+=1)t[s]&&e.virtual.slides.unshift(t[s]);n=s+t.length,a=t.length}else e.virtual.slides.unshift(t);if(e.params.virtual.cache){const t=e.virtual.cache,s={};Object.keys(t).forEach(e=>{const n=t[e],r=n.getAttribute("data-swiper-slide-index");r&&n.setAttribute("data-swiper-slide-index",parseInt(r,10)+a),s[parseInt(e,10)+a]=n}),e.virtual.cache=s}l(!0),e.slideTo(n,0)},removeSlide:function(t){if(null==t)return;let s=e.activeIndex;if(Array.isArray(t))for(let n=t.length-1;n>=0;n-=1)e.params.virtual.cache&&(delete e.virtual.cache[t[n]],Object.keys(e.virtual.cache).forEach(s=>{s>t&&(e.virtual.cache[s-1]=e.virtual.cache[s],e.virtual.cache[s-1].setAttribute("data-swiper-slide-index",s-1),delete e.virtual.cache[s])})),e.virtual.slides.splice(t[n],1),t[n]<s&&(s-=1),s=Math.max(s,0);else e.params.virtual.cache&&(delete e.virtual.cache[t],Object.keys(e.virtual.cache).forEach(s=>{s>t&&(e.virtual.cache[s-1]=e.virtual.cache[s],e.virtual.cache[s-1].setAttribute("data-swiper-slide-index",s-1),delete e.virtual.cache[s])})),e.virtual.slides.splice(t,1),t<s&&(s-=1),s=Math.max(s,0);l(!0),e.slideTo(s,0)},removeAllSlides:function(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),l(!0),e.slideTo(0,0)},update:l})},function({swiper:e,extendParams:t,on:s,emit:n}){const a=C(),r=T();function i(t){if(!e.enabled)return;const{rtlTranslate:s}=e;let i=t;i.originalEvent&&(i=i.originalEvent);const o=i.keyCode||i.charCode,l=e.params.keyboard.pageUpDown,c=l&&33===o,d=l&&34===o,u=37===o,p=39===o,h=38===o,f=40===o;if(!e.allowSlideNext&&(e.isHorizontal()&&p||e.isVertical()&&f||d))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&u||e.isVertical()&&h||c))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||a.activeElement&&(a.activeElement.isContentEditable||a.activeElement.nodeName&&("input"===a.activeElement.nodeName.toLowerCase()||"textarea"===a.activeElement.nodeName.toLowerCase())))){if(e.params.keyboard.onlyInViewport&&(c||d||u||p||h||f)){let t=!1;if(G(e.el,`.${e.params.slideClass}, swiper-slide`).length>0&&0===G(e.el,`.${e.params.slideActiveClass}`).length)return;const n=e.el,a=n.clientWidth,i=n.clientHeight,o=r.innerWidth,l=r.innerHeight,c=F(n);s&&(c.left-=n.scrollLeft);const d=[[c.left,c.top],[c.left+a,c.top],[c.left,c.top+i],[c.left+a,c.top+i]];for(let e=0;e<d.length;e+=1){const s=d[e];if(s[0]>=0&&s[0]<=o&&s[1]>=0&&s[1]<=l){if(0===s[0]&&0===s[1])continue;t=!0}}if(!t)return}e.isHorizontal()?((c||d||u||p)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),((d||p)&&!s||(c||u)&&s)&&e.slideNext(),((c||u)&&!s||(d||p)&&s)&&e.slidePrev()):((c||d||h||f)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),(d||f)&&e.slideNext(),(c||h)&&e.slidePrev()),n("keyPress",o)}}function o(){e.keyboard.enabled||(a.addEventListener("keydown",i),e.keyboard.enabled=!0)}function l(){e.keyboard.enabled&&(a.removeEventListener("keydown",i),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),s("init",()=>{e.params.keyboard.enabled&&o()}),s("destroy",()=>{e.keyboard.enabled&&l()}),Object.assign(e.keyboard,{enable:o,disable:l})},function({swiper:e,extendParams:t,on:s,emit:n}){const a=T();let r;t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null,noMousewheelClass:"swiper-no-mousewheel"}}),e.mousewheel={enabled:!1};let i,o=P();const l=[];function c(){e.enabled&&(e.mouseEntered=!0)}function d(){e.enabled&&(e.mouseEntered=!1)}function u(t){return!(e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&P()-o<e.params.mousewheel.thresholdTime||!(t.delta>=6&&P()-o<60)&&(t.direction<0?e.isEnd&&!e.params.loop||e.animating||(e.slideNext(),n("scroll",t.raw)):e.isBeginning&&!e.params.loop||e.animating||(e.slidePrev(),n("scroll",t.raw)),o=(new a.Date).getTime(),1))}function p(t){let s=t,a=!0;if(!e.enabled)return;if(t.target.closest(`.${e.params.mousewheel.noMousewheelClass}`))return;const o=e.params.mousewheel;e.params.cssMode&&s.preventDefault();let c=e.el;"container"!==e.params.mousewheel.eventsTarget&&(c=document.querySelector(e.params.mousewheel.eventsTarget));const d=c&&c.contains(s.target);if(!e.mouseEntered&&!d&&!o.releaseOnEdges)return!0;s.originalEvent&&(s=s.originalEvent);let p=0;const h=e.rtlTranslate?-1:1,f=function(e){let t=0,s=0,n=0,a=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),n=10*t,a=10*s,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(n=e.deltaX),e.shiftKey&&!n&&(n=a,a=0),(n||a)&&e.deltaMode&&(1===e.deltaMode?(n*=40,a*=40):(n*=800,a*=800)),n&&!t&&(t=n<1?-1:1),a&&!s&&(s=a<1?-1:1),{spinX:t,spinY:s,pixelX:n,pixelY:a}}(s);if(o.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(f.pixelX)>Math.abs(f.pixelY)))return!0;p=-f.pixelX*h}else{if(!(Math.abs(f.pixelY)>Math.abs(f.pixelX)))return!0;p=-f.pixelY}else p=Math.abs(f.pixelX)>Math.abs(f.pixelY)?-f.pixelX*h:-f.pixelY;if(0===p)return!0;o.invert&&(p=-p);let m=e.getTranslate()+p*o.sensitivity;if(m>=e.minTranslate()&&(m=e.minTranslate()),m<=e.maxTranslate()&&(m=e.maxTranslate()),a=!!e.params.loop||!(m===e.minTranslate()||m===e.maxTranslate()),a&&e.params.nested&&s.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const t={time:P(),delta:Math.abs(p),direction:Math.sign(p)},a=i&&t.time<i.time+500&&t.delta<=i.delta&&t.direction===i.direction;if(!a){i=void 0;let c=e.getTranslate()+p*o.sensitivity;const d=e.isBeginning,u=e.isEnd;if(c>=e.minTranslate()&&(c=e.minTranslate()),c<=e.maxTranslate()&&(c=e.maxTranslate()),e.setTransition(0),e.setTranslate(c),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!d&&e.isBeginning||!u&&e.isEnd)&&e.updateSlidesClasses(),e.params.loop&&e.loopFix({direction:t.direction<0?"next":"prev",byMousewheel:!0}),e.params.freeMode.sticky){clearTimeout(r),r=void 0,l.length>=15&&l.shift();const s=l.length?l[l.length-1]:void 0,n=l[0];if(l.push(t),s&&(t.delta>s.delta||t.direction!==s.direction))l.splice(0);else if(l.length>=15&&t.time-n.time<500&&n.delta-t.delta>=1&&t.delta<=6){const s=p>0?.8:.2;i=t,l.splice(0),r=M(()=>{!e.destroyed&&e.params&&e.slideToClosest(e.params.speed,!0,void 0,s)},0)}r||(r=M(()=>{!e.destroyed&&e.params&&(i=t,l.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5))},500))}if(a||n("scroll",s),e.params.autoplay&&e.params.autoplay.disableOnInteraction&&e.autoplay.stop(),o.releaseOnEdges&&(c===e.minTranslate()||c===e.maxTranslate()))return!0}}else{const s={time:P(),delta:Math.abs(p),direction:Math.sign(p),raw:t};l.length>=2&&l.shift();const n=l.length?l[l.length-1]:void 0;if(l.push(s),n?(s.direction!==n.direction||s.delta>n.delta||s.time>n.time+150)&&u(s):u(s),function(t){const s=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&s.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&s.releaseOnEdges)return!0;return!1}(s))return!0}return s.preventDefault?s.preventDefault():s.returnValue=!1,!1}function h(t){let s=e.el;"container"!==e.params.mousewheel.eventsTarget&&(s=document.querySelector(e.params.mousewheel.eventsTarget)),s[t]("mouseenter",c),s[t]("mouseleave",d),s[t]("wheel",p)}function f(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",p),!0):!e.mousewheel.enabled&&(h("addEventListener"),e.mousewheel.enabled=!0,!0)}function m(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,p),!0):!!e.mousewheel.enabled&&(h("removeEventListener"),e.mousewheel.enabled=!1,!0)}s("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&m(),e.params.mousewheel.enabled&&f()}),s("destroy",()=>{e.params.cssMode&&f(),e.mousewheel.enabled&&m()}),Object.assign(e.mousewheel,{enable:f,disable:m})},function({swiper:e,extendParams:t,on:s,emit:n}){function a(t){let s;return t&&"string"==typeof t&&e.isElement&&(s=e.el.querySelector(t)||e.hostEl.querySelector(t),s)?s:(t&&("string"==typeof t&&(s=[...document.querySelectorAll(t)]),e.params.uniqueNavElements&&"string"==typeof t&&s&&s.length>1&&1===e.el.querySelectorAll(t).length?s=e.el.querySelector(t):s&&1===s.length&&(s=s[0])),t&&!s?t:s)}function r(t,s){const n=e.params.navigation;(t=W(t)).forEach(t=>{t&&(t.classList[s?"add":"remove"](...n.disabledClass.split(" ")),"BUTTON"===t.tagName&&(t.disabled=s),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](n.lockClass))})}function i(){const{nextEl:t,prevEl:s}=e.navigation;if(e.params.loop)return r(s,!1),void r(t,!1);r(s,e.isBeginning&&!e.params.rewind),r(t,e.isEnd&&!e.params.rewind)}function o(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function l(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function c(){const t=e.params.navigation;if(e.params.navigation=je(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;let s=a(t.nextEl),n=a(t.prevEl);Object.assign(e.navigation,{nextEl:s,prevEl:n}),s=W(s),n=W(n);const r=(s,n)=>{if(s){if(t.addIcons&&s.matches(".swiper-button-next,.swiper-button-prev")&&!s.querySelector("svg")){const e=document.createElement("div");X(e,Me),s.appendChild(e.querySelector("svg")),e.remove()}s.addEventListener("click","next"===n?l:o)}!e.enabled&&s&&s.classList.add(...t.lockClass.split(" "))};s.forEach(e=>r(e,"next")),n.forEach(e=>r(e,"prev"))}function d(){let{nextEl:t,prevEl:s}=e.navigation;t=W(t),s=W(s);const n=(t,s)=>{t.removeEventListener("click","next"===s?l:o),t.classList.remove(...e.params.navigation.disabledClass.split(" "))};t.forEach(e=>n(e,"next")),s.forEach(e=>n(e,"prev"))}t({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null,arrowSvg:Me},s("init",()=>{!1===e.params.navigation.enabled?u():(c(),i())}),s("toEdge fromEdge lock unlock",()=>{i()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:t,prevEl:s}=e.navigation;t=W(t),s=W(s),e.enabled?i():[...t,...s].filter(e=>!!e).forEach(t=>t.classList.add(e.params.navigation.lockClass))}),s("click",(t,s)=>{let{nextEl:a,prevEl:r}=e.navigation;a=W(a),r=W(r);const i=s.target;let o=r.includes(i)||a.includes(i);if(e.isElement&&!o){const e=s.path||s.composedPath&&s.composedPath();e&&(o=e.find(e=>a.includes(e)||r.includes(e)))}if(e.params.navigation.hideOnClick&&!o){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===i||e.pagination.el.contains(i)))return;let t;a.length?t=a[0].classList.contains(e.params.navigation.hiddenClass):r.length&&(t=r[0].classList.contains(e.params.navigation.hiddenClass)),n(!0===t?"navigationShow":"navigationHide"),[...a,...r].filter(e=>!!e).forEach(t=>t.classList.toggle(e.params.navigation.hiddenClass))}});const u=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),i()},disable:u,update:i,init:c,destroy:d})},function({swiper:e,extendParams:t,on:s,emit:n}){const a="swiper-pagination";let r;t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let i=0;function o(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&0===e.pagination.el.length}function l(t,s){const{bulletActiveClass:n}=e.params.pagination;t&&(t=t[("prev"===s?"previous":"next")+"ElementSibling"])&&(t.classList.add(`${n}-${s}`),(t=t[("prev"===s?"previous":"next")+"ElementSibling"])&&t.classList.add(`${n}-${s}-${s}`))}function c(t){const s=t.target.closest(Pe(e.params.pagination.bulletClass));if(!s)return;t.preventDefault();const n=V(s)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===n)return;const t=(a=e.realIndex,r=n,(r%=i=e.slides.length)===1+(a%=i)?"next":r===a-1?"previous":void 0);"next"===t?e.slideNext():"previous"===t?e.slidePrev():e.slideToLoop(n)}else e.slideTo(n);var a,r,i}function d(){const t=e.rtl,s=e.params.pagination;if(o())return;let a,c,d=e.pagination.el;d=W(d);const u=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,p=e.params.loop?Math.ceil(u/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(c=e.previousRealIndex||0,a=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):void 0!==e.snapIndex?(a=e.snapIndex,c=e.previousSnapIndex):(c=e.previousIndex||0,a=e.activeIndex||0),"bullets"===s.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const n=e.pagination.bullets;let o,u,p;if(s.dynamicBullets&&(r=U(n[0],e.isHorizontal()?"width":"height",!0),d.forEach(t=>{t.style[e.isHorizontal()?"width":"height"]=r*(s.dynamicMainBullets+4)+"px"}),s.dynamicMainBullets>1&&void 0!==c&&(i+=a-(c||0),i>s.dynamicMainBullets-1?i=s.dynamicMainBullets-1:i<0&&(i=0)),o=Math.max(a-i,0),u=o+(Math.min(n.length,s.dynamicMainBullets)-1),p=(u+o)/2),n.forEach(e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${s.bulletActiveClass}${e}`)].map(e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e).flat();e.classList.remove(...t)}),d.length>1)n.forEach(t=>{const n=V(t);n===a?t.classList.add(...s.bulletActiveClass.split(" ")):e.isElement&&t.setAttribute("part","bullet"),s.dynamicBullets&&(n>=o&&n<=u&&t.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),n===o&&l(t,"prev"),n===u&&l(t,"next"))});else{const t=n[a];if(t&&t.classList.add(...s.bulletActiveClass.split(" ")),e.isElement&&n.forEach((e,t)=>{e.setAttribute("part",t===a?"bullet-active":"bullet")}),s.dynamicBullets){const e=n[o],t=n[u];for(let e=o;e<=u;e+=1)n[e]&&n[e].classList.add(...`${s.bulletActiveClass}-main`.split(" "));l(e,"prev"),l(t,"next")}}if(s.dynamicBullets){const a=Math.min(n.length,s.dynamicMainBullets+4),i=(r*a-r)/2-p*r,o=t?"right":"left";n.forEach(t=>{t.style[e.isHorizontal()?o:"top"]=`${i}px`})}}d.forEach((t,r)=>{if("fraction"===s.type&&(t.querySelectorAll(Pe(s.currentClass)).forEach(e=>{e.textContent=s.formatFractionCurrent(a+1)}),t.querySelectorAll(Pe(s.totalClass)).forEach(e=>{e.textContent=s.formatFractionTotal(p)})),"progressbar"===s.type){let n;n=s.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const r=(a+1)/p;let i=1,o=1;"horizontal"===n?i=r:o=r,t.querySelectorAll(Pe(s.progressbarFillClass)).forEach(t=>{t.style.transform=`translate3d(0,0,0) scaleX(${i}) scaleY(${o})`,t.style.transitionDuration=`${e.params.speed}ms`})}"custom"===s.type&&s.renderCustom?(X(t,s.renderCustom(e,a+1,p)),0===r&&n("paginationRender",t)):(0===r&&n("paginationRender",t),n("paginationUpdate",t)),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](s.lockClass)})}function u(){const t=e.params.pagination;if(o())return;const s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let a=e.pagination.el;a=W(a);let r="";if("bullets"===t.type){let n=e.params.loop?Math.ceil(s/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&n>s&&(n=s);for(let s=0;s<n;s+=1)t.renderBullet?r+=t.renderBullet.call(e,s,t.bulletClass):r+=`<${t.bulletElement} ${e.isElement?'part="bullet"':""} class="${t.bulletClass}"></${t.bulletElement}>`}"fraction"===t.type&&(r=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`),"progressbar"===t.type&&(r=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`),e.pagination.bullets=[],a.forEach(s=>{"custom"!==t.type&&X(s,r||""),"bullets"===t.type&&e.pagination.bullets.push(...s.querySelectorAll(Pe(t.bulletClass)))}),"custom"!==t.type&&n("paginationRender",a[0])}function p(){e.params.pagination=je(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let s;"string"==typeof t.el&&e.isElement&&(s=e.el.querySelector(t.el)),s||"string"!=typeof t.el||(s=[...document.querySelectorAll(t.el)]),s||(s=t.el),s&&0!==s.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&Array.isArray(s)&&s.length>1&&(s=[...e.el.querySelectorAll(t.el)],s.length>1&&(s=s.find(t=>G(t,".swiper")[0]===e.el))),Array.isArray(s)&&1===s.length&&(s=s[0]),Object.assign(e.pagination,{el:s}),s=W(s),s.forEach(s=>{"bullets"===t.type&&t.clickable&&s.classList.add(...(t.clickableClass||"").split(" ")),s.classList.add(t.modifierClass+t.type),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(s.classList.add(`${t.modifierClass}${t.type}-dynamic`),i=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&s.classList.add(t.progressbarOppositeClass),t.clickable&&s.addEventListener("click",c),e.enabled||s.classList.add(t.lockClass)}))}function h(){const t=e.params.pagination;if(o())return;let s=e.pagination.el;s&&(s=W(s),s.forEach(s=>{s.classList.remove(t.hiddenClass),s.classList.remove(t.modifierClass+t.type),s.classList.remove(e.isHorizontal()?t.horizontalClass:t.verticalClass),t.clickable&&(s.classList.remove(...(t.clickableClass||"").split(" ")),s.removeEventListener("click",c))})),e.pagination.bullets&&e.pagination.bullets.forEach(e=>e.classList.remove(...t.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const t=e.params.pagination;let{el:s}=e.pagination;s=W(s),s.forEach(s=>{s.classList.remove(t.horizontalClass,t.verticalClass),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),s("init",()=>{!1===e.params.pagination.enabled?f():(p(),u(),d())}),s("activeIndexChange",()=>{void 0===e.snapIndex&&d()}),s("snapIndexChange",()=>{d()}),s("snapGridLengthChange",()=>{u(),d()}),s("destroy",()=>{h()}),s("enable disable",()=>{let{el:t}=e.pagination;t&&(t=W(t),t.forEach(t=>t.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),s("lock unlock",()=>{d()}),s("click",(t,s)=>{const a=s.target,r=W(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&r&&r.length>0&&!a.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&a===e.navigation.nextEl||e.navigation.prevEl&&a===e.navigation.prevEl))return;const t=r[0].classList.contains(e.params.pagination.hiddenClass);n(!0===t?"paginationShow":"paginationHide"),r.forEach(t=>t.classList.toggle(e.params.pagination.hiddenClass))}});const f=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=W(t),t.forEach(t=>t.classList.add(e.params.pagination.paginationDisabledClass))),h()};Object.assign(e.pagination,{enable:()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:t}=e.pagination;t&&(t=W(t),t.forEach(t=>t.classList.remove(e.params.pagination.paginationDisabledClass))),p(),u(),d()},disable:f,render:u,update:d,init:p,destroy:h})},function({swiper:e,extendParams:t,on:s,emit:n}){const a=C();let r,i,o,l,c=!1,d=null,u=null;function p(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t,rtlTranslate:s}=e,{dragEl:n,el:a}=t,r=e.params.scrollbar,l=e.params.loop?e.progressLoop:e.progress;let c=i,u=(o-i)*l;s?(u=-u,u>0?(c=i-u,u=0):-u+i>o&&(c=o+u)):u<0?(c=i+u,u=0):u+i>o&&(c=o-u),e.isHorizontal()?(n.style.transform=`translate3d(${u}px, 0, 0)`,n.style.width=`${c}px`):(n.style.transform=`translate3d(0px, ${u}px, 0)`,n.style.height=`${c}px`),r.hide&&(clearTimeout(d),a.style.opacity=1,d=setTimeout(()=>{a.style.opacity=0,a.style.transitionDuration="400ms"},1e3))}function h(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t}=e,{dragEl:s,el:n}=t;s.style.width="",s.style.height="",o=e.isHorizontal()?n.offsetWidth:n.offsetHeight,l=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),i="auto"===e.params.scrollbar.dragSize?o*l:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?s.style.width=`${i}px`:s.style.height=`${i}px`,n.style.display=l>=1?"none":"",e.params.scrollbar.hide&&(n.style.opacity=0),e.params.watchOverflow&&e.enabled&&t.el.classList[e.isLocked?"add":"remove"](e.params.scrollbar.lockClass)}function f(t){return e.isHorizontal()?t.clientX:t.clientY}function m(t){const{scrollbar:s,rtlTranslate:n}=e,{el:a}=s;let l;l=(f(t)-F(a)[e.isHorizontal()?"left":"top"]-(null!==r?r:i/2))/(o-i),l=Math.max(Math.min(l,1),0),n&&(l=1-l);const c=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*l;e.updateProgress(c),e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}function g(t){const s=e.params.scrollbar,{scrollbar:a,wrapperEl:i}=e,{el:o,dragEl:l}=a;c=!0,r=t.target===l?f(t)-t.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),i.style.transitionDuration="100ms",l.style.transitionDuration="100ms",m(t),clearTimeout(u),o.style.transitionDuration="0ms",s.hide&&(o.style.opacity=1),e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="none"),n("scrollbarDragStart",t)}function v(t){const{scrollbar:s,wrapperEl:a}=e,{el:r,dragEl:i}=s;c&&(t.preventDefault&&t.cancelable?t.preventDefault():t.returnValue=!1,m(t),a.style.transitionDuration="0ms",r.style.transitionDuration="0ms",i.style.transitionDuration="0ms",n("scrollbarDragMove",t))}function b(t){const s=e.params.scrollbar,{scrollbar:a,wrapperEl:r}=e,{el:i}=a;c&&(c=!1,e.params.cssMode&&(e.wrapperEl.style["scroll-snap-type"]="",r.style.transitionDuration=""),s.hide&&(clearTimeout(u),u=M(()=>{i.style.opacity=0,i.style.transitionDuration="400ms"},1e3)),n("scrollbarDragEnd",t),s.snapOnRelease&&e.slideToClosest())}function w(t){const{scrollbar:s,params:n}=e,r=s.el;if(!r)return;const i=r,o=!!n.passiveListeners&&{passive:!1,capture:!1},l=!!n.passiveListeners&&{passive:!0,capture:!1};if(!i)return;const c="on"===t?"addEventListener":"removeEventListener";i[c]("pointerdown",g,o),a[c]("pointermove",v,o),a[c]("pointerup",b,l)}function y(){const{scrollbar:t,el:s}=e;e.params.scrollbar=je(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const n=e.params.scrollbar;if(!n.el)return;let r,i;if("string"==typeof n.el&&e.isElement&&(r=e.el.querySelector(n.el)),r||"string"!=typeof n.el)r||(r=n.el);else if(r=a.querySelectorAll(n.el),!r.length)return;e.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===s.querySelectorAll(n.el).length&&(r=s.querySelector(n.el)),r.length>0&&(r=r[0]),r.classList.add(e.isHorizontal()?n.horizontalClass:n.verticalClass),r&&(i=r.querySelector(Pe(e.params.scrollbar.dragClass)),i||(i=R("div",e.params.scrollbar.dragClass),r.append(i))),Object.assign(t,{el:r,dragEl:i}),n.draggable&&e.params.scrollbar.el&&e.scrollbar.el&&w("on"),r&&r.classList[e.enabled?"remove":"add"](...j(e.params.scrollbar.lockClass))}function x(){const t=e.params.scrollbar,s=e.scrollbar.el;s&&s.classList.remove(...j(e.isHorizontal()?t.horizontalClass:t.verticalClass)),e.params.scrollbar.el&&e.scrollbar.el&&w("off")}t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),e.scrollbar={el:null,dragEl:null},s("changeDirection",()=>{if(!e.scrollbar||!e.scrollbar.el)return;const t=e.params.scrollbar;let{el:s}=e.scrollbar;s=W(s),s.forEach(s=>{s.classList.remove(t.horizontalClass,t.verticalClass),s.classList.add(e.isHorizontal()?t.horizontalClass:t.verticalClass)})}),s("init",()=>{!1===e.params.scrollbar.enabled?_():(y(),h(),p())}),s("update resize observerUpdate lock unlock changeDirection",()=>{h()}),s("setTranslate",()=>{p()}),s("setTransition",(t,s)=>{!function(t){e.params.scrollbar.el&&e.scrollbar.el&&(e.scrollbar.dragEl.style.transitionDuration=`${t}ms`)}(s)}),s("enable disable",()=>{const{el:t}=e.scrollbar;t&&t.classList[e.enabled?"remove":"add"](...j(e.params.scrollbar.lockClass))}),s("destroy",()=>{x()});const _=()=>{e.el.classList.add(...j(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.add(...j(e.params.scrollbar.scrollbarDisabledClass)),x()};Object.assign(e.scrollbar,{enable:()=>{e.el.classList.remove(...j(e.params.scrollbar.scrollbarDisabledClass)),e.scrollbar.el&&e.scrollbar.el.classList.remove(...j(e.params.scrollbar.scrollbarDisabledClass)),y(),h(),p()},disable:_,updateSize:h,setTranslate:p,init:y,destroy:x})},function({swiper:e,extendParams:t,on:s}){t({parallax:{enabled:!1}});const n="[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]",a=(t,s)=>{const{rtl:n}=e,a=n?-1:1,r=t.getAttribute("data-swiper-parallax")||"0";let i=t.getAttribute("data-swiper-parallax-x"),o=t.getAttribute("data-swiper-parallax-y");const l=t.getAttribute("data-swiper-parallax-scale"),c=t.getAttribute("data-swiper-parallax-opacity"),d=t.getAttribute("data-swiper-parallax-rotate");if(i||o?(i=i||"0",o=o||"0"):e.isHorizontal()?(i=r,o="0"):(o=r,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*s*a+"%":i*s*a+"px",o=o.indexOf("%")>=0?parseInt(o,10)*s+"%":o*s+"px",null!=c){const e=c-(c-1)*(1-Math.abs(s));t.style.opacity=e}let u=`translate3d(${i}, ${o}, 0px)`;null!=l&&(u+=` scale(${l-(l-1)*(1-Math.abs(s))})`),d&&null!=d&&(u+=` rotate(${d*s*-1}deg)`),t.style.transform=u},r=()=>{const{el:t,slides:s,progress:r,snapGrid:i,isElement:o}=e,l=$(t,n);e.isElement&&l.push(...$(e.hostEl,n)),l.forEach(e=>{a(e,r)}),s.forEach((t,s)=>{let o=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(o+=Math.ceil(s/2)-r*(i.length-1)),o=Math.min(Math.max(o,-1),1),t.querySelectorAll(`${n}, [data-swiper-parallax-rotate]`).forEach(e=>{a(e,o)})})};s("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),s("init",()=>{e.params.parallax.enabled&&r()}),s("setTranslate",()=>{e.params.parallax.enabled&&r()}),s("setTransition",(t,s)=>{e.params.parallax.enabled&&((t=e.params.speed)=>{const{el:s,hostEl:a}=e,r=[...s.querySelectorAll(n)];e.isElement&&r.push(...a.querySelectorAll(n)),r.forEach(e=>{let s=parseInt(e.getAttribute("data-swiper-parallax-duration"),10)||t;0===t&&(s=0),e.style.transitionDuration=`${s}ms`})})(s)})},function({swiper:e,extendParams:t,on:s,emit:n}){const a=T();t({zoom:{enabled:!1,limitToOriginalSize:!1,maxRatio:3,minRatio:1,panOnMouseMove:!1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let r,i,o=1,l=!1,c=!1,d={x:0,y:0};const u=[],p={originX:0,originY:0,slideEl:void 0,slideWidth:void 0,slideHeight:void 0,imageEl:void 0,imageWrapEl:void 0,maxRatio:3},h={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},f={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let m,g=1;function v(){if(u.length<2)return 1;const e=u[0].pageX,t=u[0].pageY,s=u[1].pageX,n=u[1].pageY;return Math.sqrt((s-e)**2+(n-t)**2)}function b(){const t=e.params.zoom,s=p.imageWrapEl.getAttribute("data-swiper-zoom")||t.maxRatio;if(t.limitToOriginalSize&&p.imageEl&&p.imageEl.naturalWidth){const e=p.imageEl.naturalWidth/p.imageEl.offsetWidth;return Math.min(e,s)}return s}function w(t){const s=e.isElement?"swiper-slide":`.${e.params.slideClass}`;return!!t.target.matches(s)||e.slides.filter(e=>e.contains(t.target)).length>0}function y(t){const s=`.${e.params.zoom.containerClass}`;return!!t.target.matches(s)||[...e.hostEl.querySelectorAll(s)].filter(e=>e.contains(t.target)).length>0}function x(t){if("mouse"===t.pointerType&&u.splice(0,u.length),!w(t))return;const s=e.params.zoom;if(r=!1,i=!1,u.push(t),!(u.length<2)){if(r=!0,p.scaleStart=v(),!p.slideEl){p.slideEl=t.target.closest(`.${e.params.slideClass}, swiper-slide`),p.slideEl||(p.slideEl=e.slides[e.activeIndex]);let n=p.slideEl.querySelector(`.${s.containerClass}`);if(n&&(n=n.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=n,p.imageWrapEl=n?G(p.imageEl,`.${s.containerClass}`)[0]:void 0,!p.imageWrapEl)return void(p.imageEl=void 0);p.maxRatio=b()}if(p.imageEl){const[e,t]=function(){if(u.length<2)return{x:null,y:null};const e=p.imageEl.getBoundingClientRect();return[(u[0].pageX+(u[1].pageX-u[0].pageX)/2-e.x-a.scrollX)/o,(u[0].pageY+(u[1].pageY-u[0].pageY)/2-e.y-a.scrollY)/o]}();p.originX=e,p.originY=t,p.imageEl.style.transitionDuration="0ms"}l=!0}}function _(t){if(!w(t))return;const s=e.params.zoom,n=e.zoom,a=u.findIndex(e=>e.pointerId===t.pointerId);a>=0&&(u[a]=t),u.length<2||(i=!0,p.scaleMove=v(),p.imageEl&&(n.scale=p.scaleMove/p.scaleStart*o,n.scale>p.maxRatio&&(n.scale=p.maxRatio-1+(n.scale-p.maxRatio+1)**.5),n.scale<s.minRatio&&(n.scale=s.minRatio+1-(s.minRatio-n.scale+1)**.5),p.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`))}function k(t){if(!w(t))return;if("mouse"===t.pointerType&&"pointerout"===t.type)return;const s=e.params.zoom,n=e.zoom,a=u.findIndex(e=>e.pointerId===t.pointerId);a>=0&&u.splice(a,1),r&&i&&(r=!1,i=!1,p.imageEl&&(n.scale=Math.max(Math.min(n.scale,p.maxRatio),s.minRatio),p.imageEl.style.transitionDuration=`${e.params.speed}ms`,p.imageEl.style.transform=`translate3d(0,0,0) scale(${n.scale})`,o=n.scale,l=!1,n.scale>1&&p.slideEl?p.slideEl.classList.add(`${s.zoomedSlideClass}`):n.scale<=1&&p.slideEl&&p.slideEl.classList.remove(`${s.zoomedSlideClass}`),1===n.scale&&(p.originX=0,p.originY=0,p.slideEl=void 0)))}function S(){e.touchEventsData.preventTouchMoveFromPointerMove=!1}function C(t){const s="mouse"===t.pointerType&&e.params.zoom.panOnMouseMove;if(!w(t)||!y(t))return;const n=e.zoom;if(!p.imageEl)return;if(!h.isTouched||!p.slideEl)return void(s&&j(t));if(s)return void j(t);h.isMoved||(h.width=p.imageEl.offsetWidth||p.imageEl.clientWidth,h.height=p.imageEl.offsetHeight||p.imageEl.clientHeight,h.startX=A(p.imageWrapEl,"x")||0,h.startY=A(p.imageWrapEl,"y")||0,p.slideWidth=p.slideEl.offsetWidth,p.slideHeight=p.slideEl.offsetHeight,p.imageWrapEl.style.transitionDuration="0ms");const a=h.width*n.scale,r=h.height*n.scale;if(h.minX=Math.min(p.slideWidth/2-a/2,0),h.maxX=-h.minX,h.minY=Math.min(p.slideHeight/2-r/2,0),h.maxY=-h.minY,h.touchesCurrent.x=u.length>0?u[0].pageX:t.pageX,h.touchesCurrent.y=u.length>0?u[0].pageY:t.pageY,Math.max(Math.abs(h.touchesCurrent.x-h.touchesStart.x),Math.abs(h.touchesCurrent.y-h.touchesStart.y))>5&&(e.allowClick=!1),!h.isMoved&&!l){if(e.isHorizontal()&&(Math.floor(h.minX)===Math.floor(h.startX)&&h.touchesCurrent.x<h.touchesStart.x||Math.floor(h.maxX)===Math.floor(h.startX)&&h.touchesCurrent.x>h.touchesStart.x))return h.isTouched=!1,void S();if(!e.isHorizontal()&&(Math.floor(h.minY)===Math.floor(h.startY)&&h.touchesCurrent.y<h.touchesStart.y||Math.floor(h.maxY)===Math.floor(h.startY)&&h.touchesCurrent.y>h.touchesStart.y))return h.isTouched=!1,void S()}t.cancelable&&t.preventDefault(),t.stopPropagation(),clearTimeout(m),e.touchEventsData.preventTouchMoveFromPointerMove=!0,m=setTimeout(()=>{e.destroyed||S()}),h.isMoved=!0;const i=(n.scale-o)/(p.maxRatio-e.params.zoom.minRatio),{originX:c,originY:d}=p;h.currentX=h.touchesCurrent.x-h.touchesStart.x+h.startX+i*(h.width-2*c),h.currentY=h.touchesCurrent.y-h.touchesStart.y+h.startY+i*(h.height-2*d),h.currentX<h.minX&&(h.currentX=h.minX+1-(h.minX-h.currentX+1)**.8),h.currentX>h.maxX&&(h.currentX=h.maxX-1+(h.currentX-h.maxX+1)**.8),h.currentY<h.minY&&(h.currentY=h.minY+1-(h.minY-h.currentY+1)**.8),h.currentY>h.maxY&&(h.currentY=h.maxY-1+(h.currentY-h.maxY+1)**.8),f.prevPositionX||(f.prevPositionX=h.touchesCurrent.x),f.prevPositionY||(f.prevPositionY=h.touchesCurrent.y),f.prevTime||(f.prevTime=Date.now()),f.x=(h.touchesCurrent.x-f.prevPositionX)/(Date.now()-f.prevTime)/2,f.y=(h.touchesCurrent.y-f.prevPositionY)/(Date.now()-f.prevTime)/2,Math.abs(h.touchesCurrent.x-f.prevPositionX)<2&&(f.x=0),Math.abs(h.touchesCurrent.y-f.prevPositionY)<2&&(f.y=0),f.prevPositionX=h.touchesCurrent.x,f.prevPositionY=h.touchesCurrent.y,f.prevTime=Date.now(),p.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}function E(){const t=e.zoom;p.slideEl&&e.activeIndex!==e.slides.indexOf(p.slideEl)&&(p.imageEl&&(p.imageEl.style.transform="translate3d(0,0,0) scale(1)"),p.imageWrapEl&&(p.imageWrapEl.style.transform="translate3d(0,0,0)"),p.slideEl.classList.remove(`${e.params.zoom.zoomedSlideClass}`),t.scale=1,o=1,p.slideEl=void 0,p.imageEl=void 0,p.imageWrapEl=void 0,p.originX=0,p.originY=0)}function j(e){if(o<=1||!p.imageWrapEl)return;if(!w(e)||!y(e))return;const t=a.getComputedStyle(p.imageWrapEl).transform,s=new a.DOMMatrix(t);if(!c)return c=!0,d.x=e.clientX,d.y=e.clientY,h.startX=s.e,h.startY=s.f,h.width=p.imageEl.offsetWidth||p.imageEl.clientWidth,h.height=p.imageEl.offsetHeight||p.imageEl.clientHeight,p.slideWidth=p.slideEl.offsetWidth,void(p.slideHeight=p.slideEl.offsetHeight);const n=-3*(e.clientX-d.x),r=-3*(e.clientY-d.y),i=h.width*o,l=h.height*o,u=p.slideWidth,f=p.slideHeight,m=Math.min(u/2-i/2,0),g=-m,v=Math.min(f/2-l/2,0),b=-v,x=Math.max(Math.min(h.startX+n,g),m),_=Math.max(Math.min(h.startY+r,b),v);p.imageWrapEl.style.transitionDuration="0ms",p.imageWrapEl.style.transform=`translate3d(${x}px, ${_}px, 0)`,d.x=e.clientX,d.y=e.clientY,h.startX=x,h.startY=_,h.currentX=x,h.currentY=_}function M(t){const s=e.zoom,n=e.params.zoom;if(!p.slideEl){t&&t.target&&(p.slideEl=t.target.closest(`.${e.params.slideClass}, swiper-slide`)),p.slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?p.slideEl=$(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:p.slideEl=e.slides[e.activeIndex]);let s=p.slideEl.querySelector(`.${n.containerClass}`);s&&(s=s.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=s,p.imageWrapEl=s?G(p.imageEl,`.${n.containerClass}`)[0]:void 0}if(!p.imageEl||!p.imageWrapEl)return;let r,i,l,c,d,u,f,m,g,v,w,y,x,_,k,S,C,E;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),p.slideEl.classList.add(`${n.zoomedSlideClass}`),void 0===h.touchesStart.x&&t?(r=t.pageX,i=t.pageY):(r=h.touchesStart.x,i=h.touchesStart.y);const T=o,j="number"==typeof t?t:null;1===o&&j&&(r=void 0,i=void 0,h.touchesStart.x=void 0,h.touchesStart.y=void 0);const M=b();s.scale=j||M,o=j||M,!t||1===o&&j?(f=0,m=0):(C=p.slideEl.offsetWidth,E=p.slideEl.offsetHeight,l=F(p.slideEl).left+a.scrollX,c=F(p.slideEl).top+a.scrollY,d=l+C/2-r,u=c+E/2-i,g=p.imageEl.offsetWidth||p.imageEl.clientWidth,v=p.imageEl.offsetHeight||p.imageEl.clientHeight,w=g*s.scale,y=v*s.scale,x=Math.min(C/2-w/2,0),_=Math.min(E/2-y/2,0),k=-x,S=-_,T>0&&j&&"number"==typeof h.currentX&&"number"==typeof h.currentY?(f=h.currentX*s.scale/T,m=h.currentY*s.scale/T):(f=d*s.scale,m=u*s.scale),f<x&&(f=x),f>k&&(f=k),m<_&&(m=_),m>S&&(m=S)),j&&1===s.scale&&(p.originX=0,p.originY=0),h.currentX=f,h.currentY=m,p.imageWrapEl.style.transitionDuration="300ms",p.imageWrapEl.style.transform=`translate3d(${f}px, ${m}px,0)`,p.imageEl.style.transitionDuration="300ms",p.imageEl.style.transform=`translate3d(0,0,0) scale(${s.scale})`}function P(){const t=e.zoom,s=e.params.zoom;if(!p.slideEl){e.params.virtual&&e.params.virtual.enabled&&e.virtual?p.slideEl=$(e.slidesEl,`.${e.params.slideActiveClass}`)[0]:p.slideEl=e.slides[e.activeIndex];let t=p.slideEl.querySelector(`.${s.containerClass}`);t&&(t=t.querySelectorAll("picture, img, svg, canvas, .swiper-zoom-target")[0]),p.imageEl=t,p.imageWrapEl=t?G(p.imageEl,`.${s.containerClass}`)[0]:void 0}p.imageEl&&p.imageWrapEl&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),t.scale=1,o=1,h.currentX=void 0,h.currentY=void 0,h.touchesStart.x=void 0,h.touchesStart.y=void 0,p.imageWrapEl.style.transitionDuration="300ms",p.imageWrapEl.style.transform="translate3d(0,0,0)",p.imageEl.style.transitionDuration="300ms",p.imageEl.style.transform="translate3d(0,0,0) scale(1)",p.slideEl.classList.remove(`${s.zoomedSlideClass}`),p.slideEl=void 0,p.originX=0,p.originY=0,e.params.zoom.panOnMouseMove&&(d={x:0,y:0},c&&(c=!1,h.startX=0,h.startY=0)))}function L(t){const s=e.zoom;s.scale&&1!==s.scale?P():M(t)}function I(){return{passiveListener:!!e.params.passiveListeners&&{passive:!0,capture:!1},activeListenerWithCapture:!e.params.passiveListeners||{passive:!1,capture:!0}}}function O(){const t=e.zoom;if(t.enabled)return;t.enabled=!0;const{passiveListener:s,activeListenerWithCapture:n}=I();e.wrapperEl.addEventListener("pointerdown",x,s),e.wrapperEl.addEventListener("pointermove",_,n),["pointerup","pointercancel","pointerout"].forEach(t=>{e.wrapperEl.addEventListener(t,k,s)}),e.wrapperEl.addEventListener("pointermove",C,n)}function N(){const t=e.zoom;if(!t.enabled)return;t.enabled=!1;const{passiveListener:s,activeListenerWithCapture:n}=I();e.wrapperEl.removeEventListener("pointerdown",x,s),e.wrapperEl.removeEventListener("pointermove",_,n),["pointerup","pointercancel","pointerout"].forEach(t=>{e.wrapperEl.removeEventListener(t,k,s)}),e.wrapperEl.removeEventListener("pointermove",C,n)}Object.defineProperty(e.zoom,"scale",{get:()=>g,set(e){if(g!==e){const t=p.imageEl,s=p.slideEl;n("zoomChange",e,t,s)}g=e}}),s("init",()=>{e.params.zoom.enabled&&O()}),s("destroy",()=>{N()}),s("touchStart",(t,s)=>{e.zoom.enabled&&function(t){const s=e.device;if(!p.imageEl)return;if(h.isTouched)return;s.android&&t.cancelable&&t.preventDefault(),h.isTouched=!0;const n=u.length>0?u[0]:t;h.touchesStart.x=n.pageX,h.touchesStart.y=n.pageY}(s)}),s("touchEnd",(t,s)=>{e.zoom.enabled&&function(){const t=e.zoom;if(u.length=0,!p.imageEl)return;if(!h.isTouched||!h.isMoved)return h.isTouched=!1,void(h.isMoved=!1);h.isTouched=!1,h.isMoved=!1;let s=300,n=300;const a=f.x*s,r=h.currentX+a,i=f.y*n,o=h.currentY+i;0!==f.x&&(s=Math.abs((r-h.currentX)/f.x)),0!==f.y&&(n=Math.abs((o-h.currentY)/f.y));const l=Math.max(s,n);h.currentX=r,h.currentY=o;const c=h.width*t.scale,d=h.height*t.scale;h.minX=Math.min(p.slideWidth/2-c/2,0),h.maxX=-h.minX,h.minY=Math.min(p.slideHeight/2-d/2,0),h.maxY=-h.minY,h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX),h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY),p.imageWrapEl.style.transitionDuration=`${l}ms`,p.imageWrapEl.style.transform=`translate3d(${h.currentX}px, ${h.currentY}px,0)`}()}),s("doubleTap",(t,s)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&L(s)}),s("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&E()}),s("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&E()}),Object.assign(e.zoom,{enable:O,disable:N,in:M,out:P,toggle:L})},function({swiper:e,extendParams:t,on:s}){function n(e,t){const s=function(){let e,t,s;return(n,a)=>{for(t=-1,e=n.length;e-t>1;)s=e+t>>1,n[s]<=a?t=s:e=s;return e}}();let n,a;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(a=s(this.x,e),n=a-1,(e-this.x[n])*(this.y[a]-this.y[n])/(this.x[a]-this.x[n])+this.y[n]):0},this}function a(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},s("beforeInit",()=>{"undefined"!=typeof window&&("string"==typeof e.params.controller.control||e.params.controller.control instanceof HTMLElement)?("string"==typeof e.params.controller.control?[...document.querySelectorAll(e.params.controller.control)]:[e.params.controller.control]).forEach(t=>{if(e.controller.control||(e.controller.control=[]),t&&t.swiper)e.controller.control.push(t.swiper);else if(t){const s=`${e.params.eventsPrefix}init`,n=a=>{e.controller.control.push(a.detail[0]),e.update(),t.removeEventListener(s,n)};t.addEventListener(s,n)}}):e.controller.control=e.params.controller.control}),s("update",()=>{a()}),s("resize",()=>{a()}),s("observerUpdate",()=>{a()}),s("setTranslate",(t,s,n)=>{e.controller.control&&!e.controller.control.destroyed&&e.controller.setTranslate(s,n)}),s("setTransition",(t,s,n)=>{e.controller.control&&!e.controller.control.destroyed&&e.controller.setTransition(s,n)}),Object.assign(e.controller,{setTranslate:function(t,s){const a=e.controller.control;let r,i;const o=e.constructor;function l(t){if(t.destroyed)return;const s=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(function(t){e.controller.spline=e.params.loop?new n(e.slidesGrid,t.slidesGrid):new n(e.snapGrid,t.snapGrid)}(t),i=-e.controller.spline.interpolate(-s)),i&&"container"!==e.params.controller.by||(r=(t.maxTranslate()-t.minTranslate())/(e.maxTranslate()-e.minTranslate()),!Number.isNaN(r)&&Number.isFinite(r)||(r=1),i=(s-e.minTranslate())*r+t.minTranslate()),e.params.controller.inverse&&(i=t.maxTranslate()-i),t.updateProgress(i),t.setTranslate(i,e),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(a))for(let e=0;e<a.length;e+=1)a[e]!==s&&a[e]instanceof o&&l(a[e]);else a instanceof o&&s!==a&&l(a)},setTransition:function(t,s){const n=e.constructor,a=e.controller.control;let r;function i(s){s.destroyed||(s.setTransition(t,e),0!==t&&(s.transitionStart(),s.params.autoHeight&&M(()=>{s.updateAutoHeight()}),q(s.wrapperEl,()=>{a&&s.transitionEnd()})))}if(Array.isArray(a))for(r=0;r<a.length;r+=1)a[r]!==s&&a[r]instanceof n&&i(a[r]);else a instanceof n&&s!==a&&i(a)}})},function({swiper:e,extendParams:t,on:s}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,containerRole:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null,scrollOnFocus:!0,wrapperLiveRegion:!0}}),e.a11y={clicked:!1};let n,a,r=null,i=(new Date).getTime();function o(e){const t=r;0!==t.length&&X(t,e)}function l(e){(e=W(e)).forEach(e=>{e.setAttribute("tabIndex","0")})}function c(e){(e=W(e)).forEach(e=>{e.setAttribute("tabIndex","-1")})}function d(e,t){(e=W(e)).forEach(e=>{e.setAttribute("role",t)})}function u(e,t){(e=W(e)).forEach(e=>{e.setAttribute("aria-roledescription",t)})}function p(e,t){(e=W(e)).forEach(e=>{e.setAttribute("aria-label",t)})}function h(e){(e=W(e)).forEach(e=>{e.setAttribute("aria-disabled",!0)})}function f(e){(e=W(e)).forEach(e=>{e.setAttribute("aria-disabled",!1)})}function m(t){if(13!==t.keyCode&&32!==t.keyCode)return;const s=e.params.a11y,n=t.target;if(!e.pagination||!e.pagination.el||n!==e.pagination.el&&!e.pagination.el.contains(t.target)||t.target.matches(Pe(e.params.pagination.bulletClass))){if(e.navigation&&e.navigation.prevEl&&e.navigation.nextEl){const t=W(e.navigation.prevEl);W(e.navigation.nextEl).includes(n)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?o(s.lastSlideMessage):o(s.nextSlideMessage)),t.includes(n)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?o(s.firstSlideMessage):o(s.prevSlideMessage))}e.pagination&&n.matches(Pe(e.params.pagination.bulletClass))&&n.click()}}function g(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function v(){return g()&&e.params.pagination.clickable}const b=(e,t,s)=>{l(e),"BUTTON"!==e.tagName&&(d(e,"button"),e.addEventListener("keydown",m)),p(e,s),function(e,t){(e=W(e)).forEach(e=>{e.setAttribute("aria-controls",t)})}(e,t)},w=t=>{a&&a!==t.target&&!a.contains(t.target)&&(n=!0),e.a11y.clicked=!0},y=()=>{n=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e.destroyed||(e.a11y.clicked=!1)})})},x=e=>{i=(new Date).getTime()},_=t=>{if(e.a11y.clicked||!e.params.a11y.scrollOnFocus)return;if((new Date).getTime()-i<100)return;const s=t.target.closest(`.${e.params.slideClass}, swiper-slide`);if(!s||!e.slides.includes(s))return;a=s;const r=e.slides.indexOf(s)===e.activeIndex,o=e.params.watchSlidesProgress&&e.visibleSlides&&e.visibleSlides.includes(s);r||o||t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents||(e.isHorizontal()?e.el.scrollLeft=0:e.el.scrollTop=0,requestAnimationFrame(()=>{n||(e.params.loop?e.slideToLoop(e.getSlideIndexWhenGrid(parseInt(s.getAttribute("data-swiper-slide-index"))),0):e.slideTo(e.getSlideIndexWhenGrid(e.slides.indexOf(s)),0),n=!1)}))},k=()=>{const t=e.params.a11y;t.itemRoleDescriptionMessage&&u(e.slides,t.itemRoleDescriptionMessage),t.slideRole&&d(e.slides,t.slideRole);const s=e.slides.length;t.slideLabelMessage&&e.slides.forEach((n,a)=>{const r=e.params.loop?parseInt(n.getAttribute("data-swiper-slide-index"),10):a;p(n,t.slideLabelMessage.replace(/\{\{index\}\}/,r+1).replace(/\{\{slidesLength\}\}/,s))})};s("beforeInit",()=>{r=R("span",e.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),s("afterInit",()=>{e.params.a11y.enabled&&(()=>{const t=e.params.a11y;e.el.append(r);const s=e.el;t.containerRoleDescriptionMessage&&u(s,t.containerRoleDescriptionMessage),t.containerMessage&&p(s,t.containerMessage),t.containerRole&&d(s,t.containerRole);const n=e.wrapperEl,a=t.id||n.getAttribute("id")||`swiper-wrapper-${function(e=16){return"x".repeat(e).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)}`;var i,o,l;i=a,W(n).forEach(e=>{e.setAttribute("id",i)}),t.wrapperLiveRegion&&(o=n,l=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite",(o=W(o)).forEach(e=>{e.setAttribute("aria-live",l)})),k();let{nextEl:c,prevEl:h}=e.navigation?e.navigation:{};c=W(c),h=W(h),c&&c.forEach(e=>b(e,a,t.nextSlideMessage)),h&&h.forEach(e=>b(e,a,t.prevSlideMessage)),v()&&W(e.pagination.el).forEach(e=>{e.addEventListener("keydown",m)}),C().addEventListener("visibilitychange",x),e.el.addEventListener("focus",_,!0),e.el.addEventListener("focus",_,!0),e.el.addEventListener("pointerdown",w,!0),e.el.addEventListener("pointerup",y,!0)})()}),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{e.params.a11y.enabled&&k()}),s("fromEdge toEdge afterInit lock unlock",()=>{e.params.a11y.enabled&&function(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{nextEl:t,prevEl:s}=e.navigation;s&&(e.isBeginning?(h(s),c(s)):(f(s),l(s))),t&&(e.isEnd?(h(t),c(t)):(f(t),l(t)))}()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&function(){const t=e.params.a11y;g()&&e.pagination.bullets.forEach(s=>{e.params.pagination.clickable&&(l(s),e.params.pagination.renderBullet||(d(s,"button"),p(s,t.paginationBulletMessage.replace(/\{\{index\}\}/,V(s)+1)))),s.matches(Pe(e.params.pagination.bulletActiveClass))?s.setAttribute("aria-current","true"):s.removeAttribute("aria-current")})}()}),s("destroy",()=>{e.params.a11y.enabled&&function(){r&&r.remove();let{nextEl:t,prevEl:s}=e.navigation?e.navigation:{};t=W(t),s=W(s),t&&t.forEach(e=>e.removeEventListener("keydown",m)),s&&s.forEach(e=>e.removeEventListener("keydown",m)),v()&&W(e.pagination.el).forEach(e=>{e.removeEventListener("keydown",m)}),C().removeEventListener("visibilitychange",x),e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("focus",_,!0),e.el.removeEventListener("pointerdown",w,!0),e.el.removeEventListener("pointerup",y,!0))}()})},function({swiper:e,extendParams:t,on:s}){t({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let n=!1,a={};const r=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),i=e=>{const t=T();let s;s=e?new URL(e):t.location;const n=s.pathname.slice(1).split("/").filter(e=>""!==e),a=n.length;return{key:n[a-2],value:n[a-1]}},o=(t,s)=>{const a=T();if(!n||!e.params.history.enabled)return;let i;i=e.params.url?new URL(e.params.url):a.location;const o=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${s}"]`):e.slides[s];let l=r(o.getAttribute("data-history"));if(e.params.history.root.length>0){let s=e.params.history.root;"/"===s[s.length-1]&&(s=s.slice(0,s.length-1)),l=`${s}/${t?`${t}/`:""}${l}`}else i.pathname.includes(t)||(l=`${t?`${t}/`:""}${l}`);e.params.history.keepQuery&&(l+=i.search);const c=a.history.state;c&&c.value===l||(e.params.history.replaceState?a.history.replaceState({value:l},null,l):a.history.pushState({value:l},null,l))},l=(t,s,n)=>{if(s)for(let a=0,i=e.slides.length;a<i;a+=1){const i=e.slides[a];if(r(i.getAttribute("data-history"))===s){const s=e.getSlideIndex(i);e.slideTo(s,t,n)}}else e.slideTo(0,t,n)},c=()=>{a=i(e.params.url),l(e.params.speed,a.value,!1)};s("init",()=>{e.params.history.enabled&&(()=>{const t=T();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);n=!0,a=i(e.params.url),a.key||a.value?(l(0,a.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",c)):e.params.history.replaceState||t.addEventListener("popstate",c)}})()}),s("destroy",()=>{e.params.history.enabled&&(()=>{const t=T();e.params.history.replaceState||t.removeEventListener("popstate",c)})()}),s("transitionEnd _freeModeNoMomentumRelease",()=>{n&&o(e.params.history.key,e.activeIndex)}),s("slideChange",()=>{n&&e.params.cssMode&&o(e.params.history.key,e.activeIndex)})},function({swiper:e,extendParams:t,emit:s,on:n}){let a=!1;const r=C(),i=T();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(t,s){if(e.virtual&&e.params.virtual.enabled){const t=e.slides.find(e=>e.getAttribute("data-hash")===s);return t?parseInt(t.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex($(e.slidesEl,`.${e.params.slideClass}[data-hash="${s}"], swiper-slide[data-hash="${s}"]`)[0])}}});const o=()=>{s("hashChange");const t=r.location.hash.replace("#",""),n=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex];if(t!==(n?n.getAttribute("data-hash"):"")){const s=e.params.hashNavigation.getSlideIndex(e,t);if(void 0===s||Number.isNaN(s))return;e.slideTo(s)}},l=()=>{if(!a||!e.params.hashNavigation.enabled)return;const t=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],n=t?t.getAttribute("data-hash")||t.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&i.history&&i.history.replaceState?(i.history.replaceState(null,null,`#${n}`||""),s("hashSet")):(r.location.hash=n||"",s("hashSet"))};n("init",()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;a=!0;const t=r.location.hash.replace("#","");if(t){const s=0,n=e.params.hashNavigation.getSlideIndex(e,t);e.slideTo(n||0,s,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&i.addEventListener("hashchange",o)})()}),n("destroy",()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&i.removeEventListener("hashchange",o)}),n("transitionEnd _freeModeNoMomentumRelease",()=>{a&&l()}),n("slideChange",()=>{a&&e.params.cssMode&&l()})},function({swiper:e,extendParams:t,on:s,emit:n,params:a}){let r,i;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,l,c,d,u,p,h,f,m=a&&a.autoplay?a.autoplay.delay:3e3,g=a&&a.autoplay?a.autoplay.delay:3e3,v=(new Date).getTime();function b(t){e&&!e.destroyed&&e.wrapperEl&&t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",b),f||t.detail&&t.detail.bySwiperTouchMove||S())}const w=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?l=!0:l&&(g=o,l=!1);const t=e.autoplay.paused?o:v+g-(new Date).getTime();e.autoplay.timeLeft=t,n("autoplayTimeLeft",t,t/m),i=requestAnimationFrame(()=>{w()})},y=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(i),w();let s=void 0===t?e.params.autoplay.delay:t;m=e.params.autoplay.delay,g=e.params.autoplay.delay;const a=(()=>{let t;if(t=e.virtual&&e.params.virtual.enabled?e.slides.find(e=>e.classList.contains("swiper-slide-active")):e.slides[e.activeIndex],t)return parseInt(t.getAttribute("data-swiper-autoplay"),10)})();!Number.isNaN(a)&&a>0&&void 0===t&&(s=a,m=a,g=a),o=s;const l=e.params.speed,c=()=>{e&&!e.destroyed&&(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(l,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,l,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(l,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,l,!0,!0),n("autoplay")),e.params.cssMode&&(v=(new Date).getTime(),requestAnimationFrame(()=>{y()})))};return s>0?(clearTimeout(r),r=setTimeout(()=>{c()},s)):requestAnimationFrame(()=>{c()}),s},x=()=>{v=(new Date).getTime(),e.autoplay.running=!0,y(),n("autoplayStart")},_=()=>{e.autoplay.running=!1,clearTimeout(r),cancelAnimationFrame(i),n("autoplayStop")},k=(t,s)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(r),t||(h=!0);const a=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",b):S()};if(e.autoplay.paused=!0,s)return p&&(o=e.params.autoplay.delay),p=!1,void a();const i=o||e.params.autoplay.delay;o=i-((new Date).getTime()-v),e.isEnd&&o<0&&!e.params.loop||(o<0&&(o=0),a())},S=()=>{e.isEnd&&o<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(v=(new Date).getTime(),h?(h=!1,y(o)):y(),e.autoplay.paused=!1,n("autoplayResume"))},E=()=>{if(e.destroyed||!e.autoplay.running)return;const t=C();"hidden"===t.visibilityState&&(h=!0,k(!0)),"visible"===t.visibilityState&&S()},T=t=>{"mouse"===t.pointerType&&(h=!0,f=!0,e.animating||e.autoplay.paused||k(!0))},j=t=>{"mouse"===t.pointerType&&(f=!1,e.autoplay.paused&&S())};s("init",()=>{e.params.autoplay.enabled&&(e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",T),e.el.addEventListener("pointerleave",j)),C().addEventListener("visibilitychange",E),x())}),s("destroy",()=>{e.el&&"string"!=typeof e.el&&(e.el.removeEventListener("pointerenter",T),e.el.removeEventListener("pointerleave",j)),C().removeEventListener("visibilitychange",E),e.autoplay.running&&_()}),s("_freeModeStaticRelease",()=>{(d||h)&&S()}),s("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?_():k(!0,!0)}),s("beforeTransitionStart",(t,s,n)=>{!e.destroyed&&e.autoplay.running&&(n||!e.params.autoplay.disableOnInteraction?k(!0,!0):_())}),s("sliderFirstMove",()=>{!e.destroyed&&e.autoplay.running&&(e.params.autoplay.disableOnInteraction?_():(c=!0,d=!1,h=!1,u=setTimeout(()=>{h=!0,d=!0,k(!0)},200)))}),s("touchEnd",()=>{if(!e.destroyed&&e.autoplay.running&&c){if(clearTimeout(u),clearTimeout(r),e.params.autoplay.disableOnInteraction)return d=!1,void(c=!1);d&&e.params.cssMode&&S(),d=!1,c=!1}}),s("slideChange",()=>{!e.destroyed&&e.autoplay.running&&(p=!0)}),Object.assign(e.autoplay,{start:x,stop:_,pause:k,resume:S})},function({swiper:e,extendParams:t,on:s}){t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let n=!1,a=!1;function r(){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const s=t.clickedIndex,n=t.clickedSlide;if(n&&n.classList.contains(e.params.thumbs.slideThumbActiveClass))return;if(null==s)return;let a;a=t.params.loop?parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10):s,e.params.loop?e.slideToLoop(a):e.slideTo(a)}function i(){const{thumbs:t}=e.params;if(n)return!1;n=!0;const s=e.constructor;if(t.swiper instanceof s){if(t.swiper.destroyed)return n=!1,!1;e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(L(t.swiper)){const n=Object.assign({},t.swiper);Object.assign(n,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(n),a=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",r),!0}function o(t){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const n="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():s.params.slidesPerView;let a=1;const r=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(a=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(a=1),a=Math.floor(a),s.slides.forEach(e=>e.classList.remove(r)),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let t=0;t<a;t+=1)$(s.slidesEl,`[data-swiper-slide-index="${e.realIndex+t}"]`).forEach(e=>{e.classList.add(r)});else for(let t=0;t<a;t+=1)s.slides[e.realIndex+t]&&s.slides[e.realIndex+t].classList.add(r);const i=e.params.thumbs.autoScrollOffset,o=i&&!s.params.loop;if(e.realIndex!==s.realIndex||o){const a=s.activeIndex;let r,l;if(s.params.loop){const t=s.slides.find(t=>t.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);r=s.slides.indexOf(t),l=e.activeIndex>e.previousIndex?"next":"prev"}else r=e.realIndex,l=r>e.previousIndex?"next":"prev";o&&(r+="next"===l?i:-1*i),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(r)<0&&(s.params.centeredSlides?r=r>a?r-Math.floor(n/2)+1:r+Math.floor(n/2)-1:r>a&&s.params.slidesPerGroup,s.slideTo(r,t?0:void 0))}}e.thumbs={swiper:null},s("beforeInit",()=>{const{thumbs:t}=e.params;if(t&&t.swiper)if("string"==typeof t.swiper||t.swiper instanceof HTMLElement){const s=C(),n=()=>{const n="string"==typeof t.swiper?s.querySelector(t.swiper):t.swiper;if(n&&n.swiper)t.swiper=n.swiper,i(),o(!0);else if(n){const s=`${e.params.eventsPrefix}init`,a=r=>{t.swiper=r.detail[0],n.removeEventListener(s,a),i(),o(!0),t.swiper.update(),e.update()};n.addEventListener(s,a)}return n},a=()=>{e.destroyed||n()||requestAnimationFrame(a)};requestAnimationFrame(a)}else i(),o(!0)}),s("slideChange update resize observerUpdate",()=>{o()}),s("setTransition",(t,s)=>{const n=e.thumbs.swiper;n&&!n.destroyed&&n.setTransition(s)}),s("beforeDestroy",()=>{const t=e.thumbs.swiper;t&&!t.destroyed&&a&&t.destroy()}),Object.assign(e.thumbs,{init:i,update:o})},function({swiper:e,extendParams:t,emit:s,once:n}){t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function(){if(e.params.cssMode)return;const t=e.getTranslate();e.setTranslate(t),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function(){if(e.params.cssMode)return;const{touchEventsData:t,touches:s}=e;0===t.velocities.length&&t.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:P()})},onTouchEnd:function({currentPos:t}){if(e.params.cssMode)return;const{params:a,wrapperEl:r,rtlTranslate:i,snapGrid:o,touchEventsData:l}=e,c=P()-l.touchStartTime;if(t<-e.minTranslate())e.slideTo(e.activeIndex);else if(t>-e.maxTranslate())e.slides.length<o.length?e.slideTo(o.length-1):e.slideTo(e.slides.length-1);else{if(a.freeMode.momentum){if(l.velocities.length>1){const t=l.velocities.pop(),s=l.velocities.pop(),n=t.position-s.position,r=t.time-s.time;e.velocity=n/r,e.velocity/=2,Math.abs(e.velocity)<a.freeMode.minimumVelocity&&(e.velocity=0),(r>150||P()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=a.freeMode.momentumVelocityRatio,l.velocities.length=0;let t=1e3*a.freeMode.momentumRatio;const c=e.velocity*t;let d=e.translate+c;i&&(d=-d);let u,p=!1;const h=20*Math.abs(e.velocity)*a.freeMode.momentumBounceRatio;let f;if(d<e.maxTranslate())a.freeMode.momentumBounce?(d+e.maxTranslate()<-h&&(d=e.maxTranslate()-h),u=e.maxTranslate(),p=!0,l.allowMomentumBounce=!0):d=e.maxTranslate(),a.loop&&a.centeredSlides&&(f=!0);else if(d>e.minTranslate())a.freeMode.momentumBounce?(d-e.minTranslate()>h&&(d=e.minTranslate()+h),u=e.minTranslate(),p=!0,l.allowMomentumBounce=!0):d=e.minTranslate(),a.loop&&a.centeredSlides&&(f=!0);else if(a.freeMode.sticky){let t;for(let e=0;e<o.length;e+=1)if(o[e]>-d){t=e;break}d=Math.abs(o[t]-d)<Math.abs(o[t-1]-d)||"next"===e.swipeDirection?o[t]:o[t-1],d=-d}if(f&&n("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(t=i?Math.abs((-d-e.translate)/e.velocity):Math.abs((d-e.translate)/e.velocity),a.freeMode.sticky){const s=Math.abs((i?-d:d)-e.translate),n=e.slidesSizesGrid[e.activeIndex];t=s<n?a.speed:s<2*n?1.5*a.speed:2.5*a.speed}}else if(a.freeMode.sticky)return void e.slideToClosest();a.freeMode.momentumBounce&&p?(e.updateProgress(u),e.setTransition(t),e.setTranslate(d),e.transitionStart(!0,e.swipeDirection),e.animating=!0,q(r,()=>{e&&!e.destroyed&&l.allowMomentumBounce&&(s("momentumBounce"),e.setTransition(a.speed),setTimeout(()=>{e.setTranslate(u),q(r,()=>{e&&!e.destroyed&&e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(d),e.setTransition(t),e.setTranslate(d),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,q(r,()=>{e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(d),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(a.freeMode.sticky)return void e.slideToClosest();a.freeMode&&s("_freeModeNoMomentumRelease")}(!a.freeMode.momentum||c>=a.longSwipesMs)&&(s("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function({swiper:e,extendParams:t,on:s}){let n,a,r,i;t({grid:{rows:1,fill:"column"}});const o=()=>{let t=e.params.spaceBetween;return"string"==typeof t&&t.indexOf("%")>=0?t=parseFloat(t.replace("%",""))/100*e.size:"string"==typeof t&&(t=parseFloat(t)),t};s("init",()=>{i=e.params.grid&&e.params.grid.rows>1}),s("update",()=>{const{params:t,el:s}=e,n=t.grid&&t.grid.rows>1;i&&!n?(s.classList.remove(`${t.containerModifierClass}grid`,`${t.containerModifierClass}grid-column`),r=1,e.emitContainerClasses()):!i&&n&&(s.classList.add(`${t.containerModifierClass}grid`),"column"===t.grid.fill&&s.classList.add(`${t.containerModifierClass}grid-column`),e.emitContainerClasses()),i=n}),e.grid={initSlides:t=>{const{slidesPerView:s}=e.params,{rows:i,fill:o}=e.params.grid,l=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:t.length;r=Math.floor(l/i),n=Math.floor(l/i)===l/i?l:Math.ceil(l/i)*i,"auto"!==s&&"row"===o&&(n=Math.max(n,s*i)),a=n/i},unsetSlides:()=>{e.slides&&e.slides.forEach(t=>{t.swiperSlideGridSet&&(t.style.height="",t.style[e.getDirectionLabel("margin-top")]="")})},updateSlide:(t,s,i)=>{const{slidesPerGroup:l}=e.params,c=o(),{rows:d,fill:u}=e.params.grid,p=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:i.length;let h,f,m;if("row"===u&&l>1){const e=Math.floor(t/(l*d)),a=t-d*l*e,r=0===e?l:Math.min(Math.ceil((p-e*d*l)/d),l);m=Math.floor(a/r),f=a-m*r+e*l,h=f+m*n/d,s.style.order=h}else"column"===u?(f=Math.floor(t/d),m=t-f*d,(f>r||f===r&&m===d-1)&&(m+=1,m>=d&&(m=0,f+=1))):(m=Math.floor(t/a),f=t-m*a);s.row=m,s.column=f,s.style.height=`calc((100% - ${(d-1)*c}px) / ${d})`,s.style[e.getDirectionLabel("margin-top")]=0!==m?c&&`${c}px`:"",s.swiperSlideGridSet=!0},updateWrapperSize:(t,s)=>{const{centeredSlides:a,roundLengths:r}=e.params,i=o(),{rows:l}=e.params.grid;if(e.virtualSize=(t+i)*n,e.virtualSize=Math.ceil(e.virtualSize/l)-i,e.params.cssMode||(e.wrapperEl.style[e.getDirectionLabel("width")]=`${e.virtualSize+i}px`),a){const t=[];for(let n=0;n<s.length;n+=1){let a=s[n];r&&(a=Math.floor(a)),s[n]<e.virtualSize+s[0]&&t.push(a)}s.splice(0,s.length),s.push(...t)}}}},function({swiper:e}){Object.assign(e,{appendSlide:Ae.bind(e),prependSlide:Le.bind(e),addSlide:Ie.bind(e),removeSlide:Oe.bind(e),removeAllSlides:Ne.bind(e)})},function({swiper:e,extendParams:t,on:s}){t({fadeEffect:{crossFade:!1}}),ze({effect:"fade",swiper:e,on:s,setTranslate:()=>{const{slides:t}=e;e.params.fadeEffect;for(let s=0;s<t.length;s+=1){const t=e.slides[s];let n=-t.swiperSlideOffset;e.params.virtualTranslate||(n-=e.translate);let a=0;e.isHorizontal()||(a=n,n=0);const r=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t.progress),0):1+Math.min(Math.max(t.progress,-1),0),i=De(0,t);i.style.opacity=r,i.style.transform=`translate3d(${n}px, ${a}px, 0px)`}},setTransition:t=>{const s=e.slides.map(e=>D(e));s.forEach(e=>{e.style.transitionDuration=`${t}ms`}),$e({swiper:e,duration:t,transformElements:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const n=(e,t,s)=>{let n=s?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),a=s?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");n||(n=R("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(s?"left":"top")).split(" ")),e.append(n)),a||(a=R("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(s?"right":"bottom")).split(" ")),e.append(a)),n&&(n.style.opacity=Math.max(-t,0)),a&&(a.style.opacity=Math.max(t,0))};ze({effect:"cube",swiper:e,on:s,setTranslate:()=>{const{el:t,wrapperEl:s,slides:a,width:r,height:i,rtlTranslate:o,size:l,browser:c}=e,d=Y(e),u=e.params.cubeEffect,p=e.isHorizontal(),h=e.virtual&&e.params.virtual.enabled;let f,m=0;u.shadow&&(p?(f=e.wrapperEl.querySelector(".swiper-cube-shadow"),f||(f=R("div","swiper-cube-shadow"),e.wrapperEl.append(f)),f.style.height=`${r}px`):(f=t.querySelector(".swiper-cube-shadow"),f||(f=R("div","swiper-cube-shadow"),t.append(f))));for(let e=0;e<a.length;e+=1){const t=a[e];let s=e;h&&(s=parseInt(t.getAttribute("data-swiper-slide-index"),10));let r=90*s,i=Math.floor(r/360);o&&(r=-r,i=Math.floor(-r/360));const c=Math.max(Math.min(t.progress,1),-1);let f=0,g=0,v=0;s%4==0?(f=4*-i*l,v=0):(s-1)%4==0?(f=0,v=4*-i*l):(s-2)%4==0?(f=l+4*i*l,v=l):(s-3)%4==0&&(f=-l,v=3*l+4*l*i),o&&(f=-f),p||(g=f,f=0);const b=`rotateX(${d(p?0:-r)}deg) rotateY(${d(p?r:0)}deg) translate3d(${f}px, ${g}px, ${v}px)`;c<=1&&c>-1&&(m=90*s+90*c,o&&(m=90*-s-90*c)),t.style.transform=b,u.slideShadows&&n(t,c,p)}if(s.style.transformOrigin=`50% 50% -${l/2}px`,s.style["-webkit-transform-origin"]=`50% 50% -${l/2}px`,u.shadow)if(p)f.style.transform=`translate3d(0px, ${r/2+u.shadowOffset}px, ${-r/2}px) rotateX(89.99deg) rotateZ(0deg) scale(${u.shadowScale})`;else{const e=Math.abs(m)-90*Math.floor(Math.abs(m)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),s=u.shadowScale,n=u.shadowScale/t,a=u.shadowOffset;f.style.transform=`scale3d(${s}, 1, ${n}) translate3d(0px, ${i/2+a}px, ${-i/2/n}px) rotateX(-89.99deg)`}const g=(c.isSafari||c.isWebView)&&c.needPerspectiveFix?-l/2:0;s.style.transform=`translate3d(0px,0,${g}px) rotateX(${d(e.isHorizontal()?0:m)}deg) rotateY(${d(e.isHorizontal()?-m:0)}deg)`,s.style.setProperty("--swiper-cube-translate-z",`${g}px`)},setTransition:t=>{const{el:s,slides:n}=e;if(n.forEach(e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>{e.style.transitionDuration=`${t}ms`})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const e=s.querySelector(".swiper-cube-shadow");e&&(e.style.transitionDuration=`${t}ms`)}},recreateShadows:()=>{const t=e.isHorizontal();e.slides.forEach(e=>{const s=Math.max(Math.min(e.progress,1),-1);n(e,s,t)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function({swiper:e,extendParams:t,on:s}){t({flipEffect:{slideShadows:!0,limitRotation:!0}});const n=(t,s)=>{let n=e.isHorizontal()?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),a=e.isHorizontal()?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");n||(n=Be("flip",t,e.isHorizontal()?"left":"top")),a||(a=Be("flip",t,e.isHorizontal()?"right":"bottom")),n&&(n.style.opacity=Math.max(-s,0)),a&&(a.style.opacity=Math.max(s,0))};ze({effect:"flip",swiper:e,on:s,setTranslate:()=>{const{slides:t,rtlTranslate:s}=e,a=e.params.flipEffect,r=Y(e);for(let i=0;i<t.length;i+=1){const o=t[i];let l=o.progress;e.params.flipEffect.limitRotation&&(l=Math.max(Math.min(o.progress,1),-1));const c=o.swiperSlideOffset;let d=-180*l,u=0,p=e.params.cssMode?-c-e.translate:-c,h=0;e.isHorizontal()?s&&(d=-d):(h=p,p=0,u=-d,d=0),o.style.zIndex=-Math.abs(Math.round(l))+t.length,a.slideShadows&&n(o,l);const f=`translate3d(${p}px, ${h}px, 0px) rotateX(${r(u)}deg) rotateY(${r(d)}deg)`;De(0,o).style.transform=f}},setTransition:t=>{const s=e.slides.map(e=>D(e));s.forEach(e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>{e.style.transitionDuration=`${t}ms`})}),$e({swiper:e,duration:t,transformElements:s})},recreateShadows:()=>{e.params.flipEffect,e.slides.forEach(t=>{let s=t.progress;e.params.flipEffect.limitRotation&&(s=Math.max(Math.min(t.progress,1),-1)),n(t,s)})},getEffectParams:()=>e.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),ze({effect:"coverflow",swiper:e,on:s,setTranslate:()=>{const{width:t,height:s,slides:n,slidesSizesGrid:a}=e,r=e.params.coverflowEffect,i=e.isHorizontal(),o=e.translate,l=i?t/2-o:s/2-o,c=i?r.rotate:-r.rotate,d=r.depth,u=Y(e);for(let e=0,t=n.length;e<t;e+=1){const t=n[e],s=a[e],o=(l-t.swiperSlideOffset-s/2)/s,p="function"==typeof r.modifier?r.modifier(o):o*r.modifier;let h=i?c*p:0,f=i?0:c*p,m=-d*Math.abs(p),g=r.stretch;"string"==typeof g&&-1!==g.indexOf("%")&&(g=parseFloat(r.stretch)/100*s);let v=i?0:g*p,b=i?g*p:0,w=1-(1-r.scale)*Math.abs(p);Math.abs(b)<.001&&(b=0),Math.abs(v)<.001&&(v=0),Math.abs(m)<.001&&(m=0),Math.abs(h)<.001&&(h=0),Math.abs(f)<.001&&(f=0),Math.abs(w)<.001&&(w=0);const y=`translate3d(${b}px,${v}px,${m}px)  rotateX(${u(f)}deg) rotateY(${u(h)}deg) scale(${w})`;if(De(0,t).style.transform=y,t.style.zIndex=1-Math.abs(Math.round(p)),r.slideShadows){let e=i?t.querySelector(".swiper-slide-shadow-left"):t.querySelector(".swiper-slide-shadow-top"),s=i?t.querySelector(".swiper-slide-shadow-right"):t.querySelector(".swiper-slide-shadow-bottom");e||(e=Be("coverflow",t,i?"left":"top")),s||(s=Be("coverflow",t,i?"right":"bottom")),e&&(e.style.opacity=p>0?p:0),s&&(s.style.opacity=-p>0?-p:0)}}},setTransition:t=>{e.slides.map(e=>D(e)).forEach(e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(e=>{e.style.transitionDuration=`${t}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function({swiper:e,extendParams:t,on:s}){t({creativeEffect:{limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const n=e=>"string"==typeof e?e:`${e}px`;ze({effect:"creative",swiper:e,on:s,setTranslate:()=>{const{slides:t,wrapperEl:s,slidesSizesGrid:a}=e,r=e.params.creativeEffect,{progressMultiplier:i}=r,o=e.params.centeredSlides,l=Y(e);if(o){const t=a[0]/2-e.params.slidesOffsetBefore||0;s.style.transform=`translateX(calc(50% - ${t}px))`}for(let s=0;s<t.length;s+=1){const a=t[s],c=a.progress,d=Math.min(Math.max(a.progress,-r.limitProgress),r.limitProgress);let u=d;o||(u=Math.min(Math.max(a.originalProgress,-r.limitProgress),r.limitProgress));const p=a.swiperSlideOffset,h=[e.params.cssMode?-p-e.translate:-p,0,0],f=[0,0,0];let m=!1;e.isHorizontal()||(h[1]=h[0],h[0]=0);let g={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};d<0?(g=r.next,m=!0):d>0&&(g=r.prev,m=!0),h.forEach((e,t)=>{h[t]=`calc(${e}px + (${n(g.translate[t])} * ${Math.abs(d*i)}))`}),f.forEach((e,t)=>{let s=g.rotate[t]*Math.abs(d*i);f[t]=s}),a.style.zIndex=-Math.abs(Math.round(c))+t.length;const v=h.join(", "),b=`rotateX(${l(f[0])}deg) rotateY(${l(f[1])}deg) rotateZ(${l(f[2])}deg)`,w=u<0?`scale(${1+(1-g.scale)*u*i})`:`scale(${1-(1-g.scale)*u*i})`,y=u<0?1+(1-g.opacity)*u*i:1-(1-g.opacity)*u*i,x=`translate3d(${v}) ${b} ${w}`;if(m&&g.shadow||!m){let e=a.querySelector(".swiper-slide-shadow");if(!e&&g.shadow&&(e=Be("creative",a)),e){const t=r.shadowPerProgress?d*(1/r.limitProgress):d;e.style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const _=De(0,a);_.style.transform=x,_.style.opacity=y,g.origin&&(_.style.transformOrigin=g.origin)}},setTransition:t=>{const s=e.slides.map(e=>D(e));s.forEach(e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow").forEach(e=>{e.style.transitionDuration=`${t}ms`})}),$e({swiper:e,duration:t,transformElements:s,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),ze({effect:"cards",swiper:e,on:s,setTranslate:()=>{const{slides:t,activeIndex:s,rtlTranslate:n}=e,a=e.params.cardsEffect,{startTranslate:r,isTouched:i}=e.touchEventsData,o=n?-e.translate:e.translate;for(let l=0;l<t.length;l+=1){const c=t[l],d=c.progress,u=Math.min(Math.max(d,-4),4);let p=c.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(p-=t[0].swiperSlideOffset);let h=e.params.cssMode?-p-e.translate:-p,f=0;const m=-100*Math.abs(u);let g=1,v=-a.perSlideRotate*u,b=a.perSlideOffset-.75*Math.abs(u);const w=e.virtual&&e.params.virtual.enabled?e.virtual.from+l:l,y=(w===s||w===s-1)&&u>0&&u<1&&(i||e.params.cssMode)&&o<r,x=(w===s||w===s+1)&&u<0&&u>-1&&(i||e.params.cssMode)&&o>r;if(y||x){const t=(1-Math.abs((Math.abs(u)-.5)/.5))**.5;v+=-28*u*t,g+=-.5*t,b+=96*t,f=(a.rotate||e.isHorizontal()?-25:0)*t*Math.abs(u)+"%"}if(h=u<0?`calc(${h}px ${n?"-":"+"} (${b*Math.abs(u)}%))`:u>0?`calc(${h}px ${n?"-":"+"} (-${b*Math.abs(u)}%))`:`${h}px`,!e.isHorizontal()){const e=f;f=h,h=e}const _=u<0?""+(1+(1-g)*u):""+(1-(1-g)*u),k=`\n        translate3d(${h}, ${f}, ${m}px)\n        rotateZ(${a.rotate?n?-v:v:0}deg)\n        scale(${_})\n      `;if(a.slideShadows){let e=c.querySelector(".swiper-slide-shadow");e||(e=Be("cards",c)),e&&(e.style.opacity=Math.min(Math.max((Math.abs(u)-.5)/.5,0),1))}c.style.zIndex=-Math.abs(Math.round(d))+t.length,De(0,c).style.transform=k}},setTransition:t=>{const s=e.slides.map(e=>D(e));s.forEach(e=>{e.style.transitionDuration=`${t}ms`,e.querySelectorAll(".swiper-slide-shadow").forEach(e=>{e.style.transitionDuration=`${t}ms`})}),$e({swiper:e,duration:t,transformElements:s})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}];Te.use(Re);const Fe="wp-block-newspack-blocks-carousel__autoplay-playing";function He(e,t){Array.prototype.forEach.call(e,t)}function Ve(e){e&&(e.setAttribute("aria-hidden","false"),He(e.querySelectorAll("a"),e=>e.removeAttribute("tabindex")))}function Ge(e){e&&(e.setAttribute("aria-hidden","true"),He(e.querySelectorAll("a"),e=>e.setAttribute("tabindex","-1")))}var qe=s(6175),Ue=s(2859);class We extends h.Component{constructor(e){super(e),this.btnPlayRef=(0,h.createRef)(),this.btnPauseRef=(0,h.createRef)(),this.btnNextRef=(0,h.createRef)(),this.btnPrevRef=(0,h.createRef)(),this.carouselRef=(0,h.createRef)(),this.paginationRef=(0,h.createRef)(),this.state={swiperInitialized:!1}}componentDidMount(){this.initializeSwiper(0),this.props.triggerReflow()}componentDidUpdate(e){if(!(0<this.carouselRef.current.offsetWidth&&0<this.carouselRef.current.offsetHeight))return!1;if(!this.state.swiperInitialized)return this.initializeSwiper(0);(0,Ue.pV)(e,this.props)&&this.props.triggerReflow();const{attributes:t,latestPosts:s}=this.props;if(!(0,l.isEqual)(e.latestPosts,s)||!(0,l.isEqual)(e.attributes,t)){let e=0;this.swiperInstance&&(s&&this.swiperInstance.realIndex<s.length&&(e=this.swiperInstance.realIndex),this.setState({swiperInitialized:!1}),this.swiperInstance.destroy(!0,!0)),this.initializeSwiper(e)}}componentWillUnmount(){this.props.triggerReflow()}initializeSwiper(e){const{latestPosts:t}=this.props;if(t){const{aspectRatio:s,autoplay:n,delay:a,slidesPerView:r}=this.props.attributes,i=function(e,t={}){if(!(0<e.container.offsetWidth&&0<e.container.offsetHeight))return!1;const s=new Te(e.container,{a11y:!1,autoplay:!!t.autoplay&&{delay:t.delay,disableOnInteraction:!1},effect:"slide",grabCursor:!0,init:!1,initialSlide:t.initialSlide||0,loop:!0,navigation:{nextEl:e.next,prevEl:e.prev},pagination:{bulletElement:"button",clickable:!0,el:e.pagination,type:"bullets",renderBullet:(e,t)=>`<button class="${t}"><span>${(0,o.sprintf)(/* translators: %s: indicates which slide the slider is on. */ /* translators: %s: indicates which slide the slider is on. */
(0,o.__)("Slide %s","newspack-blocks"),e+1)}</span></button>`},watchSlidesProgress:t.slidesPerView>1,preventClicksPropagation:!1,releaseFormElements:!1,setWrapperSize:!0,slidesPerView:t.slidesPerView,spaceBetween:16,touchStartPreventDefault:!1,breakpoints:{320:{slidesPerView:1},782:{slidesPerView:t.slidesPerView>1?2:1},1168:{slidesPerView:t.slidesPerView}},on:{init(){He(this.wrapperEl.querySelectorAll(".swiper-slide"),e=>Ge(e)),n.call(this),Ve(this.slides[this.activeIndex])},slideChange(){if(this.slides.length<1)return;const e=this.slides[this.activeIndex];if(Ge(this.slides[this.previousIndex]),Ve(e),!this.autoplay?.running){const t=e.querySelector("img"),s=!!t&&t?.alt,n=(0,o.sprintf)(/* translators: %1$s: current slide number, %2$s: total number of slides */ /* translators: %1$s: current slide number, %2$s: total number of slides */
(0,o.__)("Slide %1$s of %2$s","newspack-blocks"),this.realIndex+1,this.pagination?.bullets?.length||0);(0,y.speak)((0,x.escapeHTML)(`${e.innerText},\n\t\t\t\t\t\t\t${s?/* translators: %s: the title of the image. */ /* translators: %s: the title of the image. */(0,o.sprintf)((0,o.__)("Image: %s,","newspack-blocks"),s):""}\n\t\t\t\t\t\t\t${n}`),"assertive")}}}});function n(){const{aspectRatio:e}=t;Array.from(this.slides).forEach(t=>{t.style.height=t.clientWidth*e+"px"})}if(s.on("imagesReady",n),s.on("resize",n),t.autoplay){function a(){s.autoplay.stop(),e.play.focus()}function r(){s.autoplay.start(),e.pause.focus()}s.on("init",function(){e.play.addEventListener("click",r),e.pause.addEventListener("click",a)}),s.on("autoplayStart",function(){e.block.classList.add(Fe),(0,y.speak)((0,o.__)("Playing","newspack-blocks"),"assertive")}),s.on("autoplayStop",function(){e.block.classList.remove(Fe),(0,y.speak)((0,o.__)("Paused","newspack-blocks"),"assertive")}),s.on("beforeDestroy",function(){e.play.removeEventListener("click",r),e.pause.removeEventListener("click",a)})}return s.init(),s}({block:this.carouselRef.current,container:this.carouselRef.current,next:this.btnNextRef.current,prev:this.btnPrevRef.current,play:this.btnPlayRef.current,pause:this.btnPauseRef.current,pagination:this.paginationRef.current},{aspectRatio:s,autoplay:n,delay:1e3*a,initialSlide:e,slidesPerView:r<=t.length?r:t.length});i&&(this.swiperInstance=i,this.setState({swiperInitialized:!0}))}}render(){const{attributes:e,className:t,setAttributes:s,latestPosts:n,isUIDisabled:a}=this.props,{aspectRatio:i,authors:l,autoplay:c,categories:m,includeSubcategories:g,categoryJoinType:y,customTaxonomies:x,delay:_,hideControls:k,imageFit:S,postsToShow:C,postType:E,showCategory:T,showDate:j,showAuthor:M,showAvatar:P,showCaption:A,showCredit:L,showTitle:I,slidesPerView:O,specificMode:N,specificPosts:z,tags:D}=e,$=d()(t,"wp-block-newspack-blocks-carousel","wpnbpc","slides-per-view-"+O,"swiper",{"wp-block-newspack-blocks-carousel__autoplay-playing":c,"newspack-block--disabled":a,"hide-controls":k}),B=(0,p.__experimentalGetSettings)().formats.date,R=n&&!n.length,F=n&&1===n.length,H=n?Math.min(C,n.length):C,V=[{value:1,label:/* translators: label for square aspect ratio option */ /* translators: label for square aspect ratio option */(0,o.__)("Square","newspack-blocks"),shortName:/* translators: abbreviation for 1:1 aspect ratio */ /* translators: abbreviation for 1:1 aspect ratio */(0,o.__)("1:1","newspack-blocks")},{value:.75,label:/* translators: label for 4:3 aspect ratio option */ /* translators: label for 4:3 aspect ratio option */(0,o.__)("4:3","newspack-blocks"),shortName:/* translators: abbreviation for 4:3 aspect ratio */ /* translators: abbreviation for 4:3 aspect ratio */(0,o.__)("4:3","newspack-blocks")},{value:.5625,label:/* translators: label for 16:9 aspect ratio option */ /* translators: label for 16:9 aspect ratio option */(0,o.__)("16:9","newspack-blocks"),shortName:/* translators: abbreviation for 16:9 aspect ratio */ /* translators: abbreviation for 16:9 aspect ratio */(0,o.__)("16:9","newspack-blocks")},{value:4/3,label:/* translators: label for 3:4 aspect ratio option */ /* translators: label for 3:4 aspect ratio option */(0,o.__)("3:4","newspack-blocks"),shortName:/* translators: abbreviation for 3:4 aspect ratio */ /* translators: abbreviation for 3:4 aspect ratio */(0,o.__)("3:4","newspack-blocks")},{value:16/9,label:/* translators: label for 9:16 aspect ratio option */ /* translators: label for 9:16 aspect ratio option */(0,o.__)("9:16","newspack-blocks"),shortName:/* translators: abbreviation for 9:16 aspect ratio */ /* translators: abbreviation for 9:16 aspect ratio */(0,o.__)("9:16","newspack-blocks")}];return(0,r.jsxs)(h.Fragment,{children:[(0,r.jsxs)("div",{className:$,ref:this.carouselRef,children:[R&&(0,r.jsx)(f.Placeholder,{className:"component-placeholder__align-center",children:(0,r.jsx)("div",{style:{margin:"auto"},children:(0,o.__)("Sorry, no posts were found.")})}),(!this.state.swiperInitialized||!n)&&(0,r.jsx)(f.Placeholder,{icon:(0,r.jsx)(f.Spinner,{}),className:"component-placeholder__align-center"}),n&&(0,r.jsxs)(h.Fragment,{children:[c&&(0,r.jsxs)(h.Fragment,{children:[(0,r.jsx)("button",{className:"swiper-button swiper-button-pause",ref:this.btnPauseRef}),(0,r.jsx)("button",{className:"swiper-button swiper-button-play",ref:this.btnPlayRef})]}),(0,r.jsx)("div",{className:"swiper-wrapper",children:n.map(e=>(0,r.jsxs)("article",{className:`post-has-image swiper-slide ${e.post_type} ${e.newspack_article_classes||""}`,children:[(0,qe.X8)(e),(0,r.jsx)("figure",{className:"post-thumbnail",children:(0,r.jsx)("a",{href:"#",rel:"bookmark",children:e.newspack_featured_image_src?(0,r.jsx)("img",{className:`image-fit-${S}`,src:e.newspack_featured_image_src.large,alt:""}):(0,r.jsx)("div",{className:"wp-block-newspack-blocks-carousel__placeholder"})})}),(e.newspack_post_sponsors||T||I||M||j||A||L)&&(0,r.jsxs)("div",{className:"entry-wrapper",children:[(e.newspack_post_sponsors||T&&0<e.newspack_category_info.length)&&(0,r.jsxs)("div",{className:"cat-links"+(e.newspack_post_sponsors?" sponsor-label":""),children:[e.newspack_post_sponsors&&(0,r.jsx)("span",{className:"flag",children:e.newspack_post_sponsors[0].flag}),T&&(!e.newspack_post_sponsors||e.newspack_sponsors_show_categories)&&(0,r.jsx)(h.RawHTML,{children:(0,v.decodeEntities)(e.newspack_category_info)})]}),I&&(0,r.jsx)("h3",{className:"entry-title",children:(0,r.jsx)("a",{href:"#",children:(0,v.decodeEntities)(e.title.rendered.trim())})}),(0,r.jsxs)("div",{className:"entry-meta",children:[e.newspack_post_sponsors&&(0,r.jsxs)("span",{className:"entry-sponsors "+(e.newspack_sponsors_show_author?"plus-author":""),children:[(0,qe.__)(e.newspack_post_sponsors),(0,qe.vQ)(e.newspack_post_sponsors)]}),M&&!e.newspack_listings_hide_author&&(!e.newspack_post_sponsors||e.newspack_sponsors_show_author)&&(0,r.jsx)(h.RawHTML,{className:"byline-container",children:(0,qe.pO)(e,P)}),j&&(0,r.jsx)("time",{className:"entry-date published",children:(0,p.dateI18n)(B,e.date)},"pub-date"),(A||L)&&e.newspack_featured_image_caption&&(0,r.jsx)("div",{className:"entry-caption",dangerouslySetInnerHTML:{__html:e.newspack_featured_image_caption}})]})]})]},e.id))}),!R&&!F&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{className:"swiper-button swiper-button-prev",ref:this.btnPrevRef}),(0,r.jsx)("button",{className:"swiper-button swiper-button-next",ref:this.btnNextRef}),(0,r.jsx)("div",{className:"swiper-pagination swiper-pagination-bullets",ref:this.paginationRef})]})]})]}),(0,r.jsxs)(u.InspectorControls,{children:[(0,r.jsx)(f.PanelBody,{title:(0,o.__)("Settings","newspack-blocks"),className:"newspack-block__panel is-content",children:C&&(0,r.jsx)(b.A,{numberOfItems:C,onNumberOfItemsChange:e=>s({postsToShow:e||1}),authors:l,onAuthorsChange:e=>s({authors:e}),categories:m,onCategoriesChange:e=>s({categories:e}),includeSubcategories:g,onIncludeSubcategoriesChange:e=>s({includeSubcategories:e}),categoryJoinType:y,onCategoryJoinTypeChange:e=>s({categoryJoinType:e}),tags:D,onTagsChange:e=>s({tags:e}),onCustomTaxonomiesChange:e=>s({customTaxonomies:e}),customTaxonomies:x,specificMode:N,onSpecificModeChange:()=>s({specificMode:!0}),onLoopModeChange:()=>s({specificMode:!1}),specificPosts:z,onSpecificPostsChange:e=>s({specificPosts:e}),postType:E})}),(0,r.jsxs)(f.PanelBody,{title:(0,o.__)("Display","newspack-blocks"),children:[(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Hide Controls","newspack-blocks"),help:(0,o.__)("Remove navigation indicators from view.","newspack-blocks"),checked:k,onChange:e=>{s({hideControls:e})}}),(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Autoplay","newspack-blocks"),help:(0,o.__)("Automatically advance through slides.","newspack-blocks"),checked:c,onChange:e=>{s({autoplay:e})}}),c&&(0,r.jsx)(f.RangeControl,{label:(0,o.__)("Transition delay","newspack-blocks"),value:_,onChange:e=>{s({delay:e})},min:1,max:20,help:(0,o.__)("Set the waiting time between automatic slide transitions in seconds.","newspack-blocks"),__next40pxDefaultSize:!0}),n&&1<n.length&&(0,r.jsx)(f.RangeControl,{label:(0,o.__)("Slides per view","newspack-blocks"),value:O<=n.length?O:n.length,onChange:e=>{s({slidesPerView:e})},min:1,max:N?Math.min(6,n.length):Math.min(6,H),help:(0,o.__)("Choose how many slides appear on screen simultaneously.","newspack-blocks"),__next40pxDefaultSize:!0})]}),(0,r.jsxs)(f.PanelBody,{title:(0,o.__)("Featured Image","newspack-blocks"),className:"newspack-block__panel",children:[(0,r.jsx)(f.__experimentalToggleGroupControl,{label:(0,o.__)("Aspect ratio","newspack-blocks"),help:(0,o.__)("All slides will share the same aspect ratio, for consistency.","newspack-blocks"),value:String(i),onChange:e=>s({aspectRatio:parseFloat(e)}),isBlock:!0,__next40pxDefaultSize:!0,children:V.map(e=>(0,r.jsx)(f.__experimentalToggleGroupControlOption,{label:e.shortName,value:String(e.value)},e.value))}),(0,r.jsxs)(f.__experimentalToggleGroupControl,{label:(0,o.__)("Fit","newspack-blocks"),help:"cover"===S?(0,o.__)("The image will fill the entire slide and will be cropped if necessary.","newspack-blocks"):(0,o.__)("The image will be resized to fit inside the slide without being cropped.","newspack-blocks"),value:S,onChange:e=>s({imageFit:e}),isBlock:!0,__next40pxDefaultSize:!0,children:[(0,r.jsx)(f.__experimentalToggleGroupControlOption,{label:(0,o.__)("Cover","newspack-blocks"),value:"cover"}),(0,r.jsx)(f.__experimentalToggleGroupControlOption,{label:(0,o.__)("Contain","newspack-blocks"),value:"contain"})]}),(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Show caption","newspack-blocks"),checked:A,onChange:()=>s({showCaption:!A})}),(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Show credit","newspack-blocks"),checked:L,onChange:()=>s({showCredit:!L})})]}),(0,r.jsxs)(f.PanelBody,{title:(0,o.__)("Post Meta","newspack-blocks"),children:[(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Show title","newspack-blocks"),checked:I,onChange:()=>s({showTitle:!I})}),(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Show date","newspack-blocks"),checked:j,onChange:()=>s({showDate:!j})}),(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Show category","newspack-blocks"),checked:T,onChange:()=>s({showCategory:!T})}),(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Show author","newspack-blocks"),checked:M,onChange:()=>s({showAuthor:!M})}),(0,r.jsx)(f.ToggleControl,{label:(0,o.__)("Show avatar","newspack-blocks"),checked:P,onChange:()=>s({showAvatar:!P}),disabled:!M})]}),(0,r.jsx)(w.O,{attributes:e,setAttributes:s}),(0,r.jsx)(w.X,{attributes:e,setAttributes:s})]})]})}}const Ye=(0,g.compose)([(0,m.withSelect)(Ue.cR),(0,m.withDispatch)(Ue.Fl)])(We),Xe=JSON.parse('{"UU":"carousel","L1":"newspack","uK":{"className":{"type":"string","default":""},"imageFit":{"type":"string","default":"cover"},"autoplay":{"type":"boolean","default":false},"delay":{"type":"number","default":5},"postsToShow":{"type":"integer","default":3},"authors":{"type":"array"},"categories":{"type":"array"},"includeSubcategories":{"type":"boolean","default":true},"categoryJoinType":{"type":"string","default":"or","enum":["or","all"]},"tags":{"type":"array"},"customTaxonomies":{"type":"array"},"showDate":{"type":"boolean","default":true},"showAuthor":{"type":"boolean","default":true},"showAvatar":{"type":"boolean","default":true},"showCaption":{"type":"boolean","default":false},"showCredit":{"type":"boolean","default":false},"showCategory":{"type":"boolean","default":false},"showTitle":{"type":"boolean","default":true},"postType":{"type":"array","default":["post"],"items":{"type":"string"}},"specificMode":{"type":"boolean","default":false},"specificPosts":{"type":"array","default":[],"items":{"type":"integer"}},"slidesPerView":{"type":"number","default":1},"hideControls":{"type":"boolean","default":false},"aspectRatio":{"type":"number","default":0.75},"includedPostStatuses":{"type":"array","default":["publish"],"items":{"type":"string"}}}}'),{UU:Ze,uK:Qe,L1:Ke}=Xe,Je={title:(0,o.__)("Content Carousel","newspack-blocks"),icon:{src:i,foreground:n.A["primary-400"]},attributes:Qe,category:Ke,keywords:[(0,o.__)("posts","newspack-blocks"),(0,o.__)("articles","newspack-blocks"),(0,o.__)("latest","newspack-blocks"),(0,o.__)("query","newspack-blocks")],description:(0,o.__)("An advanced block that displays content in a carousel format with customizable parameters and visual configurations.","newspack-blocks"),supports:{html:!1,align:["center","wide","full"]},edit:Ye,save:()=>null}},6449:e=>{var t=Array.isArray;e.exports=t},6545:(e,t,s)=>{var n=s(6110)(s(9325),"Set");e.exports=n},6547:(e,t,s)=>{var n=s(3360),a=s(5288),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,s){var i=e[t];r.call(e,t)&&a(i,s)&&(void 0!==s||t in e)||n(e,t,s)}},6574:(e,t,s)=>{var n=s(909);e.exports=function(e,t){var s=[];return n(e,function(e,n,a){t(e,n,a)&&s.push(e)}),s}},6588:(e,t,s)=>{"use strict";s.d(t,{C:()=>o,t:()=>l});var n=s(8468);const a="wpbnbd",r=`${a}--selected`,i=Array.from(document.querySelectorAll(`.${a}`)),o=(e,t)=>{const s=`donation_value_${t.donation_frequency}`;s&&(Array.from(e.classList).forEach(t=>{t.startsWith(r)&&e.classList.remove(t)}),e.classList.add(`${r}-${t[s]}`))},l=e=>{const t=new FormData(e),s={};return t.forEach((e,t)=>{(0,n.isString)(t)&&(0,n.isString)(e)&&(s[t]=e)}),s};i.forEach(e=>{const t=e.querySelector("form");t&&(o(e,l(t)),t.addEventListener("change",()=>o(e,l(t))))})},6649:(e,t,s)=>{var n=s(3221)();e.exports=n},6721:(e,t,s)=>{var n=s(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var s=t[e];return"__lodash_hash_undefined__"===s?void 0:s}return a.call(t,e)?t[e]:void 0}},6757:(e,t,s)=>{var n=s(1033),a=Math.max;e.exports=function(e,t,s){return t=a(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=a(r.length-t,0),l=Array(o);++i<o;)l[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=s(l),n(e,this,c)}}},6800:(e,t,s)=>{var n=s(5288),a=s(4894),r=s(361),i=s(3805);e.exports=function(e,t,s){if(!i(s))return!1;var o=typeof t;return!!("number"==o?a(s)&&r(t,s.length):"string"==o&&t in s)&&n(s[t],e)}},6924:(e,t,s)=>{var n=s(5250),a=s(999)(function(e,t,s,a){n(e,t,s,a)});e.exports=a},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6942:(e,t)=>{var s;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=i(e,r(s)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)n.call(e,s)&&e[s]&&(t=i(t,s));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(s=function(){return a}.apply(t,[]))||(e.exports=s)}()},6961:(e,t,s)=>{"use strict";s.d(t,{Lz:()=>g,wg:()=>y,IW:()=>C,$n:()=>at,Zp:()=>it,wi:()=>Jt,Q5:()=>Kt,xA:()=>cs,Pj:()=>ns,uC:()=>rs,H7:()=>ls,aF:()=>ds,qV:()=>ps,$T:()=>gs,I2:()=>bs,X3:()=>Cs,Yq:()=>As,pe:()=>zs,xt:()=>Ds,E$:()=>Bs,JL:()=>Wt});var n={};s.r(n),s.d(n,{BrowserRouter:()=>qe,HashRouter:()=>Ue,Link:()=>Ke,MemoryRouter:()=>se,NavLink:()=>tt,Prompt:()=>ae,Redirect:()=>ce,Route:()=>fe,Router:()=>te,StaticRouter:()=>ye,Switch:()=>xe,generatePath:()=>le,matchPath:()=>he,useHistory:()=>Se,useLocation:()=>Ce,useParams:()=>Ee,useRouteMatch:()=>Te,withRouter:()=>_e});var a=s(6087),r=s(6942),i=s.n(r),o=s(790),l=s(6427),c=s(7723),d=s(1538),u=s(5573),p=(0,o.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(u.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})}),h=(0,o.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(u.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),f=(0,o.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(u.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),m=(0,o.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(u.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"})});const g=({badge:e,badgeLevel:t="info",className:s,checkbox:n,children:r,collapse:u,disabled:g,title:v,description:b,handoff:w,editLink:y,href:x,notification:_,notificationLevel:k,notificationHTML:S,actionContent:C,actionText:E,secondaryActionText:T,secondaryDestructive:j,id:M,image:P,imageLink:A,indent:L,isSmall:I,isMedium:O,simple:N,onClick:z,onSecondaryActionClick:D,isWaiting:$,titleLink:B,toggleChecked:R=!1,toggleOnChange:F,hasGreyHeader:H,hasWhiteHeader:V,noBorder:G,isPending:q,expandable:U=!1,isButtonEnabled:W=!1,draggable:Y=!1,dragIndex:X,dragWrapperRef:Z,onDragCallback:Q})=>{const[K,J]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(!1),[se,ne]=(0,a.useState)(null),[ae,re]=(0,a.useState)(null);(0,a.useEffect)(()=>{Z&&!ae&&re(Z)},[Z?.current]),(0,a.useEffect)(()=>{u&&K&&J(!1)},[u]);const ie=_||r,oe=i()("newspack-action-card",N&&"newspack-card--is-clickable",H&&"newspack-card--has-grey-header",V&&"newspack-card--has-white-header",ie&&"newspack-card--has-children",L&&"newspack-card--indent",I&&"is-small",O&&"is-medium",n&&"has-checkbox",U&&"is-expandable",Y&&"is-draggable",C&&"has-action-content",s),le=!F||B||g?{}:{onClick:()=>F(!R),tabIndex:"0"},ce=x&&0!==x.indexOf("http"),de=T&&D,ue=!Array.isArray(e)&&e?[e]:e,pe=()=>{return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"newspack-action-card__region newspack-action-card__region-top",children:[F&&(0,o.jsx)(l.ToggleControl,{checked:R,onChange:F,disabled:g}),P&&!F&&(0,o.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:(0,o.jsx)("a",{href:A,children:(0,o.jsx)("div",{className:"newspack-action-card__image",style:(e=P,e?{backgroundImage:`url(${e})`}:{})})})}),n&&!F&&(0,o.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:(0,o.jsx)("span",{className:i()("newspack-checkbox-icon","is-primary","checked"===n&&"newspack-checkbox-icon--checked",q&&"newspack-checkbox-icon--pending"),children:"checked"===n&&(0,o.jsx)(d.A,{icon:p})})}),(0,o.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-center",children:(0,o.jsxs)(cs,{columns:1,gutter:8,noMargin:!0,children:[(0,o.jsxs)("h2",{children:[(0,o.jsxs)("span",{className:"newspack-action-card__title",...le,children:[B&&(0,o.jsx)("a",{href:B,children:v}),!B&&U&&(0,o.jsx)(at,{isLink:!0,onClick:()=>J(!K),children:v}),!B&&!U&&v]}),ue?.length&&ue.map((e,s)=>(0,o.jsx)("span",{className:`newspack-action-card__badge newspack-action-card__badge-level-${t}`,children:e},`badge-${s}`))]}),b&&(0,o.jsxs)("p",{children:["string"==typeof b&&b,"function"==typeof b&&b()]})]})}),!U&&(E||de||C)&&(0,o.jsxs)("div",{className:"newspack-action-card__region newspack-action-card__region-right",children:[C&&C,E&&(w?(0,o.jsx)(ns,{plugin:w,editLink:y,compact:!0,isLink:!0,children:E}):z||ce?(0,o.jsx)(at,{disabled:g&&!W,isLink:!0,href:x,onClick:z,className:"newspack-action-card__primary_button",children:E}):x?(0,o.jsx)(l.ExternalLink,{href:x,className:"newspack-action-card__primary_button",children:E}):(0,o.jsxs)("div",{className:"newspack-action-card__container",children:[E,$&&(0,o.jsx)(Bs,{isRight:!0})]})),de&&(0,o.jsx)(at,{isLink:!0,onClick:D,className:"newspack-action-card__secondary_button",isDestructive:j,children:T})]}),U&&(0,o.jsx)(at,{onClick:()=>J(!K),children:(0,o.jsx)(d.A,{icon:K?h:f,height:24,width:24})})]}),_&&(0,o.jsxs)("div",{className:"newspack-action-card__notification newspack-action-card__region-children",children:["error"===k&&(0,o.jsx)(gs,{noticeText:_,isError:!0,rawHTML:S}),"info"===k&&(0,o.jsx)(gs,{noticeText:_,rawHTML:S}),"success"===k&&(0,o.jsx)(gs,{noticeText:_,isSuccess:!0,rawHTML:S}),"warning"===k&&(0,o.jsx)(gs,{noticeText:_,isWarning:!0,rawHTML:S})]}),r&&(U&&K||!U)&&(0,o.jsx)("div",{className:"newspack-action-card__region-children",children:r})]});var e};if(Y&&ae?.current&&"number"==typeof X&&Q&&M){let e=ae.current.getBoundingClientRect(),t=Array.prototype.slice.call(ae.current.querySelectorAll(".newspack-action-card__draggable-wrapper"));const s=0===X,n=X===t.length-1,a=()=>{t=Array.prototype.slice.call(ae.current.querySelectorAll(".newspack-action-card__draggable-wrapper")),e=ae.current.getBoundingClientRect(),ee||(ne(X),te(!0))},r=()=>{null!==se&&se!==X&&Q(se),ne(null),te(!1)},i=s=>{const n=s.pageY<=e.top+window.scrollY,a=s.pageY>=e.bottom+window.scrollY,r=s.target.closest(".newspack-action-card__draggable-wrapper");(n||a||r)&&(ne(t.indexOf(r)),(0>se||se===X+1)&&ne(X),n&&ne(0),a&&ne(t.length))};return(0,o.jsx)("div",{className:"newspack-action-card__draggable-wrapper"+(ee?" is-dragging":""),id:`draggable-card-${M}`,children:(0,o.jsx)(l.Draggable,{elementId:`draggable-card-${M}`,transferData:{},onDragStart:a,onDragEnd:r,onDragOver:i,children:({onDraggableStart:e,onDraggableEnd:t})=>(0,o.jsxs)(it,{className:oe,onClick:N&&z,id:null!=M?M:null,noBorder:G,children:[(0,o.jsxs)("div",{className:"newspack-action-card__draggable-controls",children:[(0,o.jsx)("div",{className:"drag-handle",draggable:!0,onDragStart:e,onDragEnd:t,children:(0,o.jsx)(d.A,{icon:m,height:18,width:18})}),(0,o.jsxs)("div",{className:"movers",children:[(0,o.jsx)(at,{icon:h,onClick:()=>Q(X-1),disabled:s,label:(0,c.__)("Move one position up","newspack-plugin")}),(0,o.jsx)(at,{icon:f,onClick:()=>Q(X+1),disabled:n,label:(0,c.__)("Move one position down","newspack-plugin")})]})]}),(0,o.jsx)(pe,{})]})})})}return(0,o.jsx)(it,{className:oe,onClick:N&&z,id:null!=M?M:null,noBorder:G,children:(0,o.jsx)(pe,{})})};var v=s(8221),b=s.n(v);class w extends a.Component{constructor(e){super(e),this.state={suggestions:[],validValues:{},loading:this.isFetchingInfoOnLoad()},this.debouncedUpdateSuggestions=b()(this.updateSuggestions,500)}isFetchingInfoOnLoad=()=>{const{tokens:e,fetchSavedInfo:t}=this.props;return Boolean(e.length&&t)};componentDidMount(){if(this.isFetchingInfoOnLoad()){const{tokens:e,fetchSavedInfo:t}=this.props;t(e).then(e=>{const{validValues:t}=this.state;e.forEach(e=>{t[e.value]=e.label}),this.setState({validValues:t,loading:!1})})}}componentDidUpdate(e){const{tokens:t,fetchSavedInfo:s}=this.props;t!==e.tokens&&this.isFetchingInfoOnLoad()&&s(t).then(e=>{const{validValues:t}=this.state;e.forEach(e=>{t[e.value]=e.label}),this.setState({validValues:t,loading:!1})})}componentWillUnmount(){delete this.suggestionsRequest,this.debouncedUpdateSuggestions.cancel()}getLabelsForValues(e){const{validValues:t}=this.state;return e.reduce((e,s)=>s?s.label?[...e,s.label]:t[s]?[...e,t[s]]:e:e,[])}getValuesForLabels(e){const{returnFullObjects:t}=this.props,{validValues:s}=this.state;return t?e.reduce((e,t)=>(Object.keys(s).forEach(n=>{if(s[n]===t){const s=isNaN(parseInt(n))?n.toString():parseInt(n);e.push({value:s,label:t})}}),e),[]):e.map(e=>Object.keys(s).map(e=>isNaN(parseInt(e))?e.toString():parseInt(e)).find(t=>s[t]===e))}updateSuggestions(e){const{fetchSuggestions:t}=this.props;t&&this.setState({loading:!0},()=>{const s=t(e);s.then(e=>{if(this.suggestionsRequest!==s)return;const{validValues:t}=this.state,n=[...e];e.forEach(e=>{t[e.value]=e.label}),this.setState({suggestions:n,validValues:t,loading:!1})}).catch(()=>{this.suggestionsRequest===s&&this.setState({loading:!1})}),this.suggestionsRequest=s})}handleOnChange(e){const{onChange:t}=this.props;t(this.getValuesForLabels(e))}getTokens(){const{tokens:e}=this.props;return this.getLabelsForValues(e)}render(){const{help:e,label:t="",placeholder:s="",maxLength:n,style:a,__next40pxDefaultSize:r}=this.props,{suggestions:i,loading:c}=this.state,d=["newspack-autocomplete-tokenfield__input-container"];return t&&d.push("has-label"),(0,o.jsxs)("div",{className:"newspack-autocomplete-tokenfield",style:a,children:[(0,o.jsxs)("div",{className:d.join(" "),children:[(0,o.jsx)(l.FormTokenField,{value:this.getTokens(),suggestions:i.map(e=>e.label),onChange:e=>this.handleOnChange(e),onInputChange:e=>this.debouncedUpdateSuggestions(e),label:t,maxLength:n,placeholder:s,__next40pxDefaultSize:r}),c&&(0,o.jsx)(l.Spinner,{})]}),e&&(0,o.jsx)("p",{className:"newspack-autocomplete-tokenfield__help",children:e})]})}}const y=w;var x=s(1455),_=s.n(x),k=s(8537),S=s(3832);const C=({fetchSavedPosts:e=!1,fetchSuggestions:t=!1,help:s=(0,c.__)("Begin typing search term, click autocomplete result to select.","newspack-plugin"),hideHelp:n=!1,label:r=(0,c.__)("Search","newspack-plugin"),maxItemsToSuggest:i=0,multiSelect:d=!1,onChange:u=!1,onPostTypeChange:p=!1,postTypes:h=[{slug:"post",label:"Post"}],postTypeLabel:f=(0,c.__)("item","newspack-plugin"),postTypeLabelPlural:m=(0,c.__)("items","newspack-plugin"),selectedItems:g=[],selectedPost:v=0,suggestionsToFetch:b=10})=>{const[w,x]=(0,a.useState)(!0),[C,E]=(0,a.useState)(!1),[T,j]=(0,a.useState)([]),[M,P]=(0,a.useState)(0),[A,L]=(0,a.useState)(h[0].slug),I=["newspack-autocomplete-with-suggestions"];n&&I.push("hide-help"),(0,a.useEffect)(()=>{p&&p(A),x(!0),N(null,0,A).then(e=>{0<e.length&&j(e)}).finally(()=>x(!1))},[A]),(0,a.useEffect)(()=>{C&&N(null,T.length,A).then(e=>{0<e.length&&j(T.concat(e))}).finally(()=>E(!1))},[C]);const O=e||(async(e=[],t=null)=>{const s=t||A,n="post"===s||"page"===s?s+"s":s;return(await _()({path:(0,S.addQueryArgs)("/wp/v2/"+n,{per_page:100,include:e.join(","),_fields:"id,title"})})).map(e=>({value:parseInt(e.id),label:(0,k.decodeEntities)(e.title)||(0,c.__)("(no title)","newspack-plugin")}))}),N=t||(async(e=null,t=0,s=null)=>{const n=s||A,a="post"===n||"page"===n?n+"s":n,r=await _()({parse:!1,path:(0,S.addQueryArgs)("/wp/v2/"+a,{search:e,offset:t,per_page:b,_fields:"id,title"})}),i=parseInt(r.headers.get("x-wp-total")||0),o=await r.json();return P(i),o.reduce((e,t)=>(e.push({value:parseInt(t.id),label:(0,k.decodeEntities)(t?.title.rendered)||(0,c.__)("(no title)","newspack-plugin")}),e),[])}),z=e=>{if(!d)return u(e);const t=v?[...g,v]:[...g];e.forEach(e=>{const s=t.findIndex(t=>parseInt(t.value)===parseInt(e.value));-1<s?t.splice(s,1):t.push(e)}),u(t.map(e=>({...e,postType:A})))},D=e=>{if(d){const t=!!(v?[...g,v]:[...g]).find(t=>parseInt(t.value)===parseInt(e.value)&&t.label===e.label);return(0,o.jsx)(l.CheckboxControl,{checked:t,onChange:()=>z([e]),label:e.label},e.value)}return(0,o.jsx)(l.Button,{isLink:!0,onClick:()=>z([e]),children:e.label},e.value)};return(0,o.jsxs)("div",{className:I.join(" "),children:[0<g.length&&(()=>{const e=v?[...g,v]:g,t=d?(0,c.sprintf)(
// Translators: %1: the length of selections. %2: the selection leabel.
// Translators: %1: the length of selections. %2: the selection leabel.
(0,c.__)("%1$s %2$s selected","newspack-plugin"),e.length,e.length>1?m:f):(0,c.sprintf)(
// Translators: %s: The label for the selection.
// Translators: %s: The label for the selection.
(0,c.__)("Selected %s","newspack-plugin"),f);return(0,o.jsxs)("div",{className:"newspack-autocomplete-with-suggestions__selected-items",children:[(0,o.jsxs)("p",{className:"newspack-autocomplete-with-suggestions__label",children:[t,1<e.length&&(0,c._x)(" – ","separator character","newspack-plugin"),1<e.length&&(0,o.jsx)(l.Button,{onClick:()=>u([]),isLink:!0,isDestructive:!0,children:(0,c.__)("Clear all","newspack-plugin")})]}),e.map(t=>(0,o.jsx)(l.Button,{className:"newspack-autocomplete-with-suggestions__selected-item-button",isTertiary:!0,onClick:()=>u(e.filter(e=>e.value!==t.value)),children:t.label},t.value))]})})(),1<h.length&&(0,o.jsx)(l.SelectControl,{label:(0,c.sprintf)(
// Translators: %s: The name of the type.
// Translators: %s: The name of the type.
(0,c.__)("%s type","newspack-plugin"),f.charAt(0).toUpperCase()+f.slice(1)),value:A,options:h.map(e=>({label:e.label,value:e.slug})),onChange:e=>L(e)}),(0,o.jsx)(y,{tokens:[],onChange:z,fetchSuggestions:async e=>N(e,0,A),fetchSavedInfo:e=>O(e),label:r,loading:w,help:!n&&s,returnFullObjects:!0}),(()=>{if(0===T.length)return null;const e=d?"newspack-autocomplete-with-suggestions__search-suggestions-multiselect":"newspack-autocomplete-with-suggestions__search-suggestions";return(0,o.jsxs)(o.Fragment,{children:[!n&&(0,o.jsx)("p",{className:"newspack-autocomplete-with-suggestions__label",children:/* Translators: %s: the name of a post type. */ /* Translators: %s: the name of a post type. */(0,c.sprintf)((0,c.__)("Or, select a recent %s:","newspack-plugin"),f)}),(0,o.jsxs)("div",{className:e,children:[T.map(D),T.length<(i||M)&&(0,o.jsx)(l.Button,{disabled:C,isSecondary:!0,onClick:()=>E(!0),children:C?(0,c.__)("Loading…","newspack-plugin"):(0,c.__)("Load more","newspack-plugin")})]})]})})()]})};function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,E(e,t)}var j=s(1609),M=s.n(j),P=s(5556),A=s.n(P),L=s(8168);function I(e){return"/"===e.charAt(0)}function O(e,t){for(var s=t,n=s+1,a=e.length;n<a;s+=1,n+=1)e[s]=e[n];e.pop()}const N=function(e,t){void 0===t&&(t="");var s,n=e&&e.split("/")||[],a=t&&t.split("/")||[],r=e&&I(e),i=t&&I(t),o=r||i;if(e&&I(e)?a=n:n.length&&(a.pop(),a=a.concat(n)),!a.length)return"/";if(a.length){var l=a[a.length-1];s="."===l||".."===l||""===l}else s=!1;for(var c=0,d=a.length;d>=0;d--){var u=a[d];"."===u?O(a,d):".."===u?(O(a,d),c++):c&&(O(a,d),c--)}if(!o)for(;c--;c)a.unshift("..");!o||""===a[0]||a[0]&&I(a[0])||a.unshift("");var p=a.join("/");return s&&"/"!==p.substr(-1)&&(p+="/"),p};function z(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const D=function e(t,s){if(t===s)return!0;if(null==t||null==s)return!1;if(Array.isArray(t))return Array.isArray(s)&&t.length===s.length&&t.every(function(t,n){return e(t,s[n])});if("object"==typeof t||"object"==typeof s){var n=z(t),a=z(s);return n!==t||a!==s?e(n,a):Object.keys(Object.assign({},t,s)).every(function(n){return e(t[n],s[n])})}return!1};function $(e){var t=e.pathname,s=e.search,n=e.hash,a=t||"/";return s&&"?"!==s&&(a+="?"===s.charAt(0)?s:"?"+s),n&&"#"!==n&&(a+="#"===n.charAt(0)?n:"#"+n),a}function B(e,t,s,n){var a;"string"==typeof e?(a=function(e){var t=e||"/",s="",n="",a=t.indexOf("#");-1!==a&&(n=t.substr(a),t=t.substr(0,a));var r=t.indexOf("?");return-1!==r&&(s=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===s?"":s,hash:"#"===n?"":n}}(e),a.state=t):(void 0===(a=(0,L.A)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return s&&(a.key=s),n?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=N(a.pathname,n.pathname)):a.pathname=n.pathname:a.pathname||(a.pathname="/"),a}function R(e,t,s){return Math.min(Math.max(e,t),s)}"undefined"==typeof window||!window.document||window.document.createElement;var F=!0,H="Invariant failed";function V(e,t){if(!e){if(F)throw new Error(H);var s="function"==typeof t?t():t,n=s?"".concat(H,": ").concat(s):H;throw new Error(n)}}var G=s(5302),q=s.n(G),U=(s(7564),s(8587)),W=s(4146),Y=s.n(W),X=1073741823,Z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==s.g?s.g:{},Q=M().createContext||function(e,t){var s,n,a,r="__create-react-context-"+((Z[a="__global_unique_id__"]=(Z[a]||0)+1)+"__"),i=function(e){function s(){for(var t,s,n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=(s=t.props.value,n=[],{on:function(e){n.push(e)},off:function(e){n=n.filter(function(t){return t!==e})},get:function(){return s},set:function(e,t){s=e,n.forEach(function(e){return e(s,t)})}}),t}T(s,e);var n=s.prototype;return n.getChildContext=function(){var e;return(e={})[r]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var s,n=this.props.value,a=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,a)?(s="function"==typeof t?t(n,a):X,0!=(s|=0)&&this.emitter.set(e.value,s)):s=0}},n.render=function(){return this.props.children},s}(M().Component);i.childContextTypes=((s={})[r]=A().object.isRequired,s);var o=function(t){function s(){for(var e,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,s){(0|e.observedBits)&s&&e.setState({value:e.getValue()})},e}T(s,t);var n=s.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?X:t},n.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?X:e},n.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},n.getValue=function(){return this.context[r]?this.context[r].get():e},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},s}(M().Component);return o.contextTypes=((n={})[r]=A().object,n),{Provider:i,Consumer:o}},K=function(e){var t=Q();return t.displayName=e,t},J=K("Router-History"),ee=K("Router"),te=function(e){function t(t){var s;return(s=e.call(this,t)||this).state={location:t.history.location},s._isMounted=!1,s._pendingLocation=null,t.staticContext||(s.unlisten=t.history.listen(function(e){s._pendingLocation=e})),s}T(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var s=t.prototype;return s.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(t){e._isMounted&&e.setState({location:t})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},s.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},s.render=function(){return M().createElement(ee.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},M().createElement(J.Provider,{children:this.props.children||null,value:this.props.history}))},t}(M().Component),se=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=function(e){void 0===e&&(e={});var t,s,n=e,a=n.getUserConfirmation,r=n.initialEntries,i=void 0===r?["/"]:r,o=n.initialIndex,l=void 0===o?0:o,c=n.keyLength,d=void 0===c?6:c,u=(t=null,s=[],{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,s,n,a){if(null!=t){var r="function"==typeof t?t(e,s):t;"string"==typeof r?"function"==typeof n?n(r,a):a(!0):a(!1!==r)}else a(!0)},appendListener:function(e){var t=!0;function n(){t&&e.apply(void 0,arguments)}return s.push(n),function(){t=!1,s=s.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s.forEach(function(e){return e.apply(void 0,t)})}});function p(e){(0,L.A)(b,e),b.length=b.entries.length,u.notifyListeners(b.location,b.action)}function h(){return Math.random().toString(36).substr(2,d)}var f=R(l,0,i.length-1),m=i.map(function(e){return B(e,void 0,"string"==typeof e?h():e.key||h())}),g=$;function v(e){var t=R(b.index+e,0,b.entries.length-1),s=b.entries[t];u.confirmTransitionTo(s,"POP",a,function(e){e?p({action:"POP",location:s,index:t}):p()})}var b={length:m.length,action:"POP",location:m[f],index:f,entries:m,createHref:g,push:function(e,t){var s="PUSH",n=B(e,t,h(),b.location);u.confirmTransitionTo(n,s,a,function(e){if(e){var t=b.index+1,a=b.entries.slice(0);a.length>t?a.splice(t,a.length-t,n):a.push(n),p({action:s,location:n,index:t,entries:a})}})},replace:function(e,t){var s="REPLACE",n=B(e,t,h(),b.location);u.confirmTransitionTo(n,s,a,function(e){e&&(b.entries[b.index]=n,p({action:s,location:n}))})},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=b.index+e;return t>=0&&t<b.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return b}(t.props),t}return T(t,e),t.prototype.render=function(){return M().createElement(te,{history:this.history,children:this.props.children})},t}(M().Component),ne=function(e){function t(){return e.apply(this,arguments)||this}T(t,e);var s=t.prototype;return s.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},s.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},s.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},s.render=function(){return null},t}(M().Component);function ae(e){var t=e.message,s=e.when,n=void 0===s||s;return M().createElement(ee.Consumer,null,function(e){if(e||V(!1),!n||e.staticContext)return null;var s=e.history.block;return M().createElement(ne,{onMount:function(e){e.release=s(t)},onUpdate:function(e,n){n.message!==t&&(e.release(),e.release=s(t))},onUnmount:function(e){e.release()},message:t})})}var re={},ie=1e4,oe=0;function le(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(re[e])return re[e];var t=q().compile(e);return oe<ie&&(re[e]=t,oe++),t}(e)(t,{pretty:!0})}function ce(e){var t=e.computedMatch,s=e.to,n=e.push,a=void 0!==n&&n;return M().createElement(ee.Consumer,null,function(e){e||V(!1);var n=e.history,r=e.staticContext,i=a?n.push:n.replace,o=B(t?"string"==typeof s?le(s,t.params):(0,L.A)({},s,{pathname:le(s.pathname,t.params)}):s);return r?(i(o),null):M().createElement(ne,{onMount:function(){i(o)},onUpdate:function(e,t){var s=B(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&D(e.state,t.state)})(s,(0,L.A)({},o,{key:s.key}))||i(o)},to:s})})}var de={},ue=1e4,pe=0;function he(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var s=t,n=s.path,a=s.exact,r=void 0!==a&&a,i=s.strict,o=void 0!==i&&i,l=s.sensitive,c=void 0!==l&&l;return[].concat(n).reduce(function(t,s){if(!s&&""!==s)return null;if(t)return t;var n=function(e,t){var s=""+t.end+t.strict+t.sensitive,n=de[s]||(de[s]={});if(n[e])return n[e];var a=[],r={regexp:q()(e,a,t),keys:a};return pe<ue&&(n[e]=r,pe++),r}(s,{end:r,strict:o,sensitive:c}),a=n.regexp,i=n.keys,l=a.exec(e);if(!l)return null;var d=l[0],u=l.slice(1),p=e===d;return r&&!p?null:{path:s,url:"/"===s&&""===d?"/":d,isExact:p,params:i.reduce(function(e,t,s){return e[t.name]=u[s],e},{})}},null)}var fe=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this;return M().createElement(ee.Consumer,null,function(t){t||V(!1);var s=e.props.location||t.location,n=e.props.computedMatch?e.props.computedMatch:e.props.path?he(s.pathname,e.props):t.match,a=(0,L.A)({},t,{location:s,match:n}),r=e.props,i=r.children,o=r.component,l=r.render;return Array.isArray(i)&&function(e){return 0===M().Children.count(e)}(i)&&(i=null),M().createElement(ee.Provider,{value:a},a.match?i?"function"==typeof i?i(a):i:o?M().createElement(o,a):l?l(a):null:"function"==typeof i?i(a):null)})},t}(M().Component);function me(e){return"/"===e.charAt(0)?e:"/"+e}function ge(e,t){if(!e)return t;var s=me(e);return 0!==t.pathname.indexOf(s)?t:(0,L.A)({},t,{pathname:t.pathname.substr(s.length)})}function ve(e){return"string"==typeof e?e:$(e)}function be(e){return function(){V(!1)}}function we(){}var ye=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return we},t.handleBlock=function(){return we},t}T(t,e);var s=t.prototype;return s.navigateTo=function(e,t){var s=this.props,n=s.basename,a=void 0===n?"":n,r=s.context,i=void 0===r?{}:r;i.action=t,i.location=function(e,t){return e?(0,L.A)({},t,{pathname:me(e)+t.pathname}):t}(a,B(e)),i.url=ve(i.location)},s.render=function(){var e=this.props,t=e.basename,s=void 0===t?"":t,n=e.context,a=void 0===n?{}:n,r=e.location,i=void 0===r?"/":r,o=(0,U.A)(e,["basename","context","location"]),l={createHref:function(e){return me(s+ve(e))},action:"POP",location:ge(s,B(i)),push:this.handlePush,replace:this.handleReplace,go:be(),goBack:be(),goForward:be(),listen:this.handleListen,block:this.handleBlock};return M().createElement(te,(0,L.A)({},o,{history:l,staticContext:a}))},t}(M().Component),xe=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this;return M().createElement(ee.Consumer,null,function(t){t||V(!1);var s,n,a=e.props.location||t.location;return M().Children.forEach(e.props.children,function(e){if(null==n&&M().isValidElement(e)){s=e;var r=e.props.path||e.props.from;n=r?he(a.pathname,(0,L.A)({},e.props,{path:r})):t.match}}),n?M().cloneElement(s,{location:a,computedMatch:n}):null})},t}(M().Component);function _e(e){var t="withRouter("+(e.displayName||e.name)+")",s=function(t){var s=t.wrappedComponentRef,n=(0,U.A)(t,["wrappedComponentRef"]);return M().createElement(ee.Consumer,null,function(t){return t||V(!1),M().createElement(e,(0,L.A)({},n,t,{ref:s}))})};return s.displayName=t,s.WrappedComponent=e,Y()(s,e)}var ke=M().useContext;function Se(){return ke(J)}function Ce(){return ke(ee).location}function Ee(){var e=ke(ee).match;return e?e.params:{}}function Te(e){var t=Ce(),s=ke(ee).match;return e?he(t.pathname,e):s}function je(e){return"/"===e.charAt(0)?e:"/"+e}function Me(e){return"/"===e.charAt(0)?e.substr(1):e}function Pe(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Ae(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Le(e){var t=e.pathname,s=e.search,n=e.hash,a=t||"/";return s&&"?"!==s&&(a+="?"===s.charAt(0)?s:"?"+s),n&&"#"!==n&&(a+="#"===n.charAt(0)?n:"#"+n),a}function Ie(e,t,s,n){var a;"string"==typeof e?(a=function(e){var t=e||"/",s="",n="",a=t.indexOf("#");-1!==a&&(n=t.substr(a),t=t.substr(0,a));var r=t.indexOf("?");return-1!==r&&(s=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===s?"":s,hash:"#"===n?"":n}}(e),a.state=t):(void 0===(a=(0,L.A)({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return s&&(a.key=s),n?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=N(a.pathname,n.pathname)):a.pathname=n.pathname:a.pathname||(a.pathname="/"),a}function Oe(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,s,n,a){if(null!=e){var r="function"==typeof e?e(t,s):e;"string"==typeof r?"function"==typeof n?n(r,a):a(!0):a(!1!==r)}else a(!0)},appendListener:function(e){var s=!0;function n(){s&&e.apply(void 0,arguments)}return t.push(n),function(){s=!1,t=t.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];t.forEach(function(e){return e.apply(void 0,s)})}}}var Ne=!("undefined"==typeof window||!window.document||!window.document.createElement);function ze(e,t){t(window.confirm(e))}var De="popstate",$e="hashchange";function Be(){try{return window.history.state||{}}catch(e){return{}}}var Re="hashchange",Fe={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Me(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Me,decodePath:je},slash:{encodePath:je,decodePath:je}};function He(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Ve(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function Ge(e){window.location.replace(He(window.location.href)+"#"+e)}var qe=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=function(e){void 0===e&&(e={}),Ne||V(!1);var t,s=window.history,n=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e,i=r.forceRefresh,o=void 0!==i&&i,l=r.getUserConfirmation,c=void 0===l?ze:l,d=r.keyLength,u=void 0===d?6:d,p=e.basename?Ae(je(e.basename)):"";function h(e){var t=e||{},s=t.key,n=t.state,a=window.location,r=a.pathname+a.search+a.hash;return p&&(r=Pe(r,p)),Ie(r,n,s)}function f(){return Math.random().toString(36).substr(2,u)}var m=Oe();function g(e){(0,L.A)(j,e),j.length=s.length,m.notifyListeners(j.location,j.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||y(h(e.state))}function b(){y(h(Be()))}var w=!1;function y(e){w?(w=!1,g()):m.confirmTransitionTo(e,"POP",c,function(t){t?g({action:"POP",location:e}):function(e){var t=j.location,s=_.indexOf(t.key);-1===s&&(s=0);var n=_.indexOf(e.key);-1===n&&(n=0);var a=s-n;a&&(w=!0,S(a))}(e)})}var x=h(Be()),_=[x.key];function k(e){return p+Le(e)}function S(e){s.go(e)}var C=0;function E(e){1===(C+=e)&&1===e?(window.addEventListener(De,v),a&&window.addEventListener($e,b)):0===C&&(window.removeEventListener(De,v),a&&window.removeEventListener($e,b))}var T=!1,j={length:s.length,action:"POP",location:x,createHref:k,push:function(e,t){var a="PUSH",r=Ie(e,t,f(),j.location);m.confirmTransitionTo(r,a,c,function(e){if(e){var t=k(r),i=r.key,l=r.state;if(n)if(s.pushState({key:i,state:l},null,t),o)window.location.href=t;else{var c=_.indexOf(j.location.key),d=_.slice(0,c+1);d.push(r.key),_=d,g({action:a,location:r})}else window.location.href=t}})},replace:function(e,t){var a="REPLACE",r=Ie(e,t,f(),j.location);m.confirmTransitionTo(r,a,c,function(e){if(e){var t=k(r),i=r.key,l=r.state;if(n)if(s.replaceState({key:i,state:l},null,t),o)window.location.replace(t);else{var c=_.indexOf(j.location.key);-1!==c&&(_[c]=r.key),g({action:a,location:r})}else window.location.replace(t)}})},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return T||(E(1),T=!0),function(){return T&&(T=!1,E(-1)),t()}},listen:function(e){var t=m.appendListener(e);return E(1),function(){E(-1),t()}}};return j}(t.props),t}return T(t,e),t.prototype.render=function(){return M().createElement(te,{history:this.history,children:this.props.children})},t}(M().Component),Ue=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).history=function(e){void 0===e&&(e={}),Ne||V(!1);var t=window.history,s=(window.navigator.userAgent.indexOf("Firefox"),e),n=s.getUserConfirmation,a=void 0===n?ze:n,r=s.hashType,i=void 0===r?"slash":r,o=e.basename?Ae(je(e.basename)):"",l=Fe[i],c=l.encodePath,d=l.decodePath;function u(){var e=d(Ve());return o&&(e=Pe(e,o)),Ie(e)}var p=Oe();function h(e){(0,L.A)(C,e),C.length=t.length,p.notifyListeners(C.location,C.action)}var f=!1,m=null;function g(){var e=Ve(),t=c(e);if(e!==t)Ge(t);else{var s=u(),n=C.location;if(!f&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(n,s))return;if(m===Le(s))return;m=null,function(e){f?(f=!1,h()):p.confirmTransitionTo(e,"POP",a,function(t){t?h({action:"POP",location:e}):function(e){var t=C.location,s=y.lastIndexOf(Le(t));-1===s&&(s=0);var n=y.lastIndexOf(Le(e));-1===n&&(n=0);var a=s-n;a&&(f=!0,x(a))}(e)})}(s)}}var v=Ve(),b=c(v);v!==b&&Ge(b);var w=u(),y=[Le(w)];function x(e){t.go(e)}var _=0;function k(e){1===(_+=e)&&1===e?window.addEventListener(Re,g):0===_&&window.removeEventListener(Re,g)}var S=!1,C={length:t.length,action:"POP",location:w,createHref:function(e){var t=document.querySelector("base"),s="";return t&&t.getAttribute("href")&&(s=He(window.location.href)),s+"#"+c(o+Le(e))},push:function(e,t){var s="PUSH",n=Ie(e,void 0,void 0,C.location);p.confirmTransitionTo(n,s,a,function(e){if(e){var t=Le(n),a=c(o+t);if(Ve()!==a){m=t,function(e){window.location.hash=e}(a);var r=y.lastIndexOf(Le(C.location)),i=y.slice(0,r+1);i.push(t),y=i,h({action:s,location:n})}else h()}})},replace:function(e,t){var s="REPLACE",n=Ie(e,void 0,void 0,C.location);p.confirmTransitionTo(n,s,a,function(e){if(e){var t=Le(n),a=c(o+t);Ve()!==a&&(m=t,Ge(a));var r=y.indexOf(Le(C.location));-1!==r&&(y[r]=t),h({action:s,location:n})}})},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return S||(k(1),S=!0),function(){return S&&(S=!1,k(-1)),t()}},listen:function(e){var t=p.appendListener(e);return k(1),function(){k(-1),t()}}};return C}(t.props),t}return T(t,e),t.prototype.render=function(){return M().createElement(te,{history:this.history,children:this.props.children})},t}(M().Component),We=function(e,t){return"function"==typeof e?e(t):e},Ye=function(e,t){return"string"==typeof e?Ie(e,null,null,t):e},Xe=function(e){return e},Ze=M().forwardRef;void 0===Ze&&(Ze=Xe);var Qe=Ze(function(e,t){var s=e.innerRef,n=e.navigate,a=e.onClick,r=(0,U.A)(e,["innerRef","navigate","onClick"]),i=r.target,o=(0,L.A)({},r,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return o.ref=Xe!==Ze&&t||s,M().createElement("a",o)}),Ke=Ze(function(e,t){var s=e.component,n=void 0===s?Qe:s,a=e.replace,r=e.to,i=e.innerRef,o=(0,U.A)(e,["component","replace","to","innerRef"]);return M().createElement(ee.Consumer,null,function(e){e||V(!1);var s=e.history,l=Ye(We(r,e.location),e.location),c=l?s.createHref(l):"",d=(0,L.A)({},o,{href:c,navigate:function(){var t=We(r,e.location),n=Le(e.location)===Le(Ye(t));(a||n?s.replace:s.push)(t)}});return Xe!==Ze?d.ref=t||i:d.innerRef=i,M().createElement(n,d)})}),Je=function(e){return e},et=M().forwardRef;void 0===et&&(et=Je);var tt=et(function(e,t){var s=e["aria-current"],n=void 0===s?"page":s,a=e.activeClassName,r=void 0===a?"active":a,i=e.activeStyle,o=e.className,l=e.exact,c=e.isActive,d=e.location,u=e.sensitive,p=e.strict,h=e.style,f=e.to,m=e.innerRef,g=(0,U.A)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return M().createElement(ee.Consumer,null,function(e){e||V(!1);var s=d||e.location,a=Ye(We(f,s),s),v=a.pathname,b=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?he(s.pathname,{path:b,exact:l,sensitive:u,strict:p}):null,y=!!(c?c(w,s):w),x="function"==typeof o?o(y):o,_="function"==typeof h?h(y):h;y&&(x=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter(function(e){return e}).join(" ")}(x,r),_=(0,L.A)({},_,i));var k=(0,L.A)({"aria-current":y&&n||null,className:x,style:_,to:a},g);return Je!==et?k.ref=t||m:k.innerRef=m,M().createElement(Ke,k)})});const st=n,{useHistory:nt}=st,at=({href:e,onClick:t,...s})=>{const n=nt(),[r,i]=(0,a.useState)(!1);return e&&t?s.onClick=async()=>{i(!0),await t(),i(!1),n.push((e||"").replace("#",""))}:(s.href=e,s.onClick=t),r&&(s.disabled=!0),(0,o.jsx)(l.Button,{...s})};class rt extends a.Component{render(){const{buttonsCard:e,className:t,headerActions:s,isNarrow:n,isMedium:a,isSmall:r,isWhite:l,noBorder:c,...d}=this.props,u=i()("newspack-card",t,e&&"newspack-card__buttons-card",s&&"newspack-card__header-actions",a&&"newspack-card__is-medium",n&&"newspack-card__is-narrow",r&&"newspack-card__is-small",l&&"newspack-card__is-white",c&&"newspack-card__no-border");return(0,o.jsx)("div",{className:u,...d})}}const it=rt;var ot=s(7309),lt=s.n(ot),ct=s(7612),dt=s.n(ct);class ut extends a.Component{state={suggestions:{},allCategories:{},isLoading:!1};constructor(e){super(e),this.debouncedUpdateSuggestions=b()(this.updateSuggestions,100)}componentDidMount(){this.setState({isLoading:!0}),_()({path:(0,S.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{per_page:-1,_fields:"id,name"})}).then(e=>this.setState({allCategories:e})).finally(()=>this.setState({isLoading:!1}))}componentWillUnmount(){this.debouncedUpdateSuggestions.cancel()}updateSuggestions(e){this.setState({isLoading:!0}),_()({path:(0,S.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then(e=>{this.setState({suggestions:e.reduce((e,t)=>({...e,[t.name]:t}),{})})}).finally(()=>this.setState({isLoading:!1}))}handleOnChange=e=>{const{onChange:t}=this.props,{suggestions:s}=this.state;t(e.filter(e=>void 0!==e).map(e=>"string"==typeof e?s[e]:e).filter(Boolean))};getAvailableSuggestions=()=>{const{value:e}=this.props,{suggestions:t}=this.state,s=e.reduce((e,t)=>(t?.id&&e.push(t.id),e),[]);return dt()(t,({id:e})=>-1===s.indexOf(e)).map(e=>e.name)};render(){const{className:e,disabled:t,description:s,hideHelpFromVision:n,hideLabelFromVision:a,label:r,value:c}=this.props,{allCategories:d,isLoading:u}=this.state,p=i()("newspack-category-autocomplete",e);return(0,o.jsxs)("div",{className:p,children:[(0,o.jsx)(Kt,{onInputChange:e=>this.debouncedUpdateSuggestions(e),value:c.reduce((e,t)=>{const s="number"==typeof t?lt()(d,["id",t]):t;return s&&e.push({id:s.term_id||s.id,value:s.value||s.name}),e},[]),suggestions:this.getAvailableSuggestions(),onChange:this.handleOnChange,label:r,disabled:t,description:s,hideHelpFromVision:n,hideLabelFromVision:a}),u?(0,o.jsx)("span",{className:"newspack-category-autocomplete__suggestions-spinner",children:(0,o.jsx)(l.Spinner,{})}):null]})}}ut.defaultProps={taxonomy:"categories"};var pt={grad:.9,turn:360,rad:360/(2*Math.PI)},ht=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},ft=function(e,t,s){return void 0===t&&(t=0),void 0===s&&(s=Math.pow(10,t)),Math.round(s*e)/s+0},mt=function(e,t,s){return void 0===t&&(t=0),void 0===s&&(s=1),e>s?s:e>t?e:t},gt=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},vt=function(e){return{r:mt(e.r,0,255),g:mt(e.g,0,255),b:mt(e.b,0,255),a:mt(e.a)}},bt=function(e){return{r:ft(e.r),g:ft(e.g),b:ft(e.b),a:ft(e.a,3)}},wt=/^#([0-9a-f]{3,8})$/i,yt=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},xt=function(e){var t=e.r,s=e.g,n=e.b,a=e.a,r=Math.max(t,s,n),i=r-Math.min(t,s,n),o=i?r===t?(s-n)/i:r===s?2+(n-t)/i:4+(t-s)/i:0;return{h:60*(o<0?o+6:o),s:r?i/r*100:0,v:r/255*100,a}},_t=function(e){var t=e.h,s=e.s,n=e.v,a=e.a;t=t/360*6,s/=100,n/=100;var r=Math.floor(t),i=n*(1-s),o=n*(1-(t-r)*s),l=n*(1-(1-t+r)*s),c=r%6;return{r:255*[n,o,i,i,l,n][c],g:255*[l,n,n,o,i,i][c],b:255*[i,i,l,n,n,o][c],a}},kt=function(e){return{h:gt(e.h),s:mt(e.s,0,100),l:mt(e.l,0,100),a:mt(e.a)}},St=function(e){return{h:ft(e.h),s:ft(e.s),l:ft(e.l),a:ft(e.a,3)}},Ct=function(e){return _t((s=(t=e).s,{h:t.h,s:(s*=((n=t.l)<50?n:100-n)/100)>0?2*s/(n+s)*100:0,v:n+s,a:t.a}));var t,s,n},Et=function(e){return{h:(t=xt(e)).h,s:(a=(200-(s=t.s))*(n=t.v)/100)>0&&a<200?s*n/100/(a<=100?a:200-a)*100:0,l:a/2,a:t.a};var t,s,n,a},Tt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Mt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,At={string:[[function(e){var t=wt.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?ft(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?ft(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=Mt.exec(e)||Pt.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:vt({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Tt.exec(e)||jt.exec(e);if(!t)return null;var s,n,a=kt({h:(s=t[1],n=t[2],void 0===n&&(n="deg"),Number(s)*(pt[n]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return Ct(a)},"hsl"]],object:[[function(e){var t=e.r,s=e.g,n=e.b,a=e.a,r=void 0===a?1:a;return ht(t)&&ht(s)&&ht(n)?vt({r:Number(t),g:Number(s),b:Number(n),a:Number(r)}):null},"rgb"],[function(e){var t=e.h,s=e.s,n=e.l,a=e.a,r=void 0===a?1:a;if(!ht(t)||!ht(s)||!ht(n))return null;var i=kt({h:Number(t),s:Number(s),l:Number(n),a:Number(r)});return Ct(i)},"hsl"],[function(e){var t=e.h,s=e.s,n=e.v,a=e.a,r=void 0===a?1:a;if(!ht(t)||!ht(s)||!ht(n))return null;var i=function(e){return{h:gt(e.h),s:mt(e.s,0,100),v:mt(e.v,0,100),a:mt(e.a)}}({h:Number(t),s:Number(s),v:Number(n),a:Number(r)});return _t(i)},"hsv"]]},Lt=function(e,t){for(var s=0;s<t.length;s++){var n=t[s][0](e);if(n)return[n,t[s][1]]}return[null,void 0]},It=function(e,t){var s=Et(e);return{h:s.h,s:mt(s.s+100*t,0,100),l:s.l,a:s.a}},Ot=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Nt=function(e,t){var s=Et(e);return{h:s.h,s:s.s,l:mt(s.l+100*t,0,100),a:s.a}},zt=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Lt(e.trim(),At.string):"object"==typeof e&&null!==e?Lt(e,At.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return ft(Ot(this.rgba),2)},e.prototype.isDark=function(){return Ot(this.rgba)<.5},e.prototype.isLight=function(){return Ot(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=bt(this.rgba)).r,s=e.g,n=e.b,r=(a=e.a)<1?yt(ft(255*a)):"","#"+yt(t)+yt(s)+yt(n)+r;var e,t,s,n,a,r},e.prototype.toRgb=function(){return bt(this.rgba)},e.prototype.toRgbString=function(){return t=(e=bt(this.rgba)).r,s=e.g,n=e.b,(a=e.a)<1?"rgba("+t+", "+s+", "+n+", "+a+")":"rgb("+t+", "+s+", "+n+")";var e,t,s,n,a},e.prototype.toHsl=function(){return St(Et(this.rgba))},e.prototype.toHslString=function(){return t=(e=St(Et(this.rgba))).h,s=e.s,n=e.l,(a=e.a)<1?"hsla("+t+", "+s+"%, "+n+"%, "+a+")":"hsl("+t+", "+s+"%, "+n+"%)";var e,t,s,n,a},e.prototype.toHsv=function(){return e=xt(this.rgba),{h:ft(e.h),s:ft(e.s),v:ft(e.v),a:ft(e.a,3)};var e},e.prototype.invert=function(){return Dt({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Dt(It(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Dt(It(this.rgba,-e))},e.prototype.grayscale=function(){return Dt(It(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Dt(Nt(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Dt(Nt(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Dt({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):ft(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Et(this.rgba);return"number"==typeof e?Dt({h:e,s:t.s,l:t.l,a:t.a}):ft(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Dt(e).toHex()},e}(),Dt=function(e){return e instanceof zt?e:new zt(e)},$t=[],Bt=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},Rt=function(e){return.2126*Bt(e.r)+.7152*Bt(e.g)+.0722*Bt(e.b)};const{useHistory:Ft}=st;var Ht=s(6449),Vt=s.n(Ht),Gt=s(6924),qt=s.n(Gt);const Ut=(e,t)=>{if(Vt()(e))return t},Wt={usePrompt:(e,t)=>{const s=Ft(),n=(0,a.useRef)(null),r=s=>{if(e)return void 0===s&&(s=window.event),t};return(0,a.useEffect)(()=>(e&&(n.current=s.block(t),window.addEventListener("beforeunload",r)),()=>{n.current&&n.current(),window.removeEventListener("beforeunload",r)}),[t,e]),n.current||(()=>{})},useObjectState:(e={})=>{const[t,s]=(0,a.useState)(e),n=e=>s(t=>qt()({},t,e,Ut));return[t,e=>{if("string"==typeof e)return t=>n({[e]:t});n(e)}]},useOnClickOutside:(e,t)=>{(0,a.useEffect)(()=>{const s=s=>{e.current&&!e.current.contains(s.target)&&t(s)};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[e,t])},useUniqueId:e=>(0,a.useRef)(`${e}-${Math.round(99999*Math.random())}`).current},Yt=window.wp.keycodes,Xt={InteractiveDiv:({style:e={},...t})=>(0,o.jsx)("div",{tabIndex:"0",role:"button",onKeyDown:e=>Yt.ENTER===e.keyCode&&t.onClick(),style:{cursor:"pointer",...e},...t}),confirmAction:e=>!!confirm(e)};!function(e){e.forEach(function(e){$t.indexOf(e)<0&&(e(zt,At),$t.push(e))})}([function(e){e.prototype.luminance=function(){return e=Rt(this.rgba),void 0===(t=2)&&(t=0),void 0===s&&(s=Math.pow(10,t)),Math.round(s*e)/s+0;var e,t,s},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var s,n,a,r,i,o,l,c=t instanceof e?t:new e(t);return r=this.rgba,i=c.toRgb(),s=(o=Rt(r))>(l=Rt(i))?(o+.05)/(l+.05):(l+.05)/(o+.05),void 0===(n=2)&&(n=0),void 0===a&&(a=Math.pow(10,n)),Math.floor(a*s)/a+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(i=void 0===(r=(s=t).size)?"normal":r,"AAA"===(a=void 0===(n=s.level)?"AA":n)&&"normal"===i?7:"AA"===a&&"large"===i?3:4.5);var s,n,a,r,i}}]);const{InteractiveDiv:Zt}=Xt;class Qt extends a.Component{render(){const{className:e,description:t,hideHelpFromVision:s,hideLabelFromVision:n,...a}=this.props,r=i()("newspack-form-token-field__input-container",e);return(0,o.jsxs)("div",{className:i()({"newspack-form-token-field--label-hidden":n,"newspack-form-token-field--help-hidden":s},"newspack-form-token-field"),children:[(0,o.jsx)(l.FormTokenField,{className:r,...a}),t&&(0,o.jsx)("p",{className:"newspack-form-token-field__help",children:t})]})}}const Kt=Qt,Jt=({simple:e})=>{const{components_demo:t=!1,support:s=!1,setup_wizard:n=!1,reset_url:a=!1,plugin_version:r={label:"Newspack"},remove_starter_content:i=!1,support_email:d}=window.newspack_urls||{},u=[{label:r.label,url:"https://newspack.com/category/release-notes/",external:!0},{label:(0,c.__)("About","newspack-plugin"),url:"https://newspack.com/",external:!0},{label:(0,c.__)("Documentation","newspack-plugin"),url:s,external:!0}];return t&&u.push({label:(0,c.__)("Components Demo","newspack-plugin"),url:t}),n&&u.push({label:(0,c.__)("Setup Wizard","newspack-plugin"),url:n}),a&&u.push({label:(0,c.__)("Reset Newspack","newspack-plugin"),url:a}),i&&u.push({label:(0,c.__)("Remove Starter Content","newspack-plugin"),url:i}),d&&u.push({label:(0,c.__)("Contact Support","newspack-plugin"),url:`mailto:${d}`}),(0,o.jsx)("div",{className:"newspack-footer",children:!e&&(0,o.jsx)("ul",{children:u.map(({url:e,label:t,external:s},n)=>(0,o.jsx)("li",{children:s?(0,o.jsx)(l.ExternalLink,{href:e,children:t}):(0,o.jsx)("a",{href:e,children:t})},n))})})};var es=s(6139),ts=s.n(es);class ss extends a.Component{constructor(){super(...arguments),this.state={pluginInfo:[],showModal:!1}}componentDidMount=()=>{this._isMounted=!0;const{plugin:e}=this.props;this.retrievePluginInfo(e)};componentWillUnmount=()=>{this._isMounted=!1};retrievePluginInfo=e=>{const{onReady:t}=this.props;_()({path:"/newspack/v1/plugins/"+e}).then(e=>{this._isMounted&&(t(e),this.setState({pluginInfo:e}))})};textForPlugin=e=>{const t={modalBody:null,modalTitle:e.Name&&`${(0,c.__)("Manage","newspack-plugin")} ${e.Name}`,primaryButton:e.Name&&`${(0,c.__)("Manage","newspack-plugin")} ${e.Name}`,primaryModalButton:(0,c.__)("Manage","newspack-plugin"),dismissModalButton:(0,c.__)("Dismiss","newspack-plugin")};return ts()(t,this.props)};goToPlugin=e=>{const{editLink:t,showOnBlockEditor:s}=this.props;_()({path:"/newspack/v1/plugins/"+e+"/handoff",method:"POST",data:{editLink:t,handoffReturnUrl:window&&window.location.href,showOnBlockEditor:!!s}}).then(e=>{window.location.href=e.HandoffLink})};render(){const{className:e,children:t,compact:s,useModal:n,modalTitle:r,modalBody:l,onReady:d,editLink:u,...p}=this.props,{pluginInfo:h,showModal:f}=this.state,{modalBody:m,modalTitle:g,primaryButton:v,primaryModalButton:b,dismissModalButton:w}=this.textForPlugin(h),{Configured:y,Name:x,Slug:_,Status:k}=h,S=i()(y&&"is-configured",e);return(0,o.jsxs)(a.Fragment,{children:[x&&"active"===k&&(0,o.jsx)(at,{className:S,isSecondary:!p.isPrimary&&!p.isTertiary&&!p.isLink,...p,onClick:()=>n?this.setState({showModal:!0}):this.goToPlugin(_),children:t||v}),x&&"active"!==k&&(0,o.jsx)(at,{className:S,variant:"secondary",disabled:!0,...p,children:x+(0,c.__)(" not installed","newspack-plugin")}),!x&&(0,o.jsx)(at,{className:S,isSecondary:!p.isPrimary&&!p.isTertiary&&!p.isLink,...p,children:(0,o.jsxs)(a.Fragment,{children:[!s&&(0,o.jsx)(Bs,{isLeft:!0}),(0,c.__)("Retrieving Plugin Info","newspack-plugin")]})}),f&&(0,o.jsxs)(ds,{title:g,onRequestClose:()=>this.setState({showModal:!1}),children:[(0,o.jsx)("p",{children:m}),(0,o.jsxs)(it,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:[(0,o.jsx)(at,{variant:"secondary",onClick:()=>this.setState({showModal:!1}),children:w}),(0,o.jsx)(at,{variant:"primary",onClick:()=>this.goToPlugin(_),children:b})]})]})]})}}ss.defaultProps={onReady:()=>{}};const ns=ss,as="newspack_wizard_handoff_message";function rs(){const[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{setTimeout(()=>{const e=JSON.parse(localStorage.getItem(as));t(!!e?.message&&e.message),e?.url&&-1===window.location.href.indexOf(e.url)&&(window.localStorage.removeItem(as),t(!1))},100)},[]),e?(0,o.jsx)(gs,{isHandoff:!0,isDismissible:!1,rawHTML:!0,noticeText:e}):null}var is=(0,o.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(u.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z"})});class os extends a.Component{render(){const{className:e,...t}=this.props;return(0,o.jsx)(l.Tooltip,{...t,children:(0,o.jsx)("span",{className:i()("newspack-info-button",e),children:(0,o.jsx)(d.A,{icon:is})})})}}const ls=os;a.Component;const cs=({className:e="",columns:t=2,gutter:s=32,noMargin:n=!1,rowGap:a=0,...r})=>{const l=i()("newspack-grid",n&&"newspack-grid--no-margin",t&&"newspack-grid__columns-"+t,s&&"newspack-grid__gutter-"+s,a&&"newspack-grid__row-gap-"+a,e);return(0,o.jsx)("div",{className:l,...r})},ds=(0,a.forwardRef)(function({className:e,isWide:t,isNarrow:s,hideTitle:n,...a},r){const c=i()("newspack-modal",t&&"newspack-modal--wide",s&&"newspack-modal--narrow",n&&"newspack-modal--hide-title",e);return(0,o.jsx)(l.Modal,{className:c,...a,ref:r})});class us extends a.Component{render(){const{className:e,simple:t,size:s,white:n}=this.props,a=i()("newspack-icon",t&&"newspack-icon--simple",n&&"newspack-icon--white",e);return(0,o.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",height:s,width:s,viewBox:"0 0 24 24",className:a,children:(0,o.jsx)(l.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6271 18.6271 24 12 24C5.37213 24 0 18.6271 0 12C0 5.3729 5.3729 0 12 0C18.6271 0 24 5.3729 24 12ZM17.4545 17.4546L6.54545 6.54545V17.4545H8.72727V11.8182L14.3636 17.4546H17.4545ZM11.2727 8.18182H17.4545V6.54545H9.63636L11.2727 8.18182ZM17.4545 11.2727H14.3636L12.7273 9.63636H17.4545V11.2727ZM17.4545 12.7273V14.3636L15.8182 12.7273H17.4545Z"})})}}us.defaultProps={size:32};const ps=us;var hs=(0,o.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(u.Path,{d:"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z"})}),fs=(0,o.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(u.Path,{d:"M6.13 5.5l1.926 1.927A4.975 4.975 0 007.025 10H5v1.5h2V13H5v1.5h2.1a5.002 5.002 0 009.8 0H19V13h-2v-1.5h2V10h-2.025a4.979 4.979 0 00-1.167-2.74l1.76-1.76-1.061-1.06-1.834 1.834A4.977 4.977 0 0012 5.5c-1.062 0-2.046.33-2.855.895L7.19 4.44 6.13 5.5zm2.37 5v3a3.5 3.5 0 107 0v-3a3.5 3.5 0 10-7 0z",fillRule:"evenodd",clipRule:"evenodd"})});class ms extends a.Component{render(){const{className:e,debugMode:t,isError:s,isHandoff:n,isHelp:r,isSuccess:l,isWarning:c,noticeText:u,rawHTML:h,style:f={},children:m=null}=this.props,g=i()("newspack-notice",e,t&&"newspack-notice__is-debug",s&&"newspack-notice__is-error",n&&"newspack-notice__is-handoff",r&&"newspack-notice__is-help",l&&"newspack-notice__is-success",c&&"newspack-notice__is-warning");let v;return v=r?hs:l?p:t?fs:is,(0,o.jsxs)("div",{className:g,style:f,children:[(0,o.jsx)(d.A,{icon:v}),(0,o.jsxs)("div",{className:"newspack-notice__content",children:[h?(0,o.jsx)(a.RawHTML,{children:u}):u,m||null]})]})}}const gs=ms;class vs extends a.Component{constructor(){super(...arguments),this.state={pluginInfo:{},installationInitialized:!1}}componentDidMount=()=>{const{plugins:e}=this.props;this.retrievePluginInfo(e).then(()=>{this.props.autoInstall&&this.installAllPlugins()})};componentDidUpdate=e=>{const{autoInstall:t,plugins:s}=this.props,{installationInitialized:n}=this.state;s!==e.plugins&&this.retrievePluginInfo(s),t&&!n&&this.installAllPlugins()};retrievePluginInfo=e=>new Promise(t=>{_()({path:"/newspack/v1/plugins/"}).then(s=>{const n=Object.keys(s).reduce((t,n)=>(-1===e.indexOf(n)||(t[n]={...s[n],installationStatus:"active"===s[n].Status?1:0}),t),{});this.updatePluginInfo(n).then(()=>t())})});installAllPlugins=()=>{const{pluginInfo:e}=this.state;this.setState({installationInitialized:!0}),Object.keys(e).filter(t=>"active"!==e[t].Status).map(e=>()=>this.installPlugin(e)).reduce((e,t)=>e.then(e=>t().then(Array.prototype.concat.bind(e))),Promise.resolve([]))};installPlugin=e=>{this.setInstallationStatus(e,2);const t={path:`/newspack/v1/plugins/${e}/configure/`,method:"post"};return _()(t).then(t=>{const{pluginInfo:s}=this.state;this.props.onInstalled(e),this.updatePluginInfo({...s,[e]:{...t,installationStatus:1}})}).catch(t=>{this.setInstallationStatus(e,3,t.message)})};setChecked=(e,t)=>{const{pluginInfo:s}=this.state;this.updatePluginInfo({...s,[e]:{...s[e],checked:t}})};setInstallationStatus=(e,t,s=null)=>{const{pluginInfo:n}=this.state;this.updatePluginInfo({...n,[e]:{...n[e],installationStatus:t,notification:s}})};updatePluginInfo=e=>new Promise(t=>{const{onStatus:s}=this.props;this.setState({pluginInfo:e},()=>{const n=Object.values(e).every(e=>"active"===e.Status);s({complete:n,pluginInfo:e}),t()})});classForInstallationStatus=e=>{switch(e){case 1:return"newspack-plugin-installer__status-active";case 2:return"newspack-plugin-installer__status-installing";case 3:return"newspack-plugin-installer__status-error";default:return"newspack-plugin-installer__status-none"}};render(){const{autoInstall:e,isSmall:t,withoutFooterButton:s}=this.props,{pluginInfo:n}=this.state,{is_managed:a}=window.newspack_aux_data||{},r=Object.keys(n),l=[];r.forEach(e=>{const t=n[e];l.push(t.Status)});const u=e=>"active"===e||"inactive"===e,h=l.every(u)?(0,c.__)("Activate","newspack-plugin"):(0,c.__)("Install","newspack-plugin"),f=r.some(e=>{const t=n[e];return"active"!==t.Status&&0===t.installationStatus});return(0,o.jsxs)(o.Fragment,{children:[(!n||!Object.keys(n).length)&&(0,o.jsxs)("div",{className:"newspack-plugin-installer_is-waiting",children:[(0,o.jsx)(Bs,{isLeft:!0}),(0,c.__)("Retrieving plugin information…","newspack-plugin")]}),n&&r.length>0&&r.map(e=>{const s=n[e],{Name:r,Description:l,Download:h,Status:f,installationStatus:m,notification:v}=s,b=2===m,w=!b&&"active"!==f,y=h||u(f);let x;2===m?x="inactive"===f?(0,c.__)("Activating…"):(0,c.__)("Installing…"):y?"uninstalled"===f?x=(0,o.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,c.__)("Install","newspack"),(0,o.jsx)("span",{className:"newspack-checkbox-icon"})]}):"inactive"===f?x=(0,o.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,c.__)("Activate","newspack-plugin"),(0,o.jsx)("span",{className:"newspack-checkbox-icon"})]}):"active"===f&&(x=(0,o.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,c.__)("Installed","newspack-plugin"),(0,o.jsx)("span",{className:"newspack-checkbox-icon newspack-checkbox-icon--checked",children:(0,o.jsx)(d.A,{icon:p})})]})):x=(0,o.jsxs)("span",{className:"newspack-plugin-installer__status",children:[a?(0,c.__)("Contact Newspack support to install","newspack-plugin"):(0,c.__)("Plugin must be installed manually","newspack-plugin"),(0,o.jsx)("span",{className:"newspack-checkbox-icon"})]});const _=i()("newspack-action-card__plugin-installer",this.classForInstallationStatus(m)),k=w?()=>this.installPlugin(e):null;return(0,o.jsx)(g,{title:r,description:l,disabled:!y,actionText:x,isSmall:t,isWaiting:b,onClick:k,notification:v,notificationLevel:"error",notificationHTML:!0,className:_},e)}),!s&&!e&&n&&r.length>0&&(0,o.jsx)("div",{className:"newspack-buttons-card",children:(0,o.jsx)(at,{disabled:!f,isPrimary:!0,onClick:this.installAllPlugins,children:h})})]})}}vs.defaultProps={onStatus:()=>{},onInstalled:()=>{}};const bs=vs;var ws=s(2619);const ys=e=>Array.isArray(e.options)&&e.options.length,xs=e=>{switch(e.type){case"int":case"integer":case"float":case"number":return"number";case"string":case"text":return"text";case"password":return"password";case"boolean":case"checkbox":return"checkbox";default:return null}},_s=e=>{var t;const[s,n]=(0,a.useState)(!0),{error:r,sectionKey:i,active:d,title:u,description:p,fields:h,disabled:f,onChange:m,onUpdate:v}=e,b=e=>({disabled:f,name:`${e.section}_${e.key}`,type:xs(e),label:e.description,help:e.help||null,options:e.options?.map(e=>({value:e.value,label:e.name||e.label}))||null,value:e.value,multiple:!(!ys(e)||!e.multiple)||null,checked:"boolean"===e.type?!!e.value:null,onChange:t=>{m(e.key,t),n(!1)}}),w=(t,s=null)=>(0,ws.applyFilters)(`newspack.settingSection.${i}.${t}`,s,e);let y=2;return h.length%3==0?y=3:1===h.length&&(y=1),(0,o.jsx)(g,{id:null!==(t=e.id)&&void 0!==t?t:null,isMedium:!0,disabled:f,title:u,description:p,toggleChecked:d,hasGreyHeader:d||null===d,toggleOnChange:null!==d?e=>v({active:e}):null,actionContent:(d||null===d)&&w("buttons",(0,o.jsx)(at,{variant:"primary",disabled:f||s,onClick:()=>{v(),n(!0)},children:(0,c.__)("Save Settings","newspack")})),children:(d||null===d)&&(0,o.jsxs)(a.Fragment,{children:[r?.message&&(0,o.jsx)(gs,{noticeText:r.message,isError:!0}),w("beforeControls"),(0,o.jsx)(cs,{columns:y,gutter:32,children:h.map(e=>{const t=(e=>{if(ys(e))return As;switch(e.type){case"checkbox":case"boolean":return l.CheckboxControl;default:return Ds}})(e);return(0,ws.applyFilters)(`newspack.settingsSection.${i}.control`,(0,o.jsx)(t,{...b(e)},e.key),{sectionKey:i,setting:e,onChange:m})})})]})})};class ks extends a.Component{constructor(){super(...arguments),this.state={inFlight:!1,settings:{},error:null}}fetchSettings=()=>{const{afterFetch:e,pluginSlug:t,isWizard:s}=this.props;this.setState({inFlight:!0}),_()({path:s?`/newspack/v1/wizard/${t}/settings`:`/${t}/v1/settings`}).then(t=>{this.setState({settings:t,error:null}),"function"==typeof e&&e(t)}).catch(e=>{this.setState({error:e})}).finally(()=>{this.setState({inFlight:!1})})};componentDidMount(){this.fetchSettings()}getSettingsValues=e=>this.state.settings[e]?.reduce((e,t)=>(e[t.key]=t.value,e),{})||{};handleSettingChange=e=>(t,s)=>{const n=[...this.state.settings[e]];n.forEach(e=>{e.key===t&&(e.value=s)}),this.setState({settings:{...this.state.settings,[e]:n}})};handleSectionUpdate=e=>t=>{const{afterUpdate:s,pluginSlug:n,isWizard:a}=this.props;this.setState({inFlight:!0}),_()({path:a?`/newspack/v1/wizard/${n}/settings`:`/${n}/v1/settings`,method:"POST",data:{section:e,settings:t||this.getSettingsValues(e)}}).then(t=>{this.setState({settings:{...this.state.settings,[e]:t[e]},error:null}),"function"==typeof s&&s(t)}).catch(e=>{this.setState({error:e})}).finally(()=>{this.setState({inFlight:!1})})};getSectionInfo=e=>this.state.settings[e]?.find(e=>!e.key||"active"===e.key);getSectionTitle=e=>this.getSectionInfo(e)?.description;getSectionDescription=e=>this.getSectionInfo(e)?.help;isSectionActive=e=>{const{settings:t}=this.state,s=t[e]?.find(e=>"active"===e.key);return s?s.value:null};getSectionFields=e=>this.state.settings[e]?.filter(e=>e.key&&"active"!==e.key);render(){const{title:e,description:t,hasGreyHeader:s,children:n,titleLevel:r=1}=this.props,{settings:l,inFlight:c,error:d}=this.state;return(0,o.jsxs)(a.Fragment,{children:[e&&(0,o.jsx)(Cs,{title:e,heading:r,description:t}),d&&(0,o.jsx)(gs,{isError:!0,noticeText:d.message}),(0,o.jsxs)("div",{className:i()("newspack-plugin-settings",{"newspack-wizard-section__is-loading":c&&!Object.keys(l).length}),children:[Object.keys(l).map(e=>(0,o.jsx)(_s,{disabled:c,id:`plugin-settings-${e}`,sectionKey:e,title:this.getSectionTitle(e),description:this.getSectionDescription(e),active:this.isSectionActive(e),fields:this.getSectionFields(e),onChange:this.handleSettingChange(e),onUpdate:this.handleSectionUpdate(e),hasGreyHeader:s},e)),n]})]})}}ks.defaultProps={title:(0,c.__)("General Settings","newspack-plugin")},ks.Section=_s;class Ss extends a.Component{render(){const{className:e,padding:t,...s}=this.props,n=i()("newspack-popover",t&&"newspack-popover__padding-"+t,e);return(0,o.jsx)(l.Popover,{className:n,...s})}}Ss.defaultProps={padding:!1};const Cs=({centered:e=!1,className:t=null,description:s="",heading:n=2,isWhite:r=!1,noMargin:l=!1,title:c,id:d=null})=>{const u=(0,a.useRef)();(0,a.useEffect)(()=>{const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}).scrollTo;e&&e===d&&window.setTimeout(()=>u.current.scrollIntoView({behavior:"smooth"}),250)},[]);const p=i()("newspack-section-header",e&&"newspack-section-header--is-centered",r&&"newspack-section-header--is-white",l&&"newspack-section-header--no-margin",t),h=`h${n}`;return(0,o.jsx)("div",{id:d,className:"newspack-section-header__container",ref:u,children:(0,o.jsxs)(cs,{columns:1,gutter:8,className:p,children:["string"==typeof c&&(0,o.jsx)(h,{children:c}),"function"==typeof c&&(0,o.jsx)(h,{children:c()}),s&&"string"==typeof s&&(0,o.jsx)("p",{children:s}),"function"==typeof s&&(0,o.jsx)("p",{children:s()}),s&&"string"!=typeof s&&"function"!=typeof s&&(0,o.jsx)("p",{children:s})]})})};var Es=s(2426),Ts=s.n(Es);function js({help:e,label:t,onChange:s,optgroups:n=[],className:a,hideLabelFromVision:r,...u}){const p=Wt.useUniqueId("group-select");return(0,o.jsx)(l.BaseControl,{label:t,hideLabelFromVision:r,id:p,help:e,className:i()(a,"components-select-control"),children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsxs)("select",{id:p,className:"components-select-control__input",onChange:e=>{const{value:t}=e.target,a=lt()(n,e=>Ts()(e.options,["value",t]));s(t,a)},"aria-describedby":e?`${p}__help`:void 0,...u,children:[(0,o.jsx)("option",{value:"",children:(0,c.__)("-- Select --","newspack-plugin")}),n.map(({label:e,options:t},s)=>(0,o.jsx)("optgroup",{label:e,children:t.map((e,t)=>(0,o.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},`${e.label}-${e.value}-${t}`))},s))]}),(0,o.jsx)("div",{className:"components-select-control__arrow-wrapper",children:(0,o.jsx)(d.A,{icon:f,size:18})})]})})}const Ms=({buttonOptions:e,buttonSmall:t,className:s,help:n,hideLabelFromVision:a,label:r,onChange:c,value:u})=>{const p=Wt.useUniqueId("button-group");return(0,o.jsx)(l.BaseControl,{label:r,help:n,hideLabelFromVision:a,id:p.current,className:i()(s,"components-select-control"),children:(0,o.jsx)(l.ButtonGroup,{children:e.map(e=>{const s=u===e.value;let n=()=>e.label;return e.icon&&(n=()=>(0,o.jsx)(d.A,{icon:e.icon})),(0,o.jsx)(l.Button,{variant:s?"primary":null,isPressed:s,onClick:()=>c(e.value),isSmall:t,children:(0,o.jsx)(n,{})},e.value)})})})};class Ps extends a.Component{render(){const{className:e,optgroups:t,buttonOptions:s,buttonSmall:n,...a}=this.props,r=i()("newspack-select-control",t&&"newspack-grouped-select-control",s&&"newspack-buttons-select-control",e);return(0,o.jsx)("div",{className:r,children:t?(0,o.jsx)(js,{optgroups:t,...a}):s?(0,o.jsx)(Ms,{buttonOptions:s,buttonSmall:n,...a}):(0,o.jsx)(l.SelectControl,{...a})})}}const As=Ps;var Ls=s(4713),Is=s.n(Ls);const{NavLink:Os,useHistory:Ns}=st,zs=({items:e,className:t,disableUpcoming:s,children:n=null})=>{const a=e.filter(e=>!e.isHiddenInTabbedNavigation),{location:r}=Ns(),l=Is()(a,["path",r.pathname]);return(0,o.jsxs)("div",{className:i()("newspack-tabbed-navigation",t),children:[(0,o.jsx)("ul",{children:a.map((e,t)=>(0,o.jsx)("li",{children:(0,o.jsx)(Os,{to:e.path,isActive:(t,{pathname:s})=>function(e,t,s){return e.path===s||(Array.isArray(e?.activeTabPaths)?e.activeTabPaths.some(t=>{if(t.endsWith("*")){const e=t.slice(0,-1);return s.startsWith(e)}return e.activeTabPaths.includes(s)}):t)}(e,t,s),exact:!e.hasOwnProperty("exact")||e.exact,activeClassName:"selected",className:i()({disabled:s&&t>l}),children:e.label})},t))}),n]})},Ds=({className:e="",required:t=!1,isWide:s=!1,withMargin:n=!0,...r})=>{const d=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(null===d.current)return;const e=d.current.querySelector("label");e&&e.setAttribute("data-required-text",(0,c.__)("(required)","newspack-plugin"))},[d.current]);const u=i()("newspack-text-control",{"newspack-text-control--wide":s,"newspack-text-control--with-margin":n},e);return t?(0,o.jsx)("div",{ref:d,className:"newspack-text-control--required",children:(0,o.jsx)(l.TextControl,{className:u,required:t,...r})}):(0,o.jsx)(l.TextControl,{className:u,...r})};class $s extends a.Component{render(){const{className:e,isRight:t,isLeft:s,isCenter:n,...a}=this.props,r=i()("newspack-waiting",e,{"is-right":t,"is-left":s,"is-center":n});return(0,o.jsx)(l.Spinner,{className:r,...a})}}const Bs=$s;var Rs=(0,o.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(u.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),Fs=(0,o.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(u.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),Hs=(0,o.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(u.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),Vs=(0,o.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(u.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});const Gs="newspack-components-web-preview-wrapper";class qs extends a.Component{state={device:"desktop",loaded:!1,isPreviewVisible:!1};constructor(e){super(e),this.iframeRef=(0,a.createRef)()}componentDidMount(){const e=document.getElementById(Gs);this.modalDOMElement=e||document.createElement("div"),e||(this.modalDOMElement.id=Gs,document.body.appendChild(this.modalDOMElement))}componentDidUpdate(){!0===this.state.isPreviewVisible?document.body.classList.add("newspack-web-preview--open"):document.body.classList.remove("newspack-web-preview--open")}getWebPreviewModal=()=>{const{beforeLoad:e=()=>{},onClose:t=()=>{},url:s}=this.props,{device:n,loaded:r,isPreviewVisible:d}=this.state;if(!this.modalDOMElement||!d)return null;const u=i()("newspack-web-preview",n,r&&"is-loaded");return e(),(0,a.createPortal)((0,o.jsx)("div",{className:u,children:(0,o.jsxs)("div",{className:"newspack-web-preview__interior",children:[(0,o.jsxs)("div",{className:"newspack-web-preview__toolbar",children:[(0,o.jsx)("div",{className:"newspack-web-preview__toolbar-left",children:(0,o.jsxs)(l.ButtonGroup,{children:[(0,o.jsx)(l.Button,{onClick:()=>this.setState({device:"desktop"}),variant:"desktop"===n&&"primary",icon:Rs,label:(0,c.__)("Preview Desktop Size","newspack-plugin")}),(0,o.jsx)(l.Button,{onClick:()=>this.setState({device:"tablet"}),variant:"tablet"===n&&"primary",icon:Fs,label:(0,c.__)("Preview Tablet Size","newspack-plugin")}),(0,o.jsx)(l.Button,{onClick:()=>this.setState({device:"phone"}),variant:"phone"===n&&"primary",icon:Hs,label:(0,c.__)("Preview Phone Size","newspack-plugin")})]})}),(0,o.jsx)("div",{className:"newspack-web-preview__toolbar-right",children:(0,o.jsx)(l.Button,{onClick:()=>{t(),this.setState({isPreviewVisible:!1,loaded:!1})},icon:Vs,label:(0,c.__)("Close Preview","newspack-plugin")})})]}),(0,o.jsxs)("div",{className:"newspack-web-preview__content",children:[!r&&(0,o.jsxs)("div",{className:"newspack-web-preview__is-waiting",children:[(0,o.jsx)(Bs,{isLeft:!0}),(0,c.__)("Loading…","newspack-plugin")]}),(0,o.jsx)("iframe",{ref:this.iframeRef,title:"web-preview",src:s,onLoad:()=>{this.setState({loaded:!0}),this.props.onLoad(this.iframeRef.current)}})]})]})}),this.modalDOMElement)};showPreview=()=>{this.setState({isPreviewVisible:!0})};render(){const{label:e,variant:t,renderButton:s}=this.props;return(0,o.jsxs)(a.Fragment,{children:[s?s({showPreview:this.showPreview}):(0,o.jsx)(l.Button,{variant:t,onClick:this.showPreview,tabIndex:"0",children:e}),this.getWebPreviewModal()]})}}qs.defaultProps={url:"//newspack.com",label:(0,c.__)("Preview","newspack-plugin"),onLoad:()=>{}};var Us=s(7143),Ws=(0,o.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)(u.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),Ys=s(3560),Xs=s.n(Ys),Zs=s(8156),Qs=s.n(Zs),Ks=s(2193),Js=s.n(Ks);const en=e=>t=>({type:e,payload:t}),tn="newspack/wizards",sn={isLoading:!1,isQuietLoading:!1,apiData:{},error:null},nn=e=>JSON.parse(JSON.stringify(e)),an={startLoadingData:en("START_LOADING_DATA"),finishLoadingData:en("FINISH_LOADING_DATA"),fetchFromAPI:en("FETCH_FROM_API"),setAPIDataForWizard:en("SET_API_DATA"),updateWizardSettings:en("UPDATE_WIZARD_SETTINGS"),setError:en("SET_ERROR"),*saveWizardSettings({slug:e,section:t="",payloadPath:s=!1,auxData:n={},updatePayload:a=null}){a&&(yield an.updateWizardSettings({slug:e,...a}));const r=(0,Us.select)(tn).getWizardAPIData(e),i=s?Qs()(r,s):r,o=yield an.fetchFromAPI({path:`/newspack/v1/wizard/${e}/${t}`,method:"POST",data:{...i,...n},isQuietFetch:!0});if(!Js()(o)&&!o.error)return an.setAPIDataForWizard({slug:e,data:o})},*wizardApiFetch(e){return yield an.fetchFromAPI(e)}},rn=(0,Us.createReduxStore)(tn,{reducer:(e=sn,{type:t,payload:s={}})=>{switch(t){case"START_LOADING_DATA":return s.isQuietLoading?{...e,isQuietLoading:!0}:{...e,isLoading:!0};case"FINISH_LOADING_DATA":return{...e,isLoading:!1,isQuietLoading:!1};case"SET_API_DATA":return Xs()(nn(e),["apiData",s.slug],s.data);case"UPDATE_WIZARD_SETTINGS":return Xs()(nn(e),["apiData",s.slug,...s.path],s.value);case"SET_ERROR":return{...e,error:s};default:return e}},actions:an,selectors:{isLoading:e=>e.isLoading,isQuietLoading:e=>e.isQuietLoading,getWizardAPIData:(e,t)=>e.apiData[t]||{},getWizardData:(e,t)=>{var s;return null!==(s=e.apiData[t])&&void 0!==s?s:{}},getError:e=>e.error},controls:{FETCH_FROM_API:e=>{const{isLocalError:t=!1,isQuietFetch:s=!1}=e.payload;return(0,Us.dispatch)(tn).startLoadingData({isQuietLoading:Boolean(s)}),_()(e.payload).then(e=>((0,Us.dispatch)(tn).setError(null),e)).catch(e=>{if(t)throw e;(0,Us.dispatch)(tn).setError(e)}).finally(e=>((0,Us.dispatch)(tn).finishLoadingData(),e))}},resolvers:{*getWizardAPIData(e){if(e){const t=yield an.fetchFromAPI({path:`/newspack/v1/wizard/${e}`});return an.setAPIDataForWizard({slug:e,data:t})}return an.finishLoadingData()}}}),on=()=>{const e=(0,Us.useSelect)(e=>e(tn).getError());if(!e)return null;const{level:t,message:s}=(({data:e,message:t,code:s})=>{let n="fatal";return e&&"level"in e?n=e.level:"rest_invalid_param"===s&&(n="notice"),{message:t,level:n}})(e);if("fatal"===t){const e="undefined"!=typeof newspack_urls&&newspack_urls.dashboard;return(0,o.jsxs)(ds,{title:(0,c.__)("Unrecoverable error"),onRequestClose:e?()=>window.location=e:void 0,children:[(0,o.jsx)(gs,{noticeText:s,isError:!0,rawHTML:!0}),e&&(0,o.jsx)(it,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:(0,o.jsx)(at,{isPrimary:!0,href:e,children:(0,c.__)("Return to Dashboard","newspack-plugin")})})]})}return(0,o.jsx)(gs,{isError:!0,className:"newspack-wizard__above-header",noticeText:s,rawHTML:!0})};(0,Us.register)(rn);const{HashRouter:ln,Redirect:cn,Route:dn,Switch:un}=st,{Redirect:pn,Route:hn}=((0,a.forwardRef)(({sections:e=[],headerText:t,apiSlug:s,subHeaderText:n,hasSimpleFooter:r,className:l,renderAboveSections:d,requiredPlugins:u=[],isInitialFetchTriggered:p=!0},h)=>{const f=(0,Us.useSelect)(e=>e(tn).isLoading()),m=(0,Us.useSelect)(e=>e(tn).isQuietLoading());(0,Us.useSelect)(e=>p&&e(tn).getWizardAPIData(s));let g=e.filter(e=>!e.isHidden);const[v,b]=(0,a.useState)(0===u.length);v||(t=u.length>1?(0,c.__)("Required plugins","newspack-plugin"):(0,c.__)("Required plugin","newspack-plugin"),g=[{path:"/",render:()=>(0,o.jsx)(bs,{plugins:u,onStatus:({complete:e})=>b(e)})}]);const w=window.location.href.split("#")[0];return(0,o.jsxs)("div",{ref:h,children:[(0,o.jsx)("div",{className:i()(f?"newspack-wizard__is-loading":"newspack-wizard__is-loaded",{"newspack-wizard__is-loading-quiet":m}),children:(0,o.jsxs)(ln,{hashType:"slash",children:[newspack_aux_data.is_debug_mode&&(0,o.jsx)(gs,{debugMode:!0}),(0,o.jsx)("div",{className:"bg-white",children:(0,o.jsx)("div",{className:"newspack-wizard__header__inner",children:(0,o.jsxs)("div",{className:"newspack-wizard__title",children:[newspack_urls.dashboard!==w?(0,o.jsx)(at,{isLink:!0,href:newspack_urls.dashboard,label:(0,c.__)("Return to Dashboard","newspack-plugin"),showTooltip:!0,icon:Ws,iconSize:36,children:(0,o.jsx)(ps,{size:36})}):(0,o.jsx)(ps,{size:36}),(0,o.jsxs)("div",{children:[t&&(0,o.jsx)("h2",{children:t}),n&&(0,o.jsx)("span",{children:n})]})]})})}),g.length>1&&(0,o.jsx)(zs,{items:g,children:(0,o.jsx)(on,{})}),(0,o.jsx)(rs,{}),(0,o.jsxs)(un,{children:[g.map((e,t)=>{var s;const n=e.render;return(0,o.jsx)(dn,{exact:null!==(s=e.exact)&&void 0!==s&&s,path:e.path,children:(0,o.jsxs)("div",{className:i()("newspack-wizard__content",l),children:["function"==typeof d?d():null,(0,o.jsx)(n,{})]})},t)}),(0,o.jsx)(cn,{to:g[0].path})]})]})}),!f&&(0,o.jsx)(Jt,{simple:r})]})}),st);s(1882),s(3805),s(5015)},7068:(e,t,s)=>{var n=s(7217),a=s(5911),r=s(1986),i=s(689),o=s(5861),l=s(6449),c=s(3656),d=s(7167),u="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,s,m,g,v){var b=l(e),w=l(t),y=b?p:o(e),x=w?p:o(t),_=(y=y==u?h:y)==h,k=(x=x==u?h:x)==h,S=y==x;if(S&&c(e)){if(!c(t))return!1;b=!0,_=!1}if(S&&!_)return v||(v=new n),b||d(e)?a(e,t,s,m,g,v):r(e,t,y,s,m,g,v);if(!(1&s)){var C=_&&f.call(e,"__wrapped__"),E=k&&f.call(t,"__wrapped__");if(C||E){var T=C?e.value():e,j=E?t.value():t;return v||(v=new n),g(T,j,s,m,v)}}return!!S&&(v||(v=new n),i(e,t,s,m,g,v))}},7143:e=>{"use strict";e.exports=window.wp.data},7167:(e,t,s)=>{var n=s(4901),a=s(7301),r=s(6009),i=r&&r.isTypedArray,o=i?a(i):n;e.exports=o},7197:e=>{e.exports=function(e,t){return function(s){return null!=s&&s[e]===t&&(void 0!==t||e in Object(s))}}},7217:(e,t,s)=>{var n=s(79),a=s(1420),r=s(938),i=s(3605),o=s(9817),l=s(945);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=r,c.prototype.get=i,c.prototype.has=o,c.prototype.set=l,e.exports=c},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7241:(e,t,s)=>{var n=s(695),a=s(2903),r=s(4894);e.exports=function(e){return r(e)?n(e,!0):a(e)}},7255:(e,t,s)=>{var n=s(7422);e.exports=function(e){return function(t){return n(t,e)}}},7296:(e,t,s)=>{var n,a=s(5481),r=(n=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!r&&r in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7309:(e,t,s)=>{var n=s(2006)(s(4713));e.exports=n},7334:e=>{e.exports=function(e){return function(){return e}}},7400:(e,t,s)=>{var n=s(9374),a=1/0;e.exports=function(e){return e?(e=n(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7422:(e,t,s)=>{var n=s(1769),a=s(7797);e.exports=function(e,t){for(var s=0,r=(t=n(t,e)).length;null!=e&&s<r;)e=e[a(t[s++])];return s&&s==r?e:void 0}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,t,s)=>{var n=s(2552),a=s(346);e.exports=function(e){return a(e)&&"[object Arguments]"==n(e)}},7556:(e,t,s)=>{var n=s(1873),a=s(4932),r=s(6449),i=s(4394),o=n?n.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var s=t+"";return"0"==s&&1/t==-1/0?"-0":s}},7564:(e,t,s)=>{"use strict";s(4912)},7612:(e,t,s)=>{var n=s(9770),a=s(6574),r=s(5389),i=s(6449);e.exports=function(e,t){return(i(e)?n:a)(e,r(t,3))}},7670:(e,t,s)=>{var n=s(2651);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7723:e=>{"use strict";e.exports=window.wp.i18n},7797:(e,t,s)=>{var n=s(4394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7805:(e,t,s)=>{var n=s(3360),a=s(5288);e.exports=function(e,t,s){(void 0!==s&&!a(e[t],s)||void 0===s&&!(t in e))&&n(e,t,s)}},7828:(e,t,s)=>{var n=s(9325).Uint8Array;e.exports=n},7978:(e,t,s)=>{var n=s(270),a=s(8156),r=s(631),i=s(8586),o=s(756),l=s(7197),c=s(7797);e.exports=function(e,t){return i(e)&&o(t)?l(c(e),t):function(s){var i=a(s,e);return void 0===i&&i===t?r(s,e):n(t,i,3)}}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8096:e=>{e.exports=function(e,t){for(var s=-1,n=Array(e);++s<e;)n[s]=t(s);return n}},8156:(e,t,s)=>{var n=s(7422);e.exports=function(e,t,s){var a=null==e?void 0:n(e,t);return void 0===a?s:a}},8168:(e,t,s)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},n.apply(null,arguments)}s.d(t,{A:()=>n})},8221:(e,t,s)=>{var n=s(3805),a=s(124),r=s(9374),i=Math.max,o=Math.min;e.exports=function(e,t,s){var l,c,d,u,p,h,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var s=l,n=c;return l=c=void 0,f=t,u=e.apply(n,s)}function w(e){var s=e-h;return void 0===h||s>=t||s<0||g&&e-f>=d}function y(){var e=a();if(w(e))return x(e);p=setTimeout(y,function(e){var s=t-(e-h);return g?o(s,d-(e-f)):s}(e))}function x(e){return p=void 0,v&&l?b(e):(l=c=void 0,u)}function _(){var e=a(),s=w(e);if(l=arguments,c=this,h=e,s){if(void 0===p)return function(e){return f=e,p=setTimeout(y,t),m?b(e):u}(h);if(g)return clearTimeout(p),p=setTimeout(y,t),b(h)}return void 0===p&&(p=setTimeout(y,t)),u}return t=r(t)||0,n(s)&&(m=!!s.leading,d=(g="maxWait"in s)?i(r(s.maxWait)||0,t):d,v="trailing"in s?!!s.trailing:v),_.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=h=c=p=void 0},_.flush=function(){return void 0===p?u:x(a())},_}},8223:(e,t,s)=>{var n=s(6110)(s(9325),"Map");e.exports=n},8303:(e,t,s)=>{var n=s(6110)(s(9325),"WeakMap");e.exports=n},8329:(e,t,s)=>{var n=s(4894);e.exports=function(e,t){return function(s,a){if(null==s)return s;if(!n(s))return e(s,a);for(var r=s.length,i=t?r:-1,o=Object(s);(t?i--:++i<r)&&!1!==a(o[i],i,o););return s}}},8468:e=>{"use strict";e.exports=window.lodash},8537:e=>{"use strict";e.exports=window.wp.htmlEntities},8586:(e,t,s)=>{var n=s(6449),a=s(4394),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var s=typeof e;return!("number"!=s&&"symbol"!=s&&"boolean"!=s&&null!=e&&!a(e))||i.test(e)||!r.test(e)||null!=t&&e in Object(t)}},8587:(e,t,s)=>{"use strict";function n(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}s.d(t,{A:()=>n})},8614:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var n=s(7723),a=s(6427),r=s(790);const i=({attributes:e,setAttributes:t})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.SelectControl,{label:(0,n.__)("Post-Checkout Button","newspack-blocks"),help:(0,n.__)("After a successful purchase, a button will be presented to finish the process.","newspack-blocks"),value:e.afterSuccessBehavior,options:[{label:(0,n.__)("Close the modal","newspack-blocks"),value:""},{label:(0,n.__)("Go to a custom URL","newspack-blocks"),value:"custom"},{label:(0,n.__)("Go to the previous page","newspack-blocks"),value:"referrer"}],onChange:e=>{t({afterSuccessBehavior:e.toString()})},__next40pxDefaultSize:!0}),(0,r.jsx)(a.TextControl,{label:(0,n.__)("Button Label","newspack-blocks"),value:e.afterSuccessButtonLabel||"",onChange:e=>t({afterSuccessButtonLabel:e}),__next40pxDefaultSize:!0}),"custom"===e.afterSuccessBehavior&&(0,r.jsx)(a.TextControl,{label:(0,n.__)("Custom URL","newspack-blocks"),placeholder:(0,n.__)("https://example.com","newspack-blocks"),value:e.afterSuccessURL||"",onChange:e=>t({afterSuccessURL:e}),__next40pxDefaultSize:!0})]})},8655:(e,t,s)=>{var n=s(6025);e.exports=function(e){return n(this.__data__,e)>-1}},8859:(e,t,s)=>{var n=s(3661),a=s(1380),r=s(1459);function i(e){var t=-1,s=null==e?0:e.length;for(this.__data__=new n;++t<s;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=r,e.exports=i},8879:(e,t,s)=>{var n=s(4335)(Object.getPrototypeOf,Object);e.exports=n},8903:(e,t,s)=>{"use strict";function n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}s.d(t,{C:()=>st,n:()=>ht});var a=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),r=()=>Math.random().toString(36).substring(7).split("").join("."),i={INIT:`@@redux/INIT${r()}`,REPLACE:`@@redux/REPLACE${r()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${r()}`};var o=s(8168),l=function(e){return"@@redux-saga/"+e},c=l("CANCEL_PROMISE"),d=l("CHANNEL_END"),u=l("IO"),p=l("MATCH"),h=l("MULTICAST"),f=l("SAGA_ACTION"),m=l("SELF_CANCELLATION"),g=l("TASK"),v=l("TASK_CANCEL"),b=l("TERMINATE"),w=l("LOCATION");function y(e,t){var s;void 0===t&&(t=!0);var n=new Promise(function(n){s=setTimeout(n,Math.min(2147483647,e),t)});return n[c]=function(){clearTimeout(s)},n}var x=function(e){return null==e},_=function(e){return null!=e},k=function(e){return"function"==typeof e},S=function(e){return"string"==typeof e},C=Array.isArray,E=function(e){return e&&k(e.then)},T=function(e){return e&&k(e.next)&&k(e.throw)},j=function(e){return e&&(S(e)||A(e)||k(e)||C(e)&&e.every(j))},M=function(e){return e&&k(e.take)&&k(e.close)},P=function(e){return k(e)&&e.hasOwnProperty("toString")},A=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},L=function(){return function(){return true}}(),I=function(){},O=function(e){return e},N=function(e,t){(0,o.A)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(function(s){e[s]=t[s]})};function z(e,t){var s=e.indexOf(t);s>=0&&e.splice(s,1)}var D=function(e){throw e},$=function(e){return{value:e,done:!0}};function B(e,t,s){void 0===t&&(t=D),void 0===s&&(s="iterator");var n={meta:{name:s},next:e,throw:t,return:$,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(n[Symbol.iterator]=function(){return n}),n}function R(e,t){var s=t.sagaStack;console.error(e),console.error(s)}var F=function(e){return Array.apply(null,new Array(e))},H=function(e){return function(t){return e(Object.defineProperty(t,f,{value:!0}))}},V=function(e){return e===b},G=function(e){return e===v},q=function(e){return V(e)||G(e)};function U(e,t){var s,n=Object.keys(e),a=n.length,r=0,i=C(e)?F(a):{},o={};return n.forEach(function(e){var n=function(n,o){s||(o||q(n)?(t.cancel(),t(n,o)):(i[e]=n,++r===a&&(s=!0,t(i))))};n.cancel=I,o[e]=n}),t.cancel=function(){s||(s=!0,n.forEach(function(e){return o[e].cancel()}))},o}function W(e){return{name:e.name||"anonymous",location:Y(e)}}function Y(e){return e[w]}function X(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var Z=function(e){return function(e,t){void 0===e&&(e=10);var s=new Array(e),n=0,a=0,r=0,i=function(t){s[a]=t,a=(a+1)%e,n++},o=function(){if(0!=n){var t=s[r];return s[r]=null,n--,r=(r+1)%e,t}},l=function(){for(var e=[];n;)e.push(o());return e};return{isEmpty:function(){return 0==n},put:function(o){var c;if(n<e)i(o);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:s[a]=o,r=a=(a+1)%e;break;case 4:c=2*e,s=l(),n=s.length,a=s.length,r=0,s.length=c,e=c,i(o)}},take:o,flush:l}}(e,4)},Q="TAKE",K="CALL",J="FORK",ee="CANCEL",te=function(e,t){var s;return(s={})[u]=!0,s.combinator=!1,s.type=e,s.payload=t,s};function se(e,t){return void 0===e&&(e="*"),j(e)?(_(t)&&console.warn("take(pattern) takes one argument but two were provided. Consider passing an array for listening to several action types"),te(Q,{pattern:e})):M(s=e)&&s[h]&&_(t)&&j(t)?te(Q,{channel:e,pattern:t}):M(e)?(_(t)&&console.warn("take(channel) takes one argument but two were provided. Second argument is ignored."),te(Q,{channel:e})):void 0;var s}function ne(e,t){return x(t)&&(t=e,e=void 0),te("PUT",{channel:e,action:t})}function ae(e,t){var s,n=null;return k(e)?s=e:(C(e)?(n=e[0],s=e[1]):(n=e.context,s=e.fn),n&&S(s)&&k(n[s])&&(s=n[s])),{context:n,fn:s,args:t}}function re(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return te(K,ae(e,s))}function ie(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return te(J,ae(e,s))}var oe=re.bind(null,y),le=function(e){return{done:!0,value:e}},ce={};function de(e,t){for(var s=arguments.length,n=new Array(s>2?s-2:0),a=2;a<s;a++)n[a-2]=arguments[a];var r,i,o={done:!1,value:se(e)},l=function(e){return{done:!1,value:ie.apply(void 0,[t].concat(n,[e]))}},c=function(e){return{done:!1,value:(t=e,void 0===t&&(t=m),te(ee,t))};var t},d=function(e){return r=e},u=function(e){return i=e};return function(e,t,s){var n,a,r,i=t;function o(t,s){if(i===ce)return le(t);if(s&&!a)throw i=ce,s;n&&n(t);var o=s?e[a](s):e[i]();return i=o.nextState,r=o.effect,n=o.stateUpdater,a=o.errorState,i===ce?le(t):r}return B(o,function(e){return o(null,e)},s)}({q1:function(){return{nextState:"q2",effect:o,stateUpdater:u}},q2:function(){return r?{nextState:"q3",effect:c(r)}:{nextState:"q1",effect:l(i),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:l(i),stateUpdater:d}}},"q1","takeLatest("+function(e){return M(e)?"channel":P(e)?String(e):k(e)?e.name:String(e)}(e)+", "+t.name+")")}var ue=s(8587);var pe=[],he=0;function fe(e){try{ve(),e()}finally{be()}}function me(e){pe.push(e),he||(ve(),we())}function ge(e){try{return ve(),e()}finally{we()}}function ve(){he++}function be(){he--}function we(){var e;for(be();!he&&void 0!==(e=pe.shift());)fe(e)}var ye=function(e){return function(t){return e.some(function(e){return Ce(e)(t)})}},xe=function(e){return function(t){return e(t)}},_e=function(e){return function(t){return t.type===String(e)}},ke=function(e){return function(t){return t.type===e}},Se=function(){return L};function Ce(e){var t="*"===e?Se:S(e)?_e:C(e)?ye:P(e)?_e:k(e)?xe:A(e)?ke:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var Ee={type:d},Te=function(e){return e&&e.type===d};function je(){var e,t,s,n,a,r,i=(t=!1,n=s=[],a=function(){n===s&&(n=s.slice())},r=function(){t=!0;var e=s=n;n=[],e.forEach(function(e){e(Ee)})},(e={})[h]=!0,e.put=function(e){if(!t)if(Te(e))r();else for(var a=s=n,i=0,o=a.length;i<o;i++){var l=a[i];l[p](e)&&(l.cancel(),l(e))}},e.take=function(e,s){var r,i;void 0===s&&(s=Se),t?e(Ee):(e[p]=s,a(),n.push(e),e.cancel=(r=function(){a(),z(n,e)},i=!1,function(){i||(i=!0,r())}))},e.close=r,e),o=i.put;return i.put=function(e){e[f]?o(e):me(function(){o(e)})},i}function Me(e,t){var s=e[c];k(s)&&(t.cancel=s),e.then(t,function(e){t(e,!0)})}var Pe,Ae=0,Le=function(){return++Ae};function Ie(e){e.isRunning()&&e.cancel()}var Oe=((Pe={})[Q]=function(e,t,s){var n=t.channel,a=void 0===n?e.channel:n,r=t.pattern,i=t.maybe,o=function(e){e instanceof Error?s(e,!0):!Te(e)||i?s(e):s(b)};try{a.take(o,_(r)?Ce(r):null)}catch(e){return void s(e,!0)}s.cancel=o.cancel},Pe.PUT=function(e,t,s){var n=t.channel,a=t.action,r=t.resolve;me(function(){var t;try{t=(n?n.put:e.dispatch)(a)}catch(e){return void s(e,!0)}r&&E(t)?Me(t,s):s(t)})},Pe.ALL=function(e,t,s,n){var a=n.digestEffect,r=Ae,i=Object.keys(t);if(0!==i.length){var o=U(t,s);i.forEach(function(e){a(t[e],r,o[e],e)})}else s(C(t)?[]:{})},Pe.RACE=function(e,t,s,n){var a=n.digestEffect,r=Ae,i=Object.keys(t),o=C(t)?F(i.length):{},l={},c=!1;i.forEach(function(e){var t=function(t,n){c||(n||q(t)?(s.cancel(),s(t,n)):(s.cancel(),c=!0,o[e]=t,s(o)))};t.cancel=I,l[e]=t}),s.cancel=function(){c||(c=!0,i.forEach(function(e){return l[e].cancel()}))},i.forEach(function(e){c||a(t[e],r,l[e],e)})},Pe[K]=function(e,t,s,n){var a=t.context,r=t.fn,i=t.args,o=n.task;try{var l=r.apply(a,i);if(E(l))return void Me(l,s);if(T(l))return void qe(e,l,o.context,Ae,W(r),!1,s);s(l)}catch(e){s(e,!0)}},Pe.CPS=function(e,t,s){var n=t.context,a=t.fn,r=t.args;try{var i=function(e,t){x(e)?s(t):s(e,!0)};a.apply(n,r.concat(i)),i.cancel&&(s.cancel=i.cancel)}catch(e){s(e,!0)}},Pe[J]=function(e,t,s,n){var a=t.context,r=t.fn,i=t.args,o=t.detached,l=n.task,c=function(e){var t=e.context,s=e.fn,n=e.args;try{var a=s.apply(t,n);if(T(a))return a;var r=!1;return B(function(e){return r?{value:e,done:!0}:(r=!0,{value:a,done:!E(a)})})}catch(e){return B(function(){throw e})}}({context:a,fn:r,args:i}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:W(t)}(c,r);ge(function(){var t=qe(e,c,l.context,Ae,d,o,void 0);o?s(t):t.isRunning()?(l.queue.addTask(t),s(t)):t.isAborted()?l.queue.abort(t.error()):s(t)})},Pe.JOIN=function(e,t,s,n){var a=n.task,r=function(e,t){if(e.isRunning()){var s={task:a,cb:t};t.cancel=function(){e.isRunning()&&z(e.joiners,s)},e.joiners.push(s)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(C(t)){if(0===t.length)return void s([]);var i=U(t,s);t.forEach(function(e,t){r(e,i[t])})}else r(t,s)},Pe[ee]=function(e,t,s,n){var a=n.task;t===m?Ie(a):C(t)?t.forEach(Ie):Ie(t),s()},Pe.SELECT=function(e,t,s){var n=t.selector,a=t.args;try{s(n.apply(void 0,[e.getState()].concat(a)))}catch(e){s(e,!0)}},Pe.ACTION_CHANNEL=function(e,t,s){var n=t.pattern,a=function(e){void 0===e&&(e=Z());var t=!1,s=[];return{take:function(n){t&&e.isEmpty()?n(Ee):e.isEmpty()?(s.push(n),n.cancel=function(){z(s,n)}):n(e.take())},put:function(n){if(!t){if(0===s.length)return e.put(n);s.shift()(n)}},flush:function(s){t&&e.isEmpty()?s(Ee):s(e.flush())},close:function(){if(!t){t=!0;var e=s;s=[];for(var n=0,a=e.length;n<a;n++)(0,e[n])(Ee)}}}}(t.buffer),r=Ce(n),i=function(t){Te(t)||e.channel.take(i,r),a.put(t)},o=a.close;a.close=function(){i.cancel(),o()},e.channel.take(i,r),s(a)},Pe.CANCELLED=function(e,t,s,n){s(n.task.isCancelled())},Pe.FLUSH=function(e,t,s){t.flush(s)},Pe.GET_CONTEXT=function(e,t,s,n){s(n.task.context[t])},Pe.SET_CONTEXT=function(e,t,s,n){var a=n.task;N(a.context,t),s()},Pe);function Ne(e,t){return e+"?"+t}function ze(e){var t=e.name,s=e.location;return s?t+"  "+Ne(s.fileName,s.lineNumber):t}function De(e){var t,s,n,a=(t=function(e){return e.cancelledTasks},s=e,(n=[]).concat.apply(n,s.map(t)));return a.length?["Tasks cancelled due to error:"].concat(a).join("\n"):""}var $e=null,Be=[],Re=function(e){e.crashedEffect=$e,Be.push(e)},Fe=function(){$e=null,Be.length=0},He=function(e){$e=e},Ve=function(){var e,t,s=Be[0],n=Be.slice(1),a=s.crashedEffect?(e=s.crashedEffect,(t=Y(e))?t.code+"  "+Ne(t.fileName,t.lineNumber):""):null;return["The above error occurred in task "+ze(s.meta)+(a?" \n when executing effect "+a:"")].concat(n.map(function(e){return"    created by "+ze(e.meta)}),[De(Be)]).join("\n")};function Ge(e,t,s,n,a,r,i){var o;void 0===i&&(i=I);var l,c,d=0,u=null,p=[],h=Object.create(s),f=function(e,t,s){var n,a=[],r=!1;function i(e){p.push.apply(p,f.getTasks().map(function(e){return e.meta.name})),l(),s(e,!0)}function o(t){a.push(t),t.cont=function(o,l){r||(z(a,t),t.cont=I,l?i(o):(t===e&&(n=o),a.length||(r=!0,s(n))))}}function l(){r||(r=!0,a.forEach(function(e){e.cont=I,e.cancel()}),a=[])}return o(e),{addTask:o,cancelAll:l,abort:i,getTasks:function(){return a}}}(t,0,m);function m(t,s){if(s){if(d=2,Re({meta:a,cancelledTasks:p}),b.isRoot){var n=Ve();Fe(),e.onError(t,{sagaStack:n})}c=t,u&&u.reject(t)}else t===v?d=1:1!==d&&(d=3),l=t,u&&u.resolve(t);b.cont(t,s),b.joiners.forEach(function(e){e.cb(t,s)}),b.joiners=null}var b=((o={})[g]=!0,o.id=n,o.meta=a,o.isRoot=r,o.context=h,o.joiners=[],o.queue=f,o.cancel=function(){0===d&&(d=1,f.cancelAll(),m(v,!1))},o.cont=i,o.end=m,o.setContext=function(e){N(h,e)},o.toPromise=function(){return u||((e={}).promise=new Promise(function(t,s){e.resolve=t,e.reject=s}),u=e,2===d?u.reject(c):0!==d&&u.resolve(l)),u.promise;var e},o.isRunning=function(){return 0===d},o.isCancelled=function(){return 1===d||0===d&&1===t.status},o.isAborted=function(){return 2===d},o.result=function(){return l},o.error=function(){return c},o);return b}function qe(e,t,s,n,a,r,i){var o=e.finalizeRunEffect(function(t,s,n){E(t)?Me(t,n):T(t)?qe(e,t,c.context,s,a,!1,n):t&&t[u]?(0,Oe[t.type])(e,t.payload,n,d):n(t)});p.cancel=I;var l={meta:a,cancel:function(){0===l.status&&(l.status=1,p(v))},status:0},c=Ge(e,l,s,n,a,r,i),d={task:c,digestEffect:h};return i&&(i.cancel=c.cancel),p(),c;function p(e,s){try{var a;s?(a=t.throw(e),Fe()):G(e)?(l.status=1,p.cancel(),a=k(t.return)?t.return(v):{done:!0,value:v}):a=V(e)?k(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==l.status&&(l.status=3),l.cont(a.value)):h(a.value,n,p)}catch(e){if(1===l.status)throw e;l.status=2,l.cont(e,!0)}}function h(t,s,n,a){void 0===a&&(a="");var r,i=Le();function l(s,a){r||(r=!0,n.cancel=I,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(i,s):e.sagaMonitor.effectResolved(i,s)),a&&He(t),n(s,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:s,label:a,effect:t}),l.cancel=I,n.cancel=function(){r||(r=!0,l.cancel(),l.cancel=I,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},o(t,i,l)}}function Ue(e,t){for(var s=e.channel,n=void 0===s?je():s,a=e.dispatch,r=e.getState,i=e.context,o=void 0===i?{}:i,l=e.sagaMonitor,c=e.effectMiddlewares,d=e.onError,u=void 0===d?R:d,p=arguments.length,h=new Array(p>2?p-2:0),f=2;f<p;f++)h[f-2]=arguments[f];var m,g=t.apply(void 0,h),v=Le();if(l&&(l.rootSagaStarted=l.rootSagaStarted||I,l.effectTriggered=l.effectTriggered||I,l.effectResolved=l.effectResolved||I,l.effectRejected=l.effectRejected||I,l.effectCancelled=l.effectCancelled||I,l.actionDispatched=l.actionDispatched||I,l.rootSagaStarted({effectId:v,saga:t,args:h})),c){var b=X.apply(void 0,c);m=function(e){return function(t,s,n){return b(function(t){return e(t,s,n)})(t)}}}else m=O;var w={channel:n,dispatch:H(a),getState:r,sagaMonitor:l,onError:u,finalizeRunEffect:m};return ge(function(){var e=qe(w,g,o,v,W(t),!0,void 0);return l&&l.effectResolved(v,e),e})}var We=["context","channel","sagaMonitor"],Ye=s(8468),Xe=s(7143),Ze=s(1455),Qe=s.n(Ze),Ke=s(3832),Je=s(1126),et=s(2859);const{UU:tt}=Je,st=`newspack-blocks/${tt}`,nt={postsByBlock:{},errorsByBlock:{}},at={reflow:()=>{ot.dispatch({type:"REFLOW"})}},rt={getPosts:({clientId:e})=>ot.getState().postsByBlock[e],getError:({clientId:e})=>ot.getState().errorsByBlock[e],isUIDisabled:()=>ot.getState().isUIDisabled},it=function(){var e,t={},s=t.context,n=void 0===s?{}:s,a=t.channel,r=void 0===a?je():a,i=t.sagaMonitor,l=(0,ue.A)(t,We);function c(t){var s=t.getState,a=t.dispatch;return e=Ue.bind(null,(0,o.A)({},l,{context:n,channel:r,dispatch:a,getState:s,sagaMonitor:i})),function(e){return function(t){i&&i.actionDispatched&&i.actionDispatched(t);var s=e(t);return r.put(t),s}}}return c.run=function(){return e.apply(void 0,arguments)},c.setContext=function(e){N(n,e)},c}(),ot=function e(t,s,r){if("function"!=typeof t)throw new Error(n(2));if("function"==typeof s&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(n(0));if("function"==typeof s&&void 0===r&&(r=s,s=void 0),void 0!==r){if("function"!=typeof r)throw new Error(n(1));return r(e)(t,s)}let o=t,l=s,c=new Map,d=c,u=0,p=!1;function h(){d===c&&(d=new Map,c.forEach((e,t)=>{d.set(t,e)}))}function f(){if(p)throw new Error(n(3));return l}function m(e){if("function"!=typeof e)throw new Error(n(4));if(p)throw new Error(n(5));let t=!0;h();const s=u++;return d.set(s,e),function(){if(t){if(p)throw new Error(n(6));t=!1,h(),d.delete(s),c=null}}}function g(e){if(!function(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}(e))throw new Error(n(7));if(void 0===e.type)throw new Error(n(8));if("string"!=typeof e.type)throw new Error(n(17));if(p)throw new Error(n(9));try{p=!0,l=o(l,e)}finally{p=!1}return(c=d).forEach(e=>{e()}),e}return g({type:i.INIT}),{dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error(n(10));o=e,g({type:i.REPLACE})},[a]:function(){const e=m;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(n(11));function s(){const e=t;e.next&&e.next(f())}return s(),{unsubscribe:e(s)}},[a](){return this}}}}}((e=nt,t)=>{switch(t.type){case"DISABLE_UI":return(0,Ye.set)(e,"isUIDisabled",!0);case"ENABLE_UI":return(0,Ye.set)(e,"isUIDisabled",!1);case"UPDATE_BLOCK_POSTS":return(0,Ye.set)(e,["postsByBlock",t.clientId],t.posts);case"UPDATE_BLOCK_ERROR":return(0,Ye.set)(e,["errorsByBlock",t.clientId],t.error)}return e},function(...e){return t=>(s,a)=>{const r=t(s,a);let i=()=>{throw new Error(n(15))};const o={getState:r.getState,dispatch:(e,...t)=>i(e,...t)},l=e.map(e=>e(o));return i=function(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...s)=>e(t(...s)))}(...l)(r.dispatch),{...r,dispatch:i}}}(it)),lt={getSelectors:()=>rt,getActions:()=>at,...ot},ct={},dt=JSON.stringify;function*ut(e){const t=dt(e.postsQuery),s=window.newspack_blocks_data.posts_rest_url;let n=ct[t];if(void 0===n){const a=(0,Ke.addQueryArgs)(s,{...e.postsQuery,context:"edit"});n=yield re(Qe(),{url:a}),ct[t]=n}const a=n.map(e=>e.id);return yield ne({type:"UPDATE_BLOCK_POSTS",clientId:e.clientId,posts:n}),a}function pt(e){const{getBlock:t}=(0,Xe.select)("core/block-editor"),s=t(e);return s?.attributes?.deduplicate}const ht=e=>{(0,Xe.register)({name:st,instantiate:()=>lt}),it.run((e=>{function*t(){yield oe(300);const{getBlocks:t}=(0,Xe.select)("core/block-editor"),{getCurrentPostId:s}=(0,Xe.select)("core/editor");yield ne({type:"DISABLE_UI"});const n=(0,et.u$)(t),a=(0,et.yG)(n,e),r=a.reduce((e,{clientId:t,postsQuery:s})=>(pt(t)&&s.include&&(e=[...e,...s.include]),e),[]);let i=(0,et.kN)([...r,s()]);for(;a.length;){const e=a.shift(),t=pt(e.clientId);t&&(e.postsQuery.exclude=i);let s=[];try{s=yield re(ut,e)}catch(t){yield ne({type:"UPDATE_BLOCK_ERROR",clientId:e.clientId,error:t.message})}t&&(i=[...i,...s])}yield ne({type:"ENABLE_UI"})}return function*(){yield function(e,t){for(var s=arguments.length,n=new Array(s>2?s-2:0),a=2;a<s;a++)n[a-2]=arguments[a];return ie.apply(void 0,[de,e,t].concat(n))}("REFLOW",t)}})(e))}},8984:(e,t,s)=>{var n=s(5527),a=s(3650),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return a(e);var t=[];for(var s in Object(e))r.call(e,s)&&"constructor"!=s&&t.push(s);return t}},9068:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(790),a=s(5573),r=(0,n.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)(a.Path,{d:"M10 4.5a1 1 0 11-2 0 1 1 0 012 0zm1.5 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm2.25 7.5v-1A2.75 2.75 0 0011 8.25H7A2.75 2.75 0 004.25 11v1h1.5v-1c0-.69.56-1.25 1.25-1.25h4c.69 0 1.25.56 1.25 1.25v1h1.5zM4 20h9v-1.5H4V20zm16-4H4v-1.5h16V16z",fillRule:"evenodd",clipRule:"evenodd"})})},9219:e=>{e.exports=function(e,t){return e.has(t)}},9302:(e,t,s)=>{var n=s(3488),a=s(6757),r=s(2865);e.exports=function(e,t){return r(a(e,t,n),e+"")}},9325:(e,t,s)=>{var n=s(4840),a="object"==typeof self&&self&&self.Object===Object&&self,r=n||a||Function("return this")();e.exports=r},9326:(e,t,s)=>{var n=s(1769),a=s(2428),r=s(6449),i=s(361),o=s(294),l=s(7797);e.exports=function(e,t,s){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var p=l(t[c]);if(!(u=null!=e&&s(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&o(d)&&i(p,d)&&(r(e)||a(e))}},9344:(e,t,s)=>{var n=s(3805),a=Object.create,r=function(){function e(){}return function(t){if(!n(t))return{};if(a)return a(t);e.prototype=t;var s=new e;return e.prototype=void 0,s}}();e.exports=r},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:(e,t,s)=>{var n=s(4128),a=s(3805),r=s(4394),i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var s=o.test(e);return s||l.test(e)?c(e.slice(2),s?2:8):i.test(e)?NaN:+e}},9491:e=>{"use strict";e.exports=window.wp.compose},9570:(e,t,s)=>{var n=s(7334),a=s(3243),r=s(3488),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:r;e.exports=i},9653:(e,t,s)=>{var n=s(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},9770:e=>{e.exports=function(e,t){for(var s=-1,n=null==e?0:e.length,a=0,r=[];++s<n;){var i=e[s];t(i,s,e)&&(r[a++]=i)}return r}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9884:(e,t,s)=>{var n=s(1791),a=s(7241);e.exports=function(e){return n(e,a(e))}},9935:e=>{e.exports=function(){return!1}},9936:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s(790),a=s(5573),r=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{d:"m3 5c0-1.10457.89543-2 2-2h13.5c1.1046 0 2 .89543 2 2v13.5c0 1.1046-.8954 2-2 2h-13.5c-1.10457 0-2-.8954-2-2zm2-.5h6v6.5h-6.5v-6c0-.27614.22386-.5.5-.5zm-.5 8v6c0 .2761.22386.5.5.5h6v-6.5zm8 0v6.5h6c.2761 0 .5-.2239.5-.5v-6zm0-8v6.5h6.5v-6c0-.27614-.2239-.5-.5-.5z",fillRule:"evenodd",clipRule:"evenodd"})})}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n](r,r.exports,s),r.loaded=!0,r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=s(4997),t=s(4727),n=s(6427),a=s(6942),r=s.n(a),i=s(790);const o=({size:e=24,className:s})=>(0,i.jsxs)(n.SVG,{className:r()("newspack-logo",s),width:e,height:e,viewBox:"0 0 24 24",children:[(0,i.jsx)(n.Path,{fill:t.A["primary-600"],d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z"}),(0,i.jsx)(n.Path,{fill:t.A["neutral-000"],d:"M16.546 13.97v-1.364h-1.364l1.364 1.364ZM13.97 11.394h2.575V10.03h-3.939l1.364 1.364ZM11.394 8.818h5.152V7.455H10.03l1.364 1.363ZM7.455 7.455l9.09 9.09H13.97l-4.697-4.697v4.697H7.455v-9.09Z"})]});(0,e.setCategories)([...(0,e.getCategories)().filter(({slug:e})=>"newspack"!==e),{slug:"newspack",title:"Newspack",icon:(0,i.jsx)(o,{})}]),(0,e.registerBlockStyle)("core/columns",{name:"borders",label:"Borders"}),(0,e.registerBlockStyle)("core/columns",{name:"first-col-to-second",label:"Move first column to second"}),(0,e.registerBlockStyle)("core/columns",{name:"first-col-to-third",label:"Move first column to third"}),(0,s(2619).addFilter)("blocks.registerBlockType","newspack-blocks",(e,t)=>{if("core/group"===t){const{supports:t}=e,{align:s}=t;-1===s.indexOf("left")&&s.push("left"),-1===s.indexOf("right")&&s.push("right")}return e}),(0,e.registerBlockStyle)("core/group",{name:"border",label:"Border"});const l=window.wp.domReady,c=["jetpack/donations","jetpack/subscriptions"];s.n(l)()(function(){c.forEach(function(t){(0,e.getBlockType)(t)&&(0,e.unregisterBlockType)(t)})})})(),(()=>{"use strict";var e=s(4997),t=s(4727),n=s(7723),a=s(790),r=s(5573),i=(0,a.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(r.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})}),o=s(1455),l=s.n(o),c=s(4715),d=s(6427),u=s(6087),p=s(8537),h=(0,a.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 7.5h-5v10h5v-10Zm1.5 0v10H19a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5h-2.5ZM6 7.5h2.5v10H6a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5ZM6 6h13a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z"})}),f=s(1417),m=s(3216),g=s(2017),v=s(3832),b=s(3019),w=s(2122),y=s(5858),x=s(6961),_=s(6942),k=s.n(_);const S=JSON.parse('{"UU":"author-list","L1":"newspack","uK":{"className":{"type":"string","default":""},"columns":{"type":"number","default":2},"exclude":{"type":"array","default":[]},"excludeEmpty":{"type":"boolean","default":false},"layout":{"type":"string","default":"list"},"textSize":{"type":"string","default":"medium"},"authorRoles":{"type":"array","default":["administrator","editor","author","contributor"]},"authorType":{"type":"string","default":"all"},"showBio":{"type":"boolean","default":true},"showSocial":{"type":"boolean","default":true},"showEmail":{"type":"boolean","default":true},"showArchiveLink":{"type":"boolean","default":true},"showSeparators":{"type":"boolean","default":false},"separatorSections":{"type":"boolean","default":false},"showAvatar":{"type":"boolean","default":true},"avatarAlignment":{"type":"string","default":"left"},"avatarBorderRadius":{"type":"string","default":"50%"},"avatarSize":{"type":"number","default":128},"avatarHideDefault":{"type":"boolean","default":false}}}'),{UU:C,uK:E,L1:T}=S,j=(0,n.__)("Author List","newspack-blocks");(window.newspack_blocks_data?.author_custom_fields||[]).forEach(e=>{E[`show${e.name}`]={type:"boolean",default:!0}});const M={title:j,icon:{src:i,foreground:t.A["primary-400"]},keywords:[(0,n.__)("author","newspack-blocks"),(0,n.__)("profile","newspack-blocks")],description:(0,n.__)("Display a list of author profile cards.","newspack-blocks"),styles:[{name:"default",label:(0,n._x)("Default","block style","newspack-blocks"),isDefault:!0},{name:"center",label:(0,n._x)("Centered","block style","newspack-blocks")}],attributes:E,category:T,supports:{html:!1,default:""},edit:({attributes:e,clientId:t,setAttributes:s})=>{const[r,o]=(0,u.useState)(null),[_,S]=(0,u.useState)(null),[C,E]=(0,u.useState)(!1),[T,j]=(0,u.useState)(0),M=Boolean(window.newspack_blocks_data?.can_use_cap),P=window.newspack_blocks_data?.editable_roles,A=[],{authorRoles:L,authorType:I,columns:O,exclude:N,excludeEmpty:z,layout:D,showAvatar:$,showSeparators:B,separatorSections:R,textSize:F,avatarAlignment:H,avatarBorderRadius:V,avatarSize:G,avatarHideDefault:q}=e,U="columns"===D;(0,u.useEffect)(()=>{W()},[L,I,q,N,z]);const W=async()=>{S(null),E(!0);try{const e={author_type:I,author_roles:L,exclude:N.map(e=>({value:e.value,isGuest:e.isGuest}))};z&&(e.exclude_empty=1),q&&(e.avatar_hide_default=1);const t=await l()({path:(0,v.addQueryArgs)("/newspack-blocks/v1/author-list",e)});if(!t)throw(0,n.__)("Error fetching authors.","newspack-blocks");o(t)}catch(e){S(e.message||e||(0,n.__)("Error fetching authors.","newspack-blocks"))}E(!1)},Y={};return Array.isArray(r)&&R&&r.forEach(e=>{const{last_name:t}=e,s=t.charAt(0).toUpperCase();Y.hasOwnProperty(s)||(Y[s]=[]),Y[s].push(e)}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(c.InspectorControls,{children:[(0,a.jsxs)(d.PanelBody,{title:(0,n.__)("Author List Settings","newspack-blocks"),children:[M&&(0,a.jsx)(d.PanelRow,{children:(0,a.jsx)(d.RadioControl,{label:(0,n.__)("Author Type","newspack-blocks"),help:(0,n.sprintf)(
// translators: %s: help text for author type selection.
// translators: %s: help text for author type selection.
(0,n.__)("%s will be displayed.","newspack-blocks"),"all"===I?(0,n.__)("Both guest authors and WP users","newspack-blocks"):(0,n.sprintf)(
// translators: %s: currently selected author type option.
// translators: %s: currently selected author type option.
(0,n.__)("%s only","newspack-blocks"),"guest-authors"===I?(0,n.__)("Guest authors","newspack-blocks"):(0,n.__)("WP users","newspack-blocks"))),selected:I||"all",options:[{label:(0,n.__)("All authors","newspack-blocks"),value:"all"},{label:(0,n.__)("Guest authors","newspack-blocks"),value:"guest-authors"},{label:(0,n.__)("WP users","newspack-blocks"),value:"users"}],onChange:e=>s({authorType:e})})}),U&&(0,a.jsx)(d.PanelRow,{children:(0,a.jsx)(d.RangeControl,{label:(0,n.__)("Columns","newspack-blocks"),value:O,onChange:e=>s({columns:e}),min:2,max:6,required:!0})}),"guest-authors"!==I&&(0,a.jsx)(d.PanelRow,{children:(0,a.jsx)(d.BaseControl,{id:"newspack-blocks__author-list-roles",label:(0,n.__)("WP User Roles","newspack-blocks"),children:P.map((e,t)=>(0,a.jsx)(d.CheckboxControl,{checked:-1<L.indexOf(e.slug),label:e.label,value:e.slug,onChange:t=>{const n=t?[...L,e.slug]:L.filter(t=>t!==e.slug);s({authorRoles:n})}},t))})}),(0,a.jsx)(d.PanelRow,{children:(0,a.jsx)(d.ToggleControl,{label:(0,n.__)("Display alphabetical separators","newspack-blocks"),help:(0,n.__)("Chunk authors alphabetically.","newspack-blocks"),checked:B,onChange:()=>s({showSeparators:!B})})}),U&&B&&(0,a.jsx)(d.PanelRow,{children:(0,a.jsx)(d.ToggleControl,{label:(0,n.__)("Group authors by alphabet","newspack-blocks"),help:(0,n.__)("Display each alphabetical chunk as a discrete section.","newspack-blocks"),checked:R,onChange:()=>s({separatorSections:!R})})})]}),(0,a.jsxs)(d.PanelBody,{title:(0,n.__)("Author List Exclusions","newspack-block"),children:[(0,a.jsx)(d.PanelRow,{children:(0,a.jsx)(d.ToggleControl,{label:(0,n.__)("Exclude authors with 0 posts","newspack-blocks"),help:(0,n.sprintf)(
// translators: %s: help message for "include empty authors" toggle.
// translators: %s: help message for "include empty authors" toggle.
(0,n.__)("Authors with no published posts will be %s.","newspack-blocks"),z?(0,n.__)("hidden","newspack-blocks"):(0,n.__)("displayed","newspack-blocks")),checked:z,onChange:()=>s({excludeEmpty:!z})})}),(0,a.jsx)(d.PanelRow,{children:(0,a.jsx)(x.IW,{label:(0,n.__)("Search by author name","newspack-blocks"),help:(0,n.__)("Authors selected here will not be displayed.","newspack-blocks"),fetchSuggestions:async(e=null,t=0)=>{const s=await l()({parse:!1,path:(0,v.addQueryArgs)("/newspack-blocks/v1/authors",{search:e,offset:t,fields:"id,name"})}),a=parseInt(s.headers.get("x-wp-total")||0),r=await s.json();return T||e||j(a),r.map(e=>({value:e.id,label:(0,p.decodeEntities)(e.name)||(0,n.__)("(no name)","newspack-blocks"),isGuest:e.is_guest}))},maxItemsToSuggest:T,multiSelect:!0,onChange:e=>s({exclude:e}),postTypeLabel:(0,n.__)("author","newspack-blocks"),postTypeLabelPlural:(0,n.__)("authors","newspack-blocks"),selectedItems:N,__next40pxDefaultSize:!0})})]}),(0,a.jsxs)(d.PanelBody,{title:(0,n.__)("Author Profile Settings","newspack-blocks"),children:[(0,a.jsx)(d.__experimentalToggleGroupControl,{label:(0,n.__)("Text Size","newspack-blocks"),value:F,onChange:e=>s({textSize:e}),isBlock:!0,__next40pxDefaultSize:!0,children:b.$A.map(e=>(0,a.jsx)(d.__experimentalToggleGroupControlOption,{label:e.shortName,value:e.value},e.value))}),(0,a.jsx)(y.P,{attributes:e,setAttributes:s})]}),(0,a.jsxs)(d.PanelBody,{title:(0,n.__)("Avatar","newspack-blocks"),children:[(0,a.jsx)(d.ToggleControl,{label:(0,n.__)("Display avatar","newspack-blocks"),checked:$,onChange:()=>s({showAvatar:!$})}),$&&(0,a.jsx)(d.ToggleControl,{label:(0,n.__)("Hide default avatar","newspack-blocks"),checked:q,onChange:()=>s({avatarHideDefault:!q})}),$&&(0,a.jsx)(d.__experimentalToggleGroupControl,{label:(0,n.__)("Size","newspack-blocks"),"aria-label":(0,n.__)("Avatar size","newspack-blocks"),value:G,onChange:e=>s({avatarSize:e}),isBlock:!0,__next40pxDefaultSize:!0,children:b.dM.map(e=>(0,a.jsx)(d.__experimentalToggleGroupControlOption,{label:e.shortName,value:e.value},e.value))}),$&&(0,a.jsx)(d.__experimentalUnitControl,{label:(0,n.__)("Border radius","newspack-blocks"),"aria-label":(0,n.__)("Avatar border radius","newspack-blocks"),labelPosition:"edge",units:b.MD,value:V,onChange:e=>s({avatarBorderRadius:0>parseFloat(e)?"0":e}),__next40pxDefaultSize:!0,__unstableInputWidth:"80px"})]})]}),r&&!C&&(0,a.jsxs)(c.BlockControls,{children:[(0,a.jsx)(d.Toolbar,{controls:[{icon:i,title:(0,n.__)("List","newspack-blocks"),isActive:"list"===D,onClick:()=>{s({layout:"list"})}},{icon:h,title:(0,n.__)("Columns","newspack-blocks"),isActive:U,onClick:()=>{s({layout:"columns"})}}]}),$&&"is-style-center"!==e.className&&(0,a.jsx)(d.Toolbar,{controls:[{icon:f.A,title:(0,n.__)("Show avatar on left","newspack-blocks"),isActive:"left"===H,onClick:()=>s({avatarAlignment:"left"})},{icon:m.A,title:(0,n.__)("Show avatar on right","newspack-blocks"),isActive:"right"===H,onClick:()=>s({avatarAlignment:"right"})}]}),(0,a.jsx)(d.Toolbar,{controls:[{icon:g.A,title:(0,n.__)("Edit selection","newspack-blocks"),onClick:()=>{s({authorId:0})}}]})]}),(0,a.jsxs)("div",{className:k()(e.className,"wp-block-newspack-blocks-author-list"),children:[!C&&!_&&r&&Array.isArray(r)&&(0,a.jsx)(a.Fragment,{children:U&&B&&R?Object.keys(Y).map((s,n)=>(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)("h2",{className:"newspack-blocks__author-list-separator",id:`newspack-blocks__author-list-separator__${t}__${s}`,children:s}),(0,a.jsx)("ul",{className:k()("newspack-blocks__author-list-container",{"is-columns":U,[`columns-${O}`]:U}),children:Y[s].map((t,s)=>(0,a.jsx)("li",{className:"newspack-blocks__author-list-item",children:(0,a.jsx)(w.S,{author:t,attributes:e})},s))})]},n)):(0,a.jsx)("ul",{className:k()("newspack-blocks__author-list-container",{"is-columns":U,[`columns-${O}`]:U}),children:r.map((s,n)=>{const{last_name:r}=s,i=r.charAt(0).toUpperCase(),o=0>A.indexOf(i);return o&&A.push(i),(0,a.jsxs)(u.Fragment,{children:[B&&o&&(0,a.jsx)("li",{className:"newspack-blocks__author-list-item",children:(0,a.jsx)("h2",{className:"newspack-blocks__author-list-separator",id:`newspack-blocks__author-list-separator__${t}__${i}`,children:i})}),(0,a.jsx)("li",{className:"newspack-blocks__author-list-item",children:(0,a.jsx)(w.S,{author:s,attributes:e})})]},n)})})}),(!r||C)&&(0,a.jsxs)(d.Placeholder,{icon:i,label:(0,n.__)("Author List","newspack-blocks"),children:[_&&(0,a.jsx)(d.Notice,{status:"error",isDismissible:!1,children:_}),C&&(0,a.jsxs)("div",{className:"is-loading",children:[(0,n.__)("Fetching authors…","newspack-blocks"),(0,a.jsx)(d.Spinner,{})]})]})]})]})},save:()=>null};(0,e.registerBlockType)(`newspack-blocks/${C}`,M)})(),(()=>{"use strict";var e=s(4997),t=s(4727),n=s(7723),a=s(9068),r=s(3019);const i=JSON.parse('{"UU":"author-profile","L1":"newspack","uK":{"className":{"type":"string","default":""},"authorId":{"type":"number","default":0},"isGuestAuthor":{"type":"boolean","default":true},"showBio":{"type":"boolean","default":true},"showSocial":{"type":"boolean","default":true},"showEmail":{"type":"boolean","default":true},"showArchiveLink":{"type":"boolean","default":true},"textSize":{"type":"string","default":"medium"},"showAvatar":{"type":"boolean","default":true},"avatarAlignment":{"type":"string","default":"left"},"avatarBorderRadius":{"type":"string","default":"50%"},"avatarSize":{"type":"number","default":128},"avatarHideDefault":{"type":"boolean","default":false}}}'),{UU:o,uK:l,L1:c}=i,d=(0,n.__)("Author Profile","newspack-blocks");(window.newspack_blocks_data?.author_custom_fields||[]).forEach(e=>{l[`show${e.name}`]={type:"boolean",default:!0}});const u={title:d,icon:{src:a.A,foreground:t.A["primary-400"]},keywords:[(0,n.__)("author","newspack-blocks"),(0,n.__)("profile","newspack-blocks")],description:(0,n.__)("Display an author profile card.","newspack-blocks"),styles:[{name:"default",label:(0,n._x)("Default","block style","newspack-blocks"),isDefault:!0},{name:"center",label:(0,n._x)("Centered","block style","newspack-blocks")}],attributes:l,category:c,supports:{html:!1,default:""},edit:r.Ay,save:()=>null};(0,e.registerBlockType)(`newspack-blocks/${o}`,u)})(),(()=>{"use strict";var e=s(4997),t=s(6428);(0,e.registerBlockType)(`newspack-blocks/${t.UU}`,t.W0)})(),(()=>{"use strict";var e=s(2619),t=s(4997),n=s(4727),a=s(790),r=s(5573),i=(0,a.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(r.Path,{d:"M8 12.5h8V11H8v1.5Z M19 6.5H5a2 2 0 0 0-2 2V15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2ZM5 8h14a.5.5 0 0 1 .5.5V15a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V8.5A.5.5 0 0 1 5 8Z"})}),o=s(6942),l=s.n(o),c=s(8468),d=s(7723),u=s(4715),p=s(6427),h=s(6087),f=s(1455),m=s.n(f),g=s(8614);function v(e){const t=[];for(const s of e.attributes)t.push(s.name+": "+s.option);return t.join(", ")}function b(e){return{isNYP:newspack_blocks_data?.can_use_name_your_price&&e?.meta_data?.some(e=>"_nyp"===e.key&&"yes"===e.value),suggestedPrice:e?.meta_data?.find(e=>"_suggested_price"===e.key)?.value,minPrice:e?.meta_data?.find(e=>"_min_price"===e.key)?.value,maxPrice:e?.meta_data?.find(e=>"_maximum_price"===e.key)?.value}}function w({selectedWidth:e,setAttributes:t}){return(0,a.jsx)(p.__experimentalToggleGroupControl,{label:(0,d.__)("Width","newspack-blocks"),value:e?String(e):void 0,onChange:s=>{return n=parseFloat(s),void t({width:e===n?void 0:n});var n},isBlock:!0,__next40pxDefaultSize:!0,children:[25,50,75,100].map(e=>(0,a.jsx)(p.__experimentalToggleGroupControlOption,{label:`${e}%`,value:String(e)},e))})}function y(e){const[t,s]=(0,h.useState)(!1),[n,r]=(0,h.useState)({}),[i,o]=(0,h.useState)(!1),[l,u]=(0,h.useState)(!1),[f,g]=(0,h.useState)("");(0,h.useEffect)(()=>{u(!1),e.value?(s(!0),m()({path:`/wc/v2/products/${e.value}`}).then(t=>{r({[t.id]:`${t.id}: ${t.name}`}),o(t),g(""),e.onProduct(t)}).catch(()=>{g((0,d.sprintf)(
// translators: %s: product ID.
// translators: %s: product ID.
(0,d.__)("Could not find a product with ID %s. Please select a different product.","newspack-blocks"),e.value))}).finally(()=>s(!1))):o(!1)},[e.value]);const v=(0,c.debounce)(function(e){return s(!0),m()({path:`/wc/v2/products?search=${encodeURIComponent('"'+e+'"')}`}).then(e=>{const t={};e.forEach(e=>{(""!==e.price||b(e).isNYP)&&(t[e.id]=`${e.id}: ${e.name}`)}),r(t)}).finally(()=>s(!1))},200);return e.value&&!f&&!i&&t?(0,a.jsx)(p.Spinner,{}):(0,a.jsxs)("div",{className:"newspack-checkout-button__product-field",style:{marginBottom:"16px"},children:[i&&!l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.BaseControl,{label:(0,d.__)("Product","newspack-blocks"),id:"selected-product-control",children:[(0,a.jsx)(p.TextControl,{value:i.name,__next40pxDefaultSize:!0,disabled:!0}),(0,a.jsx)(p.Button,{variant:"link",onClick:()=>u(!0),"aria-label":(0,d.__)("Change the selected product","newspack-blocks"),children:(0,d.__)("Edit","newspack-blocks")})]}),e.children]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"newspack-checkout-button__product-field__tokenfield",children:[(0,a.jsx)(p.FormTokenField,{placeholder:e.placeholder||(0,d.__)("Type to search for a product…","newspack-blocks"),label:(0,d.__)("Product","newspack-blocks"),maxLength:1,onChange:function(t){const s=t[0],a=(0,c.invert)(n)[s];u(!1),e.onChange(a)},onInputChange:e=>{e.length>2?(s(!0),v(e)):s(!1)},suggestions:Object.values(n),__next40pxDefaultSize:!0}),t&&(0,a.jsx)(p.Spinner,{})]}),i&&(0,a.jsx)(p.Button,{variant:"link",onClick:()=>u(!1),children:(0,d.__)("Cancel","newspack-blocks")})]}),f&&(0,a.jsx)("p",{className:"newspack-checkout-button__product-field__error",children:f})]})}const x=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"newspack-blocks/checkout-button","title":"Checkout Button","category":"newspack","description":"Modal checkout button for WooCommerce products.","keywords":["woocommerce","product","checkout","button"],"textdomain":"newspack-blocks","attributes":{"product":{"type":"string"},"variation":{"type":"string"},"is_variable":{"type":"boolean","default":false},"price":{"type":"string"},"text":{"type":"string"},"placeholder":{"type":"string"},"backgroundColor":{"type":"string"},"textColor":{"type":"string"},"gradient":{"type":"string"},"afterSuccessBehavior":{"type":"string"},"afterSuccessButtonLabel":{"type":"string","default":"Continue"},"afterSuccessURL":{"type":"string"},"width":{"type":"number"}},"supports":{"anchor":true,"align":["center","wide"],"color":{"__experimentalSkipSerialization":true,"gradients":true,"__experimentalDefaultControls":{"background":true,"text":true}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true,"__experimentalFontStyle":true,"__experimentalTextTransform":true,"__experimentalTextDecoration":true,"__experimentalLetterSpacing":true,"__experimentalDefaultControls":{"fontSize":true}},"shadow":true,"spacing":{"__experimentalSkipSerialization":true,"padding":["horizontal","vertical"],"__experimentalDefaultControls":{"padding":true}},"__experimentalBorder":{"radius":true,"__experimentalSkipSerialization":true,"__experimentalDefaultControls":{"radius":true}}},"styles":[{"name":"fill","label":"Fill","isDefault":true},{"name":"outline","label":"Outline"}],"editorStyle":"newspack-checkout-button-editor","style":"newspack-checkout-block-button"}'),_=[{...x,attributes:{...x.attributes,afterSuccessButtonLabel:{type:"string",default:"Continue browsing"}},save({attributes:e,className:t}){const{textAlign:s,fontSize:n,style:r,text:i,product:o,price:c,variation:d,is_variable:p,width:h}=e;if(!i||!o)return null;const f=(0,u.__experimentalGetBorderClassesAndStyles)(e),m=(0,u.__experimentalGetColorClassesAndStyles)(e),g=(0,u.__experimentalGetSpacingClassesAndStyles)(e),v=l()("wp-block-button__link",m.className,f.className,{[`has-text-align-${s}`]:s,"no-border-radius":0===r?.border?.radius}),b={...f.style,...m.style,...g.style},w=l()(t,"wp-block-button",{"has-custom-font-size":n||r?.typography?.fontSize,[`has-custom-width wp-block-button__width-${h}`]:h});return(0,a.jsx)("div",{...u.useBlockProps.save({className:w}),children:(0,a.jsxs)("form",{children:[(0,a.jsx)(u.RichText.Content,{tagName:"button",className:v,style:b,value:i}),(0,a.jsx)("input",{type:"hidden",name:"product_id",value:o}),(0,a.jsx)("input",{type:"hidden",name:"newspack_checkout",value:"1"}),c&&(0,a.jsx)("input",{type:"hidden",name:"price",value:c}),d&&(0,a.jsx)("input",{type:"hidden",name:"variation_id",value:d}),p&&(0,a.jsx)("input",{type:"hidden",name:"is_variable",value:"1"}),e.afterSuccessBehavior&&(0,a.jsx)("input",{type:"hidden",name:"after_success_behavior",value:e.afterSuccessBehavior}),e.afterSuccessButtonLabel&&(0,a.jsx)("input",{type:"hidden",name:"after_success_button_label",value:e.afterSuccessButtonLabel}),e.afterSuccessBehavior&&(0,a.jsx)("input",{type:"hidden",name:"after_success_url",value:e.afterSuccessURL||""})]})})}}],{name:k}=x,S={...x,icon:{src:i,foreground:n.A["primary-400"]},edit:function(e){const{attributes:t,setAttributes:s,className:n}=e,{placeholder:r,style:i,text:o,product:c,price:f,variation:x,width:_}=t,[k,S]=(0,h.useState)({}),[C,E]=(0,h.useState)([]),[T,j]=(0,h.useState)(!1);(0,h.useEffect)(()=>{x?m()({path:`/wc/v2/products/${c}/variations/${x}`}).then(e=>j(b(e))).catch(()=>j({})):j(b(k))},[x]),(0,h.useEffect)(()=>{!f&&T?.suggestedPrice&&s({price:T.suggestedPrice})},[T]);const M=(0,u.__experimentalUseBorderProps)(t),P=(0,u.__experimentalUseColorProps)(t),A=(0,u.__experimentalGetSpacingClassesAndStyles)(t),L=(0,u.useBlockProps)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{...L,className:l()(L.className,{"wp-block-button":!0,"has-custom-font-size":L.style.fontSize,[`has-custom-width wp-block-button__width-${_}`]:_}),children:(0,a.jsx)(u.RichText,{"aria-label":(0,d.__)("Button text"),placeholder:r||(0,d.__)("Add text…"),value:o,onChange:e=>{s({text:e.replace(/<\/?a[^>]*>/g,"")})},withoutInteractiveFormatting:!0,className:l()(n,"wp-block-button__link","wp-block-newspack-blocks-checkout-button__button",P.className,M.className,{"no-border-radius":0===i?.border?.radius}),style:{...M.style,...P.style,...A.style},identifier:"text"})}),(0,a.jsxs)(u.InspectorControls,{children:[(0,a.jsxs)(p.PanelBody,{title:(0,d.__)("Settings","newspack-blocks"),children:[(0,a.jsx)(y,{value:c,price:f,onChange:e=>s({product:e,variation:"",price:""}),onProduct:function(e){S(e),e?.variations?.length?(s({is_variable:!0}),m()({path:`/wc/v2/products/${e.id}/variations?per_page=100`}).then(e=>{const t=[];e.forEach(e=>{(""!==e.price||b(e).isNYP)&&t.push(e)}),E(t)}).catch(()=>E([]))):(s({is_variable:!1}),E([])),x||j(b(e))},children:k?.variations?.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.CheckboxControl,{label:(0,d.__)("Allow the reader to select the variation before checkout.","newspack-blocks"),checked:!x,onChange:e=>s({variation:e?"":C[0].id.toString(),price:""})}),C.length?(0,a.jsx)(p.SelectControl,{label:(0,d.__)("Variation","newspack-blocks"),help:(0,d.__)("Select the product variation to be added to cart.","newspack-blocks"),value:x,disabled:!x,options:[{label:"--",value:""},...C.map(e=>({label:v(e),value:e.id}))],onChange:e=>s({variation:e.toString(),price:""})}):(0,a.jsx)(p.Spinner,{})]})}),(0,a.jsx)(w,{selectedWidth:_,setAttributes:s})]}),(0,a.jsx)(p.PanelBody,{title:(0,d.__)("After purchase","newspack-blocks"),children:(0,a.jsx)(g.A,{setAttributes:s,attributes:t})}),T?.isNYP&&(0,a.jsxs)(p.PanelBody,{title:(0,d.__)("Name Your Price","newspack-blocks"),children:[(0,a.jsx)("p",{children:(0,d.__)('This product has "Name Your Price" toggled on. You can set the custom price for this checkout.',"newspack-blocks")}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:(0,d.__)("Suggested price:","newspack-blocks")})," ",T.suggestedPrice||0,T.minPrice&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:(0,d.__)("Minimum price:","newspack-blocks")})," ",T.minPrice]}),T.maxPrice&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:(0,d.__)("Maximum price:","newspack-blocks")})," ",T.maxPrice]})]}),(0,a.jsx)(p.TextControl,{type:"number",label:(0,d.__)("Custom Price","newspack-blocks"),placeholder:T.suggestedPrice,value:f,min:parseFloat(T.minPrice)||null,max:parseFloat(T.maxPrice)||null,onChange:e=>s({price:e}),__next40pxDefaultSize:!0})]})]})]})},deprecated:_,save:()=>null};(0,t.registerBlockType)(k,S),(0,e.addFilter)("blockEditor.useSetting.before","newspack-blocks/add-border-radius-support",(e,t,s,n)=>"border.radius"===t&&"newspack-blocks/checkout-button"===n||e)})(),(()=>{"use strict";var e=s(4997),t=s(4727),n=s(5573),a=s(790);const r=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M17.25 6.5C17.25 5.83696 16.9866 5.20107 16.5178 4.73223C16.0489 4.26339 15.413 4 14.75 4C14.087 4 13.4511 4.26339 12.9822 4.73223C12.5134 5.20107 12.25 5.83696 12.25 6.5C12.25 5.83696 11.9866 5.20107 11.5178 4.73223C11.0489 4.26339 10.413 4 9.75 4C9.08696 4 8.45107 4.26339 7.98223 4.73223C7.51339 5.20107 7.25 5.83696 7.25 6.5C7.25 7.16304 7.51339 7.79893 7.98223 8.26777C8.45107 8.73661 9.08696 9 9.75 9H4V20H20V9H14.75C15.413 9 16.0489 8.73661 16.5178 8.26777C16.9866 7.79893 17.25 7.16304 17.25 6.5ZM8.75 6.5C8.75 5.95 9.2 5.5 9.75 5.5C10.3 5.5 10.75 5.95 10.75 6.5V7.5H9.75C9.2 7.5 8.75 7.05 8.75 6.5ZM11.5 18.5H5.5V10.5H11.5V18.5ZM13.75 6.5C13.75 5.95 14.2 5.5 14.75 5.5C15.3 5.5 15.75 5.95 15.75 6.5C15.75 7.05 15.3 7.5 14.75 7.5H13.75V6.5ZM18.5 10.5V18.5H13V10.5H18.5Z"})});var i=s(6427),o=s(7723),l=s(6942),c=s.n(l),d=s(6961),u=s(1455),p=s.n(u),h=s(6087),f=s(4715),m=s(8468),g=s(1538),v=s(9936),b=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})});const w=e=>{const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,s,n)=>"#"+t+t+s+s+n+n).substring(1).match(/.{2}/g);return null===t?[0,0,0]:t.map(e=>parseInt(e,16))},y=e=>{const t="#000000";if(void 0===e)return t;const s=w(e),n=w(t),a=.2126*Math.pow(s[0]/255,2.2)+.7152*Math.pow(s[1]/255,2.2)+.0722*Math.pow(s[2]/255,2.2),r=.2126*Math.pow(n[0]/255,2.2)+.7152*Math.pow(n[1]/255,2.2)+.0722*Math.pow(n[2]/255,2.2);return(a>r?(a+.05)/(r+.05):(r+.05)/(a+.05))>5?t:"#ffffff"},x=(e,t,s)=>{const n="month"===e?1:12;return[t[0]*n,t[1]*n,t[2]*n,s*n]},_=(e,t=!1)=>"once"===e?t?"":(0,o.__)("once","newspack-blocks"):(0,o.sprintf)(
// Translators: %s is the frequency (e.g. per month, per year).
// Translators: %s is the frequency (e.g. per month, per year).
(0,o._x)("per %s","per `Frequency`","newspack-blocks"),e),k=(e,t=!1)=>{const s={minimumFractionDigits:0==e%1?0:2};return t&&(s.style="currency",s.currency=window.newspack_blocks_data?.currency||"USD"),new Intl.NumberFormat(navigator?.language||"en-US",s).format(e)},S=(e,t,s=!1)=>{const n=window.newspack_blocks_data?.tier_amounts_template;if(!n)try{const s="once"===t?t:(0,o.sprintf)(
// Translators: %s is the %s is the frequency.
// Translators: %s is the %s is the frequency.
(0,o.__)("per %s","newspack-blocks"),t);return('<span class="price-amount">'+k(e,!0)+'</span> <span class="tier-frequency">'+s+"</span>").replace(".00","")}catch(t){return'<span class="price-amount">'+e+"</span>"}const a=_(t,s);return n.replace("AMOUNT_PLACEHOLDER",k(e)).replace("FREQUENCY_PLACEHOLDER",a)},C={once:(0,o.__)("One-time","newspack-blocks"),month:(0,o.__)("Monthly","newspack-blocks"),year:(0,o.__)("Annually","newspack-blocks")},E=Object.keys(C),T=[{label:(0,o.__)("Frequency","newspack-blocks"),key:"frequency"},{label:(0,o.__)("Tiers","newspack-blocks"),key:"tiers"}],j=e=>{const{amounts:t,availableFrequencies:s,attributes:n}=e,[r,i]=(0,h.useState)(n.defaultFrequency||s[0]),l=t[r].slice(0,3);(0,h.useEffect)(()=>{i(n.defaultFrequency||s[0])},[s.length,n.defaultFrequency]);const d=(t,s)=>a=>{const r=[...n.tiersBasedOptions];r[t]={...r[t],[s]:a},e.setAttributes({tiersBasedOptions:r})},u=n.tiersBasedOptions.some(e=>Boolean(e.recommendLabel));return(0,a.jsxs)("form",{className:"wpbnbd__tiers",onSubmit:e=>e.preventDefault(),children:[s.length>1&&(0,a.jsx)("div",{className:"wpbnbd__tiers__selection",children:s.map(e=>{const t=r===e;return(0,a.jsx)("button",{className:c()("wpbnbd__button",{"wpbnbd__button--active":t}),onClick:()=>i(e),children:C[e]},e)})}),(0,a.jsx)("div",{className:"wpbnbd__tiers__options",children:l.map((e,t)=>{const s=n.tiersBasedOptions[t].recommendLabel||"";return(0,a.jsxs)("div",{className:c()("wpbnbd__tiers__tier",{"wpbnbd__tiers__tier--recommended":s.length}),children:[(0,a.jsxs)("div",{className:"wpbnbd__tiers__top",children:[(0,a.jsx)("h2",{className:"wpbnbd__tiers__heading",children:(0,a.jsx)(f.RichText,{onChange:d(t,"heading"),placeholder:(0,o.__)("Heading…","newspack-blocks"),value:n.tiersBasedOptions[t].heading,tagName:"span"})}),(0,a.jsx)("h3",{className:"wpbnbd__tiers__recommend-label",style:{opacity:s?1:.5},children:(0,a.jsx)(f.RichText,{onChange:d(t,"recommendLabel"),placeholder:(0,o.__)("…","newspack-blocks"),value:s,tagName:"span"})})]}),(0,a.jsx)("div",{className:"wpbnbd__tiers__amount",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:S(e,r)}})}),(0,a.jsx)("div",{className:"submit-button",style:{appearance:"button",borderColor:n.buttonColor,...u&&!s?{backgroundColor:"transparent",color:n.buttonColor}:{backgroundColor:n.buttonColor,color:y(n.buttonColor)}},children:(0,a.jsx)(f.RichText,{onChange:d(t,"buttonText"),placeholder:(0,o.__)("Button text…","newspack-blocks"),value:n.tiersBasedOptions[t].buttonText,tagName:"span"})}),(0,a.jsx)("div",{className:"wpbnbd__tiers__description",children:(0,a.jsx)(f.RichText,{onChange:d(t,"description"),placeholder:(0,o.__)("Description…","newspack-blocks"),value:n.tiersBasedOptions[t].description,tagName:"span"})})]},t)})})]})},M=({frequencySlug:e,tierIndex:t,id:s,label:n,attributes:r,settings:i,amounts:o,setAttributes:l,setSettings:c,disabled:d,ignoreMinimumAmount:u})=>{const p=o[e][t],h=i.minimumDonation&&!u?Math.max(p,i.minimumDonation):p;return(0,a.jsxs)("span",{children:[n&&(0,a.jsx)("label",{htmlFor:s,children:n}),(0,a.jsx)("input",{type:"number",min:u?void 0:r.minimumDonation,onChange:s=>(({value:e,frequency:s})=>{const n=r.manual?r:i;n.amounts[s][t]=parseFloat(e);const a={amounts:{[s]:n.amounts[s],...n.amounts}};r.manual?l(a):c(a)})({value:s.target.value,frequency:e}),value:h,id:s,disabled:d})]},`${e}-${t}`)};var P=s(6588);const A=e=>{const t=(0,h.useMemo)(()=>Math.random().toString(16).slice(2),[]),{attributes:s,settings:n,amounts:r,availableFrequencies:i,setAttributes:l}=e,d=(0,h.useRef)(null);(0,h.useEffect)(()=>{if(null!==d.current){const e=d.current.closest(".wpbnbd");e&&(0,P.C)(e,(0,P.t)(d.current)),d.current.addEventListener("change",()=>{null!==d.current&&e&&(0,P.C)(e,(0,P.t)(d.current))})}},[]),(0,h.useEffect)(()=>{if(d.current&&!(0,P.t)(d.current).donation_frequency&&d.current.elements){const e=d.current.elements[0];e instanceof HTMLInputElement&&e.click()}-1===i.indexOf(s.defaultFrequency)&&l({defaultFrequency:i[0]})},[s.disabledFrequencies]),(0,h.useEffect)(()=>{if(d.current){const e=d.current.querySelector(`[name="donation_frequency"][value="${s.defaultFrequency}"]`);e instanceof HTMLInputElement&&e.click()}},[s.defaultFrequency]);const[u,p]=(0,h.useState)(s.defaultFrequency),m=window.newspack_blocks_data?.can_use_name_your_price,g=e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"radio",value:e,id:`newspack-donate-${e}-${t}`,name:"donation_frequency",checked:e===u,onChange:e=>p(e.target.value)}),(0,a.jsx)("label",{htmlFor:"newspack-donate-"+e+"-"+t,children:C[e]})]}),v=e=>(0,a.jsx)("button",{role:"tab",className:c()("wpbnbd__button freq-label",{"wpbnbd__button--active":e===u}),id:`tab-newspack-donate-${e}-${t}`,onClick:t=>{t.preventDefault(),p(e)},children:C[e]},e),b=()=>!w&&(0,a.jsx)("div",{className:"tab-container",children:i.map(v)}),w=1===i.length;return(0,a.jsxs)("form",{ref:d,children:[e.isTiered?(0,a.jsx)("div",{className:"wp-block-newspack-blocks-donate__options",children:(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__frequencies frequencies",children:[b(),i.map(e=>(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__frequency frequency",children:[g(e),(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__tiers tiers",children:[r[e].map((s,r)=>{const i=3===r,l=`newspack-tier-${e}-${t}-${i?"other":r}`,d=i?(0,o.__)("Other","newspack-blocks"):k(s,!0);return(0,a.jsxs)("div",{className:c()("wp-block-newspack-blocks-donate__tier","wp-block-newspack-blocks-donate__tier--"+(i?"other":"frequency")),children:[(0,a.jsx)("input",{type:"radio",value:i?"other":s,className:i?"other-input":"frequency-input",id:l,name:`donation_value_${e}`,defaultChecked:1===r}),(0,a.jsx)("label",{className:"tier-select-label tier-label",htmlFor:l,children:d}),i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("label",{className:"odl",htmlFor:l+"-other-input",children:[(0,o.__)("Donation amount","newspack-blocks"),_(e,!0)]}),(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__money-input money-input",children:[(0,a.jsx)("span",{className:"currency",children:n.currencySymbol}),(0,a.jsx)("input",{type:"number",readOnly:!0})]})]}):null]},r)}),w?(0,a.jsx)("div",{className:"wp-block-newspack-blocks-donate__frequency-label",children:_(e,!0)}):null]})]},e))]})}):(0,a.jsx)("div",{className:"wp-block-newspack-blocks-donate__options",children:(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__frequencies frequencies",children:[b(),i.map(s=>{const i=r[s][3];return(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__frequency frequency",children:[g(s),(0,a.jsx)("div",{className:"input-container",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("label",{className:"donate-label",htmlFor:"newspack-"+s+"-"+t+"-untiered-input",children:[(0,o.__)("Donation amount","newspack-blocks"),_(s,!0)]}),(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__money-input money-input",children:[(0,a.jsx)("span",{className:"currency",children:n.currencySymbol}),(0,a.jsx)(M,{...e,frequencySlug:s,tierIndex:3,id:`newspack-${s}-${t}-untiered-input`})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"radio",value:i,className:"frequency-input",id:`newspack-${s}-${t}-untiered-input`,name:`donation_value_${s}`,defaultChecked:!0}),(0,a.jsx)("label",{className:"tier-select-label tier-label",htmlFor:`newspack-${s}-${t}-untiered-input`,children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:S(i,s)}})})]})})]},s)})]})}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"wp-block-newspack-blocks-donate__thanks thanks",children:(0,a.jsx)(f.RichText,{onChange:e=>l({thanksText:e}),placeholder:(0,o.__)("Thank you text…","newspack-blocks"),value:s.thanksText,tagName:"span"})}),(0,a.jsx)("div",{className:"submit-button",style:{backgroundColor:s.buttonColor,color:y(s.buttonColor)},children:(0,a.jsx)(f.RichText,{onChange:e=>l({buttonText:e}),placeholder:(0,o.__)("Button text…","newspack-blocks"),value:s.buttonText,tagName:"span"})})]})]})};var L=s(8614),I=s(1609);const O=[(0,o.__)("Low-tier","newspack-blocks"),(0,o.__)("Mid-tier","newspack-blocks"),(0,o.__)("High-tier","newspack-blocks")],N=JSON.parse('{"UU":"donate","L1":"newspack","uK":{"className":{"type":"string"},"manual":{"type":"boolean"},"tiered":{"type":"boolean","default":true},"amounts":{"type":"object","default":{}},"disabledFrequencies":{"type":"object","default":{}},"thanksText":{"type":"string","default":"Your contribution is appreciated."},"buttonText":{"type":"string","default":"Donate Now"},"defaultFrequency":{"type":"string","default":"month"},"campaign":{"type":"string"},"buttonColor":{"type":"string","default":"#dd3333"},"suggestedAmounts":{"type":"array"},"suggestedAmountUntiered":{"type":"number"},"minimumDonation":{"type":"number"},"layoutOption":{"type":"string","default":"frequency"},"tierStyle":{"type":"string","default":"grid"},"useModalCheckout":{"type":"boolean","default":true},"tiersBasedOptions":{"type":"array","default":[{"heading":"Small","description":"","buttonText":"Select","recommendLabel":""},{"heading":"Medium","description":"","buttonText":"Select","recommendLabel":"BEST VALUE"},{"heading":"Large","description":"","buttonText":"Select","recommendLabel":""}]},"afterSuccessBehavior":{"type":"string"},"afterSuccessButtonLabel":{"type":"string","default":"Continue"},"afterSuccessURL":{"type":"string"}},"xY":{"html":false,"align":false}}'),{UU:z,uK:D,L1:$,xY:B}=N,R={title:(0,o.__)("Donate","newspack-blocks"),icon:{src:r,foreground:t.A["primary-400"]},category:$,keywords:[(0,o.__)("donate","newspack-blocks"),(0,o.__)("memberships","newspack-blocks"),(0,o.__)("subscriptions","newspack-blocks")],description:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:(0,o.__)("Manually place a donation block on any post or page on your site.","newspack-blocks")}),(0,a.jsx)(i.ExternalLink,{href:"https://help.newspack.com/publishing-and-appearance/blocks/donate-block/",children:(0,o.__)("Support reference","newspack-blocks")})]}),attributes:D,supports:B,edit:({attributes:e,setAttributes:t,className:s})=>{const[n,r]=(0,h.useState)(!0),[l,u]=(0,h.useState)(""),[w,y]=d.JL.useObjectState({amounts:{},currencySymbol:"$",tiered:!1,disabledFrequencies:{},minimumDonation:5,platform:""});if((0,h.useEffect)(()=>{p()({path:"/newspack/v1/wizard/newspack-audience-donations"}).then(({donation_data:s})=>{if(y({amounts:s.amounts,currencySymbol:s.currencySymbol,tiered:s.tiered,disabledFrequencies:s.disabledFrequencies,minimumDonation:s.minimumDonation,platform:s.platform}),(0,m.isEmpty)(e.disabledFrequencies)&&t({disabledFrequencies:s.disabledFrequencies}),(0,m.isEmpty)(e.minimumDonation)&&t({minimumDonation:s.minimumDonation}),(0,m.isEmpty)(e.amounts)&&e.suggestedAmounts&&e.suggestedAmounts.length){const n=e.suggestedAmountUntiered||s.amounts.month[3];t({suggestedAmounts:void 0,suggestedAmountUntiered:void 0,amounts:{once:x("once",e.suggestedAmounts,n),month:x("month",e.suggestedAmounts,n),year:x("year",e.suggestedAmounts,n)}})}else t({amounts:{...s.amounts,...e.amounts}})}).catch(u).finally(()=>r(!1))},[]),l.length)return(0,a.jsx)(i.Placeholder,{icon:"warning",label:(0,o.__)("Error","newspack-blocks"),instructions:l,children:(0,a.jsx)(i.ExternalLink,{href:"/wp-admin/admin.php?page=newspack-audience#/payment",children:(0,o.__)("Go to checkout & payment settings to troubleshoot.","newspack-blocks")})});if("other"===w.platform)return(0,a.jsx)(i.Placeholder,{icon:"warning",label:(0,o.__)("The Donate block will not be rendered.","newspack-blocks"),instructions:(0,o.__)('The Reader Revenue platform is set to "other".',"newspack-blocks"),children:(0,a.jsx)(i.ExternalLink,{href:"/wp-admin/admin.php?page=newspack-audience#/payment",children:(0,o.__)("Go to checkout & payment settings to update the platform.","newspack-blocks")})});if(n)return(0,a.jsx)(i.Placeholder,{icon:(0,a.jsx)(i.Spinner,{}),className:"component-placeholder__align-center"});const _=window.newspack_blocks_data?.can_use_name_your_price,k=e.manual&&_,S=k?e.tiered:w.tiered,P=S&&"tiers"===e.layoutOption,N=e.tierStyle,z=k?e.amounts:w.amounts,D=E.filter(t=>k?!e.disabledFrequencies[t]:!w.disabledFrequencies[t]);-1===s.indexOf("is-style")&&(s+=" is-style-default"),_||(s+=" wpbnbd--nyp-disabled");const $=(e=[])=>c()(e,s,"wpbnbd","wpbnbd--"+(P?"tiers-based":"frequency-based"),`wpbnbd--platform-${w.platform}`,`wpbnbd-frequencies--${D.length}`,P&&`wpbnbd--tier-style-${N}`),B=[{icon:(0,a.jsx)(g.A,{icon:v.A}),title:(0,o.__)("Grid View","newspack-blocks"),onClick:()=>t({tierStyle:"grid"}),isActive:"grid"===e.tierStyle},{icon:(0,a.jsx)(g.A,{icon:b}),title:(0,o.__)("List View","newspack-blocks"),onClick:()=>t({tierStyle:"list"}),isActive:"list"===e.tierStyle}],R=k?e.minimumDonation:w.minimumDonation,F={...z};Object.keys(z).forEach(e=>{const t=z[e].map(e=>Math.max(e,R));F[e]=t});const H={attributes:e,amounts:z,availableFrequencies:D,settings:w,setAttributes:t,setSettings:y},V=()=>(0,a.jsx)("p",{className:"components-frequency-donations__error",children:(0,o.sprintf)(
// translators: %1$s: currency symbol, %2$d: minimum donation amount.
// translators: %1$s: currency symbol, %2$d: minimum donation amount.
(0,o.__)("Warning: suggested donations should be at least the minimum donation amount (%1$s%2$d).","newspack-blocks"),w.currencySymbol,R)});return(0,a.jsxs)(a.Fragment,{children:[P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:$(),children:(0,a.jsx)(j,{...H,amounts:F})}),(0,a.jsx)(f.BlockControls,{children:(0,a.jsx)(i.Toolbar,{controls:B})})]}):(0,a.jsx)("div",{className:$([S?"tiered":"untiered"]),children:(0,a.jsx)(A,{isTiered:S,...H,amounts:F})}),(0,a.jsxs)(f.InspectorControls,{children:[(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("Layout","newspack-blocks"),children:[_&&(0,a.jsx)("div",{className:"newspack-blocks-donate__layout-selector",children:T.map(({label:e,key:s})=>{const n="tiers"===s?P:!P;return(0,a.jsx)(i.Button,{variant:n?"primary":"secondary",isPressed:n,onClick:()=>t({layoutOption:s}),"aria-current":n,disabled:"tiers"===s&&!S,children:e},s)})}),_&&!S&&(0,a.jsx)(i.Notice,{isDismissible:!1,className:"newspack-blocks-donate__notice",children:(0,o.__)("Tiers layout is disabled if the block is set to render untiered.","newspack-blocks")}),(0,a.jsx)(i.SelectControl,{label:(0,o.__)("Default Tab","newspack-blocks"),value:e.defaultFrequency,options:D.map(e=>({label:C[e],value:e})),onChange:e=>t({defaultFrequency:e})})]}),_&&(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("Suggested Donations","newspack-blocks"),children:[(0,a.jsx)(i.ToggleControl,{checked:Boolean(k),onChange:()=>t({manual:!e.manual}),label:(0,o.__)("Configure manually","newspack-blocks")}),k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.ToggleControl,{checked:Boolean(S),onChange:()=>t({tiered:!e.tiered}),label:(0,o.__)("Tiered","newspack-blocks")}),S?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"components-frequency-donations",children:E.map(s=>{const n=e.disabledFrequencies[s],r=Object.values((0,m.pick)(e.disabledFrequencies,E)).filter(Boolean).length,o=E.length-r===1;return(0,a.jsxs)(h.Fragment,{children:[(0,a.jsx)(i.CheckboxControl,{label:C[s],checked:!n,disabled:!n&&o,onChange:()=>{t({disabledFrequencies:{...e.disabledFrequencies,[s]:!n}})}}),!n&&(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__panel-inputs",children:[z[s].reduce((e,t)=>!t||t<R||e,!1)&&V(),z[s].map((e,t)=>3===t?null:(0,I.createElement)(M,{ignoreMinimumAmount:!0,...H,key:`amount-${s}-${t}`,frequencySlug:s,tierIndex:t,label:O[t],id:`${s}-${t}-amount`,disabled:P&&3===t}))]})]},s)})})}):(0,a.jsx)("div",{className:"components-frequency-donations",children:(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-donate__panel-inputs",children:[E.reduce((t,s)=>!z[s][3]||z[s][3]<e.minimumDonation||t,!1)&&V(),E.map(e=>(0,I.createElement)(M,{ignoreMinimumAmount:!0,...H,key:e,frequencySlug:e,tierIndex:3,label:C[e],id:`${e}-3-amount`}))]})}),(0,a.jsx)(i.TextControl,{className:"components-frequency-donations__minimum-donation",type:"number",label:(0,o.__)("Minimum donation","newspack-blocks"),min:1,onChange:e=>t({minimumDonation:e}),value:e.minimumDonation})]}):(0,a.jsxs)("p",{children:[(0,o.__)("The Donate Block allows you to collect donations from readers. The fields are automatically defined based on your donation settings.","newspack-blocks"),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(i.ExternalLink,{href:"/wp-admin/admin.php?page=newspack-audience-donations",children:(0,o.__)("Edit donation settings","newspack-blocks")})]})]}),(0,a.jsx)(i.PanelBody,{title:(0,o.__)("Styling","newspack-blocks"),initialOpen:!1,children:(0,a.jsx)(f.ColorPaletteControl,{value:e.buttonColor,onChange:e=>t({buttonColor:e}),label:(0,o.__)("Button Color","newspack-blocks")})}),"nrh"===w.platform&&(0,a.jsx)(i.PanelBody,{title:(0,o.__)("News Revenue Hub Settings","newspack-blocks"),initialOpen:!1,children:(0,a.jsx)(i.TextControl,{label:(0,o.__)("Campaign ID","newspack-blocks"),value:e.campaign||"",onChange:e=>t({campaign:e})})}),window.newspack_blocks_data.supports_recaptcha&&(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("Spam protection","newspack"),children:[(0,a.jsx)("p",{children:(0,o.sprintf)(
// translators: %s is either 'enabled' or 'disabled'.
// translators: %s is either 'enabled' or 'disabled'.
(0,o.__)("reCAPTCHA is currently %s.","newspack"),window.newspack_blocks_data.has_recaptcha?(0,o.__)("enabled","newspack"):(0,o.__)("disabled","newspack"))}),!window.newspack_blocks_data.has_recaptcha&&(0,a.jsx)("p",{children:(0,o.__)("It's highly recommended that you enable reCAPTCHA protection to prevent spambots from using this form!","newspack")}),(0,a.jsx)("p",{children:(0,a.jsx)("a",{href:window.newspack_blocks_data.recaptcha_url,children:(0,o.__)("Configure your reCAPTCHA settings.","newspack")})})]}),(0,a.jsx)(i.PanelBody,{title:(0,o.__)("After purchase","newspack-blocks"),children:(0,a.jsx)(L.A,{setAttributes:t,attributes:e})})]})]})},save:()=>null};(0,e.registerBlockStyle)("newspack-blocks/donate",{name:"alternate",label:(0,o.__)("Alternate","newspack-blocks")}),(0,e.registerBlockStyle)("newspack-blocks/donate",{name:"minimal",label:(0,o.__)("Minimal","newspack-blocks")}),(0,e.registerBlockStyle)("newspack-blocks/donate",{name:"modern",label:(0,o.__)("Modern","newspack-blocks")}),(0,e.registerBlockType)(`newspack-blocks/${z}`,R)})(),(()=>{"use strict";var e=s(4997),t=s(4727),n=s(5573),a=s(790);const r=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M6.5 12.75H11V14.25H6.5V12.75ZM6.5 11.25H14.5V9.75H6.5V11.25ZM6.5 8.25H14.5V6.75H6.5V8.25ZM16.375 18H4.625C4.19402 18 3.7807 17.8288 3.47595 17.524C3.1712 17.2193 3 16.806 3 16.375V4.625C3 3.728 3.728 3 4.625 3H16.375C17.273 3 18 3.728 18 4.625V16.375C18 17.273 17.273 18 16.375 18ZM4.625 16.5H16.375C16.4082 16.5 16.4399 16.4868 16.4634 16.4634C16.4868 16.4399 16.5 16.4082 16.5 16.375V4.625C16.5 4.59185 16.4868 4.56005 16.4634 4.53661C16.4399 4.51317 16.4082 4.5 16.375 4.5H4.625C4.59185 4.5 4.56005 4.51317 4.53661 4.53661C4.51317 4.56005 4.5 4.59185 4.5 4.625V16.375C4.5 16.444 4.556 16.5 4.625 16.5ZM20.25 19C20.25 19.69 19.69 20.25 19.001 20.25H6V21.75H19.001C19.3621 21.75 19.7196 21.6789 20.0532 21.5406C20.3868 21.4024 20.6899 21.1999 20.9452 20.9445C21.2005 20.6891 21.4029 20.3859 21.541 20.0523C21.6791 19.7187 21.7501 19.3611 21.75 19V8H20.25V19Z"})});var i=s(2619),o=s(7723),l=s(1225),c=s(2859),d=s(6175),u=s(766),p=s(6942),h=s.n(p);const f=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M18.714 6H5.286C4.67971 6 4.09826 6.24085 3.66955 6.66955C3.24085 7.09826 3 7.67972 3 8.286V15.714C3 16.0142 3.05913 16.3115 3.17401 16.5888C3.28889 16.8662 3.45728 17.1182 3.66955 17.3304C3.88183 17.5427 4.13384 17.7111 4.41119 17.826C4.68854 17.9409 4.9858 18 5.286 18H18.714C19.3203 18 19.9017 17.7592 20.3304 17.3304C20.7592 16.9017 21 16.3203 21 15.714V8.286C21 7.67972 20.7592 7.09826 20.3304 6.66955C19.9017 6.24085 19.3203 6 18.714 6ZM19.5 15.714C19.5 15.9225 19.4172 16.1224 19.2698 16.2698C19.1224 16.4172 18.9225 16.5 18.714 16.5H5.286C5.07754 16.5 4.87762 16.4172 4.73021 16.2698C4.58281 16.1224 4.5 15.9225 4.5 15.714V8.286C4.5 7.852 4.852 7.5 5.286 7.5H18.714C19.148 7.5 19.5 7.852 19.5 8.286V15.714Z"})}),m=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M15.714 3H8.286C7.67972 3 7.09826 3.24085 6.66955 3.66955C6.24085 4.09826 6 4.67971 6 5.286V18.714C6 19.3203 6.24085 19.9017 6.66955 20.3304C7.09826 20.7592 7.67972 21 8.286 21H15.714C16.0142 21 16.3115 20.9409 16.5888 20.826C16.8662 20.7111 17.1182 20.5427 17.3304 20.3304C17.5427 20.1182 17.7111 19.8662 17.826 19.5888C17.9409 19.3115 18 19.0142 18 18.714V5.286C18 4.67971 17.7592 4.09826 17.3304 3.66955C16.9017 3.24085 16.3203 3 15.714 3ZM16.5 18.714C16.5 18.9225 16.4172 19.1224 16.2698 19.2698C16.1224 19.4172 15.9225 19.5 15.714 19.5H8.286C8.07754 19.5 7.87762 19.4172 7.73021 19.2698C7.58281 19.1224 7.5 18.9225 7.5 18.714V5.286C7.5 4.852 7.852 4.5 8.286 4.5H15.714C16.148 4.5 16.5 4.852 16.5 5.286V18.714Z"})}),g=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M18.714 3H5.286C4.67971 3 4.09826 3.24085 3.66955 3.66955C3.24085 4.09826 3 4.67971 3 5.286V18.714C3 19.3203 3.24085 19.9017 3.66955 20.3304C4.09826 20.7592 4.67971 21 5.286 21H18.714C19.3203 21 19.9017 20.7592 20.3304 20.3304C20.7592 19.9017 21 19.3203 21 18.714V5.286C21 4.67971 20.7592 4.09826 20.3304 3.66955C19.9017 3.24085 19.3203 3 18.714 3ZM19.5 18.714C19.5 18.9225 19.4172 19.1224 19.2698 19.2698C19.1224 19.4172 18.9225 19.5 18.714 19.5H5.286C5.07754 19.5 4.87762 19.4172 4.73021 19.2698C4.58281 19.1224 4.5 18.9225 4.5 18.714V5.286C4.5 4.852 4.852 4.5 5.286 4.5H18.714C19.148 4.5 19.5 4.852 19.5 5.286V18.714Z"})});var v=s(6087),b=s(4715),w=s(6427),y=s(7143),x=s(9491),_=s(8537),k=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M12.9 6h-2l-4 11h1.9l1.1-3h4.2l1.1 3h1.9L12.9 6zm-2.5 6.5l1.5-4.9 1.7 4.9h-3.2z"})}),S=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z"})}),C=(0,a.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(n.Path,{d:"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z"})}),E=s(9936),T=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M19 3H5c-.6 0-1 .4-1 1v7c0 .5.4 1 1 1h14c.5 0 1-.4 1-1V4c0-.6-.4-1-1-1zM5.5 10.5v-.4l1.8-1.3 1.3.8c.3.2.7.2.9-.1L11 8.1l2.4 2.4H5.5zm13 0h-2.9l-4-4c-.3-.3-.8-.3-1.1 0L8.9 8l-1.2-.8c-.3-.2-.6-.2-.9 0l-1.3 1V4.5h13v6zM4 20h9v-1.5H4V20zm0-4h16v-1.5H4V16z"})}),j=s(1417),M=s(3216),P=(0,a.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(n.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})}),A=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M6 4a2 2 0 0 0-2 2v3h1.5V6a.5.5 0 0 1 .5-.5h3V4H6Zm3 14.5H6a.5.5 0 0 1-.5-.5v-3H4v3a2 2 0 0 0 2 2h3v-1.5Zm6 1.5v-1.5h3a.5.5 0 0 0 .5-.5v-3H20v3a2 2 0 0 1-2 2h-3Zm3-16a2 2 0 0 1 2 2v3h-1.5V6a.5.5 0 0 0-.5-.5h-3V4h3Z"})});let L;"object"==typeof window&&window.newspack_blocks_data&&window.newspack_blocks_data.post_subtitle&&(L=!0);class I extends v.Component{renderPost=e=>{const{attributes:t,isUIDisabled:s}=this.props,{showImage:n,imageShape:r,mediaPosition:i,minHeight:o,showCaption:l,showCredit:c,showExcerpt:u,showFullContent:p,showReadMore:f,readMoreLabel:m,showSubtitle:g,showAuthor:w,showAvatar:y,showDate:x,showCategory:k,sectionHeader:S}=t,C={minHeight:"behind"===i&&n&&e.newspack_featured_image_src&&o+"vh"||void 0,paddingTop:"behind"===i&&n&&e.newspack_featured_image_src&&o/5+"vh"||void 0},E=h()({"post-has-image":e.newspack_featured_image_src,"newspack-block--disabled":s},e.newspack_article_classes),T=this.titleForPost(e);return(0,a.jsxs)("article",{className:E,style:C,children:[(0,d.X8)(e),n&&e.newspack_featured_image_src&&(0,a.jsxs)("figure",{className:"post-thumbnail",children:[(0,a.jsxs)("a",{href:"#",children:["landscape"===r&&(0,a.jsx)("img",{src:e.newspack_featured_image_src.landscape,alt:""}),"portrait"===r&&(0,a.jsx)("img",{src:e.newspack_featured_image_src.portrait,alt:""}),"square"===r&&(0,a.jsx)("img",{src:e.newspack_featured_image_src.square,alt:""}),"uncropped"===r&&(0,a.jsx)("img",{src:e.newspack_featured_image_src.uncropped,alt:""})]}),(l||c)&&(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:e.newspack_featured_image_caption}})]},"thumbnail"),(0,a.jsxs)("div",{className:"entry-wrapper",children:[(e.newspack_post_sponsors||k&&0<e.newspack_category_info.length)&&(0,a.jsxs)("div",{className:"cat-links"+(e.newspack_post_sponsors?" sponsor-label":""),children:[e.newspack_post_sponsors&&(0,a.jsx)("span",{className:"flag",children:e.newspack_post_sponsors[0].flag}),k&&(!e.newspack_post_sponsors||e.newspack_sponsors_show_categories)&&(0,a.jsx)(v.RawHTML,{children:(0,_.decodeEntities)(e.newspack_category_info)})]}),b.RichText.isEmpty(S)?(0,a.jsx)("h2",{className:"entry-title",children:(0,a.jsx)("a",{href:"#",children:T})},"title"):(0,a.jsx)("h3",{className:"entry-title",children:(0,a.jsx)("a",{href:"#",children:T})},"title"),L&&g&&(0,a.jsx)(v.RawHTML,{className:"newspack-post-subtitle newspack-post-subtitle--in-homepage-block",children:e.meta.newspack_post_subtitle||""},"subtitle"),u&&!p&&(0,a.jsx)(v.RawHTML,{className:"excerpt-contain",children:e.excerpt.rendered},"excerpt"),!u&&p&&(0,a.jsx)(v.RawHTML,{className:"excerpt-contain",children:e.full_content},"full-content"),f&&e.post_link&&(0,a.jsx)("a",{href:"#",className:"more-link",children:m},"readmore"),(0,a.jsxs)("div",{className:"entry-meta",children:[e.newspack_post_sponsors&&(0,a.jsxs)("span",{className:"entry-sponsors "+(e.newspack_sponsors_show_author?"plus-author":""),children:[(0,d.__)(e.newspack_post_sponsors),(0,d.vQ)(e.newspack_post_sponsors)]}),w&&!e.newspack_listings_hide_author&&(!e.newspack_post_sponsors||e.newspack_sponsors_show_author)&&(0,a.jsx)(v.RawHTML,{className:"byline-container",children:(0,d.pO)(e,y)}),x&&!e.newspack_listings_hide_publish_date&&(0,a.jsx)("time",{className:"entry-date published",children:e.date_formatted},"pub-date"),e.article_meta_footer?(0,a.jsx)(v.RawHTML,{children:e.article_meta_footer}):null]})]})]},e.id)};titleForPost=e=>e.title?"object"==typeof e.title&&e.title.rendered?(0,_.decodeEntities)(e.title.rendered.trim()):void 0:"";renderInspectorControls=()=>{const{attributes:e,setAttributes:t}=this.props,{authors:s,specificPosts:n,postsToShow:r,categories:i,includeSubcategories:d,categoryJoinType:p,customTaxonomies:h,columns:f,postType:m,showImage:g,showCaption:b,showCredit:y,imageScale:x,mobileStack:_,minHeight:k,moreButton:S,infiniteScroll:C,showExcerpt:E,showFullContent:T,showReadMore:j,readMoreLabel:M,excerptLength:P,showSubtitle:A,showDate:I,showAuthor:O,showAvatar:N,showCategory:z,postLayout:D,mediaPosition:$,specificMode:B,tags:R,tagExclusions:F,categoryExclusions:H,customTaxonomyExclusions:V}=e,G=[{value:1,label:/* translators: label for small size option */ /* translators: label for small size option */(0,o.__)("Small","newspack-blocks"),shortName:/* translators: abbreviation for small size */ /* translators: abbreviation for small size */(0,o.__)("S","newspack-blocks")},{value:2,label:/* translators: label for medium size option */ /* translators: label for medium size option */(0,o.__)("Medium","newspack-blocks"),shortName:/* translators: abbreviation for medium size */ /* translators: abbreviation for medium size */(0,o.__)("M","newspack-blocks")},{value:3,label:/* translators: label for large size option */ /* translators: label for large size option */(0,o.__)("Large","newspack-blocks"),shortName:/* translators: abbreviation for large size */ /* translators: abbreviation for large size */(0,o.__)("L","newspack-blocks")},{value:4,label:/* translators: label for extra large size option */ /* translators: label for extra large size option */(0,o.__)("Extra Large","newspack-blocks"),shortName:/* translators: abbreviation for extra large size */ /* translators: abbreviation for extra large size */(0,o.__)("XL","newspack-blocks")}],q=e=>s=>t({[e]:s});return(0,a.jsxs)(v.Fragment,{children:["grid"===D&&(0,a.jsx)(w.PanelBody,{title:(0,o.__)("Grid","newspack-blocks"),children:(0,a.jsx)(w.RangeControl,{label:(0,o.__)("Columns","newspack-blocks"),value:f,onChange:q("columns"),min:2,max:6,required:!0,__next40pxDefaultSize:!0})}),(0,a.jsxs)(w.PanelBody,{title:(0,o.__)("Settings","newspack-blocks"),className:"newspack-block__panel is-content",children:[(0,a.jsx)(l.A,{numberOfItems:r,onNumberOfItemsChange:e=>t({postsToShow:e||1}),specificMode:B,onSpecificModeChange:()=>t({specificMode:!0}),onLoopModeChange:()=>t({specificMode:!1}),specificPosts:n,onSpecificPostsChange:q("specificPosts"),authors:s,onAuthorsChange:q("authors"),categories:i,onCategoriesChange:q("categories"),includeSubcategories:d,onIncludeSubcategoriesChange:q("includeSubcategories"),categoryJoinType:p,onCategoryJoinTypeChange:q("categoryJoinType"),tags:R,onTagsChange:q("tags"),onCustomTaxonomiesChange:q("customTaxonomies"),customTaxonomies:h,tagExclusions:F,onTagExclusionsChange:q("tagExclusions"),categoryExclusions:H,onCategoryExclusionsChange:q("categoryExclusions"),customTaxonomyExclusions:V,onCustomTaxonomyExclusionsChange:q("customTaxonomyExclusions"),postType:m}),(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Allow duplicate content","newspack-blocks"),help:(0,o.__)("Exclude this block from the page's deduplication logic.","newspack-blocks"),checked:!e.deduplicate,onChange:e=>t({deduplicate:!e})}),!B&&(0,c.Wu)()?(0,a.jsx)(w.ToggleControl,{label:(0,o.__)('Show "Load more posts" button',"newspack-blocks"),help:(0,o.__)("This site is private, therefore this feature is not active.","newspack-blocks"),disabled:!0}):!B&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.ToggleControl,{label:(0,o.__)('Show "Load more posts" button',"newspack-blocks"),checked:S,onChange:()=>t({moreButton:!S})}),(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Infinite scroll","newspack-blocks"),checked:C,disabled:!S,onChange:()=>t({infiniteScroll:!C})})]})]}),(0,a.jsxs)(w.PanelBody,{title:(0,o.__)("Display","newspack-blocks"),className:"newspack-block__panel",children:[(0,a.jsxs)(w.__experimentalToggleGroupControl,{label:(0,o.__)("Text","newspack-blocks"),value:T?"full":E?"excerpt":"none",onChange:e=>{t({showExcerpt:"excerpt"===e,showFullContent:"full"===e})},isBlock:!0,__next40pxDefaultSize:!0,children:[(0,a.jsx)(w.__experimentalToggleGroupControlOption,{label:(0,o.__)("None","newspack-blocks"),value:"none"}),(0,a.jsx)(w.__experimentalToggleGroupControlOption,{label:(0,o.__)("Excerpt","newspack-blocks"),value:"excerpt"}),(0,a.jsx)(w.__experimentalToggleGroupControlOption,{label:(0,o.__)("Full Post","newspack-blocks"),value:"full"})]}),E&&(0,a.jsx)(w.RangeControl,{label:(0,o.__)("Max number of words in excerpt","newspack-blocks"),value:P,onChange:e=>t({excerptLength:e}),min:10,max:100,__next40pxDefaultSize:!0}),!T&&(0,a.jsx)(w.ToggleControl,{label:(0,o.sprintf)(
// translators: %s is the read more label'.
// translators: %s is the read more label'.
(0,o.__)('Show "%s" link',"newspack-block"),M||(0,o.__)("Keep reading","newspack-blocks")),checked:j,onChange:()=>t({showReadMore:!j})}),!T&&j&&(0,a.jsx)(w.TextControl,{label:(0,o.sprintf)(
// translators: %s is the read more label'.
// translators: %s is the read more label'.
(0,o.__)('"%s" link text',"newspack-block"),M||(0,o.__)("Keep reading","newspack-blocks")),hideLabelFromVision:!0,value:M,placeholder:M,onChange:e=>t({readMoreLabel:e}),__next40pxDefaultSize:!0})]}),(0,a.jsxs)(w.PanelBody,{title:(0,o.__)("Featured Image","newspack-blocks"),className:"newspack-block__panel",children:[(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Show featured image","newspack-blocks"),checked:g,onChange:()=>t({showImage:!g})}),(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Show caption","newspack-blocks"),checked:b,onChange:()=>t({showCaption:!b}),disabled:!g}),(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Show credit","newspack-blocks"),checked:y,onChange:()=>t({showCredit:!y}),disabled:!g}),g&&"top"!==$&&"behind"!==$&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Stack on mobile","newspack-blocks"),checked:_,onChange:()=>t({mobileStack:!_})}),(0,a.jsx)(w.__experimentalToggleGroupControl,{label:(0,o.__)("Size","newspack-blocks"),value:String(x),onChange:e=>t({imageScale:parseInt(e)}),isBlock:!0,__next40pxDefaultSize:!0,children:G.map(e=>(0,a.jsx)(w.__experimentalToggleGroupControlOption,{label:e.shortName,title:e.label,value:String(e.value)},e.value))})]}),g&&"behind"===$&&(0,a.jsx)(w.RangeControl,{label:(0,o.__)("Minimum height","newspack-blocks"),help:(0,o.__)("Sets a minimum height for the block, using a percentage of the screen's current height.","newspack-blocks"),value:k,onChange:e=>t({minHeight:e}),min:0,max:100,required:!0,__next40pxDefaultSize:!0})]}),(0,a.jsxs)(w.PanelBody,{title:(0,o.__)("Post Meta","newspack-blocks"),children:[(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Show category","newspack-blocks"),checked:z,onChange:()=>t({showCategory:!z})}),L&&(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Show subtitle","newspack-blocks"),checked:A,onChange:()=>t({showSubtitle:!A})}),(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Show author","newspack-blocks"),checked:O,onChange:()=>t({showAuthor:!O})}),(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Show avatar","newspack-blocks"),checked:N,onChange:()=>t({showAvatar:!N}),disabled:!O}),(0,a.jsx)(w.ToggleControl,{label:(0,o.__)("Show date","newspack-blocks"),checked:I,onChange:()=>t({showDate:!I})})]}),(0,a.jsx)(u.O,{attributes:e,setAttributes:t}),(0,a.jsx)(u.X,{attributes:e,setAttributes:t})]})};renderStylesInspectorControls=()=>{const{attributes:e,setAttributes:t,textColor:s,setTextColor:n}=this.props,{colGap:r,postLayout:i,typeScale:l}=e;return(0,a.jsxs)(v.Fragment,{children:[(0,a.jsx)(b.PanelColorSettings,{title:(0,o.__)("Color","newspack-blocks"),colorSettings:[{value:s.color,onChange:n,label:(0,o.__)("Text","newspack-blocks")}]}),(0,a.jsx)(w.PanelBody,{title:(0,o.__)("Typography","newspack-blocks"),className:"newpack-block__panel",children:(0,a.jsx)(w.RangeControl,{label:(0,o.__)("Type Scale","newspack-blocks"),beforeIcon:k,className:"spacing-sizes-control",value:l,onChange:e=>t({typeScale:e}),min:1,max:10,marks:!0,withInputField:!1,__nextHasNoMarginBottom:!0,required:!0})}),"grid"===i&&(0,a.jsx)(w.PanelBody,{title:(0,o.__)("Dimensions","newspack-blocks"),children:(0,a.jsx)(w.RangeControl,{label:(0,o.__)("Grid Spacing","newspack-blocks"),beforeIcon:S,className:"spacing-sizes-control",value:r,onChange:e=>t({colGap:e}),min:1,max:3,marks:!0,withInputField:!1,__nextHasNoMarginBottom:!0,required:!0})})]})};componentDidMount(){this.props.triggerReflow()}componentDidUpdate(e){(0,c.pV)(e,this.props)&&this.props.triggerReflow()}componentWillUnmount(){this.props.triggerReflow()}render(){const{attributes:e,className:t,setAttributes:s,isSelected:n,latestPosts:r,textColor:i,error:l}=this.props,{showImage:d,imageShape:u,postLayout:p,mediaPosition:y,moreButton:x,moreButtonText:_,columns:k,colGap:S,typeScale:L,imageScale:I,mobileStack:O,sectionHeader:N,showCaption:z,showCategory:D,specificMode:$,textAlign:B}=e,R=h()(t,{"is-grid":"grid"===p,"show-image":d,[`columns-${k}`]:"grid"===p,[`colgap-${S}`]:"grid"===p,[`ts-${L}`]:L,[`image-align${y}`]:d,[`is-${I}`]:d,"mobile-stack":O,[`is-${u}`]:d,"has-text-color":""!==i.color,"show-caption":z,"show-category":D,[`has-text-align-${B}`]:B,wpnbha:!0}),F=[{icon:C,title:(0,o.__)("List view","newspack-blocks"),onClick:()=>s({postLayout:"list"}),isActive:"list"===p},{icon:E.A,title:(0,o.__)("Grid view","newspack-blocks"),onClick:()=>s({postLayout:"grid"}),isActive:"grid"===p}],H=[{icon:T,title:(0,o.__)("Show media on top","newspack-blocks"),isActive:"top"===y,onClick:()=>s({mediaPosition:"top"})},{icon:j.A,title:(0,o.__)("Show media on left","newspack-blocks"),isActive:"left"===y,onClick:()=>s({mediaPosition:"left"})},{icon:M.A,title:(0,o.__)("Show media on right","newspack-blocks"),isActive:"right"===y,onClick:()=>s({mediaPosition:"right"})},{icon:P,title:(0,o.__)("Show media behind","newspack-blocks"),isActive:"behind"===y,onClick:()=>s({mediaPosition:"behind"})}],V=[{icon:f,title:(0,o.__)("Landscape image shape","newspack-blocks"),isActive:"landscape"===u,onClick:()=>s({imageShape:"landscape"})},{icon:m,title:(0,o.__)("portrait image shape","newspack-blocks"),isActive:"portrait"===u,onClick:()=>s({imageShape:"portrait"})},{icon:g,title:(0,o.__)("Square image shape","newspack-blocks"),isActive:"square"===u,onClick:()=>s({imageShape:"square"})},{icon:A,title:(0,o.__)("Uncropped","newspack-blocks"),isActive:"uncropped"===u,onClick:()=>s({imageShape:"uncropped"})}];return(0,a.jsxs)(v.Fragment,{children:[(0,a.jsx)("div",{className:R,style:{color:i.color},children:(0,a.jsxs)("div",{children:[r&&(!b.RichText.isEmpty(N)||n)&&(0,a.jsx)(b.RichText,{onChange:e=>s({sectionHeader:e}),placeholder:(0,o.__)("Write header…","newspack-blocks"),value:N,tagName:"h2",className:"article-section-title"}),r&&!r.length&&(0,a.jsx)(w.Placeholder,{children:(0,o.__)("Sorry, no posts were found.","newspack-blocks")}),!r&&!l&&(0,a.jsx)(w.Placeholder,{icon:(0,a.jsx)(w.Spinner,{}),className:"component-placeholder__align-center"}),!r&&l&&(0,a.jsx)(w.Placeholder,{className:"component-placeholder__align-center newspack-block--error",children:l}),r&&r.map(e=>this.renderPost(e))]})}),!$&&r&&x&&!(0,c.Wu)()&&(0,a.jsx)("div",{className:"wpnbha__wp-block-button__wrapper",children:(0,a.jsx)("div",{className:"wp-block-button",children:(0,a.jsx)(b.RichText,{placeholder:(0,o.__)("Load more posts","newspack-blocks"),value:_,onChange:e=>s({moreButtonText:e}),className:"wp-block-button__link",allowedFormats:[]})})}),(0,a.jsxs)(b.BlockControls,{children:[(0,a.jsx)(w.Toolbar,{children:(0,a.jsx)(b.AlignmentControl,{value:B,onChange:e=>{s({textAlign:e})}})}),(0,a.jsx)(w.Toolbar,{controls:F}),d&&(0,a.jsx)(w.Toolbar,{controls:H}),d&&(0,a.jsx)(w.Toolbar,{controls:V})]}),(0,a.jsx)(b.InspectorControls,{children:this.renderInspectorControls()}),(0,a.jsx)(b.InspectorControls,{group:"styles",children:this.renderStylesInspectorControls()})]})}}const O=(0,x.compose)([(0,b.withColors)({textColor:"color"}),(0,y.withSelect)(c.cR),(0,y.withDispatch)(c.Fl)])(I);var N=s(1126);const{UU:z,uK:D,L1:$}=N,B={title:(0,o.__)("Content Loop","newspack-blocks"),icon:{src:r,foreground:t.A["primary-400"]},attributes:D,category:$,keywords:[(0,o.__)("posts","newspack-blocks"),(0,o.__)("articles","newspack-blocks"),(0,o.__)("latest","newspack-blocks"),(0,o.__)("homepage","newspack-blocks"),(0,o.__)("query","newspack-blocks")],description:(0,o.__)("An advanced block that allows displaying content based on different parameters and visual configurations.","newspack-blocks"),styles:[{name:"default",label:(0,o._x)("Default","block style","newspack-blocks"),isDefault:!0},{name:"borders",label:(0,o._x)("Borders","block style","newspack-blocks")}],supports:{html:!1,align:["wide","full"],default:""},edit:O,save:()=>null,transforms:{from:[{type:"block",blocks:["core/latest-posts"],transform:({displayPostContent:t,displayPostDate:s,postLayout:n,columns:a,postsToShow:r,categories:o})=>(0,e.createBlock)((0,i.applyFilters)("blocks.transforms_from_name","newspack-blocks/homepage-articles"),{showExcerpt:t,showDate:s,postLayout:n,columns:a,postsToShow:r,showAuthor:!1,categories:o?[o]:[]})}],to:[{type:"block",blocks:["core/latest-posts"],transform:({showExcerpt:t,showDate:s,postLayout:n,columns:a,postsToShow:r,categories:i})=>(0,e.createBlock)("core/latest-posts",{displayPostContent:t,displayPostDate:s,postLayout:n,columns:a,postsToShow:r,categories:i[0]||""})}]}};var R=s(6428),F=s(8903);const H=`newspack-blocks/${z}`;(0,e.registerBlockType)(H,B),(0,F.n)([H,`newspack-blocks/${R.UU}`])})(),(()=>{"use strict";var e=s(4997),t=s(4727),n=s(5573),a=s(790);const r=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19.5 19C19.5 19.3 19.3 19.5 19 19.5H5C4.7 19.5 4.5 19.3 4.5 19V9.8L9.2 4.5H19C19.3 4.5 19.5 4.7 19.5 5V19ZM13.5 9.5L16 12L13.5 14.8L14.6 15.8L18 12L14.5 8.5L13.5 9.5ZM10.5 9.5L9.5 8.5L6 12L9.5 15.8L10.6 14.8L8 12L10.5 9.5Z"})});var i=s(6427),o=s(7723),l=s(6087),c=s(4715),d=(0,a.jsx)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(n.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),u=s(1455),p=s.n(u),h=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"m6.734 16.106 2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.158 1.093-1.028-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734Z"})}),f=s(6942),m=s.n(f);const g=newspack_blocks_data?.iframe_accepted_file_mimes||[],v=({src:e,onChange:t,onSubmit:s,onClose:n})=>(0,a.jsx)(c.URLPopover,{onClose:n,children:(0,a.jsxs)("form",{className:"wp-block-newspack-blocks-iframe__url-input-form",onSubmit:s,children:[(0,a.jsx)("input",{className:"wp-block-newspack-blocks-iframe__url-input-form__url-input-field",type:"url","aria-label":(0,o.__)("URL"),placeholder:(0,o.__)("Paste or type URL"),onChange:t,value:e}),(0,a.jsx)(i.Button,{className:"wp-block-newspack-blocks-iframe__url-input-form__url-input-submit-button",icon:h,label:(0,o.__)("Apply"),type:"submit"})]})}),b=({icon:e,label:t,src:s,onSelectURL:n,onSelectMedia:r,isUploadingArchive:d,archiveFolder:u,uploadIframeArchive:p,error:h})=>{const[f,b]=(0,l.useState)(!1),[w,y]=(0,l.useState)(s),x=e=>{y(e.target.value)},_=()=>{b(!0)},k=()=>{b(!1)},S=e=>{e.preventDefault(),w&&n&&(n(w),k())},C=e=>{r(e.id)};return(0,a.jsxs)(i.Placeholder,{icon:(0,a.jsx)(c.BlockIcon,{icon:e,showColors:!0}),label:t,className:"wp-block-newspack-blocks-iframe",instructions:(0,o.sprintf)(
// Translators: %s: describes what kinds of files/embeds the current user can use.
// Translators: %s: describes what kinds of files/embeds the current user can use.
(0,o.__)("Upload a document file (PDF, Word, Excel sheet, or a PPT), choose one from the media library, %s.","newspack-blocks"),newspack_blocks_data?.iframe_can_upload_archives?(0,o.__)("embed from a URL, or upload a .zip archive containing HTML assets","newspack-blocks"):(0,o.__)("or embed from a URL","newspack-blocks")),children:[h&&(0,a.jsx)(i.Notice,{status:"error",className:"wp-block-newspack-blocks-iframe-notice",isDismissible:!1,children:h}),(0,a.jsx)("div",{children:d?(0,a.jsx)(i.Spinner,{}):(0,a.jsx)(i.FormFileUpload,{accept:Object.keys(g).map(e=>"."+g[e]).join(","),onChange:e=>{const t=e.target.files;0<t.length&&p(t.item(0))},multiple:!1,render:({openFileDialog:e})=>{return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Button,{isPrimary:!0,className:m()("wp-block-newspack-blocks-iframe__button","wp-block-newspack-blocks-iframe__upload-button"),onClick:e,children:u?(0,o.__)("Update","newspack-blocks"):(0,o.__)("Upload","newspack-blocks")}),(s=C,(0,a.jsx)(c.MediaUploadCheck,{children:(0,a.jsx)(c.MediaUpload,{onSelect:s,allowedTypes:Object.keys(g),render:({open:e})=>(0,a.jsx)(i.Button,{variant:"tertiary",onClick:e,children:(0,o.__)("Media Library","newspack-blocks")})})})),(t=""!==u,n&&(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-iframe__url-input-container",children:[(0,a.jsx)(i.Button,{isTertiary:!0,onClick:_,isPressed:f,variant:"tertiary",children:t?(0,o.__)("Update from URL","newspack-blocks"):(0,o.__)("Embed from URL","newspack-blocks")}),f&&(0,a.jsx)(v,{src:w,onChange:x,onSubmit:S,onClose:k})]}))]});var t,s}})})]})},w=JSON.parse('{"UU":"iframe","L1":"newspack","uK":{"className":{"type":"string","default":""},"src":{"type":"string","default":""},"archiveFolder":{"type":"string","default":""},"height":{"type":"string","default":"600px"},"width":{"type":"string","default":"100%"},"isFullScreen":{"type":"boolean","default":false},"mode":{"type":"string","default":"iframe"}}}'),{UU:y,uK:x,L1:_}=w,k={title:(0,o.__)("Iframe","newspack-blocks"),icon:{src:r,foreground:t.A["primary-400"]},category:_,keywords:[(0,o.__)("iframe","newspack-blocks"),(0,o.__)("project iframe","newspack-blocks")],description:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:(0,o.__)("Embed an iframe.","newspack-blocks")}),(0,a.jsx)(i.ExternalLink,{href:"https://help.newspack.com/publishing-and-appearance/blocks/iframe-block/",children:(0,o.__)("Support reference","newspack-blocks")})]}),attributes:x,supports:{html:!1,align:["wide","full"]},edit:({attributes:e,setAttributes:t})=>{const s=(0,o.__)("Iframe","block title"),{mode:n,src:u,archiveFolder:h,isFullScreen:f,height:m,width:g}=e,[v,w]=(0,l.useState)(!0),[y,x]=(0,l.useState)(),[_,k]=(0,l.useState)(),S=[{value:"px",label:"px"},{value:"%",label:"%"},{value:"em",label:"em"}],C=[{icon:d,title:v?(0,o.__)("Hide iframe preview","newspack-blocks"):(0,o.__)("Show iframe preview","newspack-blocks"),onClick:()=>w(!v),isActive:v}];return(0,a.jsxs)(l.Fragment,{children:[f&&(0,a.jsx)(i.Notice,{status:"warning",className:"wp-block-newspack-blocks-iframe-notice",isDismissible:!1,children:(0,o.__)("This block will take over the page content.","newspack-blocks")}),u&&v?(0,a.jsx)("div",{className:"iframe-container",children:(0,a.jsx)(i.FocusableIframe,{title:(0,o.__)("Newspack embedded iframe","newspack-blocks"),src:"document"===n?`https://docs.google.com/gview?embedded=true&url=${encodeURIComponent(u)}`:u,style:{width:f?"100vw":g,height:f?"100vh":m,maxWidth:"100%",maxHeight:"100%",pointerEvents:"none"}})}):(0,a.jsx)(b,{icon:r,label:s,src:u,onSelectURL:async e=>{k(null),x(!0);try{const s=new FormData;s.append("iframe_url",e);const{mode:n}=await p()({path:"/newspack-blocks/v1/newspack-blocks-iframe-mode-from-url",method:"POST",body:s});t({mode:n,src:e}),w(!0),h&&u&&h&&!u.includes(h)&&p()({path:"/newspack-blocks/v1/newspack-blocks-remove-iframe-archive",method:"DELETE",body:JSON.stringify({archive_folder:h})})}catch(e){k(e.message||(0,o.__)("An error occured when uploading the iframe archive.","newspack-blocks"))}x(!1)},onSelectMedia:async e=>{k(null),x(!0);try{const s=new FormData;s.append("media_id",e);const{src:n,dir:a,mode:r}=await p()({path:"/newspack-blocks/v1/newspack-blocks-iframe-archive-from-media",method:"POST",body:s});t({mode:r,src:n,archiveFolder:a}),w(!0)}catch(e){k(e.message||(0,o.__)("An error occured when setting the iframe from the archive media.","newspack-blocks"))}x(!1)},isUploadingArchive:y,archiveFolder:h,uploadIframeArchive:async e=>{k(null),x(!0);try{const s=new FormData;s.append("archive_folder",h),s.append("iframe_file",e);const{src:n,dir:a,mode:r}=await p()({path:"/newspack-blocks/v1/newspack-blocks-iframe-archive",method:"POST",body:s});t({mode:r,src:n,archiveFolder:a}),w(!0)}catch(e){k(e.message||(0,o.__)("An error occured when uploading the iframe archive.","newspack-blocks"))}x(!1)},error:_}),(0,a.jsx)(c.BlockControls,{children:(0,a.jsx)(i.Toolbar,{controls:u&&C})}),(0,a.jsx)(c.InspectorControls,{children:(0,a.jsx)(i.PanelBody,{title:(0,o.__)("Iframe Settings","newspack-blocks"),initialOpen:!0,children:(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)(i.ToggleControl,{label:(0,o.__)("Fullscreen","newspack-blocks"),help:(0,o.__)("If enabled, the iframe will be full screen and hide all the post content.","newspack-blocks"),checked:f,onChange:e=>t({isFullScreen:e}),required:!0}),!f&&(0,a.jsxs)("div",{className:"wp-block-newspack-blocks-iframe__unit-control",children:[(0,a.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Width","newspack-blocks"),onChange:e=>t({width:e}),value:g,units:S}),(0,a.jsx)(i.__experimentalUnitControl,{label:(0,o.__)("Height","newspack-blocks"),onChange:e=>t({height:e}),value:m,units:S})]})]})})})]})},save:()=>null};(0,e.registerBlockType)(`newspack-blocks/${y}`,k)})(),(()=>{"use strict";var e=s(4997),t=s(4727),n=s(5573),a=s(790);const r=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"M8.833 8L13 10.5L8.833 13V8ZM16.375 18H4.625C4.19402 18 3.7807 17.8288 3.47595 17.524C3.1712 17.2193 3 16.806 3 16.375V4.625C3 3.728 3.728 3 4.625 3H16.375C17.273 3 18 3.728 18 4.625V16.375C18 17.273 17.273 18 16.375 18ZM4.625 16.5H16.375C16.4082 16.5 16.4399 16.4868 16.4634 16.4634C16.4868 16.4399 16.5 16.4082 16.5 16.375V4.625C16.5 4.59185 16.4868 4.56005 16.4634 4.53661C16.4399 4.51317 16.4082 4.5 16.375 4.5H4.625C4.59185 4.5 4.56005 4.51317 4.53661 4.53661C4.51317 4.56005 4.5 4.59185 4.5 4.625V16.375C4.5 16.444 4.556 16.5 4.625 16.5ZM20.25 19C20.25 19.69 19.69 20.25 19.001 20.25H6V21.75H19.001C19.3621 21.75 19.7196 21.6789 20.0532 21.5406C20.3868 21.4024 20.6899 21.1999 20.9452 20.9445C21.2005 20.6891 21.4029 20.3859 21.541 20.0523C21.6791 19.7187 21.7501 19.3611 21.75 19V8H20.25V19Z"})});var i=s(7723),o=s(1455),l=s.n(o),c=s(6087),d=s(6427),u=s(4715),p=s(3832),h=s(8537);class f extends c.Component{constructor(e){super(e),this.state={isLoading:!1,error:"",embed:"",interactive:!1}}componentDidMount(){this.refreshPreview()}componentDidUpdate(e){const{attributes:t}=this.props,{categories:s,videosToShow:n}=t,{attributes:a}=e,{categories:r,videosToShow:i}=a;s===r&&n===i||this.refreshPreview()}static getDerivedStateFromProps(e,t){return!e.isSelected&&t.interactive?{interactive:!1}:null}refreshPreview(){const{attributes:e}=this.props,{categories:t,videosToShow:s}=e,n=(0,p.addQueryArgs)("/newspack-blocks/v1/video-playlist",{categories:t,videosToShow:s});this.setState({isLoading:!0},()=>{l()({path:n}).then(e=>{const{html:t}=e;this.setState({embed:t,isLoading:!1})}).catch(e=>{this.setState({isLoading:!1,error:e.message})})})}renderPlaceholder(){const{isLoading:e,error:t,embed:s}=this.state;return e?(0,a.jsx)(d.Placeholder,{icon:(0,a.jsx)(d.Spinner,{}),className:"component-placeholder__align-center"}):t.length?(0,a.jsx)(d.Placeholder,{icon:"warning",label:(0,i.__)("Error","newspack-blocks"),instructions:t}):s.length?null:(0,a.jsx)(d.Placeholder,{icon:"warning",label:(0,i.__)("Error","newspack-blocks"),instructions:(0,i.__)("No videos found","newspack-blocks")})}fetchCategorySuggestions=e=>l()({path:(0,p.addQueryArgs)("/wp/v2/categories",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,h.decodeEntities)(e.name)||(0,i.__)("(no title)","newspack-blocks")}))});fetchSavedCategories=e=>l()({path:(0,p.addQueryArgs)("/wp/v2/categories",{per_page:100,_fields:"id,name",include:e.join(",")})}).then(function(e){return e.map(e=>({value:e.id,label:(0,h.decodeEntities)(e.name)||(0,i.__)("(no title)","newspack-blocks")}))});render(){const{embed:e,isLoading:t}=this.state,s=()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{children:(0,i.__)("The YouTube Video Playlist block is deprecated","newspack-plugin")}),(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,i.sprintf)(
// translators: %1$s is the link to Google's help doc on creating YouTube playlists. %2$s is the link to the help doc on embedding playlists.
// translators: %1$s is the link to Google's help doc on creating YouTube playlists. %2$s is the link to the help doc on embedding playlists.
(0,i.__)('Consider using <a href="%1$s">YouTube Playlists</a> instead, which can be <a href="%2$s">embedded</a> into post or page content.',"newspack-blocks"),"https://support.google.com/youtube/answer/57792","https://support.google.com/youtube/answer/171780")}})]});return(0,a.jsxs)(c.Fragment,{children:[(0,a.jsxs)("div",{children:[(t||""===e)&&this.renderPlaceholder(),!(t||""===e)&&(0,a.jsx)("div",{className:"wpbnbvp-preview",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})}),!t&&(0,a.jsx)("div",{className:"wpbnbvp__overlay",children:(0,a.jsx)(s,{})})]}),(0,a.jsx)(u.InspectorControls,{children:(0,a.jsx)(d.PanelBody,{title:(0,i.__)("Settings","newspack-blocks"),initialOpen:!0,children:(0,a.jsx)(d.Notice,{status:"warning",isDismissible:!1,children:(0,a.jsx)(s,{})})})})]})}}const m=f,g={title:(0,i.__)("YouTube Video Playlist (DEPRECATED)","newspack-blocks"),icon:{src:r,foreground:t.A["primary-400"]},category:"newspack",keywords:[(0,i.__)("video","newspack-blocks"),(0,i.__)("playlist","newspack-blocks"),(0,i.__)("youtube","newspack-blocks")],description:(0,i.__)("Embed a playlist of latest YouTube videos.","newspack-blocks"),attributes:{className:{type:"string"},categories:{type:"array",default:[]},videosToShow:{type:"integer",default:5}},supports:{html:!1,align:!0},edit:m,save:()=>null};(0,e.registerBlockType)("newspack-blocks/youtube-video-playlist",g)})()})();