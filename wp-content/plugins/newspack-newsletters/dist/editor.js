(function(e, a) { for(var i in a) e[i] = a[i]; }(window, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/editor/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayLikeToArray.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/arrayWithHoles.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithHoles.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray */ \"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/extends.js":
/*!********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/extends.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/extends.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/iterableToArray.js":
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/iterableToArray.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/nonIterableRest.js":
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/nonIterableRest.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/nonIterableSpread.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/objectSpread2.js":
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectSpread2.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var defineProperty = __webpack_require__(/*! ./defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/objectSpread2.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/objectWithoutProperties.js":
/*!************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectWithoutProperties.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var objectWithoutPropertiesLoose = __webpack_require__(/*! ./objectWithoutPropertiesLoose */ \"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/objectWithoutProperties.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/slicedToArray.js":
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/slicedToArray.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithHoles = __webpack_require__(/*! ./arrayWithHoles */ \"./node_modules/@babel/runtime/helpers/arrayWithHoles.js\");\n\nvar iterableToArrayLimit = __webpack_require__(/*! ./iterableToArrayLimit */ \"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray */ \"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\");\n\nvar nonIterableRest = __webpack_require__(/*! ./nonIterableRest */ \"./node_modules/@babel/runtime/helpers/nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/toConsumableArray.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithoutHoles = __webpack_require__(/*! ./arrayWithoutHoles */ \"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js\");\n\nvar iterableToArray = __webpack_require__(/*! ./iterableToArray */ \"./node_modules/@babel/runtime/helpers/iterableToArray.js\");\n\nvar unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray */ \"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = __webpack_require__(/*! ./nonIterableSpread */ \"./node_modules/@babel/runtime/helpers/nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray */ \"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\n\n//# sourceURL=webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js?");

/***/ }),

/***/ "./node_modules/classnames/index.js":
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( true && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}());\n\n\n//# sourceURL=webpack:///./node_modules/classnames/index.js?");

/***/ }),

/***/ "./src/components/init-modal/index.js":
/*!********************************************!*\
  !*** ./src/components/init-modal/index.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _screens_layout_picker__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./screens/layout-picker */ \"./src/components/init-modal/screens/layout-picker/index.js\");\n/* harmony import */ var _screens_api_keys__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./screens/api-keys */ \"./src/components/init-modal/screens/api-keys/index.js\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./style.scss */ \"./src/components/init-modal/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_5__);\n\n\n/**\n * Newsletter Modal\n */\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (_ref) {\n  var hasKeys = _ref.hasKeys,\n      onSetupStatus = _ref.onSetupStatus;\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__[\"Modal\"], {\n    className: \"newspack-newsletters-modal__frame\",\n    isDismissible: false,\n    overlayClassName: \"newspack-newsletters-modal__screen-overlay\",\n    shouldCloseOnClickOutside: false,\n    shouldCloseOnEsc: false,\n    title: hasKeys ? Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Select a layout for your newsletter', 'newspack-newsletters') : Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Configure the newsletters', 'newspack-newsletters')\n  }, hasKeys ? Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_screens_layout_picker__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null) : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_screens_api_keys__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    onSetupStatus: onSetupStatus\n  }));\n});\n\n//# sourceURL=webpack:///./src/components/init-modal/index.js?");

/***/ }),

/***/ "./src/components/init-modal/screens/api-keys/index.js":
/*!*************************************************************!*\
  !*** ./src/components/init-modal/screens/api-keys/index.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/api-fetch */ \"@wordpress/api-fetch\");\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/keycodes */ \"@wordpress/keycodes\");\n/* harmony import */ var _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n\nvar _dispatch = Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_8__[\"dispatch\"])('core/editor'),\n    lockPostAutosaving = _dispatch.lockPostAutosaving,\n    unlockPostAutosaving = _dispatch.unlockPostAutosaving,\n    savePost = _dispatch.savePost;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (_ref) {\n  var onSetupStatus = _ref.onSetupStatus;\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({}),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),\n      keys = _useState2[0],\n      setKeys = _useState2[1];\n\n  var _useState3 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),\n      inFlight = _useState4[0],\n      setInFlight = _useState4[1];\n\n  var _useState5 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({}),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState5, 2),\n      errors = _useState6[0],\n      setErrors = _useState6[1];\n\n  var commitSettings = function commitSettings() {\n    setInFlight(true);\n    setErrors({});\n    _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4___default()({\n      path: '/newspack-newsletters/v1/keys',\n      method: 'POST',\n      data: keys\n    }).then(function (results) {\n      unlockPostAutosaving('newsletters-modal-is-open-lock');\n      savePost().then(function () {\n        setInFlight(false);\n        setKeys(results);\n        onSetupStatus(results.status);\n      });\n    })[\"catch\"](handleErrors);\n  };\n\n  var handleErrors = function handleErrors(error) {\n    if ('newspack_rest_forbidden' === error.code) {\n      setInFlight(false);\n      setErrors({\n        newspack_newsletters_invalid_keys_mailchimp: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Only administrators can set Mailchimp API keys.', 'newspack-newsletters'),\n        newspack_newsletters_invalid_keys_mjml: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Only administrators can set MJML credentials.', 'newspack-newsletters')\n      });\n      return;\n    }\n\n    var allErrors = _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, error.code, error.message);\n\n    (error.additional_errors || []).forEach(function (additionalError) {\n      return allErrors[additionalError.code] = additionalError.message;\n    });\n    setErrors(allErrors);\n    setInFlight(false);\n  };\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    lockPostAutosaving('newsletters-modal-is-open-lock');\n    setInFlight(true);\n    _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4___default()({\n      path: \"/newspack-newsletters/v1/keys\"\n    }).then(function (results) {\n      setInFlight(false);\n      setKeys(results);\n      onSetupStatus(results.status);\n    })[\"catch\"](handleErrors);\n  }, []);\n  var _keys$mailchimp_api_k = keys.mailchimp_api_key,\n      mailchimpAPIKey = _keys$mailchimp_api_k === void 0 ? '' : _keys$mailchimp_api_k,\n      _keys$mjml_api_key = keys.mjml_api_key,\n      mjmlApplicationId = _keys$mjml_api_key === void 0 ? '' : _keys$mjml_api_key,\n      _keys$mjml_api_secret = keys.mjml_api_secret,\n      mjmlAPISecret = _keys$mjml_api_secret === void 0 ? '' : _keys$mjml_api_secret;\n  var canSubmit = mailchimpAPIKey.length > 0 && mjmlApplicationId.length > 0 && mjmlAPISecret.length > 0;\n  var classes = classnames__WEBPACK_IMPORTED_MODULE_9___default()('newspack-newsletters-modal__content', 'newspack-newsletters-modal__settings', inFlight && 'newspack-newsletters-modal__in-flight');\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"Fragment\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"div\", {\n    className: classes\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-modal__settings-wrapper\"\n  }, inFlight && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"Spinner\"], null), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"h4\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Enter your Mailchimp API key', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"TextControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Mailchimp API key', 'newspack-newsletters'),\n    value: mailchimpAPIKey,\n    onChange: function onChange(value) {\n      return setKeys(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, keys, {\n        mailchimp_api_key: value\n      }));\n    },\n    disabled: inFlight,\n    onKeyDown: function onKeyDown(event) {\n      if (canSubmit && _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__[\"ENTER\"] === event.keyCode) {\n        event.preventDefault();\n        commitSettings();\n      }\n    },\n    className: errors.newspack_newsletters_invalid_keys_mailchimp && 'has-error'\n  }), errors.newspack_newsletters_invalid_keys_mailchimp && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"p\", {\n    className: \"error\"\n  }, errors.newspack_newsletters_invalid_keys_mailchimp), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"p\", null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"ExternalLink\"], {\n    href: \"https://us1.admin.mailchimp.com/account/api/\"\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Generate Mailchimp API key', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"span\", {\n    className: \"separator\"\n  }, \" | \"), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"ExternalLink\"], {\n    href: \"https://mailchimp.com/help/about-api-keys/\"\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('About Mailchimp API keys', 'newspack-newsletters'))), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"hr\", null), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"h4\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Enter your MJML API keys', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"TextControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('MJML application ID', 'newspack-newsletters'),\n    value: mjmlApplicationId,\n    onChange: function onChange(value) {\n      return setKeys(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, keys, {\n        mjml_api_key: value\n      }));\n    },\n    disabled: inFlight,\n    onKeyDown: function onKeyDown(event) {\n      if (canSubmit && _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__[\"ENTER\"] === event.keyCode) {\n        event.preventDefault();\n        commitSettings();\n      }\n    },\n    className: errors.newspack_newsletters_invalid_keys_mjml && 'has-error'\n  }), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"TextControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('MJML secret key', 'newspack-newsletters'),\n    value: mjmlAPISecret,\n    onChange: function onChange(value) {\n      return setKeys(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, keys, {\n        mjml_api_secret: value\n      }));\n    },\n    disabled: inFlight,\n    onKeyDown: function onKeyDown(event) {\n      if (canSubmit && _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__[\"ENTER\"] === event.keyCode) {\n        event.preventDefault();\n        commitSettings();\n      }\n    },\n    className: errors.newspack_newsletters_invalid_keys_mjml && 'has-error'\n  }), errors.newspack_newsletters_invalid_keys_mjml && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"p\", {\n    className: \"error\"\n  }, errors.newspack_newsletters_invalid_keys_mjml), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"p\", null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"ExternalLink\"], {\n    href: \"https://mjml.io/api\"\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Request MJML API keys', 'newspack-newsletters'))))), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-modal__action-buttons\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n    isPrimary: true,\n    onClick: commitSettings,\n    disabled: inFlight || !canSubmit\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Save settings', 'newspack-newsletter'))));\n});\n\n//# sourceURL=webpack:///./src/components/init-modal/screens/api-keys/index.js?");

/***/ }),

/***/ "./src/components/init-modal/screens/layout-picker/SingleLayoutPreview.js":
/*!********************************************************************************!*\
  !*** ./src/components/init-modal/screens/layout-picker/SingleLayoutPreview.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/blocks */ \"@wordpress/blocks\");\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/keycodes */ \"@wordpress/keycodes\");\n/* harmony import */ var _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/block-editor */ \"@wordpress/block-editor\");\n/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../utils/consts */ \"./src/utils/consts.js\");\n/* harmony import */ var _editor_blocks_posts_inserter_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../editor/blocks/posts-inserter/utils */ \"./src/editor/blocks/posts-inserter/utils.js\");\n\n\n\n\n/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\nvar SingleLayoutPreview = function SingleLayoutPreview(_ref) {\n  var isEditable = _ref.isEditable,\n      deleteHandler = _ref.deleteHandler,\n      saveLayout = _ref.saveLayout,\n      selectedLayoutId = _ref.selectedLayoutId,\n      setSelectedLayoutId = _ref.setSelectedLayoutId,\n      ID = _ref.ID,\n      title = _ref.post_title,\n      content = _ref.post_content;\n\n  var handleDelete = function handleDelete() {\n    // eslint-disable-next-line no-alert\n    if (confirm(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('Are you sure you want to delete this layout?', 'newspack-newsletters'))) {\n      deleteHandler(ID);\n    }\n  };\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(title),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      layoutName = _useState2[0],\n      setLayoutName = _useState2[1];\n\n  var _useState3 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n      isSaving = _useState4[0],\n      setIsSaving = _useState4[1];\n\n  var handleLayoutNameChange = function handleLayoutNameChange() {\n    if (layoutName !== title) {\n      setIsSaving(true);\n      saveLayout({\n        title: layoutName\n      }).then(function () {\n        setIsSaving(false);\n      });\n    }\n  };\n\n  var blockPreviewBlocks = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    return Object(_editor_blocks_posts_inserter_utils__WEBPACK_IMPORTED_MODULE_11__[\"setPreventDeduplicationForPostsInserter\"])(Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__[\"parse\"])(content));\n  }, [content]);\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    key: ID,\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('newspack-newsletters-layouts__item', {\n      'is-active': selectedLayoutId === ID\n    })\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-layouts__item-preview\",\n    onClick: function onClick() {\n      return setSelectedLayoutId(ID);\n    },\n    onKeyDown: function onKeyDown(event) {\n      if (_wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__[\"ENTER\"] === event.keyCode || _wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__[\"SPACE\"] === event.keyCode) {\n        event.preventDefault();\n        setSelectedLayoutId(ID);\n      }\n    },\n    role: \"button\",\n    tabIndex: \"0\",\n    \"aria-label\": title\n  }, '' === content ? null : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_8__[\"BlockPreview\"], {\n    blocks: blockPreviewBlocks,\n    viewportWidth: 600\n  })), isEditable ? Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__[\"TextControl\"], {\n    className: \"newspack-newsletters-layouts__item-label\",\n    value: layoutName,\n    onChange: setLayoutName,\n    onBlur: handleLayoutNameChange,\n    disabled: isSaving,\n    onKeyDown: function onKeyDown(event) {\n      if (_wordpress_keycodes__WEBPACK_IMPORTED_MODULE_7__[\"ENTER\"] === event.keyCode) {\n        handleLayoutNameChange();\n      }\n    }\n  }) : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-layouts__item-label\"\n  }, title), isEditable && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__[\"Button\"], {\n    isDestructive: true,\n    isLink: true,\n    onClick: handleDelete,\n    disabled: isSaving\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('Delete', 'newspack-newsletters')));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__[\"withDispatch\"])(function (dispatch, _ref2) {\n  var ID = _ref2.ID;\n\n  var _dispatch = dispatch('core'),\n      saveEntityRecord = _dispatch.saveEntityRecord;\n\n  return {\n    saveLayout: function saveLayout(payload) {\n      return saveEntityRecord('postType', _utils_consts__WEBPACK_IMPORTED_MODULE_10__[\"LAYOUT_CPT_SLUG\"], _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({\n        status: 'publish',\n        id: ID\n      }, payload));\n    }\n  };\n})(SingleLayoutPreview));\n\n//# sourceURL=webpack:///./src/components/init-modal/screens/layout-picker/SingleLayoutPreview.js?");

/***/ }),

/***/ "./src/components/init-modal/screens/layout-picker/index.js":
/*!******************************************************************!*\
  !*** ./src/components/init-modal/screens/layout-picker/index.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/blocks */ \"@wordpress/blocks\");\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wordpress/block-editor */ \"@wordpress/block-editor\");\n/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../utils/consts */ \"./src/utils/consts.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../utils/hooks */ \"./src/utils/hooks.js\");\n/* harmony import */ var _SingleLayoutPreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./SingleLayoutPreview */ \"./src/components/init-modal/screens/layout-picker/SingleLayoutPreview.js\");\n\n\n\n\n/**\n * External dependencies\n */\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\nvar LAYOUTS_TABS = [{\n  title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('Default layouts', 'newspack-newsletters'),\n  filter: function filter(layout) {\n    return layout.post_author === undefined;\n  }\n}, {\n  title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('My layouts', 'newspack-newsletters'),\n  filter: _utils__WEBPACK_IMPORTED_MODULE_12__[\"isUserDefinedLayout\"],\n  isEditable: true\n}];\n\nvar LayoutPicker = function LayoutPicker(_ref) {\n  var getBlocks = _ref.getBlocks,\n      insertBlocks = _ref.insertBlocks,\n      replaceBlocks = _ref.replaceBlocks,\n      savePost = _ref.savePost,\n      setLayoutIdMeta = _ref.setLayoutIdMeta;\n\n  var _useLayoutsState = Object(_utils_hooks__WEBPACK_IMPORTED_MODULE_13__[\"useLayoutsState\"])(),\n      layouts = _useLayoutsState.layouts,\n      isFetchingLayouts = _useLayoutsState.isFetchingLayouts,\n      deleteLayoutPost = _useLayoutsState.deleteLayoutPost;\n\n  var insertLayout = function insertLayout(layoutId) {\n    var _ref2 = Object(lodash__WEBPACK_IMPORTED_MODULE_4__[\"find\"])(layouts, {\n      ID: layoutId\n    }) || {},\n        content = _ref2.post_content;\n\n    var blocksToInsert = content ? Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__[\"parse\"])(content) : [];\n    var existingBlocksIds = getBlocks().map(function (_ref3) {\n      var clientId = _ref3.clientId;\n      return clientId;\n    });\n\n    if (existingBlocksIds.length) {\n      replaceBlocks(existingBlocksIds, blocksToInsert);\n    } else {\n      insertBlocks(blocksToInsert);\n    }\n\n    setLayoutIdMeta(layoutId);\n    setTimeout(savePost, 1);\n  };\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(null),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),\n      selectedLayoutId = _useState2[0],\n      setSelectedLayoutId = _useState2[1];\n\n  var layoutBlocks = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    var layout = selectedLayoutId && Object(lodash__WEBPACK_IMPORTED_MODULE_4__[\"find\"])(layouts, {\n      ID: selectedLayoutId\n    });\n    return layout ? Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__[\"parse\"])(layout.post_content) : null;\n  }, [selectedLayoutId, layouts.length]);\n  var canRenderPreview = layoutBlocks && layoutBlocks.length > 0;\n\n  var renderPreview = function renderPreview() {\n    return canRenderPreview ? Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_10__[\"BlockPreview\"], {\n      blocks: layoutBlocks,\n      viewportWidth: 600\n    }) : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"p\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('Select a layout to preview.', 'newspack-newsletters'));\n  };\n\n  var _useState3 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(0),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),\n      activeTabIndex = _useState4[0],\n      setActiveTabIndex = _useState4[1];\n\n  var activeTab = LAYOUTS_TABS[activeTabIndex];\n  var displayedLayouts = layouts.filter(activeTab.filter); // Switch tab to user layouts if there are any.\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (layouts.filter(_utils__WEBPACK_IMPORTED_MODULE_12__[\"isUserDefinedLayout\"]).length) {\n      setActiveTabIndex(1);\n    }\n  }, [layouts.length]);\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-modal__content\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-tabs newspack-newsletters-buttons-group\"\n  }, LAYOUTS_TABS.map(function (_ref4, i) {\n    var title = _ref4.title;\n    return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"Button\"], {\n      key: i,\n      disabled: isFetchingLayouts,\n      className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('newspack-newsletters-tabs__button', {\n        'newspack-newsletters-tabs__button--is-active': !isFetchingLayouts && i === activeTabIndex\n      }),\n      onClick: function onClick() {\n        return setActiveTabIndex(i);\n      }\n    }, title);\n  })), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()('newspack-newsletters-modal__layouts', {\n      'newspack-newsletters-modal__layouts--loading': isFetchingLayouts\n    })\n  }, isFetchingLayouts ? Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"Spinner\"], null) : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()({\n      'newspack-newsletters-layouts': displayedLayouts.length > 0\n    })\n  }, displayedLayouts.length ? displayedLayouts.map(function (layout) {\n    return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_SingleLayoutPreview__WEBPACK_IMPORTED_MODULE_14__[\"default\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n      key: layout.ID,\n      selectedLayoutId: selectedLayoutId,\n      setSelectedLayoutId: setSelectedLayoutId,\n      deleteHandler: deleteLayoutPost,\n      isEditable: activeTab.isEditable\n    }, layout));\n  }) : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"span\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('Turn any newsletter to a layout via the \"Layout\" sidebar menu in the editor.', 'newspack-newsletters')))), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-modal__preview\"\n  }, !isFetchingLayouts && renderPreview())), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-modal__action-buttons\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"Button\"], {\n    isSecondary: true,\n    onClick: function onClick() {\n      return insertLayout(_utils_consts__WEBPACK_IMPORTED_MODULE_11__[\"BLANK_LAYOUT_ID\"]);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('Start From Scratch', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"span\", {\n    className: \"separator\"\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('or', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"Button\"], {\n    isPrimary: true,\n    disabled: isFetchingLayouts || !canRenderPreview,\n    onClick: function onClick() {\n      return insertLayout(selectedLayoutId);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_9__[\"__\"])('Use Selected Layout', 'newspack-newsletters'))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_6__[\"compose\"])([Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_7__[\"withSelect\"])(function (select) {\n  var _select = select('core/block-editor'),\n      getBlocks = _select.getBlocks;\n\n  return {\n    getBlocks: getBlocks\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_7__[\"withDispatch\"])(function (dispatch) {\n  var _dispatch = dispatch('core/editor'),\n      savePost = _dispatch.savePost,\n      editPost = _dispatch.editPost;\n\n  var _dispatch2 = dispatch('core/block-editor'),\n      insertBlocks = _dispatch2.insertBlocks,\n      replaceBlocks = _dispatch2.replaceBlocks;\n\n  return {\n    savePost: savePost,\n    insertBlocks: insertBlocks,\n    replaceBlocks: replaceBlocks,\n    setLayoutIdMeta: function setLayoutIdMeta(id) {\n      return editPost({\n        meta: {\n          template_id: id\n        }\n      });\n    }\n  };\n})])(LayoutPicker));\n\n//# sourceURL=webpack:///./src/components/init-modal/screens/layout-picker/index.js?");

/***/ }),

/***/ "./src/components/init-modal/style.scss":
/*!**********************************************!*\
  !*** ./src/components/init-modal/style.scss ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/components/init-modal/style.scss?");

/***/ }),

/***/ "./src/components/select-control-with-optgroup/index.js":
/*!**************************************************************!*\
  !*** ./src/components/select-control-with-optgroup/index.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SelectControlWithOptGroup; });\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectWithoutProperties */ \"./node_modules/@babel/runtime/helpers/objectWithoutProperties.js\");\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\n\n\n\n/**\n * SelectControl with optgroup support\n */\n\nfunction SelectControlWithOptGroup(_ref) {\n  var help = _ref.help,\n      label = _ref.label,\n      _ref$multiple = _ref.multiple,\n      multiple = _ref$multiple === void 0 ? false : _ref$multiple,\n      onChange = _ref.onChange,\n      _ref$optgroups = _ref.optgroups,\n      optgroups = _ref$optgroups === void 0 ? [] : _ref$optgroups,\n      className = _ref.className,\n      hideLabelFromVision = _ref.hideLabelFromVision,\n      props = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2___default()(_ref, [\"help\", \"label\", \"multiple\", \"onChange\", \"optgroups\", \"className\", \"hideLabelFromVision\"]);\n\n  var instanceId = Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__[\"useInstanceId\"])(SelectControlWithOptGroup);\n  var id = \"inspector-select-control-\".concat(instanceId);\n\n  var onChangeValue = function onChangeValue(event) {\n    if (multiple) {\n      var selectedOptions = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(event.target.options).filter(function (_ref2) {\n        var selected = _ref2.selected;\n        return selected;\n      });\n\n      var newValues = selectedOptions.map(function (_ref3) {\n        var value = _ref3.value;\n        return value;\n      });\n      onChange(newValues);\n      return;\n    }\n\n    onChange(event.target.value);\n  }; // Disable reason: A select with an onchange throws a warning\n\n\n  if (Object(lodash__WEBPACK_IMPORTED_MODULE_4__[\"isEmpty\"])(optgroups)) {\n    return null;\n  }\n  /* eslint-disable jsx-a11y/no-onchange */\n\n\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_6__[\"BaseControl\"], {\n    label: label,\n    hideLabelFromVision: hideLabelFromVision,\n    id: id,\n    help: help,\n    className: className\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"select\", _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n    id: id,\n    className: \"components-select-control__input\",\n    onChange: onChangeValue,\n    \"aria-describedby\": !!help ? \"\".concat(id, \"__help\") : undefined,\n    multiple: multiple\n  }, props), optgroups.map(function (_ref4, optgroupIndex) {\n    var optgroupLabel = _ref4.label,\n        options = _ref4.options;\n    return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"optgroup\", {\n      label: optgroupLabel,\n      key: optgroupIndex\n    }, options.map(function (option, optionIndex) {\n      return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(\"option\", {\n        key: \"\".concat(option.label, \"-\").concat(option.value, \"-\").concat(optionIndex),\n        value: option.value,\n        disabled: option.disabled\n      }, option.label);\n    }));\n  })));\n  /* eslint-enable jsx-a11y/no-onchange */\n}\n\n//# sourceURL=webpack:///./src/components/select-control-with-optgroup/index.js?");

/***/ }),

/***/ "./src/components/send-button/index.js":
/*!*********************************************!*\
  !*** ./src/components/send-button/index.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _service_providers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../service-providers */ \"./src/service-providers/index.js\");\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\nvar _getServiceProvider = Object(_service_providers__WEBPACK_IMPORTED_MODULE_7__[\"getServiceProvider\"])(),\n    renderPreSendInfo = _getServiceProvider.renderPreSendInfo;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__[\"compose\"])([Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__[\"withDispatch\"])(function (dispatch) {\n  var _dispatch = dispatch('core/editor'),\n      editPost = _dispatch.editPost,\n      savePost = _dispatch.savePost;\n\n  return {\n    editPost: editPost,\n    savePost: savePost\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_2__[\"withSelect\"])(function (select, _ref) {\n  var forceIsSaving = _ref.forceIsSaving,\n      forceIsDirty = _ref.forceIsDirty;\n\n  var _select = select('core/editor'),\n      getCurrentPost = _select.getCurrentPost,\n      getEditedPostAttribute = _select.getEditedPostAttribute,\n      getEditedPostVisibility = _select.getEditedPostVisibility,\n      isEditedPostPublishable = _select.isEditedPostPublishable,\n      isEditedPostSaveable = _select.isEditedPostSaveable,\n      isSavingPost = _select.isSavingPost,\n      isEditedPostBeingScheduled = _select.isEditedPostBeingScheduled;\n\n  var _getEditedPostAttribu = getEditedPostAttribute('meta'),\n      _getEditedPostAttribu2 = _getEditedPostAttribu.newsletterData,\n      newsletterData = _getEditedPostAttribu2 === void 0 ? {} : _getEditedPostAttribu2,\n      newsletterValidationErrors = _getEditedPostAttribu.newsletterValidationErrors;\n\n  return {\n    isPublishable: forceIsDirty || isEditedPostPublishable(),\n    isSaveable: isEditedPostSaveable(),\n    isSaving: forceIsSaving || isSavingPost(),\n    validationErrors: newsletterValidationErrors,\n    status: getEditedPostAttribute('status'),\n    isEditedPostBeingScheduled: isEditedPostBeingScheduled(),\n    hasPublishAction: Object(lodash__WEBPACK_IMPORTED_MODULE_6__[\"get\"])(getCurrentPost(), ['_links', 'wp:action-publish'], false),\n    visibility: getEditedPostVisibility(),\n    newsletterData: newsletterData\n  };\n})])(function (_ref2) {\n  var editPost = _ref2.editPost,\n      isPublishable = _ref2.isPublishable,\n      isSaveable = _ref2.isSaveable,\n      isSaving = _ref2.isSaving,\n      savePost = _ref2.savePost,\n      status = _ref2.status,\n      validationErrors = _ref2.validationErrors,\n      isEditedPostBeingScheduled = _ref2.isEditedPostBeingScheduled,\n      hasPublishAction = _ref2.hasPublishAction,\n      visibility = _ref2.visibility,\n      newsletterData = _ref2.newsletterData;\n  var isButtonEnabled = (isPublishable || isEditedPostBeingScheduled) && isSaveable && validationErrors && !validationErrors.length && 'publish' !== status;\n  var label;\n\n  if ('publish' === status) {\n    label = isSaving ? Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Sending', 'newspack-newsletters') : Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Sent', 'newspack-newsletters');\n  } else if ('future' === status) {\n    // Scheduled to be sent\n    label = Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Scheduled', 'newspack-newsletters');\n  } else if (isEditedPostBeingScheduled) {\n    label = Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Schedule sending', 'newspack-newsletters');\n  } else {\n    label = Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Send', 'newspack-newsletters');\n  }\n\n  var publishStatus;\n\n  if (!hasPublishAction) {\n    publishStatus = 'pending';\n  } else if (visibility === 'private') {\n    publishStatus = 'private';\n  } else if (isEditedPostBeingScheduled) {\n    publishStatus = 'future';\n  } else {\n    publishStatus = 'publish';\n  }\n\n  var triggerCampaignSend = function triggerCampaignSend() {\n    editPost({\n      status: publishStatus\n    });\n    savePost();\n  };\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      modalVisible = _useState2[0],\n      setModalVisible = _useState2[1];\n\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n    className: \"editor-post-publish-button\",\n    isBusy: isSaving && 'publish' === status,\n    isPrimary: true,\n    isLarge: true,\n    onClick: function onClick() {\n      return setModalVisible(true);\n    },\n    disabled: !isButtonEnabled\n  }, label), modalVisible && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__[\"Modal\"], {\n    className: \"newspack-newsletters__modal\",\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Send your newsletter?', 'newspack-newsletters'),\n    onRequestClose: function onRequestClose() {\n      return setModalVisible(false);\n    }\n  }, renderPreSendInfo(newsletterData), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n    isPrimary: true,\n    onClick: function onClick() {\n      triggerCampaignSend();\n      setModalVisible(false);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Send', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], {\n    isSecondary: true,\n    onClick: function onClick() {\n      return setModalVisible(false);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Cancel', 'newspack-newsletters'))));\n}));\n\n//# sourceURL=webpack:///./src/components/send-button/index.js?");

/***/ }),

/***/ "./src/components/with-api-handler/index.js":
/*!**************************************************!*\
  !*** ./src/components/with-api-handler/index.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/api-fetch */ \"@wordpress/api-fetch\");\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  return Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_6__[\"createHigherOrderComponent\"])(function (OriginalComponent) {\n    return function (props) {\n      var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n          _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState, 2),\n          inFlight = _useState2[0],\n          setInFlight = _useState2[1];\n\n      var _useState3 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({}),\n          _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_2___default()(_useState3, 2),\n          errors = _useState4[0],\n          setErrors = _useState4[1];\n\n      var _dispatch = Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_5__[\"dispatch\"])('core/notices'),\n          createSuccessNotice = _dispatch.createSuccessNotice,\n          createErrorNotice = _dispatch.createErrorNotice,\n          removeNotice = _dispatch.removeNotice;\n\n      var _select = Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_5__[\"select\"])('core/notices'),\n          getNotices = _select.getNotices;\n\n      var setInFlightForAsync = function setInFlightForAsync() {\n        setInFlight(true);\n      };\n\n      var apiFetchWithErrorHandling = function apiFetchWithErrorHandling(apiRequest) {\n        setInFlight(true);\n        return new Promise(function (resolve, reject) {\n          _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_4___default()(apiRequest).then(function (response) {\n            var message = response.message;\n            getNotices().forEach(function (notice) {\n              return removeNotice(notice.id);\n            });\n\n            if (message) {\n              createSuccessNotice(message);\n            }\n\n            setInFlight(false);\n            setErrors({});\n            resolve(response);\n          })[\"catch\"](function (error) {\n            var message = error.message;\n            getNotices().forEach(function (notice) {\n              return removeNotice(notice.id);\n            });\n            createErrorNotice(message);\n            setInFlight(false);\n            setErrors(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, error.code, true));\n            reject(error);\n          });\n        });\n      };\n\n      return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(OriginalComponent, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({}, props, {\n        apiFetchWithErrorHandling: apiFetchWithErrorHandling,\n        errors: errors,\n        setInFlightForAsync: setInFlightForAsync,\n        inFlight: inFlight\n      }));\n    };\n  }, 'with-api-handler');\n});\n\n//# sourceURL=webpack:///./src/components/with-api-handler/index.js?");

/***/ }),

/***/ "./src/editor/blocks-validation/blocks-filters.js":
/*!********************************************************!*\
  !*** ./src/editor/blocks-validation/blocks-filters.js ***!
  \********************************************************/
/*! exports provided: addBlocksValidationFilter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addBlocksValidationFilter\", function() { return addBlocksValidationFilter; });\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/hooks */ \"@wordpress/hooks\");\n/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__);\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\nvar handleSideAlignment = function handleSideAlignment(warnings, props) {\n  if (props.attributes.align === 'left' || props.attributes.align === 'right') {\n    warnings.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Side alignment', 'newspack-newsletters'));\n  }\n\n  return warnings;\n};\n\nvar getWarnings = function getWarnings(props) {\n  var warnings = [];\n\n  switch (props.name) {\n    case 'core/group':\n      if (props.attributes.__nestedGroupWarning) {\n        warnings.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Nested group', 'newspack-newsletters'));\n      }\n\n      break;\n\n    case 'core/column':\n      if (props.attributes.__nestedColumnWarning) {\n        warnings.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Nested columns', 'newspack-newsletters'));\n      }\n\n      if (props.attributes.verticalAlignment === 'center') {\n        warnings.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Middle alignment', 'newspack-newsletters'));\n      }\n\n      break;\n\n    case 'core/image':\n      warnings = handleSideAlignment(warnings, props);\n\n      if (props.attributes.align === 'full') {\n        warnings.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Full width', 'newspack-newsletters'));\n      }\n\n      break;\n\n    case 'core/paragraph':\n      if (props.attributes.content.indexOf('<img') >= 0) {\n        warnings.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Inline image', 'newspack-newsletters'));\n      }\n\n      if (props.attributes.dropCap) {\n        warnings.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Drop cap', 'newspack-newsletters'));\n      }\n\n      break;\n  }\n\n  return warnings;\n};\n\nvar withUnsupportedFeaturesNotices = Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__[\"createHigherOrderComponent\"])(function (BlockListBlock) {\n  return function (props) {\n    var warnings = getWarnings(props);\n    return warnings.length ? Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"div\", {\n      className: \"newspack-newsletters__editor-block\"\n    }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"div\", {\n      className: \"newspack-newsletters__editor-block__warning components-notice is-error\"\n    }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('These features will not be displayed correctly in an email, please remove them:', 'newspack-newsletters'), warnings.map(function (warning, i) {\n      return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"strong\", {\n        key: i\n      }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"br\", null), warning);\n    })), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(BlockListBlock, props)) : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(BlockListBlock, props);\n  };\n}, 'withInspectorControl');\nvar addBlocksValidationFilter = function addBlocksValidationFilter() {\n  Object(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_2__[\"addFilter\"])('editor.BlockListBlock', 'newspack-newsletters/unsupported-features-notices', withUnsupportedFeaturesNotices);\n};\n\n//# sourceURL=webpack:///./src/editor/blocks-validation/blocks-filters.js?");

/***/ }),

/***/ "./src/editor/blocks-validation/nesting-detection.js":
/*!***********************************************************!*\
  !*** ./src/editor/blocks-validation/nesting-detection.js ***!
  \***********************************************************/
/*! exports provided: NestedColumnsDetection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NestedColumnsDetection\", function() { return NestedColumnsDetection; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\nvar NestedColumnsDetectionBase = function NestedColumnsDetectionBase(_ref) {\n  var blocks = _ref.blocks,\n      updateBlock = _ref.updateBlock;\n\n  var handleWarning = function handleWarning(block, condition, warningKeyName) {\n    var hasWarning = block.attributes[warningKeyName] === true;\n\n    if (condition && !hasWarning) {\n      updateBlock(block.clientId, _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, block, {\n        attributes: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, block.attributes, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, warningKeyName, true))\n      }));\n    } else if (!condition && hasWarning) {\n      updateBlock(block.clientId, _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, block, {\n        attributes: _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, block.attributes, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, warningKeyName, false))\n      }));\n    }\n  };\n\n  var warnIfColumnHasColumns = function warnIfColumnHasColumns(block) {\n    if (block.name === 'core/column') {\n      var hasColumns = Object(lodash__WEBPACK_IMPORTED_MODULE_2__[\"some\"])(block.innerBlocks, function (_ref2) {\n        var name = _ref2.name;\n        return name === 'core/columns';\n      });\n      handleWarning(block, hasColumns, '__nestedColumnWarning');\n    }\n\n    block.innerBlocks.forEach(warnIfColumnHasColumns);\n  };\n\n  var warnIfIsGroupBlock = function warnIfIsGroupBlock(block) {\n    handleWarning(block, block.name === 'core/group', '__nestedGroupWarning');\n    block.innerBlocks.forEach(warnIfIsGroupBlock);\n  };\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function () {\n    blocks.forEach(function (block) {\n      // A column cannot host columns.\n      block.innerBlocks.forEach(warnIfColumnHasColumns); // Group can only be top-level.\n\n      block.innerBlocks.forEach(warnIfIsGroupBlock);\n    });\n  }, [blocks]);\n  return null;\n};\n\nvar NestedColumnsDetection = Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__[\"compose\"])([Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__[\"withSelect\"])(function (select) {\n  var _select = select('core/block-editor'),\n      getBlocks = _select.getBlocks;\n\n  return {\n    blocks: getBlocks()\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__[\"withDispatch\"])(function (dispatch) {\n  return {\n    updateBlock: function updateBlock(id, block) {\n      dispatch('core/block-editor').replaceBlock(id, block);\n    }\n  };\n})])(NestedColumnsDetectionBase);\n\n//# sourceURL=webpack:///./src/editor/blocks-validation/nesting-detection.js?");

/***/ }),

/***/ "./src/editor/blocks/posts-inserter/consts.js":
/*!****************************************************!*\
  !*** ./src/editor/blocks/posts-inserter/consts.js ***!
  \****************************************************/
/*! exports provided: POSTS_INSERTER_BLOCK_NAME, POSTS_INSERTER_STORE_NAME */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POSTS_INSERTER_BLOCK_NAME\", function() { return POSTS_INSERTER_BLOCK_NAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"POSTS_INSERTER_STORE_NAME\", function() { return POSTS_INSERTER_STORE_NAME; });\nvar POSTS_INSERTER_BLOCK_NAME = 'newspack-newsletters/posts-inserter';\nvar POSTS_INSERTER_STORE_NAME = 'newspack-newsletters/posts-inserter-block';\n\n//# sourceURL=webpack:///./src/editor/blocks/posts-inserter/consts.js?");

/***/ }),

/***/ "./src/editor/blocks/posts-inserter/deduplication.js":
/*!***********************************************************!*\
  !*** ./src/editor/blocks/posts-inserter/deduplication.js ***!
  \***********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./consts */ \"./src/editor/blocks/posts-inserter/consts.js\");\n\n\n\n\n/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\nvar DEFAULT_STATE = {\n  postIdsByBlocks: {},\n  existingBlockIdsInOrder: [],\n  insertedPostIds: []\n};\nvar actions = {\n  setHandledPostsIds: function setHandledPostsIds(ids, props) {\n    return {\n      type: 'SET_HANDLED_POST_IDS',\n      handledPostIds: ids,\n      props: props\n    };\n  },\n\n  /**\n   * After insertion, save the inserted post ids.\n   *\n   * @param {Array} insertedPostIds post ids\n   */\n  setInsertedPostsIds: function setInsertedPostsIds(insertedPostIds) {\n    return {\n      type: 'SET_INSERTED_POST_IDS',\n      insertedPostIds: insertedPostIds\n    };\n  },\n  removeBlock: function removeBlock(clientId) {\n    return {\n      type: 'REMOVE_BLOCK',\n      clientId: clientId\n    };\n  }\n};\n\nvar getAllPostsInserterBlocksIds = function getAllPostsInserterBlocksIds(blocks) {\n  return Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"flatMap\"])(blocks, function (block) {\n    return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(block.name === _consts__WEBPACK_IMPORTED_MODULE_5__[\"POSTS_INSERTER_BLOCK_NAME\"] ? [block.clientId] : []), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(getAllPostsInserterBlocksIds(block.innerBlocks)));\n  });\n};\n\nObject(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__[\"registerStore\"])(_consts__WEBPACK_IMPORTED_MODULE_5__[\"POSTS_INSERTER_STORE_NAME\"], {\n  reducer: function reducer() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_STATE;\n    var action = arguments.length > 1 ? arguments[1] : undefined;\n\n    switch (action.type) {\n      case 'SET_HANDLED_POST_IDS':\n        var _action$props = action.props,\n            clientId = _action$props.clientId,\n            existingBlocks = _action$props.existingBlocks;\n        var existingBlockIdsInOrder = getAllPostsInserterBlocksIds(existingBlocks);\n        return _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {\n          existingBlockIdsInOrder: existingBlockIdsInOrder,\n          postIdsByBlocks: Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"pick\"])(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, state.postIdsByBlocks, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, clientId, action.handledPostIds)), existingBlockIdsInOrder)\n        });\n\n      case 'SET_INSERTED_POST_IDS':\n        return _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {\n          insertedPostIds: Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"uniq\"])([].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(state.insertedPostIds), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(action.insertedPostIds)))\n        });\n\n      case 'REMOVE_BLOCK':\n        return _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, state, {\n          existingBlockIdsInOrder: Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"without\"])(state.existingBlockIdsInOrder, action.clientId),\n          postIdsByBlocks: Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"omit\"])(state.postIdsByBlocks, [action.clientId])\n        });\n    }\n\n    return state;\n  },\n  actions: actions,\n  selectors: {\n    getHandledPostIds: function getHandledPostIds(_ref, blockClientId) {\n      var postIdsByBlocks = _ref.postIdsByBlocks,\n          existingBlockIdsInOrder = _ref.existingBlockIdsInOrder,\n          insertedPostIds = _ref.insertedPostIds;\n      var blockIndex = existingBlockIdsInOrder.indexOf(blockClientId);\n      var blocksBeforeIds = Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"slice\"])(existingBlockIdsInOrder, 0, blockIndex);\n      return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"uniq\"])(Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"flatten\"])(Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"values\"])(Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"pick\"])(postIdsByBlocks, blocksBeforeIds))))), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_2___default()(insertedPostIds));\n    }\n  }\n});\n\n//# sourceURL=webpack:///./src/editor/blocks/posts-inserter/deduplication.js?");

/***/ }),

/***/ "./src/editor/blocks/posts-inserter/icon.js":
/*!**************************************************!*\
  !*** ./src/editor/blocks/posts-inserter/icon.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/* From https://material.io/tools/icons */\n\nvar icon = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__[\"SVG\"], {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"24\",\n  height: \"24\",\n  viewBox: \"0 0 24 24\"\n}, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__[\"Path\"], {\n  d: \"M0 0h24v24H0z\",\n  fill: \"none\"\n}), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_1__[\"Path\"], {\n  d: \"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zM10 9h8v2h-8zm0 3h4v2h-4zm0-6h8v2h-8z\"\n}));\n/* harmony default export */ __webpack_exports__[\"default\"] = (icon);\n\n//# sourceURL=webpack:///./src/editor/blocks/posts-inserter/icon.js?");

/***/ }),

/***/ "./src/editor/blocks/posts-inserter/index.js":
/*!***************************************************!*\
  !*** ./src/editor/blocks/posts-inserter/index.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/blocks */ \"@wordpress/blocks\");\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/block-editor */ \"@wordpress/block-editor\");\n/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./style.scss */ \"./src/editor/blocks/posts-inserter/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _deduplication__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./deduplication */ \"./src/editor/blocks/posts-inserter/deduplication.js\");\n/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./icon */ \"./src/editor/blocks/posts-inserter/icon.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils */ \"./src/editor/blocks/posts-inserter/utils.js\");\n/* harmony import */ var _query_controls__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./query-controls */ \"./src/editor/blocks/posts-inserter/query-controls.js\");\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./consts */ \"./src/editor/blocks/posts-inserter/consts.js\");\n\n\n\n\n/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n\n\nvar PostsInserterBlock = function PostsInserterBlock(_ref) {\n  var setAttributes = _ref.setAttributes,\n      attributes = _ref.attributes,\n      postList = _ref.postList,\n      replaceBlocks = _ref.replaceBlocks,\n      setHandledPostsIds = _ref.setHandledPostsIds,\n      setInsertedPostsIds = _ref.setInsertedPostsIds,\n      removeBlock = _ref.removeBlock;\n  var templateBlocks = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    return Object(_utils__WEBPACK_IMPORTED_MODULE_13__[\"getTemplateBlocks\"])(postList, attributes);\n  }, [postList, attributes]);\n  var innerBlocksToInsert = templateBlocks.map(_utils__WEBPACK_IMPORTED_MODULE_13__[\"convertBlockSerializationFormat\"]);\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    setAttributes({\n      innerBlocksToInsert: innerBlocksToInsert\n    });\n  }, [JSON.stringify(innerBlocksToInsert)]);\n  var handledPostIds = postList.map(function (post) {\n    return post.id;\n  });\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (attributes.areBlocksInserted) {\n      replaceBlocks(templateBlocks);\n      setInsertedPostsIds(handledPostIds);\n    }\n  }, [attributes.areBlocksInserted]);\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!attributes.preventDeduplication) {\n      setHandledPostsIds(handledPostIds);\n      return removeBlock;\n    }\n  }, [handledPostIds.join()]);\n  var blockControlsImages = [{\n    icon: 'align-none',\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Show image on top', 'newspack-blocks'),\n    isActive: attributes.featuredImageAlignment === 'top',\n    onClick: function onClick() {\n      return setAttributes({\n        featuredImageAlignment: 'top'\n      });\n    }\n  }, {\n    icon: 'align-pull-left',\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Show image on left', 'newspack-blocks'),\n    isActive: attributes.featuredImageAlignment === 'left',\n    onClick: function onClick() {\n      return setAttributes({\n        featuredImageAlignment: 'left'\n      });\n    }\n  }, {\n    icon: 'align-pull-right',\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Show image on right', 'newspack-blocks'),\n    isActive: attributes.featuredImageAlignment === 'right',\n    onClick: function onClick() {\n      return setAttributes({\n        featuredImageAlignment: 'right'\n      });\n    }\n  }];\n  return attributes.areBlocksInserted ? null : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_9__[\"InspectorControls\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"PanelBody\"], {\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Post content settings', 'newspack-newsletters')\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"ToggleControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Display post excerpt', 'newspack-newsletters'),\n    checked: attributes.displayPostExcerpt,\n    onChange: function onChange(value) {\n      return setAttributes({\n        displayPostExcerpt: value\n      });\n    }\n  }), attributes.displayPostExcerpt && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"RangeControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Max number of words in excerpt', 'newspack-newsletters'),\n    value: attributes.excerptLength,\n    onChange: function onChange(value) {\n      return setAttributes({\n        excerptLength: value\n      });\n    },\n    min: 10,\n    max: 100\n  }), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"ToggleControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Display date', 'newspack-newsletters'),\n    checked: attributes.displayPostDate,\n    onChange: function onChange(value) {\n      return setAttributes({\n        displayPostDate: value\n      });\n    }\n  }), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"ToggleControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Display featured image', 'newspack-newsletters'),\n    checked: attributes.displayFeaturedImage,\n    onChange: function onChange(value) {\n      return setAttributes({\n        displayFeaturedImage: value\n      });\n    }\n  })), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"PanelBody\"], {\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Sorting and filtering', 'newspack-newsletters')\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_query_controls__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n    attributes: attributes,\n    setAttributes: setAttributes\n  }))), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_9__[\"BlockControls\"], null, attributes.displayFeaturedImage && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"Toolbar\"], {\n    controls: blockControlsImages\n  })), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-posts-inserter\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-posts-inserter__header\"\n  }, _icon__WEBPACK_IMPORTED_MODULE_12__[\"default\"], Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"span\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Posts Inserter', 'newspack-newsletters'))), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-posts-inserter__preview\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_9__[\"BlockPreview\"], {\n    blocks: templateBlocks,\n    viewportWidth: 558\n  })), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-posts-inserter__footer\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_8__[\"Button\"], {\n    isPrimary: true,\n    onClick: function onClick() {\n      return setAttributes({\n        areBlocksInserted: true\n      });\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Insert posts', 'newspack-newsletters')))));\n};\n\nvar PostsInserterBlockWithSelect = Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_7__[\"compose\"])([Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_6__[\"withSelect\"])(function (select, props) {\n  var _props$attributes = props.attributes,\n      postsToShow = _props$attributes.postsToShow,\n      order = _props$attributes.order,\n      orderBy = _props$attributes.orderBy,\n      categories = _props$attributes.categories,\n      isDisplayingSpecificPosts = _props$attributes.isDisplayingSpecificPosts,\n      specificPosts = _props$attributes.specificPosts,\n      preventDeduplication = _props$attributes.preventDeduplication;\n\n  var _select = select('core'),\n      getEntityRecords = _select.getEntityRecords,\n      getMedia = _select.getMedia;\n\n  var _select2 = select('core/block-editor'),\n      getSelectedBlock = _select2.getSelectedBlock,\n      getBlocks = _select2.getBlocks;\n\n  var catIds = categories && categories.length > 0 ? categories.map(function (cat) {\n    return cat.id;\n  }) : [];\n\n  var _select3 = select(_consts__WEBPACK_IMPORTED_MODULE_15__[\"POSTS_INSERTER_STORE_NAME\"]),\n      getHandledPostIds = _select3.getHandledPostIds;\n\n  var exclude = getHandledPostIds(props.clientId);\n  var posts = [];\n  var isHandlingSpecificPosts = isDisplayingSpecificPosts && specificPosts.length > 0;\n\n  if (!isDisplayingSpecificPosts || isHandlingSpecificPosts) {\n    var postListQuery = isDisplayingSpecificPosts ? {\n      include: specificPosts.map(function (post) {\n        return post.id;\n      })\n    } : Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"pickBy\"])({\n      categories: catIds,\n      order: order,\n      orderby: orderBy,\n      per_page: postsToShow,\n      exclude: preventDeduplication ? [] : exclude\n    }, function (value) {\n      return !Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"isUndefined\"])(value);\n    });\n    posts = getEntityRecords('postType', 'post', postListQuery) || [];\n  } // Order posts in the order as they appear in the input\n\n\n  if (isHandlingSpecificPosts) {\n    posts = specificPosts.reduce(function (all, _ref2) {\n      var id = _ref2.id;\n      var found = Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"find\"])(posts, ['id', id]);\n      return found ? [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default()(all), [found]) : all;\n    }, []);\n  }\n\n  return {\n    existingBlocks: getBlocks(),\n    selectedBlock: getSelectedBlock(),\n    postList: posts.map(function (post) {\n      if (post.featured_media) {\n        var image = getMedia(post.featured_media);\n        var fallbackImageURL = Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"get\"])(image, 'source_url', null);\n        var featuredImageMediumURL = Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"get\"])(image, ['media_details', 'sizes', 'medium', 'source_url'], null) || fallbackImageURL;\n        var featuredImageLargeURL = Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"get\"])(image, ['media_details', 'sizes', 'large', 'source_url'], null) || fallbackImageURL;\n        return _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, post, {\n          featuredImageMediumURL: featuredImageMediumURL,\n          featuredImageLargeURL: featuredImageLargeURL\n        });\n      }\n\n      return post;\n    })\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_6__[\"withDispatch\"])(function (dispatch, props) {\n  var _dispatch = dispatch('core/block-editor'),\n      _replaceBlocks = _dispatch.replaceBlocks;\n\n  var _dispatch2 = dispatch(_consts__WEBPACK_IMPORTED_MODULE_15__[\"POSTS_INSERTER_STORE_NAME\"]),\n      _setHandledPostsIds = _dispatch2.setHandledPostsIds,\n      setInsertedPostsIds = _dispatch2.setInsertedPostsIds,\n      _removeBlock = _dispatch2.removeBlock;\n\n  return {\n    replaceBlocks: function replaceBlocks(blocks) {\n      _replaceBlocks(props.selectedBlock.clientId, blocks);\n    },\n    setHandledPostsIds: function setHandledPostsIds(ids) {\n      return _setHandledPostsIds(ids, props);\n    },\n    setInsertedPostsIds: setInsertedPostsIds,\n    removeBlock: function removeBlock() {\n      return _removeBlock(props.clientId);\n    }\n  };\n})])(PostsInserterBlock);\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__[\"registerBlockType\"])(_consts__WEBPACK_IMPORTED_MODULE_15__[\"POSTS_INSERTER_BLOCK_NAME\"], {\n    title: 'Posts Inserter',\n    category: 'widgets',\n    icon: _icon__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n    edit: PostsInserterBlockWithSelect,\n    attributes: {\n      areBlocksInserted: {\n        type: 'boolean',\n        \"default\": false\n      },\n      postsToShow: {\n        type: 'number',\n        \"default\": 3\n      },\n      displayPostExcerpt: {\n        type: 'boolean',\n        \"default\": true\n      },\n      excerptLength: {\n        type: 'number',\n        \"default\": 15\n      },\n      displayPostDate: {\n        type: 'boolean',\n        \"default\": false\n      },\n      displayFeaturedImage: {\n        type: 'boolean',\n        \"default\": true\n      },\n      innerBlocksToInsert: {\n        type: 'array',\n        \"default\": ''\n      },\n      featuredImageAlignment: {\n        type: 'string',\n        \"default\": 'left'\n      },\n      isDisplayingSpecificPosts: {\n        type: 'boolean',\n        \"default\": false\n      },\n      specificPosts: {\n        type: 'array',\n        \"default\": []\n      }\n    },\n    save: function save() {\n      return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_9__[\"InnerBlocks\"].Content, null);\n    }\n  });\n});\n\n//# sourceURL=webpack:///./src/editor/blocks/posts-inserter/index.js?");

/***/ }),

/***/ "./src/editor/blocks/posts-inserter/query-controls.js":
/*!************************************************************!*\
  !*** ./src/editor/blocks/posts-inserter/query-controls.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ \"./node_modules/@babel/runtime/helpers/extends.js\");\n/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/url */ \"@wordpress/url\");\n/* harmony import */ var _wordpress_url__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_url__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/api-fetch */ \"@wordpress/api-fetch\");\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _wordpress_html_entities__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @wordpress/html-entities */ \"@wordpress/html-entities\");\n/* harmony import */ var _wordpress_html_entities__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_wordpress_html_entities__WEBPACK_IMPORTED_MODULE_10__);\n\n\n\n\n\n\n/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n\n\nvar fetchPostSuggestions = function fetchPostSuggestions(search) {\n  return _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_9___default()({\n    path: Object(_wordpress_url__WEBPACK_IMPORTED_MODULE_8__[\"addQueryArgs\"])('/wp/v2/search', {\n      search: search,\n      per_page: 20,\n      _fields: 'id,title',\n      subtype: 'post'\n    })\n  }).then(function (posts) {\n    return posts.map(function (post) {\n      return {\n        id: post.id,\n        title: Object(_wordpress_html_entities__WEBPACK_IMPORTED_MODULE_10__[\"decodeEntities\"])(post.title) || Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('(no title)', 'newspack-newsletters')\n      };\n    });\n  });\n};\n\nvar SEPARATOR = '--';\n\nvar encodePosts = function encodePosts(posts) {\n  return posts.map(function (post) {\n    return [post.id, post.title].join(SEPARATOR);\n  });\n};\n\nvar decodePost = function decodePost(encodedPost) {\n  var match = encodedPost.match(new RegExp(\"^([\\\\d]*)\".concat(SEPARATOR, \"(.*)\")));\n\n  if (match) {\n    return [match[1], match[2]];\n  }\n\n  return encodedPost;\n}; // NOTE: Mostly copied from Gutenberg's Posts Inserter block.\n// https://github.com/WordPress/gutenberg/blob/master/packages/block-library/src/posts-inserter/edit.js\n\n\nvar QueryControlsSettings = function QueryControlsSettings(_ref) {\n  var attributes = _ref.attributes,\n      setAttributes = _ref.setAttributes;\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState, 2),\n      categoriesList = _useState2[0],\n      setCategoriesList = _useState2[1];\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_9___default()({\n      path: Object(_wordpress_url__WEBPACK_IMPORTED_MODULE_8__[\"addQueryArgs\"])(\"/wp/v2/categories\", {\n        per_page: -1\n      })\n    }).then(setCategoriesList);\n  }, []);\n  var categorySuggestions = categoriesList.reduce(function (accumulator, category) {\n    return _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default()({}, accumulator, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, category.name, category));\n  }, {});\n\n  var selectCategories = function selectCategories(tokens) {\n    var hasNoSuggestion = tokens.some(function (token) {\n      return typeof token === 'string' && !categorySuggestions[token];\n    });\n\n    if (hasNoSuggestion) {\n      return;\n    } // Categories that are already will be objects, while new additions will be strings (the name).\n    // allCategories nomalizes the array so that they are all objects.\n\n\n    var allCategories = tokens.map(function (token) {\n      return typeof token === 'string' ? categorySuggestions[token] : token;\n    }); // We do nothing if the category is not selected\n    // from suggestions.\n\n    if (Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"includes\"])(allCategories, null)) {\n      return false;\n    }\n\n    setAttributes({\n      categories: allCategories\n    });\n  };\n\n  var _useState3 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState3, 2),\n      isFetchingPosts = _useState4[0],\n      setIsFetchingPosts = _useState4[1];\n\n  var _useState5 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_useState5, 2),\n      foundPosts = _useState6[0],\n      setFoundPosts = _useState6[1];\n\n  var handleSpecificPostsInput = function handleSpecificPostsInput(search) {\n    if (isFetchingPosts || search.length === 0) {\n      return;\n    }\n\n    setIsFetchingPosts(true);\n    fetchPostSuggestions(search).then(function (posts) {\n      setIsFetchingPosts(false);\n      setFoundPosts(posts);\n    });\n  };\n\n  var handleSpecificPostsSelection = function handleSpecificPostsSelection(postTitles) {\n    setAttributes({\n      specificPosts: postTitles.map(function (encodedTitle) {\n        var _decodePost = decodePost(encodedTitle),\n            _decodePost2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_decodePost, 2),\n            id = _decodePost2[0],\n            title = _decodePost2[1];\n\n        return {\n          id: parseInt(id),\n          title: title\n        };\n      })\n    });\n  };\n\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-query-controls\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_7__[\"ToggleControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Display specific posts', 'newspack-newsletters'),\n    checked: attributes.isDisplayingSpecificPosts,\n    onChange: function onChange(value) {\n      return setAttributes({\n        isDisplayingSpecificPosts: value\n      });\n    }\n  }), attributes.isDisplayingSpecificPosts ? Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_7__[\"FormTokenField\"], {\n    label: Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"createElement\"])(\"div\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Add posts', 'newspack-newsletters'), isFetchingPosts && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_7__[\"Spinner\"], null)),\n    onChange: handleSpecificPostsSelection,\n    value: encodePosts(attributes.specificPosts),\n    suggestions: encodePosts(foundPosts),\n    displayTransform: function displayTransform(string) {\n      var _decodePost3 = decodePost(string),\n          _decodePost4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_decodePost3, 2),\n          id = _decodePost4[0],\n          title = _decodePost4[1];\n\n      return title || id;\n    },\n    onInputChange: Object(lodash__WEBPACK_IMPORTED_MODULE_5__[\"debounce\"])(handleSpecificPostsInput, 400)\n  }) : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_4__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_7__[\"QueryControls\"], _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({\n    order: attributes.order,\n    orderBy: attributes.orderBy\n  }, {\n    numberOfItems: attributes.postsToShow,\n    onOrderChange: function onOrderChange(value) {\n      return setAttributes({\n        order: value\n      });\n    },\n    onOrderByChange: function onOrderByChange(value) {\n      return setAttributes({\n        orderBy: value\n      });\n    },\n    onNumberOfItemsChange: function onNumberOfItemsChange(value) {\n      return setAttributes({\n        postsToShow: value\n      });\n    },\n    categorySuggestions: categorySuggestions,\n    onCategoryChange: selectCategories,\n    selectedCategories: attributes.categories // Support for legacy Gutenberg version.\n    ,\n    categoriesList: [],\n    minItems: 1,\n    maxItems: 10\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (QueryControlsSettings);\n\n//# sourceURL=webpack:///./src/editor/blocks/posts-inserter/query-controls.js?");

/***/ }),

/***/ "./src/editor/blocks/posts-inserter/style.scss":
/*!*****************************************************!*\
  !*** ./src/editor/blocks/posts-inserter/style.scss ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/editor/blocks/posts-inserter/style.scss?");

/***/ }),

/***/ "./src/editor/blocks/posts-inserter/utils.js":
/*!***************************************************!*\
  !*** ./src/editor/blocks/posts-inserter/utils.js ***!
  \***************************************************/
/*! exports provided: getTemplateBlocks, convertBlockSerializationFormat, setPreventDeduplicationForPostsInserter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTemplateBlocks\", function() { return getTemplateBlocks; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"convertBlockSerializationFormat\", function() { return convertBlockSerializationFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setPreventDeduplicationForPostsInserter\", function() { return setPreventDeduplicationForPostsInserter; });\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/blocks */ \"@wordpress/blocks\");\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_date__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/date */ \"@wordpress/date\");\n/* harmony import */ var _wordpress_date__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_date__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./consts */ \"./src/editor/blocks/posts-inserter/consts.js\");\n\n\n\n\n/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\nvar getHeadingBlockTemplate = function getHeadingBlockTemplate(post) {\n  return ['core/heading', {\n    content: \"<a href=\\\"\".concat(post.link, \"\\\">\").concat(post.title.rendered, \"</a>\"),\n    level: 3\n  }];\n};\n\nvar getDateBlockTemplate = function getDateBlockTemplate(post) {\n  var dateFormat = Object(_wordpress_date__WEBPACK_IMPORTED_MODULE_5__[\"__experimentalGetSettings\"])().formats.date;\n\n  return ['core/paragraph', {\n    content: Object(_wordpress_date__WEBPACK_IMPORTED_MODULE_5__[\"dateI18n\"])(dateFormat, post.date_gmt),\n    fontSize: 'normal',\n    customTextColor: '#444444'\n  }];\n};\n\nvar getExcerptBlockTemplate = function getExcerptBlockTemplate(post, _ref) {\n  var excerptLength = _ref.excerptLength;\n  var excerpt = post.content.rendered;\n  var excerptElement = document.createElement('div');\n  excerptElement.innerHTML = excerpt;\n  excerpt = excerptElement.textContent || excerptElement.innerText || '';\n  var needsEllipsis = excerptLength < excerpt.trim().split(' ').length;\n  var postExcerpt = needsEllipsis ? \"\".concat(excerpt.split(' ', excerptLength).join(' '), \" [\\u2026]\") : excerpt;\n  return ['core/paragraph', {\n    content: postExcerpt.trim()\n  }];\n};\n\nvar createBlockTemplatesForSinglePost = function createBlockTemplatesForSinglePost(post, _ref2) {\n  var displayPostDate = _ref2.displayPostDate,\n      displayPostExcerpt = _ref2.displayPostExcerpt,\n      excerptLength = _ref2.excerptLength,\n      displayFeaturedImage = _ref2.displayFeaturedImage,\n      featuredImageAlignment = _ref2.featuredImageAlignment;\n  var postContentBlocks = [getHeadingBlockTemplate(post)];\n\n  if (displayPostDate && post.date_gmt) {\n    postContentBlocks.push(getDateBlockTemplate(post));\n  }\n\n  if (displayPostExcerpt) {\n    postContentBlocks.push(getExcerptBlockTemplate(post, {\n      excerptLength: excerptLength\n    }));\n  }\n\n  var hasFeaturedImage = post.featuredImageLargeURL || post.featuredImageMediumURL;\n\n  if (displayFeaturedImage && hasFeaturedImage) {\n    var getImageBlock = function getImageBlock() {\n      var alignCenter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      return ['core/image', _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default()({\n        url: alignCenter ? post.featuredImageLargeURL : post.featuredImageMediumURL,\n        linkDestination: post.link\n      }, alignCenter ? {\n        align: 'center'\n      } : {})];\n    };\n\n    var imageColumnBlock = ['core/column', {}, [getImageBlock()]];\n    var postContentColumnBlock = ['core/column', {}, postContentBlocks];\n\n    switch (featuredImageAlignment) {\n      case 'left':\n        return [['core/columns', {}, [imageColumnBlock, postContentColumnBlock]]];\n\n      case 'right':\n        return [['core/columns', {}, [postContentColumnBlock, imageColumnBlock]]];\n\n      case 'top':\n        return [getImageBlock(true)].concat(postContentBlocks);\n    }\n  }\n\n  return postContentBlocks;\n};\n\nvar createBlockFromTemplate = function createBlockFromTemplate(_ref3) {\n  var _ref4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_ref3, 3),\n      name = _ref4[0],\n      blockAttributes = _ref4[1],\n      _ref4$ = _ref4[2],\n      innerBlocks = _ref4$ === void 0 ? [] : _ref4$;\n\n  return Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__[\"createBlock\"])(name, blockAttributes, innerBlocks.map(createBlockFromTemplate));\n};\n\nvar createBlockTemplatesForPosts = function createBlockTemplatesForPosts(posts, attributes) {\n  return posts.reduce(function (blocks, post) {\n    return [].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(blocks), _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(createBlockTemplatesForSinglePost(post, attributes)));\n  }, []);\n};\n\nvar getTemplateBlocks = function getTemplateBlocks(postList, attributes) {\n  return createBlockTemplatesForPosts(postList, attributes).map(createBlockFromTemplate);\n};\n/**\n * Converts a block object to a shape processable by the backend,\n * which contains block's HTML.\n *\n * @param {Object} block block, as understood by the block editor\n * @return {Object} block with innerHTML, processable by the backend\n */\n\nvar convertBlockSerializationFormat = function convertBlockSerializationFormat(block) {\n  return {\n    attrs: Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"omit\"])(block.attributes, 'content'),\n    blockName: block.name,\n    innerHTML: Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_4__[\"getBlockContent\"])(block),\n    innerBlocks: block.innerBlocks.map(convertBlockSerializationFormat)\n  };\n}; // In some cases, the Posts Inserter block should not handle deduplication.\n// Previews might be displayed next to each other or next to a post, which results in multiple block lists.\n// The deduplication store relies on the assumption that a post has a single blocks list, which\n// is not true when there are block previews used.\n\nvar setPreventDeduplicationForPostsInserter = function setPreventDeduplicationForPostsInserter(blocks) {\n  return blocks.map(function (block) {\n    if (block.name === _consts__WEBPACK_IMPORTED_MODULE_6__[\"POSTS_INSERTER_BLOCK_NAME\"]) {\n      block.attributes.preventDeduplication = true;\n    }\n\n    if (block.innerBlocks) {\n      block.innerBlocks = setPreventDeduplicationForPostsInserter(block.innerBlocks);\n    }\n\n    return block;\n  });\n};\n\n//# sourceURL=webpack:///./src/editor/blocks/posts-inserter/utils.js?");

/***/ }),

/***/ "./src/editor/index.js":
/*!*****************************!*\
  !*** ./src/editor/index.js ***!
  \*****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/blocks */ \"@wordpress/blocks\");\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/dom-ready */ \"@wordpress/dom-ready\");\n/* harmony import */ var _wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/hooks */ \"@wordpress/hooks\");\n/* harmony import */ var _wordpress_hooks__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/plugins */ \"@wordpress/plugins\");\n/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_plugins__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./style.scss */ \"./src/editor/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _blocks_posts_inserter__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./blocks/posts-inserter */ \"./src/editor/blocks/posts-inserter/index.js\");\n/* harmony import */ var _blocks_validation_blocks_filters__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./blocks-validation/blocks-filters */ \"./src/editor/blocks-validation/blocks-filters.js\");\n/* harmony import */ var _blocks_validation_nesting_detection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./blocks-validation/nesting-detection */ \"./src/editor/blocks-validation/nesting-detection.js\");\n/* harmony import */ var _newsletter_editor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../newsletter-editor */ \"./src/newsletter-editor/index.js\");\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\nObject(_blocks_validation_blocks_filters__WEBPACK_IMPORTED_MODULE_7__[\"addBlocksValidationFilter\"])();\nObject(_blocks_posts_inserter__WEBPACK_IMPORTED_MODULE_6__[\"default\"])();\n/* Unregister core block styles that are unsupported in emails */\n\n_wordpress_dom_ready__WEBPACK_IMPORTED_MODULE_2___default()(function () {\n  Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__[\"unregisterBlockStyle\"])('core/separator', 'dots');\n  Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__[\"unregisterBlockStyle\"])('core/social-links', 'logos-only');\n  Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_1__[\"unregisterBlockStyle\"])('core/social-links', 'pill-shape');\n});\nObject(_wordpress_hooks__WEBPACK_IMPORTED_MODULE_3__[\"addFilter\"])('blocks.registerBlockType', 'newspack-newsletters/core-blocks', function (settings, name) {\n  /* Remove left/right alignment options wherever possible */\n  if ('core/paragraph' === name || 'core/social-links' === name || 'core/buttons' === name || 'core/columns' === name) {\n    settings.supports = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, settings.supports, {\n      align: []\n    });\n  }\n\n  if ('core/group' === name) {\n    settings.supports = _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_0___default()({}, settings.supports, {\n      align: ['full']\n    });\n  }\n\n  return settings;\n});\nObject(_wordpress_plugins__WEBPACK_IMPORTED_MODULE_4__[\"registerPlugin\"])('newspack-newsletters-plugin', {\n  render: _blocks_validation_nesting_detection__WEBPACK_IMPORTED_MODULE_8__[\"NestedColumnsDetection\"],\n  icon: null\n});\n\n//# sourceURL=webpack:///./src/editor/index.js?");

/***/ }),

/***/ "./src/editor/style.scss":
/*!*******************************!*\
  !*** ./src/editor/style.scss ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/editor/style.scss?");

/***/ }),

/***/ "./src/newsletter-editor/editor/index.js":
/*!***********************************************!*\
  !*** ./src/newsletter-editor/editor/index.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/plugins */ \"@wordpress/plugins\");\n/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_plugins__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils */ \"./src/newsletter-editor/utils.js\");\n/* harmony import */ var _service_providers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../service-providers */ \"./src/service-providers/index.js\");\n/* harmony import */ var _components_with_api_handler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/with-api-handler */ \"./src/components/with-api-handler/index.js\");\n/* harmony import */ var _components_send_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../components/send-button */ \"./src/components/send-button/index.js\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./style.scss */ \"./src/newsletter-editor/editor/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\nvar Editor = Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__[\"compose\"])([Object(_components_with_api_handler__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_5__[\"withSelect\"])(function (select) {\n  var _select = select('core/editor'),\n      getCurrentPostId = _select.getCurrentPostId,\n      getEditedPostAttribute = _select.getEditedPostAttribute,\n      isPublishingPost = _select.isPublishingPost,\n      isSavingPost = _select.isSavingPost,\n      isCleanNewPost = _select.isCleanNewPost;\n\n  var _select2 = select('core/edit-post'),\n      getActiveGeneralSidebarName = _select2.getActiveGeneralSidebarName;\n\n  var _select3 = select('core/block-editor'),\n      getSettings = _select3.getSettings;\n\n  var meta = getEditedPostAttribute('meta');\n  return {\n    isCleanNewPost: isCleanNewPost(),\n    postId: getCurrentPostId(),\n    isReady: meta.newsletterValidationErrors ? meta.newsletterValidationErrors.length === 0 : false,\n    activeSidebarName: getActiveGeneralSidebarName(),\n    isPublishingOrSavingPost: isSavingPost() || isPublishingPost(),\n    colorPalette: getSettings().colors.reduce(function (colors, _ref) {\n      var slug = _ref.slug,\n          color = _ref.color;\n      return _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_2___default()({}, colors, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()({}, slug, color));\n    }, {})\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_5__[\"withDispatch\"])(function (dispatch) {\n  var _dispatch = dispatch('core/editor'),\n      lockPostSaving = _dispatch.lockPostSaving,\n      unlockPostSaving = _dispatch.unlockPostSaving,\n      editPost = _dispatch.editPost;\n\n  return {\n    lockPostSaving: lockPostSaving,\n    unlockPostSaving: unlockPostSaving,\n    editPost: editPost\n  };\n})])(function (props) {\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(document.createElement('div')),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 1),\n      publishEl = _useState2[0]; // Create alternate publish button\n\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    var publishButton = document.getElementsByClassName('editor-post-publish-button__button')[0];\n    publishButton.parentNode.insertBefore(publishEl, publishButton);\n  }, []);\n\n  var _getServiceProvider = Object(_service_providers__WEBPACK_IMPORTED_MODULE_8__[\"getServiceProvider\"])(),\n      getFetchDataConfig = _getServiceProvider.getFetchDataConfig; // Fetch data from service provider.\n\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (!props.isCleanNewPost && !props.isPublishingOrSavingPost) {\n      props.apiFetchWithErrorHandling(getFetchDataConfig({\n        postId: props.postId\n      })).then(function (result) {\n        var postUpdate = Object(_utils__WEBPACK_IMPORTED_MODULE_7__[\"getEditPostPayload\"])(result);\n        postUpdate.meta.color_palette = props.colorPalette;\n        props.editPost(postUpdate);\n      });\n    }\n  }, [props.isPublishingOrSavingPost]); // Lock or unlock post publishing.\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function () {\n    if (props.isReady) {\n      props.unlockPostSaving('newspack-newsletters-post-lock');\n    } else {\n      props.lockPostSaving('newspack-newsletters-post-lock');\n    }\n  }, [props.isReady]);\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createPortal\"])(Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_3__[\"createElement\"])(_components_send_button__WEBPACK_IMPORTED_MODULE_10__[\"default\"], null), publishEl);\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (function () {\n  Object(_wordpress_plugins__WEBPACK_IMPORTED_MODULE_6__[\"registerPlugin\"])('newspack-newsletters-edit', {\n    render: Editor\n  });\n});\n\n//# sourceURL=webpack:///./src/newsletter-editor/editor/index.js?");

/***/ }),

/***/ "./src/newsletter-editor/editor/style.scss":
/*!*************************************************!*\
  !*** ./src/newsletter-editor/editor/style.scss ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/newsletter-editor/editor/style.scss?");

/***/ }),

/***/ "./src/newsletter-editor/index.js":
/*!****************************************!*\
  !*** ./src/newsletter-editor/index.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_edit_post__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/edit-post */ \"@wordpress/edit-post\");\n/* harmony import */ var _wordpress_edit_post__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_edit_post__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/plugins */ \"@wordpress/plugins\");\n/* harmony import */ var _wordpress_plugins__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_plugins__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _components_init_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/init-modal */ \"./src/components/init-modal/index.js\");\n/* harmony import */ var _layout___WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./layout/ */ \"./src/newsletter-editor/layout/index.js\");\n/* harmony import */ var _sidebar___WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./sidebar/ */ \"./src/newsletter-editor/sidebar/index.js\");\n/* harmony import */ var _testing___WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./testing/ */ \"./src/newsletter-editor/testing/index.js\");\n/* harmony import */ var _styling___WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./styling/ */ \"./src/newsletter-editor/styling/index.js\");\n/* harmony import */ var _editor___WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./editor/ */ \"./src/newsletter-editor/editor/index.js\");\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n\nObject(_editor___WEBPACK_IMPORTED_MODULE_12__[\"default\"])();\n\nvar NewsletterEdit = function NewsletterEdit(_ref) {\n  var layoutId = _ref.layoutId;\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(window && window.newspack_newsletters_data && window.newspack_newsletters_data.has_keys),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      hasKeys = _useState2[0],\n      setHasKeys = _useState2[1];\n\n  var isDisplayingInitModal = !hasKeys || -1 === layoutId;\n  return isDisplayingInitModal ? Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_components_init_modal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    hasKeys: hasKeys,\n    onSetupStatus: setHasKeys\n  }) : Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_edit_post__WEBPACK_IMPORTED_MODULE_5__[\"PluginDocumentSettingPanel\"], {\n    name: \"newsletters-settings-panel\",\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Newsletter', 'newspack-newsletters')\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_sidebar___WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_edit_post__WEBPACK_IMPORTED_MODULE_5__[\"PluginDocumentSettingPanel\"], {\n    name: \"newsletters-styling-panel\",\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Styling', 'newspack-newsletters')\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_styling___WEBPACK_IMPORTED_MODULE_11__[\"default\"], null)), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_edit_post__WEBPACK_IMPORTED_MODULE_5__[\"PluginDocumentSettingPanel\"], {\n    name: \"newsletters-testing-panel\",\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Testing', 'newspack-newsletters')\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_testing___WEBPACK_IMPORTED_MODULE_10__[\"default\"], null)), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_edit_post__WEBPACK_IMPORTED_MODULE_5__[\"PluginDocumentSettingPanel\"], {\n    name: \"newsletters-layout-panel\",\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Layout', 'newspack-newsletters')\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_layout___WEBPACK_IMPORTED_MODULE_8__[\"default\"], null)));\n};\n\nvar NewsletterEditWithSelect = Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__[\"compose\"])([Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__[\"withSelect\"])(function (select) {\n  var _select = select('core/editor'),\n      getEditedPostAttribute = _select.getEditedPostAttribute;\n\n  var meta = getEditedPostAttribute('meta');\n  return {\n    layoutId: meta.template_id\n  };\n})])(NewsletterEdit);\nObject(_wordpress_plugins__WEBPACK_IMPORTED_MODULE_6__[\"registerPlugin\"])('newspack-newsletters-sidebar', {\n  render: NewsletterEditWithSelect,\n  icon: null\n});\n\n//# sourceURL=webpack:///./src/newsletter-editor/index.js?");

/***/ }),

/***/ "./src/newsletter-editor/layout/index.js":
/*!***********************************************!*\
  !*** ./src/newsletter-editor/layout/index.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/objectSpread2 */ \"./node_modules/@babel/runtime/helpers/objectSpread2.js\");\n/* harmony import */ var _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/blocks */ \"@wordpress/blocks\");\n/* harmony import */ var _wordpress_blocks__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @wordpress/block-editor */ \"@wordpress/block-editor\");\n/* harmony import */ var _wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _utils_hooks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/hooks */ \"./src/utils/hooks.js\");\n/* harmony import */ var _utils_consts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/consts */ \"./src/utils/consts.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./style.scss */ \"./src/newsletter-editor/layout/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _editor_blocks_posts_inserter_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../editor/blocks/posts-inserter/utils */ \"./src/editor/blocks/posts-inserter/utils.js\");\n\n\n\n\n/**\n * External dependencies\n */\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__[\"compose\"])([Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_8__[\"withSelect\"])(function (select) {\n  var _select = select('core/editor'),\n      getEditedPostAttribute = _select.getEditedPostAttribute,\n      isEditedPostEmpty = _select.isEditedPostEmpty,\n      getCurrentPostId = _select.getCurrentPostId;\n\n  var _select2 = select('core/block-editor'),\n      getBlocks = _select2.getBlocks;\n\n  var meta = getEditedPostAttribute('meta');\n  var layoutId = meta.template_id;\n  return {\n    layoutId: layoutId,\n    postTitle: getEditedPostAttribute('title'),\n    postBlocks: getBlocks(),\n    isEditedPostEmpty: isEditedPostEmpty(),\n    currentPostId: getCurrentPostId()\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_8__[\"withDispatch\"])(function (dispatch, _ref) {\n  var currentPostId = _ref.currentPostId;\n\n  var _dispatch = dispatch('core/block-editor'),\n      replaceBlocks = _dispatch.replaceBlocks;\n\n  var _dispatch2 = dispatch('core/editor'),\n      editPost = _dispatch2.editPost;\n\n  var _dispatch3 = dispatch('core'),\n      saveEntityRecord = _dispatch3.saveEntityRecord;\n\n  return {\n    replaceBlocks: replaceBlocks,\n    saveLayoutIdMeta: function saveLayoutIdMeta(id) {\n      // Edit, so the change is picked up by the selector in NewsletterEditWithSelect\n      editPost({\n        meta: {\n          template_id: id\n        }\n      });\n      saveEntityRecord('postType', _utils_consts__WEBPACK_IMPORTED_MODULE_11__[\"NEWSLETTER_CPT_SLUG\"], {\n        id: currentPostId,\n        meta: {\n          template_id: id\n        }\n      });\n    },\n    saveLayout: function saveLayout(payload) {\n      return saveEntityRecord('postType', _utils_consts__WEBPACK_IMPORTED_MODULE_11__[\"LAYOUT_CPT_SLUG\"], _babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({\n        status: 'publish'\n      }, payload));\n    }\n  };\n})])(function (_ref2) {\n  var saveLayoutIdMeta = _ref2.saveLayoutIdMeta,\n      layoutId = _ref2.layoutId,\n      replaceBlocks = _ref2.replaceBlocks,\n      saveLayout = _ref2.saveLayout,\n      postBlocks = _ref2.postBlocks,\n      postTitle = _ref2.postTitle,\n      isEditedPostEmpty = _ref2.isEditedPostEmpty;\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      warningModalVisible = _useState2[0],\n      setWarningModalVisible = _useState2[1];\n\n  var _useLayoutsState = Object(_utils_hooks__WEBPACK_IMPORTED_MODULE_10__[\"useLayoutsState\"])(),\n      layouts = _useLayoutsState.layouts,\n      isFetchingLayouts = _useLayoutsState.isFetchingLayouts;\n\n  var _useState3 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])({}),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),\n      usedLayout = _useState4[0],\n      setUsedLayout = _useState4[1];\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    setUsedLayout(Object(lodash__WEBPACK_IMPORTED_MODULE_3__[\"find\"])(layouts, {\n      ID: layoutId\n    }) || {});\n  }, [layouts.length]);\n  var blockPreview = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    return usedLayout.post_content ? Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__[\"parse\"])(usedLayout.post_content) : null;\n  }, [usedLayout]);\n\n  var clearPost = function clearPost() {\n    var clientIds = postBlocks.map(function (_ref3) {\n      var clientId = _ref3.clientId;\n      return clientId;\n    });\n\n    if (clientIds && clientIds.length) {\n      replaceBlocks(clientIds, []);\n    }\n  };\n\n  var _useState5 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(false),\n      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState5, 2),\n      isSavingLayout = _useState6[0],\n      setIsSavingLayout = _useState6[1];\n\n  var _useState7 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(null),\n      _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState7, 2),\n      isManageModalVisible = _useState8[0],\n      setIsManageModalVisible = _useState8[1];\n\n  var _useState9 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(postTitle),\n      _useState10 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState9, 2),\n      newLayoutName = _useState10[0],\n      setNewLayoutName = _useState10[1];\n\n  var handleLayoutUpdate = function handleLayoutUpdate(updatedLayout) {\n    setIsSavingLayout(false); // Set this new layout as the newsletter's layout\n\n    saveLayoutIdMeta(updatedLayout.id); // Update the layout preview\n    // The shape of this data is different than the API response for CPT\n\n    setUsedLayout(_babel_runtime_helpers_objectSpread2__WEBPACK_IMPORTED_MODULE_1___default()({}, updatedLayout, {\n      post_content: updatedLayout.content.raw,\n      post_title: updatedLayout.title.raw,\n      post_type: _utils_consts__WEBPACK_IMPORTED_MODULE_11__[\"LAYOUT_CPT_SLUG\"]\n    }));\n  };\n\n  var postContent = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    return Object(_wordpress_blocks__WEBPACK_IMPORTED_MODULE_5__[\"serialize\"])(postBlocks);\n  }, [postBlocks]);\n  var isPostContentSameAsLayout = postContent === usedLayout.post_content;\n\n  var handleSaveAsLayout = function handleSaveAsLayout() {\n    setIsSavingLayout(true);\n    var updatePayload = {\n      title: newLayoutName,\n      content: postContent\n    };\n    saveLayout(updatePayload).then(function (newLayout) {\n      setIsManageModalVisible(false);\n      handleLayoutUpdate(newLayout);\n    });\n  };\n\n  var handeLayoutUpdate = function handeLayoutUpdate() {\n    if ( // eslint-disable-next-line no-alert\n    confirm(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Are you sure you want to overwrite this layout?', 'newspack-newsletters'))) {\n      setIsSavingLayout(true);\n      var updatePayload = {\n        content: postContent,\n        id: usedLayout.ID\n      };\n      saveLayout(updatePayload).then(handleLayoutUpdate);\n    }\n  };\n\n  var isUsingCustomLayout = Object(_utils__WEBPACK_IMPORTED_MODULE_12__[\"isUserDefinedLayout\"])(usedLayout);\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"], null, Boolean(layoutId && isFetchingLayouts) && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-layouts__spinner\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Spinner\"], null)), blockPreview !== null && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-layouts\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-layouts__item\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-layouts__item-preview\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_block_editor__WEBPACK_IMPORTED_MODULE_7__[\"BlockPreview\"], {\n    blocks: Object(_editor_blocks_posts_inserter_utils__WEBPACK_IMPORTED_MODULE_14__[\"setPreventDeduplicationForPostsInserter\"])(blockPreview),\n    viewportWidth: 600\n  })), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-layouts__item-label\"\n  }, usedLayout.post_title))), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"div\", {\n    className: \"newspack-newsletters-buttons-group newspack-newsletters-buttons-group--spaced\"\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    isPrimary: true,\n    disabled: isEditedPostEmpty || isSavingLayout,\n    onClick: function onClick() {\n      return setIsManageModalVisible(true);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Save new layout', 'newspack-newsletters')), isUsingCustomLayout && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    isSecondary: true,\n    disabled: isPostContentSameAsLayout || isSavingLayout,\n    onClick: handeLayoutUpdate\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Update layout', 'newspack-newsletters'))), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"br\", null), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    isSecondary: true,\n    isLink: true,\n    isDestructive: true,\n    onClick: function onClick() {\n      return setWarningModalVisible(true);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Reset newsletter layout', 'newspack-newsletters')), isManageModalVisible && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Modal\"], {\n    className: \"newspack-newsletters__modal\",\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Save newsletter as a layout', 'newspack-newsletters'),\n    onRequestClose: function onRequestClose() {\n      return setIsManageModalVisible(null);\n    }\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"TextControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Title', 'newspack-newsletters'),\n    disabled: isSavingLayout,\n    value: newLayoutName,\n    onChange: setNewLayoutName\n  }), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    isPrimary: true,\n    disabled: isSavingLayout || newLayoutName.length === 0,\n    onClick: handleSaveAsLayout\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Save', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    isSecondary: true,\n    onClick: function onClick() {\n      return setIsManageModalVisible(null);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Cancel', 'newspack-newsletters'))), warningModalVisible && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Modal\"], {\n    className: \"newspack-newsletters__modal\",\n    title: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Overwrite newsletter content?', 'newspack-newsletters'),\n    onRequestClose: function onRequestClose() {\n      return setWarningModalVisible(false);\n    }\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(\"p\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])(\"Changing the newsletter's layout will remove any customizations or edits you have already made.\", 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    isPrimary: true,\n    onClick: function onClick() {\n      clearPost();\n      saveLayoutIdMeta(-1);\n      setWarningModalVisible(false);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Reset layout', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_9__[\"Button\"], {\n    isSecondary: true,\n    onClick: function onClick() {\n      return setWarningModalVisible(false);\n    }\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_6__[\"__\"])('Cancel', 'newspack-newsletters'))));\n}));\n\n//# sourceURL=webpack:///./src/newsletter-editor/layout/index.js?");

/***/ }),

/***/ "./src/newsletter-editor/layout/style.scss":
/*!*************************************************!*\
  !*** ./src/newsletter-editor/layout/style.scss ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/newsletter-editor/layout/style.scss?");

/***/ }),

/***/ "./src/newsletter-editor/sidebar/index.js":
/*!************************************************!*\
  !*** ./src/newsletter-editor/sidebar/index.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! classnames */ \"./node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils */ \"./src/newsletter-editor/utils.js\");\n/* harmony import */ var _service_providers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../service-providers */ \"./src/service-providers/index.js\");\n/* harmony import */ var _components_with_api_handler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/with-api-handler */ \"./src/components/with-api-handler/index.js\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./style.scss */ \"./src/newsletter-editor/sidebar/style.scss\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_style_scss__WEBPACK_IMPORTED_MODULE_10__);\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n/**\n * External dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\n\n\nvar _getServiceProvider = Object(_service_providers__WEBPACK_IMPORTED_MODULE_8__[\"getServiceProvider\"])(),\n    ProviderSidebar = _getServiceProvider.ProviderSidebar;\n\nvar Sidebar = function Sidebar(_ref) {\n  var inFlight = _ref.inFlight,\n      errors = _ref.errors,\n      editPost = _ref.editPost,\n      title = _ref.title,\n      senderName = _ref.senderName,\n      senderEmail = _ref.senderEmail,\n      newsletterData = _ref.newsletterData,\n      apiFetchWithErrorHandling = _ref.apiFetchWithErrorHandling,\n      postId = _ref.postId;\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      senderDirty = _useState2[0],\n      setSenderDirty = _useState2[1];\n\n  var apiFetch = function apiFetch(config) {\n    return apiFetchWithErrorHandling(config).then(function (result) {\n      editPost(Object(_utils__WEBPACK_IMPORTED_MODULE_7__[\"getEditPostPayload\"])(result));\n      setSenderDirty(false);\n    });\n  };\n\n  var renderSubject = function renderSubject() {\n    return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"TextControl\"], {\n      label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Subject', 'newspack-newsletters'),\n      className: \"newspack-newsletters__subject-textcontrol\",\n      value: title,\n      disabled: inFlight,\n      onChange: function onChange(value) {\n        return editPost({\n          title: value\n        });\n      }\n    });\n  };\n\n  var senderEmailClasses = classnames__WEBPACK_IMPORTED_MODULE_6___default()('newspack-newsletters__email-textcontrol', errors.newspack_newsletters_unverified_sender_domain && 'newspack-newsletters__error');\n\n  var renderFrom = function renderFrom(_ref2) {\n    var handleSenderUpdate = _ref2.handleSenderUpdate;\n    return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(\"strong\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('From', 'newspack-newsletters')), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"TextControl\"], {\n      label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Name', 'newspack-newsletters'),\n      className: \"newspack-newsletters__name-textcontrol\",\n      value: senderName,\n      disabled: inFlight,\n      onChange: function onChange(value) {\n        editPost({\n          meta: {\n            senderName: value\n          }\n        });\n        setSenderDirty(true);\n      }\n    }), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"TextControl\"], {\n      label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Email', 'newspack-newsletters'),\n      className: senderEmailClasses,\n      value: senderEmail,\n      type: \"email\",\n      disabled: inFlight,\n      onChange: function onChange(value) {\n        editPost({\n          meta: {\n            senderEmail: value\n          }\n        });\n        setSenderDirty(true);\n      }\n    }), senderDirty && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n      isLink: true,\n      onClick: function onClick() {\n        return handleSenderUpdate({\n          senderName: senderName,\n          senderEmail: senderEmail\n        });\n      },\n      disabled: inFlight || (senderEmail.length ? !Object(_utils__WEBPACK_IMPORTED_MODULE_7__[\"hasValidEmail\"])(senderEmail) : false)\n    }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Update Sender', 'newspack-newsletters')));\n  };\n\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(ProviderSidebar, {\n    postId: postId,\n    newsletterData: newsletterData,\n    inFlight: inFlight,\n    apiFetch: apiFetch,\n    renderSubject: renderSubject,\n    renderFrom: renderFrom,\n    updateMeta: function updateMeta(meta) {\n      return editPost({\n        meta: meta\n      });\n    }\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__[\"compose\"])([Object(_components_with_api_handler__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__[\"withSelect\"])(function (select) {\n  var _select = select('core/editor'),\n      getEditedPostAttribute = _select.getEditedPostAttribute,\n      getCurrentPostId = _select.getCurrentPostId;\n\n  var meta = getEditedPostAttribute('meta');\n  return {\n    title: getEditedPostAttribute('title'),\n    postId: getCurrentPostId(),\n    senderEmail: meta.senderEmail || '',\n    senderName: meta.senderName || '',\n    newsletterData: meta.newsletterData || {}\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_4__[\"withDispatch\"])(function (dispatch) {\n  var _dispatch = dispatch('core/editor'),\n      editPost = _dispatch.editPost;\n\n  return {\n    editPost: editPost\n  };\n})])(Sidebar));\n\n//# sourceURL=webpack:///./src/newsletter-editor/sidebar/index.js?");

/***/ }),

/***/ "./src/newsletter-editor/sidebar/style.scss":
/*!**************************************************!*\
  !*** ./src/newsletter-editor/sidebar/style.scss ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/newsletter-editor/sidebar/style.scss?");

/***/ }),

/***/ "./src/newsletter-editor/styling/index.js":
/*!************************************************!*\
  !*** ./src/newsletter-editor/styling/index.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/api-fetch */ \"@wordpress/api-fetch\");\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _components_select_control_with_optgroup___WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/select-control-with-optgroup/ */ \"./src/components/select-control-with-optgroup/index.js\");\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n\nvar fontOptgroups = [{\n  label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Sans Serif', 'newspack-newsletters'),\n  options: [{\n    value: 'Arial, Helvetica, sans-serif',\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Arial', 'newspack-newsletters')\n  }, {\n    value: 'Tahoma, sans-serif',\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Tahoma', 'newspack-newsletters')\n  }, {\n    value: 'Trebuchet MS, sans-serif',\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Trebuchet', 'newspack-newsletters')\n  }, {\n    value: 'Verdana, sans-serif',\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Verdana', 'newspack-newsletters')\n  }]\n}, {\n  label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Serif', 'newspack-newsletters'),\n  options: [{\n    value: 'Georgia, serif',\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Georgia', 'newspack-newsletters')\n  }, {\n    value: 'Palatino, serif',\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Palatino', 'newspack-newsletters')\n  }, {\n    value: 'Times New Roman, serif',\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Times New Roman', 'newspack-newsletters')\n  }]\n}, {\n  label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Monospace', 'newspack-newsletters'),\n  options: [{\n    value: 'Courier, monospace',\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Courier', 'newspack-newsletters')\n  }]\n}];\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__[\"compose\"])([Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_6__[\"withDispatch\"])(function (dispatch) {\n  var _dispatch = dispatch('core/editor'),\n      editPost = _dispatch.editPost;\n\n  return {\n    editPost: editPost\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_6__[\"withSelect\"])(function (select) {\n  var _select = select('core/editor'),\n      getEditedPostAttribute = _select.getEditedPostAttribute,\n      getCurrentPostId = _select.getCurrentPostId;\n\n  var meta = getEditedPostAttribute('meta');\n  return {\n    postId: getCurrentPostId(),\n    fontBody: meta.font_body || '',\n    fontHeader: meta.font_header || '',\n    backgroundColor: meta.background_color || ''\n  };\n})])(function (_ref) {\n  var editPost = _ref.editPost,\n      fontBody = _ref.fontBody,\n      fontHeader = _ref.fontHeader,\n      backgroundColor = _ref.backgroundColor,\n      postId = _ref.postId;\n\n  var updateStyleValue = function updateStyleValue(key, value) {\n    editPost({\n      meta: _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, key, value)\n    });\n    _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_2___default()({\n      data: {\n        key: key,\n        value: value\n      },\n      method: 'POST',\n      path: \"/newspack-newsletters/v1/styling/\".concat(postId)\n    });\n  };\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    document.documentElement.style.setProperty('--body-font', fontBody);\n  }, [fontBody]);\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    document.documentElement.style.setProperty('--header-font', fontHeader);\n  }, [fontHeader]);\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    document.querySelector('.edit-post-visual-editor').style.backgroundColor = backgroundColor;\n  }, [backgroundColor]);\n  var instanceId = Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_3__[\"useInstanceId\"])(_components_select_control_with_optgroup___WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n  var id = \"inspector-select-control-\".concat(instanceId);\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_components_select_control_with_optgroup___WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Headings font', 'newspack-newsletters'),\n    value: fontHeader || 'Arial',\n    optgroups: fontOptgroups,\n    onChange: function onChange(value) {\n      return updateStyleValue('font_header', value);\n    }\n  }), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_components_select_control_with_optgroup___WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Body font', 'newspack-newsletters'),\n    value: fontBody || 'Georgia',\n    optgroups: fontOptgroups,\n    onChange: function onChange(value) {\n      return updateStyleValue('font_body', value);\n    }\n  }), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__[\"BaseControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_5__[\"__\"])('Background color', 'newspack-newsletters'),\n    id: id\n  }, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_4__[\"ColorPicker\"], {\n    id: id,\n    color: backgroundColor || '#ffffff',\n    onChangeComplete: function onChangeComplete(value) {\n      return updateStyleValue('background_color', value.hex);\n    },\n    disableAlpha: true\n  })));\n}));\n\n//# sourceURL=webpack:///./src/newsletter-editor/styling/index.js?");

/***/ }),

/***/ "./src/newsletter-editor/testing/index.js":
/*!************************************************!*\
  !*** ./src/newsletter-editor/testing/index.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/data */ \"@wordpress/data\");\n/* harmony import */ var _wordpress_data__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @wordpress/compose */ \"@wordpress/compose\");\n/* harmony import */ var _wordpress_compose__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils */ \"./src/newsletter-editor/utils.js\");\n/* harmony import */ var _components_with_api_handler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../components/with-api-handler */ \"./src/components/with-api-handler/index.js\");\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n\n\n\n/**\n * Internal dependencies\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_wordpress_compose__WEBPACK_IMPORTED_MODULE_4__[\"compose\"])([Object(_components_with_api_handler__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__[\"withSelect\"])(function (select) {\n  var _select = select('core/editor'),\n      getCurrentPostId = _select.getCurrentPostId;\n\n  return {\n    postId: getCurrentPostId()\n  };\n}), Object(_wordpress_data__WEBPACK_IMPORTED_MODULE_3__[\"withDispatch\"])(function (dispatch) {\n  var _dispatch = dispatch('core/editor'),\n      savePost = _dispatch.savePost;\n\n  return {\n    savePost: savePost\n  };\n})])(function (_ref) {\n  var apiFetchWithErrorHandling = _ref.apiFetchWithErrorHandling,\n      inFlight = _ref.inFlight,\n      postId = _ref.postId,\n      savePost = _ref.savePost,\n      setInFlightForAsync = _ref.setInFlightForAsync;\n\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(''),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      testEmail = _useState2[0],\n      setTestEmail = _useState2[1];\n\n  var sendTestEmail = function sendTestEmail() {\n    var params;\n    return regeneratorRuntime.async(function sendTestEmail$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setInFlightForAsync();\n            _context.next = 3;\n            return regeneratorRuntime.awrap(savePost());\n\n          case 3:\n            params = {\n              path: \"/newspack-newsletters/v1/mailchimp/\".concat(postId, \"/test\"),\n              data: {\n                test_email: testEmail\n              },\n              method: 'POST'\n            };\n            apiFetchWithErrorHandling(params);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"TextControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Send a test to', 'newspack-newsletters'),\n    value: testEmail,\n    type: \"email\",\n    onChange: setTestEmail,\n    help: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Use commas to separate multiple emails.', 'newspack-newsletters')\n  }), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_5__[\"Button\"], {\n    isPrimary: true,\n    onClick: sendTestEmail,\n    disabled: inFlight || !Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"hasValidEmail\"])(testEmail)\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Send a Test Email', 'newspack-newsletters')));\n}));\n\n//# sourceURL=webpack:///./src/newsletter-editor/testing/index.js?");

/***/ }),

/***/ "./src/newsletter-editor/utils.js":
/*!****************************************!*\
  !*** ./src/newsletter-editor/utils.js ***!
  \****************************************/
/*! exports provided: getEditPostPayload, hasValidEmail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEditPostPayload\", function() { return getEditPostPayload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasValidEmail\", function() { return hasValidEmail; });\n/* harmony import */ var _service_providers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../service-providers */ \"./src/service-providers/index.js\");\n/**\n * Internal dependencies\n */\n\nvar getEditPostPayload = function getEditPostPayload(newsletterData) {\n  var _getServiceProvider = Object(_service_providers__WEBPACK_IMPORTED_MODULE_0__[\"getServiceProvider\"])(),\n      validateNewsletter = _getServiceProvider.validateNewsletter;\n\n  return {\n    meta: {\n      // These meta fields do not have to be registered on the back end,\n      // as they are not used there.\n      newsletterValidationErrors: validateNewsletter(newsletterData),\n      newsletterData: newsletterData\n    }\n  };\n};\n/**\n * Test if a string contains valid email addresses.\n *\n * @param  {string}  string String to test.\n * @return {boolean} True if it contains a valid email string.\n */\n\nvar hasValidEmail = function hasValidEmail(string) {\n  return /\\S+@\\S+/.test(string);\n};\n\n//# sourceURL=webpack:///./src/newsletter-editor/utils.js?");

/***/ }),

/***/ "./src/service-providers/example/index.js":
/*!************************************************!*\
  !*** ./src/service-providers/example/index.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Validation utility.\n *\n * @param  {Object} object data fetched using getFetchDataConfig\n * @return {string[]} Array of validation messages. If empty, newsletter is valid.\n */\n\nvar validateNewsletter = function validateNewsletter(_ref) {\n  var status = _ref.status;\n  var messages = [];\n\n  if ('sent' === status || 'sending' === status) {\n    messages.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Newsletter has already been sent.', 'newspack-newsletters'));\n  }\n\n  return messages;\n};\n/**\n * Get config used to fetch newsletter data.\n * Should return apiFetch utility config:\n * https://www.npmjs.com/package/@wordpress/api-fetch\n *\n * @param {Object} object data to contruct the config.\n * @return {Object} Config fetching.\n */\n\n\nvar getFetchDataConfig = function getFetchDataConfig(_ref2) {\n  var postId = _ref2.postId;\n  return {\n    path: \"/newspack-newsletters/v1/example/\".concat(postId)\n  };\n};\n/**\n * Component to be rendered in the sidebar panel.\n * Has full control over the panel contents rendering,\n * so that it's possible to render e.g. a loader while\n * the data is not yet available.\n *\n * @param {Object} props props\n */\n\n\nvar ProviderSidebar = function ProviderSidebar(_ref3) {\n  var postId = _ref3.postId,\n      apiFetch = _ref3.apiFetch,\n      renderSubject = _ref3.renderSubject,\n      renderFrom = _ref3.renderFrom;\n\n  var handleSenderUpdate = function handleSenderUpdate(_ref4) {\n    var senderName = _ref4.senderName,\n        senderEmail = _ref4.senderEmail;\n    return apiFetch({\n      path: \"/newspack-newsletters/v1/example/\".concat(postId, \"/settings\"),\n      data: {\n        from_name: senderName,\n        reply_to: senderEmail\n      },\n      method: 'POST'\n    });\n  };\n\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], null, renderSubject(), renderFrom({\n    handleSenderUpdate: handleSenderUpdate\n  }));\n};\n/**\n * A function to render additional info in the pre-send confirmation modal.\n * Can return null if no additional info is to be presented.\n *\n * @param {Object} newsletterData the data returned by getFetchDataConfig handler\n * @return {any} A React component\n */\n\n\nvar renderPreSendInfo = function renderPreSendInfo() {\n  var newsletterData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"p\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Sending newsletter to:', 'newspack-newsletters'), \" \", newsletterData.listName);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  validateNewsletter: validateNewsletter,\n  getFetchDataConfig: getFetchDataConfig,\n  ProviderSidebar: ProviderSidebar,\n  renderPreSendInfo: renderPreSendInfo\n});\n\n//# sourceURL=webpack:///./src/service-providers/example/index.js?");

/***/ }),

/***/ "./src/service-providers/index.js":
/*!****************************************!*\
  !*** ./src/service-providers/index.js ***!
  \****************************************/
/*! exports provided: getServiceProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getServiceProvider\", function() { return getServiceProvider; });\n/* harmony import */ var _example__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./example */ \"./src/service-providers/example/index.js\");\n/* harmony import */ var _mailchimp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mailchimp */ \"./src/service-providers/mailchimp/index.js\");\n\n\nvar SERVICE_PROVIDERS = {\n  example: _example__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  mailchimp: _mailchimp__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n};\nvar getServiceProvider = function getServiceProvider() {\n  var serviceProvider = window && window.newspack_newsletters_data && window.newspack_newsletters_data.service_provider;\n  return SERVICE_PROVIDERS[serviceProvider];\n};\n\n//# sourceURL=webpack:///./src/service-providers/index.js?");

/***/ }),

/***/ "./src/service-providers/mailchimp/ProviderSidebar.js":
/*!************************************************************!*\
  !*** ./src/service-providers/mailchimp/ProviderSidebar.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @wordpress/components */ \"@wordpress/components\");\n/* harmony import */ var _wordpress_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./src/service-providers/mailchimp/utils.js\");\n\n\n\n/**\n * WordPress dependencies\n */\n\n\n\n/**\n * Internal dependencies\n */\n\n\n\nvar ProviderSidebar = function ProviderSidebar(_ref) {\n  var renderSubject = _ref.renderSubject,\n      renderFrom = _ref.renderFrom,\n      inFlight = _ref.inFlight,\n      newsletterData = _ref.newsletterData,\n      apiFetch = _ref.apiFetch,\n      postId = _ref.postId,\n      updateMeta = _ref.updateMeta;\n  var campaign = newsletterData.campaign;\n  var lists = newsletterData.lists ? newsletterData.lists.lists : [];\n\n  var setList = function setList(listId) {\n    return apiFetch({\n      path: \"/newspack-newsletters/v1/mailchimp/\".concat(postId, \"/list/\").concat(listId),\n      method: 'POST'\n    });\n  };\n\n  var setInterest = function setInterest(interestId) {\n    return apiFetch({\n      path: \"/newspack-newsletters/v1/mailchimp/\".concat(postId, \"/interest/\").concat(interestId),\n      method: 'POST'\n    });\n  };\n\n  var setSender = function setSender(_ref2) {\n    var senderName = _ref2.senderName,\n        senderEmail = _ref2.senderEmail;\n    return apiFetch({\n      path: \"/newspack-newsletters/v1/mailchimp/\".concat(postId, \"/settings\"),\n      data: {\n        from_name: senderName,\n        reply_to: senderEmail\n      },\n      method: 'POST'\n    });\n  };\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (campaign && campaign.settings) {\n      updateMeta({\n        senderName: campaign.settings.from_name,\n        senderEmail: campaign.settings.reply_to\n      });\n    }\n  }, [campaign]);\n\n  var renderInterestCategories = function renderInterestCategories() {\n    var interestSettings = Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"getListInterestsSettings\"])(newsletterData);\n\n    if (!interestSettings) {\n      return;\n    }\n\n    return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__[\"SelectControl\"], {\n      label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Groups', 'newspack-newsletters'),\n      value: interestSettings.interestValue,\n      options: [{\n        label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('-- Select a group --', 'newspack-newsletters'),\n        value: 'no_interests'\n      }].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(interestSettings.options)),\n      onChange: setInterest,\n      disabled: inFlight\n    });\n  };\n\n  if (!campaign) {\n    return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(\"div\", {\n      className: \"newspack-newsletters__loading-data\"\n    }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Retrieving Mailchimp data...', 'newspack-newsletters'), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__[\"Spinner\"], null));\n  }\n\n  var _ref3 = campaign || {},\n      status = _ref3.status;\n\n  if ('sent' === status || 'sending' === status) {\n    return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__[\"Notice\"], {\n      status: \"success\",\n      isDismissible: false\n    }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Campaign has been sent.', 'newspack-newsletters'));\n  }\n\n  var _ref4 = campaign.recipients || {},\n      list_id = _ref4.list_id;\n\n  var list = list_id && lists.find(function (_ref5) {\n    var id = _ref5.id;\n    return list_id === id;\n  });\n\n  var _ref6 = list || {},\n      listWebId = _ref6.web_id;\n\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"Fragment\"], null, renderSubject(), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__[\"SelectControl\"], {\n    label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('To', 'newspack-newsletters'),\n    className: \"newspack-newsletters__to-selectcontrol\",\n    value: list_id,\n    options: [{\n      value: null,\n      label: Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('-- Select an audience --', 'newspack-newsletters')\n    }].concat(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(lists.map(function (_ref7) {\n      var id = _ref7.id,\n          name = _ref7.name;\n      return {\n        value: id,\n        label: name\n      };\n    }))),\n    onChange: setList,\n    disabled: inFlight\n  }), listWebId && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(\"p\", null, Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_1__[\"createElement\"])(_wordpress_components__WEBPACK_IMPORTED_MODULE_3__[\"ExternalLink\"], {\n    href: \"https://admin.mailchimp.com/lists/members/?id=\".concat(listWebId)\n  }, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_2__[\"__\"])('Manage audience', 'newspack-newsletters'))), renderInterestCategories(), renderFrom({\n    handleSenderUpdate: setSender\n  }));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ProviderSidebar);\n\n//# sourceURL=webpack:///./src/service-providers/mailchimp/ProviderSidebar.js?");

/***/ }),

/***/ "./src/service-providers/mailchimp/index.js":
/*!**************************************************!*\
  !*** ./src/service-providers/mailchimp/index.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ProviderSidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProviderSidebar */ \"./src/service-providers/mailchimp/ProviderSidebar.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./src/service-providers/mailchimp/utils.js\");\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * External dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n\n\nvar validateNewsletter = function validateNewsletter(_ref) {\n  var campaign = _ref.campaign;\n\n  var _ref2 = campaign || {},\n      recipients = _ref2.recipients,\n      settings = _ref2.settings,\n      status = _ref2.status;\n\n  var _ref3 = recipients || {},\n      listId = _ref3.list_id;\n\n  var _ref4 = settings || {},\n      senderName = _ref4.from_name,\n      senderEmail = _ref4.reply_to;\n\n  var messages = [];\n\n  if ('sent' === status || 'sending' === status) {\n    messages.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Newsletter has already been sent.', 'newspack-newsletters'));\n  }\n\n  if (!listId) {\n    messages.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('A Mailchimp list must be selected before publishing.', 'newspack-newsletters'));\n  }\n\n  if (!senderName || senderName.length < 1) {\n    messages.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Sender name must be set.', 'newspack-newsletters'));\n  }\n\n  if (!senderEmail || senderEmail.length < 1) {\n    messages.push(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Sender email must be set.', 'newspack-newsletters'));\n  }\n\n  return messages;\n};\n\nvar getFetchDataConfig = function getFetchDataConfig(_ref5) {\n  var postId = _ref5.postId;\n  return {\n    path: \"/newspack-newsletters/v1/mailchimp/\".concat(postId)\n  };\n};\n\nvar renderPreSendInfo = function renderPreSendInfo(newsletterData) {\n  if (!newsletterData.campaign) {\n    return null;\n  }\n\n  var listData;\n\n  if (newsletterData.campaign && newsletterData.lists) {\n    var list = Object(lodash__WEBPACK_IMPORTED_MODULE_2__[\"find\"])(newsletterData.lists.lists, ['id', newsletterData.campaign.recipients.list_id]);\n    var interestSettings = Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"getListInterestsSettings\"])(newsletterData);\n\n    if (list) {\n      listData = {\n        name: list.name,\n        subscribers: parseInt(list.stats.member_count)\n      };\n\n      if (interestSettings && interestSettings.setInterest) {\n        listData.groupName = interestSettings.setInterest.rawInterest.name;\n        listData.subscribers = parseInt(interestSettings.setInterest.rawInterest.subscriber_count);\n      }\n    }\n  }\n\n  return Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"p\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])(\"You're about to send a newsletter to:\", 'newspack-newsletters'), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"br\", null), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"strong\", null, listData.name), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"br\", null), listData.groupName && Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"__\"])('Group:', 'newspack-newsletters'), \" \", Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"strong\", null, listData.groupName), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"br\", null)), Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(\"strong\", null, Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"sprintf\"])(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__[\"_n\"])('%d subscriber', '%d subscribers', listData.subscribers, 'newspack-newsletters'), listData.subscribers)));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  validateNewsletter: validateNewsletter,\n  getFetchDataConfig: getFetchDataConfig,\n  ProviderSidebar: _ProviderSidebar__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  renderPreSendInfo: renderPreSendInfo\n});\n\n//# sourceURL=webpack:///./src/service-providers/mailchimp/index.js?");

/***/ }),

/***/ "./src/service-providers/mailchimp/utils.js":
/*!**************************************************!*\
  !*** ./src/service-providers/mailchimp/utils.js ***!
  \**************************************************/
/*! exports provided: getListInterestsSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getListInterestsSettings\", function() { return getListInterestsSettings; });\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @wordpress/i18n */ \"@wordpress/i18n\");\n/* harmony import */ var _wordpress_i18n__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash */ \"lodash\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * WordPress dependencies\n */\n\n/**\n * External dependencies\n */\n\n\n/**\n * Get interest settings for a Mailchimp campaign.\n * An interest is a subset of a list.\n */\n\nvar getListInterestsSettings = function getListInterestsSettings(_ref) {\n  var campaign = _ref.campaign,\n      interestCategories = _ref.interest_categories;\n\n  if (!interestCategories || !interestCategories.categories || !interestCategories.categories.length) {\n    return;\n  }\n\n  var options = interestCategories.categories.reduce(function (accumulator, item) {\n    var title = item.title,\n        interests = item.interests,\n        id = item.id;\n    accumulator.push({\n      label: title,\n      disabled: true\n    });\n\n    if (interests && interests.interests && interests.interests.length) {\n      interests.interests.forEach(function (interest) {\n        var subscriberCount = parseInt(interest.subscriber_count);\n        var subscriberCountInfo = Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__[\"sprintf\"])(Object(_wordpress_i18n__WEBPACK_IMPORTED_MODULE_0__[\"_n\"])('%d subscriber', '%d subscribers', subscriberCount, 'newspack-newsletters'), subscriberCount);\n        accumulator.push({\n          label: \"- \".concat(interest.name, \" (\").concat(subscriberCountInfo, \")\"),\n          value: \"interests-\".concat(id, \":\").concat(interest.id),\n          disabled: subscriberCount === 0,\n          rawInterest: interest\n        });\n      });\n    }\n\n    return accumulator;\n  }, []);\n  var field = Object(lodash__WEBPACK_IMPORTED_MODULE_1__[\"get\"])(campaign, 'recipients.segment_opts.conditions.[0].field');\n  var interest_id = Object(lodash__WEBPACK_IMPORTED_MODULE_1__[\"get\"])(campaign, 'recipients.segment_opts.conditions.[0].value.[0]');\n  var interestValue = field && interest_id ? field + ':' + interest_id : 0;\n  return {\n    options: options,\n    interestValue: interestValue,\n    setInterest: Object(lodash__WEBPACK_IMPORTED_MODULE_1__[\"find\"])(options, ['value', interestValue])\n  };\n};\n\n//# sourceURL=webpack:///./src/service-providers/mailchimp/utils.js?");

/***/ }),

/***/ "./src/utils/consts.js":
/*!*****************************!*\
  !*** ./src/utils/consts.js ***!
  \*****************************/
/*! exports provided: LAYOUT_CPT_SLUG, NEWSLETTER_CPT_SLUG, BLANK_LAYOUT_ID */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LAYOUT_CPT_SLUG\", function() { return LAYOUT_CPT_SLUG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NEWSLETTER_CPT_SLUG\", function() { return NEWSLETTER_CPT_SLUG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BLANK_LAYOUT_ID\", function() { return BLANK_LAYOUT_ID; });\nvar LAYOUT_CPT_SLUG = 'newspack_nl_layo_cpt';\nvar NEWSLETTER_CPT_SLUG = 'newspack_nl_cpt';\nvar BLANK_LAYOUT_ID = 0;\n\n//# sourceURL=webpack:///./src/utils/consts.js?");

/***/ }),

/***/ "./src/utils/hooks.js":
/*!****************************!*\
  !*** ./src/utils/hooks.js ***!
  \****************************/
/*! exports provided: useLayoutsState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useLayoutsState\", function() { return useLayoutsState; });\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ \"./node_modules/@babel/runtime/helpers/slicedToArray.js\");\n/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @wordpress/api-fetch */ \"@wordpress/api-fetch\");\n/* harmony import */ var _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @wordpress/element */ \"@wordpress/element\");\n/* harmony import */ var _wordpress_element__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./consts */ \"./src/utils/consts.js\");\n\n\n/**\n * WordPress dependencies\n */\n\n\n/**\n * Internal dependencies\n */\n\n\n/**\n * A React hook that provides tha layouts list,\n * both default and user-defined.\n *\n * @return {Array} Array of layouts\n */\n\nvar useLayoutsState = function useLayoutsState() {\n  var _useState = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(true),\n      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState, 2),\n      isFetching = _useState2[0],\n      setIsFetching = _useState2[1];\n\n  var _useState3 = Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])([]),\n      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_0___default()(_useState3, 2),\n      layouts = _useState4[0],\n      setLayouts = _useState4[1];\n\n  Object(_wordpress_element__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_1___default()({\n      path: \"/newspack-newsletters/v1/layouts\"\n    }).then(function (response) {\n      setLayouts(response);\n      setIsFetching(false);\n    });\n  }, []);\n\n  var deleteLayoutPost = function deleteLayoutPost(id) {\n    // Optimistic update\n    setLayouts(layouts.filter(function (_ref) {\n      var ID = _ref.ID;\n      return ID !== id;\n    }));\n    _wordpress_api_fetch__WEBPACK_IMPORTED_MODULE_1___default()({\n      path: \"/wp/v2/\".concat(_consts__WEBPACK_IMPORTED_MODULE_3__[\"LAYOUT_CPT_SLUG\"], \"/\").concat(id),\n      method: 'DELETE'\n    });\n  };\n\n  return {\n    layouts: layouts,\n    isFetchingLayouts: isFetching,\n    deleteLayoutPost: deleteLayoutPost\n  };\n};\n\n//# sourceURL=webpack:///./src/utils/hooks.js?");

/***/ }),

/***/ "./src/utils/index.js":
/*!****************************!*\
  !*** ./src/utils/index.js ***!
  \****************************/
/*! exports provided: isUserDefinedLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isUserDefinedLayout\", function() { return isUserDefinedLayout; });\n/* harmony import */ var _consts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./consts */ \"./src/utils/consts.js\");\n/**\n * Internal dependencies\n */\n\nvar isUserDefinedLayout = function isUserDefinedLayout(layout) {\n  return layout && layout.post_type === _consts__WEBPACK_IMPORTED_MODULE_0__[\"LAYOUT_CPT_SLUG\"];\n};\n\n//# sourceURL=webpack:///./src/utils/index.js?");

/***/ }),

/***/ "@wordpress/api-fetch":
/*!*******************************************!*\
  !*** external {"this":["wp","apiFetch"]} ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22apiFetch%22%5D%7D?");

/***/ }),

/***/ "@wordpress/block-editor":
/*!**********************************************!*\
  !*** external {"this":["wp","blockEditor"]} ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22blockEditor%22%5D%7D?");

/***/ }),

/***/ "@wordpress/blocks":
/*!*****************************************!*\
  !*** external {"this":["wp","blocks"]} ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"blocks\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22blocks%22%5D%7D?");

/***/ }),

/***/ "@wordpress/components":
/*!*********************************************!*\
  !*** external {"this":["wp","components"]} ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"components\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22components%22%5D%7D?");

/***/ }),

/***/ "@wordpress/compose":
/*!******************************************!*\
  !*** external {"this":["wp","compose"]} ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"compose\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22compose%22%5D%7D?");

/***/ }),

/***/ "@wordpress/data":
/*!***************************************!*\
  !*** external {"this":["wp","data"]} ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"data\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22data%22%5D%7D?");

/***/ }),

/***/ "@wordpress/date":
/*!***************************************!*\
  !*** external {"this":["wp","date"]} ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"date\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22date%22%5D%7D?");

/***/ }),

/***/ "@wordpress/dom-ready":
/*!*******************************************!*\
  !*** external {"this":["wp","domReady"]} ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"domReady\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22domReady%22%5D%7D?");

/***/ }),

/***/ "@wordpress/edit-post":
/*!*******************************************!*\
  !*** external {"this":["wp","editPost"]} ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"editPost\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22editPost%22%5D%7D?");

/***/ }),

/***/ "@wordpress/element":
/*!******************************************!*\
  !*** external {"this":["wp","element"]} ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"element\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22element%22%5D%7D?");

/***/ }),

/***/ "@wordpress/hooks":
/*!****************************************!*\
  !*** external {"this":["wp","hooks"]} ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"hooks\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22hooks%22%5D%7D?");

/***/ }),

/***/ "@wordpress/html-entities":
/*!***********************************************!*\
  !*** external {"this":["wp","htmlEntities"]} ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"htmlEntities\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22htmlEntities%22%5D%7D?");

/***/ }),

/***/ "@wordpress/i18n":
/*!***************************************!*\
  !*** external {"this":["wp","i18n"]} ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"i18n\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22i18n%22%5D%7D?");

/***/ }),

/***/ "@wordpress/keycodes":
/*!*******************************************!*\
  !*** external {"this":["wp","keycodes"]} ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"keycodes\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22keycodes%22%5D%7D?");

/***/ }),

/***/ "@wordpress/plugins":
/*!******************************************!*\
  !*** external {"this":["wp","plugins"]} ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"plugins\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22plugins%22%5D%7D?");

/***/ }),

/***/ "@wordpress/url":
/*!**************************************!*\
  !*** external {"this":["wp","url"]} ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"wp\"][\"url\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%5B%22wp%22,%22url%22%5D%7D?");

/***/ }),

/***/ "lodash":
/*!**********************************!*\
  !*** external {"this":"lodash"} ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function() { module.exports = this[\"lodash\"]; }());\n\n//# sourceURL=webpack:///external_%7B%22this%22:%22lodash%22%7D?");

/***/ })

/******/ })));