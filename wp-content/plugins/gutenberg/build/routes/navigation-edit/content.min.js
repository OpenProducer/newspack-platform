var Aa=Object.create;var X=Object.defineProperty;var Ea=Object.getOwnPropertyDescriptor;var Ta=Object.getOwnPropertyNames;var Da=Object.getPrototypeOf,ja=Object.prototype.hasOwnProperty;var l=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports);var Va=(a,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of Ta(t))!ja.call(a,f)&&f!==e&&X(a,f,{get:()=>t[f],enumerable:!(r=Ea(t,f))||r.enumerable});return a};var o=(a,t,e)=>(e=a!=null?Aa(Da(a)):{},Va(t||!a||!a.__esModule?X(e,"default",{value:a,enumerable:!0}):e,a));var y=l((et,Y)=>{Y.exports=window.wp.i18n});var w=l((ot,Q)=>{Q.exports=window.wp.components});var i=l((rt,$)=>{$.exports=window.ReactJSXRuntime});var R=l((mt,aa)=>{aa.exports=window.wp.element});var B=l((bt,sa)=>{sa.exports=window.wp.data});var j=l((kt,la)=>{la.exports=window.wp.coreData});var da=l((xt,ma)=>{ma.exports=window.wp.htmlEntities});var C=l((yt,ua)=>{ua.exports=window.wp.blockEditor});var V=l((_t,ia)=>{ia.exports=window.wp.blocks});var na=l((Rt,pa)=>{pa.exports=window.wp.privateApis});var S=l((St,ha)=>{ha.exports=window.wp.primitives});import{useParams as Qa}from"@wordpress/route";var K=o(y()),_=o(w()),p=o(i());import{Link as Oa}from"@wordpress/route";var Ha=({item:{label:a,to:t}})=>t?(0,p.jsx)("li",{children:(0,p.jsx)(Oa,{to:t,children:a})}):(0,p.jsx)("li",{children:(0,p.jsx)(_.__experimentalHeading,{level:1,truncate:!0,children:a})}),Ua=({items:a})=>a.length?(0,p.jsx)("nav",{"aria-label":(0,K.__)("Breadcrumbs"),children:(0,p.jsx)(_.__experimentalHStack,{as:"ul",className:"admin-ui-breadcrumbs__list",spacing:0,justify:"flex-start",alignment:"center",children:a.map((t,e)=>(0,p.jsx)(Ha,{item:t},e))})}):null,T=Ua;function Z(a){var t,e,r="";if(typeof a=="string"||typeof a=="number")r+=a;else if(typeof a=="object")if(Array.isArray(a)){var f=a.length;for(t=0;t<f;t++)a[t]&&(e=Z(a[t]))&&(r&&(r+=" "),r+=e)}else for(e in a)a[e]&&(r&&(r+=" "),r+=e);return r}function za(){for(var a,t,e=0,r="",f=arguments.length;e<f;e++)(a=arguments[e])&&(t=Z(a))&&(r&&(r+=" "),r+=t);return r}var L=za;var ta=o(R()),ea=o(i()),oa=(0,ta.forwardRef)(({children:a,className:t,ariaLabel:e,as:r="div",...f},m)=>(0,ea.jsx)(r,{ref:m,className:L("admin-ui-navigable-region",t),"aria-label":e,role:"region",tabIndex:"-1",...f,children:a}));oa.displayName="NavigableRegion";var ra=oa;var n=o(w()),c=o(i());function fa({breadcrumbs:a,badges:t,title:e,subTitle:r,actions:f}){return(0,c.jsxs)(n.__experimentalVStack,{className:"admin-ui-page__header",as:"header",children:[(0,c.jsxs)(n.__experimentalHStack,{className:"admin-ui-page__header-title",justify:"space-between",spacing:2,children:[(0,c.jsxs)(n.__experimentalHStack,{spacing:2,children:[e&&(0,c.jsx)(n.__experimentalHeading,{as:"h2",level:3,weight:500,truncate:!0,children:e}),a,t]}),(0,c.jsx)(n.__experimentalHStack,{style:{width:"auto",flexShrink:0},spacing:2,className:"admin-ui-page__header-actions",children:f})]}),r&&(0,c.jsx)("p",{className:"admin-ui-page__header-subtitle",children:r})]})}var b=o(i());function Fa({breadcrumbs:a,badges:t,title:e,subTitle:r,children:f,className:m,actions:s,hasPadding:v=!1}){let d=L("admin-ui-page",m);return(0,b.jsxs)(ra,{className:d,ariaLabel:e,children:[(e||a||t)&&(0,b.jsx)(fa,{breadcrumbs:a,badges:t,title:e,subTitle:r,actions:s}),v?(0,b.jsx)("div",{className:"admin-ui-page__content has-padding",children:f}):f]})}var D=Fa;var Ra=o(B()),Ba=o(j()),Ca=o(y()),Sa=o(da());var xa=o(R()),ya=o(C()),_a=o(V()),La=o(w());import{useEditorAssets as Ya}from"@wordpress/lazy-editor";var Ga=`.navigation-edit-editor__hidden-blocks {
  display: none;
}`;document.head.appendChild(document.createElement("style")).appendChild(document.createTextNode(Ga));var h=o(C()),A=o(B()),va=o(V()),wa=o(R()),ba=o(j());var ca=o(na()),{lock:Bt,unlock:ga}=(0,ca.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/routes");var P=o(S()),O=o(i()),H=(0,O.jsx)(P.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,O.jsx)(P.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});var N=o(S()),U=o(i()),z=(0,U.jsx)(N.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,U.jsx)(N.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})});var I=o(S()),F=o(i()),G=(0,F.jsx)(I.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,F.jsx)(I.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})});var u=o(w()),M=o(B()),g=o(y()),k=o(C()),qa={className:"block-editor-block-settings-menu__popover",placement:"bottom-start"};function q({block:a,...t}){let{clientId:e}=a,{moveBlocksDown:r,moveBlocksUp:f,removeBlocks:m}=(0,M.useDispatch)(k.store),s=(0,g.sprintf)((0,g.__)("Remove %s"),(0,k.BlockTitle)({clientId:e,maximumLength:25})),v=(0,M.useSelect)(d=>{let{getBlockRootClientId:E}=d(k.store);return E(e)},[e]);return React.createElement(u.DropdownMenu,{icon:G,label:(0,g.__)("Options"),className:"block-editor-block-settings-menu",popoverProps:qa,noIcons:!0,...t},({onClose:d})=>React.createElement(React.Fragment,null,React.createElement(u.MenuGroup,null,React.createElement(u.MenuItem,{icon:z,onClick:()=>{f([e],v),d()}},(0,g.__)("Move up")),React.createElement(u.MenuItem,{icon:H,onClick:()=>{r([e],v),d()}},(0,g.__)("Move down"))),React.createElement(u.MenuGroup,null,React.createElement(u.MenuItem,{onClick:()=>{m([e],!1),d()}},s))))}var{PrivateListView:Wa}=ga(h.privateApis),Ja=100,Xa=["postType","page",{per_page:Ja,_fields:["id","link","menu_order","parent","title","type"],orderby:"menu_order",order:"asc"}];function W({rootClientId:a}){let{listViewRootClientId:t,isLoading:e}=(0,A.useSelect)(s=>{let{areInnerBlocksControlled:v,getBlockName:d,getBlockCount:E,getBlockOrder:Pa}=s(h.store),{isResolving:Na}=s(ba.store),x=Pa(a),Ia=x.length===1&&d(x[0])==="core/page-list"&&E(x[0])>0,Ma=Na("getEntityRecords",Xa);return{listViewRootClientId:Ia?x[0]:a,isLoading:!v(a)||Ma}},[a]),{replaceBlock:r,__unstableMarkNextChangeAsNotPersistent:f}=(0,A.useDispatch)(h.store),m=(0,wa.useCallback)(s=>{s.name==="core/navigation-link"&&!s.attributes.url&&(f(),r(s.clientId,(0,va.createBlock)("core/navigation-link",s.attributes)))},[f,r]);return React.createElement(React.Fragment,null,!e&&React.createElement(Wa,{rootClientId:t,onSelect:m,blockSettingsMenu:q,showAppender:!1,isExpanded:!0}),React.createElement("div",{className:"navigation-edit-editor__hidden-blocks"},React.createElement(h.BlockList,null)))}var ka=()=>{};function J({id:a}){let{isReady:t}=Ya(),e=(0,xa.useMemo)(()=>!t||!a?[]:[(0,_a.createBlock)("core/navigation",{ref:a})],[t,a]);return!t||!e.length?React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},React.createElement(La.Spinner,null)):React.createElement(ya.BlockEditorProvider,{settings:{},value:e,onChange:ka,onInput:ka},React.createElement(W,{rootClientId:e[0].clientId}))}var $a="wp_navigation";function Ka(){let{id:a}=Qa({from:"/navigation/edit/$id"}),t=parseInt(a),{navigationMenu:e}=(0,Ra.useSelect)(f=>{let{getEntityRecord:m}=f(Ba.store);return{navigationMenu:m("postType",$a,t)}},[t]);if(!e)return;let r=e.title?.rendered||e.title?.raw||"";return React.createElement(D,{breadcrumbs:React.createElement(T,{items:[{label:(0,Ca.__)("Navigation"),to:"/navigation/list"},{label:(0,Sa.decodeEntities)(r)}]}),hasPadding:!0},React.createElement(J,{id:t}))}var Za=Ka;export{Za as stage};
