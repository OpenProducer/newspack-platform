var j=Object.create;var m=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var z=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty;var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var O=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of z(t))!K.call(e,s)&&s!==r&&m(e,s,{get:()=>t[s],enumerable:!(i=q(t,s))||i.enumerable});return e};var n=(e,t,r)=>(r=e!=null?j(C(e)):{},O(t||!e||!e.__esModule?m(r,"default",{value:e,enumerable:!0}):r,e));var c=l((B,w)=>{w.exports=window.wp.data});var f=l((W,y)=>{y.exports=window.wp.coreData});var v=l((N,h)=>{h.exports=window.wp.element});var d=l((Y,V)=>{V.exports=window.wp.preferences});var D=n(c()),U=n(f());function u(e,t,r){return`dataviews-${e}-${t}-${r}`}var T=n(v()),_=n(c()),R=n(d());var x=n(c()),P=n(d());async function g(e){let{kind:t,name:r,slug:i,defaultView:s,queryParams:a}=e,o=u(t,r,i),k=(0,x.select)(P.store).get("core/views",o)??s,E=a?.page??1,F=a?.search??"";return{...k,page:E,search:F}}var S=n(c()),I=n(f()),p={type:"grid",sort:{field:"date",direction:"desc"},fields:[],titleField:"title",mediaField:"preview"};var $=[{slug:"all",label:"All Template Parts",view:{...p}},{slug:"header",label:"Headers",view:{...p,filters:[{field:"area",operator:"is",value:"header"}]}},{slug:"footer",label:"Footers",view:{...p,filters:[{field:"area",operator:"is",value:"footer"}]}},{slug:"sidebar",label:"Sidebars",view:{...p,filters:[{field:"area",operator:"is",value:"sidebar"}]}},{slug:"uncategorized",label:"General",view:{...p,filters:[{field:"area",operator:"is",value:"uncategorized"}]}}];function b(e,t){return $.find(i=>i.slug===t)?.view||p}async function A(e,t){let r=await(0,S.resolveSelect)(I.store).getPostType("wp_template_part"),i=b(r,e);return g({kind:"postType",name:"wp_template_part",slug:e??"all",defaultView:i,queryParams:t})}function L(e){let t={};e.perPage!==void 0&&(t.per_page=e.perPage),e.page!==void 0&&(t.page=e.page),[void 0,""].includes(e.search)||(t.search=e.search),e.sort?.field!==void 0&&(t.orderby=e.sort.field),e.sort?.direction!==void 0&&(t.order=e.sort.direction);let r=e.filters?.find(i=>i.field==="area");return r&&(t.area=r.value),t}var le={async canvas(e){let{params:t,search:r}=e,i=await A(t.area,{page:r.page,search:r.search});if(i.type!=="list")return;if(r.postIds&&r.postIds.length>0){let o=r.postIds[0].toString();return{postType:"wp_template_part",postId:o,isPreview:!0,editLink:`/types/wp_template_part/edit/${encodeURIComponent(o)}`}}let s=L(i),a=await(0,D.resolveSelect)(U.store).getEntityRecords("postType","wp_template_part",{...s,per_page:1});if(a&&a.length>0){let o=a[0].id.toString();return{postType:"wp_template_part",postId:o,isPreview:!0,editLink:`/types/wp_template_part/edit/${encodeURIComponent(o)}`}}}};export{le as route};
