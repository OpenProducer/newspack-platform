"use strict";var wp;(wp||={}).coreData=(()=>{var id=Object.create;var $n=Object.defineProperty;var od=Object.getOwnPropertyDescriptor;var ad=Object.getOwnPropertyNames;var cd=Object.getPrototypeOf,ld=Object.prototype.hasOwnProperty;var X=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Nt=(t,e)=>{for(var r in e)$n(t,r,{get:e[r],enumerable:!0})},ma=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ad(e))!ld.call(t,s)&&s!==r&&$n(t,s,{get:()=>e[s],enumerable:!(n=od(e,s))||n.enumerable});return t};var C=(t,e,r)=>(r=t!=null?id(cd(t)):{},ma(e||!t||!t.__esModule?$n(r,"default",{value:t,enumerable:!0}):r,t)),ud=t=>ma($n({},"__esModule",{value:!0}),t);var Oe=X((eE,ya)=>{ya.exports=window.wp.data});var ht=X((tE,Ea)=>{"use strict";Ea.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var oi=X((rE,wa)=>{wa.exports=window.wp.compose});var _a=X((nE,va)=>{va.exports=window.wp.undoManager});var Ia=X((OE,Ca)=>{"use strict";function Bt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bt=function(e){return typeof e}:Bt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(t)}function yd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ra(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ed(t,e,r){return e&&Ra(t.prototype,e),r&&Ra(t,r),t}function Ta(t,e){var r=t._map,n=t._arrayTreeMap,s=t._objectTreeMap;if(r.has(e))return r.get(e);for(var i=Object.keys(e).sort(),o=Array.isArray(e)?n:s,a=0;a<i.length;a++){var c=i[a];if(o=o.get(c),o===void 0)return;var u=e[c];if(o=o.get(u),o===void 0)return}var l=o.get("_ekm_value");if(l)return r.delete(l[0]),l[0]=e,o.set("_ekm_value",l),r.set(e,l),l}var wd=(function(){function t(e){if(yd(this,t),this.clear(),e instanceof t){var r=[];e.forEach(function(s,i){r.push([i,s])}),e=r}if(e!=null)for(var n=0;n<e.length;n++)this.set(e[n][0],e[n][1])}return Ed(t,[{key:"set",value:function(r,n){if(r===null||Bt(r)!=="object")return this._map.set(r,n),this;for(var s=Object.keys(r).sort(),i=[r,n],o=Array.isArray(r)?this._arrayTreeMap:this._objectTreeMap,a=0;a<s.length;a++){var c=s[a];o.has(c)||o.set(c,new t),o=o.get(c);var u=r[c];o.has(u)||o.set(u,new t),o=o.get(u)}var l=o.get("_ekm_value");return l&&this._map.delete(l[0]),o.set("_ekm_value",i),this._map.set(r,i),this}},{key:"get",value:function(r){if(r===null||Bt(r)!=="object")return this._map.get(r);var n=Ta(this,r);if(n)return n[1]}},{key:"has",value:function(r){return r===null||Bt(r)!=="object"?this._map.has(r):Ta(this,r)!==void 0}},{key:"delete",value:function(r){return this.has(r)?(this.set(r,void 0),!0):!1}},{key:"forEach",value:function(r){var n=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;this._map.forEach(function(i,o){o!==null&&Bt(o)==="object"&&(i=i[1]),r.call(s,i,o,n)})}},{key:"clear",value:function(){this._map=new Map,this._arrayTreeMap=new Map,this._objectTreeMap=new Map}},{key:"size",get:function(){return this._map.size}}]),t})();Ca.exports=wd});var gt=X((kE,Aa)=>{Aa.exports=window.wp.url});var st=X((tw,Ba)=>{Ba.exports=window.wp.apiFetch});var Wr=X((rw,ja)=>{ja.exports=window.wp.blocks});var gi=X((nw,Fa)=>{Fa.exports=window.wp.i18n});var Dl=X((Rs,Al)=>{(function(t,e){typeof Rs=="object"&&typeof Al<"u"?e(Rs):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.Diff={}))})(Rs,function(t){"use strict";function e(){}e.prototype={diff:function(h,y){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=w.callback;typeof w=="function"&&(S=w,w={}),this.options=w;var v=this;function x(B){return S?(setTimeout(function(){S(void 0,B)},0),!0):B}h=this.castInput(h),y=this.castInput(y),h=this.removeEmpty(this.tokenize(h)),y=this.removeEmpty(this.tokenize(y));var R=y.length,I=h.length,A=1,M=R+I,F=[{newPos:-1,components:[]}],N=this.extractCommon(F[0],y,h,0);if(F[0].newPos+1>=R&&N+1>=I)return x([{value:this.join(y),count:y.length}]);function $(){for(var B=-1*A;B<=A;B+=2){var pe=void 0,ve=F[B-1],ge=F[B+1],_e=(ge?ge.newPos:0)-B;ve&&(F[B-1]=void 0);var re=ve&&ve.newPos+1<R,tt=ge&&0<=_e&&_e<I;if(!re&&!tt){F[B]=void 0;continue}if(!re||tt&&ve.newPos<ge.newPos?(pe=n(ge),v.pushComponent(pe.components,void 0,!0)):(pe=ve,pe.newPos++,v.pushComponent(pe.components,!0,void 0)),_e=v.extractCommon(pe,y,h,B),pe.newPos+1>=R&&_e+1>=I)return x(r(v,pe.components,y,h,v.useLongestToken));F[B]=pe}A++}if(S)(function B(){setTimeout(function(){if(A>M)return S();$()||B()},0)})();else for(;A<=M;){var te=$();if(te)return te}},pushComponent:function(h,y,w){var S=h[h.length-1];S&&S.added===y&&S.removed===w?h[h.length-1]={count:S.count+1,added:y,removed:w}:h.push({count:1,added:y,removed:w})},extractCommon:function(h,y,w,S){for(var v=y.length,x=w.length,R=h.newPos,I=R-S,A=0;R+1<v&&I+1<x&&this.equals(y[R+1],w[I+1]);)R++,I++,A++;return A&&h.components.push({count:A}),h.newPos=R,I},equals:function(h,y){return this.options.comparator?this.options.comparator(h,y):h===y||this.options.ignoreCase&&h.toLowerCase()===y.toLowerCase()},removeEmpty:function(h){for(var y=[],w=0;w<h.length;w++)h[w]&&y.push(h[w]);return y},castInput:function(h){return h},tokenize:function(h){return h.split("")},join:function(h){return h.join("")}};function r(g,h,y,w,S){for(var v=0,x=h.length,R=0,I=0;v<x;v++){var A=h[v];if(A.removed){if(A.value=g.join(w.slice(I,I+A.count)),I+=A.count,v&&h[v-1].added){var F=h[v-1];h[v-1]=h[v],h[v]=F}}else{if(!A.added&&S){var M=y.slice(R,R+A.count);M=M.map(function($,te){var B=w[I+te];return B.length>$.length?B:$}),A.value=g.join(M)}else A.value=g.join(y.slice(R,R+A.count));R+=A.count,A.added||(I+=A.count)}}var N=h[x-1];return x>1&&typeof N.value=="string"&&(N.added||N.removed)&&g.equals("",N.value)&&(h[x-2].value+=N.value,h.pop()),h}function n(g){return{newPos:g.newPos,components:g.components.slice(0)}}var s=new e;function i(g,h,y){return s.diff(g,h,y)}function o(g,h){if(typeof g=="function")h.callback=g;else if(g)for(var y in g)g.hasOwnProperty(y)&&(h[y]=g[y]);return h}var a=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,c=/\S/,u=new e;u.equals=function(g,h){return this.options.ignoreCase&&(g=g.toLowerCase(),h=h.toLowerCase()),g===h||this.options.ignoreWhitespace&&!c.test(g)&&!c.test(h)},u.tokenize=function(g){for(var h=g.split(/(\s+|[()[\]{}'"]|\b)/),y=0;y<h.length-1;y++)!h[y+1]&&h[y+2]&&a.test(h[y])&&a.test(h[y+2])&&(h[y]+=h[y+2],h.splice(y+1,2),y--);return h};function l(g,h,y){return y=o(y,{ignoreWhitespace:!0}),u.diff(g,h,y)}function f(g,h,y){return u.diff(g,h,y)}var d=new e;d.tokenize=function(g){var h=[],y=g.split(/(\n|\r\n)/);y[y.length-1]||y.pop();for(var w=0;w<y.length;w++){var S=y[w];w%2&&!this.options.newlineIsToken?h[h.length-1]+=S:(this.options.ignoreWhitespace&&(S=S.trim()),h.push(S))}return h};function p(g,h,y){return d.diff(g,h,y)}function m(g,h,y){var w=o(y,{ignoreWhitespace:!0});return d.diff(g,h,w)}var E=new e;E.tokenize=function(g){return g.split(/(\S.+?[.!?])(?=\s+|$)/)};function _(g,h,y){return E.diff(g,h,y)}var b=new e;b.tokenize=function(g){return g.split(/([{}:;,]|\s+)/)};function T(g,h,y){return b.diff(g,h,y)}function U(g){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(h){return typeof h}:U=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},U(g)}function D(g){return j(g)||he(g)||Ut()}function j(g){if(Array.isArray(g)){for(var h=0,y=new Array(g.length);h<g.length;h++)y[h]=g[h];return y}}function he(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}function Ut(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var De=Object.prototype.toString,K=new e;K.useLongestToken=!0,K.tokenize=d.tokenize,K.castInput=function(g){var h=this.options,y=h.undefinedReplacement,w=h.stringifyReplacer,S=w===void 0?function(v,x){return typeof x>"u"?y:x}:w;return typeof g=="string"?g:JSON.stringify(oe(g,null,null,S),S,"  ")},K.equals=function(g,h){return e.prototype.equals.call(K,g.replace(/,([\r\n])/g,"$1"),h.replace(/,([\r\n])/g,"$1"))};function ie(g,h,y){return K.diff(g,h,y)}function oe(g,h,y,w,S){h=h||[],y=y||[],w&&(g=w(S,g));var v;for(v=0;v<h.length;v+=1)if(h[v]===g)return y[v];var x;if(De.call(g)==="[object Array]"){for(h.push(g),x=new Array(g.length),y.push(x),v=0;v<g.length;v+=1)x[v]=oe(g[v],h,y,w,S);return h.pop(),y.pop(),x}if(g&&g.toJSON&&(g=g.toJSON()),U(g)==="object"&&g!==null){h.push(g),x={},y.push(x);var R=[],I;for(I in g)g.hasOwnProperty(I)&&R.push(I);for(R.sort(),v=0;v<R.length;v+=1)I=R[v],x[I]=oe(g[I],h,y,w,I);h.pop(),y.pop()}else x=g;return x}var ur=new e;ur.tokenize=function(g){return g.slice()},ur.join=ur.removeEmpty=function(g){return g};function Bn(g,h,y){return ur.diff(g,h,y)}function jn(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=g.split(/\r\n|[\n\v\f\r\x85]/),w=g.match(/\r\n|[\n\v\f\r\x85]/g)||[],S=[],v=0;function x(){var A={};for(S.push(A);v<y.length;){var M=y[v];if(/^(\-\-\-|\+\+\+|@@)\s/.test(M))break;var F=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(M);F&&(A.index=F[1]),v++}for(R(A),R(A),A.hunks=[];v<y.length;){var N=y[v];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(N))break;if(/^@@/.test(N))A.hunks.push(I());else{if(N&&h.strict)throw new Error("Unknown line "+(v+1)+" "+JSON.stringify(N));v++}}}function R(A){var M=/^(---|\+\+\+)\s+(.*)$/.exec(y[v]);if(M){var F=M[1]==="---"?"old":"new",N=M[2].split("	",2),$=N[0].replace(/\\\\/g,"\\");/^".*"$/.test($)&&($=$.substr(1,$.length-2)),A[F+"FileName"]=$,A[F+"Header"]=(N[1]||"").trim(),v++}}function I(){for(var A=v,M=y[v++],F=M.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),N={oldStart:+F[1],oldLines:+F[2]||1,newStart:+F[3],newLines:+F[4]||1,lines:[],linedelimiters:[]},$=0,te=0;v<y.length&&!(y[v].indexOf("--- ")===0&&v+2<y.length&&y[v+1].indexOf("+++ ")===0&&y[v+2].indexOf("@@")===0);v++){var B=y[v].length==0&&v!=y.length-1?" ":y[v][0];if(B==="+"||B==="-"||B===" "||B==="\\")N.lines.push(y[v]),N.linedelimiters.push(w[v]||`
`),B==="+"?$++:B==="-"?te++:B===" "&&($++,te++);else break}if(!$&&N.newLines===1&&(N.newLines=0),!te&&N.oldLines===1&&(N.oldLines=0),h.strict){if($!==N.newLines)throw new Error("Added line count did not match for hunk at line "+(A+1));if(te!==N.oldLines)throw new Error("Removed line count did not match for hunk at line "+(A+1))}return N}for(;v<y.length;)x();return S}function zf(g,h,y){var w=!0,S=!1,v=!1,x=1;return function R(){if(w&&!v){if(S?x++:w=!1,g+x<=y)return x;v=!0}if(!S)return v||(w=!0),h<=g-x?-x++:(S=!0,R())}}function ia(g,h){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof h=="string"&&(h=jn(h)),Array.isArray(h)){if(h.length>1)throw new Error("applyPatch only works with a single input.");h=h[0]}var w=g.split(/\r\n|[\n\v\f\r\x85]/),S=g.match(/\r\n|[\n\v\f\r\x85]/g)||[],v=h.hunks,x=y.compareLine||function(si,Gr,Yn,Lt){return Gr===Lt},R=0,I=y.fuzzFactor||0,A=0,M=0,F,N;function $(si,Gr){for(var Yn=0;Yn<si.lines.length;Yn++){var Lt=si.lines[Yn],ii=Lt.length>0?Lt[0]:" ",sd=Lt.length>0?Lt.substr(1):Lt;if(ii===" "||ii==="-"){if(!x(Gr+1,w[Gr],ii,sd)&&(R++,R>I))return!1;Gr++}}return!0}for(var te=0;te<v.length;te++){for(var B=v[te],pe=w.length-B.oldLines,ve=0,ge=M+B.oldStart-1,_e=zf(ge,A,pe);ve!==void 0;ve=_e())if($(B,ge+ve)){B.offset=M+=ve;break}if(ve===void 0)return!1;A=B.offset+B.oldStart+B.oldLines}for(var re=0,tt=0;tt<v.length;tt++){var Ue=v[tt],Ve=Ue.oldStart+Ue.offset+re-1;re+=Ue.newLines-Ue.oldLines,Ve<0&&(Ve=0);for(var rt=0;rt<Ue.lines.length;rt++){var nt=Ue.lines[rt],dt=nt.length>0?nt[0]:" ",Gn=nt.length>0?nt.substr(1):nt,ni=Ue.linedelimiters[rt];if(dt===" ")Ve++;else if(dt==="-")w.splice(Ve,1),S.splice(Ve,1);else if(dt==="+")w.splice(Ve,0,Gn),S.splice(Ve,0,ni),Ve++;else if(dt==="\\"){var Fr=Ue.lines[rt-1]?Ue.lines[rt-1][0]:null;Fr==="+"?F=!0:Fr==="-"&&(N=!0)}}}if(F)for(;!w[w.length-1];)w.pop(),S.pop();else N&&(w.push(""),S.push(`
`));for(var kt=0;kt<w.length-1;kt++)w[kt]=w[kt]+S[kt];return w.join("")}function Kf(g,h){typeof g=="string"&&(g=jn(g));var y=0;function w(){var S=g[y++];if(!S)return h.complete();h.loadFile(S,function(v,x){if(v)return h.complete(v);var R=ia(x,S,h);h.patched(S,R,function(I){if(I)return h.complete(I);w()})})}w()}function Zs(g,h,y,w,S,v,x){x||(x={}),typeof x.context>"u"&&(x.context=4);var R=p(y,w,x);R.push({value:"",lines:[]});function I(ve){return ve.map(function(ge){return" "+ge})}for(var A=[],M=0,F=0,N=[],$=1,te=1,B=function(ge){var _e=R[ge],re=_e.lines||_e.value.replace(/\n$/,"").split(`
`);if(_e.lines=re,_e.added||_e.removed){var tt;if(!M){var Ue=R[ge-1];M=$,F=te,Ue&&(N=x.context>0?I(Ue.lines.slice(-x.context)):[],M-=N.length,F-=N.length)}(tt=N).push.apply(tt,D(re.map(function(kt){return(_e.added?"+":"-")+kt}))),_e.added?te+=re.length:$+=re.length}else{if(M)if(re.length<=x.context*2&&ge<R.length-2){var Ve;(Ve=N).push.apply(Ve,D(I(re)))}else{var rt,nt=Math.min(re.length,x.context);(rt=N).push.apply(rt,D(I(re.slice(0,nt))));var dt={oldStart:M,oldLines:$-M+nt,newStart:F,newLines:te-F+nt,lines:N};if(ge>=R.length-2&&re.length<=x.context){var Gn=/\n$/.test(y),ni=/\n$/.test(w),Fr=re.length==0&&N.length>dt.oldLines;!Gn&&Fr&&N.splice(dt.oldLines,0,"\\ No newline at end of file"),(!Gn&&!Fr||!ni)&&N.push("\\ No newline at end of file")}A.push(dt),M=0,F=0,N=[]}$+=re.length,te+=re.length}},pe=0;pe<R.length;pe++)B(pe);return{oldFileName:g,newFileName:h,oldHeader:S,newHeader:v,hunks:A}}function oa(g,h,y,w,S,v,x){var R=Zs(g,h,y,w,S,v,x),I=[];g==h&&I.push("Index: "+g),I.push("==================================================================="),I.push("--- "+R.oldFileName+(typeof R.oldHeader>"u"?"":"	"+R.oldHeader)),I.push("+++ "+R.newFileName+(typeof R.newHeader>"u"?"":"	"+R.newHeader));for(var A=0;A<R.hunks.length;A++){var M=R.hunks[A];I.push("@@ -"+M.oldStart+","+M.oldLines+" +"+M.newStart+","+M.newLines+" @@"),I.push.apply(I,M.lines)}return I.join(`
`)+`
`}function qf(g,h,y,w,S,v){return oa(g,g,h,y,w,S,v)}function Wf(g,h){return g.length!==h.length?!1:ei(g,h)}function ei(g,h){if(h.length>g.length)return!1;for(var y=0;y<h.length;y++)if(h[y]!==g[y])return!1;return!0}function Jf(g){var h=ri(g.lines),y=h.oldLines,w=h.newLines;y!==void 0?g.oldLines=y:delete g.oldLines,w!==void 0?g.newLines=w:delete g.newLines}function Qf(g,h,y){g=aa(g,y),h=aa(h,y);var w={};(g.index||h.index)&&(w.index=g.index||h.index),(g.newFileName||h.newFileName)&&(ca(g)?ca(h)?(w.oldFileName=Fn(w,g.oldFileName,h.oldFileName),w.newFileName=Fn(w,g.newFileName,h.newFileName),w.oldHeader=Fn(w,g.oldHeader,h.oldHeader),w.newHeader=Fn(w,g.newHeader,h.newHeader)):(w.oldFileName=g.oldFileName,w.newFileName=g.newFileName,w.oldHeader=g.oldHeader,w.newHeader=g.newHeader):(w.oldFileName=h.oldFileName||g.oldFileName,w.newFileName=h.newFileName||g.newFileName,w.oldHeader=h.oldHeader||g.oldHeader,w.newHeader=h.newHeader||g.newHeader)),w.hunks=[];for(var S=0,v=0,x=0,R=0;S<g.hunks.length||v<h.hunks.length;){var I=g.hunks[S]||{oldStart:1/0},A=h.hunks[v]||{oldStart:1/0};if(la(I,A))w.hunks.push(ua(I,x)),S++,R+=I.newLines-I.oldLines;else if(la(A,I))w.hunks.push(ua(A,R)),v++,x+=A.newLines-A.oldLines;else{var M={oldStart:Math.min(I.oldStart,A.oldStart),oldLines:0,newStart:Math.min(I.newStart+x,A.oldStart+R),newLines:0,lines:[]};Xf(M,I.oldStart,I.lines,A.oldStart,A.lines),v++,S++,w.hunks.push(M)}}return w}function aa(g,h){if(typeof g=="string"){if(/^@@/m.test(g)||/^Index:/m.test(g))return jn(g)[0];if(!h)throw new Error("Must provide a base reference or pass in a patch");return Zs(void 0,void 0,h,g)}return g}function ca(g){return g.newFileName&&g.newFileName!==g.oldFileName}function Fn(g,h,y){return h===y?h:(g.conflict=!0,{mine:h,theirs:y})}function la(g,h){return g.oldStart<h.oldStart&&g.oldStart+g.oldLines<h.oldStart}function ua(g,h){return{oldStart:g.oldStart,oldLines:g.oldLines,newStart:g.newStart+h,newLines:g.newLines,lines:g.lines}}function Xf(g,h,y,w,S){var v={offset:h,lines:y,index:0},x={offset:w,lines:S,index:0};for(da(g,v,x),da(g,x,v);v.index<v.lines.length&&x.index<x.lines.length;){var R=v.lines[v.index],I=x.lines[x.index];if((R[0]==="-"||R[0]==="+")&&(I[0]==="-"||I[0]==="+"))Zf(g,v,x);else if(R[0]==="+"&&I[0]===" "){var A;(A=g.lines).push.apply(A,D(Ot(v)))}else if(I[0]==="+"&&R[0]===" "){var M;(M=g.lines).push.apply(M,D(Ot(x)))}else R[0]==="-"&&I[0]===" "?fa(g,v,x):I[0]==="-"&&R[0]===" "?fa(g,x,v,!0):R===I?(g.lines.push(R),v.index++,x.index++):ti(g,Ot(v),Ot(x))}ha(g,v),ha(g,x),Jf(g)}function Zf(g,h,y){var w=Ot(h),S=Ot(y);if(pa(w)&&pa(S)){if(ei(w,S)&&ga(y,w,w.length-S.length)){var v;(v=g.lines).push.apply(v,D(w));return}else if(ei(S,w)&&ga(h,S,S.length-w.length)){var x;(x=g.lines).push.apply(x,D(S));return}}else if(Wf(w,S)){var R;(R=g.lines).push.apply(R,D(w));return}ti(g,w,S)}function fa(g,h,y,w){var S=Ot(h),v=ed(y,S);if(v.merged){var x;(x=g.lines).push.apply(x,D(v.merged))}else ti(g,w?v:S,w?S:v)}function ti(g,h,y){g.conflict=!0,g.lines.push({conflict:!0,mine:h,theirs:y})}function da(g,h,y){for(;h.offset<y.offset&&h.index<h.lines.length;){var w=h.lines[h.index++];g.lines.push(w),h.offset++}}function ha(g,h){for(;h.index<h.lines.length;){var y=h.lines[h.index++];g.lines.push(y)}}function Ot(g){for(var h=[],y=g.lines[g.index][0];g.index<g.lines.length;){var w=g.lines[g.index];if(y==="-"&&w[0]==="+"&&(y="+"),y===w[0])h.push(w),g.index++;else break}return h}function ed(g,h){for(var y=[],w=[],S=0,v=!1,x=!1;S<h.length&&g.index<g.lines.length;){var R=g.lines[g.index],I=h[S];if(I[0]==="+")break;if(v=v||R[0]!==" ",w.push(I),S++,R[0]==="+")for(x=!0;R[0]==="+";)y.push(R),R=g.lines[++g.index];I.substr(1)===R.substr(1)?(y.push(R),g.index++):x=!0}if((h[S]||"")[0]==="+"&&v&&(x=!0),x)return y;for(;S<h.length;)w.push(h[S++]);return{merged:w,changes:y}}function pa(g){return g.reduce(function(h,y){return h&&y[0]==="-"},!0)}function ga(g,h,y){for(var w=0;w<y;w++){var S=h[h.length-y+w].substr(1);if(g.lines[g.index+w]!==" "+S)return!1}return g.index+=y,!0}function ri(g){var h=0,y=0;return g.forEach(function(w){if(typeof w!="string"){var S=ri(w.mine),v=ri(w.theirs);h!==void 0&&(S.oldLines===v.oldLines?h+=S.oldLines:h=void 0),y!==void 0&&(S.newLines===v.newLines?y+=S.newLines:y=void 0)}else y!==void 0&&(w[0]==="+"||w[0]===" ")&&y++,h!==void 0&&(w[0]==="-"||w[0]===" ")&&h++}),{oldLines:h,newLines:y}}function td(g){for(var h=[],y,w,S=0;S<g.length;S++)y=g[S],y.added?w=1:y.removed?w=-1:w=0,h.push([w,y.value]);return h}function rd(g){for(var h=[],y=0;y<g.length;y++){var w=g[y];w.added?h.push("<ins>"):w.removed&&h.push("<del>"),h.push(nd(w.value)),w.added?h.push("</ins>"):w.removed&&h.push("</del>")}return h.join("")}function nd(g){var h=g;return h=h.replace(/&/g,"&amp;"),h=h.replace(/</g,"&lt;"),h=h.replace(/>/g,"&gt;"),h=h.replace(/"/g,"&quot;"),h}t.Diff=e,t.diffChars=i,t.diffWords=l,t.diffWordsWithSpace=f,t.diffLines=p,t.diffTrimmedLines=m,t.diffSentences=_,t.diffCss=T,t.diffJson=ie,t.diffArrays=Bn,t.structuredPatch=Zs,t.createTwoFilesPatch=oa,t.createPatch=qf,t.applyPatch=ia,t.applyPatches=Kf,t.parsePatch=jn,t.merge=Qf,t.convertChangesToDMP=td,t.convertChangesToXML=rd,t.canonicalize=oe,Object.defineProperty(t,"__esModule",{value:!0})})});var $l=X((Xw,Yl)=>{Yl.exports=window.wp.hooks});var bo=X((Hv,tu)=>{tu.exports=window.wp.richText});var lr=X((w_,xu)=>{xu.exports=window.wp.deprecated});var Tu=X((__,Ru)=>{Ru.exports=window.wp.privateApis});var Ho=X((Q_,Hu)=>{Hu.exports=window.wp.htmlEntities});var At=X((_b,ff)=>{ff.exports=window.wp.element});var pf=X((Sb,hf)=>{hf.exports=window.ReactJSXRuntime});var Af=X((Fb,If)=>{If.exports=window.wp.warning});var Pf=X((qb,Mf)=>{Mf.exports=window.wp.blockEditor});var Xy={};Nt(Xy,{EntityProvider:()=>mf,__experimentalFetchLinkSuggestions:()=>Ku,__experimentalFetchUrlData:()=>Wu,__experimentalUseEntityRecord:()=>Sf,__experimentalUseEntityRecords:()=>Tf,__experimentalUseResourcePermissions:()=>Lf,fetchBlockPatterns:()=>Ko,privateApis:()=>Hf,store:()=>se,useEntityBlockEditor:()=>Gf,useEntityId:()=>jr,useEntityProp:()=>$f,useEntityRecord:()=>Qo,useEntityRecords:()=>Ws,useResourcePermissions:()=>kf});var Xs=C(Oe(),1);var Ao=C(ht(),1),_u=C(oi(),1),An=C(Oe(),1),bu=C(_a(),1);var ba=C(ht(),1);function ai(t,e){if(!t)return e;let r=!1,n={};for(let s in e)(0,ba.default)(t[s],e[s])?n[s]=t[s]:(r=!0,n[s]=e[s]);if(!r)return t;for(let s in t)n.hasOwnProperty(s)||(n[s]=t[s]);return n}function fd(t){return typeof t=="string"?t.split(","):Array.isArray(t)?t:null}var me=fd;var dd=t=>e=>(r,n)=>r===void 0||t(n)?e(r,n):r,Yr=dd;var hd=t=>(...e)=>async({resolveSelect:r})=>{await r[t](...e)},Mt=hd;var pd=t=>e=>(r={},n)=>{let s=n[t];if(s===void 0)return r;let i=e(r[s],n);return i===r[s]?r:{...r,[s]:i}},Hn=pd;var gd=t=>e=>(r,n)=>e(r,t(n)),$r=gd;function md(t){let e=new WeakMap;return r=>{let n;return e.has(r)?n=e.get(r):(n=t(r),r!==null&&typeof r=="object"&&e.set(r,n)),n}}var ci=md;function li(t,e){return(t.rawAttributes||[]).includes(e)}function pt(t,e,r){if(!t||typeof t!="object")return t;let n=Array.isArray(e)?e:e.split(".");return n.reduce((s,i,o)=>(s[i]===void 0&&(Number.isInteger(n[o+1])?s[i]=[]:s[i]={}),o===n.length-1&&(s[i]=r),s[i]),t),t}function ui(t,e,r){if(!t||typeof t!="object"||typeof e!="string"&&!Array.isArray(e))return t;let n=Array.isArray(e)?e:e.split("."),s=t;return n.forEach(i=>{s=s?.[i]}),s!==void 0?s:r}function Hr(t){return/^\s*\d+\s*$/.test(t)}var Pt=["create","read","update","delete"];function zr(t){let e={};if(!t)return e;let r={create:"POST",read:"GET",update:"PUT",delete:"DELETE"};for(let[n,s]of Object.entries(r))e[n]=t.includes(s);return e}function Vt(t,e,r){return(typeof e=="object"?[t,e.kind,e.name,e.id]:[t,e,r]).filter(Boolean).join("/")}var Kr=Symbol("RECEIVE_INTERMEDIATE_RESULTS");function fi(t,e,r){return{type:"RECEIVE_ITEMS",items:Array.isArray(t)?t:[t],persistedEdits:e,meta:r}}function Sa(t,e,r,n=!1){return{type:"REMOVE_ITEMS",itemIds:Array.isArray(r)?r:[r],kind:t,name:e,invalidateCache:n}}function xa(t,e={},r,n){return{...fi(t,r,n),query:e}}var Oa=C(Ia(),1),ka=C(Oe(),1);var Da=C(gt(),1);function vd(t){let e={stableKey:"",page:1,perPage:10,fields:null,include:null,context:"default"},r=Object.keys(t).sort();for(let n=0;n<r.length;n++){let s=r[n],i=t[s];switch(s){case"page":e[s]=Number(i);break;case"per_page":e.perPage=Number(i);break;case"context":e.context=i;break;default:s==="_fields"&&(e.fields=me(i)??[],i=e.fields.join()),s==="include"&&(typeof i=="number"&&(i=i.toString()),e.include=(me(i)??[]).map(Number),i=e.include.join()),e.stableKey+=(e.stableKey?"&":"")+(0,Da.addQueryArgs)("",{[s]:i}).slice(1)}}return e}var mt=ci(vd);var Ua=new WeakMap;function _d(t,e){let{stableKey:r,page:n,perPage:s,include:i,fields:o,context:a}=mt(e),c;if(t.queries?.[a]?.[r]&&(c=t.queries[a][r].itemIds),!c)return null;let u=s===-1?0:(n-1)*s,l=s===-1?c.length:Math.min(u+s,c.length),f=[];for(let d=u;d<l;d++){let p=c[d];if(Array.isArray(i)&&!i.includes(p)||p===void 0)continue;if(!t.items[a]?.hasOwnProperty(p))return null;let m=t.items[a][p],E;if(Array.isArray(o)){E={};for(let _=0;_<o.length;_++){let b=o[_].split("."),T=m;b.forEach(U=>{T=T?.[U]}),pt(E,b,T)}}else{if(!t.itemIsComplete[a]?.[p])return null;E=m}f.push(E)}return f}var di=(0,ka.createSelector)((t,e={})=>{let r=Ua.get(t);if(r){let s=r.get(e);if(s!==void 0)return s}else r=new Oa.default,Ua.set(t,r);let n=_d(t,e);return r.set(e,n),n});function hi(t,e={}){let{stableKey:r,context:n}=mt(e);return t.queries?.[n]?.[r]?.meta?.totalItems??null}function La(t,e={}){let{stableKey:r,context:n}=mt(e);return t.queries?.[n]?.[r]?.meta?.totalPages??null}var yu=C(Oe(),1),Eu=C(oi(),1);var yt=function(){return yt=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yt.apply(this,arguments)};function Na(t){return t.toLowerCase()}var bd=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Sd=/[^A-Z0-9]+/gi;function zn(t,e){e===void 0&&(e={});for(var r=e.splitRegexp,n=r===void 0?bd:r,s=e.stripRegexp,i=s===void 0?Sd:s,o=e.transform,a=o===void 0?Na:o,c=e.delimiter,u=c===void 0?" ":c,l=Ma(Ma(t,n,"$1\0$2"),i,"\0"),f=0,d=l.length;l.charAt(f)==="\0";)f++;for(;l.charAt(d-1)==="\0";)d--;return l.slice(f,d).split("\0").map(a).join(u)}function Ma(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce(function(n,s){return n.replace(s,r)},t)}function pi(t,e){var r=t.charAt(0),n=t.substr(1).toLowerCase();return e>0&&r>="0"&&r<="9"?"_"+r+n:""+r.toUpperCase()+n}function qr(t,e){return e===void 0&&(e={}),zn(t,yt({delimiter:"",transform:pi},e))}function xd(t,e){return e===0?t.toLowerCase():pi(t,e)}function Kn(t,e){return e===void 0&&(e={}),qr(t,yt({transform:xd},e))}function Pa(t){return t.charAt(0).toUpperCase()+t.substr(1)}function Rd(t){return Pa(t.toLowerCase())}function Va(t,e){return e===void 0&&(e={}),zn(t,yt({delimiter:" ",transform:Rd},e))}var Ms=C(st(),1),Ps=C(Wr(),1),W=C(gi(),1);var ee={};Nt(ee,{AbsolutePosition:()=>us,AbstractConnector:()=>Gi,AbstractStruct:()=>Ar,AbstractType:()=>Q,Array:()=>Zt,ContentAny:()=>Tt,ContentBinary:()=>rr,ContentDeleted:()=>Dr,ContentEmbed:()=>ut,ContentFormat:()=>q,ContentJSON:()=>xn,ContentString:()=>je,ContentType:()=>Me,Doc:()=>lt,GC:()=>fe,ID:()=>at,Item:()=>Y,Map:()=>er,PermanentUserData:()=>$i,RelativePosition:()=>Tr,Snapshot:()=>yn,Text:()=>Cr,Transaction:()=>ds,UndoManager:()=>Qt,UpdateEncoderV1:()=>We,XmlElement:()=>Ir,XmlFragment:()=>tr,XmlHook:()=>Sn,XmlText:()=>ws,YArrayEvent:()=>gs,YEvent:()=>Xt,YMapEvent:()=>ms,YTextEvent:()=>ys,YXmlEvent:()=>Es,applyUpdate:()=>Dh,applyUpdateV2:()=>Ct,cleanupYTextFormatting:()=>Sl,compareIDs:()=>qt,compareRelativePositions:()=>zh,convertUpdateFormatV1ToV2:()=>hp,convertUpdateFormatV2ToV1:()=>al,createAbsolutePositionFromRelativePosition:()=>Hh,createDeleteSet:()=>_s,createDeleteSetFromStructStore:()=>Xi,createDocFromSnapshot:()=>Xh,createID:()=>k,createRelativePositionFromJSON:()=>Vh,createRelativePositionFromTypeIndex:()=>jh,createSnapshot:()=>so,decodeRelativePosition:()=>$h,decodeSnapshot:()=>Wh,decodeSnapshotV2:()=>qc,decodeStateVector:()=>to,decodeUpdate:()=>op,decodeUpdateV2:()=>tl,diffUpdate:()=>up,diffUpdateV2:()=>io,emptySnapshot:()=>Jh,encodeRelativePosition:()=>Gh,encodeSnapshot:()=>qh,encodeSnapshotV2:()=>Kc,encodeStateAsUpdate:()=>Oh,encodeStateAsUpdateV2:()=>Or,encodeStateVector:()=>Nh,encodeStateVectorFromUpdate:()=>ap,encodeStateVectorFromUpdateV2:()=>nl,equalDeleteSets:()=>Yc,equalSnapshots:()=>Kh,findIndexSS:()=>Ne,findRootTypeKey:()=>no,getItem:()=>dn,getState:()=>H,getTypeChildren:()=>yp,isDeleted:()=>nr,isParentOf:()=>mn,iterateDeletedStructs:()=>Wt,logType:()=>Mh,logUpdate:()=>ip,logUpdateV2:()=>el,mergeUpdates:()=>rl,mergeUpdatesV2:()=>wn,obfuscateUpdate:()=>fp,obfuscateUpdateV2:()=>dp,parseUpdateMeta:()=>cp,parseUpdateMetaV2:()=>sl,readUpdate:()=>Ah,readUpdateV2:()=>eo,relativePositionToJSON:()=>Ph,snapshot:()=>Qh,snapshotContainsUpdate:()=>ep,transact:()=>G,tryGc:()=>np,typeListToArraySnapshot:()=>Ep,typeMapGetSnapshot:()=>_p});var Z=()=>new Map,qn=t=>{let e=Z();return t.forEach((r,n)=>{e.set(n,r)}),e},ae=(t,e,r)=>{let n=t.get(e);return n===void 0&&t.set(e,n=r()),n},Ga=(t,e)=>{let r=[];for(let[n,s]of t)r.push(e(s,n));return r},Ya=(t,e)=>{for(let[r,n]of t)if(e(n,r))return!0;return!1};var it=()=>new Set;var Wn=t=>t[t.length-1];var $a=(t,e)=>{for(let r=0;r<e.length;r++)t.push(e[r])},Ge=Array.from;var Ha=(t,e)=>{for(let r=0;r<t.length;r++)if(e(t[r],r,t))return!0;return!1};var za=(t,e)=>{let r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n,r);return r};var jt=Array.isArray;var Ye=class{constructor(){this._observers=Z()}on(e,r){ae(this._observers,e,it).add(r)}once(e,r){let n=(...s)=>{this.off(e,n),r(...s)};this.on(e,n)}off(e,r){let n=this._observers.get(e);n!==void 0&&(n.delete(r),n.size===0&&this._observers.delete(e))}emit(e,r){return Ge((this._observers.get(e)||Z()).values()).forEach(n=>n(...r))}destroy(){this._observers=Z()}};var be=Math.floor;var dr=Math.abs;var Jn=(t,e)=>t<e?t:e,ot=(t,e)=>t>e?t:e,iw=Number.isNaN;var Qn=t=>t!==0?t<0:1/t<0;var yi=String.fromCharCode,ow=String.fromCodePoint,aw=yi(65535),Td=t=>t.toLowerCase(),Cd=/^\s*/g,Id=t=>t.replace(Cd,""),Ad=/([A-Z])/g,Ei=(t,e)=>Id(t.replace(Ad,r=>`${e}${Td(r)}`));var Dd=t=>{let e=unescape(encodeURIComponent(t)),r=e.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.codePointAt(s);return n},pr=typeof TextEncoder<"u"?new TextEncoder:null,Ud=t=>pr.encode(t),Ka=pr?Ud:Dd;var hr=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});hr&&hr.decode(new Uint8Array).length===1&&(hr=null);var qa=(t,e)=>za(e,()=>t).join("");var wi=t=>t===void 0?null:t;var vi=class{constructor(){this.map=new Map}setItem(e,r){this.map.set(e,r)}getItem(e){return this.map.get(e)}},Wa=new vi,kd=!0;try{typeof localStorage<"u"&&(Wa=localStorage,kd=!1)}catch{}var Ja=Wa;var Qa=Object.assign,Nd=Object.keys,Xa=(t,e)=>{for(let r in t)e(t[r],r)};var Zr=t=>Nd(t).length;var Za=t=>{for(let e in t)return!1;return!0},Md=(t,e)=>{for(let r in t)if(!e(t[r],r))return!1;return!0},_i=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),bi=(t,e)=>t===e||Zr(t)===Zr(e)&&Md(t,(r,n)=>(r!==void 0||_i(e,n))&&e[n]===r);var tn=(t,e,r=0)=>{try{for(;r<t.length;r++)t[r](...e)}finally{r<t.length&&tn(t,e,r+1)}};var Si=t=>t,Pd=(t,e)=>t===e;var en=(t,e)=>{if(t==null||e==null)return Pd(t,e);if(t.constructor!==e.constructor)return!1;if(t===e)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;break}case Set:{if(t.size!==e.size)return!1;for(let r of t)if(!e.has(r))return!1;break}case Map:{if(t.size!==e.size)return!1;for(let r of t.keys())if(!e.has(r)||!en(t.get(r),e.get(r)))return!1;break}case Object:if(Zr(t)!==Zr(e))return!1;for(let r in t)if(!_i(t,r)||!en(t[r],e[r]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!en(t[r],e[r]))return!1;break;default:return!1}return!0},tc=(t,e)=>e.includes(t);var gr=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name),Xn=typeof window<"u"&&typeof document<"u"&&!gr,cw=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,$e,Vd=[],Bd=()=>{if($e===void 0)if(gr){$e=Z();let t=process.argv,e=null;for(let r=0;r<t.length;r++){let n=t[r];n[0]==="-"?(e!==null&&$e.set(e,""),e=n):e!==null?($e.set(e,n),e=null):Vd.push(n)}e!==null&&$e.set(e,"")}else typeof location=="object"?($e=Z(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){let[e,r]=t.split("=");$e.set(`--${Ei(e,"-")}`,r),$e.set(`-${Ei(e,"-")}`,r)}})):$e=Z();return $e},Ri=t=>Bd().has(t);var Ti=t=>gr?wi(process.env[t.toUpperCase()]):wi(Ja.getItem(t));var jd=t=>Ri("--"+t)||Ti(t)!==null,lw=jd("production"),rc=gr&&tc(process.env.FORCE_COLOR,["true","1","2"]),nc=!Ri("no-colors")&&(!gr||process.stdout.isTTY||rc)&&(!gr||Ri("color")||rc||Ti("COLORTERM")!==null||(Ti("TERM")||"").includes("color"));var Ci=Number.MAX_SAFE_INTEGER,uw=Number.MIN_SAFE_INTEGER,fw=1<<31;var ic=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&be(t)===t),dw=Number.isNaN,hw=Number.parseInt;var He=t=>new Error(t),Be=()=>{throw He("Method unimplemented")},ye=()=>{throw He("Unexpected case")};var lc=He("Unexpected end of array"),uc=He("Integer out of Range"),mr=class{constructor(e){this.arr=e,this.pos=0}},ce=t=>new mr(t),Ii=t=>t.pos!==t.arr.length;var Fd=(t,e)=>{let r=sn(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,r},Se=t=>Fd(t,L(t));var Ft=t=>t.arr[t.pos++];var L=t=>{let e=0,r=1,n=t.arr.length;for(;t.pos<n;){let s=t.arr[t.pos++];if(e=e+(s&127)*r,r*=128,s<128)return e;if(e>Ci)throw uc}throw lc},nn=t=>{let e=t.arr[t.pos++],r=e&63,n=64,s=(e&64)>0?-1:1;if((e&128)===0)return s*r;let i=t.arr.length;for(;t.pos<i;){if(e=t.arr[t.pos++],r=r+(e&127)*n,n*=128,e<128)return s*r;if(r>Ci)throw uc}throw lc};var Gd=t=>{let e=L(t);if(e===0)return"";{let r=String.fromCodePoint(Ft(t));if(--e<100)for(;e--;)r+=String.fromCodePoint(Ft(t));else for(;e>0;){let n=e<1e4?e:1e4,s=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,r+=String.fromCodePoint.apply(null,s),e-=n}return decodeURIComponent(escape(r))}},Yd=t=>hr.decode(Se(t)),Et=hr?Yd:Gd;var Ai=(t,e)=>{let r=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,r},$d=t=>Ai(t,4).getFloat32(0,!1),Hd=t=>Ai(t,8).getFloat64(0,!1),zd=t=>Ai(t,8).getBigInt64(0,!1);var Kd=[t=>{},t=>null,nn,$d,Hd,zd,t=>!1,t=>!0,Et,t=>{let e=L(t),r={};for(let n=0;n<e;n++){let s=Et(t);r[s]=yr(t)}return r},t=>{let e=L(t),r=[];for(let n=0;n<e;n++)r.push(yr(t));return r},Se],yr=t=>Kd[127-Ft(t)](t),rn=class extends mr{constructor(e,r){super(e),this.reader=r,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Ii(this)?this.count=L(this)+1:this.count=-1),this.count--,this.s}};var Gt=class extends mr{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=nn(this);let e=Qn(this.s);this.count=1,e&&(this.s=-this.s,this.count=L(this)+2)}return this.count--,this.s}};var Er=class extends mr{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){let e=nn(this),r=e&1;this.diff=be(e/2),this.count=1,r&&(this.count=L(this)+2)}return this.s+=this.diff,this.count--,this.s}},Zn=class{constructor(e){this.decoder=new Gt(e),this.str=Et(this.decoder),this.spos=0}read(){let e=this.spos+this.decoder.read(),r=this.str.slice(this.spos,e);return this.spos=e,r}};var fc=t=>new Uint8Array(t),sn=(t,e,r)=>new Uint8Array(t,e,r);var Wd=t=>{let e="";for(let r=0;r<t.byteLength;r++)e+=yi(t[r]);return btoa(e)},Jd=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),Qd=t=>{let e=atob(t),r=fc(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},Xd=t=>{let e=Buffer.from(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},dc=Xn?Wd:Jd,hc=Xn?Qd:Xd;var pc=t=>{let e=fc(t.byteLength);return e.set(t),e};var Yt=class{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}},Ht=()=>new Yt;var Zd=t=>{let e=t.cpos;for(let r=0;r<t.bufs.length;r++)e+=t.bufs[r].length;return e};var Ce=t=>{let e=new Uint8Array(Zd(t)),r=0;for(let n=0;n<t.bufs.length;n++){let s=t.bufs[n];e.set(s,r),r+=s.length}return e.set(sn(t.cbuf.buffer,0,t.cpos),r),e},eh=(t,e)=>{let r=t.cbuf.length;r-t.cpos<e&&(t.bufs.push(sn(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(ot(r,e)*2),t.cpos=0)},ne=(t,e)=>{let r=t.cbuf.length;t.cpos===r&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(r*2),t.cpos=0),t.cbuf[t.cpos++]=e};var br=ne;var O=(t,e)=>{for(;e>127;)ne(t,128|127&e),e=be(e/128);ne(t,127&e)},an=(t,e)=>{let r=Qn(e);for(r&&(e=-e),ne(t,(e>63?128:0)|(r?64:0)|63&e),e=be(e/64);e>0;)ne(t,(e>127?128:0)|127&e),e=be(e/128)},Di=new Uint8Array(3e4),th=Di.length/3,rh=(t,e)=>{if(e.length<th){let r=pr.encodeInto(e,Di).written||0;O(t,r);for(let n=0;n<r;n++)ne(t,Di[n])}else xe(t,Ka(e))},nh=(t,e)=>{let r=unescape(encodeURIComponent(e)),n=r.length;O(t,n);for(let s=0;s<n;s++)ne(t,r.codePointAt(s))},vt=pr&&pr.encodeInto?rh:nh;var Ec=(t,e)=>Sr(t,Ce(e)),Sr=(t,e)=>{let r=t.cbuf.length,n=t.cpos,s=Jn(r-n,e.length),i=e.length-s;t.cbuf.set(e.subarray(0,s),n),t.cpos+=s,i>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(ot(r*2,i)),t.cbuf.set(e.subarray(s)),t.cpos=i)},xe=(t,e)=>{O(t,e.byteLength),Sr(t,e)},Ui=(t,e)=>{eh(t,e);let r=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,r},sh=(t,e)=>Ui(t,4).setFloat32(0,e,!1),ih=(t,e)=>Ui(t,8).setFloat64(0,e,!1),oh=(t,e)=>Ui(t,8).setBigInt64(0,e,!1);var gc=new DataView(new ArrayBuffer(4)),ah=t=>(gc.setFloat32(0,t),gc.getFloat32(0)===t),vr=(t,e)=>{switch(typeof e){case"string":ne(t,119),vt(t,e);break;case"number":ic(e)&&dr(e)<=2147483647?(ne(t,125),an(t,e)):ah(e)?(ne(t,124),sh(t,e)):(ne(t,123),ih(t,e));break;case"bigint":ne(t,122),oh(t,e);break;case"object":if(e===null)ne(t,126);else if(jt(e)){ne(t,117),O(t,e.length);for(let r=0;r<e.length;r++)vr(t,e[r])}else if(e instanceof Uint8Array)ne(t,116),xe(t,e);else{ne(t,118);let r=Object.keys(e);O(t,r.length);for(let n=0;n<r.length;n++){let s=r[n];vt(t,s),vr(t,e[s])}}break;case"boolean":ne(t,e?120:121);break;default:ne(t,127)}},on=class extends Yt{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&O(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}};var mc=t=>{t.count>0&&(an(t.encoder,t.count===1?t.s:-t.s),t.count>1&&O(t.encoder,t.count-2))},$t=class{constructor(){this.encoder=new Yt,this.s=0,this.count=0}write(e){this.s===e?this.count++:(mc(this),this.count=1,this.s=e)}toUint8Array(){return mc(this),Ce(this.encoder)}};var yc=t=>{if(t.count>0){let e=t.diff*2+(t.count===1?0:1);an(t.encoder,e),t.count>1&&O(t.encoder,t.count-2)}},_r=class{constructor(){this.encoder=new Yt,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(yc(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return yc(this),Ce(this.encoder)}},ts=class{constructor(){this.sarr=[],this.s="",this.lensE=new $t}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){let e=new Yt;return this.sarr.push(this.s),this.s="",vt(e,this.sarr.join("")),Sr(e,this.lensE.toUint8Array()),Ce(e)}};var mw=crypto.subtle,wc=crypto.getRandomValues.bind(crypto);var Oi=()=>wc(new Uint32Array(1))[0];var lh="10000000-1000-4000-8000"+-1e11,vc=()=>lh.replace(/[018]/g,t=>(t^Oi()&15>>t/4).toString(16));var _t=Date.now;var Li=t=>new Promise(t);var ww=Promise.all.bind(Promise);var Ni=class{constructor(e,r){this.left=e,this.right=r}},ze=(t,e)=>new Ni(t,e);var zt=typeof document<"u"?document:{};var vw=typeof DOMParser<"u"?new DOMParser:null;var _c=t=>Ga(t,(e,r)=>`${r}:${e};`).join("");var _w=zt.ELEMENT_NODE,bw=zt.TEXT_NODE,Sw=zt.CDATA_SECTION_NODE,xw=zt.COMMENT_NODE,Rw=zt.DOCUMENT_NODE,Tw=zt.DOCUMENT_TYPE_NODE,Cw=zt.DOCUMENT_FRAGMENT_NODE;var Ke=Symbol;var cn=Ke(),ln=Ke(),Mi=Ke(),Pi=Ke(),Vi=Ke(),un=Ke(),Bi=Ke(),fn=Ke(),ji=Ke(),bc=t=>{let e=[],r=[],n=0;for(;n<t.length;n++){let s=t[n];s.constructor===String||s.constructor===Number?e.push(s):s.constructor===Object&&r.push(JSON.stringify(s))}return r};var Iw=_t();var mh={[cn]:ze("font-weight","bold"),[ln]:ze("font-weight","normal"),[Mi]:ze("color","blue"),[Vi]:ze("color","green"),[Pi]:ze("color","grey"),[un]:ze("color","red"),[Bi]:ze("color","purple"),[fn]:ze("color","orange"),[ji]:ze("color","black")},yh=t=>{let e=[],r=[],n=Z(),s=[],i=0;for(;i<t.length;i++){let o=t[i],a=mh[o];if(a!==void 0)n.set(a.left,a.right);else if(o.constructor===String||o.constructor===Number){let c=_c(n);i>0||c.length>0?(e.push("%c"+o),r.push(c)):e.push(o)}else break}for(i>0&&(s=r,s.unshift(e.join("")));i<t.length;i++){let o=t[i];o instanceof Symbol||s.push(o)}return s},Eh=nc?yh:bc,rs=(...t)=>{console.log(...Eh(t)),wh.forEach(e=>e.print(t))};var wh=it();var Sc=t=>({[Symbol.iterator](){return this},next:t}),xc=(t,e)=>Sc(()=>{let r;do r=t.next();while(!r.done&&!e(r.value));return r}),ns=(t,e)=>Sc(()=>{let{done:r,value:n}=t.next();return{done:r,value:r?void 0:e(n)}});var Gi=class extends Ye{constructor(e,r){super(),this.doc=e,this.awareness=r}},pn=class{constructor(e,r){this.clock=e,this.len=r}},xt=class{constructor(){this.clients=new Map}},Wt=(t,e,r)=>e.clients.forEach((n,s)=>{let i=t.doc.store.clients.get(s);for(let o=0;o<n.length;o++){let a=n[o];Jc(t,i,a.clock,a.len,r)}}),xh=(t,e)=>{let r=0,n=t.length-1;for(;r<=n;){let s=be((r+n)/2),i=t[s],o=i.clock;if(o<=e){if(e<o+i.len)return s;r=s+1}else n=s-1}return null},nr=(t,e)=>{let r=t.clients.get(e.client);return r!==void 0&&xh(r,e.clock)!==null},Qi=t=>{t.clients.forEach(e=>{e.sort((s,i)=>s.clock-i.clock);let r,n;for(r=1,n=1;r<e.length;r++){let s=e[n-1],i=e[r];s.clock+s.len>=i.clock?s.len=ot(s.len,i.clock+i.len-s.clock):(n<r&&(e[n]=i),n++)}e.length=n})},xr=t=>{let e=new xt;for(let r=0;r<t.length;r++)t[r].clients.forEach((n,s)=>{if(!e.clients.has(s)){let i=n.slice();for(let o=r+1;o<t.length;o++)$a(i,t[o].clients.get(s)||[]);e.clients.set(s,i)}});return Qi(e),e},gn=(t,e,r,n)=>{ae(t.clients,e,()=>[]).push(new pn(r,n))},_s=()=>new xt,Xi=t=>{let e=_s();return t.clients.forEach((r,n)=>{let s=[];for(let i=0;i<r.length;i++){let o=r[i];if(o.deleted){let a=o.id.clock,c=o.length;if(i+1<r.length)for(let u=r[i+1];i+1<r.length&&u.deleted;u=r[++i+1])c+=u.length;s.push(new pn(a,c))}}s.length>0&&e.clients.set(n,s)}),e},qe=(t,e)=>{O(t.restEncoder,e.clients.size),Ge(e.clients.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{t.resetDsCurVal(),O(t.restEncoder,r);let s=n.length;O(t.restEncoder,s);for(let i=0;i<s;i++){let o=n[i];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},ct=t=>{let e=new xt,r=L(t.restDecoder);for(let n=0;n<r;n++){t.resetDsCurVal();let s=L(t.restDecoder),i=L(t.restDecoder);if(i>0){let o=ae(e.clients,s,()=>[]);for(let a=0;a<i;a++)o.push(new pn(t.readDsClock(),t.readDsLen()))}}return e},Cc=(t,e,r)=>{let n=new xt,s=L(t.restDecoder);for(let i=0;i<s;i++){t.resetDsCurVal();let o=L(t.restDecoder),a=L(t.restDecoder),c=r.clients.get(o)||[],u=H(r,o);for(let l=0;l<a;l++){let f=t.readDsClock(),d=f+t.readDsLen();if(f<u){u<d&&gn(n,o,u,d-u);let p=Ne(c,f),m=c[p];for(!m.deleted&&m.id.clock<f&&(c.splice(p+1,0,vs(e,m,f-m.id.clock)),p++);p<c.length&&(m=c[p++],m.id.clock<d);)m.deleted||(d<m.id.clock+m.length&&c.splice(p,0,vs(e,m,d-m.id.clock)),m.delete(e))}else gn(n,o,f,d-f)}}if(n.clients.size>0){let i=new Le;return O(i.restEncoder,0),qe(i,n),i.toUint8Array()}return null},Yc=(t,e)=>{if(t.clients.size!==e.clients.size)return!1;for(let[r,n]of t.clients.entries()){let s=e.clients.get(r);if(s===void 0||n.length!==s.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],a=s[i];if(o.clock!==a.clock||o.len!==a.len)return!1}}return!0},$c=Oi,lt=class t extends Ye{constructor({guid:e=vc(),collectionid:r=null,gc:n=!0,gcFilter:s=()=>!0,meta:i=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=n,this.gcFilter=s,this.clientID=$c(),this.guid=e,this.collectionid=r,this.share=new Map,this.store=new fs,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=Li(u=>{this.on("load",()=>{this.isLoaded=!0,u(this)})});let c=()=>Li(u=>{let l=f=>{(f===void 0||f===!0)&&(this.off("sync",l),u())};this.on("sync",l)});this.on("sync",u=>{u===!1&&this.isSynced&&(this.whenSynced=c()),this.isSynced=u===void 0||u===!0,this.isLoaded||this.emit("load",[])}),this.whenSynced=c()}load(){let e=this._item;e!==null&&!this.shouldLoad&&G(e.parent.doc,r=>{r.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Ge(this.subdocs).map(e=>e.guid))}transact(e,r=null){return G(this,e,r)}get(e,r=Q){let n=ae(this.share,e,()=>{let i=new r;return i._integrate(this,null),i}),s=n.constructor;if(r!==Q&&s!==r)if(s===Q){let i=new r;i._map=n._map,n._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=i}),i._start=n._start;for(let o=i._start;o!==null;o=o.right)o.parent=i;return i._length=n._length,this.share.set(e,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,Zt)}getText(e=""){return this.get(e,Cr)}getMap(e=""){return this.get(e,er)}getXmlFragment(e=""){return this.get(e,tr)}toJSON(){let e={};return this.share.forEach((r,n)=>{e[n]=r.toJSON()}),e}destroy(){Ge(this.subdocs).forEach(r=>r.destroy());let e=this._item;if(e!==null){this._item=null;let r=e.content;r.doc=new t({guid:this.guid,...r.opts,shouldLoad:!1}),r.doc._item=e,G(e.parent.doc,n=>{let s=r.doc;e.deleted||n.subdocsAdded.add(s),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,r){super.on(e,r)}off(e,r){super.off(e,r)}},Jt=class{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return L(this.restDecoder)}readDsLen(){return L(this.restDecoder)}},Ie=class extends Jt{readLeftID(){return k(L(this.restDecoder),L(this.restDecoder))}readRightID(){return k(L(this.restDecoder),L(this.restDecoder))}readClient(){return L(this.restDecoder)}readInfo(){return Ft(this.restDecoder)}readString(){return Et(this.restDecoder)}readParentInfo(){return L(this.restDecoder)===1}readTypeRef(){return L(this.restDecoder)}readLen(){return L(this.restDecoder)}readAny(){return yr(this.restDecoder)}readBuf(){return pc(Se(this.restDecoder))}readJSON(){return JSON.parse(Et(this.restDecoder))}readKey(){return Et(this.restDecoder)}},ls=class{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=L(this.restDecoder),this.dsCurrVal}readDsLen(){let e=L(this.restDecoder)+1;return this.dsCurrVal+=e,e}},Re=class extends ls{constructor(e){super(e),this.keys=[],L(e),this.keyClockDecoder=new Er(Se(e)),this.clientDecoder=new Gt(Se(e)),this.leftClockDecoder=new Er(Se(e)),this.rightClockDecoder=new Er(Se(e)),this.infoDecoder=new rn(Se(e),Ft),this.stringDecoder=new Zn(Se(e)),this.parentInfoDecoder=new rn(Se(e),Ft),this.typeRefDecoder=new Gt(Se(e)),this.lenDecoder=new Gt(Se(e))}readLeftID(){return new at(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new at(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return yr(this.restDecoder)}readBuf(){return Se(this.restDecoder)}readJSON(){return yr(this.restDecoder)}readKey(){let e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{let r=this.stringDecoder.read();return this.keys.push(r),r}}},Rt=class{constructor(){this.restEncoder=Ht()}toUint8Array(){return Ce(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){O(this.restEncoder,e)}writeDsLen(e){O(this.restEncoder,e)}},We=class extends Rt{writeLeftID(e){O(this.restEncoder,e.client),O(this.restEncoder,e.clock)}writeRightID(e){O(this.restEncoder,e.client),O(this.restEncoder,e.clock)}writeClient(e){O(this.restEncoder,e)}writeInfo(e){br(this.restEncoder,e)}writeString(e){vt(this.restEncoder,e)}writeParentInfo(e){O(this.restEncoder,e?1:0)}writeTypeRef(e){O(this.restEncoder,e)}writeLen(e){O(this.restEncoder,e)}writeAny(e){vr(this.restEncoder,e)}writeBuf(e){xe(this.restEncoder,e)}writeJSON(e){vt(this.restEncoder,JSON.stringify(e))}writeKey(e){vt(this.restEncoder,e)}},Rr=class{constructor(){this.restEncoder=Ht(),this.dsCurrVal=0}toUint8Array(){return Ce(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){let r=e-this.dsCurrVal;this.dsCurrVal=e,O(this.restEncoder,r)}writeDsLen(e){e===0&&ye(),O(this.restEncoder,e-1),this.dsCurrVal+=e}},Le=class extends Rr{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new _r,this.clientEncoder=new $t,this.leftClockEncoder=new _r,this.rightClockEncoder=new _r,this.infoEncoder=new on(br),this.stringEncoder=new ts,this.parentInfoEncoder=new on(br),this.typeRefEncoder=new $t,this.lenEncoder=new $t}toUint8Array(){let e=Ht();return O(e,0),xe(e,this.keyClockEncoder.toUint8Array()),xe(e,this.clientEncoder.toUint8Array()),xe(e,this.leftClockEncoder.toUint8Array()),xe(e,this.rightClockEncoder.toUint8Array()),xe(e,Ce(this.infoEncoder)),xe(e,this.stringEncoder.toUint8Array()),xe(e,Ce(this.parentInfoEncoder)),xe(e,this.typeRefEncoder.toUint8Array()),xe(e,this.lenEncoder.toUint8Array()),Sr(e,Ce(this.restEncoder)),Ce(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){vr(this.restEncoder,e)}writeBuf(e){xe(this.restEncoder,e)}writeJSON(e){vr(this.restEncoder,e)}writeKey(e){let r=this.keyMap.get(e);r===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(r)}},Rh=(t,e,r,n)=>{n=ot(n,e[0].id.clock);let s=Ne(e,n);O(t.restEncoder,e.length-s),t.writeClient(r),O(t.restEncoder,n);let i=e[s];i.write(t,n-i.id.clock);for(let o=s+1;o<e.length;o++)e[o].write(t,0)},Zi=(t,e,r)=>{let n=new Map;r.forEach((s,i)=>{H(e,i)>s&&n.set(i,s)}),Rn(e).forEach((s,i)=>{r.has(i)||n.set(i,0)}),O(t.restEncoder,n.size),Ge(n.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{Rh(t,e.clients.get(s),s,i)})},Th=(t,e)=>{let r=Z(),n=L(t.restDecoder);for(let s=0;s<n;s++){let i=L(t.restDecoder),o=new Array(i),a=t.readClient(),c=L(t.restDecoder);r.set(a,{i:0,refs:o});for(let u=0;u<i;u++){let l=t.readInfo();switch(31&l){case 0:{let f=t.readLen();o[u]=new fe(k(a,c),f),c+=f;break}case 10:{let f=L(t.restDecoder);o[u]=new de(k(a,c),f),c+=f;break}default:{let f=(l&192)===0,d=new Y(k(a,c),null,(l&128)===128?t.readLeftID():null,null,(l&64)===64?t.readRightID():null,f?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,f&&(l&32)===32?t.readString():null,Tl(t,l));o[u]=d,c+=d.length}}}}return r},Ch=(t,e,r)=>{let n=[],s=Ge(r.keys()).sort((p,m)=>p-m);if(s.length===0)return null;let i=()=>{if(s.length===0)return null;let p=r.get(s[s.length-1]);for(;p.refs.length===p.i;)if(s.pop(),s.length>0)p=r.get(s[s.length-1]);else return null;return p},o=i();if(o===null&&n.length===0)return null;let a=new fs,c=new Map,u=(p,m)=>{let E=c.get(p);(E==null||E>m)&&c.set(p,m)},l=o.refs[o.i++],f=new Map,d=()=>{for(let p of n){let m=p.id.client,E=r.get(m);E?(E.i--,a.clients.set(m,E.refs.slice(E.i)),r.delete(m),E.i=0,E.refs=[]):a.clients.set(m,[p]),s=s.filter(_=>_!==m)}n.length=0};for(;;){if(l.constructor!==de){let m=ae(f,l.id.client,()=>H(e,l.id.client))-l.id.clock;if(m<0)n.push(l),u(l.id.client,l.id.clock-1),d();else{let E=l.getMissing(t,e);if(E!==null){n.push(l);let _=r.get(E)||{refs:[],i:0};if(_.refs.length===_.i)u(E,H(e,E)),d();else{l=_.refs[_.i++];continue}}else(m===0||m<l.length)&&(l.integrate(t,m),f.set(l.id.client,l.id.clock+l.length))}}if(n.length>0)l=n.pop();else if(o!==null&&o.i<o.refs.length)l=o.refs[o.i++];else{if(o=i(),o===null)break;l=o.refs[o.i++]}}if(a.clients.size>0){let p=new Le;return Zi(p,a,new Map),O(p.restEncoder,0),{missing:c,update:p.toUint8Array()}}return null},Ih=(t,e)=>Zi(t,e.doc.store,e.beforeState),eo=(t,e,r,n=new Re(t))=>G(e,s=>{s.local=!1;let i=!1,o=s.doc,a=o.store,c=Th(n,o),u=Ch(s,a,c),l=a.pendingStructs;if(l){for(let[d,p]of l.missing)if(p<H(a,d)){i=!0;break}if(u){for(let[d,p]of u.missing){let m=l.missing.get(d);(m==null||m>p)&&l.missing.set(d,p)}l.update=wn([l.update,u.update])}}else a.pendingStructs=u;let f=Cc(n,s,a);if(a.pendingDs){let d=new Re(ce(a.pendingDs));L(d.restDecoder);let p=Cc(d,s,a);f&&p?a.pendingDs=wn([f,p]):a.pendingDs=f||p}else a.pendingDs=f;if(i){let d=a.pendingStructs.update;a.pendingStructs=null,Ct(s.doc,d)}},r,!1),Ah=(t,e,r)=>eo(t,e,r,new Ie(t)),Ct=(t,e,r,n=Re)=>{let s=ce(e);eo(s,t,r,new n(s))},Dh=(t,e,r)=>Ct(t,e,r,Ie),Uh=(t,e,r=new Map)=>{Zi(t,e.store,r),qe(t,Xi(e.store))},Or=(t,e=new Uint8Array([0]),r=new Le)=>{let n=to(e);Uh(r,t,n);let s=[r.toUint8Array()];if(t.store.pendingDs&&s.push(t.store.pendingDs),t.store.pendingStructs&&s.push(io(t.store.pendingStructs.update,e)),s.length>1){if(r.constructor===We)return rl(s.map((i,o)=>o===0?i:al(i)));if(r.constructor===Le)return wn(s)}return s[0]},Oh=(t,e)=>Or(t,e,new We),Hc=t=>{let e=new Map,r=L(t.restDecoder);for(let n=0;n<r;n++){let s=L(t.restDecoder),i=L(t.restDecoder);e.set(s,i)}return e},to=t=>Hc(new Jt(ce(t))),ro=(t,e)=>(O(t.restEncoder,e.size),Ge(e.entries()).sort((r,n)=>n[0]-r[0]).forEach(([r,n])=>{O(t.restEncoder,r),O(t.restEncoder,n)}),t),kh=(t,e)=>ro(t,Rn(e.store)),Lh=(t,e=new Rr)=>(t instanceof Map?ro(e,t):kh(e,t),e.toUint8Array()),Nh=t=>Lh(t,new Rt),Yi=class{constructor(){this.l=[]}},Ic=()=>new Yi,Ac=(t,e)=>t.l.push(e),Dc=(t,e)=>{let r=t.l,n=r.length;t.l=r.filter(s=>e!==s),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},zc=(t,e,r)=>tn(t.l,[e,r]),at=class{constructor(e,r){this.client=e,this.clock=r}},qt=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,k=(t,e)=>new at(t,e),Uc=(t,e)=>{O(t,e.client),O(t,e.clock)},Oc=t=>k(L(t),L(t)),no=t=>{for(let[e,r]of t.doc.share.entries())if(r===t)return e;throw ye()},mn=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1},Mh=t=>{let e=[],r=t._start;for(;r;)e.push(r),r=r.right;console.log("Children: ",e),console.log("Children content: ",e.filter(n=>!n.deleted).map(n=>n.content))},$i=class{constructor(e,r=e.getMap("users")){let n=new Map;this.yusers=r,this.doc=e,this.clients=new Map,this.dss=n;let s=(i,o)=>{let a=i.get("ds"),c=i.get("ids"),u=l=>this.clients.set(l,o);a.observe(l=>{l.changes.added.forEach(f=>{f.content.getContent().forEach(d=>{d instanceof Uint8Array&&this.dss.set(o,xr([this.dss.get(o)||_s(),ct(new Jt(ce(d)))]))})})}),this.dss.set(o,xr(a.map(l=>ct(new Jt(ce(l)))))),c.observe(l=>l.changes.added.forEach(f=>f.content.getContent().forEach(u))),c.forEach(u)};r.observe(i=>{i.keysChanged.forEach(o=>s(r.get(o),o))}),r.forEach(s)}setUserMapping(e,r,n,{filter:s=()=>!0}={}){let i=this.yusers,o=i.get(n);o||(o=new er,o.set("ids",new Zt),o.set("ds",new Zt),i.set(n,o)),o.get("ids").push([r]),i.observe(a=>{setTimeout(()=>{let c=i.get(n);if(c!==o){o=c,this.clients.forEach((f,d)=>{n===f&&o.get("ids").push([d])});let u=new Rt,l=this.dss.get(n);l&&(qe(u,l),o.get("ds").push([u.toUint8Array()]))}},0)}),e.on("afterTransaction",a=>{setTimeout(()=>{let c=o.get("ds"),u=a.deleteSet;if(a.local&&u.clients.size>0&&s(a,u)){let l=new Rt;qe(l,u),c.push([l.toUint8Array()])}})})}getUserByClientId(e){return this.clients.get(e)||null}getUserByDeletedId(e){for(let[r,n]of this.dss.entries())if(nr(n,e))return r;return null}},Tr=class{constructor(e,r,n,s=0){this.type=e,this.tname=r,this.item=n,this.assoc=s}},Ph=t=>{let e={};return t.type&&(e.type=t.type),t.tname&&(e.tname=t.tname),t.item&&(e.item=t.item),t.assoc!=null&&(e.assoc=t.assoc),e},Vh=t=>new Tr(t.type==null?null:k(t.type.client,t.type.clock),t.tname||null,t.item==null?null:k(t.item.client,t.item.clock),t.assoc==null?0:t.assoc),us=class{constructor(e,r,n=0){this.type=e,this.index=r,this.assoc=n}},Bh=(t,e,r=0)=>new us(t,e,r),ss=(t,e,r)=>{let n=null,s=null;return t._item===null?s=no(t):n=k(t._item.id.client,t._item.id.clock),new Tr(n,s,e,r)},jh=(t,e,r=0)=>{let n=t._start;if(r<0){if(e===0)return ss(t,null,r);e--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>e)return ss(t,k(n.id.client,n.id.clock+e),r);e-=n.length}if(n.right===null&&r<0)return ss(t,n.lastId,r);n=n.right}return ss(t,null,r)},Fh=(t,e)=>{let{type:r,tname:n,item:s,assoc:i}=e;if(s!==null)O(t,0),Uc(t,s);else if(n!==null)br(t,1),vt(t,n);else if(r!==null)br(t,2),Uc(t,r);else throw ye();return an(t,i),t},Gh=t=>{let e=Ht();return Fh(e,t),Ce(e)},Yh=t=>{let e=null,r=null,n=null;switch(L(t)){case 0:n=Oc(t);break;case 1:r=Et(t);break;case 2:e=Oc(t)}let s=Ii(t)?nn(t):0;return new Tr(e,r,n,s)},$h=t=>Yh(ce(t)),Hh=(t,e)=>{let r=e.store,n=t.item,s=t.type,i=t.tname,o=t.assoc,a=null,c=0;if(n!==null){if(H(r,n.client)<=n.clock)return null;let u=Wi(r,n),l=u.item;if(!(l instanceof Y))return null;if(a=l.parent,a._item===null||!a._item.deleted){c=l.deleted||!l.countable?0:u.diff+(o>=0?0:1);let f=l.left;for(;f!==null;)!f.deleted&&f.countable&&(c+=f.length),f=f.left}}else{if(i!==null)a=e.get(i);else if(s!==null){if(H(r,s.client)<=s.clock)return null;let{item:u}=Wi(r,s);if(u instanceof Y&&u.content instanceof Me)a=u.content.type;else return null}else throw ye();o>=0?c=a._length:c=0}return Bh(a,c,t.assoc)},zh=(t,e)=>t===e||t!==null&&e!==null&&t.tname===e.tname&&qt(t.item,e.item)&&qt(t.type,e.type)&&t.assoc===e.assoc,yn=class{constructor(e,r){this.ds=e,this.sv=r}},Kh=(t,e)=>{let r=t.ds.clients,n=e.ds.clients,s=t.sv,i=e.sv;if(s.size!==i.size||r.size!==n.size)return!1;for(let[o,a]of s.entries())if(i.get(o)!==a)return!1;for(let[o,a]of r.entries()){let c=n.get(o)||[];if(a.length!==c.length)return!1;for(let u=0;u<a.length;u++){let l=a[u],f=c[u];if(l.clock!==f.clock||l.len!==f.len)return!1}}return!0},Kc=(t,e=new Rr)=>(qe(e,t.ds),ro(e,t.sv),e.toUint8Array()),qh=t=>Kc(t,new Rt),qc=(t,e=new ls(ce(t)))=>new yn(ct(e),Hc(e)),Wh=t=>qc(t,new Jt(ce(t))),so=(t,e)=>new yn(t,e),Jh=so(_s(),new Map),Qh=t=>so(Xi(t.store),Rn(t.store)),Kt=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!nr(e.ds,t.id),Hi=(t,e)=>{let r=ae(t.meta,Hi,it),n=t.doc.store;r.has(e)||(e.sv.forEach((s,i)=>{s<H(n,i)&&Ee(t,k(i,s))}),Wt(t,e.ds,s=>{}),r.add(e))},Xh=(t,e,r=new lt)=>{if(t.gc)throw new Error("Garbage-collection must be disabled in `originDoc`!");let{sv:n,ds:s}=e,i=new Le;return t.transact(o=>{let a=0;n.forEach(c=>{c>0&&a++}),O(i.restEncoder,a);for(let[c,u]of n){if(u===0)continue;u<H(t.store,c)&&Ee(o,k(c,u));let l=t.store.clients.get(c)||[],f=Ne(l,u-1);O(i.restEncoder,f+1),i.writeClient(c),O(i.restEncoder,0);for(let d=0;d<=f;d++)l[d].write(i,0)}qe(i,s)}),Ct(r,i.toUint8Array(),"snapshot"),r},Zh=(t,e,r=Re)=>{let n=new r(ce(e)),s=new Je(n,!1);for(let o=s.curr;o!==null;o=s.next())if((t.sv.get(o.id.client)||0)<o.id.clock+o.length)return!1;let i=xr([t.ds,ct(n)]);return Yc(t.ds,i)},ep=(t,e)=>Zh(t,e,Ie),fs=class{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}},Rn=t=>{let e=new Map;return t.clients.forEach((r,n)=>{let s=r[r.length-1];e.set(n,s.id.clock+s.length)}),e},H=(t,e)=>{let r=t.clients.get(e);if(r===void 0)return 0;let n=r[r.length-1];return n.id.clock+n.length},Wc=(t,e)=>{let r=t.clients.get(e.id.client);if(r===void 0)r=[],t.clients.set(e.id.client,r);else{let n=r[r.length-1];if(n.id.clock+n.length!==e.id.clock)throw ye()}r.push(e)},Ne=(t,e)=>{let r=0,n=t.length-1,s=t[n],i=s.id.clock;if(i===e)return n;let o=be(e/(i+s.length-1)*n);for(;r<=n;){if(s=t[o],i=s.id.clock,i<=e){if(e<i+s.length)return o;r=o+1}else n=o-1;o=be((r+n)/2)}throw ye()},tp=(t,e)=>{let r=t.clients.get(e.client);return r[Ne(r,e.clock)]},dn=tp,zi=(t,e,r)=>{let n=Ne(e,r),s=e[n];return s.id.clock<r&&s instanceof Y?(e.splice(n+1,0,vs(t,s,r-s.id.clock)),n+1):n},Ee=(t,e)=>{let r=t.doc.store.clients.get(e.client);return r[zi(t,r,e.clock)]},kc=(t,e,r)=>{let n=e.clients.get(r.client),s=Ne(n,r.clock),i=n[s];return r.clock!==i.id.clock+i.length-1&&i.constructor!==fe&&n.splice(s+1,0,vs(t,i,r.clock-i.id.clock+1)),i},rp=(t,e,r)=>{let n=t.clients.get(e.id.client);n[Ne(n,e.id.clock)]=r},Jc=(t,e,r,n,s)=>{if(n===0)return;let i=r+n,o=zi(t,e,r),a;do a=e[o++],i<a.id.clock+a.length&&zi(t,e,i),s(a);while(o<e.length&&e[o].id.clock<i)},ds=class{constructor(e,r,n){this.doc=e,this.deleteSet=new xt,this.beforeState=Rn(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=r,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}},Lc=(t,e)=>e.deleteSet.clients.size===0&&!Ya(e.afterState,(r,n)=>e.beforeState.get(n)!==r)?!1:(Qi(e.deleteSet),Ih(t,e),qe(t,e.deleteSet),!0),Nc=(t,e,r)=>{let n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&ae(t.changed,e,it).add(r)},as=(t,e)=>{let r=t[e],n=t[e-1],s=e;for(;s>0;r=n,n=t[--s-1]){if(n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)){r instanceof Y&&r.parentSub!==null&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n);continue}break}let i=e-s;return i&&t.splice(e+1-i,i),i},Qc=(t,e,r)=>{for(let[n,s]of t.clients.entries()){let i=e.clients.get(n);for(let o=s.length-1;o>=0;o--){let a=s[o],c=a.clock+a.len;for(let u=Ne(i,a.clock),l=i[u];u<i.length&&l.id.clock<c;l=i[++u]){let f=i[u];if(a.clock+a.len<=f.id.clock)break;f instanceof Y&&f.deleted&&!f.keep&&r(f)&&f.gc(e,!1)}}}},Xc=(t,e)=>{t.clients.forEach((r,n)=>{let s=e.clients.get(n);for(let i=r.length-1;i>=0;i--){let o=r[i],a=Jn(s.length-1,1+Ne(s,o.clock+o.len-1));for(let c=a,u=s[c];c>0&&u.id.clock>=o.clock;u=s[c])c-=1+as(s,c)}})},np=(t,e,r)=>{Qc(t,e,r),Xc(t,e)},Zc=(t,e)=>{if(e<t.length){let r=t[e],n=r.doc,s=n.store,i=r.deleteSet,o=r._mergeStructs;try{Qi(i),r.afterState=Rn(r.doc.store),n.emit("beforeObserverCalls",[r,n]);let a=[];r.changed.forEach((c,u)=>a.push(()=>{(u._item===null||!u._item.deleted)&&u._callObserver(r,c)})),a.push(()=>{r.changedParentTypes.forEach((c,u)=>{u._dEH.l.length>0&&(u._item===null||!u._item.deleted)&&(c=c.filter(l=>l.target._item===null||!l.target._item.deleted),c.forEach(l=>{l.currentTarget=u,l._path=null}),c.sort((l,f)=>l.path.length-f.path.length),zc(u._dEH,c,r))})}),a.push(()=>n.emit("afterTransaction",[r,n])),tn(a,[]),r._needFormattingCleanup&&Rp(r)}finally{n.gc&&Qc(i,s,n.gcFilter),Xc(i,s),r.afterState.forEach((l,f)=>{let d=r.beforeState.get(f)||0;if(d!==l){let p=s.clients.get(f),m=ot(Ne(p,d),1);for(let E=p.length-1;E>=m;)E-=1+as(p,E)}});for(let l=o.length-1;l>=0;l--){let{client:f,clock:d}=o[l].id,p=s.clients.get(f),m=Ne(p,d);m+1<p.length&&as(p,m+1)>1||m>0&&as(p,m)}if(!r.local&&r.afterState.get(n.clientID)!==r.beforeState.get(n.clientID)&&(rs(fn,cn,"[yjs] ",ln,un,"Changed the client-id because another client seems to be using it."),n.clientID=$c()),n.emit("afterTransactionCleanup",[r,n]),n._observers.has("update")){let l=new We;Lc(l,r)&&n.emit("update",[l.toUint8Array(),r.origin,n,r])}if(n._observers.has("updateV2")){let l=new Le;Lc(l,r)&&n.emit("updateV2",[l.toUint8Array(),r.origin,n,r])}let{subdocsAdded:a,subdocsLoaded:c,subdocsRemoved:u}=r;(a.size>0||u.size>0||c.size>0)&&(a.forEach(l=>{l.clientID=n.clientID,l.collectionid==null&&(l.collectionid=n.collectionid),n.subdocs.add(l)}),u.forEach(l=>n.subdocs.delete(l)),n.emit("subdocs",[{loaded:c,added:a,removed:u},n,r]),u.forEach(l=>l.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):Zc(t,e+1)}}},G=(t,e,r=null,n=!0)=>{let s=t._transactionCleanups,i=!1,o=null;t._transaction===null&&(i=!0,t._transaction=new ds(t,r,n),s.push(t._transaction),s.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(i){let a=t._transaction===s[0];t._transaction=null,a&&Zc(s,0)}}return o},Ki=class{constructor(e,r){this.insertions=r,this.deletions=e,this.meta=new Map}},Mc=(t,e,r)=>{Wt(t,r.deletions,n=>{n instanceof Y&&e.scope.some(s=>mn(s,n))&&uo(n,!1)})},Pc=(t,e,r)=>{let n=null,s=null,i=t.doc,o=t.scope;if(G(i,a=>{for(;e.length>0&&n===null;){let c=i.store,u=e.pop(),l=new Set,f=[],d=!1;Wt(a,u.insertions,p=>{if(p instanceof Y){if(p.redone!==null){let{item:m,diff:E}=Wi(c,p.id);E>0&&(m=Ee(a,k(m.id.client,m.id.clock+E))),p=m}!p.deleted&&o.some(m=>mn(m,p))&&f.push(p)}}),Wt(a,u.deletions,p=>{p instanceof Y&&o.some(m=>mn(m,p))&&!nr(u.insertions,p.id)&&l.add(p)}),l.forEach(p=>{d=Rl(a,p,l,u.insertions,t.ignoreRemoteMapChanges,t)!==null||d});for(let p=f.length-1;p>=0;p--){let m=f[p];t.deleteFilter(m)&&(m.delete(a),d=!0)}n=d?u:null}a.changed.forEach((c,u)=>{c.has(null)&&u._searchMarker&&(u._searchMarker.length=0)}),s=a},t),n!=null){let a=s.changedParentTypes;t.emit("stack-item-popped",[{stackItem:n,type:r,changedParentTypes:a},t])}return n},Qt=class extends Ye{constructor(e,{captureTimeout:r=500,captureTransaction:n=c=>!0,deleteFilter:s=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=jt(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.addToScope(e),this.deleteFilter=s,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.doc=a,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=r,this.afterTransactionHandler=c=>{if(!this.captureTransaction(c)||!this.scope.some(_=>c.changedParentTypes.has(_))||!this.trackedOrigins.has(c.origin)&&(!c.origin||!this.trackedOrigins.has(c.origin.constructor)))return;let u=this.undoing,l=this.redoing,f=u?this.redoStack:this.undoStack;u?this.stopCapturing():l||this.clear(!1,!0);let d=new xt;c.afterState.forEach((_,b)=>{let T=c.beforeState.get(b)||0,U=_-T;U>0&&gn(d,b,T,U)});let p=_t(),m=!1;if(this.lastChange>0&&p-this.lastChange<this.captureTimeout&&f.length>0&&!u&&!l){let _=f[f.length-1];_.deletions=xr([_.deletions,c.deleteSet]),_.insertions=xr([_.insertions,d])}else f.push(new Ki(c.deleteSet,d)),m=!0;!u&&!l&&(this.lastChange=p),Wt(c,c.deleteSet,_=>{_ instanceof Y&&this.scope.some(b=>mn(b,_))&&uo(_,!0)});let E=[{stackItem:f[f.length-1],origin:c.origin,type:u?"redo":"undo",changedParentTypes:c.changedParentTypes},this];m?this.emit("stack-item-added",E):this.emit("stack-item-updated",E)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=jt(e)?e:[e],e.forEach(r=>{this.scope.every(n=>n!==r)&&this.scope.push(r)})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,r=!0){(e&&this.canUndo()||r&&this.canRedo())&&this.doc.transact(n=>{e&&(this.undoStack.forEach(s=>Mc(n,this,s)),this.undoStack=[]),r&&(this.redoStack.forEach(s=>Mc(n,this,s)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:r}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=Pc(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=Pc(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}};function*sp(t){let e=L(t.restDecoder);for(let r=0;r<e;r++){let n=L(t.restDecoder),s=t.readClient(),i=L(t.restDecoder);for(let o=0;o<n;o++){let a=t.readInfo();if(a===10){let c=L(t.restDecoder);yield new de(k(s,i),c),i+=c}else if((31&a)!==0){let c=(a&192)===0,u=new Y(k(s,i),null,(a&128)===128?t.readLeftID():null,null,(a&64)===64?t.readRightID():null,c?t.readParentInfo()?t.readString():t.readLeftID():null,c&&(a&32)===32?t.readString():null,Tl(t,a));yield u,i+=u.length}else{let c=t.readLen();yield new fe(k(s,i),c),i+=c}}}}var Je=class{constructor(e,r){this.gen=sp(e),this.curr=null,this.done=!1,this.filterSkips=r,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===de);return this.curr}},ip=t=>el(t,Ie),el=(t,e=Re)=>{let r=[],n=new e(ce(t)),s=new Je(n,!1);for(let o=s.curr;o!==null;o=s.next())r.push(o);rs("Structs: ",r);let i=ct(n);rs("DeleteSet: ",i)},op=t=>tl(t,Ie),tl=(t,e=Re)=>{let r=[],n=new e(ce(t)),s=new Je(n,!1);for(let i=s.curr;i!==null;i=s.next())r.push(i);return{structs:r,ds:ct(n)}},En=class{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}},rl=t=>wn(t,Ie,We),nl=(t,e=Rr,r=Re)=>{let n=new e,s=new Je(new r(ce(t)),!1),i=s.curr;if(i!==null){let o=0,a=i.id.client,c=i.id.clock!==0,u=c?0:i.id.clock+i.length;for(;i!==null;i=s.next())a!==i.id.client&&(u!==0&&(o++,O(n.restEncoder,a),O(n.restEncoder,u)),a=i.id.client,u=0,c=i.id.clock!==0),i.constructor===de&&(c=!0),c||(u=i.id.clock+i.length);u!==0&&(o++,O(n.restEncoder,a),O(n.restEncoder,u));let l=Ht();return O(l,o),Ec(l,n.restEncoder),n.restEncoder=l,n.toUint8Array()}else return O(n.restEncoder,0),n.toUint8Array()},ap=t=>nl(t,Rt,Ie),sl=(t,e=Re)=>{let r=new Map,n=new Map,s=new Je(new e(ce(t)),!1),i=s.curr;if(i!==null){let o=i.id.client,a=i.id.clock;for(r.set(o,a);i!==null;i=s.next())o!==i.id.client&&(n.set(o,a),r.set(i.id.client,i.id.clock),o=i.id.client),a=i.id.clock+i.length;n.set(o,a)}return{from:r,to:n}},cp=t=>sl(t,Ie),lp=(t,e)=>{if(t.constructor===fe){let{client:r,clock:n}=t.id;return new fe(k(r,n+e),t.length-e)}else if(t.constructor===de){let{client:r,clock:n}=t.id;return new de(k(r,n+e),t.length-e)}else{let r=t,{client:n,clock:s}=r.id;return new Y(k(n,s+e),null,k(n,s+e-1),null,r.rightOrigin,r.parent,r.parentSub,r.content.splice(e))}},wn=(t,e=Re,r=Le)=>{if(t.length===1)return t[0];let n=t.map(l=>new e(ce(l))),s=n.map(l=>new Je(l,!0)),i=null,o=new r,a=new En(o);for(;s=s.filter(d=>d.curr!==null),s.sort((d,p)=>{if(d.curr.id.client===p.curr.id.client){let m=d.curr.id.clock-p.curr.id.clock;return m===0?d.curr.constructor===p.curr.constructor?0:d.curr.constructor===de?1:-1:m}else return p.curr.id.client-d.curr.id.client}),s.length!==0;){let l=s[0],f=l.curr.id.client;if(i!==null){let d=l.curr,p=!1;for(;d!==null&&d.id.clock+d.length<=i.struct.id.clock+i.struct.length&&d.id.client>=i.struct.id.client;)d=l.next(),p=!0;if(d===null||d.id.client!==f||p&&d.id.clock>i.struct.id.clock+i.struct.length)continue;if(f!==i.struct.id.client)bt(a,i.struct,i.offset),i={struct:d,offset:0},l.next();else if(i.struct.id.clock+i.struct.length<d.id.clock)if(i.struct.constructor===de)i.struct.length=d.id.clock+d.length-i.struct.id.clock;else{bt(a,i.struct,i.offset);let m=d.id.clock-i.struct.id.clock-i.struct.length;i={struct:new de(k(f,i.struct.id.clock+i.struct.length),m),offset:0}}else{let m=i.struct.id.clock+i.struct.length-d.id.clock;m>0&&(i.struct.constructor===de?i.struct.length-=m:d=lp(d,m)),i.struct.mergeWith(d)||(bt(a,i.struct,i.offset),i={struct:d,offset:0},l.next())}}else i={struct:l.curr,offset:0},l.next();for(let d=l.curr;d!==null&&d.id.client===f&&d.id.clock===i.struct.id.clock+i.struct.length&&d.constructor!==de;d=l.next())bt(a,i.struct,i.offset),i={struct:d,offset:0}}i!==null&&(bt(a,i.struct,i.offset),i=null),oo(a);let c=n.map(l=>ct(l)),u=xr(c);return qe(o,u),o.toUint8Array()},io=(t,e,r=Re,n=Le)=>{let s=to(e),i=new n,o=new En(i),a=new r(ce(t)),c=new Je(a,!1);for(;c.curr;){let l=c.curr,f=l.id.client,d=s.get(f)||0;if(c.curr.constructor===de){c.next();continue}if(l.id.clock+l.length>d)for(bt(o,l,ot(d-l.id.clock,0)),c.next();c.curr&&c.curr.id.client===f;)bt(o,c.curr,0),c.next();else for(;c.curr&&c.curr.id.client===f&&c.curr.id.clock+c.curr.length<=d;)c.next()}oo(o);let u=ct(a);return qe(i,u),i.toUint8Array()},up=(t,e)=>io(t,e,Ie,We),il=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Ce(t.encoder.restEncoder)}),t.encoder.restEncoder=Ht(),t.written=0)},bt=(t,e,r)=>{t.written>0&&t.currClient!==e.id.client&&il(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),O(t.encoder.restEncoder,e.id.clock+r)),e.write(t.encoder,r),t.written++},oo=t=>{il(t);let e=t.encoder.restEncoder;O(e,t.clientStructs.length);for(let r=0;r<t.clientStructs.length;r++){let n=t.clientStructs[r];O(e,n.written),Sr(e,n.restEncoder)}},bs=(t,e,r,n)=>{let s=new r(ce(t)),i=new Je(s,!1),o=new n,a=new En(o);for(let u=i.curr;u!==null;u=i.next())bt(a,e(u),0);oo(a);let c=ct(s);return qe(o,c),o.toUint8Array()},ol=({formatting:t=!0,subdocs:e=!0,yxml:r=!0}={})=>{let n=0,s=Z(),i=Z(),o=Z(),a=Z();return a.set(null,null),c=>{switch(c.constructor){case fe:case de:return c;case Y:{let u=c,l=u.content;switch(l.constructor){case Dr:break;case Me:{if(r){let f=l.type;f instanceof Ir&&(f.nodeName=ae(i,f.nodeName,()=>"node-"+n)),f instanceof Sn&&(f.hookName=ae(i,f.hookName,()=>"hook-"+n))}break}case Tt:{let f=l;f.arr=f.arr.map(()=>n);break}case rr:{let f=l;f.content=new Uint8Array([n]);break}case Ur:{let f=l;e&&(f.opts={},f.doc.guid=n+"");break}case ut:{let f=l;f.embed={};break}case q:{let f=l;t&&(f.key=ae(o,f.key,()=>n+""),f.value=ae(a,f.value,()=>({i:n})));break}case xn:{let f=l;f.arr=f.arr.map(()=>n);break}case je:{let f=l;f.str=qa(n%10+"",f.str.length);break}default:ye()}return u.parentSub&&(u.parentSub=ae(s,u.parentSub,()=>n+"")),n++,c}default:ye()}}},fp=(t,e)=>bs(t,ol(e),Ie,We),dp=(t,e)=>bs(t,ol(e),Re,Le),hp=t=>bs(t,Si,Ie,Le),al=t=>bs(t,Si,Re,We),Vc="You must not compute changes after the event-handler fired.",Xt=class{constructor(e,r){this.target=e,this.currentTarget=e,this.transaction=r,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=pp(this.currentTarget,this.target))}deletes(e){return nr(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw He(Vc);let e=new Map,r=this.target;this.transaction.changed.get(r).forEach(s=>{if(s!==null){let i=r._map.get(s),o,a;if(this.adds(i)){let c=i.left;for(;c!==null&&this.adds(c);)c=c.left;if(this.deletes(i))if(c!==null&&this.deletes(c))o="delete",a=Wn(c.content.getContent());else return;else c!==null&&this.deletes(c)?(o="update",a=Wn(c.content.getContent())):(o="add",a=void 0)}else if(this.deletes(i))o="delete",a=Wn(i.content.getContent());else return;e.set(s,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw He(Vc);let r=this.target,n=it(),s=it(),i=[];if(e={added:n,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(r).has(null)){let a=null,c=()=>{a&&i.push(a)};for(let u=r._start;u!==null;u=u.right)u.deleted?this.deletes(u)&&!this.adds(u)&&((a===null||a.delete===void 0)&&(c(),a={delete:0}),a.delete+=u.length,s.add(u)):this.adds(u)?((a===null||a.insert===void 0)&&(c(),a={insert:[]}),a.insert=a.insert.concat(u.content.getContent()),n.add(u)):((a===null||a.retain===void 0)&&(c(),a={retain:0}),a.retain+=u.length);a!==null&&a.retain===void 0&&c()}this._changes=e}return e}},pp=(t,e)=>{let r=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)r.unshift(e._item.parentSub);else{let n=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)s.deleted||n++,s=s.right;r.unshift(n)}e=e._item.parent}return r},cl=80,ao=0,qi=class{constructor(e,r){e.marker=!0,this.p=e,this.index=r,this.timestamp=ao++}},gp=t=>{t.timestamp=ao++},ll=(t,e,r)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=r,t.timestamp=ao++},mp=(t,e,r)=>{if(t.length>=cl){let n=t.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return ll(n,e,r),n}else{let n=new qi(e,r);return t.push(n),n}},Ss=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;let r=t._searchMarker.length===0?null:t._searchMarker.reduce((i,o)=>dr(e-i.index)<dr(e-o.index)?i:o),n=t._start,s=0;for(r!==null&&(n=r.p,s=r.index,gp(r));n.right!==null&&s<e;){if(!n.deleted&&n.countable){if(e<s+n.length)break;s+=n.length}n=n.right}for(;n.left!==null&&s>e;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(s-=n.length);return r!==null&&dr(r.index-s)<n.parent.length/cl?(ll(r,n,s),r):mp(t._searchMarker,n,s)},vn=(t,e,r)=>{for(let n=t.length-1;n>=0;n--){let s=t[n];if(r>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){t.splice(n,1);continue}s.p=i,i.marker=!0}(e<s.index||r>0&&e===s.index)&&(s.index=ot(e,s.index+r))}},yp=t=>{let e=t._start,r=[];for(;e;)r.push(e),e=e.right;return r},xs=(t,e,r)=>{let n=t,s=e.changedParentTypes;for(;ae(s,t,()=>[]).push(r),t._item!==null;)t=t._item.parent;zc(n._eH,r,e)},Q=class{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ic(),this._dEH=Ic(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,r){this.doc=e,this._item=r}_copy(){throw Be()}clone(){throw Be()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,r){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Ac(this._eH,e)}observeDeep(e){Ac(this._dEH,e)}unobserve(e){Dc(this._eH,e)}unobserveDeep(e){Dc(this._dEH,e)}toJSON(){}},ul=(t,e,r)=>{e<0&&(e=t._length+e),r<0&&(r=t._length+r);let n=r-e,s=[],i=t._start;for(;i!==null&&n>0;){if(i.countable&&!i.deleted){let o=i.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&n>0;a++)s.push(o[a]),n--;e=0}}i=i.right}return s},fl=t=>{let e=[],r=t._start;for(;r!==null;){if(r.countable&&!r.deleted){let n=r.content.getContent();for(let s=0;s<n.length;s++)e.push(n[s])}r=r.right}return e},Ep=(t,e)=>{let r=[],n=t._start;for(;n!==null;){if(n.countable&&Kt(n,e)){let s=n.content.getContent();for(let i=0;i<s.length;i++)r.push(s[i])}n=n.right}return r},_n=(t,e)=>{let r=0,n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){let s=n.content.getContent();for(let i=0;i<s.length;i++)e(s[i],r++,t)}n=n.right}},dl=(t,e)=>{let r=[];return _n(t,(n,s)=>{r.push(e(n,s,t))}),r},wp=t=>{let e=t._start,r=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(r===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};r=e.content.getContent(),n=0,e=e.right}let s=r[n++];return r.length<=n&&(r=null),{done:!1,value:s}}}},hl=(t,e)=>{let r=Ss(t,e),n=t._start;for(r!==null&&(n=r.p,e-=r.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},hs=(t,e,r,n)=>{let s=r,i=t.doc,o=i.clientID,a=i.store,c=r===null?e._start:r.right,u=[],l=()=>{u.length>0&&(s=new Y(k(o,H(a,o)),s,s&&s.lastId,c,c&&c.id,e,null,new Tt(u)),s.integrate(t,0),u=[])};n.forEach(f=>{if(f===null)u.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(f);break;default:switch(l(),f.constructor){case Uint8Array:case ArrayBuffer:s=new Y(k(o,H(a,o)),s,s&&s.lastId,c,c&&c.id,e,null,new rr(new Uint8Array(f))),s.integrate(t,0);break;case lt:s=new Y(k(o,H(a,o)),s,s&&s.lastId,c,c&&c.id,e,null,new Ur(f)),s.integrate(t,0);break;default:if(f instanceof Q)s=new Y(k(o,H(a,o)),s,s&&s.lastId,c,c&&c.id,e,null,new Me(f)),s.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),l()},pl=He("Length exceeded!"),gl=(t,e,r,n)=>{if(r>e._length)throw pl;if(r===0)return e._searchMarker&&vn(e._searchMarker,r,n.length),hs(t,e,null,n);let s=r,i=Ss(e,r),o=e._start;for(i!==null&&(o=i.p,r-=i.index,r===0&&(o=o.prev,r+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(r<=o.length){r<o.length&&Ee(t,k(o.id.client,o.id.clock+r));break}r-=o.length}return e._searchMarker&&vn(e._searchMarker,s,n.length),hs(t,e,o,n)},vp=(t,e,r)=>{let s=(e._searchMarker||[]).reduce((i,o)=>o.index>i.index?o:i,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return hs(t,e,s,r)},ml=(t,e,r,n)=>{if(n===0)return;let s=r,i=n,o=Ss(e,r),a=e._start;for(o!==null&&(a=o.p,r-=o.index);a!==null&&r>0;a=a.right)!a.deleted&&a.countable&&(r<a.length&&Ee(t,k(a.id.client,a.id.clock+r)),r-=a.length);for(;n>0&&a!==null;)a.deleted||(n<a.length&&Ee(t,k(a.id.client,a.id.clock+n)),a.delete(t),n-=a.length),a=a.right;if(n>0)throw pl;e._searchMarker&&vn(e._searchMarker,s,-i+n)},ps=(t,e,r)=>{let n=e._map.get(r);n!==void 0&&n.delete(t)},co=(t,e,r,n)=>{let s=e._map.get(r)||null,i=t.doc,o=i.clientID,a;if(n==null)a=new Tt([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Tt([n]);break;case Uint8Array:a=new rr(n);break;case lt:a=new Ur(n);break;default:if(n instanceof Q)a=new Me(n);else throw new Error("Unexpected content type")}new Y(k(o,H(i.store,o)),s,s&&s.lastId,null,null,e,r,a).integrate(t,0)},lo=(t,e)=>{let r=t._map.get(e);return r!==void 0&&!r.deleted?r.content.getContent()[r.length-1]:void 0},yl=t=>{let e={};return t._map.forEach((r,n)=>{r.deleted||(e[n]=r.content.getContent()[r.length-1])}),e},El=(t,e)=>{let r=t._map.get(e);return r!==void 0&&!r.deleted},_p=(t,e,r)=>{let n=t._map.get(e)||null;for(;n!==null&&(!r.sv.has(n.id.client)||n.id.clock>=(r.sv.get(n.id.client)||0));)n=n.left;return n!==null&&Kt(n,r)?n.content.getContent()[n.length-1]:void 0},is=t=>xc(t.entries(),e=>!e[1].deleted),gs=class extends Xt{constructor(e,r){super(e,r),this._transaction=r}},Zt=class t extends Q{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){let r=new t;return r.push(e),r}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new t}clone(){let e=new t;return e.insert(0,this.toArray().map(r=>r instanceof Q?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,r){super._callObserver(e,r),xs(this,e,new gs(this,e))}insert(e,r){this.doc!==null?G(this.doc,n=>{gl(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}push(e){this.doc!==null?G(this.doc,r=>{vp(r,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,r=1){this.doc!==null?G(this.doc,n=>{ml(n,this,e,r)}):this._prelimContent.splice(e,r)}get(e){return hl(this,e)}toArray(){return fl(this)}slice(e=0,r=this.length){return ul(this,e,r)}toJSON(){return this.map(e=>e instanceof Q?e.toJSON():e)}map(e){return dl(this,e)}forEach(e){_n(this,e)}[Symbol.iterator](){return wp(this)}_write(e){e.writeTypeRef(Fp)}},bp=t=>new Zt,ms=class extends Xt{constructor(e,r,n){super(e,r),this.keysChanged=n}},er=class t extends Q{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,r){super._integrate(e,r),this._prelimContent.forEach((n,s)=>{this.set(s,n)}),this._prelimContent=null}_copy(){return new t}clone(){let e=new t;return this.forEach((r,n)=>{e.set(n,r instanceof Q?r.clone():r)}),e}_callObserver(e,r){xs(this,e,new ms(this,e,r))}toJSON(){let e={};return this._map.forEach((r,n)=>{if(!r.deleted){let s=r.content.getContent()[r.length-1];e[n]=s instanceof Q?s.toJSON():s}}),e}get size(){return[...is(this._map)].length}keys(){return ns(is(this._map),e=>e[0])}values(){return ns(is(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return ns(is(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this._map.forEach((r,n)=>{r.deleted||e(r.content.getContent()[r.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?G(this.doc,r=>{ps(r,this,e)}):this._prelimContent.delete(e)}set(e,r){return this.doc!==null?G(this.doc,n=>{co(n,this,e,r)}):this._prelimContent.set(e,r),r}get(e){return lo(this,e)}has(e){return El(this,e)}clear(){this.doc!==null?G(this.doc,e=>{this.forEach(function(r,n,s){ps(e,s,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Gp)}},Sp=t=>new er,St=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&bi(t,e),bn=class{constructor(e,r,n,s){this.left=e,this.right=r,this.index=n,this.currentAttributes=s}forward(){this.right===null&&ye(),this.right.content.constructor===q?this.right.deleted||kr(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}},Bc=(t,e,r)=>{for(;e.right!==null&&r>0;)e.right.content.constructor===q?e.right.deleted||kr(e.currentAttributes,e.right.content):e.right.deleted||(r<e.right.length&&Ee(t,k(e.right.id.client,e.right.id.clock+r)),e.index+=e.right.length,r-=e.right.length),e.left=e.right,e.right=e.right.right;return e},os=(t,e,r)=>{let n=new Map,s=Ss(e,r);if(s){let i=new bn(s.p.left,s.p,s.index,n);return Bc(t,i,r-s.index)}else{let i=new bn(null,e._start,0,n);return Bc(t,i,r)}},wl=(t,e,r,n)=>{for(;r.right!==null&&(r.right.deleted===!0||r.right.content.constructor===q&&St(n.get(r.right.content.key),r.right.content.value));)r.right.deleted||n.delete(r.right.content.key),r.forward();let s=t.doc,i=s.clientID;n.forEach((o,a)=>{let c=r.left,u=r.right,l=new Y(k(i,H(s.store,i)),c,c&&c.lastId,u,u&&u.id,e,null,new q(a,o));l.integrate(t,0),r.right=l,r.forward()})},kr=(t,e)=>{let{key:r,value:n}=e;n===null?t.delete(r):t.set(r,n)},vl=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===q&&St(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},_l=(t,e,r,n)=>{let s=t.doc,i=s.clientID,o=new Map;for(let a in n){let c=n[a],u=r.currentAttributes.get(a)||null;if(!St(u,c)){o.set(a,u);let{left:l,right:f}=r;r.right=new Y(k(i,H(s.store,i)),l,l&&l.lastId,f,f&&f.id,e,null,new q(a,c)),r.right.integrate(t,0),r.forward()}}return o},Fi=(t,e,r,n,s)=>{r.currentAttributes.forEach((d,p)=>{s[p]===void 0&&(s[p]=null)});let i=t.doc,o=i.clientID;vl(r,s);let a=_l(t,e,r,s),c=n.constructor===String?new je(n):n instanceof Q?new Me(n):new ut(n),{left:u,right:l,index:f}=r;e._searchMarker&&vn(e._searchMarker,r.index,c.getLength()),l=new Y(k(o,H(i.store,o)),u,u&&u.lastId,l,l&&l.id,e,null,c),l.integrate(t,0),r.right=l,r.index=f,r.forward(),wl(t,e,r,a)},jc=(t,e,r,n,s)=>{let i=t.doc,o=i.clientID;vl(r,s);let a=_l(t,e,r,s);e:for(;r.right!==null&&(n>0||a.size>0&&(r.right.deleted||r.right.content.constructor===q));){if(!r.right.deleted)switch(r.right.content.constructor){case q:{let{key:c,value:u}=r.right.content,l=s[c];if(l!==void 0){if(St(l,u))a.delete(c);else{if(n===0)break e;a.set(c,u)}r.right.delete(t)}else r.currentAttributes.set(c,u);break}default:n<r.right.length&&Ee(t,k(r.right.id.client,r.right.id.clock+n)),n-=r.right.length;break}r.forward()}if(n>0){let c="";for(;n>0;n--)c+=`
`;r.right=new Y(k(o,H(i.store,o)),r.left,r.left&&r.left.lastId,r.right,r.right&&r.right.id,e,null,new je(c)),r.right.integrate(t,0),r.forward()}wl(t,e,r,a)},bl=(t,e,r,n,s)=>{let i=e,o=Z();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===q){let u=i.content;o.set(u.key,u)}i=i.right}let a=0,c=!1;for(;e!==i;){if(r===e&&(c=!0),!e.deleted){let u=e.content;if(u.constructor===q){let{key:l,value:f}=u,d=n.get(l)||null;(o.get(l)!==u||d===f)&&(e.delete(t),a++,!c&&(s.get(l)||null)===f&&d!==f&&(d===null?s.delete(l):s.set(l,d))),!c&&!e.deleted&&kr(s,u)}}e=e.right}return a},xp=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;let r=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===q){let n=e.content.key;r.has(n)?e.delete(t):r.add(n)}e=e.left}},Sl=t=>{let e=0;return G(t.doc,r=>{let n=t._start,s=t._start,i=Z(),o=qn(i);for(;s;)s.deleted===!1&&(s.content.constructor===q?kr(o,s.content):(e+=bl(r,n,s,i,o),i=qn(o),n=s)),s=s.right}),e},Rp=t=>{let e=new Set,r=t.doc;for(let[n,s]of t.afterState.entries()){let i=t.beforeState.get(n)||0;s!==i&&Jc(t,r.store.clients.get(n),i,s,o=>{!o.deleted&&o.content.constructor===q&&o.constructor!==fe&&e.add(o.parent)})}G(r,n=>{Wt(t,t.deleteSet,s=>{if(s instanceof fe||!s.parent._hasFormatting||e.has(s.parent))return;let i=s.parent;s.content.constructor===q?e.add(i):xp(n,s)});for(let s of e)Sl(s)})},Fc=(t,e,r)=>{let n=r,s=qn(e.currentAttributes),i=e.right;for(;r>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Me:case ut:case je:r<e.right.length&&Ee(t,k(e.right.id.client,e.right.id.clock+r)),r-=e.right.length,e.right.delete(t);break}e.forward()}i&&bl(t,i,e.right,s,e.currentAttributes);let o=(e.left||e.right).parent;return o._searchMarker&&vn(o._searchMarker,e.index,-n+r),e},ys=class extends Xt{constructor(e,r,n){super(e,r),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){let e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){let e=this.target.doc,r=[];G(e,n=>{let s=new Map,i=new Map,o=this.target._start,a=null,c={},u="",l=0,f=0,d=()=>{if(a!==null){let p=null;switch(a){case"delete":f>0&&(p={delete:f}),f=0;break;case"insert":(typeof u=="object"||u.length>0)&&(p={insert:u},s.size>0&&(p.attributes={},s.forEach((m,E)=>{m!==null&&(p.attributes[E]=m)}))),u="";break;case"retain":l>0&&(p={retain:l},Za(c)||(p.attributes=Qa({},c))),l=0;break}p&&r.push(p),a=null}};for(;o!==null;){switch(o.content.constructor){case Me:case ut:this.adds(o)?this.deletes(o)||(d(),a="insert",u=o.content.getContent()[0],d()):this.deletes(o)?(a!=="delete"&&(d(),a="delete"),f+=1):o.deleted||(a!=="retain"&&(d(),a="retain"),l+=1);break;case je:this.adds(o)?this.deletes(o)||(a!=="insert"&&(d(),a="insert"),u+=o.content.str):this.deletes(o)?(a!=="delete"&&(d(),a="delete"),f+=o.length):o.deleted||(a!=="retain"&&(d(),a="retain"),l+=o.length);break;case q:{let{key:p,value:m}=o.content;if(this.adds(o)){if(!this.deletes(o)){let E=s.get(p)||null;St(E,m)?m!==null&&o.delete(n):(a==="retain"&&d(),St(m,i.get(p)||null)?delete c[p]:c[p]=m)}}else if(this.deletes(o)){i.set(p,m);let E=s.get(p)||null;St(E,m)||(a==="retain"&&d(),c[p]=E)}else if(!o.deleted){i.set(p,m);let E=c[p];E!==void 0&&(St(E,m)?E!==null&&o.delete(n):(a==="retain"&&d(),m===null?delete c[p]:c[p]=m))}o.deleted||(a==="insert"&&d(),kr(s,o.content));break}}o=o.right}for(d();r.length>0;){let p=r[r.length-1];if(p.retain!==void 0&&p.attributes===void 0)r.pop();else break}}),this._delta=r}return this._delta}},Cr=class t extends Q{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,r){super._integrate(e,r);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new t}clone(){let e=new t;return e.applyDelta(this.toDelta()),e}_callObserver(e,r){super._callObserver(e,r);let n=new ys(this,e,r);xs(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",r=this._start;for(;r!==null;)!r.deleted&&r.countable&&r.content.constructor===je&&(e+=r.content.str),r=r.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:r=!0}={}){this.doc!==null?G(this.doc,n=>{let s=new bn(null,this._start,0,new Map);for(let i=0;i<e.length;i++){let o=e[i];if(o.insert!==void 0){let a=!r&&typeof o.insert=="string"&&i===e.length-1&&s.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&Fi(n,this,s,a,o.attributes||{})}else o.retain!==void 0?jc(n,this,s,o.retain,o.attributes||{}):o.delete!==void 0&&Fc(n,s,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,r,n){let s=[],i=new Map,o=this.doc,a="",c=this._start;function u(){if(a.length>0){let f={},d=!1;i.forEach((m,E)=>{d=!0,f[E]=m});let p={insert:a};d&&(p.attributes=f),s.push(p),a=""}}let l=()=>{for(;c!==null;){if(Kt(c,e)||r!==void 0&&Kt(c,r))switch(c.content.constructor){case je:{let f=i.get("ychange");e!==void 0&&!Kt(c,e)?(f===void 0||f.user!==c.id.client||f.type!=="removed")&&(u(),i.set("ychange",n?n("removed",c.id):{type:"removed"})):r!==void 0&&!Kt(c,r)?(f===void 0||f.user!==c.id.client||f.type!=="added")&&(u(),i.set("ychange",n?n("added",c.id):{type:"added"})):f!==void 0&&(u(),i.delete("ychange")),a+=c.content.str;break}case Me:case ut:{u();let f={insert:c.content.getContent()[0]};if(i.size>0){let d={};f.attributes=d,i.forEach((p,m)=>{d[m]=p})}s.push(f);break}case q:Kt(c,e)&&(u(),kr(i,c.content));break}c=c.right}u()};return e||r?G(o,f=>{e&&Hi(f,e),r&&Hi(f,r),l()},"cleanup"):l(),s}insert(e,r,n){if(r.length<=0)return;let s=this.doc;s!==null?G(s,i=>{let o=os(i,this,e);n||(n={},o.currentAttributes.forEach((a,c)=>{n[c]=a})),Fi(i,this,o,r,n)}):this._pending.push(()=>this.insert(e,r,n))}insertEmbed(e,r,n={}){let s=this.doc;s!==null?G(s,i=>{let o=os(i,this,e);Fi(i,this,o,r,n)}):this._pending.push(()=>this.insertEmbed(e,r,n))}delete(e,r){if(r===0)return;let n=this.doc;n!==null?G(n,s=>{Fc(s,os(s,this,e),r)}):this._pending.push(()=>this.delete(e,r))}format(e,r,n){if(r===0)return;let s=this.doc;s!==null?G(s,i=>{let o=os(i,this,e);o.right!==null&&jc(i,this,o,r,n)}):this._pending.push(()=>this.format(e,r,n))}removeAttribute(e){this.doc!==null?G(this.doc,r=>{ps(r,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,r){this.doc!==null?G(this.doc,n=>{co(n,this,e,r)}):this._pending.push(()=>this.setAttribute(e,r))}getAttribute(e){return lo(this,e)}getAttributes(){return yl(this)}_write(e){e.writeTypeRef(Yp)}},Tp=t=>new Cr,hn=class{constructor(e,r=()=>!0){this._filter=r,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,r=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(r)))do if(r=e.content.type,!e.deleted&&(r.constructor===Ir||r.constructor===tr)&&r._start!==null)e=r._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}},tr=class t extends Q{constructor(){super(),this._prelimContent=[]}get firstChild(){let e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,r){super._integrate(e,r),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new t}clone(){let e=new t;return e.insert(0,this.toArray().map(r=>r instanceof Q?r.clone():r)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new hn(this,e)}querySelector(e){e=e.toUpperCase();let n=new hn(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),Ge(new hn(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e))}_callObserver(e,r){xs(this,e,new Es(this,r,e))}toString(){return dl(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,r={},n){let s=e.createDocumentFragment();return n!==void 0&&n._createAssociation(s,this),_n(this,i=>{s.insertBefore(i.toDOM(e,r,n),null)}),s}insert(e,r){this.doc!==null?G(this.doc,n=>{gl(n,this,e,r)}):this._prelimContent.splice(e,0,...r)}insertAfter(e,r){if(this.doc!==null)G(this.doc,n=>{let s=e&&e instanceof Q?e._item:e;hs(n,this,s,r)});else{let n=this._prelimContent,s=e===null?0:n.findIndex(i=>i===e)+1;if(s===0&&e!==null)throw He("Reference item not found");n.splice(s,0,...r)}}delete(e,r=1){this.doc!==null?G(this.doc,n=>{ml(n,this,e,r)}):this._prelimContent.splice(e,r)}toArray(){return fl(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return hl(this,e)}slice(e=0,r=this.length){return ul(this,e,r)}forEach(e){_n(this,e)}_write(e){e.writeTypeRef(Hp)}},Cp=t=>new tr,Ir=class t extends tr{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){let e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){let e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,r){super._integrate(e,r),this._prelimAttrs.forEach((n,s)=>{this.setAttribute(s,n)}),this._prelimAttrs=null}_copy(){return new t(this.nodeName)}clone(){let e=new t(this.nodeName),r=this.getAttributes();return Xa(r,(n,s)=>{typeof n=="string"&&e.setAttribute(s,n)}),e.insert(0,this.toArray().map(n=>n instanceof Q?n.clone():n)),e}toString(){let e=this.getAttributes(),r=[],n=[];for(let a in e)n.push(a);n.sort();let s=n.length;for(let a=0;a<s;a++){let c=n[a];r.push(c+'="'+e[c]+'"')}let i=this.nodeName.toLocaleLowerCase(),o=r.length>0?" "+r.join(" "):"";return`<${i}${o}>${super.toString()}</${i}>`}removeAttribute(e){this.doc!==null?G(this.doc,r=>{ps(r,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,r){this.doc!==null?G(this.doc,n=>{co(n,this,e,r)}):this._prelimAttrs.set(e,r)}getAttribute(e){return lo(this,e)}hasAttribute(e){return El(this,e)}getAttributes(){return yl(this)}toDOM(e=document,r={},n){let s=e.createElement(this.nodeName),i=this.getAttributes();for(let o in i){let a=i[o];typeof a=="string"&&s.setAttribute(o,a)}return _n(this,o=>{s.appendChild(o.toDOM(e,r,n))}),n!==void 0&&n._createAssociation(s,this),s}_write(e){e.writeTypeRef($p),e.writeKey(this.nodeName)}},Ip=t=>new Ir(t.readKey()),Es=class extends Xt{constructor(e,r,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}},Sn=class t extends er{constructor(e){super(),this.hookName=e}_copy(){return new t(this.hookName)}clone(){let e=new t(this.hookName);return this.forEach((r,n)=>{e.set(n,r)}),e}toDOM(e=document,r={},n){let s=r[this.hookName],i;return s!==void 0?i=s.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(i,this),i}_write(e){e.writeTypeRef(zp),e.writeKey(this.hookName)}},Ap=t=>new Sn(t.readKey()),ws=class t extends Cr{get nextSibling(){let e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){let e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new t}clone(){let e=new t;return e.applyDelta(this.toDelta()),e}toDOM(e=document,r,n){let s=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(s,this),s}toString(){return this.toDelta().map(e=>{let r=[];for(let s in e.attributes){let i=[];for(let o in e.attributes[s])i.push({key:o,value:e.attributes[s][o]});i.sort((o,a)=>o.key<a.key?-1:1),r.push({nodeName:s,attrs:i})}r.sort((s,i)=>s.nodeName<i.nodeName?-1:1);let n="";for(let s=0;s<r.length;s++){let i=r[s];n+=`<${i.nodeName}`;for(let o=0;o<i.attrs.length;o++){let a=i.attrs[o];n+=` ${a.key}="${a.value}"`}n+=">"}n+=e.insert;for(let s=r.length-1;s>=0;s--)n+=`</${r[s].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Kp)}},Dp=t=>new ws,Ar=class{constructor(e,r){this.id=e,this.length=r}get deleted(){throw Be()}mergeWith(e){return!1}write(e,r,n){throw Be()}integrate(e,r){throw Be()}},Up=0,fe=class extends Ar{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){r>0&&(this.id.clock+=r,this.length-=r),Wc(e.doc.store,this)}write(e,r){e.writeInfo(Up),e.writeLen(this.length-r)}getMissing(e,r){return null}},rr=class t{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new t(this.content)}splice(e){throw Be()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeBuf(this.content)}getRef(){return 3}},Op=t=>new rr(t.readBuf()),Dr=class t{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new t(this.len)}splice(e){let r=new t(this.len-e);return this.len=e,r}mergeWith(e){return this.len+=e.len,!0}integrate(e,r){gn(e.deleteSet,r.id.client,r.id.clock,this.len),r.markDeleted()}delete(e){}gc(e){}write(e,r){e.writeLen(this.len-r)}getRef(){return 1}},kp=t=>new Dr(t.readLen()),xl=(t,e)=>new lt({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1}),Ur=class t{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;let r={};this.opts=r,e.gc||(r.gc=!1),e.autoLoad&&(r.autoLoad=!0),e.meta!==null&&(r.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new t(xl(this.doc.guid,this.opts))}splice(e){throw Be()}mergeWith(e){return!1}integrate(e,r){this.doc._item=r,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,r){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}},Lp=t=>new Ur(xl(t.readString(),t.readAny())),ut=class t{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new t(this.embed)}splice(e){throw Be()}mergeWith(e){return!1}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeJSON(this.embed)}getRef(){return 5}},Np=t=>new ut(t.readJSON()),q=class t{constructor(e,r){this.key=e,this.value=r}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new t(this.key,this.value)}splice(e){throw Be()}mergeWith(e){return!1}integrate(e,r){let n=r.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,r){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}},Mp=t=>new q(t.readKey(),t.readJSON()),xn=class t{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new t(this.arr)}splice(e){let r=new t(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){let n=this.arr.length;e.writeLen(n-r);for(let s=r;s<n;s++){let i=this.arr[s];e.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}},Pp=t=>{let e=t.readLen(),r=[];for(let n=0;n<e;n++){let s=t.readString();s==="undefined"?r.push(void 0):r.push(JSON.parse(s))}return new xn(r)},Tt=class t{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new t(this.arr)}splice(e){let r=new t(this.arr.slice(e));return this.arr=this.arr.slice(0,e),r}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){let n=this.arr.length;e.writeLen(n-r);for(let s=r;s<n;s++){let i=this.arr[s];e.writeAny(i)}}getRef(){return 8}},Vp=t=>{let e=t.readLen(),r=[];for(let n=0;n<e;n++)r.push(t.readAny());return new Tt(r)},je=class t{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new t(this.str)}splice(e){let r=new t(this.str.slice(e));this.str=this.str.slice(0,e);let n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",r.str="\uFFFD"+r.str.slice(1)),r}mergeWith(e){return this.str+=e.str,!0}integrate(e,r){}delete(e){}gc(e){}write(e,r){e.writeString(r===0?this.str:this.str.slice(r))}getRef(){return 4}},Bp=t=>new je(t.readString()),jp=[bp,Sp,Tp,Ip,Cp,Ap,Dp],Fp=0,Gp=1,Yp=2,$p=3,Hp=4,zp=5,Kp=6,Me=class t{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new t(this.type._copy())}splice(e){throw Be()}mergeWith(e){return!1}integrate(e,r){this.type._integrate(e.doc,r)}delete(e){let r=this.type._start;for(;r!==null;)r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e),r=r.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let r=this.type._start;for(;r!==null;)r.gc(e,!0),r=r.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,r){this.type._write(e)}getRef(){return 7}},qp=t=>new Me(jp[t.readTypeRef()](t)),Wi=(t,e)=>{let r=e,n=0,s;do n>0&&(r=k(r.client,r.clock+n)),s=dn(t,r),n=r.clock-s.id.clock,r=s.redone;while(r!==null&&s instanceof Y);return{item:s,diff:n}},uo=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},vs=(t,e,r)=>{let{client:n,clock:s}=e.id,i=new Y(k(n,s+r),e,k(n,s+r-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(r));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),e.redone!==null&&(i.redone=k(e.redone.client,e.redone.clock+r)),e.right=i,i.right!==null&&(i.right.left=i),t._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),e.length=r,i},Gc=(t,e)=>Ha(t,r=>nr(r.deletions,e)),Rl=(t,e,r,n,s,i)=>{let o=t.doc,a=o.store,c=o.clientID,u=e.redone;if(u!==null)return Ee(t,u);let l=e.parent._item,f=null,d;if(l!==null&&l.deleted===!0){if(l.redone===null&&(!r.has(l)||Rl(t,l,r,n,s,i)===null))return null;for(;l.redone!==null;)l=Ee(t,l.redone)}let p=l===null?e.parent:l.content.type;if(e.parentSub===null){for(f=e.left,d=e;f!==null;){let b=f;for(;b!==null&&b.parent._item!==l;)b=b.redone===null?null:Ee(t,b.redone);if(b!==null&&b.parent._item===l){f=b;break}f=f.left}for(;d!==null;){let b=d;for(;b!==null&&b.parent._item!==l;)b=b.redone===null?null:Ee(t,b.redone);if(b!==null&&b.parent._item===l){d=b;break}d=d.right}}else if(d=null,e.right&&!s){for(f=e;f!==null&&f.right!==null&&(f.right.redone||nr(n,f.right.id)||Gc(i.undoStack,f.right.id)||Gc(i.redoStack,f.right.id));)for(f=f.right;f.redone;)f=Ee(t,f.redone);if(f&&f.right!==null)return null}else f=p._map.get(e.parentSub)||null;let m=H(a,c),E=k(c,m),_=new Y(E,f,f&&f.lastId,d,d&&d.id,p,e.parentSub,e.content.copy());return e.redone=E,uo(_,!0),_.integrate(t,0),_},Y=class t extends Ar{constructor(e,r,n,s,i,o,a,c){super(e,c.getLength()),this.origin=n,this.left=r,this.right=s,this.rightOrigin=i,this.parent=o,this.parentSub=a,this.redone=null,this.content=c,this.info=this.content.isCountable()?2:0}set marker(e){(this.info&8)>0!==e&&(this.info^=8)}get marker(){return(this.info&8)>0}get keep(){return(this.info&1)>0}set keep(e){this.keep!==e&&(this.info^=1)}get countable(){return(this.info&2)>0}get deleted(){return(this.info&4)>0}set deleted(e){this.deleted!==e&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(e,r){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=H(r,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=H(r,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===at&&this.id.client!==this.parent.client&&this.parent.clock>=H(r,this.parent.client))return this.parent.client;if(this.origin&&(this.left=kc(e,r,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Ee(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===fe||this.right&&this.right.constructor===fe)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===t&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===t&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===at){let n=dn(r,this.parent);n.constructor===fe?this.parent=null:this.parent=n.content.type}return null}integrate(e,r){if(r>0&&(this.id.clock+=r,this.left=kc(e,e.doc.store,k(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(r),this.length-=r),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,s;if(n!==null)s=n.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;let i=new Set,o=new Set;for(;s!==null&&s!==this.right;){if(o.add(s),i.add(s),qt(this.origin,s.origin)){if(s.id.client<this.id.client)n=s,i.clear();else if(qt(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&o.has(dn(e.doc.store,s.origin)))i.has(dn(e.doc.store,s.origin))||(n=s,i.clear());else break;s=s.right}this.left=n}if(this.left!==null){let n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Wc(e.doc.store,this),this.content.integrate(e,this),Nc(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new fe(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:k(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&qt(e.origin,this.lastId)&&this.right===e&&qt(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){let r=this.parent._searchMarker;return r&&r.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){let r=this.parent;this.countable&&this.parentSub===null&&(r._length-=this.length),this.markDeleted(),gn(e.deleteSet,this.id.client,this.id.clock,this.length),Nc(e,r,this.parentSub),this.content.delete(e)}}gc(e,r){if(!this.deleted)throw ye();this.content.gc(e),r?rp(e,this,new fe(this.id,this.length)):this.content=new Dr(this.length)}write(e,r){let n=r>0?k(this.id.client,this.id.clock+r-1):this.origin,s=this.rightOrigin,i=this.parentSub,o=this.content.getRef()&31|(n===null?0:128)|(s===null?0:64)|(i===null?0:32);if(e.writeInfo(o),n!==null&&e.writeLeftID(n),s!==null&&e.writeRightID(s),n===null&&s===null){let a=this.parent;if(a._item!==void 0){let c=a._item;if(c===null){let u=no(a);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(c.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===at?(e.writeParentInfo(!1),e.writeLeftID(a)):ye();i!==null&&e.writeString(i)}this.content.write(e,r)}},Tl=(t,e)=>Wp[e&31](t),Wp=[()=>{ye()},kp,Pp,Op,Bp,Np,Mp,qp,Vp,Lp,()=>{ye()}],Jp=10,de=class extends Ar{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,r){ye()}write(e,r){e.writeInfo(Jp),O(e.restEncoder,this.length-r)}getMissing(e,r){return null}},Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},Il="__ $YJS$ __";Cl[Il]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");Cl[Il]=!0;var po=C(Dl(),1),Ts=C(ht(),1);var Ul=C(ht(),1);function Qp(t){return JSON.parse(JSON.stringify(t))}var fo;(t=>{function e(i={},o={},a=!1){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});let c=Qp(o);a||(c=Object.keys(c).reduce((u,l)=>((c[l]!==null||c[l]!==void 0)&&(u[l]=c[l]),u),{}));for(let u in i)i[u]!==void 0&&o[u]===void 0&&(c[u]=i[u]);return Object.keys(c).length>0?c:void 0}t.compose=e;function r(i={},o={}){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});let a=Object.keys(i).concat(Object.keys(o)).reduce((c,u)=>((0,Ul.default)(i[u],o[u])||(c[u]=o[u]===void 0?null:o[u]),c),{});return Object.keys(a).length>0?a:void 0}t.diff=r;function n(i={},o={}){i=i||{};let a=Object.keys(o).reduce((c,u)=>(o[u]!==i[u]&&i[u]!==void 0&&(c[u]=o[u]),c),{});return Object.keys(i).reduce((c,u)=>(i[u]!==o[u]&&o[u]===void 0&&(c[u]=null),c),a)}t.invert=n;function s(i,o,a=!1){if(typeof i!="object")return o;if(typeof o!="object")return;if(!a)return o;let c=Object.keys(o).reduce((u,l)=>(i[l]===void 0&&(u[l]=o[l]),u),{});return Object.keys(c).length>0?c:void 0}t.transform=s})(fo||(fo={}));var sr=fo;var ho;(t=>{function e(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}t.length=e})(ho||(ho={}));var Pe=ho;var Te=class{ops;index;offset;constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);let e=this.ops[this.index];if(e){let r=this.offset,n=Pe.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};let s={};return e.attributes&&(s.attributes=e.attributes),typeof e.retain=="number"?s.retain=t:typeof e.retain=="object"&&e.retain!==null?s.retain=e.retain:typeof e.insert=="string"?s.insert=e.insert.substr(r,t):s.insert=e.insert,s}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Pe.length(this.ops[this.index])-this.offset:1/0}peekType(){let t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index)}else return[];let t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}};function Xp(t){return JSON.parse(JSON.stringify(t))}var Zp="\0",Ol=(t,e)=>{if(typeof t!="object"||t===null)throw new Error(`cannot retain a ${typeof t}`);if(typeof e!="object"||e===null)throw new Error(`cannot retain a ${typeof e}`);let r=Object.keys(t)[0];if(!r||r!==Object.keys(e)[0])throw new Error(`embed types not matched: ${r} != ${Object.keys(e)[0]}`);return[r,t[r],e[r]]},eg=class we{static Op=Pe;static OpIterator=Te;static AttributeMap=sr;static handlers={};static registerEmbed(e,r){this.handlers[e]=r}static unregisterEmbed(e){delete this.handlers[e]}static getHandler(e){let r=this.handlers[e];if(!r)throw new Error(`no handlers for embed type "${e}"`);return r}ops;constructor(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}insert(e,r){let n={};return typeof e=="string"&&e.length===0?this:(n.insert=e,r!=null&&typeof r=="object"&&Object.keys(r).length>0&&(n.attributes=r),this.push(n))}delete(e){return e<=0?this:this.push({delete:e})}retain(e,r){if(typeof e=="number"&&e<=0)return this;let n={retain:e};return r!=null&&typeof r=="object"&&Object.keys(r).length>0&&(n.attributes=r),this.push(n)}push(e){let r=this.ops.length,n=this.ops[r-1];if(e=Xp(e),typeof n=="object"){if(typeof e.delete=="number"&&typeof n.delete=="number")return this.ops[r-1]={delete:n.delete+e.delete},this;if(typeof n.delete=="number"&&e.insert!==null&&e.insert!==void 0&&(r-=1,n=this.ops[r-1],typeof n!="object"))return this.ops.unshift(e),this;if((0,Ts.default)(e.attributes,n.attributes)){if(typeof e.insert=="string"&&typeof n.insert=="string")return this.ops[r-1]={insert:n.insert+e.insert},typeof e.attributes=="object"&&(this.ops[r-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof n.retain=="number")return this.ops[r-1]={retain:n.retain+e.retain},typeof e.attributes=="object"&&(this.ops[r-1].attributes=e.attributes),this}}return r===this.ops.length?this.ops.push(e):this.ops.splice(r,0,e),this}chop(){let e=this.ops[this.ops.length-1];return e&&typeof e.retain=="number"&&!e.attributes&&this.ops.pop(),this}filter(e){return this.ops.filter(e)}forEach(e){this.ops.forEach(e)}map(e){return this.ops.map(e)}partition(e){let r=[],n=[];return this.forEach(s=>{(e(s)?r:n).push(s)}),[r,n]}reduce(e,r){return this.ops.reduce(e,r)}changeLength(){return this.reduce((e,r)=>r.insert?e+Pe.length(r):r.delete?e-r.delete:e,0)}length(){return this.reduce((e,r)=>e+Pe.length(r),0)}slice(e=0,r=1/0){let n=[],s=new Te(this.ops),i=0;for(;i<r&&s.hasNext();){let o;i<e?o=s.next(e-i):(o=s.next(r-i),n.push(o)),i+=Pe.length(o)}return new we(n)}compose(e){let r=new Te(this.ops),n=new Te(e.ops),s=[],i=n.peek();if(i!=null&&typeof i.retain=="number"&&(i.attributes===null||i.attributes===void 0)){let a=i.retain;for(;r.peekType()==="insert"&&r.peekLength()<=a;)a-=r.peekLength(),s.push(r.next());i.retain-a>0&&n.next(i.retain-a)}let o=new we(s);for(;r.hasNext()||n.hasNext();)if(n.peekType()==="insert")o.push(n.next());else if(r.peekType()==="delete")o.push(r.next());else{let a=Math.min(r.peekLength(),n.peekLength()),c=r.next(a),u=n.next(a);if(u.retain){let l={};if(typeof c.retain=="number")l.retain=typeof u.retain=="number"?a:u.retain;else if(typeof u.retain=="number")c.retain===null||c.retain===void 0?l.insert=c.insert:l.retain=c.retain;else{let d=c.retain===null||c.retain===void 0?"insert":"retain",[p,m,E]=Ol(c[d],u.retain),_=we.getHandler(p);l[d]={[p]:_.compose(m,E,d==="retain")}}let f=sr.compose(c.attributes,u.attributes,typeof c.retain=="number");if(f&&(l.attributes=f),o.push(l),!n.hasNext()&&(0,Ts.default)(o.ops[o.ops.length-1],l)){let d=new we(r.rest());return o.concat(d).chop()}}else typeof u.delete=="number"&&(typeof c.retain=="number"||typeof c.retain=="object"&&c.retain!==null)&&o.push(u)}return o.chop()}concat(e){let r=new we(this.ops.slice());return e.ops.length>0&&(r.push(e.ops[0]),r.ops=r.ops.concat(e.ops.slice(1))),r}diff(e){if(this.ops===e.ops)return new we;let r=this.deltasToStrings(e),n=(0,po.diffChars)(r[0],r[1]),s=new Te(this.ops),i=new Te(e.ops);return this.convertChangesToDelta(n,s,i).chop()}eachLine(e,r=`
`){let n=new Te(this.ops),s=new we,i=0;for(;n.hasNext();){if(n.peekType()!=="insert")return;let o=n.peek(),a=Pe.length(o)-n.peekLength(),c=typeof o.insert=="string"?o.insert.indexOf(r,a)-a:-1;if(c<0)s.push(n.next());else if(c>0)s.push(n.next(c));else{if(e(s,n.next(1).attributes||{},i)===!1)return;i+=1,s=new we}}s.length()>0&&e(s,{},i)}invert(e){let r=new we;return this.reduce((n,s)=>{if(s.insert)r.delete(Pe.length(s));else{if(typeof s.retain=="number"&&(s.attributes===null||s.attributes===void 0))return r.retain(s.retain),n+s.retain;if(s.delete||typeof s.retain=="number"){let i=s.delete||s.retain;return e.slice(n,n+i).forEach(a=>{s.delete?r.push(a):s.retain&&s.attributes&&r.retain(Pe.length(a),sr.invert(s.attributes,a.attributes))}),n+i}else if(typeof s.retain=="object"&&s.retain!==null){let i=e.slice(n,n+1),o=new Te(i.ops).next(),[a,c,u]=Ol(s.retain,o.insert),l=we.getHandler(a);return r.retain({[a]:l.invert(c,u)},sr.invert(s.attributes,o.attributes)),n+1}}return n},0),r.chop()}transform(e,r=!1){if(r=!!r,typeof e=="number")return this.transformPosition(e,r);let n=e,s=new Te(this.ops),i=new Te(n.ops),o=new we;for(;s.hasNext()||i.hasNext();)if(s.peekType()==="insert"&&(r||i.peekType()!=="insert"))o.retain(Pe.length(s.next()));else if(i.peekType()==="insert")o.push(i.next());else{let a=Math.min(s.peekLength(),i.peekLength()),c=s.next(a),u=i.next(a);if(c.delete)continue;if(u.delete)o.push(u);else{let l=c.retain,f=u.retain,d=typeof f=="object"&&f!==null?f:a;if(typeof l=="object"&&l!==null&&typeof f=="object"&&f!==null){let p=Object.keys(l)[0];if(p===Object.keys(f)[0]){let m=we.getHandler(p);m&&(d={[p]:m.transform(l[p],f[p],r)})}}o.retain(d,sr.transform(c.attributes,u.attributes,r))}}return o.chop()}transformPosition(e,r=!1){r=!!r;let n=new Te(this.ops),s=0;for(;n.hasNext()&&s<=e;){let i=n.peekLength(),o=n.peekType();if(n.next(),o==="delete"){e-=Math.min(i,e-s);continue}else o==="insert"&&(s<e||!r)&&(e+=i);s+=i}return e}diffWithCursor(e,r){if(this.ops===e.ops)return new we;if(r===null)return this.diff(e);let n=this.deltasToStrings(e),s=(0,po.diffChars)(n[0],n[1]),i=0,o=[];for(let l=0;l<s.length;l++){let f=s[l],d=i,p=i+(f.count??0),m=r>d&&r<=p,E=!f.added&&!f.removed,_=f.removed&&!f.added,b=s[l+1],T=b&&b.added&&!b.removed;if(E&&m&&T){let U=this.tryMoveInsertionToCursor(f,b,r,d);if(U){o.push(...U),l++,i=p;continue}}if(_){let U=this.tryMoveDeletionToCursor(f,o,r,i);if(U){o.pop(),o.push(...U),i+=f.count??0;continue}}o.push(f),f.added||(i+=f.count??0)}s=o;let a=new Te(this.ops),c=new Te(e.ops);return this.convertChangesToDelta(s,a,c).chop()}tryMoveInsertionToCursor(e,r,n,s){let i=r.value,o=i.length,a=n-s-o;if(!(e.value.substring(a,a+i.length)===i))return null;let l=e.value.substring(0,a),f=e.value.substring(a),d=[];return l.length>0&&d.push({value:l,count:l.length,added:!1,removed:!1}),d.push(r),f.length>0&&d.push({value:f,count:f.length,added:!1,removed:!1}),d}tryMoveDeletionToCursor(e,r,n,s){let i=r[r.length-1];if(!i||i.added||i.removed)return null;let o=s-(i.count??0),a=s;if(n<o||n>=a)return null;let c=e.value,u=n-o;if(!(i.value.substring(u,u+c.length)===c))return null;let d=i.value.substring(0,u),p=i.value.substring(u),m=e.count??0,E=p.substring(m),_=[];return d.length>0&&_.push({value:d,count:d.length,added:!1,removed:!1}),_.push(e),E.length>0&&_.push({value:E,count:E.length,added:!1,removed:!1}),_}deltasToStrings(e){return[this,e].map(r=>r.map(n=>{if(n.insert!==null||n.insert!==void 0)return typeof n.insert=="string"?n.insert:Zp;let s=r===e?"on":"with";throw new Error("diff() called "+s+" non-document")}).join(""))}convertChangesToDelta(e,r,n){let s=new we;return e.forEach(i=>{let o=i.count??0;for(;o>0;){let a=0;if(i.added)a=Math.min(n.peekLength(),o),s.push(n.next(a));else if(i.removed)a=Math.min(o,r.peekLength()),r.next(a),s.delete(a);else{a=Math.min(r.peekLength(),n.peekLength(),o);let c=r.next(a),u=n.next(a);(0,Ts.default)(c.insert,u.insert)?s.retain(a,sr.diff(c.attributes,u.attributes)):s.push(u).delete(a)}o-=a}}),s}},Cs=eg;var kl=1,Lr="fromPersistence",ir="document",Is="documentMeta",Tn="savedAt",go="savedBy",Ll="state",Nl="version",or="gutenberg",As="syncManager",ar="_crdt_document",Ml=5e3;function mo(t={}){let e=new Map(Object.entries(t)),r=new lt({meta:e});return r.getMap(Ll).set(Nl,kl),r}function Pl(t){return JSON.stringify({document:dc(Or(t))})}function Vl(t){try{let{document:e}=JSON.parse(t),r={[Lr]:!0},n=mo(r),s=hc(e);return Ct(n,s),n.clientID=Math.floor(Math.random()*1e9),n}catch{return null}}function Bl(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:null}function yo(t){return Object.keys(t)}function jl(t,e,r){if(t.size!==e.size)return!1;for(let[n,s]of t.entries())if(!e.has(n)||!r(s,e.get(n)))return!1;return!0}function Fl(t){let e=t.meta?.[ar];return e?Vl(e):null}function Gl(t){return{[ar]:Pl(t)}}var Hl=C($l(),1),Nr=null;function tg(){return[]}function rg(t){return typeof t=="function"}function zl(){if(Nr)return Nr;let t=(0,Hl.applyFilters)("sync.providers",tg());return Array.isArray(t)?(Nr=t.filter(rg),Nr):(Nr=[],Nr)}var Kl=(t,e)=>{let r=e==="undo"?t.undoStack:t.redoStack;for(;r.length>0;){let n=r.pop(),s=e==="undo"?n.undoStack:n.redoStack,i=s.pop(),o=!1;if(e==="undo"?(n.undoStack=[i],o=n.undo()!==null,n.undoStack=s):(n.redoStack=[i],o=n.redo()!==null,n.redoStack=s),o)return i}return null},ql=class extends Ye{constructor(t=[],e={}){super(),this.docs=new Map,this.trackedOrigins=e.trackedOrigins||new Set([null]),e.trackedOrigins=this.trackedOrigins,this._defaultOpts=e,this.undoStack=[],this.redoStack=[],this.addToScope(t)}addToScope(t){t=jt(t)?t:[t],t.forEach(e=>{let r=e.doc,n=ae(this.docs,r,()=>{let s=new Qt([e],this._defaultOpts);return s.on("stack-cleared",({undoStackCleared:i,redoStackCleared:o})=>{this.clear(i,o)}),r.on("destroy",()=>{this.docs.delete(r),this.undoStack=this.undoStack.filter(i=>i.doc!==r),this.redoStack=this.redoStack.filter(i=>i.doc!==r)}),s.on("stack-item-added",i=>{(i.type==="undo"?this.undoStack:this.redoStack).push(s),this.emit("stack-item-added",[{...i,ydoc:r},this])}),s.on("stack-item-updated",i=>{this.emit("stack-item-updated",[{...i,ydoc:r},this])}),s.on("stack-item-popped",i=>{this.emit("stack-item-popped",[{...i,ydoc:r},this])}),s});n.scope.every(s=>s!==e)&&n.scope.push(e)})}addTrackedOrigin(t){this.trackedOrigins.add(t)}removeTrackedOrigin(t){this.trackedOrigins.delete(t)}undo(){return Kl(this,"undo")}redo(){return Kl(this,"redo")}clear(t=!0,e=!0){(t&&this.canUndo()||e&&this.canRedo())&&(this.docs.forEach(r=>{t&&(this.undoStack=[]),e&&(this.redoStack=[]),r.clear(t,e)}),this.emit("stack-cleared",[{undoStackCleared:t,redoStackCleared:e}]))}stopCapturing(){this.docs.forEach(t=>{t.stopCapturing()})}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.docs.forEach(t=>t.destroy()),super.destroy()}};function Wl(){let t=new ql([],{captureTimeout:200,trackedOrigins:new Set([or])});return{addRecord(e,r=!1){},addToScope(e){t.addToScope(e)},undo(){if(t.canUndo())return t.undo(),[]},redo(){if(t.canRedo())return t.redo(),[]},hasUndo(){return t.canUndo()},hasRedo(){return t.canRedo()}}}var Eo=3e4,Ds=class extends Ye{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{let r=_t();this.getLocalState()!==null&&Eo/2<=r-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());let n=[];this.meta.forEach((s,i)=>{i!==this.clientID&&Eo<=r-s.lastUpdated&&this.states.has(i)&&n.push(i)}),n.length>0&&ng(this,n,"timeout")},be(Eo/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){let r=this.clientID,n=this.meta.get(r),s=n===void 0?0:n.clock+1,i=this.states.get(r);e===null?this.states.delete(r):this.states.set(r,e),this.meta.set(r,{clock:s,lastUpdated:_t()});let o=[],a=[],c=[],u=[];e===null?u.push(r):i==null?e!=null&&o.push(r):(a.push(r),en(i,e)||c.push(r)),(o.length>0||c.length>0||u.length>0)&&this.emit("change",[{added:o,updated:c,removed:u},"local"]),this.emit("update",[{added:o,updated:a,removed:u},"local"])}setLocalStateField(e,r){let n=this.getLocalState();n!==null&&this.setLocalState({...n,[e]:r})}getStates(){return this.states}},ng=(t,e,r)=>{let n=[];for(let s=0;s<e.length;s++){let i=e[s];if(t.states.has(i)){if(t.states.delete(i),i===t.clientID){let o=t.meta.get(i);t.meta.set(i,{clock:o.clock+1,lastUpdated:_t()})}n.push(i)}}n.length>0&&(t.emit("change",[{added:[],updated:[],removed:n},r]),t.emit("update",[{added:[],updated:[],removed:n},r]))};var Jl=class extends Ds{getStates(){return super.getStates()}getLocalStateField(t){let e=this.getLocalState();return Bl(e,t)}setLocalStateField(t,e){super.setLocalStateField(t,e)}};var sg=class extends Jl{setLocalStateField(t,e){this.isFieldEqual(t,e,this.getLocalStateField(t)??void 0)||super.setLocalStateField(t,e)}isFieldEqual(t,e,r){if(["clientId","isConnected","isMe"].includes(t))return e===r;if(t in this.equalityFieldChecks){let n=this.equalityFieldChecks[t];return n(e,r)}throw new Error(`No equality check implemented for awareness state field "${t.toString()}".`)}isStateEqual(t,e){return[...new Set([...yo(t),...yo(e)])].every(r=>{let n=t[r],s=e[r];return this.isFieldEqual(r,n,s)})}},Ql=class extends sg{disconnectedUsers=new Set;seenStates=new Map;previousSnapshot=new Map;stateSubscriptions=[];myThrottledState={};setUp(){this.on("change",({added:t,removed:e,updated:r})=>{[...t,...r].forEach(n=>{this.disconnectedUsers.delete(n)}),e.forEach(n=>{this.disconnectedUsers.add(n),setTimeout(()=>{this.disconnectedUsers.delete(n),this.updateSubscribers(!0)},Ml)}),this.updateSubscribers()})}getSeenStates(){return this.seenStates}onStateChange(t){return this.stateSubscriptions.push(t),()=>{this.stateSubscriptions=this.stateSubscriptions.filter(e=>e!==t)}}setConnectionStatus(t){t?this.disconnectedUsers.delete(this.clientID):this.disconnectedUsers.add(this.clientID),this.updateSubscribers(!0)}updateSubscribers(t=!1){if(!this.stateSubscriptions.length)return;let e=this.getStates();this.seenStates=new Map([...this.seenStates.entries(),...e.entries()]);let r=new Map([...this.disconnectedUsers,...e.keys()].map(n=>{let s=this.seenStates.get(n),i=!this.disconnectedUsers.has(n),o=n===this.clientID,a=o?this.myThrottledState:{},c={...s,...a,clientId:n,isConnected:i,isMe:o};return[n,c]}));!t&&jl(this.previousSnapshot,r,this.isStateEqual.bind(this))||(this.previousSnapshot=r,this.stateSubscriptions.forEach(n=>{n(Array.from(r.values()))}))}};var Xl=class extends Ql{equalityFieldChecks={}};var ig=new Map;function og(t,e){return`${t}:${e}`}async function Zl(t,e,r){if(e&&t.startsWith("postType/")){let n=new Xl(r);return n.setUp(),ig.set(og(t,e),n),n}}function wo(){let t=new Map,e;async function r(u,l,f,d,p){let m=zl();if(m.length===0)return;let E=s(l,f);if(t.has(E))return;let _=mo({objectType:l}),b=_.getMap(ir),T=_.getMap(Is),U=Date.now(),D=()=>{K.forEach(ie=>ie.destroy()),b.unobserveDeep(j),_.destroy(),t.delete(E)},j=(ie,oe)=>{oe.local&&!(oe.origin instanceof Qt)||a(l,f)},he=(ie,oe)=>{oe.local||ie.keysChanged.forEach(ur=>{if(ur===Tn){let Bn=T.get(Tn);typeof Bn=="number"&&Bn>U&&p.refetchRecord().catch(()=>{})}})};e||(e=Wl()),e.addToScope(b);let Ut={handlers:p,objectId:f,objectType:l,syncConfig:u,unload:D,ydoc:_};t.set(E,Ut);let De=await Zl(l,f,_),K=await Promise.all(m.map(ie=>ie(l,f,_,De)));b.observeDeep(j),T.observe(he),i(l,f,d)}function n(u,l){t.get(s(u,l))?.unload()}function s(u,l){return`${u}_${l}`}function i(u,l,f){let d=s(u,l),p=t.get(d);if(!p)return;let{handlers:m,syncConfig:{applyChangesToCRDTDoc:E,getChangesFromCRDTDoc:_,supports:b},ydoc:T}=p;T.transact(()=>{if(!b?.crdtPersistence){E(T,f);return}let U=Fl(f);if(!U){E(T,f),m.saveRecord();return}let D=Or(U);Ct(T,D);let j=_(U,f),he=Object.keys(j);if(U.destroy(),he.length===0)return;let Ut=he.reduce((De,K)=>Object.assign(De,{[K]:f[K]}),{});E(T,Ut),m.saveRecord()},As)}function o(u,l,f,d,p=!1){let m=s(u,l),E=t.get(m);if(!E)return;let{syncConfig:_,ydoc:b}=E;b.transact(()=>{if(_.applyChangesToCRDTDoc(b,f),p){let T=b.getMap(Is);T.set(Tn,Date.now()),T.set(go,b.clientID)}},d)}async function a(u,l){let f=s(u,l),d=t.get(f);if(!d)return;let{handlers:p,syncConfig:m,ydoc:E}=d,_=m.getChangesFromCRDTDoc(E,await p.getEditedRecord());Object.keys(_).length!==0&&p.editRecord(_)}function c(u,l){let f=s(u,l),d=t.get(f);return d?.syncConfig.supports?.crdtPersistence?Gl(d.ydoc):{}}return{createMeta:c,load:r,get undoManager(){return e},unload:n,update:o}}var Us;function ft(){return Us||(Us=wo(),Us)}var uu=C(ht(),1),fu=C(Wr(),1);var Os,ag=new Uint8Array(16);function vo(){if(!Os&&(Os=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Os))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Os(ag)}var le=[];for(let t=0;t<256;++t)le.push((t+256).toString(16).slice(1));function eu(t,e=0){return le[t[e+0]]+le[t[e+1]]+le[t[e+2]]+le[t[e+3]]+"-"+le[t[e+4]]+le[t[e+5]]+"-"+le[t[e+6]]+le[t[e+7]]+"-"+le[t[e+8]]+le[t[e+9]]+"-"+le[t[e+10]]+le[t[e+11]]+le[t[e+12]]+le[t[e+13]]+le[t[e+14]]+le[t[e+15]]}var cg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_o={randomUUID:cg};function lg(t,e,r){if(_o.randomUUID&&!e&&!t)return _o.randomUUID();t=t||{};let n=t.random||(t.rng||vo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=n[s];return e}return eu(n)}var Cn=lg;var Ns=C(ht(),1),nu=C(Wr(),1),su=C(bo(),1);function So(t,e){return t.getMap(e)}function ks(t={}){return new ee.Map(Object.entries(t))}function ru(t){return t instanceof ee.Map}var xo=new WeakMap;function ug(t){let e={...t};for(let[r,n]of Object.entries(t))n instanceof su.RichTextData&&(e[r]=n.valueOf());return e}function iu(t){return t.map(e=>{let{name:r,innerBlocks:n,attributes:s,...i}=e;return delete i.validationIssues,{...i,name:r,attributes:ug(s),innerBlocks:iu(n)}})}function To(t,e){let r=e.toJSON(),n={innerBlocks:null,clientId:null},s=(0,Ns.default)(Object.assign({},t,n),Object.assign({},r,n)),i=t.innerBlocks||[],o=e.get("innerBlocks");return s&&i.length===o?.length&&i.every((a,c)=>To(a,o.get(c)))}function ou(t,e){return new ee.Map(Object.entries(e).map(([r,n])=>[r,au(t,r,n)]))}function au(t,e,r){return lu(t,e)?new ee.Text(r?.toString()??""):r}function cu(t){return ks(Object.fromEntries(Object.entries(t).map(([e,r])=>{switch(e){case"attributes":return[e,ou(t.name,r)];case"innerBlocks":{let n=new ee.Array;return Array.isArray(r)?(n.insert(0,r.map(s=>cu(s))),[e,n]):[e,n]}default:return[e,r]}})))}function Co(t,e,r){xo.has(e)||xo.set(e,iu(e));let s=(xo.get(e)??[]).filter(d=>fg(d)),i=Math.min(s.length??0,t.length),o=0,a=0;for(;o<i&&To(s[o],t.get(o));o++);for(;a<i-o&&To(s[s.length-a-1],t.get(t.length-a-1));a++);let c=i-o-a,u=Math.max(0,s.length-t.length),l=Math.max(0,t.length-s.length);for(let d=0;d<c;d++,o++){let p=s[o],m=t.get(o);Object.entries(p).forEach(([E,_])=>{switch(E){case"attributes":{let b=m.get(E);if(!b){m.set(E,ou(p.name,_));break}Object.entries(_).forEach(([T,U])=>{if((0,Ns.default)(b?.get(T),U))return;let D=b.get(T);lu(p.name,T)&&typeof U=="string"&&b.has(T)&&D instanceof ee.Text?dg(D,U,r):b.set(T,au(p.name,T,U))}),b.forEach((T,U)=>{_.hasOwnProperty(U)||b.delete(U)});break}case"innerBlocks":{let b=m.get(E);b instanceof ee.Array||(b=new ee.Array,m.set(E,b)),Co(b,_??[],r);break}default:(0,Ns.default)(p[E],m.get(E))||m.set(E,_)}}),m.forEach((E,_)=>{p.hasOwnProperty(_)||m.delete(_)})}t.delete(o,l);for(let d=0;d<u;d++,o++){let p=[cu(s[o])];t.insert(o,p)}let f=new Set;for(let d=0;d<t.length;d++){let p=t.get(d),m=p.get("clientId");m&&(f.has(m)&&(m=Cn(),p.set("clientId",m)),f.add(m))}}function fg(t){return t.name==="core/gallery"?!t.innerBlocks.some(e=>e.attributes&&e.attributes.blob):!0}var Ls;function lu(t,e){if(!Ls){Ls=new Map;for(let r of(0,nu.getBlockTypes)()){let n=new Map;for(let[s,i]of Object.entries(r.attributes??{}))i.type==="rich-text"&&n.set(s,!0);Ls.set(r.name,n)}}return Ls.get(t)?.has(e)??!1}var Ro;function dg(t,e,r){Ro||(Ro=new ee.Doc);let n=Ro.getText("temporary-text");n.delete(0,n.length),n.insert(0,e);let s=new Cs(t.toDelta()),i=new Cs(n.toDelta()),o=s.diffWithCursor(i,r);t.applyDelta(o.ops)}var du=new Set(["author","blocks","comment_status","date","excerpt","featured_media","format","meta","ping_status","slug","status","sticky","tags","template","title"]),hu=new Set([ar]);function pu(t,e,r){let n=So(t,ir);Object.keys(e).forEach(s=>{if(!du.has(s))return;let i=e[s];if(typeof i!="function")switch(s){case"blocks":{let o=n.get(s);o instanceof ee.Array||(o=new ee.Array,n.set(s,o));let a=i??[],c=e.selection?.selectionStart?.offset??null;Co(o,a,c);break}case"excerpt":{let o=n.get("excerpt"),a=Io(i);In(n,s,o,a);break}case"meta":{let o=n.get("meta");ru(o)||(o=ks(),n.set("meta",o)),Object.entries(i??{}).forEach(([a,c])=>{hu.has(a)||In(o,a,o.get(a),c)});break}case"slug":{if(!i)break;let o=n.get(s);In(n,s,o,i);break}case"title":{let o=n.get(s),a=Io(i);!o&&a==="Auto Draft"&&(a=""),In(n,s,o,a);break}default:{let o=n.get(s);In(n,s,o,i)}}})}function gu(t,e,r){let n=So(t,ir),s={},i=Object.fromEntries(Object.entries(n.toJSON()).filter(([o,a])=>{if(!du.has(o))return!1;let c=e[o];switch(o){case"blocks":{if(t.meta?.get(Lr)&&e.content){let u=n.get("blocks");return(0,fu.__unstableSerializeAndClean)(u.toJSON()).trim()!==e.content.raw.trim()}return!0}case"date":return["draft","auto-draft","pending"].includes(n.get("status"))&&(c===null||e.modified===c)?!1:Mr(c,a);case"meta":{s=Object.fromEntries(Object.entries(a??{}).filter(([l])=>!hu.has(l)));let u={...c,...s};return Mr(c,u)}case"status":return a==="auto-draft"?!1:Mr(c,a);case"excerpt":case"title":return Mr(Io(c),a);default:return Mr(c,a)}}));return typeof i.meta=="object"&&(i.meta={...e.meta,...s}),i}function Io(t){if(typeof t=="string")return t;if(t&&typeof t=="object"&&"raw"in t&&typeof t.raw=="string")return t.raw}function Mr(t,e){return!(0,uu.default)(t,e)}function In(t,e,r,n){if(n===void 0){t.delete(e);return}Mr(r,n)&&t.set(e,n)}var J="id",hg=["title","excerpt","content"],pg={blocks:{read:t=>(0,Ps.parse)(t.content?.raw??""),write:t=>({content:(0,Ps.__unstableSerializeAndClean)(t.blocks)})}},Vs=[{label:(0,W.__)("Base"),kind:"root",key:!1,name:"__unstableBase",baseURL:"/",baseURLParams:{_fields:["description","gmt_offset","home","name","site_icon","site_icon_url","site_logo","timezone_string","url","page_for_posts","page_on_front","show_on_front"].join(",")},plural:"__unstableBases"},{label:(0,W.__)("Post Type"),name:"postType",kind:"root",key:"slug",baseURL:"/wp/v2/types",baseURLParams:{context:"edit"},plural:"postTypes"},{name:"media",kind:"root",baseURL:"/wp/v2/media",baseURLParams:{context:"edit"},plural:"mediaItems",label:(0,W.__)("Media"),rawAttributes:["caption","title","description"],supportsPagination:!0},{name:"taxonomy",kind:"root",key:"slug",baseURL:"/wp/v2/taxonomies",baseURLParams:{context:"edit"},plural:"taxonomies",label:(0,W.__)("Taxonomy")},{name:"sidebar",kind:"root",baseURL:"/wp/v2/sidebars",baseURLParams:{context:"edit"},plural:"sidebars",transientEdits:{blocks:!0},label:(0,W.__)("Widget areas")},{name:"widget",kind:"root",baseURL:"/wp/v2/widgets",baseURLParams:{context:"edit"},plural:"widgets",transientEdits:{blocks:!0},label:(0,W.__)("Widgets")},{name:"widgetType",kind:"root",baseURL:"/wp/v2/widget-types",baseURLParams:{context:"edit"},plural:"widgetTypes",label:(0,W.__)("Widget types")},{label:(0,W.__)("User"),name:"user",kind:"root",baseURL:"/wp/v2/users",getTitle:t=>t?.name||t?.slug,baseURLParams:{context:"edit"},plural:"users",supportsPagination:!0},{name:"comment",kind:"root",baseURL:"/wp/v2/comments",baseURLParams:{context:"edit"},plural:"comments",label:(0,W.__)("Comment"),supportsPagination:!0},{name:"menu",kind:"root",baseURL:"/wp/v2/menus",baseURLParams:{context:"edit"},plural:"menus",label:(0,W.__)("Menu"),supportsPagination:!0},{name:"menuItem",kind:"root",baseURL:"/wp/v2/menu-items",baseURLParams:{context:"edit"},plural:"menuItems",label:(0,W.__)("Menu Item"),rawAttributes:["title"],supportsPagination:!0},{name:"menuLocation",kind:"root",baseURL:"/wp/v2/menu-locations",baseURLParams:{context:"edit"},plural:"menuLocations",label:(0,W.__)("Menu Location"),key:"name"},{label:(0,W.__)("Global Styles"),name:"globalStyles",kind:"root",baseURL:"/wp/v2/global-styles",baseURLParams:{context:"edit"},plural:"globalStylesVariations",getTitle:()=>(0,W.__)("Custom Styles"),getRevisionsUrl:(t,e)=>`/wp/v2/global-styles/${t}/revisions${e?"/"+e:""}`,supportsPagination:!0},{label:(0,W.__)("Themes"),name:"theme",kind:"root",baseURL:"/wp/v2/themes",baseURLParams:{context:"edit"},plural:"themes",key:"stylesheet"},{label:(0,W.__)("Plugins"),name:"plugin",kind:"root",baseURL:"/wp/v2/plugins",baseURLParams:{context:"edit"},plural:"plugins",key:"plugin"},{label:(0,W.__)("Status"),name:"status",kind:"root",baseURL:"/wp/v2/statuses",baseURLParams:{context:"edit"},plural:"statuses",key:"slug"},{label:(0,W.__)("Registered Templates"),name:"registeredTemplate",kind:"root",baseURL:"/wp/v2/registered-templates",key:"id"},{label:(0,W.__)("Font Collections"),name:"fontCollection",kind:"root",baseURL:"/wp/v2/font-collections",baseURLParams:{context:"view"},plural:"fontCollections",key:"slug"}],mu={root:{media:{since:"6.9",alternative:{kind:"postType",name:"attachment"}}}},Bs=[{kind:"postType",loadEntities:mg},{kind:"taxonomy",loadEntities:yg},{kind:"root",name:"site",plural:"sites",loadEntities:Eg}],gg=(t,e,r,n)=>{let s={};if(!n&&t?.status==="auto-draft"&&(!e.status&&!s.status&&(s.status="draft"),(!e.title||e.title==="Auto Draft")&&!s.title&&(!t?.title||t?.title==="Auto Draft")&&(s.title="")),t){let i=`postType/${r}`,o=t.id,a=ft()?.createMeta(i,o);s.meta={...e.meta,...a}}return s};async function mg(){let t=await(0,Ms.default)({path:"/wp/v2/types?context=view"});return Object.entries(t??{}).map(([e,r])=>{let n=["wp_template","wp_template_part"].includes(e),s=r?.rest_namespace??"wp/v2",i={kind:"postType",baseURL:`/${s}/${r.rest_base}`,baseURLParams:{context:"edit"},name:e,label:r.name,transientEdits:{...pg,selection:!0},mergedEdits:{meta:!0},rawAttributes:hg,getTitle:o=>o?.title?.rendered||o?.title||(n?Va(o.slug??""):String(o.id)),__unstablePrePersist:(o,a)=>gg(o,a,e,n),__unstable_rest_base:r.rest_base,supportsPagination:!0,getRevisionsUrl:(o,a)=>`/${s}/${r.rest_base}/${o}/revisions${a?"/"+a:""}`,revisionKey:n&&!window?.__experimentalTemplateActivate?"wp_id":J};return i.syncConfig={applyChangesToCRDTDoc:(o,a)=>pu(o,a,r),getChangesFromCRDTDoc:(o,a)=>gu(o,a,r),supports:{crdtPersistence:!0}},i})}async function yg(){let t=await(0,Ms.default)({path:"/wp/v2/taxonomies?context=view"});return Object.entries(t??{}).map(([e,r])=>({kind:"taxonomy",baseURL:`/${r?.rest_namespace??"wp/v2"}/${r.rest_base}`,baseURLParams:{context:"edit"},name:e,label:r.name,getTitle:s=>s?.name,supportsPagination:!0}))}async function Eg(){let t={label:(0,W.__)("Site"),name:"site",kind:"root",key:!1,baseURL:"/wp/v2/settings",meta:{}},e=await(0,Ms.default)({path:t.baseURL,method:"OPTIONS"}),r={};return Object.entries(e?.schema?.properties??{}).forEach(([n,s])=>{typeof s=="object"&&s.title&&(r[n]=s.title)}),[{...t,meta:{labels:r}}]}var cr=(t,e,r="get")=>{let n=t==="root"?"":qr(t),s=qr(e);return`${r}${n}${s}`};function wu(t){let{query:e}=t;return e?mt(e).context:"default"}function wg(t,e,r,n){if(r===1&&n===-1)return e;let i=(r-1)*n,o=Math.max(t?.length??0,i+e.length),a=new Array(o);for(let c=0;c<o;c++){let u=c>=i&&c<i+n;a[c]=u?e[c-i]:t?.[c]}return a}function vu(t,e){return Object.fromEntries(Object.entries(t).filter(([r])=>!e.some(n=>Number.isInteger(n)?n===+r:n===r)))}function vg(t={},e){switch(e.type){case"RECEIVE_ITEMS":{let r=wu(e),n=e.key||J;return{...t,[r]:{...t[r],...e.items.reduce((s,i)=>{let o=i?.[n];return s[o]=ai(t?.[r]?.[o],i),s},{})}}}case"REMOVE_ITEMS":return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,vu(n,e.itemIds)]))}return t}function _g(t={},e){switch(e.type){case"RECEIVE_ITEMS":{let r=wu(e),{query:n,key:s=J}=e,i=n?mt(n):{},o=!n||!Array.isArray(i.fields);return{...t,[r]:{...t[r],...e.items.reduce((a,c)=>{let u=c?.[s];return a[u]=t?.[r]?.[u]||o,a},{})}}}case"REMOVE_ITEMS":return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,vu(n,e.itemIds)]))}return t}var bg=(0,Eu.compose)([Yr(t=>"query"in t),$r(t=>t.query?{...t,...mt(t.query)}:t),Hn("context"),Hn("stableKey")])((t={},e)=>{let{type:r,page:n,perPage:s,key:i=J}=e;return r!=="RECEIVE_ITEMS"?t:{itemIds:wg(t?.itemIds||[],e.items.map(o=>o?.[i]).filter(Boolean),n,s),meta:e.meta}}),Sg=(t={},e)=>{switch(e.type){case"RECEIVE_ITEMS":return bg(t,e);case"REMOVE_ITEMS":let r=e.itemIds.reduce((n,s)=>(n[s]=!0,n),{});return Object.fromEntries(Object.entries(t).map(([n,s])=>[n,Object.fromEntries(Object.entries(s).map(([i,o])=>[i,{...o,itemIds:o.itemIds.filter(a=>!r[a])}]))]));default:return t}},js=(0,yu.combineReducers)({items:vg,itemIsComplete:_g,queries:Sg});function xg(t={byId:{},queries:{}},e){return e.type==="RECEIVE_USER_QUERY"?{byId:{...t.byId,...e.users.reduce((r,n)=>({...r,[n.id]:n}),{})},queries:{...t.queries,[e.queryID]:e.users.map(r=>r.id)}}:t}function Rg(t={},e){return e.type==="RECEIVE_CURRENT_USER"?e.currentUser:t}function Tg(t=void 0,e){return e.type==="RECEIVE_CURRENT_THEME"?e.currentTheme.stylesheet:t}function Cg(t=void 0,e){return e.type==="RECEIVE_CURRENT_GLOBAL_STYLES_ID"?e.id:t}function Ig(t={},e){return e.type==="RECEIVE_THEME_GLOBAL_STYLES"?{...t,[e.stylesheet]:e.globalStyles}:t}function Ag(t={},e){return e.type==="RECEIVE_THEME_GLOBAL_STYLE_VARIATIONS"?{...t,[e.stylesheet]:e.variations}:t}var Dg=t=>(e,r)=>{if(r.type==="UNDO"||r.type==="REDO"){let{record:n}=r,s=e;return n.forEach(({id:{kind:i,name:o,recordId:a},changes:c})=>{s=t(s,{type:"EDIT_ENTITY_RECORD",kind:i,name:o,recordId:a,edits:Object.entries(c).reduce((u,[l,f])=>(u[l]=r.type==="UNDO"?f.from:f.to,u),{})})}),s}return t(e,r)};function Ug(t){return(0,_u.compose)([Dg,Yr(e=>e.name&&e.kind&&e.name===t.name&&e.kind===t.kind),$r(e=>({key:t.key||J,...e}))])((0,An.combineReducers)({queriedData:js,edits:(e={},r)=>{switch(r.type){case"RECEIVE_ITEMS":if((r?.query?.context??"default")!=="default")return e;let s={...e};for(let o of r.items){let a=o?.[r.key],c=s[a];if(!c)continue;let u=Object.keys(c).reduce((l,f)=>(!(0,Ao.default)(c[f],o[f]?.raw??o[f])&&(!r.persistedEdits||!(0,Ao.default)(c[f],r.persistedEdits[f]))&&(l[f]=c[f]),l),{});Object.keys(u).length?s[a]=u:delete s[a]}return s;case"EDIT_ENTITY_RECORD":let i={...e[r.recordId],...r.edits};return Object.keys(i).forEach(o=>{i[o]===void 0&&delete i[o]}),{...e,[r.recordId]:i}}return e},saving:(e={},r)=>{switch(r.type){case"SAVE_ENTITY_RECORD_START":case"SAVE_ENTITY_RECORD_FINISH":return{...e,[r.recordId]:{pending:r.type==="SAVE_ENTITY_RECORD_START",error:r.error,isAutosave:r.isAutosave}}}return e},deleting:(e={},r)=>{switch(r.type){case"DELETE_ENTITY_RECORD_START":case"DELETE_ENTITY_RECORD_FINISH":return{...e,[r.recordId]:{pending:r.type==="DELETE_ENTITY_RECORD_START",error:r.error}}}return e},revisions:(e={},r)=>{if(r.type==="RECEIVE_ITEM_REVISIONS"){let n=r.recordKey;delete r.recordKey;let s=js(e[n],{...r,type:"RECEIVE_ITEMS"});return{...e,[n]:s}}return r.type==="REMOVE_ITEMS"?Object.fromEntries(Object.entries(e).filter(([n])=>!r.itemIds.some(s=>Number.isInteger(s)?s===+n:s===n))):e}}))}function Og(t=Vs,e){return e.type==="ADD_ENTITIES"?[...t,...e.entities]:t}var kg=(t={},e)=>{let r=Og(t.config,e),n=t.reducer;if(!n||r!==t.config){let i=r.reduce((o,a)=>{let{kind:c}=a;return o[c]||(o[c]=[]),o[c].push(a),o},{});n=(0,An.combineReducers)(Object.fromEntries(Object.entries(i).map(([o,a])=>{let c=(0,An.combineReducers)(Object.fromEntries(a.map(u=>[u.name,Ug(u)])));return[o,c]})))}let s=n(t.records,e);return s===t.records&&r===t.config&&n===t.reducer?t:{reducer:n,records:s,config:r}};function Lg(t=(0,bu.createUndoManager)()){return t}function Ng(t={},e){switch(e.type){case"EDIT_ENTITY_RECORD":case"UNDO":case"REDO":return{}}return t}function Mg(t={},e){if(e.type==="RECEIVE_EMBED_PREVIEW"){let{url:r,preview:n}=e;return{...t,[r]:n}}return t}function Pg(t={},e){switch(e.type){case"RECEIVE_USER_PERMISSION":return{...t,[e.key]:e.isAllowed};case"RECEIVE_USER_PERMISSIONS":return{...t,...e.permissions}}return t}function Vg(t={},e){if(e.type==="RECEIVE_AUTOSAVES"){let{postId:r,autosaves:n}=e;return{...t,[r]:n}}return t}function Bg(t=[],e){return e.type==="RECEIVE_BLOCK_PATTERNS"?e.patterns:t}function jg(t=[],e){return e.type==="RECEIVE_BLOCK_PATTERN_CATEGORIES"?e.categories:t}function Fg(t=[],e){return e.type==="RECEIVE_USER_PATTERN_CATEGORIES"?e.patternCategories:t}function Gg(t=null,e){return e.type==="RECEIVE_NAVIGATION_FALLBACK_ID"?e.fallbackId:t}function Yg(t={},e){return e.type==="RECEIVE_THEME_GLOBAL_STYLE_REVISIONS"?{...t,[e.currentId]:e.revisions}:t}function $g(t={},e){return e.type==="RECEIVE_DEFAULT_TEMPLATE"?{...t,[JSON.stringify(e.query)]:e.templateId}:t}function Hg(t={},e){return e.type==="RECEIVE_REGISTERED_POST_META"?{...t,[e.postType]:e.registeredPostMeta}:t}function zg(t=null,e){return e.type==="RECEIVE_EDITOR_SETTINGS"?e.settings:t}function Kg(t=null,e){return e.type==="RECEIVE_EDITOR_ASSETS"?e.assets:t}var Su=(0,An.combineReducers)({users:xg,currentTheme:Tg,currentGlobalStylesId:Cg,currentUser:Rg,themeGlobalStyleVariations:Ag,themeBaseGlobalStyles:Ig,themeGlobalStyleRevisions:Yg,entities:kg,editsReference:Ng,undoManager:Lg,embedPreviews:Mg,userPermissions:Pg,autosaves:Vg,blockPatterns:Bg,blockPatternCategories:jg,userPatternCategories:Fg,navigationFallbackId:Gg,defaultTemplates:$g,registeredPostMeta:Hg,editorSettings:zg,editorAssets:Kg});var Mo={};Nt(Mo,{__experimentalGetCurrentGlobalStylesId:()=>Vu,__experimentalGetCurrentThemeBaseGlobalStyles:()=>Om,__experimentalGetCurrentThemeGlobalStylesVariations:()=>km,__experimentalGetDirtyEntityRecords:()=>pm,__experimentalGetEntitiesBeingSaved:()=>gm,__experimentalGetEntityRecordNoResolver:()=>um,canUser:()=>Bu,canUserEditEntityRecord:()=>Cm,getAuthors:()=>im,getAutosave:()=>Am,getAutosaves:()=>Im,getBlockPatternCategories:()=>Nm,getBlockPatterns:()=>Lm,getCurrentTheme:()=>Ys,getCurrentThemeGlobalStylesRevisions:()=>Pm,getCurrentUser:()=>om,getDefaultTemplateId:()=>Oo,getEditedEntityRecord:()=>Lo,getEmbedPreview:()=>Rm,getEntitiesByKind:()=>am,getEntitiesConfig:()=>Lu,getEntity:()=>cm,getEntityConfig:()=>Pr,getEntityRecord:()=>Fe,getEntityRecordEdits:()=>ko,getEntityRecordNonTransientEdits:()=>Mu,getEntityRecords:()=>Gs,getEntityRecordsTotalItems:()=>dm,getEntityRecordsTotalPages:()=>hm,getLastEntityDeleteError:()=>wm,getLastEntitySaveError:()=>Em,getRawEntityRecord:()=>Nu,getRedoEdit:()=>_m,getReferenceByDistinctEdits:()=>Um,getRevision:()=>Bm,getRevisions:()=>Vm,getThemeSupports:()=>xm,getUndoEdit:()=>vm,getUserPatternCategories:()=>Mm,getUserQueryResults:()=>ku,hasEditsForEntityRecord:()=>Pu,hasEntityRecord:()=>lm,hasEntityRecords:()=>fm,hasFetchedAutosaves:()=>Dm,hasRedo:()=>Sm,hasUndo:()=>bm,isAutosavingEntityRecord:()=>mm,isDeletingEntityRecord:()=>ym,isPreviewEmbedFallback:()=>Tm,isRequestingEmbedPreview:()=>sm,isSavingEntityRecord:()=>No});var Ae=C(Oe(),1),Ou=C(gt(),1),It=C(lr(),1);var P="core";var Uo={};Nt(Uo,{getBlockPatternsForPostType:()=>Wg,getEditorAssets:()=>rm,getEditorSettings:()=>tm,getEntityRecordPermissions:()=>Jg,getEntityRecordsPermissions:()=>Du,getHomePage:()=>Xg,getNavigationFallbackId:()=>qg,getPostsPageId:()=>Zg,getRegisteredPostMeta:()=>Qg,getTemplateId:()=>em,getUndoManager:()=>Fs});var Xe=C(Oe(),1);var Cu=C(Tu(),1),{lock:Iu,unlock:Qe}=(0,Cu.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I acknowledge private features are not for use in themes or plugins and doing so will break in the next version of WordPress.","@wordpress/core-data");var Au=C(lr(),1);var Do=!1;function V(t,e,r,{alternativeFunctionName:n,isShorthandSelector:s=!1}={}){let i=mu[t]?.[e];if(i){if(!Do){let{alternative:o}=i,a=s?`'${r}'`:`The '${t}', '${e}' entity (used via '${r}')`,c=`the '${o.kind}', '${o.name}' entity`;n&&(c+=` via the '${n}' function`),(0,Au.default)(a,{...i,alternative:c})}Do=!0,setTimeout(()=>{Do=!1},0)}}function Fs(t){return ft()?.undoManager??t.undoManager}function qg(t){return t.navigationFallbackId}var Wg=(0,Xe.createRegistrySelector)(t=>(0,Xe.createSelector)((e,r)=>t(P).getBlockPatterns().filter(({postTypes:n})=>!n||Array.isArray(n)&&n.includes(r)),()=>[t(P).getBlockPatterns()])),Du=(0,Xe.createRegistrySelector)(t=>(0,Xe.createSelector)((e,r,n,s)=>(Array.isArray(s)?s:[s]).map(o=>({delete:t(P).canUser("delete",{kind:r,name:n,id:o}),update:t(P).canUser("update",{kind:r,name:n,id:o})})),e=>[e.userPermissions]));function Jg(t,e,r,n){return V(e,r,"getEntityRecordPermissions"),Du(t,e,r,n)[0]}function Qg(t,e){return t.registeredPostMeta?.[e]??{}}function Uu(t){return!t||!["number","string"].includes(typeof t)||Number(t)===0?null:t.toString()}var Xg=(0,Xe.createRegistrySelector)(t=>(0,Xe.createSelector)(()=>{let e=t(P).getEntityRecord("root","__unstableBase");if(!e)return null;let r=e?.show_on_front==="page"?Uu(e.page_on_front):null;if(r)return{postType:"page",postId:r};let n=t(P).getDefaultTemplateId({slug:"front-page"});return n?{postType:"wp_template",postId:n}:null},e=>[Fe(e,"root","site"),Fe(e,"root","__unstableBase"),Oo(e,{slug:"front-page"})])),Zg=(0,Xe.createRegistrySelector)(t=>()=>{let e=t(P).getEntityRecord("root","__unstableBase");return e?.show_on_front==="page"?Uu(e.page_for_posts):null}),em=(0,Xe.createRegistrySelector)(t=>(e,r,n)=>{let s=Qe(t(P)).getHomePage();if(!s)return;if(r==="page"&&r===s?.postType&&n.toString()===s?.postId){let u=t(P).getEntityRecords("postType","wp_template",{per_page:-1});if(!u)return;let l=u.find(({slug:f})=>f==="front-page")?.id;if(l)return l}let i=t(P).getEditedEntityRecord("postType",r,n);if(!i)return;let o=Qe(t(P)).getPostsPageId();if(r==="page"&&o===n.toString())return t(P).getDefaultTemplateId({slug:"home"});let a=i.template;if(a){let u=t(P).getEntityRecords("postType","wp_template",{per_page:-1})?.find(({slug:l})=>l===a);if(u)return u.id}let c;return i.slug?c=r==="page"?`${r}-${i.slug}`:`single-${r}-${i.slug}`:c=r==="page"?"page":`single-${r}`,t(P).getDefaultTemplateId({slug:c})});function tm(t){return t.editorSettings}function rm(t){return t.editorAssets}var nm={},sm=(0,Ae.createRegistrySelector)(t=>(e,r)=>t(P).isResolving("getEmbedPreview",[r]));function im(t,e){(0,It.default)("select( 'core' ).getAuthors()",{since:"5.9",alternative:"select( 'core' ).getUsers({ who: 'authors' })"});let r=(0,Ou.addQueryArgs)("/wp/v2/users/?who=authors&per_page=100",e);return ku(t,r)}function om(t){return t.currentUser}var ku=(0,Ae.createSelector)((t,e)=>(t.users.queries[e]??[]).map(n=>t.users.byId[n]),(t,e)=>[t.users.queries[e],t.users.byId]);function am(t,e){return(0,It.default)("wp.data.select( 'core' ).getEntitiesByKind()",{since:"6.0",alternative:"wp.data.select( 'core' ).getEntitiesConfig()"}),Lu(t,e)}var Lu=(0,Ae.createSelector)((t,e)=>t.entities.config.filter(r=>r.kind===e),(t,e)=>t.entities.config);function cm(t,e,r){return(0,It.default)("wp.data.select( 'core' ).getEntity()",{since:"6.0",alternative:"wp.data.select( 'core' ).getEntityConfig()"}),Pr(t,e,r)}function Pr(t,e,r){return V(e,r,"getEntityConfig"),t.entities.config?.find(n=>n.kind===e&&n.name===r)}var Fe=(0,Ae.createSelector)(((t,e,r,n,s)=>{V(e,r,"getEntityRecord");let i=t.entities.records?.[e]?.[r]?.queriedData;if(!i)return;let o=s?.context??"default";if(!s||!s._fields)return i.itemIsComplete[o]?.[n]?i.items[o][n]:void 0;let a=i.items[o]?.[n];if(!a)return a;let c={},u=me(s._fields)??[];for(let l=0;l<u.length;l++){let f=u[l].split("."),d=a;f.forEach(p=>{d=d?.[p]}),pt(c,f,d)}return c}),(t,e,r,n,s)=>{let i=s?.context??"default",o=t.entities.records?.[e]?.[r]?.queriedData;return[o?.items[i]?.[n],o?.itemIsComplete[i]?.[n]]});Fe.__unstableNormalizeArgs=t=>{let e=[...t],r=e?.[2];return e[2]=Hr(r)?Number(r):r,e};function lm(t,e,r,n,s){let i=t.entities.records?.[e]?.[r]?.queriedData;if(!i)return!1;let o=s?.context??"default";if(!s||!s._fields)return!!i.itemIsComplete[o]?.[n];let a=i.items[o]?.[n];if(!a)return!1;let c=me(s._fields)??[];for(let u=0;u<c.length;u++){let l=c[u].split("."),f=a;for(let d=0;d<l.length;d++){let p=l[d];if(!f||!Object.hasOwn(f,p))return!1;f=f[p]}}return!0}function um(t,e,r,n){return Fe(t,e,r,n)}var Nu=(0,Ae.createSelector)((t,e,r,n)=>{V(e,r,"getRawEntityRecord");let s=Fe(t,e,r,n);return s&&Object.keys(s).reduce((i,o)=>(li(Pr(t,e,r),o)?i[o]=s[o]?.raw!==void 0?s[o]?.raw:s[o]:i[o]=s[o],i),{})},(t,e,r,n,s)=>{let i=s?.context??"default";return[t.entities.config,t.entities.records?.[e]?.[r]?.queriedData?.items[i]?.[n],t.entities.records?.[e]?.[r]?.queriedData?.itemIsComplete[i]?.[n]]});function fm(t,e,r,n){return V(e,r,"hasEntityRecords"),Array.isArray(Gs(t,e,r,n))}var Gs=((t,e,r,n)=>{V(e,r,"getEntityRecords");let s=t.entities.records?.[e]?.[r]?.queriedData;return s?di(s,n):null}),dm=(t,e,r,n)=>{V(e,r,"getEntityRecordsTotalItems");let s=t.entities.records?.[e]?.[r]?.queriedData;return s?hi(s,n):null},hm=(t,e,r,n)=>{V(e,r,"getEntityRecordsTotalPages");let s=t.entities.records?.[e]?.[r]?.queriedData;if(!s)return null;if(n?.per_page===-1)return 1;let i=hi(s,n);return i&&(n?.per_page?Math.ceil(i/n.per_page):La(s,n))},pm=(0,Ae.createSelector)(t=>{let{entities:{records:e}}=t,r=[];return Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(s=>{let i=Object.keys(e[n][s].edits).filter(o=>Fe(t,n,s,o)&&Pu(t,n,s,o));if(i.length){let o=Pr(t,n,s);i.forEach(a=>{let c=Lo(t,n,s,a);r.push({key:c?c[o.key||J]:void 0,title:o?.getTitle?.(c)||"",name:s,kind:n})})}})}),r},t=>[t.entities.records]),gm=(0,Ae.createSelector)(t=>{let{entities:{records:e}}=t,r=[];return Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(s=>{let i=Object.keys(e[n][s].saving).filter(o=>No(t,n,s,o));if(i.length){let o=Pr(t,n,s);i.forEach(a=>{let c=Lo(t,n,s,a);r.push({key:c?c[o.key||J]:void 0,title:o?.getTitle?.(c)||"",name:s,kind:n})})}})}),r},t=>[t.entities.records]);function ko(t,e,r,n){return V(e,r,"getEntityRecordEdits"),t.entities.records?.[e]?.[r]?.edits?.[n]}var Mu=(0,Ae.createSelector)((t,e,r,n)=>{V(e,r,"getEntityRecordNonTransientEdits");let{transientEdits:s}=Pr(t,e,r)||{},i=ko(t,e,r,n)||{};return s?Object.keys(i).reduce((o,a)=>(s[a]||(o[a]=i[a]),o),{}):i},(t,e,r,n)=>[t.entities.config,t.entities.records?.[e]?.[r]?.edits?.[n]]);function Pu(t,e,r,n){return V(e,r,"hasEditsForEntityRecord"),No(t,e,r,n)||Object.keys(Mu(t,e,r,n)).length>0}var Lo=(0,Ae.createSelector)((t,e,r,n)=>{V(e,r,"getEditedEntityRecord");let s=Nu(t,e,r,n),i=ko(t,e,r,n);return!s&&!i?!1:{...s,...i}},(t,e,r,n,s)=>{let i=s?.context??"default";return[t.entities.config,t.entities.records?.[e]?.[r]?.queriedData.items[i]?.[n],t.entities.records?.[e]?.[r]?.queriedData.itemIsComplete[i]?.[n],t.entities.records?.[e]?.[r]?.edits?.[n]]});function mm(t,e,r,n){V(e,r,"isAutosavingEntityRecord");let{pending:s,isAutosave:i}=t.entities.records?.[e]?.[r]?.saving?.[n]??{};return!!(s&&i)}function No(t,e,r,n){return V(e,r,"isSavingEntityRecord"),t.entities.records?.[e]?.[r]?.saving?.[n]?.pending??!1}function ym(t,e,r,n){return V(e,r,"isDeletingEntityRecord"),t.entities.records?.[e]?.[r]?.deleting?.[n]?.pending??!1}function Em(t,e,r,n){return V(e,r,"getLastEntitySaveError"),t.entities.records?.[e]?.[r]?.saving?.[n]?.error}function wm(t,e,r,n){return V(e,r,"getLastEntityDeleteError"),t.entities.records?.[e]?.[r]?.deleting?.[n]?.error}function vm(t){(0,It.default)("select( 'core' ).getUndoEdit()",{since:"6.3"})}function _m(t){(0,It.default)("select( 'core' ).getRedoEdit()",{since:"6.3"})}function bm(t){return Fs(t).hasUndo()}function Sm(t){return Fs(t).hasRedo()}function Ys(t){return t.currentTheme?Fe(t,"root","theme",t.currentTheme):null}function Vu(t){return t.currentGlobalStylesId}function xm(t){return Ys(t)?.theme_supports??nm}function Rm(t,e){return t.embedPreviews[e]}function Tm(t,e){let r=t.embedPreviews[e],n='<a href="'+e+'">'+e+"</a>";return r?r.html===n:!1}function Bu(t,e,r,n){let s=typeof r=="object";if(s&&(!r.kind||!r.name))return!1;s&&V(r.kind,r.name,"canUser");let i=Vt(e,r,n);return t.userPermissions[i]}function Cm(t,e,r,n){return(0,It.default)("wp.data.select( 'core' ).canUserEditEntityRecord()",{since:"6.7",alternative:"wp.data.select( 'core' ).canUser( 'update', { kind, name, id } )"}),Bu(t,"update",{kind:e,name:r,id:n})}function Im(t,e,r){return t.autosaves[r]}function Am(t,e,r,n){return n===void 0?void 0:t.autosaves[r]?.find(i=>i.author===n)}var Dm=(0,Ae.createRegistrySelector)(t=>(e,r,n)=>t(P).hasFinishedResolution("getAutosaves",[r,n]));function Um(t){return t.editsReference}function Om(t){let e=Ys(t);return e?t.themeBaseGlobalStyles[e.stylesheet]:null}function km(t){let e=Ys(t);return e?t.themeGlobalStyleVariations[e.stylesheet]:null}function Lm(t){return t.blockPatterns}function Nm(t){return t.blockPatternCategories}function Mm(t){return t.userPatternCategories}function Pm(t){(0,It.default)("select( 'core' ).getCurrentThemeGlobalStylesRevisions()",{since:"6.5.0",alternative:"select( 'core' ).getRevisions( 'root', 'globalStyles', ${ recordKey } )"});let e=Vu(t);return e?t.themeGlobalStyleRevisions[e]:null}function Oo(t,e){return t.defaultTemplates[JSON.stringify(e)]}var Vm=(t,e,r,n,s)=>{V(e,r,"getRevisions");let i=t.entities.records?.[e]?.[r]?.revisions?.[n];return i?di(i,s):null},Bm=(0,Ae.createSelector)((t,e,r,n,s,i)=>{V(e,r,"getRevision");let o=t.entities.records?.[e]?.[r]?.revisions?.[n];if(!o)return;let a=i?.context??"default";if(!i||!i._fields)return o.itemIsComplete[a]?.[s]?o.items[a][s]:void 0;let c=o.items[a]?.[s];if(!c)return c;let u={},l=me(i._fields)??[];for(let f=0;f<l.length;f++){let d=l[f].split("."),p=c;d.forEach(m=>{p=p?.[m]}),pt(u,d,p)}return u},(t,e,r,n,s,i)=>{let o=i?.context??"default",a=t.entities.records?.[e]?.[r]?.revisions?.[n];return[a?.items?.[o]?.[s],a?.itemIsComplete?.[o]?.[s]]});var Yo={};Nt(Yo,{__experimentalBatch:()=>ny,__experimentalReceiveCurrentGlobalStylesId:()=>Km,__experimentalReceiveThemeBaseGlobalStyles:()=>qm,__experimentalReceiveThemeGlobalStyleVariations:()=>Wm,__experimentalSaveSpecifiedEntityEdits:()=>iy,__unstableCreateUndoLevel:()=>ry,addEntities:()=>$m,deleteEntityRecord:()=>Fo,editEntityRecord:()=>Zm,receiveAutosaves:()=>cy,receiveCurrentTheme:()=>zm,receiveCurrentUser:()=>Ym,receiveDefaultTemplateId:()=>uy,receiveEmbedPreview:()=>Xm,receiveEntityRecords:()=>Hm,receiveNavigationFallbackId:()=>ly,receiveRevisions:()=>fy,receiveThemeGlobalStyleRevisions:()=>Qm,receiveThemeSupports:()=>Jm,receiveUploadPermissions:()=>oy,receiveUserPermission:()=>Yu,receiveUserPermissions:()=>ay,receiveUserQuery:()=>Gm,redo:()=>ty,saveEditedEntityRecord:()=>sy,saveEntityRecord:()=>Go,undo:()=>ey});var Fu=C(ht(),1);var jo=C(st(),1),Gu=C(gt(),1),$s=C(lr(),1);var Vo=C(st(),1),Po=null;function jm(t,e){let r=[...t],n=[];for(;r.length;)n.push(r.splice(0,e));return n}async function ju(t){Po===null&&(Po=(await(0,Vo.default)({path:"/batch/v1",method:"OPTIONS"})).endpoints[0].args.requests.maxItems);let e=[];for(let r of jm(t,Po)){let n=await(0,Vo.default)({path:"/batch/v1",method:"POST",data:{validation:"require-all-validate",requests:r.map(i=>({path:i.path,body:i.data,method:i.method,headers:i.headers}))}}),s;n.failed?s=n.responses.map(i=>({error:i?.body})):s=n.responses.map(i=>{let o={};return i.status>=200&&i.status<300?o.output=i.body:o.error=i.body,o}),e.push(...s)}return e}function Bo(t=ju){let e=0,r=[],n=new Fm;return{add(s){let i=++e;n.add(i);let o=a=>new Promise((c,u)=>{r.push({input:a,resolve:c,reject:u}),n.delete(i)});return typeof s=="function"?Promise.resolve(s(o)).finally(()=>{n.delete(i)}):o(s)},async run(){n.size&&await new Promise(o=>{let a=n.subscribe(()=>{n.size||(a(),o(void 0))})});let s;try{if(s=await t(r.map(({input:o})=>o)),s.length!==r.length)throw new Error("run: Array returned by processor must be same size as input array.")}catch(o){for(let{reject:a}of r)a(o);throw o}let i=!0;return s.forEach((o,a)=>{let c=r[a];o?.error?(c?.reject(o.error),i=!1):c?.resolve(o?.output??o)}),r=[],i}}}var Fm=class{constructor(...t){this.set=new Set(...t),this.subscribers=new Set}get size(){return this.set.size}add(t){return this.set.add(t),this.subscribers.forEach(e=>e()),this}delete(t){let e=this.set.delete(t);return this.subscribers.forEach(r=>r()),e}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}};function Gm(t,e){return{type:"RECEIVE_USER_QUERY",users:Array.isArray(e)?e:[e],queryID:t}}function Ym(t){return{type:"RECEIVE_CURRENT_USER",currentUser:t}}function $m(t){return{type:"ADD_ENTITIES",entities:t}}function Hm(t,e,r,n=void 0,s=!1,i=void 0,o=void 0){t==="postType"&&(r=(Array.isArray(r)?r:[r]).map(c=>c.status==="auto-draft"?{...c,title:""}:c));let a;return n?a=xa(r,n,i,o):a=fi(r,i,o),{...a,kind:t,name:e,invalidateCache:s}}function zm(t){return{type:"RECEIVE_CURRENT_THEME",currentTheme:t}}function Km(t){return{type:"RECEIVE_CURRENT_GLOBAL_STYLES_ID",id:t}}function qm(t,e){return{type:"RECEIVE_THEME_GLOBAL_STYLES",stylesheet:t,globalStyles:e}}function Wm(t,e){return{type:"RECEIVE_THEME_GLOBAL_STYLE_VARIATIONS",stylesheet:t,variations:e}}function Jm(){return(0,$s.default)("wp.data.dispatch( 'core' ).receiveThemeSupports",{since:"5.9"}),{type:"DO_NOTHING"}}function Qm(t,e){return(0,$s.default)("wp.data.dispatch( 'core' ).receiveThemeGlobalStyleRevisions()",{since:"6.5.0",alternative:"wp.data.dispatch( 'core' ).receiveRevisions"}),{type:"RECEIVE_THEME_GLOBAL_STYLE_REVISIONS",currentId:t,revisions:e}}function Xm(t,e){return{type:"RECEIVE_EMBED_PREVIEW",url:t,preview:e}}var Fo=(t,e,r,n,{__unstableFetch:s=jo.default,throwOnError:i=!1}={})=>async({dispatch:o,resolveSelect:a})=>{V(t,e,"deleteEntityRecord");let u=(await a.getEntitiesConfig(t)).find(p=>p.kind===t&&p.name===e),l,f=!1;if(!u)return;let d=await o.__unstableAcquireStoreLock(P,["entities","records",t,e,r],{exclusive:!0});try{o({type:"DELETE_ENTITY_RECORD_START",kind:t,name:e,recordId:r});let p=!1,{baseURL:m}=u;t==="postType"&&e==="wp_template"&&(r&&typeof r=="string"&&!/^\d+$/.test(r)||!window?.__experimentalTemplateActivate)&&(m=m.slice(0,m.lastIndexOf("/"))+"/templates");try{let E=`${m}/${r}`;n&&(E=(0,Gu.addQueryArgs)(E,n)),f=await s({path:E,method:"DELETE"}),await o(Sa(t,e,r,!0))}catch(E){p=!0,l=E}if(o({type:"DELETE_ENTITY_RECORD_FINISH",kind:t,name:e,recordId:r,error:l}),p&&i)throw l;return f}finally{o.__unstableReleaseStoreLock(d)}},Zm=(t,e,r,n,s={})=>({select:i,dispatch:o})=>{V(t,e,"editEntityRecord");let a=i.getEntityConfig(t,e);if(!a)throw new Error(`The entity being edited (${t}, ${e}) does not have a loaded config.`);let{mergedEdits:c={}}=a,u=i.getRawEntityRecord(t,e,r),l=i.getEditedEntityRecord(t,e,r),f={kind:t,name:e,recordId:r,edits:Object.keys(n).reduce((d,p)=>{let m=u[p],E=l[p],_=c[p]?{...E,...n[p]}:n[p];return d[p]=(0,Fu.default)(m,_)?void 0:_,d},{})};if(a.syncConfig){let d=`${t}/${e}`,p=r;ft()?.update(d,p,f.edits,or)}s.undoIgnore||i.getUndoManager().addRecord([{id:{kind:t,name:e,recordId:r},changes:Object.keys(n).reduce((d,p)=>(d[p]={from:l[p],to:n[p]},d),{})}],s.isCached),o({type:"EDIT_ENTITY_RECORD",...f})},ey=()=>({select:t,dispatch:e})=>{let r=t.getUndoManager().undo();r&&e({type:"UNDO",record:r})},ty=()=>({select:t,dispatch:e})=>{let r=t.getUndoManager().redo();r&&e({type:"REDO",record:r})},ry=()=>({select:t})=>{t.getUndoManager().addRecord()},Go=(t,e,r,{isAutosave:n=!1,__unstableFetch:s=jo.default,throwOnError:i=!1}={})=>async({select:o,resolveSelect:a,dispatch:c})=>{V(t,e,"saveEntityRecord");let l=(await a.getEntitiesConfig(t)).find(E=>E.kind===t&&E.name===e);if(!l)return;let f=l.key??J,d=r[f],p=!!f&&!d,m=await c.__unstableAcquireStoreLock(P,["entities","records",t,e,d||Cn()],{exclusive:!0});try{for(let[U,D]of Object.entries(r))if(typeof D=="function"){let j=D(o.getEditedEntityRecord(t,e,d));c.editEntityRecord(t,e,d,{[U]:j},{undoIgnore:!0}),r[U]=j}c({type:"SAVE_ENTITY_RECORD_START",kind:t,name:e,recordId:d,isAutosave:n});let E,_,b=!1,{baseURL:T}=l;t==="postType"&&e==="wp_template"&&(d&&typeof d=="string"&&!/^\d+$/.test(d)||!window?.__experimentalTemplateActivate)&&(T=T.slice(0,T.lastIndexOf("/"))+"/templates");try{let U=`${T}${d?"/"+d:""}`,D=p?{}:o.getRawEntityRecord(t,e,d);if(n){let j=o.getCurrentUser(),he=j?j.id:void 0,Ut=await a.getAutosave(D.type,D.id,he),De={...D,...Ut,...r};if(De=Object.keys(De).reduce((K,ie)=>(["title","excerpt","content","meta"].includes(ie)&&(K[ie]=De[ie]),K),{status:De.status==="auto-draft"?"draft":void 0}),E=await s({path:`${U}/autosaves`,method:"POST",data:De}),D.id===E.id){let K={...D,...De,...E};K=Object.keys(K).reduce((ie,oe)=>(["title","excerpt","content"].includes(oe)?ie[oe]=K[oe]:oe==="status"?ie[oe]=D.status==="auto-draft"&&K.status==="draft"?K.status:D.status:ie[oe]=D[oe],ie),{}),c.receiveEntityRecords(t,e,K,void 0,!0)}else c.receiveAutosaves(D.id,E)}else{let j=r;l.__unstablePrePersist&&(j={...j,...l.__unstablePrePersist(D,j)}),E=await s({path:U,method:d?"PUT":"POST",data:j}),c.receiveEntityRecords(t,e,E,void 0,!0,j),l.syncConfig&&ft()?.update(`${t}/${e}`,d,E,or,!0)}}catch(U){b=!0,_=U}if(c({type:"SAVE_ENTITY_RECORD_FINISH",kind:t,name:e,recordId:d,error:_,isAutosave:n}),b&&i)throw _;return E}finally{c.__unstableReleaseStoreLock(m)}},ny=t=>async({dispatch:e})=>{let r=Bo(),n={saveEntityRecord(o,a,c,u){return r.add(l=>e.saveEntityRecord(o,a,c,{...u,__unstableFetch:l}))},saveEditedEntityRecord(o,a,c,u){return r.add(l=>e.saveEditedEntityRecord(o,a,c,{...u,__unstableFetch:l}))},deleteEntityRecord(o,a,c,u,l){return r.add(f=>e.deleteEntityRecord(o,a,c,u,{...l,__unstableFetch:f}))}},s=t.map(o=>o(n)),[,...i]=await Promise.all([r.run(),...s]);return i},sy=(t,e,r,n)=>async({select:s,dispatch:i,resolveSelect:o})=>{if(V(t,e,"saveEditedEntityRecord"),!s.hasEditsForEntityRecord(t,e,r))return;let c=(await o.getEntitiesConfig(t)).find(d=>d.kind===t&&d.name===e);if(!c)return;let u=c.key||J,l=s.getEntityRecordNonTransientEdits(t,e,r),f={[u]:r,...l};return await i.saveEntityRecord(t,e,f,n)},iy=(t,e,r,n,s)=>async({select:i,dispatch:o,resolveSelect:a})=>{if(V(t,e,"__experimentalSaveSpecifiedEntityEdits"),!i.hasEditsForEntityRecord(t,e,r))return;let c=i.getEntityRecordNonTransientEdits(t,e,r),u={};for(let p of n)pt(u,p,ui(c,p));let d=(await a.getEntitiesConfig(t)).find(p=>p.kind===t&&p.name===e)?.key||J;return r&&(u[d]=r),await o.saveEntityRecord(t,e,u,s)};function oy(t){return(0,$s.default)("wp.data.dispatch( 'core' ).receiveUploadPermissions",{since:"5.9",alternative:"receiveUserPermission"}),Yu("create/media",t)}function Yu(t,e){return{type:"RECEIVE_USER_PERMISSION",key:t,isAllowed:e}}function ay(t){return{type:"RECEIVE_USER_PERMISSIONS",permissions:t}}function cy(t,e){return{type:"RECEIVE_AUTOSAVES",postId:t,autosaves:Array.isArray(e)?e:[e]}}function ly(t){return{type:"RECEIVE_NAVIGATION_FALLBACK_ID",fallbackId:t}}function uy(t,e){return{type:"RECEIVE_DEFAULT_TEMPLATE",query:t,templateId:e}}var fy=(t,e,r,n,s,i=!1,o)=>async({dispatch:a,resolveSelect:c})=>{V(t,e,"receiveRevisions");let l=(await c.getEntitiesConfig(t)).find(d=>d.kind===t&&d.name===e),f=l&&l?.revisionKey?l.revisionKey:J;a({type:"RECEIVE_ITEM_REVISIONS",key:f,items:Array.isArray(n)?n:[n],recordKey:r,meta:o,query:s,kind:t,name:e,invalidateCache:i})};var $o={};Nt($o,{editMediaEntity:()=>hy,receiveEditorAssets:()=>gy,receiveEditorSettings:()=>py,receiveRegisteredPostMeta:()=>dy});var $u=C(st(),1);function dy(t,e){return{type:"RECEIVE_REGISTERED_POST_META",postType:t,registeredPostMeta:e}}var hy=(t,e={},{__unstableFetch:r=$u.default,throwOnError:n=!1}={})=>async({dispatch:s,resolveSelect:i})=>{if(!t)return;let o="postType",a="attachment",u=(await i.getEntitiesConfig(o)).find(m=>m.kind===o&&m.name===a);if(!u)return;let l=await s.__unstableAcquireStoreLock(P,["entities","records",o,a,t],{exclusive:!0}),f,d,p=!1;try{s({type:"SAVE_ENTITY_RECORD_START",kind:o,name:a,recordId:t});try{let m=`${u.baseURL}/${t}/edit`,E=await r({path:m,method:"POST",data:{...e}});E&&(s.receiveEntityRecords(o,a,[E],void 0,!0,void 0,void 0),f=E)}catch(m){d=m,p=!0}if(s({type:"SAVE_ENTITY_RECORD_FINISH",kind:o,name:a,recordId:t,error:d}),p&&n)throw d;return f}finally{s.__unstableReleaseStoreLock(l)}};function py(t){return{type:"RECEIVE_EDITOR_SETTINGS",settings:t}}function gy(t){return{type:"RECEIVE_EDITOR_ASSETS",assets:t}}var qo={};Nt(qo,{__experimentalGetCurrentGlobalStylesId:()=>Dy,__experimentalGetCurrentThemeBaseGlobalStyles:()=>Uy,__experimentalGetCurrentThemeGlobalStylesVariations:()=>Oy,canUser:()=>Xu,canUserEditEntityRecord:()=>Cy,getAuthors:()=>Ey,getAutosave:()=>Ay,getAutosaves:()=>Iy,getBlockPatternCategories:()=>Ly,getBlockPatterns:()=>ky,getCurrentTheme:()=>xy,getCurrentThemeGlobalStylesRevisions:()=>Zu,getCurrentUser:()=>wy,getDefaultTemplateId:()=>ef,getEditedEntityRecord:()=>_y,getEditorAssets:()=>Fy,getEditorSettings:()=>jy,getEmbedPreview:()=>Ty,getEntitiesConfig:()=>By,getEntityRecord:()=>Hs,getEntityRecords:()=>Ln,getEntityRecordsTotalItems:()=>by,getEntityRecordsTotalPages:()=>Sy,getNavigationFallbackId:()=>My,getRawEntityRecord:()=>vy,getRegisteredPostMeta:()=>Vy,getRevision:()=>Py,getRevisions:()=>tf,getThemeSupports:()=>Ry,getUserPatternCategories:()=>Ny});var et=C(gt(),1),Qu=C(Ho(),1),z=C(st(),1);var Ju=C(st(),1);var Dn=C(st(),1),Un=C(gt(),1),On=C(Ho(),1),kn=C(gi(),1);async function Ku(t,e={},r={}){let n=e.isInitialSuggestions&&e.initialSuggestionsSearchOptions?{...e,...e.initialSuggestionsSearchOptions}:e,{type:s,subtype:i,page:o,perPage:a=e.isInitialSuggestions?3:20}=n,{disablePostFormats:c=!1}=r,u=[];(!s||s==="post")&&u.push((0,Dn.default)({path:(0,Un.addQueryArgs)("/wp/v2/search",{search:t,page:o,per_page:a,type:"post",subtype:i})}).then(d=>d.map(p=>({id:p.id,url:p.url,title:(0,On.decodeEntities)(p.title||"")||(0,kn.__)("(no title)"),type:p.subtype||p.type,kind:"post-type"}))).catch(()=>[])),(!s||s==="term")&&u.push((0,Dn.default)({path:(0,Un.addQueryArgs)("/wp/v2/search",{search:t,page:o,per_page:a,type:"term",subtype:i})}).then(d=>d.map(p=>({id:p.id,url:p.url,title:(0,On.decodeEntities)(p.title||"")||(0,kn.__)("(no title)"),type:p.subtype||p.type,kind:"taxonomy"}))).catch(()=>[])),!c&&(!s||s==="post-format")&&u.push((0,Dn.default)({path:(0,Un.addQueryArgs)("/wp/v2/search",{search:t,page:o,per_page:a,type:"post-format",subtype:i})}).then(d=>d.map(p=>({id:p.id,url:p.url,title:(0,On.decodeEntities)(p.title||"")||(0,kn.__)("(no title)"),type:p.subtype||p.type,kind:"taxonomy"}))).catch(()=>[])),(!s||s==="attachment")&&u.push((0,Dn.default)({path:(0,Un.addQueryArgs)("/wp/v2/media",{search:t,page:o,per_page:a})}).then(d=>d.map(p=>({id:p.id,url:p.source_url,title:(0,On.decodeEntities)(p.title.rendered||"")||(0,kn.__)("(no title)"),type:p.type,kind:"media"}))).catch(()=>[]));let f=(await Promise.all(u)).flat();return f=f.filter(d=>!!d.id),f=my(f,t),f=f.slice(0,a),f}function my(t,e){let r=zu(e),n={};for(let s of t)if(s.title){let i=zu(s.title),o=i.filter(l=>r.some(f=>l===f)),a=i.filter(l=>r.some(f=>l!==f&&l.includes(f))),c=o.length/i.length*10,u=a.length/i.length;n[s.id]=c+u}else n[s.id]=0;return t.sort((s,i)=>n[i.id]-n[s.id])}function zu(t){return t.toLowerCase().match(/[\p{L}\p{N}]+/gu)||[]}var qu=C(st(),1),Ze=C(gt(),1),zo=new Map,yy=async(t,e={})=>{let r="/wp-block-editor/v1/url-details",n={url:(0,Ze.prependHTTP)(t)};if(!(0,Ze.isURL)(t))return Promise.reject(`${t} is not a valid URL.`);let s=(0,Ze.getProtocol)(t);return!s||!(0,Ze.isValidProtocol)(s)||!s.startsWith("http")||!/^https?:\/\/[^\/\s]/i.test(t)?Promise.reject(`${t} does not have a valid protocol. URLs must be "http" based`):zo.has(t)?zo.get(t):(0,qu.default)({path:(0,Ze.addQueryArgs)(r,n),...e}).then(i=>(zo.set(t,i),i))},Wu=yy;async function Ko(){let t=await(0,Ju.default)({path:"/wp/v2/block-patterns/patterns"});return t?t.map(e=>Object.fromEntries(Object.entries(e).map(([r,n])=>[Kn(r),n]))):[]}var Ey=t=>async({dispatch:e})=>{let r=(0,et.addQueryArgs)("/wp/v2/users/?who=authors&per_page=100",t),n=await(0,z.default)({path:r});e.receiveUserQuery(r,n)},wy=()=>async({dispatch:t})=>{let e=await(0,z.default)({path:"/wp/v2/users/me"});t.receiveCurrentUser(e)},Hs=(t,e,r="",n)=>async({select:s,dispatch:i,registry:o,resolveSelect:a})=>{let u=(await a.getEntitiesConfig(t)).find(f=>f.name===e&&f.kind===t);if(!u)return;let l=await i.__unstableAcquireStoreLock(P,["entities","records",t,e,r],{exclusive:!1});try{if(n!==void 0&&n._fields&&(n={...n,_fields:[...new Set([...me(n._fields)||[],u.key||J])].join()}),n!==void 0&&n._fields&&s.hasEntityRecord(t,e,r,n))return;let{baseURL:f}=u;t==="postType"&&e==="wp_template"&&(r&&typeof r=="string"&&!/^\d+$/.test(r)||!window?.__experimentalTemplateActivate)&&(f=f.slice(0,f.lastIndexOf("/"))+"/templates");let d=(0,et.addQueryArgs)(f+(r?"/"+r:""),{...u.baseURLParams,...n}),p=await(0,z.default)({path:d,parse:!1}),m=await p.json(),E=zr(p.headers?.get("allow")),_=[],b={};for(let T of Pt)b[Vt(T,{kind:t,name:e,id:r})]=E[T],_.push([T,{kind:t,name:e,id:r}]);if(u.syncConfig&&Hr(r)&&!n){let T=`${t}/${e}`,U=r,D={...m};Object.entries(u.transientEdits??{}).filter(([j,he])=>D[j]===void 0&&he&&typeof he=="object"&&"read"in he&&typeof he.read=="function").forEach(([j,he])=>{D[j]=he.read(D)}),await ft()?.load(u.syncConfig,T,U,D,{editRecord:j=>{Object.keys(j).length&&i({type:"EDIT_ENTITY_RECORD",kind:t,name:e,recordId:r,edits:j,meta:{undo:void 0}})},getEditedRecord:async()=>await a.getEditedEntityRecord(t,e,r),refetchRecord:async()=>{i.receiveEntityRecords(t,e,await(0,z.default)({path:d,parse:!0}),n)},saveRecord:()=>{i.saveEditedEntityRecord(t,e,r)}})}o.batch(()=>{i.receiveEntityRecords(t,e,m,n),i.receiveUserPermissions(b),i.finishResolutions("canUser",_)})}finally{i.__unstableReleaseStoreLock(l)}};Hs.shouldInvalidate=(t,e,r)=>e==="root"&&r==="site"&&(t.type==="RECEIVE_ITEMS"&&t.persistedEdits&&t.persistedEdits.status!=="auto-draft"||t.type==="REMOVE_ITEMS")&&t.kind==="postType"&&t.name==="wp_template";var vy=Mt("getEntityRecord"),_y=Mt("getEntityRecord"),Ln=(t,e,r={})=>async({dispatch:n,registry:s,resolveSelect:i})=>{let a=(await i.getEntitiesConfig(t)).find(d=>d.name===e&&d.kind===t);if(!a)return;let c=await n.__unstableAcquireStoreLock(P,["entities","records",t,e],{exclusive:!1}),u={...r},l=a.key||J;function f(d,p){let m=Object.fromEntries(Object.entries(p).filter(([E,_])=>["context","_fields"].includes(E)&&!!_));return d.filter(E=>E?.[l]).map(E=>[t,e,E[l],Object.keys(m).length>0?m:void 0])}try{r._fields&&(r={...r,_fields:[...new Set([...me(r._fields)||[],l])].join()});let{baseURL:d}=a,{combinedTemplates:p=!0}=r;t==="postType"&&e==="wp_template"&&p&&(d=d.slice(0,d.lastIndexOf("/"))+"/templates");let m=(0,et.addQueryArgs)(d,{...a.baseURLParams,...r}),E=[],_;if(a.supportsPagination&&r.per_page!==-1){let b=await(0,z.default)({path:m,parse:!1});E=Object.values(await b.json()),_={totalItems:parseInt(b.headers.get("X-WP-Total")),totalPages:parseInt(b.headers.get("X-WP-TotalPages"))}}else if(r.per_page===-1&&r[Kr]===!0){let b=1,T;do{let U=await(0,z.default)({path:(0,et.addQueryArgs)(m,{page:b,per_page:100}),parse:!1}),D=Object.values(await U.json());T=parseInt(U.headers.get("X-WP-TotalPages")),_||(_={totalItems:parseInt(U.headers.get("X-WP-Total")),totalPages:1}),E.push(...D),s.batch(()=>{n.receiveEntityRecords(t,e,E,r,!1,void 0,_),n.finishResolutions("getEntityRecord",f(D,u))}),b++}while(b<=T)}else E=Object.values(await(0,z.default)({path:m})),_={totalItems:E.length,totalPages:1};r._fields&&(E=E.map(b=>(r._fields.split(",").forEach(T=>{b.hasOwnProperty(T)||(b[T]=void 0)}),b))),s.batch(()=>{n.receiveEntityRecords(t,e,E,r,!1,void 0,_);let b=E.filter(D=>!!D?.[l]&&!!D?._links?.self?.[0]?.targetHints?.allow).map(D=>({id:D[l],permissions:zr(D._links.self[0].targetHints.allow)})),T=[],U={};for(let D of b)for(let j of Pt)T.push([j,{kind:t,name:e,id:D.id}]),U[Vt(j,{kind:t,name:e,id:D.id})]=D.permissions[j];b.length>0&&(n.receiveUserPermissions(U),n.finishResolutions("canUser",T)),n.finishResolutions("getEntityRecord",f(E,u)),n.__unstableReleaseStoreLock(c)})}catch{n.__unstableReleaseStoreLock(c)}};Ln.shouldInvalidate=(t,e,r)=>(t.type==="RECEIVE_ITEMS"||t.type==="REMOVE_ITEMS")&&t.invalidateCache&&e===t.kind&&r===t.name;var by=Mt("getEntityRecords"),Sy=Mt("getEntityRecords"),xy=()=>async({dispatch:t,resolveSelect:e})=>{let r=await e.getEntityRecords("root","theme",{status:"active"});t.receiveCurrentTheme(r[0])},Ry=Mt("getCurrentTheme"),Ty=t=>async({dispatch:e})=>{try{let r=await(0,z.default)({path:(0,et.addQueryArgs)("/oembed/1.0/proxy",{url:t})});e.receiveEmbedPreview(t,r)}catch{e.receiveEmbedPreview(t,!1)}},Xu=(t,e,r)=>async({dispatch:n,registry:s,resolveSelect:i})=>{if(!Pt.includes(t))throw new Error(`'${t}' is not a valid action.`);let{hasStartedResolution:o}=s.select(P);for(let l of Pt){if(l===t)continue;if(o("canUser",[l,e,r]))return}let a=null;if(typeof e=="object"){if(!e.kind||!e.name)throw new Error("The entity resource object is not valid.");let f=(await i.getEntitiesConfig(e.kind)).find(d=>d.name===e.name&&d.kind===e.kind);if(!f)return;a=f.baseURL+(e.id?"/"+e.id:"")}else a=`/wp/v2/${e}`+(r?"/"+r:"");let c;try{c=await(0,z.default)({path:a,method:"OPTIONS",parse:!1})}catch{return}let u=zr(c.headers?.get("allow"));s.batch(()=>{for(let l of Pt){let f=Vt(l,e,r);n.receiveUserPermission(f,u[l]),l!==t&&n.finishResolution("canUser",[l,e,r])}})},Cy=(t,e,r)=>async({dispatch:n})=>{await n(Xu("update",{kind:t,name:e,id:r}))},Iy=(t,e)=>async({dispatch:r,resolveSelect:n})=>{let{rest_base:s,rest_namespace:i="wp/v2",supports:o}=await n.getPostType(t);if(!o?.autosave)return;let a=await(0,z.default)({path:`/${i}/${s}/${e}/autosaves?context=edit`});a&&a.length&&r.receiveAutosaves(e,a)},Ay=(t,e)=>async({resolveSelect:r})=>{await r.getAutosaves(t,e)},Dy=()=>async({dispatch:t,resolveSelect:e})=>{let n=(await e.getEntityRecords("root","theme",{status:"active"}))?.[0]?._links?.["wp:user-global-styles"]?.[0]?.href;if(!n)return;let s=n.match(/\/(\d+)(?:\?|$)/),i=s?Number(s[1]):null;i&&t.__experimentalReceiveCurrentGlobalStylesId(i)},Uy=()=>async({resolveSelect:t,dispatch:e})=>{let r=await t.getCurrentTheme(),n=await(0,z.default)({path:`/wp/v2/global-styles/themes/${r.stylesheet}?context=view`});e.__experimentalReceiveThemeBaseGlobalStyles(r.stylesheet,n)},Oy=()=>async({resolveSelect:t,dispatch:e})=>{let r=await t.getCurrentTheme(),n=await(0,z.default)({path:`/wp/v2/global-styles/themes/${r.stylesheet}/variations?context=view`});e.__experimentalReceiveThemeGlobalStyleVariations(r.stylesheet,n)},Zu=()=>async({resolveSelect:t,dispatch:e})=>{let r=await t.__experimentalGetCurrentGlobalStylesId(),s=(r?await t.getEntityRecord("root","globalStyles",r):void 0)?._links?.["version-history"]?.[0]?.href;if(s){let o=(await(0,z.default)({url:s}))?.map(a=>Object.fromEntries(Object.entries(a).map(([c,u])=>[Kn(c),u])));e.receiveThemeGlobalStyleRevisions(r,o)}};Zu.shouldInvalidate=t=>t.type==="SAVE_ENTITY_RECORD_FINISH"&&t.kind==="root"&&!t.error&&t.name==="globalStyles";var ky=()=>async({dispatch:t})=>{let e=await Ko();t({type:"RECEIVE_BLOCK_PATTERNS",patterns:e})},Ly=()=>async({dispatch:t})=>{let e=await(0,z.default)({path:"/wp/v2/block-patterns/categories"});t({type:"RECEIVE_BLOCK_PATTERN_CATEGORIES",categories:e})},Ny=()=>async({dispatch:t,resolveSelect:e})=>{let n=(await e.getEntityRecords("taxonomy","wp_pattern_category",{per_page:-1,_fields:"id,name,description,slug",context:"view"}))?.map(s=>({...s,label:(0,Qu.decodeEntities)(s.name),name:s.slug}))||[];t({type:"RECEIVE_USER_PATTERN_CATEGORIES",patternCategories:n})},My=()=>async({dispatch:t,select:e,registry:r})=>{let n=await(0,z.default)({path:(0,et.addQueryArgs)("/wp-block-editor/v1/navigation-fallback",{_embed:!0})}),s=n?._embedded?.self;r.batch(()=>{if(t.receiveNavigationFallbackId(n?.id),!s)return;let o=!e.getEntityRecord("postType","wp_navigation",n.id);t.receiveEntityRecords("postType","wp_navigation",s,void 0,o),t.finishResolution("getEntityRecord",["postType","wp_navigation",n.id])})},ef=t=>async({dispatch:e,registry:r,resolveSelect:n})=>{let s=await(0,z.default)({path:(0,et.addQueryArgs)("/wp/v2/templates/lookup",t)});await n.getEntitiesConfig("postType");let i=window?.__experimentalTemplateActivate&&s?.wp_id||s?.id;i&&(s.id=i,r.batch(()=>{e.receiveDefaultTemplateId(t,i),e.receiveEntityRecords("postType",s.type,[s]),e.finishResolution("getEntityRecord",["postType",s.type,i])}))};ef.shouldInvalidate=t=>t.type==="RECEIVE_ITEMS"&&t.kind==="root"&&t.name==="site";var tf=(t,e,r,n={})=>async({dispatch:s,registry:i,resolveSelect:o})=>{let c=(await o.getEntitiesConfig(t)).find(m=>m.name===e&&m.kind===t);if(!c)return;n._fields&&(n={...n,_fields:[...new Set([...me(n._fields)||[],c.revisionKey||J])].join()});let u=(0,et.addQueryArgs)(c.getRevisionsUrl(r),n),l,f,d={},p=c.supportsPagination&&n.per_page!==-1;try{f=await(0,z.default)({path:u,parse:!p})}catch{return}f&&(p?(l=Object.values(await f.json()),d.totalItems=parseInt(f.headers.get("X-WP-Total"))):l=Object.values(f),n._fields&&(l=l.map(m=>(n._fields.split(",").forEach(E=>{m.hasOwnProperty(E)||(m[E]=void 0)}),m))),i.batch(()=>{if(s.receiveRevisions(t,e,r,l,n,!1,d),!n?._fields&&!n.context){let m=c.key||J,E=l.filter(_=>_[m]).map(_=>[t,e,r,_[m]]);s.finishResolutions("getRevision",E)}}))};tf.shouldInvalidate=(t,e,r,n)=>t.type==="SAVE_ENTITY_RECORD_FINISH"&&r===t.name&&e===t.kind&&!t.error&&n===t.recordId;var Py=(t,e,r,n,s)=>async({dispatch:i,resolveSelect:o})=>{let c=(await o.getEntitiesConfig(t)).find(f=>f.name===e&&f.kind===t);if(!c)return;s!==void 0&&s._fields&&(s={...s,_fields:[...new Set([...me(s._fields)||[],c.revisionKey||J])].join()});let u=(0,et.addQueryArgs)(c.getRevisionsUrl(r,n),s),l;try{l=await(0,z.default)({path:u})}catch{return}l&&i.receiveRevisions(t,e,r,l,s)},Vy=t=>async({dispatch:e,resolveSelect:r})=>{let n;try{let{rest_namespace:s="wp/v2",rest_base:i}=await r.getPostType(t)||{};n=await(0,z.default)({path:`${s}/${i}/?context=edit`,method:"OPTIONS"})}catch{return}n&&e.receiveRegisteredPostMeta(t,n?.schema?.properties?.meta?.properties)},By=t=>async({dispatch:e})=>{let r=Bs.find(n=>n.kind===t);if(r)try{let n=await r.loadEntities();if(!n.length)return;e.addEntities(n)}catch{}},jy=()=>async({dispatch:t})=>{let e=await(0,z.default)({path:"/wp-block-editor/v1/settings"});t.receiveEditorSettings(e)},Fy=()=>async({dispatch:t})=>{let e=await(0,z.default)({path:"/wp-block-editor/v1/assets"});t.receiveEditorAssets(e)};function Wo(t,e){let r={...t},n=r;for(let s of e)n.children={...n.children,[s]:{locks:[],children:{},...n.children[s]}},n=n.children[s];return r}function Nn(t,e){let r=t;for(let n of e){let s=r.children[n];if(!s)return null;r=s}return r}function*rf(t,e){let r=t;yield r;for(let n of e){let s=r.children[n];if(!s)break;yield s,r=s}}function*nf(t){let e=Object.values(t.children);for(;e.length;){let r=e.pop();yield r,e.push(...Object.values(r.children))}}function Jo({exclusive:t},e){return!!(t&&e.length||!t&&e.filter(r=>r.exclusive).length)}var Gy={requests:[],tree:{locks:[],children:{}}};function Mn(t=Gy,e){switch(e.type){case"ENQUEUE_LOCK_REQUEST":{let{request:r}=e;return{...t,requests:[r,...t.requests]}}case"GRANT_LOCK_REQUEST":{let{lock:r,request:n}=e,{store:s,path:i}=n,o=[s,...i],a=Wo(t.tree,o),c=Nn(a,o);return c.locks=[...c.locks,r],{...t,requests:t.requests.filter(u=>u!==n),tree:a}}case"RELEASE_LOCK":{let{lock:r}=e,n=[r.store,...r.path],s=Wo(t.tree,n),i=Nn(s,n);return i.locks=i.locks.filter(o=>o!==r),{...t,tree:s}}}return t}function sf(t){return t.requests}function of(t,e,r,{exclusive:n}){let s=[e,...r],i=t.tree;for(let a of rf(i,s))if(Jo({exclusive:n},a.locks))return!1;let o=Nn(i,s);if(!o)return!0;for(let a of nf(o))if(Jo({exclusive:n},a.locks))return!1;return!0}function af(){let t=Mn(void 0,{type:"@@INIT"});function e(){for(let s of sf(t)){let{store:i,path:o,exclusive:a,notifyAcquired:c}=s;if(of(t,i,o,{exclusive:a})){let u={store:i,path:o,exclusive:a};t=Mn(t,{type:"GRANT_LOCK_REQUEST",lock:u,request:s}),c(u)}}}function r(s,i,o){return new Promise(a=>{t=Mn(t,{type:"ENQUEUE_LOCK_REQUEST",request:{store:s,path:i,exclusive:o,notifyAcquired:a}}),e()})}function n(s){t=Mn(t,{type:"RELEASE_LOCK",lock:s}),e()}return{acquire:r,release:n}}function cf(){let t=af();function e(n,s,{exclusive:i}){return()=>t.acquire(n,s,i)}function r(n){return()=>t.release(n)}return{__unstableAcquireStoreLock:e,__unstableReleaseStoreLock:r}}var lf,uf;var zs=C(At(),1);var df=C(At(),1),Vr=(0,df.createContext)({});Vr.displayName="EntityContext";var gf=C(pf(),1);function mf({kind:t,type:e,id:r,children:n}){let s=(0,zs.useContext)(Vr),i=(0,zs.useMemo)(()=>({...s,[t]:{...s?.[t],[e]:r}}),[s,t,e,r]);return(0,gf.jsx)(Vr.Provider,{value:i,children:n})}var Ks=C(Oe(),1),_f=C(lr(),1),bf=C(At(),1);var wf=C(Oe(),1);function yf(t,e){var r=0,n,s;e=e||{};function i(){var o=n,a=arguments.length,c,u;e:for(;o;){if(o.args.length!==arguments.length){o=o.next;continue}for(u=0;u<a;u++)if(o.args[u]!==arguments[u]){o=o.next;continue e}return o!==n&&(o===s&&(s=o.prev),o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.next=n,o.prev=null,n.prev=o,n=o),o.val}for(c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return o={args:c,val:t.apply(null,c)},n?(n.prev=o,o.next=n):s=o,r===e.maxSize?(s=s.prev,s.next=null):r++,n=o,o.val}return i.clear=function(){n=null,s=null,r=0},i}var Ef=yf;var ue=(t=>(t.Idle="IDLE",t.Resolving="RESOLVING",t.Error="ERROR",t.Success="SUCCESS",t))(ue||{});var Yy=["getIsResolving","hasStartedResolution","hasFinishedResolution","isResolving","getCachedResolvers"];function Br(t,e){return(0,wf.useSelect)((r,n)=>t(i=>$y(r(i)),n),e)}var $y=Ef((t=>{let e={};for(let r in t)Yy.includes(r)||Object.defineProperty(e,r,{get:()=>(...n)=>{let s=t[r](...n),i=t.getResolutionState(r,n)?.status,o;switch(i){case"resolving":o=ue.Resolving;break;case"finished":o=ue.Success;break;case"error":o=ue.Error;break;case void 0:o=ue.Idle;break}return{data:s,status:o,isResolving:o===ue.Resolving,hasStarted:o!==ue.Idle,hasResolved:o===ue.Success||o===ue.Error}}});return e}));var vf={};function Qo(t,e,r,n={enabled:!0}){let{editEntityRecord:s,saveEditedEntityRecord:i}=(0,Ks.useDispatch)(se),o=(0,bf.useMemo)(()=>({edit:(d,p={})=>s(t,e,r,d,p),save:(d={})=>i(t,e,r,{throwOnError:!0,...d})}),[s,t,e,r,i]),{editedRecord:a,hasEdits:c,edits:u}=(0,Ks.useSelect)(d=>n.enabled?{editedRecord:d(se).getEditedEntityRecord(t,e,r),hasEdits:d(se).hasEditsForEntityRecord(t,e,r),edits:d(se).getEntityRecordNonTransientEdits(t,e,r)}:{editedRecord:vf,hasEdits:!1,edits:vf},[t,e,r,n.enabled]),{data:l,...f}=Br(d=>n.enabled?d(se).getEntityRecord(t,e,r):{data:null},[t,e,r,n.enabled]);return{record:l,editedRecord:a,hasEdits:c,edits:u,...f,...o}}function Sf(t,e,r,n){return(0,_f.default)("wp.data.__experimentalUseEntityRecord",{alternative:"wp.data.useEntityRecord",since:"6.1"}),Qo(t,e,r,n)}var xf=C(gt(),1),Rf=C(lr(),1),qs=C(Oe(),1),Xo=C(At(),1);var Hy=[];function Ws(t,e,r={},n={enabled:!0}){let s=(0,xf.addQueryArgs)("",r),{data:i,...o}=Br(u=>n.enabled?u(se).getEntityRecords(t,e,r):{data:Hy},[t,e,s,n.enabled]),{totalItems:a,totalPages:c}=(0,qs.useSelect)(u=>n.enabled?{totalItems:u(se).getEntityRecordsTotalItems(t,e,r),totalPages:u(se).getEntityRecordsTotalPages(t,e,r)}:{totalItems:null,totalPages:null},[t,e,s,n.enabled]);return{records:i,totalItems:a,totalPages:c,...o}}function Tf(t,e,r,n){return(0,Rf.default)("wp.data.__experimentalUseEntityRecords",{alternative:"wp.data.useEntityRecords",since:"6.1"}),Ws(t,e,r,n)}function Cf(t,e,r={},n={enabled:!0}){let s=(0,qs.useSelect)(l=>l(se).getEntityConfig(t,e),[t,e]),{records:i,...o}=Ws(t,e,{...r,...r._fields?{_fields:[...new Set([...me(r._fields)||[],"_links"])].join()}:{}},n),a=(0,Xo.useMemo)(()=>i?.map(l=>l[s?.key??"id"])??[],[i,s?.key]),c=(0,qs.useSelect)(l=>{let{getEntityRecordsPermissions:f}=Qe(l(se));return f(t,e,a)},[a,t,e]);return{records:(0,Xo.useMemo)(()=>i?.map((l,f)=>({...l,permissions:c[f]}))??[],[i,c]),...o}}var Df=C(lr(),1),Uf=C(Af(),1);function Of(t,e){let r=typeof t=="object",n=r?JSON.stringify(t):t;return r&&typeof e<"u"&&(0,Uf.default)("When 'resource' is an entity object, passing 'id' as a separate argument isn't supported."),Br(s=>{let i=r?!!t.id:!!e,{canUser:o}=s(se),a=o("create",r?{kind:t.kind,name:t.name}:t);if(!i){let m=o("read",t),E=a.isResolving||m.isResolving,_=a.hasResolved&&m.hasResolved,b=ue.Idle;return E?b=ue.Resolving:_&&(b=ue.Success),{status:b,isResolving:E,hasResolved:_,canCreate:a.hasResolved&&a.data,canRead:m.hasResolved&&m.data}}let c=o("read",t,e),u=o("update",t,e),l=o("delete",t,e),f=c.isResolving||a.isResolving||u.isResolving||l.isResolving,d=c.hasResolved&&a.hasResolved&&u.hasResolved&&l.hasResolved,p=ue.Idle;return f?p=ue.Resolving:d&&(p=ue.Success),{status:p,isResolving:f,hasResolved:d,canRead:d&&c.data,canCreate:d&&a.data,canUpdate:d&&u.data,canDelete:d&&l.data}},[n,e])}var kf=Of;function Lf(t,e){return(0,Df.default)("wp.data.__experimentalUseResourcePermissions",{alternative:"wp.data.useResourcePermissions",since:"6.1"}),Of(t,e)}var Pn=C(At(),1),Vn=C(Oe(),1),Js=C(Wr(),1);var Nf=C(At(),1);function jr(t,e){return(0,Nf.useContext)(Vr)?.[t]?.[e]}var Dt=C(bo(),1);var Vf=C(Pf(),1);var Zo,ea=new WeakMap;function Bf(t){if(Zo||(Zo=Qe(Vf.privateApis)),!ea.has(t)){let e=Zo.getRichTextValues([t]);ea.set(t,e)}return ea.get(t)}var ta=new WeakMap;function zy(t){if(!ta.has(t)){let e=[];for(let r of Bf(t))r&&r.replacements.forEach(({type:n,attributes:s})=>{n==="core/footnote"&&e.push(s["data-fn"])});ta.set(t,e)}return ta.get(t)}function jf(t){return t.flatMap(zy)}var ra={};function na(t,e){let r={blocks:t};if(!e||e.footnotes===void 0)return r;let n=jf(t),s=e.footnotes?JSON.parse(e.footnotes):[];if(s.map(l=>l.id).join("")===n.join(""))return r;let o=n.map(l=>s.find(f=>f.id===l)||ra[l]||{id:l,content:""});function a(l){if(!l||Array.isArray(l)||typeof l!="object")return l;l={...l};for(let f in l){let d=l[f];if(Array.isArray(d)){l[f]=d.map(a);continue}if(typeof d!="string"&&!(d instanceof Dt.RichTextData))continue;let p=typeof d=="string"?Dt.RichTextData.fromHTMLString(d):new Dt.RichTextData(d),m=!1;p.replacements.forEach(E=>{if(E.type==="core/footnote"){let _=E.attributes["data-fn"],b=n.indexOf(_),T=(0,Dt.create)({html:E.innerHTML});T.text=String(b+1),T.formats=Array.from({length:T.text.length},()=>T.formats[0]),T.replacements=Array.from({length:T.text.length},()=>T.replacements[0]),E.innerHTML=(0,Dt.toHTMLString)({value:T}),m=!0}}),m&&(l[f]=typeof d=="string"?p.toHTMLString():p)}return l}function c(l){return l.map(f=>({...f,attributes:a(f.attributes),innerBlocks:c(f.innerBlocks)}))}let u=c(t);return ra={...ra,...s.reduce((l,f)=>(n.includes(f.id)||(l[f.id]=f),l),{})},{meta:{...e,footnotes:JSON.stringify(o)},blocks:u}}var Ky=[],Ff=new WeakMap;function Gf(t,e,{id:r}={}){let n=jr(t,e),s=r??n,{getEntityRecord:i,getEntityRecordEdits:o}=(0,Vn.useSelect)(P),{content:a,editedBlocks:c,meta:u}=(0,Vn.useSelect)(E=>{if(!s)return{};let{getEditedEntityRecord:_}=E(P),b=_(t,e,s);return{editedBlocks:b.blocks,content:b.content,meta:b.meta}},[t,e,s]),{__unstableCreateUndoLevel:l,editEntityRecord:f}=(0,Vn.useDispatch)(P),d=(0,Pn.useMemo)(()=>{if(!s)return;if(c)return c;if(!a||typeof a!="string")return Ky;let E=o(t,e,s),b=!E||!Object.keys(E).length?i(t,e,s):E,T=Ff.get(b);return T||(T=(0,Js.parse)(a),Ff.set(b,T)),T},[t,e,s,c,a,i,o]),p=(0,Pn.useCallback)((E,_)=>{if(d===E)return l(t,e,s);let{selection:T,...U}=_,D={selection:T,content:({blocks:j=[]})=>(0,Js.__unstableSerializeAndClean)(j),...na(E,u)};f(t,e,s,D,{isCached:!1,...U})},[t,e,s,d,u,l,f]),m=(0,Pn.useCallback)((E,_)=>{let{selection:b,...T}=_,U=na(E,u),D={selection:b,...U};f(t,e,s,D,{isCached:!0,...T})},[t,e,s,u,f]);return[d,m,p]}var Yf=C(At(),1),Qs=C(Oe(),1);function $f(t,e,r,n){let s=jr(t,e),i=n??s,{value:o,fullValue:a}=(0,Qs.useSelect)(l=>{let{getEntityRecord:f,getEditedEntityRecord:d}=l(P),p=f(t,e,i),m=d(t,e,i);return p&&m?{value:m[r],fullValue:p[r]}:{}},[t,e,i,r]),{editEntityRecord:c}=(0,Qs.useDispatch)(P),u=(0,Yf.useCallback)(l=>{c(t,e,i,{[r]:l})},[c,t,e,i,r]);return[o,u,a]}var Hf={};Iu(Hf,{useEntityRecordsWithPermissions:Cf,RECEIVE_INTERMEDIATE_RESULTS:Kr});var sa=[...Vs,...Bs.filter(t=>!!t.name)],qy=sa.reduce((t,e)=>{let{kind:r,name:n,plural:s}=e,i=cr(r,n);if(t[i]=(o,a,c)=>(V(r,n,i,{isShorthandSelector:!0,alternativeFunctionName:"getEntityRecord"}),Fe(o,r,n,a,c)),s){let o=cr(r,s,"get");t[o]=(a,c)=>(V(r,n,o,{isShorthandSelector:!0,alternativeFunctionName:"getEntityRecords"}),Gs(a,r,n,c))}return t},{}),Wy=sa.reduce((t,e)=>{let{kind:r,name:n,plural:s}=e,i=cr(r,n);if(t[i]=(o,a)=>(V(r,n,i,{isShorthandSelector:!0,alternativeFunctionName:"getEntityRecord"}),Hs(r,n,o,a)),s){let o=cr(r,s,"get");t[o]=(...a)=>(V(r,s,o,{isShorthandSelector:!0,alternativeFunctionName:"getEntityRecords"}),Ln(r,n,...a)),t[o].shouldInvalidate=a=>Ln.shouldInvalidate(a,r,n)}return t},{}),Jy=sa.reduce((t,e)=>{let{kind:r,name:n}=e,s=cr(r,n,"save");t[s]=(o,a)=>(V(r,n,s,{isShorthandSelector:!0,alternativeFunctionName:"saveEntityRecord"}),Go(r,n,o,a));let i=cr(r,n,"delete");return t[i]=(o,a,c)=>(V(r,n,i,{isShorthandSelector:!0,alternativeFunctionName:"deleteEntityRecord"}),Fo(r,n,o,a,c)),t},{}),Qy=()=>({reducer:Su,actions:{...lf,...Yo,...Jy,...cf()},selectors:{...uf,...Mo,...qy},resolvers:{...qo,...Wy}}),se=(0,Xs.createReduxStore)(P,Qy());Qe(se).registerPrivateSelectors(Uo);Qe(se).registerPrivateActions($o);(0,Xs.register)(se);return ud(Xy);})();
/*! Bundled license information:

diff/dist/diff.js:
  (*!
  
   diff v4.0.1
  
  Software License Agreement (BSD License)
  
  Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>
  
  All rights reserved.
  
  Redistribution and use of this software in source and binary forms, with or without modification,
  are permitted provided that the following conditions are met:
  
  * Redistributions of source code must retain the above
    copyright notice, this list of conditions and the
    following disclaimer.
  
  * Redistributions in binary form must reproduce the above
    copyright notice, this list of conditions and the
    following disclaimer in the documentation and/or other
    materials provided with the distribution.
  
  * Neither the name of Kevin Decker nor the names of its
    contributors may be used to endorse or promote products
    derived from this software without specific prior
    written permission.
  
  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
  IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
  FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
  DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
  IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
  OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  @license
  *)
*/
//# sourceMappingURL=index.min.js.map
