this.wp=this.wp||{},this.wp.editWidgets=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=408)}({0:function(e,t){!function(){e.exports=this.wp.element}()},1:function(e,t){!function(){e.exports=this.wp.i18n}()},12:function(e,t){!function(){e.exports=this.wp.keycodes}()},128:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));t.a=c},129:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"}));t.a=c},13:function(e,t){!function(){e.exports=this.regeneratorRuntime}()},145:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{d:"M13 11.9l3.3-3.4-1.1-1-3.2 3.3-3.2-3.3-1.1 1 3.3 3.4-3.5 3.6 1 1L12 13l3.5 3.5 1-1z"}));t.a=c},157:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"}));t.a=c},158:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));t.a=c},18:function(e,t){!function(){e.exports=this.wp.url}()},180:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));t.a=c},181:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"}));t.a=c},197:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=c},2:function(e,t){!function(){e.exports=this.lodash}()},25:function(e,t){!function(){e.exports=this.wp.hooks}()},255:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));t.a=c},256:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(i.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));t.a=c},287:function(e,t,r){"use strict";var n=r(0),i=r(6),c=Object(n.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(n.createElement)(i.Path,{d:"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z"}));t.a=c},3:function(e,t){!function(){e.exports=this.wp.components}()},31:function(e,t){!function(){e.exports=this.wp.apiFetch}()},38:function(e,t){!function(){e.exports=this.wp.coreData}()},4:function(e,t){!function(){e.exports=this.wp.data}()},408:function(e,t,r){"use strict";r.r(t),r.d(t,"initialize",(function(){return Xt}));var n={};r.r(n),r.d(n,"initializeState",(function(){return U})),r.d(n,"persistStubPost",(function(){return H})),r.d(n,"saveEditedWidgetAreas",(function(){return q})),r.d(n,"saveWidgetAreas",(function(){return $})),r.d(n,"setWidgetIdForClientId",(function(){return Y})),r.d(n,"setWidgetAreasOpenState",(function(){return K})),r.d(n,"setIsWidgetAreaOpen",(function(){return X})),r.d(n,"setIsInserterOpened",(function(){return Z})),r.d(n,"closeGeneralSidebar",(function(){return J}));var i={};r.r(i),r.d(i,"getWidgetAreas",(function(){return ne}));var c={};function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(c),r.d(c,"getWidgets",(function(){return oe})),r.d(c,"getWidget",(function(){return ae})),r.d(c,"getWidgetAreas",(function(){return se})),r.d(c,"getWidgetIdForClientId",(function(){return le})),r.d(c,"getWidgetAreaForClientId",(function(){return ue})),r.d(c,"getEditedWidgetAreas",(function(){return de})),r.d(c,"isSavingWidgetAreas",(function(){return fe})),r.d(c,"hasResolvedWidgetAreas",(function(){return be})),r.d(c,"getIsWidgetAreaOpen",(function(){return pe})),r.d(c,"isInserterOpened",(function(){return me}));var a=r(0),s=r(8),l=(r(74),r(79)),u=r(4);function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=Object(u.combineReducers)({mapping:function(e,t){var r=t.type,n=d(t,["type"]);if("SET_WIDGET_TO_CLIENT_ID_MAPPING"===r)return n.mapping;if("SET_WIDGET_ID_FOR_CLIENT_ID"===r){var i=b({},e);return i[t.widgetId]=t.clientId,i}return e||{}},isInserterOpened:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_INSERTER_OPENED":return t.value}return e},widgetAreasOpenState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type;switch(r){case"SET_WIDGET_AREAS_OPEN_STATE":return t.widgetAreasOpenState;case"SET_IS_WIDGET_AREA_OPEN":var n=t.clientId,i=t.isOpen;return b(b({},e),{},o({},n,i));default:return e}}}),m=r(13),g=r.n(m);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h="root",j=function(e){return"widget-area-".concat(e)};var w=function(e,t){return{id:e,slug:e,status:"draft",type:"page",blocks:t,meta:{widgetAreaId:e}}};function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"RESOLVE_WIDGET_AREAS",query:e}}function _(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return{type:"SELECT",registryName:e,selectorName:t,args:n}}function S(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return{type:"DISPATCH",registryName:e,actionName:t,args:n}}var k={SELECT:Object(u.createRegistryControl)((function(e){return function(t){var r,n=t.registryName,i=t.selectorName,c=t.args;return(r=e.select(n))[i].apply(r,y(c))}})),GET_PENDING_ACTIONS:Object(u.createRegistryControl)((function(e){return function(t){var r,n=t.postId;return(null===(r=I(e).processingQueue[n])||void 0===r?void 0:r.pendingActions)||[]}})),IS_PROCESSING_POST:Object(u.createRegistryControl)((function(e){return function(t){var r,n=t.postId;return null===(r=I(e).processingQueue[n])||void 0===r?void 0:r.inProgress}})),GET_WIDGET_TO_CLIENT_ID_MAPPING:Object(u.createRegistryControl)((function(e){return function(){return I(e).mapping||{}}})),DISPATCH:Object(u.createRegistryControl)((function(e){return function(t){var r,n=t.registryName,i=t.actionName,c=t.args;return(r=e.dispatch(n))[i].apply(r,y(c))}})),RESOLVE_WIDGET_AREAS:Object(u.createRegistryControl)((function(e){return function(t){var r=t.query;return e.__experimentalResolveSelect("core").getEntityRecords(h,"sidebar",r)}}))},I=function(e){return e.stores["core/edit-widgets"].store.getState()},P=k,A=r(2),C=r(1);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){if("WP_Widget_Block"===e.widget_class){var t=Object(s.parse)(e.settings.content);return t.length?t[0]:Object(s.createBlock)("core/paragraph",{},[])}var r={form:e.form,instance:e.settings,idBase:e.id_base,number:e.number};return!e.widget_class?r.referenceWidgetName=e.id:r.widgetClass=e.widget_class,Object(s.createBlock)("core/legacy-widget",r,[])}function W(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.name;return"core/legacy-widget"===n?(delete(t=e.attributes.referenceWidgetName?T(e,r):D(e,r)).form,delete t.rendered,t):R(R({},r),{},{id_base:"block",widget_class:"WP_Widget_Block",settings:{content:Object(s.serialize)(e)}})}function D(e,t){var r=e.attributes;return R(R({},t),{},{widget_class:r.widgetClass,id_base:r.idBase,settings:r.instance})}function T(e,t){var r=e.attributes;return R(R({},t),{},{id:r.referenceWidgetName,settings:r.instance})}function B(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,c=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw c}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L=g.a.mark(U),F=g.a.mark(q),G=g.a.mark($),V=g.a.mark(Q),z=g.a.mark(J);function U(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("widget-areas",[]);case 2:case"end":return e.stop()}}),L)}var H=g.a.mark((function e(t,r){var n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t,r),i=[h,"postType",t],e.next=4,S("core","startResolution","getEntityRecord",i);case 4:return e.next=6,S("core","receiveEntityRecords",h,"postType",n,{id:n.id},!1);case 6:return e.next=8,S("core","finishResolution","getEntityRecord",i);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)}));function q(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_("core/edit-widgets","getEditedWidgetAreas");case 2:if(null==(e=t.sent)?void 0:e.length){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.delegateYield($(e),"t0",7);case 7:return t.next=9,S("core/notices","createSuccessNotice",Object(C.__)("Widgets saved."),{type:"snackbar"});case 9:t.next=15;break;case 11:return t.prev=11,t.t1=t.catch(5),t.next=15,S("core/notices","createErrorNotice",Object(C.__)("There was an error."),{type:"snackbar"});case 15:case"end":return t.stop()}}),F,null,[[5,11]])}function $(e){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(g.a.mark((function t(){var r,n,i,c,o,a,s,l,u;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_("core/edit-widgets","getWidgets");case 2:return r=t.sent,t.next=5,{type:"GET_WIDGET_TO_CLIENT_ID_MAPPING"};case 5:n=t.sent,i=Object(A.invert)(n),c=B(e),t.prev=8,c.s();case 10:if((o=c.n()).done){t.next=24;break}return a=o.value,t.next=14,_("core","getEditedEntityRecord",h,"postType",j(a.id));case 14:return s=t.sent,l=s.blocks,u=l.map((function(e){var t=i[e.clientId];return W(e,r[t])})),t.next=19,S("core","editEntityRecord",h,"sidebar",a.id,{widgets:u});case 19:return t.delegateYield(Q(a.id),"t0",20);case 20:return t.next=22,S("core","receiveEntityRecords",h,"postType",s,void 0);case 22:t.next=10;break;case 24:t.next=29;break;case 26:t.prev=26,t.t1=t.catch(8),c.e(t.t1);case 29:return t.prev=29,c.f(),t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[8,26,29,32]])}))(),"t0",2);case 2:return t.prev=2,t.next=5,S("core","finishResolution","getEntityRecord",h,"sidebar",{});case 5:return t.finish(2);case 6:case"end":return t.stop()}}),G,null,[[0,,2,6]])}function Q(e){var t,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_("core","getLastEntitySaveError",h,"sidebar",e);case 2:return t=n.sent,n.next=5,S("core","saveEditedEntityRecord",h,"sidebar",e);case 5:return n.next=7,_("core","getLastEntitySaveError",h,"sidebar",e);case 7:if(!(r=n.sent)||t===r){n.next=10;break}throw new Error(r);case 10:case"end":return n.stop()}}),V)}function Y(e,t){return{type:"SET_WIDGET_ID_FOR_CLIENT_ID",clientId:e,widgetId:t}}function K(e){return{type:"SET_WIDGET_AREAS_OPEN_STATE",widgetAreasOpenState:e}}function X(e,t){return{type:"SET_IS_WIDGET_AREA_OPEN",clientId:e,isOpen:t}}function Z(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function J(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("core/interface","disableComplementaryArea","core/edit-widgets");case 2:case"end":return e.stop()}}),z)}var ee=g.a.mark(ne);function te(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,c=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw c}}}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(){var e,t,r,n,i,c,o,a,l,u,d,f,b,p;return g.a.wrap((function(m){for(;;)switch(m.prev=m.next){case 0:return e={},m.next=3,E(e);case 3:return m.next=5,_("core","getEntityRecords",h,"sidebar",e);case 5:t=m.sent,r=[],n={},i=t.sort((function(e,t){return"wp_inactive_widgets"===e.id?1:"wp_inactive_widgets"===t.id?-1:0})),c=te(i),m.prev=10,c.s();case 12:if((o=c.n()).done){m.next=22;break}a=o.value,l=[],u=te(a.widgets);try{for(u.s();!(d=u.n()).done;)f=d.value,b=N(f),n[f.id]=b.clientId,l.push(b)}catch(e){u.e(e)}finally{u.f()}return m.next=19,H(j(a.id),l);case 19:r.push(Object(s.createBlock)("core/widget-area",{id:a.id,name:a.name}));case 20:m.next=12;break;case 22:m.next=27;break;case 24:m.prev=24,m.t0=m.catch(10),c.e(m.t0);case 27:return m.prev=27,c.f(),m.finish(27);case 30:return p={},r.forEach((function(e,t){p[e.clientId]=0===t})),m.next=34,K(p);case 34:return m.next=36,H("widget-areas",r);case 36:return m.next=38,{type:"SET_WIDGET_TO_CLIENT_ID_MAPPING",mapping:n};case 38:case"end":return m.stop()}}),ee,null,[[10,24,27,30]])}function ie(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,c=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw c}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oe=Object(u.createRegistrySelector)((function(e){return function(){var t=e("core/edit-widgets").getWidgetAreas();return Object(A.keyBy)(t.flatMap((function(e){return e.widgets})),(function(e){return e.id}))}})),ae=Object(u.createRegistrySelector)((function(e){return function(t,r){return e("core/edit-widgets").getWidgets()[r]}})),se=Object(u.createRegistrySelector)((function(e){return function(){if(!be(t))return null;var t={};return e("core").getEntityRecords(h,"sidebar",t)}})),le=function(e,t){var r=e.mapping;return Object(A.invert)(r)[t]},ue=Object(u.createRegistrySelector)((function(e){return function(t,r){var n,i=ie(e("core/edit-widgets").getWidgetAreas());try{for(i.s();!(n=i.n()).done;){var c=n.value;if(e("core").getEditedEntityRecord(h,"postType",j(c.id)).blocks.map((function(e){return e.clientId})).includes(r))return c}}catch(e){i.e(e)}finally{i.f()}}})),de=Object(u.createRegistrySelector)((function(e){return function(t,r){var n=e("core/edit-widgets").getWidgetAreas();return n?(r&&(n=n.filter((function(e){var t=e.id;return r.includes(t)}))),n.filter((function(t){var r=t.id;return e("core").hasEditsForEntityRecord(h,"postType",j(r))})).map((function(t){var r=t.id;return e("core").getEditedEntityRecord(h,"sidebar",r)}))):[]}})),fe=Object(u.createRegistrySelector)((function(e){return function(t,r){var n;r||(r=null===(n=e("core/edit-widgets").getWidgetAreas())||void 0===n?void 0:n.map((function(e){return e.id})));if(!r)return!1;var i,c=ie(r);try{for(c.s();!(i=c.n()).done;){var o=i.value;if(e("core").isSavingEntityRecord(h,"sidebar",o))return!0}}catch(e){c.e(e)}finally{c.f()}return!1}})),be=Object(u.createRegistrySelector)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var r=e("core").getEntityRecords(h,"sidebar",t);return!!(null==r?void 0:r.length)||e("core").hasFinishedResolution("getEntityRecords",[h,"sidebar",t])}})),pe=function(e,t){return!!e.widgetAreasOpenState[t]};function me(e){return e.isInserterOpened}var ge={reducer:p,controls:P,selectors:c,resolvers:i,actions:n},ve=(Object(u.registerStore)("core/edit-widgets",ge),r(25)),Oe=r(77);Object(ve.addFilter)("editor.MediaUpload","core/edit-widgets/replace-media-upload",(function(){return Oe.MediaUpload}));var ye=r(6),he=Object(a.createElement)(ye.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(a.createElement)(ye.Path,{d:"M7 11h2v2H7v-2zm14-5v14l-2 2H5l-2-2V6l2-2h1V2h2v2h8V2h2v2h1l2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"}));function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,c=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,c=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw c}}return r}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var we=r(3),Ee=r(5),_e=r(287);function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e,t,r){return t&&Ie(e.prototype,t),r&&Ie(e,r),e}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?Ae(e):t}function We(e){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var De=r(31),Te=r.n(De),Be=r(9);function Me(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Le(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,c=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw c}}}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=We(e);if(t){var i=We(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Ne(this,r)}}var Ge=function(e){xe(r,e);var t=Fe(r);function r(){var e;return ke(this,r),(e=t.apply(this,arguments)).containerRef=Object(a.createRef)(),e.formRef=Object(a.createRef)(),e.widgetContentRef=Object(a.createRef)(),e.idBaseInputRef=Object(a.createRef)(),e.widgetNumberInputRef=Object(a.createRef)(),e.triggerWidgetEvent=e.triggerWidgetEvent.bind(Ae(e)),e}return Pe(r,[{key:"componentDidMount",value:function(){this.triggerWidgetEvent("widget-added"),this.props.onMount&&this.props.onMount(this.getFormData())}},{key:"shouldComponentUpdate",value:function(e){var t=!1;(e.idBase!==this.props.idBase&&this.idBaseInputRef.current&&(this.idBaseInputRef.current.value=e.idBase,t=!0),e.number!==this.props.number&&this.widgetNumberInputRef.current&&(this.widgetNumberInputRef.current.value=e.number),e.form!==this.props.form&&this.widgetContentRef.current)&&(this.widgetContentRef.current.innerHTML=e.form,t=!0);return t&&this.triggerWidgetEvent("widget-updated"),!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.id,n=t.idBase,i=t.number,c=t.form;return Object(a.createElement)("div",{className:"widget open",ref:this.containerRef},Object(a.createElement)("div",{className:"widget-inside"},Object(a.createElement)("form",{className:"form",ref:this.formRef,method:"post",onBlur:function(){return e.props.onInstanceChange(e.getFormData())}},Object(a.createElement)("div",{ref:this.widgetContentRef,className:"widget-content",dangerouslySetInnerHTML:{__html:c}}),Object(a.createElement)("input",{type:"hidden",name:"widget-id",className:"widget-id",value:r||n+i}),Object(a.createElement)("input",{ref:this.idBaseInputRef,type:"hidden",name:"id_base",className:"id_base",value:n}),Object(a.createElement)("input",{ref:this.widgetNumberInputRef,type:"hidden",name:"widget_number",className:"widget_number",value:i}),Object(a.createElement)("input",{type:"hidden",name:"multi_number",className:"multi_number",value:""}),Object(a.createElement)("input",{type:"hidden",name:"add_new",className:"add_new",value:""}))))}},{key:"triggerWidgetEvent",value:function(e){window.jQuery(window.document).trigger(e,[window.jQuery(this.containerRef.current)])}},{key:"getFormData",value:function(){if(this.formRef.current){var e,t=this.formRef.current,r=new window.FormData(t),n={},i=Me(r.keys());try{for(i.s();!(e=i.n()).done;){var c=e.value;if(!Object(A.includes)(["widget-id","id_base","widget_number","multi_number","add_new"],c)){var o=c.match(/[^\[]*\[[-\d]*\]\[([^\]]*)\]/),a=o&&o[1]?o[1]:c,s=r.getAll(c);s.length>1?n[a]=s:n[a]=s[0]}}}catch(e){i.e(e)}finally{i.f()}return n}}}]),r}(a.Component);function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=We(e);if(t){var i=We(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Ne(this,r)}}var He=window,qe=He.XMLHttpRequest,$e=He.FormData,Qe=function(e){xe(r,e);var t=Ue(r);function r(e){var n;return ke(this,r),(n=t.apply(this,arguments)).state={form:e.prerenderedEditForm},n.widgetNonce=null,n.instanceUpdating=null,n.onInstanceChange=n.onInstanceChange.bind(Ae(n)),n.requestWidgetForm=n.requestWidgetForm.bind(Ae(n)),n}return Pe(r,[{key:"componentDidMount",value:function(){var e=this;this.isStillMounted=!0,this.trySetNonce(),this.props.prerenderedEditForm||this.requestWidgetForm(void 0,(function(t){e.props.onInstanceChange(null,!!t.form)}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.widgetNonce||this.trySetNonce(),e.widgetClass!==this.props.widgetClass&&this.requestWidgetForm(void 0,(function(e){t.props.onInstanceChange(null,!!e.form)})),this.instanceUpdating===this.props.instance&&(this.instanceUpdating=null)}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.instanceId,n=t.id,i=t.number,c=t.idBase,o=t.instance,s=t.isVisible,l=t.widgetName,u=this.state.form;if(!u)return null;var d=Object(A.get)(o,["title"]),f=null;d&&l?f="".concat(l,": ").concat(d):!d&&l?f=l:d&&!l&&(f=d);var b=s?{}:{style:{display:"none"},hidden:!0,"aria-hidden":"true"};return Object(a.createElement)("div",Se({className:"wp-block-legacy-widget__edit-handler"},b),f&&Object(a.createElement)("div",{className:"wp-block-legacy-widget__edit-widget-title"},f),Object(a.createElement)("div",{className:"wp-block-legacy-widget__edit-container",style:{display:this.props.isVisible?"block":"none"}},Object(a.createElement)(Ge,{isReferenceWidget:!!n,ref:function(t){e.widgetEditDomManagerRef=t},onInstanceChange:this.onInstanceChange,onMount:this.props.onFormMount,number:i||-1*r,id:n,idBase:c,form:u})))}},{key:"trySetNonce",value:function(){var e=document.getElementById("_wpnonce_widgets");e&&e.value&&(this.widgetNonce=e.value)}},{key:"onInstanceChange",value:function(e){this.props.onInstanceChange(e,!0)}},{key:"requestWidgetForm",value:function(e,t){var r=this,n=this.props,i=n.id,c=n.idBase,o=n.instance,a=n.widgetClass,s=this.isStillMounted;if(i||a){if(i){var l=new qe,u=new $e;return u.append("action","save-widget"),u.append("id_base",c),u.append("widget-id",i),u.append("widget-width","250"),u.append("widget-height","200"),u.append("savewidgets",this.widgetNonce),l.open("POST",window.ajaxurl),l.addEventListener("load",(function(){if(s){var e=l.responseText;r.setState({form:e}),t&&t({form:e})}})),void l.send(u)}a&&Te()({path:"/__experimental/widget-utils/form/".concat(encodeURIComponent(a),"/"),data:{instance:ze(ze({},o),e)},method:"POST"}).then((function(e){s&&(r.setState({form:e.form}),t&&t(e))}))}}}]),r}(a.Component),Ye=Object(Be.withInstanceId)(Qe),Ke=Object(a.createElement)(ye.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(a.createElement)(ye.Path,{d:"M18.33 3.57s.27-.8-.31-1.36c-.53-.52-1.22-.24-1.22-.24-.61.3-5.76 3.47-7.67 5.57-.86.96-2.06 3.79-1.09 4.82.92.98 3.96-.17 4.79-1 2.06-2.06 5.21-7.17 5.5-7.79zM1.4 17.65c2.37-1.56 1.46-3.41 3.23-4.64.93-.65 2.22-.62 3.08.29.63.67.8 2.57-.16 3.46-1.57 1.45-4 1.55-6.15.89z"}));function Xe(e){var t,r=e.availableLegacyWidgets,n=e.currentWidget,i=e.hasPermissionsToManageWidgets,c=e.onChangeWidget,o=Object(a.useMemo)((function(){return Object(A.pickBy)(r,(function(e){return!e.isHidden}))}),[r]);return t=i?Object(A.isEmpty)(o)?Object(C.__)("There are no widgets available."):Object(a.createElement)(we.SelectControl,{label:Object(C.__)("Select a legacy widget to display:"),value:n||"none",onChange:c,options:[{value:"none",label:"Select widget"}].concat(Object(A.map)(o,(function(e,t){return{value:t,label:e.name}})))}):Object(C.__)("You don't have permissions to use widgets on this site."),Object(a.createElement)(we.Placeholder,{icon:Object(a.createElement)(Ee.BlockIcon,{icon:Ke}),label:Object(C.__)("Legacy Widget")},t)}var Ze=r(18);function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tt=function(e){var t=e.widgetAreaId,r=e.attributes,n=e.hidden,i=d(e,["widgetAreaId","attributes","hidden"]),c=je(Object(a.useState)(300),2),o=c[0],s=c[1],l=Object(a.useRef)(),u=document.location.href,f=u.substr(0,u.indexOf("wp-admin/")),b=Object(Ze.addQueryArgs)(f,{widgetPreview:et(et({},r),{},{sidebarId:t})}),p=Object(a.useCallback)((function(){s(Object(A.get)(l.current,["contentDocument","body","scrollHeight"]))}),[]);return Object(a.useEffect)((function(){n||p()}),[n,p]),Object(a.createElement)(we.Disabled,{hidden:n},Object(a.createElement)(we.FocusableIframe,Se({onLoad:function(){p()},src:b,height:o+20,iframeRef:l},i)))};var rt=Object(u.withSelect)((function(e,t){var r,n=t.clientId,i=t.attributes,c=i.widgetClass,o=i.referenceWidgetName,a=e("core/edit-widgets").getWidgetIdForClientId(n),s=e("core/edit-widgets").getWidget(a),l=e("core/edit-widgets").getWidgetAreaForClientId(n),u=e("core/block-editor").getSettings(),d=u.availableLegacyWidgets,f=u.hasPermissionsToManageWidgets;return a&&d[a]?r=d[a]:c&&d[c]?r=d[c]:o&&(r=d[o],a=o),{hasPermissionsToManageWidgets:f,availableLegacyWidgets:d,widgetId:a,widgetAreaId:null==l?void 0:l.id,WPWidget:r,prerenderedEditForm:s?s.rendered_form:""}}))((function(e){var t=e.attributes,r=e.availableLegacyWidgets,n=e.hasPermissionsToManageWidgets,i=e.prerenderedEditForm,c=e.setAttributes,o=e.widgetId,s=e.WPWidget,l=e.widgetAreaId,u=je(Object(a.useState)(!0),2),d=u[0],f=u[1],b=je(Object(a.useState)(!1),2),p=b[0],m=b[1],g=!p&&d;function v(){m(!1)}if(!s)return Object(a.createElement)(Xe,{availableLegacyWidgets:r,hasPermissionsToManageWidgets:n,onChangeWidget:function(e){var t=r[e],n=t.isReferenceWidget,i=t.id_base;c(n?{instance:{},idBase:i,referenceWidgetName:e,widgetClass:void 0}:{instance:{},idBase:i,referenceWidgetName:void 0,widgetClass:e})}});var O=s?Object(a.createElement)(Ee.InspectorControls,null,Object(a.createElement)(we.PanelBody,{title:s.name},s.description)):null;return n?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Ee.BlockControls,null,Object(a.createElement)(we.ToolbarGroup,null,s&&!s.isHidden&&Object(a.createElement)(we.Button,{onClick:function(){v(),c({instance:{},id:void 0,widgetClass:void 0}),f(!0)},label:Object(C.__)("Change widget"),icon:_e.a}),d&&Object(a.createElement)(a.Fragment,null,Object(a.createElement)(we.Button,{className:"components-tab-button",isPressed:!p,onClick:v},Object(a.createElement)("span",null,Object(C.__)("Edit"))),Object(a.createElement)(we.Button,{className:"components-tab-button",isPressed:p,onClick:function(){m(!0)}},Object(a.createElement)("span",null,Object(C.__)("Preview")))))),O,d&&Object(a.createElement)(Ye,{isVisible:!p,id:o,idBase:t.idBase||o,number:t.number,prerenderedEditForm:i,widgetName:Object(A.get)(s,["name"]),widgetClass:t.widgetClass,instance:t.instance,onFormMount:function(e){t.widgetClass||c({instance:e})},onInstanceChange:function(e,t){e&&c({instance:e}),f(t)}}),(null==s?void 0:s.isReferenceWidget)?Object(a.createElement)("p",{hidden:g},Object(C.__)("Reference widgets cannot be previewed.")):Object(a.createElement)(tt,{hidden:g,className:"wp-block-legacy-widget__preview",widgetAreaId:l,attributes:Object(A.omit)(t,"widgetId")})):Object(a.createElement)(a.Fragment,null,O,Object(a.createElement)(tt,{className:"wp-block-legacy-widget__preview",widgetAreaId:l,attributes:Object(A.omit)(t,"widgetId")}))})),nt={to:[{block:"core/calendar",widget:"WP_Widget_Calendar"},{block:"core/search",widget:"WP_Widget_Search"},{block:"core/html",widget:"WP_Widget_Custom_HTML",transform:function(e){return{content:e.content}}},{block:"core/archives",widget:"WP_Widget_Archives",transform:function(e){var t=e.count;return{displayAsDropdown:!!e.dropdown,showPostCounts:!!t}}},{block:"core/latest-posts",widget:"WP_Widget_Recent_Posts",transform:function(e){return{displayPostDate:!!e.show_date,postsToShow:e.number}}},{block:"core/latest-comments",widget:"WP_Widget_Recent_Comments",transform:function(e){return{commentsToShow:e.number}}},{block:"core/tag-cloud",widget:"WP_Widget_Tag_Cloud",transform:function(e){var t=e.taxonomy;return{showTagCounts:!!e.count,taxonomy:t}}},{block:"core/categories",widget:"WP_Widget_Categories",transform:function(e){var t=e.count;return{displayAsDropdown:!!e.dropdown,showPostCounts:!!t,showHierarchy:!!e.hierarchical}}},{block:"core/audio",widget:"WP_Widget_Media_Audio",transform:function(e){var t=e.url,r=e.preload,n=e.loop;return{src:t,id:e.attachment_id,preload:r,loop:n}}},{block:"core/video",widget:"WP_Widget_Media_Video",transform:function(e){var t=e.url,r=e.preload,n=e.loop;return{src:t,id:e.attachment_id,preload:r,loop:n}}},{block:"core/image",widget:"WP_Widget_Media_Image",transform:function(e){var t=e.alt,r=e.attachment_id,n=e.caption,i=e.height,c=e.link_classes,o=e.link_rel,a=e.link_target_blank,s=e.link_type;return{alt:t,caption:n,height:i,id:r,link:e.link_url,linkClass:c,linkDestination:s,linkTarget:a?"_blank":void 0,rel:o,sizeSlug:e.size,url:e.url,width:e.width}}},{block:"core/gallery",widget:"WP_Widget_Media_Gallery",transform:function(e){var t=e.ids,r=e.link_type,n=e.size;return{ids:t,columns:e.number,linkTo:r,sizeSlug:n,images:t.map((function(e){return{id:e}}))}}},{block:"core/rss",widget:"WP_Widget_RSS",transform:function(e){return{feedURL:e.url,displayAuthor:!!e.show_author,displayDate:!!e.show_date,displayExcerpt:!!e.show_summary,itemsToShow:e.items}}}].map((function(e){var t=e.block,r=e.widget,n=e.transform;return{type:"block",blocks:[t],isMatch:function(e){return e.widgetClass===r},transform:function(e){var r=e.instance,i=Object(s.createBlock)(t,n?n(r):void 0);return r&&r.title?[Object(s.createBlock)("core/heading",{content:r.title}),i]:i}}}))};function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?it(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ot={name:"core/legacy-widget",category:"widgets",attributes:{widgetClass:{type:"string"},referenceWidgetName:{type:"string"},idBase:{type:"string"},number:{type:"number"},instance:{type:"object"}},supports:{html:!1,customClassName:!1}},at=ot.name,st={title:Object(C.__)("Legacy Widget (Experimental)"),description:Object(C.__)("Display a legacy widget."),icon:he,edit:rt,transforms:nt};function lt(e){var t=[];for(var r in e){var n=e[r];n.isHidden||t.push(ut(r,n))}return t}function ut(e,t){var r={attributes:{},category:"widgets",description:t.description,icon:st.icon,name:e,title:t.name};return t.isReferenceWidget?r.attributes={referenceWidgetName:e,instance:{}}:r.attributes={idBase:t.id_base,widgetClass:e,instance:{}},r}var dt=r(55),ft=r(42);function bt(){var e=Object(u.useDispatch)("core"),t=e.redo,r=e.undo;return Object(ft.useShortcut)("core/edit-widgets/undo",(function(e){r(),e.preventDefault()}),{bindGlobal:!0}),Object(ft.useShortcut)("core/edit-widgets/redo",(function(e){t(),e.preventDefault()}),{bindGlobal:!0}),null}bt.Register=function(){var e=Object(u.useDispatch)("core/keyboard-shortcuts").registerShortcut;return Object(a.useEffect)((function(){e({name:"core/edit-widgets/undo",category:"global",description:Object(C.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-widgets/redo",category:"global",description:Object(C.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}})}),[e]),null};var pt=bt,mt=r(38);function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ot(e){var t=e.blockEditorSettings,r=d(e,["blockEditorSettings"]),n=Object(u.useSelect)((function(e){return{hasUploadPermissions:Object(A.defaultTo)(e("core").canUser("create","media"),!0),widgetAreas:e("core/edit-widgets").getWidgetAreas()}})).hasUploadPermissions,i=Object(a.useMemo)((function(){var e;return n&&(e=function(e){var r=e.onError,n=d(e,["onError"]);Object(Oe.uploadMedia)(vt({wpAllowedMimeTypes:t.allowedMimeTypes,onError:function(e){var t=e.message;return r(t)}},n))}),vt(vt({},t),{},{mediaUpload:e,templateLock:"all"})}),[t,n]),c=je(Object(mt.useEntityBlockEditor)(h,"postType",{id:"widget-areas"}),3),o=c[0],s=c[1],l=c[2];return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(Ee.BlockEditorKeyboardShortcuts.Register,null),Object(a.createElement)(pt.Register,null),Object(a.createElement)(we.SlotFillProvider,null,Object(a.createElement)(we.DropZoneProvider,null,Object(a.createElement)(we.FocusReturnProvider,null,Object(a.createElement)(Ee.BlockEditorProvider,Se({value:o,onInput:s,onChange:l,settings:i},r))))))}var yt=r(7),ht=r.n(yt),jt=r(47),wt=r(197),Et=r(157);function _t(e){var t=e.clientId,r=Object(u.useSelect)((function(e){var r=e("core/block-editor"),n=r.getBlockAttributes,i=r.getBlockSelectionStart;return{name:n(t).name,selectedBlock:i()}}),[t]),n=r.name,i=r.selectedBlock,c=Object(u.useDispatch)("core/block-editor").selectBlock,o=i===t;return Object(a.createElement)("li",null,Object(a.createElement)(we.Button,{"aria-expanded":o,onClick:o?void 0:function(){c(t)}},n,Object(a.createElement)("span",{className:"edit-widgets-block-areas__edit"},Object(C.__)("Edit"))))}function St(){var e=Object(u.useSelect)((function(e){return e("core/block-editor").getBlockOrder()})),t=e.length>0;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"edit-widgets-block-areas"},Object(a.createElement)("div",{className:"edit-widgets-block-areas__top-container"},Object(a.createElement)(Ee.BlockIcon,{icon:Et.a}),Object(a.createElement)("div",null,Object(a.createElement)("p",null,Object(C.__)('Block Areas (also known as "Widget Areas") are global parts in your site\'s layout that can accept blocks. These vary by theme, but are typically parts like your Sidebar or Footer.')),!t&&Object(a.createElement)("p",null,Object(C.__)("Your theme does not contain block areas.")))),t&&Object(a.createElement)("ul",null,e.map((function(e){return Object(a.createElement)(_t,{key:e,clientId:e})})))))}var kt=a.Platform.select({web:!0,native:!1}),It={"edit-widgets/block-areas":Object(C.__)("Block areas"),"edit-widgets/block-inspector":Object(C.__)("Block")};function Pt(e){var t=e.activeComplementaryArea,r=Object(u.useDispatch)("core/interface").enableComplementaryArea;return Object(a.createElement)("ul",null,Object(A.map)(It,(function(e,n){var i=n===t;return Object(a.createElement)("li",{key:n},Object(a.createElement)(we.Button,{onClick:function(){return r("core/edit-widgets",n)},className:ht()("edit-widgets-sidebar__panel-tab",{"is-active":i}),"aria-label":i?// translators: %s: sidebar label e.g: "Block areas".
Object(C.sprintf)(Object(C.__)("%s (selected)"),e):e,"data-label":e},e))})))}function At(){var e=Object(u.useDispatch)("core/interface").enableComplementaryArea,t=Object(u.useSelect)((function(e){var t=e("core/interface").getActiveComplementaryArea("core/edit-widgets"),r=!!t,n=e("core/block-editor"),i=n.getBlockSelectionStart,c=n.getBlockRootClientId,o=i();return It[t]||(t=o?"edit-widgets/block-inspector":"edit-widgets/block-areas"),{currentArea:t,hasSelectedNonAreaBlock:!(!o||!c(o)),isGeneralSidebarOpen:r}}),[]),r=t.currentArea,n=t.hasSelectedNonAreaBlock,i=t.isGeneralSidebarOpen;return Object(a.useEffect)((function(){n&&"edit-widgets/block-areas"===r&&i&&e("core/edit-widgets","edit-widgets/block-inspector"),!n&&"edit-widgets/block-inspector"===r&&i&&e("core/edit-widgets","edit-widgets/block-areas")}),[n,e]),Object(a.createElement)(jt.b,{className:"edit-widgets-sidebar",header:Object(a.createElement)(Pt,{activeComplementaryArea:r}),headerClassName:"edit-widgets-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:Object(C.__)("Settings"),closeLabel:Object(C.__)("Close settings"),scope:"core/edit-widgets",identifier:r,icon:wt.a,isActiveByDefault:kt},"edit-widgets/block-areas"===r&&Object(a.createElement)(St,null),"edit-widgets/block-inspector"===r&&Object(a.createElement)(Ee.BlockInspector,null))}var Ct=r(128),xt=r(158);var Rt=function(){var e=Object(u.useSelect)((function(e){var t,r=e("core/edit-widgets"),n=r.getEditedWidgetAreas,i=r.isSavingWidgetAreas;return{hasEditedWidgetAreaIds:(null===(t=n())||void 0===t?void 0:t.length)>0,isSaving:i()}}),[]),t=e.hasEditedWidgetAreaIds,r=e.isSaving,n=Object(u.useDispatch)("core/edit-widgets").saveEditedWidgetAreas;return Object(a.createElement)(we.Button,{isPrimary:!0,isBusy:r,"aria-disabled":r,onClick:r?void 0:n,disabled:!t},r?Object(C.__)("Savingâ€¦"):Object(C.__)("Update"))},Nt=r(255),Wt=r(12);var Dt=Object(a.forwardRef)((function(e,t){var r=Object(u.useSelect)((function(e){return e("core").hasUndo()})),n=Object(u.useDispatch)("core").undo;return Object(a.createElement)(we.Button,Se({icon:Nt.a,label:Object(C.__)("Undo"),shortcut:Wt.displayShortcut.primary("z"),"aria-disabled":!r,onClick:r?n:void 0,ref:t},e))})),Tt=r(256);var Bt=Object(a.forwardRef)((function(e,t){var r=Object(u.useSelect)((function(e){return e("core").hasRedo()})),n=Object(u.useDispatch)("core").redo;return Object(a.createElement)(we.Button,Se({icon:Tt.a,label:Object(C.__)("Redo"),shortcut:Wt.displayShortcut.primaryShift("z"),"aria-disabled":!r,onClick:r?n:void 0,ref:t},e))})),Mt=function(){return Object(u.useSelect)((function(e){var t,r=e("core/block-editor"),n=r.getBlockSelectionEnd,i=r.getBlockParents,c=r.getBlockName,o=n();if("core/widget-area"===c(o))return o;var a=i(o).find((function(e){return"core/widget-area"===c(e)}));if(a)return a;var s=(0,e("core").getEntityRecord)(h,"postType","widget-areas");return null==s||null===(t=s.blocks[0])||void 0===t?void 0:t.clientId}),[])};var Lt=function(){var e=Object(a.useRef)(),t=Object(Be.useViewportMatch)("medium"),r=Mt(),n=Object(u.useSelect)((function(e){return e("core/edit-widgets").getIsWidgetAreaOpen(r)}),[r]),i=Object(u.useSelect)((function(e){return e("core/edit-widgets").isInserterOpened()})),c=Object(u.useDispatch)("core/edit-widgets"),o=c.setIsWidgetAreaOpen,s=c.setIsInserterOpened,l=Object(u.useDispatch)("core/block-editor").selectBlock;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"edit-widgets-header"},Object(a.createElement)("div",{className:"edit-widgets-header__navigable-toolbar-wrapper"},Object(a.createElement)("h1",{className:"edit-widgets-header__title"},Object(C.__)("Widgets")),Object(a.createElement)(Ee.NavigableToolbar,{className:"edit-widgets-header-toolbar","aria-label":Object(C.__)("Document tools")},Object(a.createElement)(we.ToolbarItem,{ref:e,as:we.Button,className:"edit-widgets-header-toolbar__inserter-toggle",isPrimary:!0,isPressed:i,onMouseDown:function(e){e.preventDefault()},onClick:function(){i?e.current.focus():(n||(l(r),o(r,!0)),window.requestAnimationFrame((function(){return s(!0)})))},icon:xt.a
/* translators: button label text should, if possible, be under 16
    characters. */,label:Object(C._x)("Add block","Generic label for block inserter button")}),Object(a.createElement)(we.ToolbarItem,{as:Dt}),Object(a.createElement)(we.ToolbarItem,{as:Bt}),Object(a.createElement)(we.ToolbarItem,{as:Ee.BlockNavigationDropdown}))),Object(a.createElement)("div",{className:"edit-widgets-header__actions"},Object(a.createElement)(Rt,null),Object(a.createElement)(jt.f.Slot,{scope:"core/edit-widgets"}))),!t&&Object(a.createElement)("div",{className:"edit-widgets-header__block-toolbar"},Object(a.createElement)(Ee.BlockToolbar,{hideDragHandle:!0})))};var Ft=function(){var e=Object(u.useSelect)((function(e){return{notices:e("core/notices").getNotices()}}),[]).notices,t=Object(A.filter)(e,{type:"snackbar"}),r=Object(u.useDispatch)("core/notices").removeNotice;return Object(a.createElement)(we.SnackbarList,{notices:t,className:"edit-widgets-notices__snackbar",onRemove:r})};function Gt(){var e=Object(u.useDispatch)("core/block-editor").clearSelectedBlock;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)(pt,null),Object(a.createElement)(Ee.BlockEditorKeyboardShortcuts,null),Object(a.createElement)(Ft,null),Object(a.createElement)(we.Popover.Slot,{name:"block-toolbar"}),Object(a.createElement)("div",{tabIndex:"-1",onFocus:e},Object(a.createElement)("div",{className:"editor-styles-wrapper",onFocus:function(e){e.stopPropagation(),e.preventDefault()}},Object(a.createElement)(Ee.WritingFlow,null,Object(a.createElement)(Ee.ObserveTyping,null,Object(a.createElement)(Ee.BlockList,{className:"edit-widgets-main-block-list"}))))))}function Vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=We(e);if(t){var i=We(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Ne(this,r)}}function zt(e){e.stopPropagation()}var Ut=Object(we.withFocusOutside)(function(e){xe(r,e);var t=Vt(r);function r(){return ke(this,r),t.apply(this,arguments)}return Pe(r,[{key:"handleFocusOutside",value:function(e){this.props.onFocusOutside(e)}},{key:"render",value:function(){return this.props.children}}]),r}(a.Component)),Ht=Object(we.withConstrainedTabbing)(Object(we.withFocusReturn)((function(e){return e.children})));function qt(e){var t=e.onClose,r=e.children,n=e.className;return Object(a.createElement)("div",{className:n,onKeyDown:function(e){e.keyCode===Wt.ESCAPE&&t&&(e.stopPropagation(),t())},onMouseDown:zt},Object(a.createElement)(Ut,{onFocusOutside:t},Object(a.createElement)(Ht,null,r)))}var $t=function(){var e=Object(u.useSelect)((function(e){var t,r=(0,e("core").getEntityRecord)(h,"postType","widget-areas");return null==r||null===(t=r.blocks[0])||void 0===t?void 0:t.clientId}),[]);return Object(u.useSelect)((function(t){var r=t("core/block-editor"),n=r.getBlockRootClientId,i=r.getBlockSelectionEnd,c=r.getBlockOrder,o=r.getBlockIndex,a=i()||e,s=n(a);return a&&""===s?{rootClientId:a,insertionIndex:c(a).length}:{rootClientId:s,insertionIndex:o(a,s)+1}}),[e])};var Qt=function(e){var t=e.blockEditorSettings,r=Object(Be.useViewportMatch)("medium","<"),n=Object(Be.useViewportMatch)("huge",">="),i=Object(u.useDispatch)("core/edit-widgets"),c=i.setIsInserterOpened,o=i.closeGeneralSidebar,s=$t(),l=s.rootClientId,d=s.insertionIndex,f=Object(u.useSelect)((function(e){return{hasSidebarEnabled:!!e("core/interface").getActiveComplementaryArea("core/edit-widgets"),isInserterOpened:!!e("core/edit-widgets").isInserterOpened()}})),b=f.hasSidebarEnabled,p=f.isInserterOpened;return Object(a.useEffect)((function(){b&&!n&&c(!1)}),[b,n]),Object(a.useEffect)((function(){p&&!n&&o()}),[p,n]),Object(a.createElement)(jt.e,{header:Object(a.createElement)(Lt,null),leftSidebar:p&&Object(a.createElement)(qt,{className:"edit-widgets-layout__inserter-panel-popover-wrapper",onClose:function(){return c(!1)}},Object(a.createElement)("div",{className:"edit-widgets-layout__inserter-panel"},Object(a.createElement)("div",{className:"edit-widgets-layout__inserter-panel-header"},Object(a.createElement)(we.Button,{icon:Ct.a,onClick:function(){return c(!1)}})),Object(a.createElement)("div",{className:"edit-widgets-layout__inserter-panel-content"},Object(a.createElement)(Ee.__experimentalLibrary,{showInserterHelpPanel:!0,onSelect:function(){r&&c(!1)},rootClientId:l,__experimentalInsertionIndex:d})))),sidebar:b&&Object(a.createElement)(jt.b.Slot,{scope:"core/edit-widgets"}),content:Object(a.createElement)(Gt,{blockEditorSettings:t})})};var Yt=function(e){var t=e.blockEditorSettings;return Object(a.createElement)(Ot,{blockEditorSettings:t},Object(a.createElement)(Qt,{blockEditorSettings:t}),Object(a.createElement)(At,null),Object(a.createElement)(we.Popover.Slot,null),Object(a.createElement)(dt.PluginArea,null))};var Kt=function(e){var t=e.settings,r=Object(u.useDispatch)("core/edit-widgets").initializeState,n=je(Object(a.useState)(!1),2),i=n[0],c=n[1];return Object(a.useEffect)((function(){r(),c(!0)}),[]),i?Object(a.createElement)(Yt,{blockEditorSettings:t}):null};function Xt(e,t){var r,n,i;Object(l.registerCoreBlocks)(),Object(l.__experimentalRegisterExperimentalCoreBlocks)(t),Zt((i=null!==(n=null==(r=t)?void 0:r.availableLegacyWidgets)&&void 0!==n?n:{},{metadata:ot,name:at,settings:ct(ct({},st),{},{variations:lt(i)})})),Object(a.render)(Object(a.createElement)(Kt,{settings:t}),document.getElementById(e))}var Zt=function(e){if(e){var t=e.metadata,r=e.settings,n=e.name;t&&Object(s.unstable__bootstrapServerSideBlockDefinitions)(o({},n,t)),Object(s.registerBlockType)(n,r)}}},42:function(e,t){!function(){e.exports=this.wp.keyboardShortcuts}()},47:function(e,t,r){"use strict";r.d(t,"b",(function(){return L})),r.d(t,"c",(function(){return q})),r.d(t,"d",(function(){return ee})),r.d(t,"e",(function(){return ne})),r.d(t,"f",(function(){return T})),r.d(t,"g",(function(){return le})),r.d(t,"a",(function(){return H}));var n={};r.r(n),r.d(n,"enableComplementaryArea",(function(){return b})),r.d(n,"disableComplementaryArea",(function(){return p})),r.d(n,"pinItem",(function(){return g})),r.d(n,"unpinItem",(function(){return v}));var i={};r.r(i),r.d(i,"getActiveComplementaryArea",(function(){return O})),r.d(i,"isItemPinned",(function(){return y}));var c=r(4);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=Object(c.combineReducers)({singleEnableItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.itemType,i=t.scope,c=t.item;return"SET_SINGLE_ENABLE_ITEM"===r&&n&&i?l(l({},e),{},o({},n,l(l({},e[n]),{},o({},i,c||null)))):e},multipleEnableItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.itemType,i=t.scope,c=t.item,s=t.isEnable;if("SET_MULTIPLE_ENABLE_ITEM"!==r||!n||!i||!c||Object(a.get)(e,[n,i,c])===s)return e;var u=e[n]||{},d=u[i]||{};return l(l({},e),{},o({},n,l(l({},u),{},o({},i,l(l({},d),{},o({},c,s||!1))))))}}),d=Object(c.combineReducers)({enableItems:u});function f(e,t,r){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:r}}function b(e,t){return f("complementaryArea",e,t)}function p(e){return f("complementaryArea",e,void 0)}function m(e,t,r,n){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:r,isEnable:n}}function g(e,t){return m("pinnedItems",e,t,!0)}function v(e,t){return m("pinnedItems",e,t,!1)}function O(e,t){return function(e,t,r){return Object(a.get)(e.enableItems.singleEnableItems,[t,r])}(e,"complementaryArea",t)}function y(e,t,r){return!1!==function(e,t,r,n){return Object(a.get)(e.enableItems.multipleEnableItems,[t,r,n])}(e,"pinnedItems",t,r)}Object(c.registerStore)("core/interface",{reducer:d,actions:n,selectors:i,persist:["enableItems"]});function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var w=r(0),E=r(7),_=r.n(E),S=r(3),k=r(1),I=r(129),P=r(180),A=r(181),C=r(145),x=r(55),R=Object(x.withPluginContext)((function(e,t){return{icon:t.icon||e.icon,identifier:t.identifier||"".concat(e.name,"/").concat(t.name)}}));var N=R((function(e){var t=e.as,r=void 0===t?S.Button:t,n=e.scope,i=e.identifier,o=e.icon,s=e.selectedIcon,l=j(e,["as","scope","identifier","icon","selectedIcon"]),u=r,d=Object(c.useSelect)((function(e){return e("core/interface").getActiveComplementaryArea(n)===i}),[i]),f=Object(c.useDispatch)("core/interface"),b=f.enableComplementaryArea,p=f.disableComplementaryArea;return Object(w.createElement)(u,h({icon:s&&d?s:o,onClick:function(){d?p(n):b(n,i)}},Object(a.omit)(l,["name"])))})),W=function(e){var t=e.smallScreenTitle,r=e.children,n=e.className,i=e.toggleButtonProps,c=Object(w.createElement)(N,h({icon:C.a},i));return Object(w.createElement)(w.Fragment,null,Object(w.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&Object(w.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),c),Object(w.createElement)("div",{className:_()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},r,c))};function D(e){var t=e.scope,r=j(e,["scope"]);return Object(w.createElement)(S.Fill,h({name:"PinnedItems/".concat(t)},r))}D.Slot=function(e){var t=e.scope,r=e.className,n=j(e,["scope","className"]);return Object(w.createElement)(S.Slot,h({name:"PinnedItems/".concat(t)},n),(function(e){return!Object(a.isEmpty)(e)&&Object(w.createElement)("div",{className:_()(r,"interface-pinned-items")},e)}))};var T=D;function B(e){var t=e.scope,r=e.children,n=e.className;return Object(w.createElement)(S.Fill,{name:"ComplementaryArea/".concat(t)},Object(w.createElement)(S.Animate,{type:"slide-in",options:{origin:"left"}},(function(){return Object(w.createElement)("div",{className:n},r)})))}var M=R((function(e){var t=e.children,r=e.className,n=e.closeLabel,i=void 0===n?Object(k.__)("Close plugin"):n,o=e.identifier,a=e.header,s=e.headerClassName,l=e.icon,u=e.isPinnable,d=void 0===u||u,f=e.panelClassName,b=e.scope,p=e.smallScreenTitle,m=e.title,g=e.toggleShortcut,v=e.isActiveByDefault,O=e.showIconLabels,y=void 0!==O&&O,h=Object(c.useSelect)((function(e){var t=e("core/interface"),r=t.getActiveComplementaryArea,n=t.isItemPinned,i=r(b);return{isActive:i===o,isPinned:n(b,o),activeArea:i,isSmall:e("core/viewport").isViewportMatch("< medium"),isLarge:e("core/viewport").isViewportMatch("large")}}),[o,b]),j=h.isActive,E=h.isPinned,C=h.activeArea,x=h.isSmall,R=h.isLarge;!function(e,t,r,n,i){var o=Object(w.useRef)(!1),a=Object(w.useRef)(!1),s=Object(c.useDispatch)("core/interface"),l=s.enableComplementaryArea,u=s.disableComplementaryArea;Object(w.useEffect)((function(){n&&i&&!o.current?(u(e),a.current=!0):a.current&&!i&&o.current?(a.current=!1,l(e,t)):a.current&&r&&r!==t&&(a.current=!1),i!==o.current&&(o.current=i)}),[n,i,e,t,r])}(b,o,C,j,x);var D=Object(c.useDispatch)("core/interface"),M=D.enableComplementaryArea,L=D.disableComplementaryArea,F=D.pinItem,G=D.unpinItem;return Object(w.useEffect)((function(){v&&void 0===C&&!x&&M(b,o)}),[C,v,b,o,x]),Object(w.createElement)(w.Fragment,null,E&&d&&Object(w.createElement)(T,{scope:b},Object(w.createElement)(N,{scope:b,identifier:o,isPressed:j&&(!y||R),"aria-expanded":j,label:m,icon:y?I.a:l,showTooltip:!y})),j&&Object(w.createElement)(B,{className:_()("interface-complementary-area",r),scope:b},Object(w.createElement)(W,{className:s,closeLabel:i,onClose:function(){return L(b)},smallScreenTitle:p,toggleButtonProps:{label:i,shortcut:g,scope:b,identifier:o}},a||Object(w.createElement)(w.Fragment,null,Object(w.createElement)("strong",null,m),d&&Object(w.createElement)(S.Button,{className:"interface-complementary-area__pin-unpin-item",icon:E?P.a:A.a,label:E?Object(k.__)("Unpin from toolbar"):Object(k.__)("Pin to toolbar"),onClick:function(){return(E?G:F)(b,o)},isPressed:E,"aria-expanded":E}))),Object(w.createElement)(S.Panel,{className:f},t)))}));M.Slot=function(e){var t=e.scope,r=j(e,["scope"]);return Object(w.createElement)(S.Slot,h({name:"ComplementaryArea/".concat(t)},r))};var L=M;function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,c=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,c=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=e.name,r=e.as,n=e.onClick,i=j(e,["name","as","onClick"]);return Object(w.createElement)(S.Fill,{name:t},(function(e){var t=e.onClick,c=e.as,o=r||c||S.Button;return Object(w.createElement)(o,h({onClick:n||t?function(){(n||a.noop).apply(void 0,arguments),(t||a.noop).apply(void 0,arguments)}:void 0},i))}))}U.Slot=function(e){var t=e.name,r=e.as,n=void 0===r?[S.ButtonGroup,S.Button]:r,i=e.fillProps,c=void 0===i?{}:i,o=e.bubblesVirtually,s=j(e,["name","as","fillProps","bubblesVirtually"]),l=G(n,2),u=l[0],d=l[1];return Object(w.createElement)(S.Slot,{name:t,bubblesVirtually:o,fillProps:z({as:d},c)},(function(e){return!Object(a.isEmpty)(e)&&Object(w.createElement)(u,s,e)}))};var H=U;function q(e){var t=e.scope,r=e.target,n=j(e,["scope","target"]);return Object(w.createElement)(N,h({as:function(e){return Object(w.createElement)(H,h({name:"".concat(t,"/plugin-more-menu")},e))},role:"menuitemcheckbox",selectedIcon:I.a,name:r,scope:t},n))}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Z(e);if(t){var i=Z(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return X(this,r)}}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(c,e);var t,r,n,i=J(c);function c(){return $(this,c),i.apply(this,arguments)}return t=c,(r=[{key:"componentDidMount",value:function(){this.isSticky=!1,this.sync(),document.body.classList.contains("sticky-menu")&&(this.isSticky=!0,document.body.classList.remove("sticky-menu"))}},{key:"componentWillUnmount",value:function(){this.isSticky&&document.body.classList.add("sticky-menu")}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&this.sync()}},{key:"sync",value:function(){this.props.isActive?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode")}},{key:"render",value:function(){return null}}])&&Q(t.prototype,r),n&&Q(t,n),c}(w.Component);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=Object(S.navigateRegions)((function(e){var t=e.footer,r=e.header,n=e.sidebar,i=e.leftSidebar,c=e.content,o=e.actions,a=e.labels,s=e.className;!function(e){Object(w.useEffect)((function(){var t=document&&document.querySelector("html:not(.".concat(e,")"));if(t)return t.classList.toggle(e),function(){t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");var l=re(re({},{
/* translators: accessibility text for the top bar landmark region. */
header:Object(k.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(k.__)("Content"),
/* translators: accessibility text for the left sidebar landmark region. */
leftSidebar:Object(k.__)("Left sidebar"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(k.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(k.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(k.__)("Footer")}),a);return Object(w.createElement)("div",{className:_()(s,"interface-interface-skeleton")},!!r&&Object(w.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":l.header,tabIndex:"-1"},r),Object(w.createElement)("div",{className:"interface-interface-skeleton__body"},!!i&&Object(w.createElement)("div",{className:"interface-interface-skeleton__left-sidebar",role:"region","aria-label":l.leftSidebar,tabIndex:"-1"},i),Object(w.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":l.body,tabIndex:"-1"},c),!!n&&Object(w.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":l.sidebar,tabIndex:"-1"},n),!!o&&Object(w.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":l.actions,tabIndex:"-1"},o)),!!t&&Object(w.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":l.footer,tabIndex:"-1"},t))})),ie="__experimentalMainDashboardButton",ce=Object(S.createSlotFill)(ie),oe=ce.Fill,ae=ce.Slot,se=oe;se.Slot=function(e){var t=e.children,r=Object(S.__experimentalUseSlot)(ie);return Boolean(r.fills&&r.fills.length)?Object(w.createElement)(ae,{bubblesVirtually:!0}):t};var le=se},5:function(e,t){!function(){e.exports=this.wp.blockEditor}()},55:function(e,t){!function(){e.exports=this.wp.plugins}()},6:function(e,t){!function(){e.exports=this.wp.primitives}()},7:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var c=typeof n;if("string"===c||"number"===c)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===c)for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?e.exports=i:void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},74:function(e,t){!function(){e.exports=this.wp.notices}()},77:function(e,t){!function(){e.exports=this.wp.mediaUtils}()},79:function(e,t){!function(){e.exports=this.wp.blockLibrary}()},8:function(e,t){!function(){e.exports=this.wp.blocks}()},9:function(e,t){!function(){e.exports=this.wp.compose}()}});