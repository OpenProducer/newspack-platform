window.wp=window.wp||{},window.wp.editWidgets=function(e){var t={};function r(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,r),c.l=!0,c.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(n,c,function(t){return e[t]}.bind(null,c));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=383)}({0:function(e,t){e.exports=window.wp.element},1:function(e,t){e.exports=window.wp.i18n},10:function(e,t){e.exports=window.wp.blocks},106:function(e,t){e.exports=window.wp.reusableBlocks},11:function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n))e.push(c.apply(null,n));else if("object"===a)for(var i in n)r.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}e.exports?e.exports=c:void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},12:function(e,t){e.exports=window.wp.compose},124:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M13 11.9l3.3-3.4-1.1-1-3.2 3.3-3.2-3.3-1.1 1 3.3 3.4-3.5 3.6 1 1L12 13l3.5 3.5 1-1z"}));t.a=a},125:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));t.a=a},126:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"}));t.a=a},13:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(45);function c(e,t){if(null==e)return{};var r,c,a=Object(n.a)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)r=i[c],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}},14:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(23),c=r(37),a=r(30);function i(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||Object(c.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},141:function(e,t,r){"use strict";var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),c=new Uint8Array(16);function a(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(c)}for(var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,o=function(e){return"string"==typeof e&&i.test(e)},s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));t.a=function(e,t,r){var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var c=0;c<16;++c)t[r+c]=n[c];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!o(r))throw TypeError("Stringified UUID is invalid");return r}(n)}},15:function(e,t){e.exports=window.regeneratorRuntime},154:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"}));t.a=a},155:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));t.a=a},17:function(e,t){e.exports=window.wp.keycodes},175:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));t.a=a},176:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"}));t.a=a},18:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},193:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=a},2:function(e,t){e.exports=window.lodash},20:function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},23:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},245:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));t.a=a},246:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(c.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));t.a=a},25:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},26:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return c}))},27:function(e,t){e.exports=window.wp.url},272:function(e,t,r){"use strict";var n=r(0),c=r(7),a=Object(n.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(n.createElement)(c.Path,{d:"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z"}));t.a=a},28:function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}r.d(t,"a",(function(){return c}))},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(41),c=r(18);function a(e,t){return!t||"object"!==Object(n.a)(t)&&"function"!=typeof t?Object(c.a)(e):t}},3:function(e,t){e.exports=window.wp.components},30:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(23);function c(e,t){if(e){if("string"==typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},33:function(e,t){e.exports=window.wp.hooks},37:function(e,t,r){"use strict";function n(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}r.d(t,"a",(function(){return n}))},38:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return n}))},383:function(e,t,r){"use strict";r.r(t),r.d(t,"initialize",(function(){return Pr}));var n={};r.r(n),r.d(n,"persistStubPost",(function(){return ee})),r.d(n,"saveEditedWidgetAreas",(function(){return te})),r.d(n,"saveWidgetAreas",(function(){return re})),r.d(n,"saveWidgetArea",(function(){return ne})),r.d(n,"setWidgetIdForClientId",(function(){return ae})),r.d(n,"setWidgetAreasOpenState",(function(){return ie})),r.d(n,"setIsWidgetAreaOpen",(function(){return oe})),r.d(n,"setIsInserterOpened",(function(){return se})),r.d(n,"closeGeneralSidebar",(function(){return ue}));var c={};r.r(c),r.d(c,"getWidgetAreas",(function(){return pe})),r.d(c,"getWidgets",(function(){return me}));var a={};r.r(a),r.d(a,"getWidgets",(function(){return ve})),r.d(a,"getWidget",(function(){return je})),r.d(a,"getWidgetAreas",(function(){return ye})),r.d(a,"getWidgetIdForClientId",(function(){return he})),r.d(a,"getWidgetAreaForClientId",(function(){return we})),r.d(a,"getEditedWidgetAreas",(function(){return Ee})),r.d(a,"getReferenceWidgetBlocks",(function(){return _e})),r.d(a,"isSavingWidgetAreas",(function(){return Se})),r.d(a,"getIsWidgetAreaOpen",(function(){return Ie})),r.d(a,"isInserterOpened",(function(){return ke}));var i={};r.r(i),r.d(i,"enqueueItemAndAutocommit",(function(){return De})),r.d(i,"enqueueItemAndWaitForResults",(function(){return Be})),r.d(i,"enqueueItem",(function(){return Le})),r.d(i,"processBatch",(function(){return Fe})),r.d(i,"commitTransaction",(function(){return Ue})),r.d(i,"prepareBatchForProcessing",(function(){return qe})),r.d(i,"registerProcessor",(function(){return He}));var o={};r.r(o),r.d(o,"getBatch",(function(){return Ye})),r.d(o,"getProcessor",(function(){return $e})),r.d(o,"getPromise",(function(){return Ke})),r.d(o,"getPromises",(function(){return Xe}));var s={};r.r(s),r.d(s,"metadata",(function(){return Qt})),r.d(s,"name",(function(){return Yt})),r.d(s,"settings",(function(){return $t}));var u=r(6),l=r(0),d=r(10),b=r(70),f=r(44),p=r.n(f),m=r(4),g=r(13);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=Object(m.combineReducers)({mapping:function(e,t){var r=t.type,n=Object(g.a)(t,["type"]);if("SET_WIDGET_TO_CLIENT_ID_MAPPING"===r)return n.mapping;if("SET_WIDGET_ID_FOR_CLIENT_ID"===r){var c=v({},e);return c[t.widgetId]=t.clientId,c}return e||{}},isInserterOpened:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_INSERTER_OPENED":return t.value}return e},widgetAreasOpenState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type;switch(r){case"SET_WIDGET_AREAS_OPEN_STATE":return t.widgetAreasOpenState;case"SET_IS_WIDGET_AREA_OPEN":var n=t.clientId,c=t.isOpen;return v(v({},e),{},Object(u.a)({},n,c));default:return e}}}),y=r(15),h=r.n(y),w=r(14),E="root",_=function(e){return"widget-area-".concat(e)},S=function(e,t){return{id:e,slug:e,status:"draft",type:"page",blocks:t,meta:{widgetAreaId:e}}},I="core/edit-widgets";function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{per_page:-1};return{type:"RESOLVE_WIDGET_AREAS",query:e}}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{per_page:-1};return{type:"RESOLVE_WIDGETS",query:e}}function x(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),c=2;c<r;c++)n[c-2]=arguments[c];return{type:"SELECT",registryName:e,selectorName:t,args:n}}function R(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),c=2;c<r;c++)n[c-2]=arguments[c];return{type:"DISPATCH",registryName:e,actionName:t,args:n}}var A={AWAIT_PROMISE:function(e){return e.promise},SELECT:Object(m.createRegistryControl)((function(e){return function(t){var r,n=t.registryName,c=t.selectorName,a=t.args;return(r=e.select(n))[c].apply(r,Object(w.a)(a))}})),GET_PENDING_ACTIONS:Object(m.createRegistryControl)((function(e){return function(t){var r,n=t.postId;return(null===(r=C(e).processingQueue[n])||void 0===r?void 0:r.pendingActions)||[]}})),IS_PROCESSING_POST:Object(m.createRegistryControl)((function(e){return function(t){var r,n=t.postId;return null===(r=C(e).processingQueue[n])||void 0===r?void 0:r.inProgress}})),GET_WIDGET_TO_CLIENT_ID_MAPPING:Object(m.createRegistryControl)((function(e){return function(){return C(e).mapping||{}}})),DISPATCH:Object(m.createRegistryControl)((function(e){return function(t){var r,n=t.registryName,c=t.actionName,a=t.args;return(r=e.dispatch(n))[c].apply(r,Object(w.a)(a))}})),RESOLVE_WIDGET_AREAS:Object(m.createRegistryControl)((function(e){return function(t){var r=t.query;return e.__experimentalResolveSelect("core").getEntityRecords(E,"sidebar",r)}})),RESOLVE_WIDGETS:Object(m.createRegistryControl)((function(e){return function(t){var r=t.query;return e.__experimentalResolveSelect("core").getEntityRecords("root","widget",r)}}))},C=function(e){return e.stores[I].store.getState()},T=A,N=r(2),W=r(1),D=r(47),B=r(49),L="core/__experimental-batch-processing";function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e){if("WP_Widget_Block"===e.widget_class){var t=Object(d.parse)(e.settings.content);return t.length?t[0]:Object(d.createBlock)("core/paragraph",{},[])}var r={name:e.name,form:e.form,instance:e.settings,idBase:e.id_base,number:e.number};return e.widget_class?r.widgetClass=e.widget_class:r.referenceWidgetName=e.id,Object(d.createBlock)("core/legacy-widget",r,[])}function U(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.name;return"core/legacy-widget"===n?(delete(t=e.attributes.referenceWidgetName?H(e,r):q(e,r)).form,delete t.rendered,t):G(G({},r),{},{id_base:"block",widget_class:"WP_Widget_Block",settings:{content:Object(d.serialize)(e)}})}function q(e,t){var r=e.attributes;return G(G({},t),{},{widget_class:r.widgetClass,id_base:r.idBase,settings:r.instance})}function H(e,t){var r=e.attributes;return G(G({},t),{},{id:r.referenceWidgetName,settings:r.instance})}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Q(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Y(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $=h.a.mark(te),K=h.a.mark(re),X=h.a.mark(ne),Z=h.a.mark(ce),J=h.a.mark(ue),ee=h.a.mark((function e(t,r){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=S(t,r),e.next=3,R("core","receiveEntityRecords",E,"postType",n,{id:n.id},!1);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}));function te(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(I,"getEditedWidgetAreas");case 2:if(null!=(e=t.sent)&&e.length){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.delegateYield(re(e),"t0",7);case 7:return t.next=9,R(D.store,"createSuccessNotice",Object(W.__)("Widgets saved."),{type:"snackbar"});case 9:t.next=15;break;case 11:return t.prev=11,t.t1=t.catch(5),t.next=15,R(D.store,"createErrorNotice",
/* translators: %s: The error message. */
Object(W.sprintf)(Object(W.__)("There was an error. %s"),t.t1.message),{type:"snackbar"});case 15:case"end":return t.stop()}}),$,null,[[5,11]])}function re(e){var t,r,n;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:c.prev=0,t=Q(e),c.prev=2,t.s();case 4:if((r=t.n()).done){c.next=9;break}return n=r.value,c.delegateYield(ne(n.id),"t0",7);case 7:c.next=4;break;case 9:c.next=14;break;case 11:c.prev=11,c.t1=c.catch(2),t.e(c.t1);case 14:return c.prev=14,t.f(),c.finish(14);case 17:return c.prev=17,c.next=20,R("core","finishResolution","getEntityRecord",E,"sidebar",{per_page:-1});case 20:return c.finish(17);case 21:case"end":return c.stop()}}),K,null,[[0,,17,21],[2,11,14,17]])}function ne(e){var t,r,n,c,a,i,o,s,u,l,d,b,f,p,g,O,v,j,y,w,S,k,P,A,C;return h.a.wrap((function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,x(I,"getWidgets");case 2:return t=h.sent,h.next=5,{type:"GET_WIDGET_TO_CLIENT_ID_MAPPING"};case 5:return r=h.sent,n=Object(N.invert)(r),h.next=9,x("core","getEditedEntityRecord",E,"postType",_(e));case 9:c=h.sent,a=[],i=c.blocks.filter((function(e){var t=e.attributes.referenceWidgetName;if(t){if(a.includes(t))return!1;a.push(t)}return!0})),o=[],s=[],u=0;case 15:if(!(u<i.length)){h.next=37;break}if(l=i[u],d=n[l.clientId],b=t[d],f=U(l,b),s.push(d),!d){h.next=32;break}return h.next=24,R("core","editEntityRecord","root","widget",d,z(z({},f),{},{sidebar:e}));case 24:return h.next=26,x("core","hasEditsForEntityRecord","root","widget",d);case 26:if(h.sent){h.next=29;break}return h.abrupt("continue",34);case 29:Object(m.dispatch)("core").saveEditedEntityRecord("root","widget",d,f),h.next=33;break;case 32:Object(m.dispatch)("core").saveEntityRecord("root","widget",z(z({},f),{},{sidebar:e}));case 33:o.push({block:l,position:u,clientId:l.clientId});case 34:u++,h.next=15;break;case 37:return h.next=39,{type:"AWAIT_PROMISE",promise:Promise.resolve()};case 39:return h.next=41,R("core/__experimental-batch-processing","processBatch","WIDGETS_API_FETCH","default");case 41:if("SUCCESS"===(p=h.sent).state){h.next=55;break}g=p.sortedItemIds.map((function(e){return p.errors[e]})),O=[],v=0;case 46:if(!(v<g.length)){h.next=54;break}if(g[v]){h.next=49;break}return h.abrupt("continue",51);case 49:y=o[v].block,O.push((null===(j=y.attributes)||void 0===j?void 0:j.name)||(null==y?void 0:y.name));case 51:v++,h.next=46;break;case 54:throw new Error(Object(W.sprintf)(
/* translators: %s: List of widget names */
Object(W.__)("Could not save the following widgets: %s."),O.join(", ")));case 55:w=0;case 56:if(!(w<p.sortedItemIds.length)){h.next=67;break}if(S=p.sortedItemIds[w],k=p.results[S],P=o[w],A=P.clientId,C=P.position,s[C]||(s[C]=k.id),A===r[k.id]){h.next=64;break}return h.next=64,ae(A,k.id);case 64:w++,h.next=56;break;case 67:return h.next=69,R("core","editEntityRecord",E,"sidebar",e,{widgets:s});case 69:return h.delegateYield(ce(e),"t0",70);case 70:return h.next=72,R("core","receiveEntityRecords",E,"postType",c,void 0);case 72:case"end":return h.stop()}}),X)}function ce(e){var t,r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x("core","getLastEntitySaveError",E,"sidebar",e);case 2:return t=n.sent,n.next=5,R("core","saveEditedEntityRecord",E,"sidebar",e);case 5:return n.next=7,x("core","getLastEntitySaveError",E,"sidebar",e);case 7:if(!(r=n.sent)||t===r){n.next=10;break}throw new Error(r);case 10:case"end":return n.stop()}}),Z)}function ae(e,t){return{type:"SET_WIDGET_ID_FOR_CLIENT_ID",clientId:e,widgetId:t}}function ie(e){return{type:"SET_WIDGET_AREAS_OPEN_STATE",widgetAreasOpenState:e}}function oe(e,t){return{type:"SET_IS_WIDGET_AREA_OPEN",clientId:e,isOpen:t}}function se(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function ue(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(B.g.name,"disableComplementaryArea",I);case 2:case"end":return e.stop()}}),J)}var le=h.a.mark(pe),de=h.a.mark(me);function be(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return fe(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pe(){var e,t,r,n,c,a,i,o;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e={per_page:-1},s.next=3,k(e);case 3:return s.next=5,x("core","getEntityRecords",E,"sidebar",e);case 5:t=s.sent,r=[],n=t.sort((function(e,t){return"wp_inactive_widgets"===e.id?1:"wp_inactive_widgets"===t.id?-1:0})),c=be(n),s.prev=9,c.s();case 11:if((a=c.n()).done){s.next=19;break}if(i=a.value,r.push(Object(d.createBlock)("core/widget-area",{id:i.id,name:i.name})),i.widgets.length){s.next=17;break}return s.next=17,ee(_(i.id),[]);case 17:s.next=11;break;case 19:s.next=24;break;case 21:s.prev=21,s.t0=s.catch(9),c.e(s.t0);case 24:return s.prev=24,c.f(),s.finish(24);case 27:return o={},r.forEach((function(e,t){o[e.clientId]=0===t})),s.next=31,ie(o);case 31:return s.next=33,ee("widget-areas",r);case 33:case"end":return s.stop()}}),le,null,[[9,21,24,27]])}function me(){var e,t,r,n,c,a,i,o,s;return h.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e={per_page:-1},u.next=3,P(e);case 3:return u.next=5,x("core","getEntityRecords","root","widget",e);case 5:t=u.sent,r={},n={},c=be(t);try{for(c.s();!(a=c.n()).done;)i=a.value,o=F(i),r[i.id]=o.clientId,n[i.sidebar]=n[i.sidebar]||[],n[i.sidebar].push(o)}catch(e){c.e(e)}finally{c.f()}u.t0=h.a.keys(n);case 11:if((u.t1=u.t0()).done){u.next=18;break}if(s=u.t1.value,!n.hasOwnProperty(s)){u.next=16;break}return u.next=16,ee(_(s),n[s]);case 16:u.next=11;break;case 18:return u.next=20,{type:"SET_WIDGET_TO_CLIENT_ID_MAPPING",mapping:r};case 20:case"end":return u.stop()}}),de)}function ge(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Oe(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ve=Object(m.createRegistrySelector)((function(e){return function(){var t=e("core").getEntityRecords("root","widget",{per_page:-1});return Object(N.keyBy)(t,"id")}})),je=Object(m.createRegistrySelector)((function(e){return function(t,r){return e(I).getWidgets()[r]}})),ye=Object(m.createRegistrySelector)((function(e){return function(){return e("core").getEntityRecords(E,"sidebar",{per_page:-1})}})),he=function(e,t){var r=e.mapping;return Object(N.invert)(r)[t]},we=Object(m.createRegistrySelector)((function(e){return function(t,r){var n,c=ge(e(I).getWidgetAreas());try{for(c.s();!(n=c.n()).done;){var a=n.value;if(e("core").getEditedEntityRecord(E,"postType",_(a.id)).blocks.map((function(e){return e.clientId})).includes(r))return a}}catch(e){c.e(e)}finally{c.f()}}})),Ee=Object(m.createRegistrySelector)((function(e){return function(t,r){var n=e(I).getWidgetAreas();return n?(r&&(n=n.filter((function(e){var t=e.id;return r.includes(t)}))),n.filter((function(t){var r=t.id;return e("core").hasEditsForEntityRecord(E,"postType",_(r))})).map((function(t){var r=t.id;return e("core").getEditedEntityRecord(E,"sidebar",r)}))):[]}})),_e=Object(m.createRegistrySelector)((function(e){return function(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=[],a=e(I).getWidgetAreas(),i=ge(a);try{for(i.s();!(r=i.n()).done;){var o,s=r.value,u=e("core").getEditedEntityRecord(E,"postType",_(s.id)),l=ge(u.blocks);try{for(l.s();!(o=l.n()).done;){var d,b=o.value;"core/legacy-widget"!==b.name||n&&(null===(d=b.attributes)||void 0===d?void 0:d.referenceWidgetName)!==n||c.push(b)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){i.e(e)}finally{i.f()}return c}})),Se=Object(m.createRegistrySelector)((function(e){return function(){var t,r=null===(t=e(I).getWidgetAreas())||void 0===t?void 0:t.map((function(e){return e.id}));if(!r)return!1;var n,c=ge(r);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(e("core").isSavingEntityRecord(E,"sidebar",a))return!0}}catch(e){c.e(e)}finally{c.f()}var i,o=ge([].concat(Object(w.a)(Object.keys(e(I).getWidgets())),[void 0]));try{for(o.s();!(i=o.n()).done;){var s=i.value;if(e("core").isSavingEntityRecord("root","widget",s))return!0}}catch(e){o.e(e)}finally{o.f()}return!1}})),Ie=function(e,t){return!!e.widgetAreasOpenState[t]};function ke(e){return e.isInserterOpened}var Pe=r(42),xe=r(141);function Re(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{type:"SELECT",selectorName:e,args:r}}function Ae(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return{type:"DISPATCH",actionName:e,args:r}}function Ce(e,t){return{type:"PROCESS_TRANSACTION",batch:e,transactionId:t}}function Te(e,t,r){return{type:"ENQUEUE_ITEM_AND_AUTOCOMMIT",queue:e,context:t,item:r}}var Ne={SELECT:Object(m.createRegistryControl)((function(e){return function(t){var r,n=t.selectorName,c=t.args;return(r=e.select(L))[n].apply(r,Object(w.a)(c))}})),DISPATCH:Object(m.createRegistryControl)((function(e){return function(t){var r,n=t.actionName,c=t.args;return(r=e.dispatch(L))[n].apply(r,Object(w.a)(c))}})),ENQUEUE_ITEM_AND_AUTOCOMMIT:Object(m.createRegistryControl)((function(e){return function(){var t=Object(Pe.a)(h.a.mark((function t(r){var n,c,a,i,o,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.queue,c=r.context,a=r.item,t.next=3,e.dispatch(L).enqueueItem(n,c,a);case 3:return i=t.sent,o=i.itemId,t.next=7,e.dispatch(L).processBatch(n,c);case 7:if("ERROR"!==(s=t.sent).state){t.next=10;break}throw s.errors[o];case 10:return t.abrupt("return",s.results[o]);case 11:case"end":return t.stop()}}),t)})));return function(_x){return t.apply(this,arguments)}}()})),PROCESS_TRANSACTION:Object(m.createRegistryControl)((function(e){return function(){var t=Object(Pe.a)(h.a.mark((function t(r){var n,c,a,i,o,s,u,l,d,b,f,p,m,g,O;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.batch,c=r.transactionId,a=n.transactions,i=n.queue,o=a[c],s=e.select(L).getProcessor(i)){t.next=6;break}throw new Error('There is no batch processor registered for "'.concat(i,'" queue. ')+"Register one by dispatching registerProcessor() action on ".concat(L," store."));case 6:return u=o.items.map((function(e){return e.id})),l=o.items.map((function(e){return e.item})),t.prev=8,t.next=11,s(l,n);case 11:d=t.sent,t.next=19;break;case 14:for(t.prev=14,t.t0=t.catch(8),b={},f=0,p=u.length;f<p;f++)b[u[f]]=Array.isArray(t.t0)?t.t0[f]:t.t0;throw{isTransactionError:!0,exception:t.t0,errorsById:b};case 19:for(m={},g=0,O=u.length;g<O;g++)m[u[g]]=d[g];return t.abrupt("return",m);case 22:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(e){return t.apply(this,arguments)}}()}))},We=h.a.mark(Ue),De=h.a.mark((function e(t,r,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(t,r,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),Be=h.a.mark((function e(t,r,n){var c,a,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae("enqueueItem",t,r,n);case 2:return c=e.sent,a=c.itemId,e.delegateYield(Ge(t,r),"t0",5);case 5:return i=e.t0,o=i.promise,e.abrupt("return",{wait:o.then((function(e){if("ERROR"===e.state)throw e.errors[a];return e.results[a]}))});case 8:case"end":return e.stop()}}),e)})),Le=function(e,t,r){return{type:"ENQUEUE_ITEM",queue:e,context:t,item:r,itemId:Object(xe.a)()}},Me=function(e,t){var r={type:"SETUP_PROMISE",queue:e,context:t};return r.promise=new Promise((function(e,t){r.resolve=e,r.reject=t})),r},Ge=h.a.mark((function e(t,r){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re("getPromise",t,r);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,Me(t,r);case 7:return e.next=9,Re("getPromise",t,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})),Fe=h.a.mark((function e(t,r){var n,c,a,i,o,s,u,l,d,b,f=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>2&&void 0!==f[2]?f[2]:{},c=Object(xe.a)(),e.next=4,qe(t,r,c,n);case 4:return e.next=6,Re("getBatch",c);case 6:return a=e.sent,i=a.transactions,e.next=10,{queue:t,context:r,batchId:c,type:"BATCH_START"};case 10:o=!1,s=0,u=Object.keys(i);case 12:if(!(s<u.length)){e.next=20;break}return l=u[s],e.delegateYield(Ue(c,l),"t0",15);case 15:"ERROR"===e.t0.state&&(o=!0);case 17:s++,e.next=12;break;case 20:return e.next=22,Re("getPromise",t,r);case 22:return d=e.sent,e.next=25,{queue:t,context:r,batchId:c,type:"BATCH_FINISH",state:o?"ERROR":"SUCCESS"};case 25:return e.next=27,Re("getBatch",c);case 27:return b=e.sent,d&&d.resolve(b),e.abrupt("return",b);case 30:case"end":return e.stop()}}),e)}));function Ue(e,t){var r,n,c,a,i,o;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,{batchId:e,transactionId:t,type:"COMMIT_TRANSACTION_START"};case 2:return s.next=4,Re("getBatch",e);case 4:return r=s.sent,n=!1,s.prev=6,s.next=9,Ce(r,t);case 9:i=s.sent,s.next=19;break;case 12:if(s.prev=12,s.t0=s.catch(6),n=!0,s.t0.isTransactionError){s.next=17;break}throw s.t0;case 17:a=s.t0,c=a.errorsById;case 19:return o={batchId:e,transactionId:t,results:i,errors:c,exception:a,type:"COMMIT_TRANSACTION_FINISH",state:n?"ERROR":"SUCCESS"},s.next=22,o;case 22:return s.abrupt("return",o);case 23:case"end":return s.stop()}}),We,null,[[6,12]])}function qe(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"PREPARE_BATCH_FOR_PROCESSING",queue:e,context:t,batchId:r,meta:n}}var He=function(e,t){return{type:"REGISTER_PROCESSOR",queue:e,callback:t}};function Ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qe={lastBatchId:0,enqueuedItems:{},batches:{},processors:{},promises:{}},Ye=function(e,t){return e.batches[t]},$e=function(e,t){return e.processors[t]},Ke=function(e,t,r){var n;return null===(n=e.promises[t])||void 0===n?void 0:n[r]},Xe=function(e,t){return Object.values(e.promises[t]||{}).map((function(e){return e.promise}))},Ze={actions:i,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ENQUEUE_ITEM":var r=t.queue,n=t.context,c=t.item,a=t.itemId,i=e.enqueuedItems[r]||{},o=i[n]||[];return ze(ze({},e),{},{enqueuedItems:ze(ze({},e.enqueuedItems),{},Object(u.a)({},r,ze(ze({},i),{},Object(u.a)({},n,[].concat(Object(w.a)(o),[{id:a,item:c}])))))});case"PREPARE_BATCH_FOR_PROCESSING":var s=t.queue,l=t.context,d=t.batchId,b=t.meta;if(d in e.batches)throw new Error("Batch ".concat(d," already exists"));for(var f=e.enqueuedItems[s]||{},p=Object(w.a)(f[l]||[]),m=p.map((function(e){return e.id})),g={},O=0;p.length;){var v="".concat(d,"-").concat(O);g[v]={number:O,id:v,items:p.splice(0,20)},++O}var j={id:d,state:"NEW",queue:s,context:l,sortedItemIds:m,transactions:g,results:{},meta:b};return ze(ze({},e),{},{enqueuedItems:ze(ze({},e.enqueuedItems),{},Object(u.a)({},s,ze(ze({},f),{},Object(u.a)({},l,[])))),batches:ze(ze({},e.batches),{},Object(u.a)({},d,j))});case"SETUP_PROMISE":return ze(ze({},e),{},{promises:ze(ze({},e.promises),{},Object(u.a)({},t.queue,ze(ze({},e.promises[t.queue]||{}),{},Object(u.a)({},t.context,{promise:t.promise,resolve:t.resolve,reject:t.reject}))))});case"BATCH_START":var y=t.batchId;return ze(ze({},e),{},{batches:ze(ze({},e.batches),{},Object(u.a)({},y,ze(ze({},e.batches[y]),{},{state:"IN_PROGRESS"})))});case"BATCH_FINISH":var h=t.batchId,E=t.state;return ze(ze({},e),{},{batches:ze(ze({},e.batches),{},Object(u.a)({},h,ze(ze({},e.batches[h]),{},{state:"SUCCESS"===E?"SUCCESS":"ERROR"}))),promises:ze(ze({},e.promises),{},Object(u.a)({},t.queue,Object(N.omit)(e.promises[t.queue]||{},[t.context])))});case"COMMIT_TRANSACTION_START":var _=t.batchId,S=t.transactionId;return ze(ze({},e),{},{batches:ze(ze({},e.batches),{},Object(u.a)({},_,ze(ze({},e.batches[_]),{},{transactions:ze(ze({},e.batches[_].transactions),{},Object(u.a)({},S,ze(ze({},e.batches[_].transactions[S]),{},{state:"IN_PROGRESS"})))})))});case"COMMIT_TRANSACTION_FINISH":var I=t.batchId,k=t.state,P=t.transactionId,x=t.results,R=void 0===x?{}:x,A=t.errors,C=void 0===A?{}:A,T=t.exception,W=e.batches[I]||{};return ze(ze({},e),{},{batches:ze(ze({},e.batches),{},Object(u.a)({},I,ze(ze({},W),{},{transactions:ze(ze({},W.transactions),{},Object(u.a)({},P,ze(ze({},W.transactions[P]),{},{state:"SUCCESS"}))),results:ze(ze({},W.results),R),state:"SUCCESS"===k?"SUCCESS":"ERROR",errors:C,exception:T})))});case"REGISTER_PROCESSOR":var D=t.queue,B=t.callback;return ze(ze({},e),{},{processors:ze(ze({},e.processors),{},Object(u.a)({},D,B))})}return e},controls:Ne,selectors:o};function Je(e){return e.startsWith("/wp/v2/widgets")}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(Pe.a)(h.a.mark((function e(t,r){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ERROR"!==r.state){e.next=2;break}throw{code:"transaction_failed",data:{status:500},message:"Transaction failed."};case 2:return e.next=4,p()({path:"/v1/batch",method:"POST",data:{validation:"require-all-validate",requests:t.map((function(e){return{path:e.path,body:e.data,method:e.method,headers:e.headers}}))}});case 4:if(!(n=e.sent).failed){e.next=7;break}throw n.responses.map((function(e){return null===e?null:e.body}));case 7:return e.abrupt("return",n.responses.map((function(e){return e.body})));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(m.registerStore)(L,Ze),setTimeout((function(){p.a.use(function(){var e=Object(Pe.a)(h.a.mark((function e(t,r){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(["POST","PUT","PATCH","DELETE"].includes(t.method)&&Je(t.path)){e.next=2;break}return e.abrupt("return",r(t));case 2:return e.next=4,a=t,Object(m.dispatch)("core/__experimental-batch-processing").enqueueItemAndWaitForResults("WIDGETS_API_FETCH","default",a);case 4:return n=e.sent,c=n.wait,e.abrupt("return",c.catch((function(e){throw null===e&&(e={code:"transaction_failed",data:{status:400},message:Object(W.__)("This item could not be saved because another item encountered an error when trying to save.")}),e})));case 7:case"end":return e.stop()}var a}),e)})));return function(_x,t){return e.apply(this,arguments)}}()),p.a.use(function(){var e=Object(Pe.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!["GET",void 0].includes(t.method)||!Je(t.path)){e.next=3;break}return e.next=3,Promise.all(Object(m.select)("core/__experimental-batch-processing").getPromises("WIDGETS_API_FETCH"));case 3:return e.abrupt("return",r(t));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),Object(m.dispatch)("core/__experimental-batch-processing").registerProcessor("WIDGETS_API_FETCH",et)}));var rt={reducer:j,controls:T,selectors:a,resolvers:c,actions:n},nt=Object(m.createReduxStore)(I,rt);Object(m.register)(nt),p.a.use((function(e,t){var r;return 0===(null===(r=e.path)||void 0===r?void 0:r.indexOf("/wp/v2/types/widget-area"))?Promise.resolve({}):t(e)}));var ct=r(33),at=r(73);Object(ct.addFilter)("editor.MediaUpload","core/edit-widgets/replace-media-upload",(function(){return at.MediaUpload}));var it=r(7),ot=Object(l.createElement)(it.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(l.createElement)(it.Path,{d:"M7 11h2v2H7v-2zm14-5v14l-2 2H5l-2-2V6l2-2h1V2h2v2h8V2h2v2h1l2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z"})),st=r(9),ut=r(3),lt=r(5),dt=Object(l.createElement)(it.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(l.createElement)(it.Path,{d:"M18.33 3.57s.27-.8-.31-1.36c-.53-.52-1.22-.24-1.22-.24-.61.3-5.76 3.47-7.67 5.57-.86.96-2.06 3.79-1.09 4.82.92.98 3.96-.17 4.79-1 2.06-2.06 5.21-7.17 5.5-7.79zM1.4 17.65c2.37-1.56 1.46-3.41 3.23-4.64.93-.65 2.22-.62 3.08.29.63.67.8 2.57-.16 3.46-1.57 1.45-4 1.55-6.15.89z"})),bt=r(272),ft=r(8),pt=r(25),mt=r(26),gt=r(18),Ot=r(28),vt=r(29),jt=r(20),yt=r(12);function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wt=function(e){Object(Ot.a)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Object(jt.a)(t);if(r){var c=Object(jt.a)(this).constructor;e=Reflect.construct(n,arguments,c)}else e=n.apply(this,arguments);return Object(vt.a)(this,e)});function c(){var e;return Object(pt.a)(this,c),(e=n.apply(this,arguments)).containerRef=Object(l.createRef)(),e.formRef=Object(l.createRef)(),e.widgetContentRef=Object(l.createRef)(),e.idBaseInputRef=Object(l.createRef)(),e.widgetNumberInputRef=Object(l.createRef)(),e.triggerWidgetEvent=e.triggerWidgetEvent.bind(Object(gt.a)(e)),e.handleChange=e.handleChange.bind(Object(gt.a)(e)),e}return Object(mt.a)(c,[{key:"componentDidMount",value:function(){this.triggerWidgetEvent("widget-added"),this.props.onMount&&this.props.onMount(this.getFormData());var e=this.formRef.current;e&&(e.addEventListener("change",this.handleChange),e.addEventListener("input",this.handleChange))}},{key:"componentWillUnmount",value:function(){var e=this.formRef.current;e&&(e.removeEventListener("change",this.handleChange),e.removeEventListener("input",this.handleChange)),window.cancelAnimationFrame(this.rafId)}},{key:"shouldComponentUpdate",value:function(e){var t=!1;return e.idBase!==this.props.idBase&&this.idBaseInputRef.current&&(this.idBaseInputRef.current.value=e.idBase,t=!0),e.number!==this.props.number&&this.widgetNumberInputRef.current&&(this.widgetNumberInputRef.current.value=e.number),e.form!==this.props.form&&this.widgetContentRef.current&&(this.widgetContentRef.current.innerHTML=e.form,t=!0),t&&this.triggerWidgetEvent("widget-updated"),!1}},{key:"handleChange",value:function(){var e=this;this.rafId||(this.rafId=window.requestAnimationFrame((function(){e.props.onInstanceChange(e.getFormData()),e.rafId=null})))}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.idBase,n=e.number,c=e.form;return Object(l.createElement)("div",{className:"widget open",ref:this.containerRef},Object(l.createElement)("div",{className:"widget-inside"},Object(l.createElement)("form",{className:"form",ref:this.formRef,method:"post"},Object(l.createElement)("div",{ref:this.widgetContentRef,className:"widget-content",dangerouslySetInnerHTML:{__html:c}}),Object(l.createElement)("input",{type:"hidden",name:"widget-id",className:"widget-id",value:t||r+n}),Object(l.createElement)("input",{ref:this.idBaseInputRef,type:"hidden",name:"id_base",className:"id_base",value:r}),Object(l.createElement)("input",{ref:this.widgetNumberInputRef,type:"hidden",name:"widget_number",className:"widget_number",value:n}),Object(l.createElement)("input",{type:"hidden",name:"multi_number",className:"multi_number",value:""}),Object(l.createElement)("input",{type:"hidden",name:"add_new",className:"add_new",value:""}))))}},{key:"triggerWidgetEvent",value:function(e){window.jQuery(window.document).trigger(e,[window.jQuery(this.containerRef.current)])}},{key:"getFormData",value:function(){if(this.formRef.current){var e,t=this.formRef.current,r=new window.FormData(t),n={},c=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ht(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}(r.keys());try{for(c.s();!(e=c.n()).done;){var a=e.value;if(!Object(N.includes)(["widget-id","id_base","widget_number","multi_number","add_new"],a)){var i=a.match(/[^\[]*\[[-\d]*\]\[([^\]]*)\]/),o=i&&i[1]?i[1]:a,s=r.getAll(a);s.length>1?n[o]=s:n[o]=s[0]}}}catch(e){c.e(e)}finally{c.f()}return n}}}]),c}(l.Component);function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var St=window,It=St.XMLHttpRequest,kt=St.FormData,Pt=function(e){Object(Ot.a)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Object(jt.a)(t);if(r){var c=Object(jt.a)(this).constructor;e=Reflect.construct(n,arguments,c)}else e=n.apply(this,arguments);return Object(vt.a)(this,e)});function c(e){var t;return Object(pt.a)(this,c),(t=n.apply(this,arguments)).state={form:e.prerenderedEditForm},t.widgetNonce=null,t.instanceUpdating=null,t.onInstanceChange=t.onInstanceChange.bind(Object(gt.a)(t)),t.requestWidgetForm=t.requestWidgetForm.bind(Object(gt.a)(t)),t}return Object(mt.a)(c,[{key:"componentDidMount",value:function(){var e=this;this.isStillMounted=!0,this.trySetNonce(),this.props.prerenderedEditForm||this.requestWidgetForm(void 0,(function(t){e.props.onInstanceChange(null,!!t.form)}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.widgetNonce||this.trySetNonce(),e.widgetClass!==this.props.widgetClass&&this.requestWidgetForm(void 0,(function(e){t.props.onInstanceChange(null,!!e.form)})),this.instanceUpdating===this.props.instance&&(this.instanceUpdating=null)}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.instanceId,n=t.id,c=t.number,a=t.idBase,i=t.instance,o=t.isVisible,s=t.widgetName,u=this.state.form;if(!u)return null;var d=Object(N.get)(i,["title"]),b=null;d&&s?b="".concat(s,": ").concat(d):!d&&s?b=s:d&&!s&&(b=d);var f=o?{}:{style:{display:"none"},hidden:!0,"aria-hidden":"true"};return Object(l.createElement)("div",Object(ft.a)({className:"wp-block-legacy-widget__edit-handler"},f),b&&Object(l.createElement)("h3",{className:"wp-block-legacy-widget__edit-widget-title"},b),Object(l.createElement)("div",{className:"wp-block-legacy-widget__edit-container",style:{display:this.props.isVisible?"block":"none"}},Object(l.createElement)(wt,{isReferenceWidget:!!n,ref:function(t){e.widgetEditDomManagerRef=t},onInstanceChange:this.onInstanceChange,onMount:this.props.onFormMount,number:c||-1*r,id:n,idBase:a,form:u})))}},{key:"trySetNonce",value:function(){var e=document.getElementById("_wpnonce_widgets");e&&e.value&&(this.widgetNonce=e.value)}},{key:"onInstanceChange",value:function(e){this.props.onInstanceChange(e,!0)}},{key:"requestWidgetForm",value:function(e,t){var r=this,n=this.props,c=n.id,a=n.idBase,i=n.instance,o=n.widgetClass,s=this.isStillMounted;if(c||o){if(c){var u=new It,l=new kt;return l.append("action","save-widget"),l.append("id_base",a),l.append("widget-id",c),l.append("widget-width","250"),l.append("widget-height","200"),l.append("savewidgets",this.widgetNonce),u.open("POST",window.ajaxurl),u.addEventListener("load",(function(){if(s){var e=u.responseText;r.setState({form:e}),t&&t({form:e})}})),void u.send(l)}o&&p()({path:"/wp/v2/widget-types/".concat(encodeURIComponent(a),"/form-renderer/"),data:{instance:_t(_t({},i),e)},method:"POST"}).then((function(e){s&&(r.setState({form:e.form}),t&&t(e))}))}}}]),c}(l.Component),xt=Object(yt.withInstanceId)(Pt);function Rt(e){var t=e.availableLegacyWidgets,r=e.currentWidget,n=e.onChange,c=e.label,a=void 0===c?Object(W.__)("Select a legacy widget to display:"):c,i=e.emptyLabel,o=void 0===i?Object(W.__)("There are no widgets available."):i,s=Object(m.useSelect)((function(e){return e(nt).getReferenceWidgetBlocks().map((function(e){var t=e.attributes;return null==t?void 0:t.referenceWidgetName}))})),u=Object(l.useMemo)((function(){return Object(N.pickBy)(t,(function(e,t){return!(e.isHidden||t&&s.includes(t))}))}),[t,s]);return Object(N.isEmpty)(u)?o:Object(l.createElement)(ut.SelectControl,{label:a,value:r||"none",onChange:function(e){var r=t[e],c=r.isReferenceWidget,a=r.id_base;n(c?{instance:{},idBase:a,referenceWidgetName:e,widgetClass:void 0}:{instance:{},idBase:a,referenceWidgetName:void 0,widgetClass:e})},options:[{value:"none",label:"Select widget"}].concat(Object(N.map)(u,(function(e,t){return{value:t,label:e.name}})))})}var At=r(27);function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nt=function(e){var t=e.widgetAreaId,r=e.attributes,n=e.hidden,c=Object(g.a)(e,["widgetAreaId","attributes","hidden"]),a=Object(l.useState)(300),i=Object(st.a)(a,2),o=i[0],s=i[1],u=Object(l.useRef)(),d=document.location.href,b=Object(At.addQueryArgs)(d,{"widget-preview":Tt(Tt({},r),{},{sidebarId:t})}),f=Object(l.useCallback)((function(){s(Object(N.get)(u.current,["contentDocument","body","scrollHeight"]))}),[]);return Object(l.useEffect)((function(){n||f()}),[n,f]),Object(l.createElement)(ut.Disabled,{hidden:n},Object(l.createElement)(ut.FocusableIframe,Object(ft.a)({onLoad:function(){f()},src:b,height:o+20,iframeRef:u},c)))};function Wt(e){var t=e.name,r=e.description;return Object(l.createElement)("div",{className:"wp-block-legacy-widget-inspector-card"},Object(l.createElement)("h3",{className:"wp-block-legacy-widget-inspector-card__name"},
/* translators: %s: the name of the widget being viewed. */
Object(W.sprintf)(Object(W.__)("Widget: %s"),t)),Object(l.createElement)("span",null,r))}var Dt=Object(m.withSelect)((function(e,t){var r,n=t.clientId,c=t.attributes,a=c.widgetClass,i=c.referenceWidgetName,o=e(nt).getWidgetIdForClientId(n),s=e(nt).getWidget(o),u=e(nt).getWidgetAreaForClientId(n),l=e("core/block-editor").getSettings().availableLegacyWidgets;o&&l[o]?r=l[o]:a&&l[a]?r=l[a]:i&&(r=l[i],o=i);var d=!1;return i&&n!==e(nt).getReferenceWidgetBlocks(i)[0].clientId&&(d=!0),{isDuplicateReferenceWidget:d,availableLegacyWidgets:l,widgetId:o,widgetAreaId:null==u?void 0:u.id,WPWidget:r,prerenderedEditForm:s?s.rendered_form:""}}))((function(e){var t=e.attributes,r=e.availableLegacyWidgets,n=e.isDuplicateReferenceWidget,c=e.prerenderedEditForm,a=e.setAttributes,i=e.widgetId,o=e.WPWidget,s=e.widgetAreaId,u=Object(l.useState)(!0),d=Object(st.a)(u,2),b=d[0],f=d[1],p=Object(l.useState)(!1),m=Object(st.a)(p,2),g=m[0],O=m[1],v=!g&&b,j=Object(l.useCallback)((function(){O(!1),a({instance:{},id:void 0,referenceWidgetName:void 0,widgetClass:void 0}),f(!0)})),y=Object(l.useMemo)((function(){return Object(N.pickBy)(r,(function(e){return!e.isHidden}))}),[r]);return o?n?Object(l.createElement)(ut.Placeholder,{icon:Object(l.createElement)(lt.BlockIcon,{icon:dt}),label:Object(W.__)("Duplicate Widget"),instructions:Object(W.sprintf)(// translators: %s: widget name e.g: "Calendar".
Object(W.__)('Only one instance of the "%s" widget may exist.'),r[t.referenceWidgetName].name)},Object(l.createElement)(Rt,{availableLegacyWidgets:r,onChange:a,emptyLabel:"",label:Object(W.__)("Select a different widget to display:")})):Object(l.createElement)(l.Fragment,null,Object(l.createElement)(lt.BlockControls,null,Object(l.createElement)(ut.ToolbarGroup,null,o&&!o.isHidden&&Object(l.createElement)(ut.ToolbarButton,{onClick:j,label:Object(W.__)("Change widget"),icon:bt.a}),b&&Object(l.createElement)(l.Fragment,null,Object(l.createElement)(ut.ToolbarButton,{className:"components-tab-button",isPressed:!g,onClick:function(){return O(!1)}},Object(l.createElement)("span",null,Object(W.__)("Edit"))),Object(l.createElement)(ut.ToolbarButton,{className:"components-tab-button",isPressed:g,onClick:function(){return O(!0)}},Object(l.createElement)("span",null,Object(W.__)("Preview")))))),Object(l.createElement)(lt.InspectorControls,null,Object(l.createElement)(Wt,{name:o.name,description:o.description})),b&&Object(l.createElement)(xt,{isVisible:!g,id:i,idBase:t.idBase||i,number:t.number,prerenderedEditForm:c,widgetName:Object(N.get)(o,["name"]),widgetClass:t.widgetClass,instance:t.instance,onFormMount:function(e){t.widgetClass||a({instance:e})},onInstanceChange:function(e,t){e&&a({instance:e}),f(t)}}),null!=o&&o.isReferenceWidget?Object(l.createElement)("p",{hidden:v},Object(W.__)("Reference widgets cannot be previewed.")):Object(l.createElement)(Nt,{hidden:v,className:"wp-block-legacy-widget__preview",widgetAreaId:s,attributes:Object(N.omit)(t,"widgetId")})):Object(N.isEmpty)(y)?Object(l.createElement)(ut.Placeholder,{label:Object(W.__)("Legacy Widget")},Object(W.__)("There are no widgets available.")):Object(l.createElement)(ut.Placeholder,{icon:Object(l.createElement)(lt.BlockIcon,{icon:dt}),label:Object(W.__)("Legacy Widget")},Object(l.createElement)(Rt,{availableLegacyWidgets:r,onChange:a}))})),Bt={to:[{block:"core/calendar",widget:"WP_Widget_Calendar"},{block:"core/search",widget:"WP_Widget_Search"},{block:"core/html",widget:"WP_Widget_Custom_HTML",transform:function(e){return{content:e.content}}},{block:"core/archives",widget:"WP_Widget_Archives",transform:function(e){var t=e.count;return{displayAsDropdown:!!e.dropdown,showPostCounts:!!t}}},{block:"core/latest-posts",widget:"WP_Widget_Recent_Posts",transform:function(e){return{displayPostDate:!!e.show_date,postsToShow:e.number}}},{block:"core/latest-comments",widget:"WP_Widget_Recent_Comments",transform:function(e){return{commentsToShow:e.number}}},{block:"core/tag-cloud",widget:"WP_Widget_Tag_Cloud",transform:function(e){var t=e.taxonomy;return{showTagCounts:!!e.count,taxonomy:t}}},{block:"core/categories",widget:"WP_Widget_Categories",transform:function(e){var t=e.count;return{displayAsDropdown:!!e.dropdown,showPostCounts:!!t,showHierarchy:!!e.hierarchical}}},{block:"core/audio",widget:"WP_Widget_Media_Audio",transform:function(e){var t=e.url,r=e.preload,n=e.loop;return{src:t,id:e.attachment_id,preload:r,loop:n}}},{block:"core/video",widget:"WP_Widget_Media_Video",transform:function(e){var t=e.url,r=e.preload,n=e.loop;return{src:t,id:e.attachment_id,preload:r,loop:n}}},{block:"core/image",widget:"WP_Widget_Media_Image",transform:function(e){var t=e.alt,r=e.attachment_id,n=e.caption,c=e.height,a=e.link_classes,i=e.link_rel,o=e.link_target_blank,s=e.link_type;return{alt:t,caption:n,height:c,id:r,link:e.link_url,linkClass:a,linkDestination:s,linkTarget:o?"_blank":void 0,rel:i,sizeSlug:e.size,url:e.url,width:e.width}}},{block:"core/gallery",widget:"WP_Widget_Media_Gallery",transform:function(e){var t=e.ids,r=e.link_type,n=e.size;return{ids:t,columns:e.number,linkTo:r,sizeSlug:n,images:t.map((function(e){return{id:e}}))}}},{block:"core/rss",widget:"WP_Widget_RSS",transform:function(e){return{feedURL:e.url,displayAuthor:!!e.show_author,displayDate:!!e.show_date,displayExcerpt:!!e.show_summary,itemsToShow:e.items}}}].map((function(e){var t=e.block,r=e.widget,n=e.transform;return{type:"block",blocks:[t],isMatch:function(e){return e.widgetClass===r},transform:function(e){var r=e.instance,c=Object(d.createBlock)(t,n?n(r):void 0);return r&&r.title?[Object(d.createBlock)("core/heading",{content:r.title}),c]:c}}}))};function Lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gt={name:"core/legacy-widget",category:"widgets",attributes:{widgetClass:{type:"string"},referenceWidgetName:{type:"string"},name:{type:"string"},idBase:{type:"string"},number:{type:"number"},instance:{type:"object"}},supports:{html:!1,customClassName:!1,reusable:!1},parent:["core/widget-area"],editorStyle:"wp-block-legacy-widget-editor"},Ft=Gt.name,Ut={title:Object(W.__)("Legacy Widget (Experimental)"),description:Object(W.__)("Display a legacy widget."),icon:ot,edit:Dt,transforms:Bt};function qt(e){var t=[];for(var r in e){var n=e[r];n.isHidden||t.push(Ht(r,n))}return t}function Ht(e,t){var r={attributes:{},category:"widgets",description:t.description,icon:Ut.icon,name:e,title:t.name};return t.isReferenceWidget?r.attributes={name:t.name,referenceWidgetName:e,instance:{}}:r.attributes={name:t.name,idBase:t.id_base,widgetClass:e,instance:{}},r}var Vt=r(40);function zt(){var e=Object(Vt.useEntityBlockEditor)("root","postType"),t=Object(st.a)(e,3),r=t[0],n=t[1],c=t[2];return Object(l.createElement)(lt.InnerBlocks,{value:r,onInput:n,onChange:c,templateLock:!1,renderAppender:lt.InnerBlocks.DefaultBlockAppender,__unstableCloneValue:!1})}var Qt={name:"core/widget-area",category:"widgets",attributes:{id:{type:"string"},name:{type:"string"}},supports:{html:!1,inserter:!1,customClassName:!1,reusable:!1,__experimentalToolbar:!1},editorStyle:"wp-block-widget-area-editor",style:"wp-block-widget-area"},Yt=Qt.name,$t={title:Object(W.__)("Widget Area"),description:Object(W.__)("A widget area container."),__experimentalLabel:function(e){return e.name},supports:{__experimentalParentSelector:!1},edit:function(e){var t=e.clientId,r=e.className,n=e.attributes,c=n.id,a=n.name,i=Object(m.useSelect)((function(e){return e(nt).getIsWidgetAreaOpen(t)}),[t]),o=Object(m.useDispatch)(nt).setIsWidgetAreaOpen,s=Object(l.useRef)(),u=Object(l.useCallback)((function(e){return o(t,e)}),[t]),d=function(e){var t=Object(l.useState)(!1),r=Object(st.a)(t,2),n=r[0],c=r[1];return Object(l.useEffect)((function(){var t=e.current.ownerDocument;function r(){c(!0)}function n(){c(!1)}return t.addEventListener("dragstart",r),t.addEventListener("dragend",n),function(){t.removeEventListener("dragstart",r),t.removeEventListener("dragend",n)}}),[]),n}(s),b=function(e){var t=Object(l.useState)(!1),r=Object(st.a)(t,2),n=r[0],c=r[1];return Object(l.useEffect)((function(){var t=e.current.ownerDocument;function r(e){a(e)}function n(){c(!1)}function a(t){e.current.contains(t.target)?c(!0):c(!1)}return t.addEventListener("dragstart",r),t.addEventListener("dragend",n),t.addEventListener("dragenter",a),function(){t.removeEventListener("dragstart",r),t.removeEventListener("dragend",n),t.removeEventListener("dragenter",a)}}),[]),n}(s),f=Object(l.useState)(!1),p=Object(st.a)(f,2),g=p[0],O=p[1];return Object(l.useEffect)((function(){d?b&&!i?(u(!0),O(!0)):!b&&i&&g&&u(!1):O(!1)}),[i,d,b,g]),Object(l.createElement)(ut.Panel,{className:r,ref:s},Object(l.createElement)(ut.PanelBody,{title:a,opened:i,onToggle:function(){o(t,!i)},scrollAfterOpen:!d},(function(e){var t=e.opened;return Object(l.createElement)(ut.__unstableDisclosureContent,{visible:t},Object(l.createElement)(Vt.EntityProvider,{kind:"root",type:"postType",id:"widget-area-".concat(c)},Object(l.createElement)(zt,null)))})))}},Kt=r(54),Xt=r(106),Zt=r(43);function Jt(){var e=Object(m.useDispatch)("core"),t=e.redo,r=e.undo,n=Object(m.useDispatch)(nt).saveEditedWidgetAreas;return Object(Zt.useShortcut)("core/edit-widgets/undo",(function(e){r(),e.preventDefault()}),{bindGlobal:!0}),Object(Zt.useShortcut)("core/edit-widgets/redo",(function(e){t(),e.preventDefault()}),{bindGlobal:!0}),Object(Zt.useShortcut)("core/edit-widgets/save",(function(e){e.preventDefault(),n()}),{bindGlobal:!0}),null}Jt.Register=function(){var e=Object(m.useDispatch)(Zt.store).registerShortcut;return Object(l.useEffect)((function(){e({name:"core/edit-widgets/undo",category:"global",description:Object(W.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-widgets/redo",category:"global",description:Object(W.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}}),e({name:"core/edit-widgets/save",category:"global",description:Object(W.__)("Save your changes."),keyCombination:{modifier:"primary",character:"s"}})}),[e]),null};var er=Jt,tr=function(){return Object(m.useSelect)((function(e){var t,r=e("core/block-editor"),n=r.getBlockSelectionEnd,c=r.getBlockParents,a=r.getBlockName,i=n();if("core/widget-area"===a(i))return i;var o=c(i).find((function(e){return"core/widget-area"===a(e)}));if(o)return o;var s=(0,e("core").getEntityRecord)(E,"postType","widget-areas");return null==s||null===(t=s.blocks[0])||void 0===t?void 0:t.clientId}),[])};function rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(r),!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cr(e){var t=e.blockEditorSettings,r=e.children,n=Object(g.a)(e,["blockEditorSettings","children"]),c=Object(m.useSelect)((function(e){return{hasUploadPermissions:Object(N.defaultTo)(e("core").canUser("create","media"),!0),widgetAreas:e(nt).getWidgetAreas(),widgets:e(nt).getWidgets(),reusableBlocks:e("core").getEntityRecords("postType","wp_block")}}),[]),a=c.hasUploadPermissions,i=c.reusableBlocks,o=Object(m.useDispatch)(nt).setIsInserterOpened,s=Object(l.useMemo)((function(){var e;return a&&(e=function(e){var r=e.onError,n=Object(g.a)(e,["onError"]);Object(at.uploadMedia)(nr({wpAllowedMimeTypes:t.allowedMimeTypes,onError:function(e){var t=e.message;return r(t)}},n))}),nr(nr({},t),{},{__experimentalReusableBlocks:i,mediaUpload:e,templateLock:"all",__experimentalSetIsInserterOpened:o})}),[t,a,i,o]),u=tr(),d=Object(Vt.useEntityBlockEditor)(E,"postType",{id:"widget-areas"}),b=Object(st.a)(d,3),f=b[0],p=b[1],O=b[2];return Object(l.createElement)(l.Fragment,null,Object(l.createElement)(lt.BlockEditorKeyboardShortcuts.Register,null),Object(l.createElement)(er.Register,null),Object(l.createElement)(ut.SlotFillProvider,null,Object(l.createElement)(ut.DropZoneProvider,null,Object(l.createElement)(lt.BlockEditorProvider,Object(ft.a)({value:f,onInput:p,onChange:O,settings:s,useSubRegistry:!1},n),r,Object(l.createElement)(Xt.ReusableBlocksMenuItems,{rootClientId:u})))))}var ar=r(11),ir=r.n(ar),or=r(193),sr=r(154);function ur(e){var t,r=e.selectedWidgetAreaId,n=Object(m.useSelect)((function(e){return e(nt).getWidgetAreas()}),[]),c=Object(l.useMemo)((function(){return r&&(null==n?void 0:n.find((function(e){return e.id===r})))}),[r,n]);return t=c?"wp_inactive_widgets"===r?Object(W.__)("Blocks in this Widget Area will not be displayed in your site."):c.description:Object(W.__)("Widget Areas are global parts in your site’s layout that can accept blocks. These vary by theme, but are typically parts like your Sidebar or Footer."),Object(l.createElement)("div",{className:"edit-widgets-widget-areas"},Object(l.createElement)("div",{className:"edit-widgets-widget-areas__top-container"},Object(l.createElement)(lt.BlockIcon,{icon:sr.a}),Object(l.createElement)("div",null,Object(l.createElement)("p",null,t),0===(null==n?void 0:n.length)&&Object(l.createElement)("p",null,Object(W.__)("Your theme does not contain any Widget Areas.")))))}var lr=l.Platform.select({web:!0,native:!1});function dr(e){var t=e.identifier,r=e.label,n=e.isActive,c=Object(m.useDispatch)(B.g).enableComplementaryArea;return Object(l.createElement)(ut.Button,{onClick:function(){return c(nt,t)},className:ir()("edit-widgets-sidebar__panel-tab",{"is-active":n}),"aria-label":n?// translators: %s: sidebar label e.g: "Widget Areas".
Object(W.sprintf)(Object(W.__)("%s (selected)"),r):r,"data-label":r},r)}function br(){var e=Object(m.useDispatch)(B.g).enableComplementaryArea,t=Object(m.useSelect)((function(e){var t=e("core/block-editor"),r=t.getSelectedBlock,n=t.getBlock,c=t.getBlockParentsByBlockName,a=e(B.g).getActiveComplementaryArea,i=r(),o=a(nt);o||(o=i?"edit-widgets/block-inspector":"edit-widgets/block-areas");var s,u=!!o;return i&&(s="core/widget-area"===i.name?i:n(c(i.clientId,"core/widget-area")[0])),{currentArea:o,hasSelectedNonAreaBlock:!(!i||"core/widget-area"===i.name),isGeneralSidebarOpen:u,selectedWidgetAreaBlock:s}}),[]),r=t.currentArea,n=t.hasSelectedNonAreaBlock,c=t.isGeneralSidebarOpen,a=t.selectedWidgetAreaBlock;return Object(l.useEffect)((function(){n&&"edit-widgets/block-areas"===r&&c&&e(nt,"edit-widgets/block-inspector"),!n&&"edit-widgets/block-inspector"===r&&c&&e(nt,"edit-widgets/block-areas")}),[n,e]),Object(l.createElement)(B.b,{className:"edit-widgets-sidebar",header:Object(l.createElement)("ul",null,Object(l.createElement)("li",null,Object(l.createElement)(dr,{identifier:"edit-widgets/block-areas",label:a?a.attributes.name:Object(W.__)("Widget Areas"),isActive:"edit-widgets/block-areas"===r})),Object(l.createElement)("li",null,Object(l.createElement)(dr,{identifier:"edit-widgets/block-inspector",label:Object(W.__)("Block"),isActive:"edit-widgets/block-inspector"===r}))),headerClassName:"edit-widgets-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:Object(W.__)("Settings"),closeLabel:Object(W.__)("Close settings"),scope:"core/edit-widgets",identifier:r,icon:or.a,isActiveByDefault:lr},"edit-widgets/block-areas"===r&&Object(l.createElement)(ur,{selectedWidgetAreaId:null==a?void 0:a.attributes.id}),"edit-widgets/block-inspector"===r&&(n?Object(l.createElement)(lt.BlockInspector,null):Object(l.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},Object(W.__)("No block selected."))))}var fr=r(125),pr=r(155),mr=function(){var e=Object(m.useSelect)((function(e){var t,r=e(nt),n=r.getEditedWidgetAreas,c=r.isSavingWidgetAreas;return{hasEditedWidgetAreaIds:(null===(t=n())||void 0===t?void 0:t.length)>0,isSaving:c()}}),[]),t=e.hasEditedWidgetAreaIds,r=e.isSaving,n=Object(m.useDispatch)(nt).saveEditedWidgetAreas;return Object(l.createElement)(ut.Button,{isPrimary:!0,isBusy:r,"aria-disabled":r,onClick:r?void 0:n,disabled:!t},r?Object(W.__)("Saving…"):Object(W.__)("Update"))},gr=r(245),Or=r(17),vr=Object(l.forwardRef)((function(e,t){var r=Object(m.useSelect)((function(e){return e("core").hasUndo()})),n=Object(m.useDispatch)("core").undo;return Object(l.createElement)(ut.Button,Object(ft.a)({icon:gr.a,label:Object(W.__)("Undo"),shortcut:Or.displayShortcut.primary("z"),"aria-disabled":!r,onClick:r?n:void 0,ref:t},e))})),jr=r(246),yr=Object(l.forwardRef)((function(e,t){var r=Object(m.useSelect)((function(e){return e("core").hasRedo()})),n=Object(m.useDispatch)("core").redo;return Object(l.createElement)(ut.Button,Object(ft.a)({icon:jr.a,label:Object(W.__)("Redo"),shortcut:Or.displayShortcut.primaryShift("z"),"aria-disabled":!r,onClick:r?n:void 0,ref:t},e))})),hr=function(){var e=Object(l.useRef)(),t=Object(yt.useViewportMatch)("medium"),r=tr(),n=Object(m.useSelect)((function(e){return e(nt).getIsWidgetAreaOpen(r)}),[r]),c=Object(m.useSelect)((function(e){return e(nt).isInserterOpened()})),a=Object(m.useDispatch)(nt),i=a.setIsWidgetAreaOpen,o=a.setIsInserterOpened,s=Object(m.useDispatch)("core/block-editor").selectBlock;return Object(l.createElement)(l.Fragment,null,Object(l.createElement)("div",{className:"edit-widgets-header"},Object(l.createElement)("div",{className:"edit-widgets-header__navigable-toolbar-wrapper"},Object(l.createElement)("h1",{className:"edit-widgets-header__title"},Object(W.__)("Widgets")),Object(l.createElement)(lt.NavigableToolbar,{className:"edit-widgets-header-toolbar","aria-label":Object(W.__)("Document tools")},Object(l.createElement)(ut.ToolbarItem,{ref:e,as:ut.Button,className:"edit-widgets-header-toolbar__inserter-toggle",isPrimary:!0,isPressed:c,onMouseDown:function(e){e.preventDefault()},onClick:function(){c?e.current.focus():(n||(s(r),i(r,!0)),window.requestAnimationFrame((function(){return o(!0)})))},icon:pr.a
/* translators: button label text should, if possible, be under 16
    characters. */,label:Object(W._x)("Add block","Generic label for block inserter button")}),Object(l.createElement)(ut.ToolbarItem,{as:vr}),Object(l.createElement)(ut.ToolbarItem,{as:yr}),Object(l.createElement)(ut.ToolbarItem,{as:lt.BlockNavigationDropdown}))),Object(l.createElement)("div",{className:"edit-widgets-header__actions"},Object(l.createElement)(mr,null),Object(l.createElement)(B.f.Slot,{scope:"core/edit-widgets"}))),!t&&Object(l.createElement)("div",{className:"edit-widgets-header__block-toolbar"},Object(l.createElement)(lt.BlockToolbar,{hideDragHandle:!0})))},wr=function(){var e=Object(m.useSelect)((function(e){return{notices:e(D.store).getNotices()}}),[]).notices,t=Object(N.filter)(e,{type:"snackbar"}),r=Object(m.useDispatch)(D.store).removeNotice;return Object(l.createElement)(ut.SnackbarList,{notices:t,className:"edit-widgets-notices__snackbar",onRemove:r})};function Er(){return Object(l.createElement)("div",{className:"edit-widgets-block-editor editor-styles-wrapper"},Object(l.createElement)(er,null),Object(l.createElement)(lt.BlockEditorKeyboardShortcuts,null),Object(l.createElement)(wr,null),Object(l.createElement)(ut.Popover.Slot,{name:"block-toolbar"}),Object(l.createElement)(lt.BlockSelectionClearer,null,Object(l.createElement)(lt.WritingFlow,null,Object(l.createElement)(lt.ObserveTyping,null,Object(l.createElement)(lt.BlockList,{className:"edit-widgets-main-block-list"})))))}var _r={
/* translators: accessibility text for the widgets screen top bar landmark region. */
header:Object(W.__)("Widgets top bar"),
/* translators: accessibility text for the widgets screen content landmark region. */
body:Object(W.__)("Widgets and blocks"),
/* translators: accessibility text for the widgets screen settings landmark region. */
sidebar:Object(W.__)("Widgets settings")},Sr=function(e){var t,r=e.blockEditorSettings,n=Object(yt.useViewportMatch)("medium","<"),c=Object(yt.useViewportMatch)("huge",">="),a=Object(m.useDispatch)(nt),i=a.setIsInserterOpened,o=a.closeGeneralSidebar,s=(t=Object(m.useSelect)((function(e){var t,r=(0,e("core").getEntityRecord)(E,"postType","widget-areas");return null==r||null===(t=r.blocks[0])||void 0===t?void 0:t.clientId}),[]),Object(m.useSelect)((function(e){var r=e("core/block-editor"),n=r.getBlockRootClientId,c=r.getBlockSelectionEnd,a=r.getBlockOrder,i=r.getBlockIndex,o=c()||t,s=n(o);return o&&""===s?{rootClientId:o,insertionIndex:a(o).length}:{rootClientId:s,insertionIndex:i(o,s)+1}}),[t])),u=s.rootClientId,d=s.insertionIndex,b=Object(m.useSelect)((function(e){return{hasSidebarEnabled:!!e(B.g).getActiveComplementaryArea(nt),isInserterOpened:!!e(nt).isInserterOpened()}})),f=b.hasSidebarEnabled,p=b.isInserterOpened,g=Object(l.useRef)();Object(lt.__unstableUseEditorStyles)(g,r.styles),Object(l.useEffect)((function(){f&&!c&&i(!1)}),[f,c]),Object(l.useEffect)((function(){p&&!c&&o()}),[p,c]);var O=Object(yt.__experimentalUseDialog)({onClose:function(){return i(!1)}}),v=Object(st.a)(O,2),j=v[0],y=v[1];return Object(l.createElement)(B.e,{ref:g,labels:_r,header:Object(l.createElement)(hr,null),secondarySidebar:p&&Object(l.createElement)("div",Object(ft.a)({ref:j},y,{className:"edit-widgets-layout__inserter-panel"}),Object(l.createElement)("div",{className:"edit-widgets-layout__inserter-panel-header"},Object(l.createElement)(ut.Button,{icon:fr.a,onClick:function(){return i(!1)}})),Object(l.createElement)("div",{className:"edit-widgets-layout__inserter-panel-content"},Object(l.createElement)(lt.__experimentalLibrary,{showInserterHelpPanel:!0,onSelect:function(){n&&i(!1)},rootClientId:u,__experimentalInsertionIndex:d}))),sidebar:f&&Object(l.createElement)(B.b.Slot,{scope:"core/edit-widgets"}),content:Object(l.createElement)(Er,{blockEditorSettings:r})})};function Ir(){var e=Object(m.useSelect)((function(e){return function(){return(0,e("core").__experimentalGetDirtyEntityRecords)().length>0}}),[]);return Object(l.useEffect)((function(){var t=function(t){if(e())return t.returnValue=Object(W.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[e]),null}var kr=function(e){var t=e.blockEditorSettings;return Object(l.createElement)(cr,{blockEditorSettings:t},Object(l.createElement)(Sr,{blockEditorSettings:t}),Object(l.createElement)(br,null),Object(l.createElement)(ut.Popover.Slot,null),Object(l.createElement)(Kt.PluginArea,null),Object(l.createElement)(Ir,null))};function Pr(e,t){var r,n,c,a=Object(b.__experimentalGetCoreBlocks)().filter((function(e){return!["core/more"].includes(e.name)}));Object(b.registerCoreBlocks)(a),Object(b.__experimentalRegisterExperimentalCoreBlocks)(),xr((c=null!==(n=null==(r=t)?void 0:r.availableLegacyWidgets)&&void 0!==n?n:{},{metadata:Gt,name:Ft,settings:Mt(Mt({},Ut),{},{__experimentalLabel:function(e){return e.name},variations:qt(c)})})),xr(s),Object(l.render)(Object(l.createElement)(kr,{blockEditorSettings:t}),document.getElementById(e))}var xr=function(e){if(e){var t=e.metadata,r=e.settings,n=e.name;t&&Object(d.unstable__bootstrapServerSideBlockDefinitions)(Object(u.a)({},n,t)),Object(d.registerBlockType)(n,r)}}},39:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,"a",(function(){return n}))},4:function(e,t){e.exports=window.wp.data},40:function(e,t){e.exports=window.wp.coreData},41:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"a",(function(){return n}))},42:function(e,t,r){"use strict";function n(e,t,r,n,c,a,i){try{var o=e[a](i),s=o.value}catch(e){return void r(e)}o.done?t(s):Promise.resolve(s).then(n,c)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(c,a){var i=e.apply(t,r);function o(e){n(i,c,a,o,s,"next",e)}function s(e){n(i,c,a,o,s,"throw",e)}o(void 0)}))}}r.d(t,"a",(function(){return c}))},43:function(e,t){e.exports=window.wp.keyboardShortcuts},44:function(e,t){e.exports=window.wp.apiFetch},45:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}r.d(t,"a",(function(){return n}))},47:function(e,t){e.exports=window.wp.notices},49:function(e,t,r){"use strict";r.d(t,"g",(function(){return y})),r.d(t,"b",(function(){return F})),r.d(t,"c",(function(){return Q})),r.d(t,"d",(function(){return J})),r.d(t,"e",(function(){return re})),r.d(t,"f",(function(){return L})),r.d(t,"a",(function(){return z}));var n={};r.r(n),r.d(n,"enableComplementaryArea",(function(){return f})),r.d(n,"disableComplementaryArea",(function(){return p})),r.d(n,"pinItem",(function(){return g})),r.d(n,"unpinItem",(function(){return O}));var c={};r.r(c),r.d(c,"getActiveComplementaryArea",(function(){return v})),r.d(c,"isItemPinned",(function(){return j}));var a=r(4),i=r(6),o=r(2);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=Object(a.combineReducers)({singleEnableItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.itemType,c=t.scope,a=t.item;return"SET_SINGLE_ENABLE_ITEM"===r&&n&&c?u(u({},e),{},Object(i.a)({},n,u(u({},e[n]),{},Object(i.a)({},c,a||null)))):e},multipleEnableItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=t.type,n=t.itemType,c=t.scope,a=t.item,s=t.isEnable;if("SET_MULTIPLE_ENABLE_ITEM"!==r||!n||!c||!a||Object(o.get)(e,[n,c,a])===s)return e;var l=e[n]||{},d=l[c]||{};return u(u({},e),{},Object(i.a)({},n,u(u({},l),{},Object(i.a)({},c,u(u({},d),{},Object(i.a)({},a,s||!1))))))}}),d=Object(a.combineReducers)({enableItems:l});function b(e,t,r){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:r}}function f(e,t){return b("complementaryArea",e,t)}function p(e){return b("complementaryArea",e,void 0)}function m(e,t,r,n){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:r,isEnable:n}}function g(e,t){return m("pinnedItems",e,t,!0)}function O(e,t){return m("pinnedItems",e,t,!1)}function v(e,t){return function(e,t,r){return Object(o.get)(e.enableItems.singleEnableItems,["complementaryArea",r])}(e,0,t)}function j(e,t,r){return!1!==function(e,t,r,n){return Object(o.get)(e.enableItems.multipleEnableItems,["pinnedItems",r,n])}(e,0,t,r)}var y=Object(a.createReduxStore)("core/interface",{reducer:d,actions:n,selectors:c,persist:["enableItems"]});Object(a.registerStore)("core/interface",{reducer:d,actions:n,selectors:c,persist:["enableItems"]});var h=r(8),w=r(13),E=r(0),_=r(11),S=r.n(_),I=r(3),k=r(1),P=r(126),x=r(175),R=r(176),A=r(69),C=r(124),T=r(54),N=Object(T.withPluginContext)((function(e,t){return{icon:t.icon||e.icon,identifier:t.identifier||"".concat(e.name,"/").concat(t.name)}})),W=N((function(e){var t=e.as,r=void 0===t?I.Button:t,n=e.scope,c=e.identifier,i=e.icon,s=e.selectedIcon,u=Object(w.a)(e,["as","scope","identifier","icon","selectedIcon"]),l=r,d=Object(a.useSelect)((function(e){return e(y).getActiveComplementaryArea(n)===c}),[c]),b=Object(a.useDispatch)(y),f=b.enableComplementaryArea,p=b.disableComplementaryArea;return Object(E.createElement)(l,Object(h.a)({icon:s&&d?s:i,onClick:function(){d?p(n):f(n,c)}},Object(o.omit)(u,["name"])))})),D=function(e){var t=e.smallScreenTitle,r=e.children,n=e.className,c=e.toggleButtonProps,a=Object(E.createElement)(W,Object(h.a)({icon:C.a},c));return Object(E.createElement)(E.Fragment,null,Object(E.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&Object(E.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),a),Object(E.createElement)("div",{className:S()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},r,a))};function B(e){var t=e.scope,r=Object(w.a)(e,["scope"]);return Object(E.createElement)(I.Fill,Object(h.a)({name:"PinnedItems/".concat(t)},r))}B.Slot=function(e){var t=e.scope,r=e.className,n=Object(w.a)(e,["scope","className"]);return Object(E.createElement)(I.Slot,Object(h.a)({name:"PinnedItems/".concat(t)},n),(function(e){return!Object(o.isEmpty)(e)&&Object(E.createElement)("div",{className:S()(r,"interface-pinned-items")},e)}))};var L=B;function M(e){var t=e.scope,r=e.children,n=e.className;return Object(E.createElement)(I.Fill,{name:"ComplementaryArea/".concat(t)},Object(E.createElement)("div",{className:n},r))}var G=N((function(e){var t=e.children,r=e.className,n=e.closeLabel,c=void 0===n?Object(k.__)("Close plugin"):n,i=e.identifier,o=e.header,s=e.headerClassName,u=e.icon,l=e.isPinnable,d=void 0===l||l,b=e.panelClassName,f=e.scope,p=e.smallScreenTitle,m=e.title,g=e.toggleShortcut,O=e.isActiveByDefault,v=e.showIconLabels,j=void 0!==v&&v,h=Object(a.useSelect)((function(e){var t=e(y),r=t.getActiveComplementaryArea,n=t.isItemPinned,c=r(f);return{isActive:c===i,isPinned:n(f,i),activeArea:c,isSmall:e(A.store).isViewportMatch("< medium"),isLarge:e(A.store).isViewportMatch("large")}}),[i,f]),w=h.isActive,_=h.isPinned,C=h.activeArea,T=h.isSmall,N=h.isLarge;!function(e,t,r,n,c){var i=Object(E.useRef)(!1),o=Object(E.useRef)(!1),s=Object(a.useDispatch)(y),u=s.enableComplementaryArea,l=s.disableComplementaryArea;Object(E.useEffect)((function(){n&&c&&!i.current?(l(e),o.current=!0):o.current&&!c&&i.current?(o.current=!1,u(e,t)):o.current&&r&&r!==t&&(o.current=!1),c!==i.current&&(i.current=c)}),[n,c,e,t,r])}(f,i,C,w,T);var B=Object(a.useDispatch)(y),G=B.enableComplementaryArea,F=B.disableComplementaryArea,U=B.pinItem,q=B.unpinItem;return Object(E.useEffect)((function(){O&&void 0===C&&!T&&G(f,i)}),[C,O,f,i,T]),Object(E.createElement)(E.Fragment,null,_&&d&&Object(E.createElement)(L,{scope:f},Object(E.createElement)(W,{scope:f,identifier:i,isPressed:w&&(!j||N),"aria-expanded":w,label:m,icon:j?P.a:u,showTooltip:!j,isTertiary:j})),w&&Object(E.createElement)(M,{className:S()("interface-complementary-area",r),scope:f},Object(E.createElement)(D,{className:s,closeLabel:c,onClose:function(){return F(f)},smallScreenTitle:p,toggleButtonProps:{label:c,shortcut:g,scope:f,identifier:i}},o||Object(E.createElement)(E.Fragment,null,Object(E.createElement)("strong",null,m),d&&Object(E.createElement)(I.Button,{className:"interface-complementary-area__pin-unpin-item",icon:_?x.a:R.a,label:_?Object(k.__)("Unpin from toolbar"):Object(k.__)("Pin to toolbar"),onClick:function(){return(_?q:U)(f,i)},isPressed:_,"aria-expanded":_}))),Object(E.createElement)(I.Panel,{className:b},t)))}));G.Slot=function(e){var t=e.scope,r=Object(w.a)(e,["scope"]);return Object(E.createElement)(I.Slot,Object(h.a)({name:"ComplementaryArea/".concat(t)},r))};var F=G,U=r(9);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e){var t=e.name,r=e.as,n=e.onClick,c=Object(w.a)(e,["name","as","onClick"]);return Object(E.createElement)(I.Fill,{name:t},(function(e){var t=e.onClick,a=e.as,i=r||a||I.Button;return Object(E.createElement)(i,Object(h.a)({onClick:n||t?function(){(n||o.noop).apply(void 0,arguments),(t||o.noop).apply(void 0,arguments)}:void 0},c))}))}V.Slot=function(e){var t=e.name,r=e.as,n=void 0===r?[I.ButtonGroup,I.Button]:r,c=e.fillProps,a=void 0===c?{}:c,i=e.bubblesVirtually,s=Object(w.a)(e,["name","as","fillProps","bubblesVirtually"]),u=Object(U.a)(n,2),l=u[0],d=u[1];return Object(E.createElement)(I.Slot,{name:t,bubblesVirtually:i,fillProps:H({as:d},a)},(function(e){return!Object(o.isEmpty)(e)&&Object(E.createElement)(l,s,e)}))};var z=V;function Q(e){var t=e.scope,r=e.target,n=Object(w.a)(e,["scope","target"]);return Object(E.createElement)(W,Object(h.a)({as:function(e){return Object(E.createElement)(z,Object(h.a)({name:"".concat(t,"/plugin-more-menu")},e))},role:"menuitemcheckbox",selectedIcon:P.a,name:r,scope:t},n))}var Y=r(25),$=r(26),K=r(28),X=r(29),Z=r(20);var J=function(e){Object(K.a)(c,e);var t,r,n=(t=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=Object(Z.a)(t);if(r){var c=Object(Z.a)(this).constructor;e=Reflect.construct(n,arguments,c)}else e=n.apply(this,arguments);return Object(X.a)(this,e)});function c(){return Object(Y.a)(this,c),n.apply(this,arguments)}return Object($.a)(c,[{key:"componentDidMount",value:function(){this.isSticky=!1,this.sync(),document.body.classList.contains("sticky-menu")&&(this.isSticky=!0,document.body.classList.remove("sticky-menu"))}},{key:"componentWillUnmount",value:function(){this.isSticky&&document.body.classList.add("sticky-menu"),this.props.isActive&&document.body.classList.remove("is-fullscreen-mode")}},{key:"componentDidUpdate",value:function(e){this.props.isActive!==e.isActive&&this.sync()}},{key:"sync",value:function(){this.props.isActive?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode")}},{key:"render",value:function(){return null}}]),c}(E.Component);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re=Object(E.forwardRef)((function(e,t){var r=e.footer,n=e.header,c=e.sidebar,a=e.secondarySidebar,i=e.content,o=e.drawer,s=e.actions,u=e.labels,l=e.className,d=e.shortcuts,b=Object(E.useRef)();t=t||b;var f=Object(I.__unstableUseNavigateRegions)(t,d);!function(e){Object(E.useEffect)((function(){var t=document&&document.querySelector("html:not(.".concat(e,")"));if(t)return t.classList.toggle(e),function(){t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");var p=te(te({},{
/* translators: accessibility text for the nav bar landmark region. */
drawer:Object(k.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:Object(k.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(k.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:Object(k.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(k.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(k.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(k.__)("Footer")}),u);return Object(E.createElement)("div",{ref:t,className:S()(l,"interface-interface-skeleton",f)},!!o&&Object(E.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":p.drawer},o),Object(E.createElement)("div",{className:"interface-interface-skeleton__editor"},!!n&&Object(E.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":p.header,tabIndex:"-1"},n),Object(E.createElement)("div",{className:"interface-interface-skeleton__body"},!!a&&Object(E.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":p.secondarySidebar,tabIndex:"-1"},a),Object(E.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":p.body,tabIndex:"-1"},i),!!c&&Object(E.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":p.sidebar,tabIndex:"-1"},c),!!s&&Object(E.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":p.actions,tabIndex:"-1"},s))),!!r&&Object(E.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":p.footer,tabIndex:"-1"},r))}))},5:function(e,t){e.exports=window.wp.blockEditor},54:function(e,t){e.exports=window.wp.plugins},6:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},69:function(e,t){e.exports=window.wp.viewport},7:function(e,t){e.exports=window.wp.primitives},70:function(e,t){e.exports=window.wp.blockLibrary},73:function(e,t){e.exports=window.wp.mediaUtils},8:function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,"a",(function(){return n}))},9:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(38),c=r(30),a=r(39);function i(e,t){return Object(n.a)(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],_n=!0,n=!1,c=void 0;try{for(var a,i=e[Symbol.iterator]();!(_n=(a=i.next()).done)&&(r.push(a.value),!t||r.length!==t);_n=!0);}catch(e){n=!0,c=e}finally{try{_n||null==i.return||i.return()}finally{if(n)throw c}}return r}}(e,t)||Object(c.a)(e,t)||Object(a.a)()}}});