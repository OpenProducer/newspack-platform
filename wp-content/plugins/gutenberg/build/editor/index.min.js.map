{"version":3,"file":"./build/editor/index.min.js","mappings":"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AAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,I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","sources":["webpack://wp/./node_modules/autosize/dist/autosize.js","webpack://wp/./node_modules/classnames/index.js","webpack://wp/./node_modules/computed-style/dist/computedStyle.commonjs.js","webpack://wp/./node_modules/line-height/lib/line-height.js","webpack://wp/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://wp/./node_modules/prop-types/index.js","webpack://wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://wp/./node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack://wp/./node_modules/react-autosize-textarea/lib/index.js","webpack://wp/./node_modules/remove-accents/index.js","webpack://wp/external window \"React\"","webpack://wp/webpack/bootstrap","webpack://wp/webpack/runtime/compat get default export","webpack://wp/webpack/runtime/define property getters","webpack://wp/webpack/runtime/hasOwnProperty shorthand","webpack://wp/webpack/runtime/make namespace object","webpack://wp/external window [\"wp\",\"data\"]","webpack://wp/external window [\"wp\",\"coreData\"]","webpack://wp/external window [\"wp\",\"element\"]","webpack://wp/external window [\"wp\",\"compose\"]","webpack://wp/external window [\"wp\",\"hooks\"]","webpack://wp/external window [\"wp\",\"blockEditor\"]","../../packages/editor/src/store/defaults.js","../../packages/editor/src/store/reducer.js","webpack://wp/./node_modules/rememo/rememo.js","webpack://wp/external window [\"wp\",\"blocks\"]","webpack://wp/external window [\"wp\",\"date\"]","webpack://wp/external window [\"wp\",\"url\"]","webpack://wp/external window [\"wp\",\"deprecated\"]","webpack://wp/external window [\"wp\",\"primitives\"]","../../packages/icons/src/library/layout.js","webpack://wp/external window [\"wp\",\"preferences\"]","../../packages/editor/src/store/constants.js","../../packages/icons/src/library/header.js","../../packages/icons/src/library/footer.js","../../packages/icons/src/library/sidebar.js","../../packages/icons/src/library/symbol-filled.js","../../packages/editor/src/utils/get-template-part-icon.js","../../packages/editor/src/store/selectors.js","webpack://wp/external window [\"wp\",\"apiFetch\"]","webpack://wp/external window [\"wp\",\"notices\"]","../../packages/editor/src/store/local-autosave.js","webpack://wp/external window [\"wp\",\"i18n\"]","../../packages/editor/src/store/actions.js","../../packages/editor/src/store/utils/notice-builder.js","../../packages/editor/src/store/private-actions.js","../../packages/editor/src/store/private-selectors.js","webpack://wp/external window [\"wp\",\"privateApis\"]","../../packages/editor/src/lock-unlock.js","../../packages/editor/src/store/index.js","../../packages/editor/src/components/autocompleters/user.js","../../packages/editor/src/hooks/custom-sources-backwards-compatibility.js","../../packages/editor/src/hooks/default-autocompleters.js","webpack://wp/external window [\"wp\",\"patterns\"]","../../packages/editor/src/hooks/pattern-partial-syncing.js","webpack://wp/external window [\"wp\",\"keyboardShortcuts\"]","../../packages/editor/src/components/global-keyboard-shortcuts/index.js","../../packages/editor/src/components/autosave-monitor/index.js","webpack://wp/external window [\"wp\",\"components\"]","../../packages/icons/src/library/symbol.js","../../packages/icons/src/library/navigation.js","../../packages/icons/src/library/page.js","../../packages/icons/src/library/chevron-right-small.js","../../packages/icons/src/library/chevron-left-small.js","webpack://wp/external window [\"wp\",\"keycodes\"]","webpack://wp/external window [\"wp\",\"commands\"]","../../packages/editor/src/components/document-bar/index.js","webpack://wp/external window [\"wp\",\"richText\"]","../../packages/editor/src/components/document-outline/item.js","../../packages/editor/src/components/document-outline/index.js","../../packages/editor/src/components/document-outline/check.js","../../packages/editor/src/components/global-keyboard-shortcuts/register-shortcuts.js","../../packages/icons/src/library/redo.js","../../packages/icons/src/library/undo.js","../../packages/editor/src/components/editor-history/redo.js","../../packages/editor/src/components/editor-history/undo.js","../../packages/editor/src/components/template-validation-notice/index.js","../../packages/editor/src/components/editor-notices/index.js","../../packages/editor/src/components/editor-snackbars/index.js","webpack://wp/external window [\"wp\",\"htmlEntities\"]","../../packages/editor/src/components/entities-saved-states/entity-record-item.js","../../packages/editor/src/components/entities-saved-states/entity-type-list.js","../../packages/editor/src/components/entities-saved-states/hooks/use-is-dirty.js","../../packages/editor/src/components/entities-saved-states/index.js","../../packages/editor/src/components/error-boundary/index.js","../../packages/editor/src/components/local-autosave-monitor/index.js","../../packages/editor/src/components/page-attributes/check.js","../../packages/editor/src/components/post-type-support-check/index.js","../../packages/editor/src/components/page-attributes/order.js","../../packages/editor/src/utils/terms.js","../../packages/editor/src/components/page-attributes/parent.js","../../packages/editor/src/components/page-attributes/panel.js","../../packages/icons/src/library/add-template.js","../../packages/editor/src/components/post-template/create-new-template-modal.js","../../packages/editor/src/components/post-template/hooks.js","../../packages/editor/src/components/post-template/classic-theme.js","../../packages/icons/src/library/check.js","../../packages/editor/src/components/post-template/swap-template-button.js","../../packages/editor/src/components/post-template/reset-default-template.js","../../packages/editor/src/components/post-template/create-new-template.js","../../packages/editor/src/components/post-template/block-theme.js","../../packages/editor/src/components/post-panel-row/index.js","../../packages/editor/src/components/post-template/panel.js","../../packages/editor/src/components/post-author/constants.js","../../packages/editor/src/components/post-author/combobox.js","../../packages/editor/src/components/post-author/select.js","../../packages/editor/src/components/post-author/index.js","../../packages/editor/src/components/post-author/check.js","../../packages/editor/src/components/post-author/panel.js","../../packages/editor/src/components/post-comments/index.js","../../packages/editor/src/components/post-pingbacks/index.js","../../packages/editor/src/components/post-discussion/panel.js","../../packages/editor/src/components/post-excerpt/index.js","../../packages/editor/src/components/post-excerpt/check.js","../../packages/editor/src/components/post-excerpt/plugin.js","../../packages/editor/src/components/post-excerpt/panel.js","webpack://wp/external window [\"wp\",\"blob\"]","../../packages/editor/src/components/theme-support-check/index.js","../../packages/editor/src/components/post-featured-image/check.js","../../packages/editor/src/components/post-featured-image/index.js","../../packages/editor/src/components/post-featured-image/panel.js","../../packages/editor/src/components/post-format/check.js","../../packages/editor/src/components/post-format/index.js","../../packages/icons/src/library/backup.js","../../packages/editor/src/components/post-last-revision/check.js","../../packages/editor/src/components/post-last-revision/index.js","../../packages/editor/src/components/post-last-revision/panel.js","../../packages/editor/src/components/post-locked-modal/index.js","../../packages/editor/src/components/post-pending-status/check.js","../../packages/editor/src/components/post-pending-status/index.js","../../packages/editor/src/components/post-preview-button/index.js","../../packages/editor/src/components/post-publish-button/label.js","../../packages/editor/src/components/post-publish-button/index.js","../../packages/icons/src/library/close-small.js","../../packages/icons/src/library/wordpress.js","../../packages/editor/src/components/post-visibility/utils.js","../../packages/editor/src/components/post-visibility/index.js","../../packages/editor/src/components/post-visibility/label.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://wp/./node_modules/date-fns/esm/_lib/requiredArgs/index.js","webpack://wp/./node_modules/date-fns/esm/toDate/index.js","webpack://wp/./node_modules/date-fns/esm/startOfMonth/index.js","webpack://wp/./node_modules/date-fns/esm/endOfMonth/index.js","webpack://wp/./node_modules/date-fns/esm/constants/index.js","webpack://wp/./node_modules/date-fns/esm/parseISO/index.js","../../packages/editor/src/components/post-schedule/index.js","webpack://wp/./node_modules/date-fns/esm/_lib/toInteger/index.js","../../packages/editor/src/components/post-schedule/label.js","webpack://wp/external window [\"wp\",\"a11y\"]","../../packages/editor/src/components/post-taxonomies/most-used-terms.js","../../packages/editor/src/components/post-taxonomies/flat-term-selector.js","../../packages/editor/src/components/post-publish-panel/maybe-tags-panel.js","../../packages/editor/src/components/post-publish-panel/maybe-post-format-panel.js","../../packages/editor/src/components/post-taxonomies/hierarchical-term-selector.js","../../packages/editor/src/components/post-publish-panel/maybe-category-panel.js","../../packages/editor/src/components/post-publish-panel/maybe-upload-media.js","../../packages/editor/src/components/post-publish-panel/prepublish.js","../../packages/editor/src/components/post-publish-panel/postpublish.js","../../packages/editor/src/components/post-publish-panel/index.js","../../packages/icons/src/library/cloud-upload.js","../../packages/icons/src/icon/index.js","../../packages/icons/src/library/cloud.js","../../packages/editor/src/components/post-saved-state/index.js","../../packages/editor/src/components/post-schedule/check.js","../../packages/editor/src/components/post-schedule/panel.js","../../packages/editor/src/components/post-slug/check.js","../../packages/editor/src/components/post-slug/index.js","../../packages/editor/src/components/post-sticky/check.js","../../packages/editor/src/components/post-sticky/index.js","../../packages/editor/src/components/post-switch-to-draft-button/index.js","../../packages/editor/src/components/post-sync-status/index.js","../../packages/editor/src/components/post-taxonomies/index.js","../../packages/editor/src/components/post-taxonomies/check.js","../../packages/editor/src/components/post-taxonomies/panel.js","../../packages/editor/src/components/post-text-editor/index.js","webpack://wp/external window [\"wp\",\"dom\"]","../../packages/editor/src/components/post-title/constants.js","../../packages/editor/src/components/post-title/use-post-title-focus.js","../../packages/editor/src/components/post-title/use-post-title.js","../../packages/editor/src/components/post-title/index.js","../../packages/editor/src/components/post-title/post-title-raw.js","../../packages/editor/src/components/post-trash/index.js","../../packages/editor/src/components/post-trash/check.js","../../packages/editor/src/components/post-url/index.js","../../packages/editor/src/components/post-url/check.js","../../packages/editor/src/components/post-url/label.js","../../packages/editor/src/components/post-url/panel.js","../../packages/editor/src/components/post-visibility/check.js","../../packages/icons/src/library/info.js","webpack://wp/external window [\"wp\",\"wordcount\"]","../../packages/editor/src/components/word-count/index.js","../../packages/editor/src/components/time-to-read/index.js","../../packages/editor/src/components/character-count/index.js","../../packages/editor/src/components/table-of-contents/panel.js","../../packages/editor/src/components/table-of-contents/index.js","../../packages/editor/src/components/unsaved-changes-warning/index.js","../../packages/editor/src/components/provider/with-registry-provider.js","../../packages/editor/src/components/media-categories/index.js","webpack://wp/external window [\"wp\",\"mediaUtils\"]","../../packages/editor/src/utils/media-upload/index.js","../../packages/editor/src/components/provider/use-block-editor-settings.js","../../packages/editor/src/components/provider/constants.js","../../packages/editor/src/components/provider/disable-non-page-content-blocks.js","../../packages/editor/src/components/provider/navigation-block-editing-mode.js","../../packages/editor/src/components/provider/index.js","webpack://wp/external window [\"wp\",\"serverSideRender\"]","../../packages/editor/src/components/deprecated.js","../../packages/editor/src/components/index.js","../../packages/editor/src/utils/url.js","../../packages/editor/src/components/editor-canvas/edit-template-blocks-notification.js","../../packages/editor/src/components/editor-canvas/index.js","../../packages/icons/src/library/plus.js","../../packages/icons/src/library/list-view.js","../../packages/editor/src/components/document-tools/index.js","../../packages/icons/src/library/close.js","../../packages/editor/src/components/list-view-sidebar/list-view-outline.js","../../packages/icons/src/library/external.js","../../packages/icons/src/library/mobile.js","../../packages/icons/src/library/tablet.js","../../packages/icons/src/library/desktop.js","../../packages/editor/src/private-apis.js","../../packages/editor/src/components/inserter-sidebar/index.js","../../packages/editor/src/components/list-view-sidebar/index.js","../../packages/editor/src/components/post-view-link/index.js","../../packages/editor/src/components/preview-dropdown/index.js"],"sourcesContent":["/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar RESIZED = \"autosize:resized\";\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosizeClass = /** @class */ (function (_super) {\n    __extends(TextareaAutosizeClass, _super);\n    function TextareaAutosizeClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.textarea = null;\n        _this.onResize = function (e) {\n            if (_this.props.onResize) {\n                _this.props.onResize(e);\n            }\n        };\n        _this.updateLineHeight = function () {\n            if (_this.textarea) {\n                _this.setState({\n                    lineHeight: getLineHeight(_this.textarea)\n                });\n            }\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        return _this;\n    }\n    TextareaAutosizeClass.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, maxRows = _a.maxRows, async = _a.async;\n        if (typeof maxRows === \"number\") {\n            this.updateLineHeight();\n        }\n        if (typeof maxRows === \"number\" || async) {\n            /*\n              the defer is needed to:\n                - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n                - support StyledComponents (see #71)\n            */\n            setTimeout(function () { return _this.textarea && autosize(_this.textarea); });\n        }\n        else {\n            this.textarea && autosize(this.textarea);\n        }\n        if (this.textarea) {\n            this.textarea.addEventListener(RESIZED, this.onResize);\n        }\n    };\n    TextareaAutosizeClass.prototype.componentWillUnmount = function () {\n        if (this.textarea) {\n            this.textarea.removeEventListener(RESIZED, this.onResize);\n            autosize.destroy(this.textarea);\n        }\n    };\n    TextareaAutosizeClass.prototype.render = function () {\n        var _this = this;\n        var _a = this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, children = _b.children, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\", \"children\"]), lineHeight = _a.state.lineHeight;\n        var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n        return (React.createElement(\"textarea\", __assign({}, props, { onChange: this.onChange, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, ref: function (element) {\n                _this.textarea = element;\n                if (typeof _this.props.innerRef === 'function') {\n                    _this.props.innerRef(element);\n                }\n                else if (_this.props.innerRef) {\n                    _this.props.innerRef.current = element;\n                }\n            } }), children));\n    };\n    TextareaAutosizeClass.prototype.componentDidUpdate = function () {\n        this.textarea && autosize.update(this.textarea);\n    };\n    TextareaAutosizeClass.defaultProps = {\n        rows: 1,\n        async: false\n    };\n    TextareaAutosizeClass.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.any,\n        async: PropTypes.bool\n    };\n    return TextareaAutosizeClass;\n}(React.Component));\nexports.TextareaAutosize = React.forwardRef(function (props, ref) {\n    return React.createElement(TextareaAutosizeClass, __assign({}, props, { innerRef: ref }));\n});\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1.TextareaAutosize;\n","var characterMap = {\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"AE\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"C\",\n\t\"\": \"C\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"D\",\n\t\"\": \"N\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"Y\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"ae\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"c\",\n\t\"\": \"c\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"d\",\n\t\"\": \"n\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"y\",\n\t\"\": \"y\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"C\": \"C\",\n\t\"c\": \"c\",\n\t\"\": \"D\",\n\t\"\": \"d\",\n\t\"\": \"D\",\n\t\"\": \"d\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"G\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"g\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"IJ\",\n\t\"\": \"ij\",\n\t\"\": \"J\",\n\t\"\": \"j\",\n\t\"\": \"K\",\n\t\"\": \"k\",\n\t\"\": \"K\",\n\t\"\": \"k\",\n\t\"K\": \"K\",\n\t\"k\": \"k\",\n\t\"\": \"L\",\n\t\"\": \"l\",\n\t\"\": \"L\",\n\t\"\": \"l\",\n\t\"\": \"L\",\n\t\"\": \"l\",\n\t\"\": \"L\",\n\t\"\": \"l\",\n\t\"\": \"l\",\n\t\"\": \"l\",\n\t\"\": \"M\",\n\t\"\": \"m\",\n\t\"M\": \"M\",\n\t\"m\": \"m\",\n\t\"\": \"N\",\n\t\"\": \"n\",\n\t\"\": \"N\",\n\t\"\": \"n\",\n\t\"\": \"N\",\n\t\"\": \"n\",\n\t\"\": \"n\",\n\t\"N\": \"N\",\n\t\"n\": \"n\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"OE\",\n\t\"\": \"oe\",\n\t\"P\": \"P\",\n\t\"p\": \"p\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"R\": \"R\",\n\t\"r\": \"r\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"\": \"S\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"\": \"s\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"\": \"T\",\n\t\"\": \"t\",\n\t\"\": \"t\",\n\t\"\": \"T\",\n\t\"\": \"T\",\n\t\"\": \"t\",\n\t\"\": \"T\",\n\t\"\": \"t\",\n\t\"T\": \"T\",\n\t\"t\": \"t\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"V\": \"V\",\n\t\"v\": \"v\",\n\t\"\": \"W\",\n\t\"\": \"w\",\n\t\"\": \"W\",\n\t\"\": \"w\",\n\t\"X\": \"X\",\n\t\"x\": \"x\",\n\t\"\": \"Y\",\n\t\"\": \"y\",\n\t\"\": \"Y\",\n\t\"Y\": \"Y\",\n\t\"y\": \"y\",\n\t\"\": \"Z\",\n\t\"\": \"z\",\n\t\"\": \"Z\",\n\t\"\": \"z\",\n\t\"\": \"Z\",\n\t\"\": \"z\",\n\t\"\": \"s\",\n\t\"\": \"f\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"AE\",\n\t\"\": \"ae\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"TH\",\n\t\"\": \"th\",\n\t\"\": \"P\",\n\t\"\": \"p\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"X\": \"X\",\n\t\"x\": \"x\",\n\t\"\": \"\",\n\t\"\": \"\",\n\t\"\": \"\",\n\t\"\": \"\",\n\t\"A\": \"A\",\n\t\"a\": \"a\",\n\t\"E\": \"E\",\n\t\"e\": \"e\",\n\t\"I\": \"I\",\n\t\"i\": \"i\",\n\t\"\": \"N\",\n\t\"\": \"n\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"W\",\n\t\"\": \"w\",\n\t\"\": \"Y\",\n\t\"\": \"y\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"B\": \"B\",\n\t\"b\": \"b\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"F\": \"F\",\n\t\"f\": \"f\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"J\": \"J\",\n\t\"\": \"j\",\n\t\"\": \"K\",\n\t\"\": \"k\",\n\t\"M\": \"M\",\n\t\"m\": \"m\",\n\t\"P\": \"P\",\n\t\"p\": \"p\",\n\t\"Q\": \"Q\",\n\t\"q\": \"q\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"V\": \"V\",\n\t\"v\": \"v\",\n\t\"W\": \"W\",\n\t\"w\": \"w\",\n\t\"X\": \"X\",\n\t\"x\": \"x\",\n\t\"Y\": \"Y\",\n\t\"y\": \"y\",\n\t\"A\": \"A\",\n\t\"a\": \"a\",\n\t\"B\": \"B\",\n\t\"b\": \"b\",\n\t\"\": \"D\",\n\t\"\": \"d\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"I\": \"I\",\n\t\"i\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"M\": \"M\",\n\t\"m\": \"m\",\n\t\"O\": \"O\",\n\t\"o\": \"o\",\n\t\"Q\": \"Q\",\n\t\"q\": \"q\",\n\t\"U\": \"U\",\n\t\"u\": \"u\",\n\t\"X\": \"X\",\n\t\"x\": \"x\",\n\t\"Z\": \"Z\",\n\t\"z\": \"z\",\n\t\"\":\"\",\n\t\"\":\"\",\n\t\"\":\"\",\n\t\"\":\"\",\n};\n\nvar chars = Object.keys(characterMap).join('|');\nvar allAccents = new RegExp(chars, 'g');\nvar firstAccent = new RegExp(chars, '');\n\nfunction matcher(match) {\n\treturn characterMap[match];\n}\n\nvar removeAccents = function(string) {\n\treturn string.replace(allAccents, matcher);\n};\n\nvar hasAccents = function(string) {\n\treturn !!string.match(firstAccent);\n};\n\nmodule.exports = removeAccents;\nmodule.exports.has = hasAccents;\nmodule.exports.remove = removeAccents;\n","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","/**\n * WordPress dependencies\n */\nimport { SETTINGS_DEFAULTS } from '@wordpress/block-editor';\n\n/**\n * The default post editor settings.\n *\n * @property {boolean|Array} allowedBlockTypes     Allowed block types\n * @property {boolean}       richEditingEnabled    Whether rich editing is enabled or not\n * @property {boolean}       codeEditingEnabled    Whether code editing is enabled or not\n * @property {boolean}       enableCustomFields    Whether the WordPress custom fields are enabled or not.\n *                                                 true  = the user has opted to show the Custom Fields panel at the bottom of the editor.\n *                                                 false = the user has opted to hide the Custom Fields panel at the bottom of the editor.\n *                                                 undefined = the current environment does not support Custom Fields, so the option toggle in Preferences -> Panels to enable the Custom Fields panel is not displayed.\n * @property {number}        autosaveInterval      How often in seconds the post will be auto-saved via the REST API.\n * @property {number}        localAutosaveInterval How often in seconds the post will be backed up to sessionStorage.\n * @property {Array?}        availableTemplates    The available post templates\n * @property {boolean}       disablePostFormats    Whether or not the post formats are disabled\n * @property {Array?}        allowedMimeTypes      List of allowed mime types and file extensions\n * @property {number}        maxUploadFileSize     Maximum upload file size\n * @property {boolean}       supportsLayout        Whether the editor supports layouts.\n */\nexport const EDITOR_SETTINGS_DEFAULTS = {\n\t...SETTINGS_DEFAULTS,\n\n\trichEditingEnabled: true,\n\tcodeEditingEnabled: true,\n\tenableCustomFields: undefined,\n\tdefaultRenderingMode: 'post-only',\n};\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { EDITOR_SETTINGS_DEFAULTS } from './defaults';\n\n/**\n * Returns a post attribute value, flattening nested rendered content using its\n * raw value in place of its original object form.\n *\n * @param {*} value Original value.\n *\n * @return {*} Raw value.\n */\nexport function getPostRawValue( value ) {\n\tif ( value && 'object' === typeof value && 'raw' in value ) {\n\t\treturn value.raw;\n\t}\n\n\treturn value;\n}\n\n/**\n * Returns true if the two object arguments have the same keys, or false\n * otherwise.\n *\n * @param {Object} a First object.\n * @param {Object} b Second object.\n *\n * @return {boolean} Whether the two objects have the same keys.\n */\nexport function hasSameKeys( a, b ) {\n\tconst keysA = Object.keys( a ).sort();\n\tconst keysB = Object.keys( b ).sort();\n\treturn (\n\t\tkeysA.length === keysB.length &&\n\t\tkeysA.every( ( key, index ) => keysB[ index ] === key )\n\t);\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are editing the same post property, or\n * false otherwise.\n *\n * @param {Object} action         Currently dispatching action.\n * @param {Object} previousAction Previously dispatched action.\n *\n * @return {boolean} Whether actions are updating the same post property.\n */\nexport function isUpdatingSamePostProperty( action, previousAction ) {\n\treturn (\n\t\taction.type === 'EDIT_POST' &&\n\t\thasSameKeys( action.edits, previousAction.edits )\n\t);\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are modifying the same property such that\n * undo history should be batched.\n *\n * @param {Object} action         Currently dispatching action.\n * @param {Object} previousAction Previously dispatched action.\n *\n * @return {boolean} Whether to overwrite present state.\n */\nexport function shouldOverwriteState( action, previousAction ) {\n\tif ( action.type === 'RESET_EDITOR_BLOCKS' ) {\n\t\treturn ! action.shouldCreateUndoLevel;\n\t}\n\n\tif ( ! previousAction || action.type !== previousAction.type ) {\n\t\treturn false;\n\t}\n\n\treturn isUpdatingSamePostProperty( action, previousAction );\n}\n\nexport function postId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_EDITED_POST':\n\t\t\treturn action.postId;\n\t}\n\n\treturn state;\n}\n\nexport function templateId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_CURRENT_TEMPLATE_ID':\n\t\t\treturn action.id;\n\t}\n\n\treturn state;\n}\n\nexport function postType( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_EDITED_POST':\n\t\t\treturn action.postType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether the post blocks match the defined template or not.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function template( state = { isValid: true }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TEMPLATE_VALIDITY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisValid: action.isValid,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning current network request state (whether a request to\n * the WP REST API is in progress, successful, or failed).\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function saving( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REQUEST_POST_UPDATE_START':\n\t\tcase 'REQUEST_POST_UPDATE_FINISH':\n\t\t\treturn {\n\t\t\t\tpending: action.type === 'REQUEST_POST_UPDATE_START',\n\t\t\t\toptions: action.options || {},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning deleting post request state.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deleting( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REQUEST_POST_DELETE_START':\n\t\tcase 'REQUEST_POST_DELETE_FINISH':\n\t\t\treturn {\n\t\t\t\tpending: action.type === 'REQUEST_POST_DELETE_START',\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Post Lock State.\n *\n * @typedef {Object} PostLockState\n *\n * @property {boolean}  isLocked       Whether the post is locked.\n * @property {?boolean} isTakeover     Whether the post editing has been taken over.\n * @property {?boolean} activePostLock Active post lock value.\n * @property {?Object}  user           User that took over the post.\n */\n\n/**\n * Reducer returning the post lock status.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postLock( state = { isLocked: false }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_POST_LOCK':\n\t\t\treturn action.lock;\n\t}\n\n\treturn state;\n}\n\n/**\n * Post saving lock.\n *\n * When post saving is locked, the post cannot be published or updated.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postSavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_POST_SAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_POST_SAVING': {\n\t\t\tconst { [ action.lockName ]: removedLockName, ...restState } =\n\t\t\t\tstate;\n\t\t\treturn restState;\n\t\t}\n\t}\n\treturn state;\n}\n\n/**\n * Post autosaving lock.\n *\n * When post autosaving is locked, the post will not autosave.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object}        action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postAutosavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_POST_AUTOSAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_POST_AUTOSAVING': {\n\t\t\tconst { [ action.lockName ]: removedLockName, ...restState } =\n\t\t\t\tstate;\n\t\t\treturn restState;\n\t\t}\n\t}\n\treturn state;\n}\n\n/**\n * Reducer returning the post editor setting.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function editorSettings( state = EDITOR_SETTINGS_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_EDITOR_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport function renderingMode( state = 'all', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_RENDERING_MODE':\n\t\t\treturn action.mode;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the editing canvas device type.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function deviceType( state = 'Desktop', action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_DEVICE_TYPE':\n\t\t\treturn action.deviceType;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer storing the list of all programmatically removed panels.\n *\n * @param {Array}  state  Current state.\n * @param {Object} action Action object.\n *\n * @return {Array} Updated state.\n */\nexport function removedPanels( state = [], action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REMOVE_PANEL':\n\t\t\tif ( ! state.includes( action.panelName ) ) {\n\t\t\t\treturn [ ...state, action.panelName ];\n\t\t\t}\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer to set the block inserter panel open or closed.\n *\n * Note: this reducer interacts with the list view panel reducer\n * to make sure that only one of the two panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function blockInserterPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen ? false : state;\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value;\n\t}\n\treturn state;\n}\n\n/**\n * Reducer to set the list view panel open or closed.\n *\n * Note: this reducer interacts with the inserter panel reducer\n * to make sure that only one of the two panels is open at the same time.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n */\nexport function listViewPanel( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_IS_INSERTER_OPENED':\n\t\t\treturn action.value ? false : state;\n\t\tcase 'SET_IS_LIST_VIEW_OPENED':\n\t\t\treturn action.isOpen;\n\t}\n\treturn state;\n}\n\n/**\n * This reducer does nothing aside initializing a ref to the list view toggle.\n * We will have a unique ref per \"editor\" instance.\n *\n * @param {Object} state\n * @return {Object} Reference to the list view toggle button.\n */\nexport function listViewToggleRef( state = { current: null } ) {\n\treturn state;\n}\n\nexport default combineReducers( {\n\tpostId,\n\tpostType,\n\ttemplateId,\n\tsaving,\n\tdeleting,\n\tpostLock,\n\ttemplate,\n\tpostSavingLock,\n\teditorSettings,\n\tpostAutosavingLock,\n\trenderingMode,\n\tdeviceType,\n\tremovedPanels,\n\tblockInserterPanel,\n\tlistViewPanel,\n\tlistViewToggleRef,\n} );\n","'use strict';\n\n/** @typedef {(...args: any[]) => *[]} GetDependants */\n\n/** @typedef {() => void} Clear */\n\n/**\n * @typedef {{\n *   getDependants: GetDependants,\n *   clear: Clear\n * }} EnhancedSelector\n */\n\n/**\n * Internal cache entry.\n *\n * @typedef CacheNode\n *\n * @property {?CacheNode|undefined} [prev] Previous node.\n * @property {?CacheNode|undefined} [next] Next node.\n * @property {*[]} args Function arguments for cache entry.\n * @property {*} val Function result.\n */\n\n/**\n * @typedef Cache\n *\n * @property {Clear} clear Function to clear cache.\n * @property {boolean} [isUniqueByDependants] Whether dependants are valid in\n * considering cache uniqueness. A cache is unique if dependents are all arrays\n * or objects.\n * @property {CacheNode?} [head] Cache head.\n * @property {*[]} [lastDependants] Dependants from previous invocation.\n */\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {{}}\n */\nvar LEAF_KEY = {};\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @template T\n *\n * @param {T} value Value to return.\n *\n * @return {[T]} Value returned as entry in array.\n */\nfunction arrayOf(value) {\n\treturn [value];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike(value) {\n\treturn !!value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Cache} Cache object.\n */\nfunction createCache() {\n\t/** @type {Cache} */\n\tvar cache = {\n\t\tclear: function () {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {*[]} a First array.\n * @param {*[]} b Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual(a, b, fromIndex) {\n\tvar i;\n\n\tif (a.length !== b.length) {\n\t\treturn false;\n\t}\n\n\tfor (i = fromIndex; i < a.length; i++) {\n\t\tif (a[i] !== b[i]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @template {(...args: *[]) => *} S\n *\n * @param {S} selector Selector function.\n * @param {GetDependants=} getDependants Dependant getter returning an array of\n * references used in cache bust consideration.\n */\nexport default function (selector, getDependants) {\n\t/** @type {WeakMap<*,*>} */\n\tvar rootCache;\n\n\t/** @type {GetDependants} */\n\tvar normalizedGetDependants = getDependants ? getDependants : arrayOf;\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {*[]} dependants Selector dependants.\n\t *\n\t * @return {Cache} Cache object.\n\t */\n\tfunction getCache(dependants) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti,\n\t\t\tdependant,\n\t\t\tmap,\n\t\t\tcache;\n\n\t\tfor (i = 0; i < dependants.length; i++) {\n\t\t\tdependant = dependants[i];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif (!isObjectLike(dependant)) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif (caches.has(dependant)) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get(dependant);\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set(dependant, map);\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif (!caches.has(LEAF_KEY)) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set(LEAF_KEY, cache);\n\t\t}\n\n\t\treturn caches.get(LEAF_KEY);\n\t}\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = new WeakMap();\n\t}\n\n\t/* eslint-disable jsdoc/check-param-names */\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {*}    source    Source object for derivation.\n\t * @param {...*} extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\t/* eslint-enable jsdoc/check-param-names */\n\tfunction callSelector(/* source, ...extraArgs */) {\n\t\tvar len = arguments.length,\n\t\t\tcache,\n\t\t\tnode,\n\t\t\ti,\n\t\t\targs,\n\t\t\tdependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array(len);\n\t\tfor (i = 0; i < len; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\tdependants = normalizedGetDependants.apply(null, args);\n\t\tcache = getCache(dependants);\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type), shallow\n\t\t// compare against last dependants and, if references have changed,\n\t\t// destroy cache to recalculate result.\n\t\tif (!cache.isUniqueByDependants) {\n\t\t\tif (\n\t\t\t\tcache.lastDependants &&\n\t\t\t\t!isShallowEqual(dependants, cache.lastDependants, 0)\n\t\t\t) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile (node) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif (!isShallowEqual(node.args, args, 1)) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif (node !== cache.head) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\t/** @type {CacheNode} */ (node.prev).next = node.next;\n\t\t\t\tif (node.next) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\t/** @type {CacheNode} */ (cache.head).prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = /** @type {CacheNode} */ ({\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply(null, args),\n\t\t});\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[0] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif (cache.head) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = normalizedGetDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn /** @type {S & EnhancedSelector} */ (callSelector);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"date\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"url\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"deprecated\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst layout = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default layout;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"preferences\"];","/**\n * Set of post properties for which edits should assume a merging behavior,\n * assuming an object value.\n *\n * @type {Set}\n */\nexport const EDIT_MERGE_PROPERTIES = new Set( [ 'meta' ] );\n\n/**\n * Constant for the store module (or reducer) key.\n *\n * @type {string}\n */\nexport const STORE_NAME = 'core/editor';\n\nexport const SAVE_POST_NOTICE_ID = 'SAVE_POST_NOTICE_ID';\nexport const TRASH_POST_NOTICE_ID = 'TRASH_POST_NOTICE_ID';\nexport const PERMALINK_POSTNAME_REGEX = /%(?:postname|pagename)%/;\nexport const ONE_MINUTE_IN_MS = 60 * 1000;\nexport const AUTOSAVE_PROPERTIES = [ 'title', 'excerpt', 'content' ];\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst header = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default header;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst footer = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\td=\"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default footer;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst sidebar = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z\" />\n\t</SVG>\n);\n\nexport default sidebar;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst symbolFilled = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n\nexport default symbolFilled;\n","/**\n * WordPress dependencies\n */\nimport {\n\theader as headerIcon,\n\tfooter as footerIcon,\n\tsidebar as sidebarIcon,\n\tsymbolFilled as symbolFilledIcon,\n} from '@wordpress/icons';\n/**\n * Helper function to retrieve the corresponding icon by name.\n *\n * @param {string} iconName The name of the icon.\n *\n * @return {Object} The corresponding icon.\n */\nexport function getTemplatePartIcon( iconName ) {\n\tif ( 'header' === iconName ) {\n\t\treturn headerIcon;\n\t} else if ( 'footer' === iconName ) {\n\t\treturn footerIcon;\n\t} else if ( 'sidebar' === iconName ) {\n\t\treturn sidebarIcon;\n\t}\n\treturn symbolFilledIcon;\n}\n","/**\n * External dependencies\n */\nimport createSelector from 'rememo';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tgetFreeformContentHandlerName,\n\tgetDefaultBlockName,\n\t__unstableSerializeAndClean,\n\tparse,\n} from '@wordpress/blocks';\nimport { isInTheFuture, getDate } from '@wordpress/date';\nimport { addQueryArgs, cleanForSlug } from '@wordpress/url';\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\nimport { Platform } from '@wordpress/element';\nimport { layout } from '@wordpress/icons';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport {\n\tEDIT_MERGE_PROPERTIES,\n\tPERMALINK_POSTNAME_REGEX,\n\tONE_MINUTE_IN_MS,\n\tAUTOSAVE_PROPERTIES,\n} from './constants';\nimport { getPostRawValue } from './reducer';\nimport { getTemplatePartIcon } from '../utils/get-template-part-icon';\n\n/**\n * Shared reference to an empty object for cases where it is important to avoid\n * returning a new object reference on every invocation, as in a connected or\n * other pure component which performs `shouldComponentUpdate` check on props.\n * This should be used as a last resort, since the normalized data should be\n * maintained by the reducer result in state.\n */\nconst EMPTY_OBJECT = {};\n\n/**\n * Returns true if any past editor history snapshots exist, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether undo history exists.\n */\nexport const hasEditorUndo = createRegistrySelector( ( select ) => () => {\n\treturn select( coreStore ).hasUndo();\n} );\n\n/**\n * Returns true if any future editor history snapshots exist, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether redo history exists.\n */\nexport const hasEditorRedo = createRegistrySelector( ( select ) => () => {\n\treturn select( coreStore ).hasRedo();\n} );\n\n/**\n * Returns true if the currently edited post is yet to be saved, or false if\n * the post has been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is new.\n */\nexport function isEditedPostNew( state ) {\n\treturn getCurrentPost( state ).status === 'auto-draft';\n}\n\n/**\n * Returns true if content includes unsaved changes, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether content includes unsaved changes.\n */\nexport function hasChangedContent( state ) {\n\tconst edits = getPostEdits( state );\n\treturn 'content' in edits;\n}\n\n/**\n * Returns true if there are unsaved values for the current edit session, or\n * false if the editing state matches the saved or new post.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether unsaved values exist.\n */\nexport const isEditedPostDirty = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// Edits should contain only fields which differ from the saved post (reset\n\t\t// at initial load and save complete). Thus, a non-empty edits state can be\n\t\t// inferred to contain unsaved values.\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\tif (\n\t\t\tselect( coreStore ).hasEditsForEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t)\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n);\n\n/**\n * Returns true if there are unsaved edits for entities other than\n * the editor's post, and false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether there are edits or not.\n */\nexport const hasNonPostEntityChanges = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst dirtyEntityRecords =\n\t\t\tselect( coreStore ).__experimentalGetDirtyEntityRecords();\n\t\tconst { type, id } = getCurrentPost( state );\n\t\treturn dirtyEntityRecords.some(\n\t\t\t( entityRecord ) =>\n\t\t\t\tentityRecord.kind !== 'postType' ||\n\t\t\t\tentityRecord.name !== type ||\n\t\t\t\tentityRecord.key !== id\n\t\t);\n\t}\n);\n\n/**\n * Returns true if there are no unsaved values for the current edit session and\n * if the currently edited post is new (has never been saved before).\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether new post and unsaved values exist.\n */\nexport function isCleanNewPost( state ) {\n\treturn ! isEditedPostDirty( state ) && isEditedPostNew( state );\n}\n\n/**\n * Returns the post currently being edited in its last known saved state, not\n * including unsaved edits. Returns an object containing relevant default post\n * values if the post has not yet been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Post object.\n */\nexport const getCurrentPost = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\n\t\tconst post = select( coreStore ).getRawEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( post ) {\n\t\t\treturn post;\n\t\t}\n\n\t\t// This exists for compatibility with the previous selector behavior\n\t\t// which would guarantee an object return based on the editor reducer's\n\t\t// default empty object state.\n\t\treturn EMPTY_OBJECT;\n\t}\n);\n\n/**\n * Returns the post type of the post currently being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post type.\n */\nexport function getCurrentPostType( state ) {\n\treturn state.postType;\n}\n\n/**\n * Returns the ID of the post currently being edited, or null if the post has\n * not yet been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {?number} ID of current post.\n */\nexport function getCurrentPostId( state ) {\n\treturn state.postId;\n}\n\n/**\n * Returns the template ID currently being rendered/edited\n *\n * @param {Object} state Global application state.\n *\n * @return {string?} Template ID.\n */\nexport function getCurrentTemplateId( state ) {\n\treturn state.templateId;\n}\n\n/**\n * Returns the number of revisions of the post currently being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {number} Number of revisions.\n */\nexport function getCurrentPostRevisionsCount( state ) {\n\treturn (\n\t\tgetCurrentPost( state )._links?.[ 'version-history' ]?.[ 0 ]?.count ?? 0\n\t);\n}\n\n/**\n * Returns the last revision ID of the post currently being edited,\n * or null if the post has no revisions.\n *\n * @param {Object} state Global application state.\n *\n * @return {?number} ID of the last revision.\n */\nexport function getCurrentPostLastRevisionId( state ) {\n\treturn (\n\t\tgetCurrentPost( state )._links?.[ 'predecessor-version' ]?.[ 0 ]?.id ??\n\t\tnull\n\t);\n}\n\n/**\n * Returns any post values which have been changed in the editor but not yet\n * been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Object of key value pairs comprising unsaved edits.\n */\nexport const getPostEdits = createRegistrySelector( ( select ) => ( state ) => {\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\treturn (\n\t\tselect( coreStore ).getEntityRecordEdits(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t) || EMPTY_OBJECT\n\t);\n} );\n\n/**\n * Returns an attribute value of the saved post.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nexport function getCurrentPostAttribute( state, attributeName ) {\n\tswitch ( attributeName ) {\n\t\tcase 'type':\n\t\t\treturn getCurrentPostType( state );\n\n\t\tcase 'id':\n\t\t\treturn getCurrentPostId( state );\n\n\t\tdefault:\n\t\t\tconst post = getCurrentPost( state );\n\t\t\tif ( ! post.hasOwnProperty( attributeName ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn getPostRawValue( post[ attributeName ] );\n\t}\n}\n\n/**\n * Returns a single attribute of the post being edited, preferring the unsaved\n * edit if one exists, but merging with the attribute value for the last known\n * saved state of the post (this is needed for some nested attributes like meta).\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nconst getNestedEditedPostProperty = createSelector(\n\t( state, attributeName ) => {\n\t\tconst edits = getPostEdits( state );\n\t\tif ( ! edits.hasOwnProperty( attributeName ) ) {\n\t\t\treturn getCurrentPostAttribute( state, attributeName );\n\t\t}\n\n\t\treturn {\n\t\t\t...getCurrentPostAttribute( state, attributeName ),\n\t\t\t...edits[ attributeName ],\n\t\t};\n\t},\n\t( state, attributeName ) => [\n\t\tgetCurrentPostAttribute( state, attributeName ),\n\t\tgetPostEdits( state )[ attributeName ],\n\t]\n);\n\n/**\n * Returns a single attribute of the post being edited, preferring the unsaved\n * edit if one exists, but falling back to the attribute for the last known\n * saved state of the post.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nexport function getEditedPostAttribute( state, attributeName ) {\n\t// Special cases.\n\tswitch ( attributeName ) {\n\t\tcase 'content':\n\t\t\treturn getEditedPostContent( state );\n\t}\n\n\t// Fall back to saved post value if not edited.\n\tconst edits = getPostEdits( state );\n\tif ( ! edits.hasOwnProperty( attributeName ) ) {\n\t\treturn getCurrentPostAttribute( state, attributeName );\n\t}\n\n\t// Merge properties are objects which contain only the patch edit in state,\n\t// and thus must be merged with the current post attribute.\n\tif ( EDIT_MERGE_PROPERTIES.has( attributeName ) ) {\n\t\treturn getNestedEditedPostProperty( state, attributeName );\n\t}\n\n\treturn edits[ attributeName ];\n}\n\n/**\n * Returns an attribute value of the current autosave revision for a post, or\n * null if there is no autosave for the post.\n *\n * @deprecated since 5.6. Callers should use the `getAutosave( postType, postId, userId )` selector\n * \t\t\t   from the '@wordpress/core-data' package and access properties on the returned\n * \t\t\t   autosave object using getPostRawValue.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Autosave attribute name.\n *\n * @return {*} Autosave attribute value.\n */\nexport const getAutosaveAttribute = createRegistrySelector(\n\t( select ) => ( state, attributeName ) => {\n\t\tif (\n\t\t\t! AUTOSAVE_PROPERTIES.includes( attributeName ) &&\n\t\t\tattributeName !== 'preview_link'\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst currentUserId = select( coreStore ).getCurrentUser()?.id;\n\t\tconst autosave = select( coreStore ).getAutosave(\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\tcurrentUserId\n\t\t);\n\n\t\tif ( autosave ) {\n\t\t\treturn getPostRawValue( autosave[ attributeName ] );\n\t\t}\n\t}\n);\n\n/**\n * Returns the current visibility of the post being edited, preferring the\n * unsaved value if different than the saved post. The return value is one of\n * \"private\", \"password\", or \"public\".\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post visibility.\n */\nexport function getEditedPostVisibility( state ) {\n\tconst status = getEditedPostAttribute( state, 'status' );\n\tif ( status === 'private' ) {\n\t\treturn 'private';\n\t}\n\n\tconst password = getEditedPostAttribute( state, 'password' );\n\tif ( password ) {\n\t\treturn 'password';\n\t}\n\n\treturn 'public';\n}\n\n/**\n * Returns true if post is pending review.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether current post is pending review.\n */\nexport function isCurrentPostPending( state ) {\n\treturn getCurrentPost( state ).status === 'pending';\n}\n\n/**\n * Return true if the current post has already been published.\n *\n * @param {Object}  state       Global application state.\n * @param {Object?} currentPost Explicit current post for bypassing registry selector.\n *\n * @return {boolean} Whether the post has been published.\n */\nexport function isCurrentPostPublished( state, currentPost ) {\n\tconst post = currentPost || getCurrentPost( state );\n\n\treturn (\n\t\t[ 'publish', 'private' ].indexOf( post.status ) !== -1 ||\n\t\t( post.status === 'future' &&\n\t\t\t! isInTheFuture(\n\t\t\t\tnew Date( Number( getDate( post.date ) ) - ONE_MINUTE_IN_MS )\n\t\t\t) )\n\t);\n}\n\n/**\n * Returns true if post is already scheduled.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether current post is scheduled to be posted.\n */\nexport function isCurrentPostScheduled( state ) {\n\treturn (\n\t\tgetCurrentPost( state ).status === 'future' &&\n\t\t! isCurrentPostPublished( state )\n\t);\n}\n\n/**\n * Return true if the post being edited can be published.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post can been published.\n */\nexport function isEditedPostPublishable( state ) {\n\tconst post = getCurrentPost( state );\n\n\t// TODO: Post being publishable should be superset of condition of post\n\t// being saveable. Currently this restriction is imposed at UI.\n\t//\n\t//  See: <PostPublishButton /> (`isButtonEnabled` assigned by `isSaveable`).\n\n\treturn (\n\t\tisEditedPostDirty( state ) ||\n\t\t[ 'publish', 'private', 'future' ].indexOf( post.status ) === -1\n\t);\n}\n\n/**\n * Returns true if the post can be saved, or false otherwise. A post must\n * contain a title, an excerpt, or non-empty content to be valid for save.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post can be saved.\n */\nexport function isEditedPostSaveable( state ) {\n\tif ( isSavingPost( state ) ) {\n\t\treturn false;\n\t}\n\n\t// TODO: Post should not be saveable if not dirty. Cannot be added here at\n\t// this time since posts where meta boxes are present can be saved even if\n\t// the post is not dirty. Currently this restriction is imposed at UI, but\n\t// should be moved here.\n\t//\n\t//  See: `isEditedPostPublishable` (includes `isEditedPostDirty` condition)\n\t//  See: <PostSavedState /> (`forceIsDirty` prop)\n\t//  See: <PostPublishButton /> (`forceIsDirty` prop)\n\t//  See: https://github.com/WordPress/gutenberg/pull/4184.\n\n\treturn (\n\t\t!! getEditedPostAttribute( state, 'title' ) ||\n\t\t!! getEditedPostAttribute( state, 'excerpt' ) ||\n\t\t! isEditedPostEmpty( state ) ||\n\t\tPlatform.OS === 'native'\n\t);\n}\n\n/**\n * Returns true if the edited post has content. A post has content if it has at\n * least one saveable block or otherwise has a non-empty content property\n * assigned.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post has content.\n */\nexport const isEditedPostEmpty = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// While the condition of truthy content string is sufficient to determine\n\t\t// emptiness, testing saveable blocks length is a trivial operation. Since\n\t\t// this function can be called frequently, optimize for the fast case as a\n\t\t// condition of the mere existence of blocks. Note that the value of edited\n\t\t// content takes precedent over block content, and must fall through to the\n\t\t// default logic.\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst record = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( typeof record.content !== 'function' ) {\n\t\t\treturn ! record.content;\n\t\t}\n\n\t\tconst blocks = getEditedPostAttribute( state, 'blocks' );\n\n\t\tif ( blocks.length === 0 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Pierce the abstraction of the serializer in knowing that blocks are\n\t\t// joined with newlines such that even if every individual block\n\t\t// produces an empty save result, the serialized content is non-empty.\n\t\tif ( blocks.length > 1 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// There are two conditions under which the optimization cannot be\n\t\t// assumed, and a fallthrough to getEditedPostContent must occur:\n\t\t//\n\t\t// 1. getBlocksForSerialization has special treatment in omitting a\n\t\t//    single unmodified default block.\n\t\t// 2. Comment delimiters are omitted for a freeform or unregistered\n\t\t//    block in its serialization. The freeform block specifically may\n\t\t//    produce an empty string in its saved output.\n\t\t//\n\t\t// For all other content, the single block is assumed to make a post\n\t\t// non-empty, if only by virtue of its own comment delimiters.\n\t\tconst blockName = blocks[ 0 ].name;\n\t\tif (\n\t\t\tblockName !== getDefaultBlockName() &&\n\t\t\tblockName !== getFreeformContentHandlerName()\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ! getEditedPostContent( state );\n\t}\n);\n\n/**\n * Returns true if the post can be autosaved, or false otherwise.\n *\n * @param {Object} state    Global application state.\n * @param {Object} autosave A raw autosave object from the REST API.\n *\n * @return {boolean} Whether the post can be autosaved.\n */\nexport const isEditedPostAutosaveable = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\t// A post must contain a title, an excerpt, or non-empty content to be valid for autosaving.\n\t\tif ( ! isEditedPostSaveable( state ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// A post is not autosavable when there is a post autosave lock.\n\t\tif ( isPostAutosavingLocked( state ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst hasFetchedAutosave = select( coreStore ).hasFetchedAutosaves(\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tconst currentUserId = select( coreStore ).getCurrentUser()?.id;\n\n\t\t// Disable reason - this line causes the side-effect of fetching the autosave\n\t\t// via a resolver, moving below the return would result in the autosave never\n\t\t// being fetched.\n\t\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\t\tconst autosave = select( coreStore ).getAutosave(\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\tcurrentUserId\n\t\t);\n\n\t\t// If any existing autosaves have not yet been fetched, this function is\n\t\t// unable to determine if the post is autosaveable, so return false.\n\t\tif ( ! hasFetchedAutosave ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If we don't already have an autosave, the post is autosaveable.\n\t\tif ( ! autosave ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// To avoid an expensive content serialization, use the content dirtiness\n\t\t// flag in place of content field comparison against the known autosave.\n\t\t// This is not strictly accurate, and relies on a tolerance toward autosave\n\t\t// request failures for unnecessary saves.\n\t\tif ( hasChangedContent( state ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If title, excerpt, or meta have changed, the post is autosaveable.\n\t\treturn [ 'title', 'excerpt', 'meta' ].some(\n\t\t\t( field ) =>\n\t\t\t\tgetPostRawValue( autosave[ field ] ) !==\n\t\t\t\tgetEditedPostAttribute( state, field )\n\t\t);\n\t}\n);\n\n/**\n * Return true if the post being edited is being scheduled. Preferring the\n * unsaved status values.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post has been published.\n */\nexport function isEditedPostBeingScheduled( state ) {\n\tconst date = getEditedPostAttribute( state, 'date' );\n\t// Offset the date by one minute (network latency).\n\tconst checkedDate = new Date(\n\t\tNumber( getDate( date ) ) - ONE_MINUTE_IN_MS\n\t);\n\n\treturn isInTheFuture( checkedDate );\n}\n\n/**\n * Returns whether the current post should be considered to have a \"floating\"\n * date (i.e. that it would publish \"Immediately\" rather than at a set time).\n *\n * Unlike in the PHP backend, the REST API returns a full date string for posts\n * where the 0000-00-00T00:00:00 placeholder is present in the database. To\n * infer that a post is set to publish \"Immediately\" we check whether the date\n * and modified date are the same.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether the edited post has a floating date value.\n */\nexport function isEditedPostDateFloating( state ) {\n\tconst date = getEditedPostAttribute( state, 'date' );\n\tconst modified = getEditedPostAttribute( state, 'modified' );\n\n\t// This should be the status of the persisted post\n\t// It shouldn't use the \"edited\" status otherwise it breaks the\n\t// inferred post data floating status\n\t// See https://github.com/WordPress/gutenberg/issues/28083.\n\tconst status = getCurrentPost( state ).status;\n\tif (\n\t\tstatus === 'draft' ||\n\t\tstatus === 'auto-draft' ||\n\t\tstatus === 'pending'\n\t) {\n\t\treturn date === modified || date === null;\n\t}\n\treturn false;\n}\n\n/**\n * Returns true if the post is currently being deleted, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether post is being deleted.\n */\nexport function isDeletingPost( state ) {\n\treturn !! state.deleting.pending;\n}\n\n/**\n * Returns true if the post is currently being saved, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post is being saved.\n */\nexport function isSavingPost( state ) {\n\treturn !! state.saving.pending;\n}\n\n/**\n * Returns true if non-post entities are currently being saved, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether non-post entities are being saved.\n */\nexport const isSavingNonPostEntityChanges = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst entitiesBeingSaved =\n\t\t\tselect( coreStore ).__experimentalGetEntitiesBeingSaved();\n\t\tconst { type, id } = getCurrentPost( state );\n\t\treturn entitiesBeingSaved.some(\n\t\t\t( entityRecord ) =>\n\t\t\t\tentityRecord.kind !== 'postType' ||\n\t\t\t\tentityRecord.name !== type ||\n\t\t\t\tentityRecord.key !== id\n\t\t);\n\t}\n);\n\n/**\n * Returns true if a previous post save was attempted successfully, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post was saved successfully.\n */\nexport const didPostSaveRequestSucceed = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn ! select( coreStore ).getLastEntitySaveError(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if a previous post save was attempted but failed, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post save failed.\n */\nexport const didPostSaveRequestFail = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn !! select( coreStore ).getLastEntitySaveError(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t}\n);\n\n/**\n * Returns true if the post is autosaving, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is autosaving.\n */\nexport function isAutosavingPost( state ) {\n\treturn isSavingPost( state ) && Boolean( state.saving.options?.isAutosave );\n}\n\n/**\n * Returns true if the post is being previewed, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is being previewed.\n */\nexport function isPreviewingPost( state ) {\n\treturn isSavingPost( state ) && Boolean( state.saving.options?.isPreview );\n}\n\n/**\n * Returns the post preview link\n *\n * @param {Object} state Global application state.\n *\n * @return {string | undefined} Preview Link.\n */\nexport function getEditedPostPreviewLink( state ) {\n\tif ( state.saving.pending || isSavingPost( state ) ) {\n\t\treturn;\n\t}\n\n\tlet previewLink = getAutosaveAttribute( state, 'preview_link' );\n\t// Fix for issue: https://github.com/WordPress/gutenberg/issues/33616\n\t// If the post is draft, ignore the preview link from the autosave record,\n\t// because the preview could be a stale autosave if the post was switched from\n\t// published to draft.\n\t// See: https://github.com/WordPress/gutenberg/pull/37952.\n\tif ( ! previewLink || 'draft' === getCurrentPost( state ).status ) {\n\t\tpreviewLink = getEditedPostAttribute( state, 'link' );\n\t\tif ( previewLink ) {\n\t\t\tpreviewLink = addQueryArgs( previewLink, { preview: true } );\n\t\t}\n\t}\n\tconst featuredImageId = getEditedPostAttribute( state, 'featured_media' );\n\n\tif ( previewLink && featuredImageId ) {\n\t\treturn addQueryArgs( previewLink, { _thumbnail_id: featuredImageId } );\n\t}\n\n\treturn previewLink;\n}\n\n/**\n * Returns a suggested post format for the current post, inferred only if there\n * is a single block within the post and it is of a type known to match a\n * default post format. Returns null if the format cannot be determined.\n *\n * @return {?string} Suggested post format.\n */\nexport const getSuggestedPostFormat = createRegistrySelector(\n\t( select ) => () => {\n\t\tconst blocks = select( blockEditorStore ).getBlocks();\n\n\t\tif ( blocks.length > 2 ) return null;\n\n\t\tlet name;\n\t\t// If there is only one block in the content of the post grab its name\n\t\t// so we can derive a suitable post format from it.\n\t\tif ( blocks.length === 1 ) {\n\t\t\tname = blocks[ 0 ].name;\n\t\t\t// Check for core/embed `video` and `audio` eligible suggestions.\n\t\t\tif ( name === 'core/embed' ) {\n\t\t\t\tconst provider = blocks[ 0 ].attributes?.providerNameSlug;\n\t\t\t\tif ( [ 'youtube', 'vimeo' ].includes( provider ) ) {\n\t\t\t\t\tname = 'core/video';\n\t\t\t\t} else if ( [ 'spotify', 'soundcloud' ].includes( provider ) ) {\n\t\t\t\t\tname = 'core/audio';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// If there are two blocks in the content and the last one is a text blocks\n\t\t// grab the name of the first one to also suggest a post format from it.\n\t\tif ( blocks.length === 2 && blocks[ 1 ].name === 'core/paragraph' ) {\n\t\t\tname = blocks[ 0 ].name;\n\t\t}\n\n\t\t// We only convert to default post formats in core.\n\t\tswitch ( name ) {\n\t\t\tcase 'core/image':\n\t\t\t\treturn 'image';\n\t\t\tcase 'core/quote':\n\t\t\tcase 'core/pullquote':\n\t\t\t\treturn 'quote';\n\t\t\tcase 'core/gallery':\n\t\t\t\treturn 'gallery';\n\t\t\tcase 'core/video':\n\t\t\t\treturn 'video';\n\t\t\tcase 'core/audio':\n\t\t\t\treturn 'audio';\n\t\t\tdefault:\n\t\t\t\treturn null;\n\t\t}\n\t}\n);\n\n/**\n * Returns the content of the post being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post content.\n */\nexport const getEditedPostContent = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postId = getCurrentPostId( state );\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst record = select( coreStore ).getEditedEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId\n\t\t);\n\t\tif ( record ) {\n\t\t\tif ( typeof record.content === 'function' ) {\n\t\t\t\treturn record.content( record );\n\t\t\t} else if ( record.blocks ) {\n\t\t\t\treturn __unstableSerializeAndClean( record.blocks );\n\t\t\t} else if ( record.content ) {\n\t\t\t\treturn record.content;\n\t\t\t}\n\t\t}\n\t\treturn '';\n\t}\n);\n\n/**\n * Returns true if the post is being published, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post is being published.\n */\nexport function isPublishingPost( state ) {\n\treturn (\n\t\tisSavingPost( state ) &&\n\t\t! isCurrentPostPublished( state ) &&\n\t\tgetEditedPostAttribute( state, 'status' ) === 'publish'\n\t);\n}\n\n/**\n * Returns whether the permalink is editable or not.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether or not the permalink is editable.\n */\nexport function isPermalinkEditable( state ) {\n\tconst permalinkTemplate = getEditedPostAttribute(\n\t\tstate,\n\t\t'permalink_template'\n\t);\n\n\treturn PERMALINK_POSTNAME_REGEX.test( permalinkTemplate );\n}\n\n/**\n * Returns the permalink for the post.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} The permalink, or null if the post is not viewable.\n */\nexport function getPermalink( state ) {\n\tconst permalinkParts = getPermalinkParts( state );\n\tif ( ! permalinkParts ) {\n\t\treturn null;\n\t}\n\n\tconst { prefix, postName, suffix } = permalinkParts;\n\n\tif ( isPermalinkEditable( state ) ) {\n\t\treturn prefix + postName + suffix;\n\t}\n\n\treturn prefix;\n}\n\n/**\n * Returns the slug for the post being edited, preferring a manually edited\n * value if one exists, then a sanitized version of the current post title, and\n * finally the post ID.\n *\n * @param {Object} state Editor state.\n *\n * @return {string} The current slug to be displayed in the editor\n */\nexport function getEditedPostSlug( state ) {\n\treturn (\n\t\tgetEditedPostAttribute( state, 'slug' ) ||\n\t\tcleanForSlug( getEditedPostAttribute( state, 'title' ) ) ||\n\t\tgetCurrentPostId( state )\n\t);\n}\n\n/**\n * Returns the permalink for a post, split into it's three parts: the prefix,\n * the postName, and the suffix.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} An object containing the prefix, postName, and suffix for\n *                  the permalink, or null if the post is not viewable.\n */\nexport function getPermalinkParts( state ) {\n\tconst permalinkTemplate = getEditedPostAttribute(\n\t\tstate,\n\t\t'permalink_template'\n\t);\n\tif ( ! permalinkTemplate ) {\n\t\treturn null;\n\t}\n\n\tconst postName =\n\t\tgetEditedPostAttribute( state, 'slug' ) ||\n\t\tgetEditedPostAttribute( state, 'generated_slug' );\n\n\tconst [ prefix, suffix ] = permalinkTemplate.split(\n\t\tPERMALINK_POSTNAME_REGEX\n\t);\n\n\treturn {\n\t\tprefix,\n\t\tpostName,\n\t\tsuffix,\n\t};\n}\n\n/**\n * Returns whether the post is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostLocked( state ) {\n\treturn state.postLock.isLocked;\n}\n\n/**\n * Returns whether post saving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostSavingLocked( state ) {\n\treturn Object.keys( state.postSavingLock ).length > 0;\n}\n\n/**\n * Returns whether post autosaving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostAutosavingLocked( state ) {\n\treturn Object.keys( state.postAutosavingLock ).length > 0;\n}\n\n/**\n * Returns whether the edition of the post has been taken over.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is post lock takeover.\n */\nexport function isPostLockTakeover( state ) {\n\treturn state.postLock.isTakeover;\n}\n\n/**\n * Returns details about the post lock user.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} A user object.\n */\nexport function getPostLockUser( state ) {\n\treturn state.postLock.user;\n}\n\n/**\n * Returns the active post lock.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The lock object.\n */\nexport function getActivePostLock( state ) {\n\treturn state.postLock.activePostLock;\n}\n\n/**\n * Returns whether or not the user has the unfiltered_html capability.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether the user can or can't post unfiltered HTML.\n */\nexport function canUserUseUnfilteredHTML( state ) {\n\treturn Boolean(\n\t\tgetCurrentPost( state )._links?.hasOwnProperty(\n\t\t\t'wp:action-unfiltered-html'\n\t\t)\n\t);\n}\n\n/**\n * Returns whether the pre-publish panel should be shown\n * or skipped when the user clicks the \"publish\" button.\n *\n * @return {boolean} Whether the pre-publish panel should be shown or not.\n */\nexport const isPublishSidebarEnabled = createRegistrySelector(\n\t( select ) => () =>\n\t\t!! select( preferencesStore ).get(\n\t\t\t'core/edit-post',\n\t\t\t'isPublishSidebarEnabled'\n\t\t)\n);\n\n/**\n * Return the current block list.\n *\n * @param {Object} state\n * @return {Array} Block list.\n */\nexport const getEditorBlocks = createSelector(\n\t( state ) => {\n\t\treturn (\n\t\t\tgetEditedPostAttribute( state, 'blocks' ) ||\n\t\t\tparse( getEditedPostContent( state ) )\n\t\t);\n\t},\n\t( state ) => [\n\t\tgetEditedPostAttribute( state, 'blocks' ),\n\t\tgetEditedPostContent( state ),\n\t]\n);\n\n/**\n * Returns true if the given panel was programmatically removed, or false otherwise.\n * All panels are not removed by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is removed.\n */\nexport function isEditorPanelRemoved( state, panelName ) {\n\treturn state.removedPanels.includes( panelName );\n}\n\n/**\n * Returns true if the given panel is enabled, or false otherwise. Panels are\n * enabled by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is enabled.\n */\nexport const isEditorPanelEnabled = createRegistrySelector(\n\t( select ) => ( state, panelName ) => {\n\t\t// For backward compatibility, we check edit-post\n\t\t// even though now this is in \"editor\" package.\n\t\tconst inactivePanels = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'inactivePanels'\n\t\t);\n\t\treturn (\n\t\t\t! isEditorPanelRemoved( state, panelName ) &&\n\t\t\t! inactivePanels?.includes( panelName )\n\t\t);\n\t}\n);\n\n/**\n * Returns true if the given panel is open, or false otherwise. Panels are\n * closed by default.\n *\n * @param {Object} state     Global application state.\n * @param {string} panelName A string that identifies the panel.\n *\n * @return {boolean} Whether or not the panel is open.\n */\nexport const isEditorPanelOpened = createRegistrySelector(\n\t( select ) => ( state, panelName ) => {\n\t\t// For backward compatibility, we check edit-post\n\t\t// even though now this is in \"editor\" package.\n\t\tconst openPanels = select( preferencesStore ).get(\n\t\t\t'core',\n\t\t\t'openPanels'\n\t\t);\n\t\treturn !! openPanels?.includes( panelName );\n\t}\n);\n\n/**\n * A block selection object.\n *\n * @typedef {Object} WPBlockSelection\n *\n * @property {string} clientId     A block client ID.\n * @property {string} attributeKey A block attribute key.\n * @property {number} offset       An attribute value offset, based on the rich\n *                                 text value. See `wp.richText.create`.\n */\n\n/**\n * Returns the current selection start.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection start.\n *\n * @deprecated since Gutenberg 10.0.0.\n */\nexport function getEditorSelectionStart( state ) {\n\tdeprecated( \"select('core/editor').getEditorSelectionStart\", {\n\t\tsince: '5.8',\n\t\talternative: \"select('core/editor').getEditorSelection\",\n\t} );\n\treturn getEditedPostAttribute( state, 'selection' )?.selectionStart;\n}\n\n/**\n * Returns the current selection end.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection end.\n *\n * @deprecated since Gutenberg 10.0.0.\n */\nexport function getEditorSelectionEnd( state ) {\n\tdeprecated( \"select('core/editor').getEditorSelectionStart\", {\n\t\tsince: '5.8',\n\t\talternative: \"select('core/editor').getEditorSelection\",\n\t} );\n\treturn getEditedPostAttribute( state, 'selection' )?.selectionEnd;\n}\n\n/**\n * Returns the current selection.\n *\n * @param {Object} state\n * @return {WPBlockSelection} The selection end.\n */\nexport function getEditorSelection( state ) {\n\treturn getEditedPostAttribute( state, 'selection' );\n}\n\n/**\n * Is the editor ready\n *\n * @param {Object} state\n * @return {boolean} is Ready.\n */\nexport function __unstableIsEditorReady( state ) {\n\treturn !! state.postId;\n}\n\n/**\n * Returns the post editor settings.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} The editor settings object.\n */\nexport function getEditorSettings( state ) {\n\treturn state.editorSettings;\n}\n\n/**\n * Returns the post editor's rendering mode.\n *\n * @param {Object} state Editor state.\n *\n * @return {string} Rendering mode.\n */\nexport function getRenderingMode( state ) {\n\treturn state.renderingMode;\n}\n\n/**\n * Returns the current editing canvas device type.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Device type.\n */\nexport function getDeviceType( state ) {\n\treturn state.deviceType;\n}\n\n/**\n * Returns true if the list view is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the list view is opened.\n */\nexport function isListViewOpened( state ) {\n\treturn state.listViewPanel;\n}\n\n/**\n * Returns true if the inserter is opened.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the inserter is opened.\n */\nexport function isInserterOpened( state ) {\n\treturn !! state.blockInserterPanel;\n}\n\n/*\n * Backward compatibility\n */\n\n/**\n * Returns state object prior to a specified optimist transaction ID, or `null`\n * if the transaction corresponding to the given ID cannot be found.\n *\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function getStateBeforeOptimisticTransaction() {\n\tdeprecated( \"select('core/editor').getStateBeforeOptimisticTransaction\", {\n\t\tsince: '5.7',\n\t\thint: 'No state history is kept on this store anymore',\n\t} );\n\n\treturn null;\n}\n/**\n * Returns true if an optimistic transaction is pending commit, for which the\n * before state satisfies the given predicate function.\n *\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function inSomeHistory() {\n\tdeprecated( \"select('core/editor').inSomeHistory\", {\n\t\tsince: '5.7',\n\t\thint: 'No state history is kept on this store anymore',\n\t} );\n\treturn false;\n}\n\nfunction getBlockEditorSelector( name ) {\n\treturn createRegistrySelector( ( select ) => ( state, ...args ) => {\n\t\tdeprecated( \"`wp.data.select( 'core/editor' ).\" + name + '`', {\n\t\t\tsince: '5.3',\n\t\t\talternative: \"`wp.data.select( 'core/block-editor' ).\" + name + '`',\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn select( blockEditorStore )[ name ]( ...args );\n\t} );\n}\n\n/**\n * @see getBlockName in core/block-editor store.\n */\nexport const getBlockName = getBlockEditorSelector( 'getBlockName' );\n\n/**\n * @see isBlockValid in core/block-editor store.\n */\nexport const isBlockValid = getBlockEditorSelector( 'isBlockValid' );\n\n/**\n * @see getBlockAttributes in core/block-editor store.\n */\nexport const getBlockAttributes =\n\tgetBlockEditorSelector( 'getBlockAttributes' );\n\n/**\n * @see getBlock in core/block-editor store.\n */\nexport const getBlock = getBlockEditorSelector( 'getBlock' );\n\n/**\n * @see getBlocks in core/block-editor store.\n */\nexport const getBlocks = getBlockEditorSelector( 'getBlocks' );\n\n/**\n * @see getClientIdsOfDescendants in core/block-editor store.\n */\nexport const getClientIdsOfDescendants = getBlockEditorSelector(\n\t'getClientIdsOfDescendants'\n);\n\n/**\n * @see getClientIdsWithDescendants in core/block-editor store.\n */\nexport const getClientIdsWithDescendants = getBlockEditorSelector(\n\t'getClientIdsWithDescendants'\n);\n\n/**\n * @see getGlobalBlockCount in core/block-editor store.\n */\nexport const getGlobalBlockCount = getBlockEditorSelector(\n\t'getGlobalBlockCount'\n);\n\n/**\n * @see getBlocksByClientId in core/block-editor store.\n */\nexport const getBlocksByClientId = getBlockEditorSelector(\n\t'getBlocksByClientId'\n);\n\n/**\n * @see getBlockCount in core/block-editor store.\n */\nexport const getBlockCount = getBlockEditorSelector( 'getBlockCount' );\n\n/**\n * @see getBlockSelectionStart in core/block-editor store.\n */\nexport const getBlockSelectionStart = getBlockEditorSelector(\n\t'getBlockSelectionStart'\n);\n\n/**\n * @see getBlockSelectionEnd in core/block-editor store.\n */\nexport const getBlockSelectionEnd = getBlockEditorSelector(\n\t'getBlockSelectionEnd'\n);\n\n/**\n * @see getSelectedBlockCount in core/block-editor store.\n */\nexport const getSelectedBlockCount = getBlockEditorSelector(\n\t'getSelectedBlockCount'\n);\n\n/**\n * @see hasSelectedBlock in core/block-editor store.\n */\nexport const hasSelectedBlock = getBlockEditorSelector( 'hasSelectedBlock' );\n\n/**\n * @see getSelectedBlockClientId in core/block-editor store.\n */\nexport const getSelectedBlockClientId = getBlockEditorSelector(\n\t'getSelectedBlockClientId'\n);\n\n/**\n * @see getSelectedBlock in core/block-editor store.\n */\nexport const getSelectedBlock = getBlockEditorSelector( 'getSelectedBlock' );\n\n/**\n * @see getBlockRootClientId in core/block-editor store.\n */\nexport const getBlockRootClientId = getBlockEditorSelector(\n\t'getBlockRootClientId'\n);\n\n/**\n * @see getBlockHierarchyRootClientId in core/block-editor store.\n */\nexport const getBlockHierarchyRootClientId = getBlockEditorSelector(\n\t'getBlockHierarchyRootClientId'\n);\n\n/**\n * @see getAdjacentBlockClientId in core/block-editor store.\n */\nexport const getAdjacentBlockClientId = getBlockEditorSelector(\n\t'getAdjacentBlockClientId'\n);\n\n/**\n * @see getPreviousBlockClientId in core/block-editor store.\n */\nexport const getPreviousBlockClientId = getBlockEditorSelector(\n\t'getPreviousBlockClientId'\n);\n\n/**\n * @see getNextBlockClientId in core/block-editor store.\n */\nexport const getNextBlockClientId = getBlockEditorSelector(\n\t'getNextBlockClientId'\n);\n\n/**\n * @see getSelectedBlocksInitialCaretPosition in core/block-editor store.\n */\nexport const getSelectedBlocksInitialCaretPosition = getBlockEditorSelector(\n\t'getSelectedBlocksInitialCaretPosition'\n);\n\n/**\n * @see getMultiSelectedBlockClientIds in core/block-editor store.\n */\nexport const getMultiSelectedBlockClientIds = getBlockEditorSelector(\n\t'getMultiSelectedBlockClientIds'\n);\n\n/**\n * @see getMultiSelectedBlocks in core/block-editor store.\n */\nexport const getMultiSelectedBlocks = getBlockEditorSelector(\n\t'getMultiSelectedBlocks'\n);\n\n/**\n * @see getFirstMultiSelectedBlockClientId in core/block-editor store.\n */\nexport const getFirstMultiSelectedBlockClientId = getBlockEditorSelector(\n\t'getFirstMultiSelectedBlockClientId'\n);\n\n/**\n * @see getLastMultiSelectedBlockClientId in core/block-editor store.\n */\nexport const getLastMultiSelectedBlockClientId = getBlockEditorSelector(\n\t'getLastMultiSelectedBlockClientId'\n);\n\n/**\n * @see isFirstMultiSelectedBlock in core/block-editor store.\n */\nexport const isFirstMultiSelectedBlock = getBlockEditorSelector(\n\t'isFirstMultiSelectedBlock'\n);\n\n/**\n * @see isBlockMultiSelected in core/block-editor store.\n */\nexport const isBlockMultiSelected = getBlockEditorSelector(\n\t'isBlockMultiSelected'\n);\n\n/**\n * @see isAncestorMultiSelected in core/block-editor store.\n */\nexport const isAncestorMultiSelected = getBlockEditorSelector(\n\t'isAncestorMultiSelected'\n);\n\n/**\n * @see getMultiSelectedBlocksStartClientId in core/block-editor store.\n */\nexport const getMultiSelectedBlocksStartClientId = getBlockEditorSelector(\n\t'getMultiSelectedBlocksStartClientId'\n);\n\n/**\n * @see getMultiSelectedBlocksEndClientId in core/block-editor store.\n */\nexport const getMultiSelectedBlocksEndClientId = getBlockEditorSelector(\n\t'getMultiSelectedBlocksEndClientId'\n);\n\n/**\n * @see getBlockOrder in core/block-editor store.\n */\nexport const getBlockOrder = getBlockEditorSelector( 'getBlockOrder' );\n\n/**\n * @see getBlockIndex in core/block-editor store.\n */\nexport const getBlockIndex = getBlockEditorSelector( 'getBlockIndex' );\n\n/**\n * @see isBlockSelected in core/block-editor store.\n */\nexport const isBlockSelected = getBlockEditorSelector( 'isBlockSelected' );\n\n/**\n * @see hasSelectedInnerBlock in core/block-editor store.\n */\nexport const hasSelectedInnerBlock = getBlockEditorSelector(\n\t'hasSelectedInnerBlock'\n);\n\n/**\n * @see isBlockWithinSelection in core/block-editor store.\n */\nexport const isBlockWithinSelection = getBlockEditorSelector(\n\t'isBlockWithinSelection'\n);\n\n/**\n * @see hasMultiSelection in core/block-editor store.\n */\nexport const hasMultiSelection = getBlockEditorSelector( 'hasMultiSelection' );\n\n/**\n * @see isMultiSelecting in core/block-editor store.\n */\nexport const isMultiSelecting = getBlockEditorSelector( 'isMultiSelecting' );\n\n/**\n * @see isSelectionEnabled in core/block-editor store.\n */\nexport const isSelectionEnabled =\n\tgetBlockEditorSelector( 'isSelectionEnabled' );\n\n/**\n * @see getBlockMode in core/block-editor store.\n */\nexport const getBlockMode = getBlockEditorSelector( 'getBlockMode' );\n\n/**\n * @see isTyping in core/block-editor store.\n */\nexport const isTyping = getBlockEditorSelector( 'isTyping' );\n\n/**\n * @see isCaretWithinFormattedText in core/block-editor store.\n */\nexport const isCaretWithinFormattedText = getBlockEditorSelector(\n\t'isCaretWithinFormattedText'\n);\n\n/**\n * @see getBlockInsertionPoint in core/block-editor store.\n */\nexport const getBlockInsertionPoint = getBlockEditorSelector(\n\t'getBlockInsertionPoint'\n);\n\n/**\n * @see isBlockInsertionPointVisible in core/block-editor store.\n */\nexport const isBlockInsertionPointVisible = getBlockEditorSelector(\n\t'isBlockInsertionPointVisible'\n);\n\n/**\n * @see isValidTemplate in core/block-editor store.\n */\nexport const isValidTemplate = getBlockEditorSelector( 'isValidTemplate' );\n\n/**\n * @see getTemplate in core/block-editor store.\n */\nexport const getTemplate = getBlockEditorSelector( 'getTemplate' );\n\n/**\n * @see getTemplateLock in core/block-editor store.\n */\nexport const getTemplateLock = getBlockEditorSelector( 'getTemplateLock' );\n\n/**\n * @see canInsertBlockType in core/block-editor store.\n */\nexport const canInsertBlockType =\n\tgetBlockEditorSelector( 'canInsertBlockType' );\n\n/**\n * @see getInserterItems in core/block-editor store.\n */\nexport const getInserterItems = getBlockEditorSelector( 'getInserterItems' );\n\n/**\n * @see hasInserterItems in core/block-editor store.\n */\nexport const hasInserterItems = getBlockEditorSelector( 'hasInserterItems' );\n\n/**\n * @see getBlockListSettings in core/block-editor store.\n */\nexport const getBlockListSettings = getBlockEditorSelector(\n\t'getBlockListSettings'\n);\n\n/**\n * Returns the default template types.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The template types.\n */\nexport function __experimentalGetDefaultTemplateTypes( state ) {\n\treturn getEditorSettings( state )?.defaultTemplateTypes;\n}\n\n/**\n * Returns the default template part areas.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} The template part areas.\n */\nexport const __experimentalGetDefaultTemplatePartAreas = createSelector(\n\t( state ) => {\n\t\tconst areas =\n\t\t\tgetEditorSettings( state )?.defaultTemplatePartAreas || [];\n\t\treturn areas?.map( ( item ) => {\n\t\t\treturn { ...item, icon: getTemplatePartIcon( item.icon ) };\n\t\t} );\n\t},\n\t( state ) => [ getEditorSettings( state )?.defaultTemplatePartAreas ]\n);\n\n/**\n * Returns a default template type searched by slug.\n *\n * @param {Object} state Global application state.\n * @param {string} slug  The template type slug.\n *\n * @return {Object} The template type.\n */\nexport const __experimentalGetDefaultTemplateType = createSelector(\n\t( state, slug ) => {\n\t\tconst templateTypes = __experimentalGetDefaultTemplateTypes( state );\n\t\tif ( ! templateTypes ) {\n\t\t\treturn EMPTY_OBJECT;\n\t\t}\n\n\t\treturn (\n\t\t\tObject.values( templateTypes ).find(\n\t\t\t\t( type ) => type.slug === slug\n\t\t\t) ?? EMPTY_OBJECT\n\t\t);\n\t},\n\t( state, slug ) => [ __experimentalGetDefaultTemplateTypes( state ), slug ]\n);\n\n/**\n * Given a template entity, return information about it which is ready to be\n * rendered, such as the title, description, and icon.\n *\n * @param {Object} state    Global application state.\n * @param {Object} template The template for which we need information.\n * @return {Object} Information about the template, including title, description, and icon.\n */\nexport function __experimentalGetTemplateInfo( state, template ) {\n\tif ( ! template ) {\n\t\treturn EMPTY_OBJECT;\n\t}\n\n\tconst { description, slug, title, area } = template;\n\tconst { title: defaultTitle, description: defaultDescription } =\n\t\t__experimentalGetDefaultTemplateType( state, slug );\n\n\tconst templateTitle = typeof title === 'string' ? title : title?.rendered;\n\tconst templateDescription =\n\t\ttypeof description === 'string' ? description : description?.raw;\n\tconst templateIcon =\n\t\t__experimentalGetDefaultTemplatePartAreas( state ).find(\n\t\t\t( item ) => area === item.area\n\t\t)?.icon || layout;\n\n\treturn {\n\t\ttitle:\n\t\t\ttemplateTitle && templateTitle !== slug\n\t\t\t\t? templateTitle\n\t\t\t\t: defaultTitle || slug,\n\t\tdescription: templateDescription || defaultDescription,\n\t\ticon: templateIcon,\n\t};\n}\n\n/**\n * Returns a post type label depending on the current post.\n *\n * @param {Object} state Global application state.\n *\n * @return {string|undefined} The post type label if available, otherwise undefined.\n */\nexport const getPostTypeLabel = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst currentPostType = getCurrentPostType( state );\n\t\tconst postType = select( coreStore ).getPostType( currentPostType );\n\t\t// Disable reason: Post type labels object is shaped like this.\n\t\t// eslint-disable-next-line camelcase\n\t\treturn postType?.labels?.singular_name;\n\t}\n);\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","/**\n * Function returning a sessionStorage key to set or retrieve a given post's\n * automatic session backup.\n *\n * Keys are crucially prefixed with 'wp-autosave-' so that wp-login.php's\n * `loggedout` handler can clear sessionStorage of any user-private content.\n *\n * @see https://github.com/WordPress/wordpress-develop/blob/6dad32d2aed47e6c0cf2aee8410645f6d7aba6bd/src/wp-login.php#L103\n *\n * @param {string}  postId    Post ID.\n * @param {boolean} isPostNew Whether post new.\n *\n * @return {string} sessionStorage key\n */\nfunction postKey( postId, isPostNew ) {\n\treturn `wp-autosave-block-editor-post-${\n\t\tisPostNew ? 'auto-draft' : postId\n\t}`;\n}\n\nexport function localAutosaveGet( postId, isPostNew ) {\n\treturn window.sessionStorage.getItem( postKey( postId, isPostNew ) );\n}\n\nexport function localAutosaveSet( postId, isPostNew, title, content, excerpt ) {\n\twindow.sessionStorage.setItem(\n\t\tpostKey( postId, isPostNew ),\n\t\tJSON.stringify( {\n\t\t\tpost_title: title,\n\t\t\tcontent,\n\t\t\texcerpt,\n\t\t} )\n\t);\n}\n\nexport function localAutosaveClear( postId, isPostNew ) {\n\twindow.sessionStorage.removeItem( postKey( postId, isPostNew ) );\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport deprecated from '@wordpress/deprecated';\nimport {\n\tparse,\n\tsynchronizeBlocksWithTemplate,\n\t__unstableSerializeAndClean,\n} from '@wordpress/blocks';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { applyFilters } from '@wordpress/hooks';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { TRASH_POST_NOTICE_ID } from './constants';\nimport { localAutosaveSet } from './local-autosave';\nimport {\n\tgetNotificationArgumentsForSaveSuccess,\n\tgetNotificationArgumentsForSaveFail,\n\tgetNotificationArgumentsForTrashFail,\n} from './utils/notice-builder';\n\n/**\n * Returns an action generator used in signalling that editor has initialized with\n * the specified post object and editor settings.\n *\n * @param {Object} post     Post object.\n * @param {Object} edits    Initial edited attributes object.\n * @param {Array?} template Block Template.\n */\nexport const setupEditor =\n\t( post, edits, template ) =>\n\t( { dispatch } ) => {\n\t\tdispatch.setEditedPost( post.type, post.id );\n\t\t// Apply a template for new posts only, if exists.\n\t\tconst isNewPost = post.status === 'auto-draft';\n\t\tif ( isNewPost && template ) {\n\t\t\t// In order to ensure maximum of a single parse during setup, edits are\n\t\t\t// included as part of editor setup action. Assume edited content as\n\t\t\t// canonical if provided, falling back to post.\n\t\t\tlet content;\n\t\t\tif ( 'content' in edits ) {\n\t\t\t\tcontent = edits.content;\n\t\t\t} else {\n\t\t\t\tcontent = post.content.raw;\n\t\t\t}\n\t\t\tlet blocks = parse( content );\n\t\t\tblocks = synchronizeBlocksWithTemplate( blocks, template );\n\t\t\tdispatch.resetEditorBlocks( blocks, {\n\t\t\t\t__unstableShouldCreateUndoLevel: false,\n\t\t\t} );\n\t\t}\n\t\tif (\n\t\t\tedits &&\n\t\t\tObject.values( edits ).some(\n\t\t\t\t( [ key, edit ] ) =>\n\t\t\t\t\tedit !== ( post[ key ]?.raw ?? post[ key ] )\n\t\t\t)\n\t\t) {\n\t\t\tdispatch.editPost( edits );\n\t\t}\n\t};\n\n/**\n * Returns an action object signalling that the editor is being destroyed and\n * that any necessary state or side-effect cleanup should occur.\n *\n * @deprecated\n *\n * @return {Object} Action object.\n */\nexport function __experimentalTearDownEditor() {\n\tdeprecated(\n\t\t\"wp.data.dispatch( 'core/editor' ).__experimentalTearDownEditor\",\n\t\t{\n\t\t\tsince: '6.5',\n\t\t}\n\t);\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Returns an action object used in signalling that the latest version of the\n * post has been received, either by initialization or save.\n *\n * @deprecated Since WordPress 6.0.\n */\nexport function resetPost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).resetPost\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Initialize the editor with the setupEditorState action',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Returns an action object used in signalling that a patch of updates for the\n * latest version of the post have been received.\n *\n * @return {Object} Action object.\n * @deprecated since Gutenberg 9.7.0.\n */\nexport function updatePost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).updatePost\", {\n\t\tsince: '5.7',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn {\n\t\ttype: 'DO_NOTHING',\n\t};\n}\n\n/**\n * Setup the editor state.\n *\n * @deprecated\n *\n * @param {Object} post Post object.\n */\nexport function setupEditorState( post ) {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).setupEditorState\", {\n\t\tsince: '6.5',\n\t\talternative: \"wp.data.dispatch( 'core/editor' ).setEditedPost\",\n\t} );\n\treturn setEditedPost( post.type, post.id );\n}\n\n/**\n * Returns an action that sets the current post Type and post ID.\n *\n * @param {string} postType Post Type.\n * @param {string} postId   Post ID.\n *\n * @return {Object} Action object.\n */\nexport function setEditedPost( postType, postId ) {\n\treturn {\n\t\ttype: 'SET_EDITED_POST',\n\t\tpostType,\n\t\tpostId,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that attributes of the post have\n * been edited.\n *\n * @param {Object} edits   Post attributes to edit.\n * @param {Object} options Options for the edit.\n */\nexport const editPost =\n\t( edits, options ) =>\n\t( { select, registry } ) => {\n\t\tconst { id, type } = select.getCurrentPost();\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.editEntityRecord( 'postType', type, id, edits, options );\n\t};\n\n/**\n * Action for saving the current post in the editor.\n *\n * @param {Object} options\n */\nexport const savePost =\n\t( options = {} ) =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tif ( ! select.isEditedPostSaveable() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst content = select.getEditedPostContent();\n\n\t\tif ( ! options.isAutosave ) {\n\t\t\tdispatch.editPost( { content }, { undoIgnore: true } );\n\t\t}\n\n\t\tconst previousRecord = select.getCurrentPost();\n\t\tconst edits = {\n\t\t\tid: previousRecord.id,\n\t\t\t...registry\n\t\t\t\t.select( coreStore )\n\t\t\t\t.getEntityRecordNonTransientEdits(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpreviousRecord.type,\n\t\t\t\t\tpreviousRecord.id\n\t\t\t\t),\n\t\t\tcontent,\n\t\t};\n\t\tdispatch( { type: 'REQUEST_POST_UPDATE_START', options } );\n\t\tawait registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.saveEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpreviousRecord.type,\n\t\t\t\tedits,\n\t\t\t\toptions\n\t\t\t);\n\n\t\tlet error = registry\n\t\t\t.select( coreStore )\n\t\t\t.getLastEntitySaveError(\n\t\t\t\t'postType',\n\t\t\t\tpreviousRecord.type,\n\t\t\t\tpreviousRecord.id\n\t\t\t);\n\n\t\tif ( ! error ) {\n\t\t\tawait applyFilters(\n\t\t\t\t'editor.__unstableSavePost',\n\t\t\t\tPromise.resolve(),\n\t\t\t\toptions\n\t\t\t).catch( ( err ) => {\n\t\t\t\terror = err;\n\t\t\t} );\n\t\t}\n\t\tdispatch( { type: 'REQUEST_POST_UPDATE_FINISH', options } );\n\n\t\tif ( error ) {\n\t\t\tconst args = getNotificationArgumentsForSaveFail( {\n\t\t\t\tpost: previousRecord,\n\t\t\t\tedits,\n\t\t\t\terror,\n\t\t\t} );\n\t\t\tif ( args.length ) {\n\t\t\t\tregistry.dispatch( noticesStore ).createErrorNotice( ...args );\n\t\t\t}\n\t\t} else {\n\t\t\tconst updatedRecord = select.getCurrentPost();\n\t\t\tconst args = getNotificationArgumentsForSaveSuccess( {\n\t\t\t\tpreviousPost: previousRecord,\n\t\t\t\tpost: updatedRecord,\n\t\t\t\tpostType: await registry\n\t\t\t\t\t.resolveSelect( coreStore )\n\t\t\t\t\t.getPostType( updatedRecord.type ),\n\t\t\t\toptions,\n\t\t\t} );\n\t\t\tif ( args.length ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t\t.createSuccessNotice( ...args );\n\t\t\t}\n\t\t\t// Make sure that any edits after saving create an undo level and are\n\t\t\t// considered for change detection.\n\t\t\tif ( ! options.isAutosave ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( blockEditorStore )\n\t\t\t\t\t.__unstableMarkLastChangeAsPersistent();\n\t\t\t}\n\t\t}\n\t};\n\n/**\n * Action for refreshing the current post.\n *\n * @deprecated Since WordPress 6.0.\n */\nexport function refreshPost() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).refreshPost\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Action for trashing the current post in the editor.\n */\nexport const trashPost =\n\t() =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tconst postTypeSlug = select.getCurrentPostType();\n\t\tconst postType = await registry\n\t\t\t.resolveSelect( coreStore )\n\t\t\t.getPostType( postTypeSlug );\n\t\tregistry.dispatch( noticesStore ).removeNotice( TRASH_POST_NOTICE_ID );\n\t\tconst { rest_base: restBase, rest_namespace: restNamespace = 'wp/v2' } =\n\t\t\tpostType;\n\t\tdispatch( { type: 'REQUEST_POST_DELETE_START' } );\n\t\ttry {\n\t\t\tconst post = select.getCurrentPost();\n\t\t\tawait apiFetch( {\n\t\t\t\tpath: `/${ restNamespace }/${ restBase }/${ post.id }`,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t} );\n\n\t\t\tawait dispatch.savePost();\n\t\t} catch ( error ) {\n\t\t\tregistry\n\t\t\t\t.dispatch( noticesStore )\n\t\t\t\t.createErrorNotice(\n\t\t\t\t\t...getNotificationArgumentsForTrashFail( { error } )\n\t\t\t\t);\n\t\t}\n\t\tdispatch( { type: 'REQUEST_POST_DELETE_FINISH' } );\n\t};\n\n/**\n * Action that autosaves the current post.  This\n * includes server-side autosaving (default) and client-side (a.k.a. local)\n * autosaving (e.g. on the Web, the post might be committed to Session\n * Storage).\n *\n * @param {Object?} options Extra flags to identify the autosave.\n */\nexport const autosave =\n\t( { local = false, ...options } = {} ) =>\n\tasync ( { select, dispatch } ) => {\n\t\tif ( local ) {\n\t\t\tconst post = select.getCurrentPost();\n\t\t\tconst isPostNew = select.isEditedPostNew();\n\t\t\tconst title = select.getEditedPostAttribute( 'title' );\n\t\t\tconst content = select.getEditedPostAttribute( 'content' );\n\t\t\tconst excerpt = select.getEditedPostAttribute( 'excerpt' );\n\t\t\tlocalAutosaveSet( post.id, isPostNew, title, content, excerpt );\n\t\t} else {\n\t\t\tawait dispatch.savePost( { isAutosave: true, ...options } );\n\t\t}\n\t};\n\nexport const __unstableSaveForPreview =\n\t( { forceIsAutosaveable } = {} ) =>\n\tasync ( { select, dispatch } ) => {\n\t\tif (\n\t\t\t( forceIsAutosaveable || select.isEditedPostAutosaveable() ) &&\n\t\t\t! select.isPostLocked()\n\t\t) {\n\t\t\tconst isDraft = [ 'draft', 'auto-draft' ].includes(\n\t\t\t\tselect.getEditedPostAttribute( 'status' )\n\t\t\t);\n\t\t\tif ( isDraft ) {\n\t\t\t\tawait dispatch.savePost( { isPreview: true } );\n\t\t\t} else {\n\t\t\t\tawait dispatch.autosave( { isPreview: true } );\n\t\t\t}\n\t\t}\n\n\t\treturn select.getEditedPostPreviewLink();\n\t};\n\n/**\n * Action that restores last popped state in undo history.\n */\nexport const redo =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( coreStore ).redo();\n\t};\n\n/**\n * Action that pops a record from undo history and undoes the edit.\n */\nexport const undo =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry.dispatch( coreStore ).undo();\n\t};\n\n/**\n * Action that creates an undo history record.\n *\n * @deprecated Since WordPress 6.0\n */\nexport function createUndoLevel() {\n\tdeprecated( \"wp.data.dispatch( 'core/editor' ).createUndoLevel\", {\n\t\tsince: '6.0',\n\t\tversion: '6.3',\n\t\talternative: 'Use the core entities store instead',\n\t} );\n\treturn { type: 'DO_NOTHING' };\n}\n\n/**\n * Action that locks the editor.\n *\n * @param {Object} lock Details about the post lock status, user, and nonce.\n * @return {Object} Action object.\n */\nexport function updatePostLock( lock ) {\n\treturn {\n\t\ttype: 'UPDATE_POST_LOCK',\n\t\tlock,\n\t};\n}\n\n/**\n * Enable the publish sidebar.\n */\nexport const enablePublishSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core/edit-post', 'isPublishSidebarEnabled', true );\n\t};\n\n/**\n * Disables the publish sidebar.\n */\nexport const disablePublishSidebar =\n\t() =>\n\t( { registry } ) => {\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core/edit-post', 'isPublishSidebarEnabled', false );\n\t};\n\n/**\n * Action that locks post saving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * const { subscribe } = wp.data;\n *\n * const initialPostStatus = wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' );\n *\n * // Only allow publishing posts that are set to a future date.\n * if ( 'publish' !== initialPostStatus ) {\n *\n * \t// Track locking.\n * \tlet locked = false;\n *\n * \t// Watch for the publish event.\n * \tlet unssubscribe = subscribe( () => {\n * \t\tconst currentPostStatus = wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' );\n * \t\tif ( 'publish' !== currentPostStatus ) {\n *\n * \t\t\t// Compare the post date to the current date, lock the post if the date isn't in the future.\n * \t\t\tconst postDate = new Date( wp.data.select( 'core/editor' ).getEditedPostAttribute( 'date' ) );\n * \t\t\tconst currentDate = new Date();\n * \t\t\tif ( postDate.getTime() <= currentDate.getTime() ) {\n * \t\t\t\tif ( ! locked ) {\n * \t\t\t\t\tlocked = true;\n * \t\t\t\t\twp.data.dispatch( 'core/editor' ).lockPostSaving( 'futurelock' );\n * \t\t\t\t}\n * \t\t\t} else {\n * \t\t\t\tif ( locked ) {\n * \t\t\t\t\tlocked = false;\n * \t\t\t\t\twp.data.dispatch( 'core/editor' ).unlockPostSaving( 'futurelock' );\n * \t\t\t\t}\n * \t\t\t}\n * \t\t}\n * \t} );\n * }\n * ```\n *\n * @return {Object} Action object\n */\nexport function lockPostSaving( lockName ) {\n\treturn {\n\t\ttype: 'LOCK_POST_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that unlocks post saving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Unlock post saving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).unlockPostSaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function unlockPostSaving( lockName ) {\n\treturn {\n\t\ttype: 'UNLOCK_POST_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that locks post autosaving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Lock post autosaving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).lockPostAutosaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function lockPostAutosaving( lockName ) {\n\treturn {\n\t\ttype: 'LOCK_POST_AUTOSAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Action that unlocks post autosaving.\n *\n * @param {string} lockName The lock name.\n *\n * @example\n * ```\n * // Unlock post saving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).unlockPostAutosaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function unlockPostAutosaving( lockName ) {\n\treturn {\n\t\ttype: 'UNLOCK_POST_AUTOSAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Returns an action object used to signal that the blocks have been updated.\n *\n * @param {Array}   blocks  Block Array.\n * @param {?Object} options Optional options.\n */\nexport const resetEditorBlocks =\n\t( blocks, options = {} ) =>\n\t( { select, dispatch, registry } ) => {\n\t\tconst { __unstableShouldCreateUndoLevel, selection } = options;\n\t\tconst edits = { blocks, selection };\n\n\t\tif ( __unstableShouldCreateUndoLevel !== false ) {\n\t\t\tconst { id, type } = select.getCurrentPost();\n\t\t\tconst noChange =\n\t\t\t\tregistry\n\t\t\t\t\t.select( coreStore )\n\t\t\t\t\t.getEditedEntityRecord( 'postType', type, id ).blocks ===\n\t\t\t\tedits.blocks;\n\t\t\tif ( noChange ) {\n\t\t\t\tregistry\n\t\t\t\t\t.dispatch( coreStore )\n\t\t\t\t\t.__unstableCreateUndoLevel( 'postType', type, id );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// We create a new function here on every persistent edit\n\t\t\t// to make sure the edit makes the post dirty and creates\n\t\t\t// a new undo level.\n\t\t\tedits.content = ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\t\t__unstableSerializeAndClean( blocksForSerialization );\n\t\t}\n\n\t\tdispatch.editPost( edits );\n\t};\n\n/*\n * Returns an action object used in signalling that the post editor settings have been updated.\n *\n * @param {Object} settings Updated settings\n *\n * @return {Object} Action object\n */\nexport function updateEditorSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_EDITOR_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Returns an action used to set the rendering mode of the post editor. We support multiple rendering modes:\n *\n * -   `all`: This is the default mode. It renders the post editor with all the features available. If a template is provided, it's preferred over the post.\n * -   `template-only`: This mode renders the editor with only the template blocks visible.\n * -   `post-only`: This mode extracts the post blocks from the template and renders only those. The idea is to allow the user to edit the post/page in isolation without the wrapping template.\n * -   `template-locked`: This mode renders both the template and the post blocks but the template blocks are locked and can't be edited. The post blocks are editable.\n *\n * @param {string} mode Mode (one of 'template-only', 'post-only', 'template-locked' or 'all').\n */\nexport const setRenderingMode =\n\t( mode ) =>\n\t( { dispatch, registry, select } ) => {\n\t\tif ( select.__unstableIsEditorReady() ) {\n\t\t\t// We clear the block selection but we also need to clear the selection from the core store.\n\t\t\tregistry.dispatch( blockEditorStore ).clearSelectedBlock();\n\t\t\tdispatch.editPost( { selection: undefined }, { undoIgnore: true } );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'SET_RENDERING_MODE',\n\t\t\tmode,\n\t\t} );\n\t};\n\n/**\n * Action that changes the width of the editing canvas.\n *\n * @param {string} deviceType\n *\n * @return {Object} Action object.\n */\nexport function setDeviceType( deviceType ) {\n\treturn {\n\t\ttype: 'SET_DEVICE_TYPE',\n\t\tdeviceType,\n\t};\n}\n\n/**\n * Returns an action object used to enable or disable a panel in the editor.\n *\n * @param {string} panelName A string that identifies the panel to enable or disable.\n *\n * @return {Object} Action object.\n */\nexport const toggleEditorPanelEnabled =\n\t( panelName ) =>\n\t( { registry } ) => {\n\t\tconst inactivePanels =\n\t\t\tregistry\n\t\t\t\t.select( preferencesStore )\n\t\t\t\t.get( 'core', 'inactivePanels' ) ?? [];\n\n\t\tconst isPanelInactive = !! inactivePanels?.includes( panelName );\n\n\t\t// If the panel is inactive, remove it to enable it, else add it to\n\t\t// make it inactive.\n\t\tlet updatedInactivePanels;\n\t\tif ( isPanelInactive ) {\n\t\t\tupdatedInactivePanels = inactivePanels.filter(\n\t\t\t\t( invactivePanelName ) => invactivePanelName !== panelName\n\t\t\t);\n\t\t} else {\n\t\t\tupdatedInactivePanels = [ ...inactivePanels, panelName ];\n\t\t}\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'inactivePanels', updatedInactivePanels );\n\t};\n\n/**\n * Opens a closed panel and closes an open panel.\n *\n * @param {string} panelName A string that identifies the panel to open or close.\n */\nexport const toggleEditorPanelOpened =\n\t( panelName ) =>\n\t( { registry } ) => {\n\t\tconst openPanels =\n\t\t\tregistry.select( preferencesStore ).get( 'core', 'openPanels' ) ??\n\t\t\t[];\n\n\t\tconst isPanelOpen = !! openPanels?.includes( panelName );\n\n\t\t// If the panel is open, remove it to close it, else add it to\n\t\t// make it open.\n\t\tlet updatedOpenPanels;\n\t\tif ( isPanelOpen ) {\n\t\t\tupdatedOpenPanels = openPanels.filter(\n\t\t\t\t( openPanelName ) => openPanelName !== panelName\n\t\t\t);\n\t\t} else {\n\t\t\tupdatedOpenPanels = [ ...openPanels, panelName ];\n\t\t}\n\n\t\tregistry\n\t\t\t.dispatch( preferencesStore )\n\t\t\t.set( 'core', 'openPanels', updatedOpenPanels );\n\t};\n\n/**\n * Returns an action object used to remove a panel from the editor.\n *\n * @param {string} panelName A string that identifies the panel to remove.\n *\n * @return {Object} Action object.\n */\nexport function removeEditorPanel( panelName ) {\n\treturn {\n\t\ttype: 'REMOVE_PANEL',\n\t\tpanelName,\n\t};\n}\n\n/**\n * Returns an action object used to open/close the inserter.\n *\n * @param {boolean|Object} value                Whether the inserter should be\n *                                              opened (true) or closed (false).\n *                                              To specify an insertion point,\n *                                              use an object.\n * @param {string}         value.rootClientId   The root client ID to insert at.\n * @param {number}         value.insertionIndex The index to insert at.\n *\n * @return {Object} Action object.\n */\nexport function setIsInserterOpened( value ) {\n\treturn {\n\t\ttype: 'SET_IS_INSERTER_OPENED',\n\t\tvalue,\n\t};\n}\n\n/**\n * Returns an action object used to open/close the list view.\n *\n * @param {boolean} isOpen A boolean representing whether the list view should be opened or closed.\n * @return {Object} Action object.\n */\nexport function setIsListViewOpened( isOpen ) {\n\treturn {\n\t\ttype: 'SET_IS_LIST_VIEW_OPENED',\n\t\tisOpen,\n\t};\n}\n\n/**\n * Backward compatibility\n */\n\nconst getBlockEditorAction =\n\t( name ) =>\n\t( ...args ) =>\n\t( { registry } ) => {\n\t\tdeprecated( \"`wp.data.dispatch( 'core/editor' ).\" + name + '`', {\n\t\t\tsince: '5.3',\n\t\t\talternative:\n\t\t\t\t\"`wp.data.dispatch( 'core/block-editor' ).\" + name + '`',\n\t\t\tversion: '6.2',\n\t\t} );\n\t\tregistry.dispatch( blockEditorStore )[ name ]( ...args );\n\t};\n\n/**\n * @see resetBlocks in core/block-editor store.\n */\nexport const resetBlocks = getBlockEditorAction( 'resetBlocks' );\n\n/**\n * @see receiveBlocks in core/block-editor store.\n */\nexport const receiveBlocks = getBlockEditorAction( 'receiveBlocks' );\n\n/**\n * @see updateBlock in core/block-editor store.\n */\nexport const updateBlock = getBlockEditorAction( 'updateBlock' );\n\n/**\n * @see updateBlockAttributes in core/block-editor store.\n */\nexport const updateBlockAttributes = getBlockEditorAction(\n\t'updateBlockAttributes'\n);\n\n/**\n * @see selectBlock in core/block-editor store.\n */\nexport const selectBlock = getBlockEditorAction( 'selectBlock' );\n\n/**\n * @see startMultiSelect in core/block-editor store.\n */\nexport const startMultiSelect = getBlockEditorAction( 'startMultiSelect' );\n\n/**\n * @see stopMultiSelect in core/block-editor store.\n */\nexport const stopMultiSelect = getBlockEditorAction( 'stopMultiSelect' );\n\n/**\n * @see multiSelect in core/block-editor store.\n */\nexport const multiSelect = getBlockEditorAction( 'multiSelect' );\n\n/**\n * @see clearSelectedBlock in core/block-editor store.\n */\nexport const clearSelectedBlock = getBlockEditorAction( 'clearSelectedBlock' );\n\n/**\n * @see toggleSelection in core/block-editor store.\n */\nexport const toggleSelection = getBlockEditorAction( 'toggleSelection' );\n\n/**\n * @see replaceBlocks in core/block-editor store.\n */\nexport const replaceBlocks = getBlockEditorAction( 'replaceBlocks' );\n\n/**\n * @see replaceBlock in core/block-editor store.\n */\nexport const replaceBlock = getBlockEditorAction( 'replaceBlock' );\n\n/**\n * @see moveBlocksDown in core/block-editor store.\n */\nexport const moveBlocksDown = getBlockEditorAction( 'moveBlocksDown' );\n\n/**\n * @see moveBlocksUp in core/block-editor store.\n */\nexport const moveBlocksUp = getBlockEditorAction( 'moveBlocksUp' );\n\n/**\n * @see moveBlockToPosition in core/block-editor store.\n */\nexport const moveBlockToPosition = getBlockEditorAction(\n\t'moveBlockToPosition'\n);\n\n/**\n * @see insertBlock in core/block-editor store.\n */\nexport const insertBlock = getBlockEditorAction( 'insertBlock' );\n\n/**\n * @see insertBlocks in core/block-editor store.\n */\nexport const insertBlocks = getBlockEditorAction( 'insertBlocks' );\n\n/**\n * @see showInsertionPoint in core/block-editor store.\n */\nexport const showInsertionPoint = getBlockEditorAction( 'showInsertionPoint' );\n\n/**\n * @see hideInsertionPoint in core/block-editor store.\n */\nexport const hideInsertionPoint = getBlockEditorAction( 'hideInsertionPoint' );\n\n/**\n * @see setTemplateValidity in core/block-editor store.\n */\nexport const setTemplateValidity = getBlockEditorAction(\n\t'setTemplateValidity'\n);\n\n/**\n * @see synchronizeTemplate in core/block-editor store.\n */\nexport const synchronizeTemplate = getBlockEditorAction(\n\t'synchronizeTemplate'\n);\n\n/**\n * @see mergeBlocks in core/block-editor store.\n */\nexport const mergeBlocks = getBlockEditorAction( 'mergeBlocks' );\n\n/**\n * @see removeBlocks in core/block-editor store.\n */\nexport const removeBlocks = getBlockEditorAction( 'removeBlocks' );\n\n/**\n * @see removeBlock in core/block-editor store.\n */\nexport const removeBlock = getBlockEditorAction( 'removeBlock' );\n\n/**\n * @see toggleBlockMode in core/block-editor store.\n */\nexport const toggleBlockMode = getBlockEditorAction( 'toggleBlockMode' );\n\n/**\n * @see startTyping in core/block-editor store.\n */\nexport const startTyping = getBlockEditorAction( 'startTyping' );\n\n/**\n * @see stopTyping in core/block-editor store.\n */\nexport const stopTyping = getBlockEditorAction( 'stopTyping' );\n\n/**\n * @see enterFormattedText in core/block-editor store.\n */\nexport const enterFormattedText = getBlockEditorAction( 'enterFormattedText' );\n\n/**\n * @see exitFormattedText in core/block-editor store.\n */\nexport const exitFormattedText = getBlockEditorAction( 'exitFormattedText' );\n\n/**\n * @see insertDefaultBlock in core/block-editor store.\n */\nexport const insertDefaultBlock = getBlockEditorAction( 'insertDefaultBlock' );\n\n/**\n * @see updateBlockListSettings in core/block-editor store.\n */\nexport const updateBlockListSettings = getBlockEditorAction(\n\t'updateBlockListSettings'\n);\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { SAVE_POST_NOTICE_ID, TRASH_POST_NOTICE_ID } from '../constants';\n\n/**\n * Builds the arguments for a success notification dispatch.\n *\n * @param {Object} data Incoming data to build the arguments from.\n *\n * @return {Array} Arguments for dispatch. An empty array signals no\n *                 notification should be sent.\n */\nexport function getNotificationArgumentsForSaveSuccess( data ) {\n\tconst { previousPost, post, postType } = data;\n\t// Autosaves are neither shown a notice nor redirected.\n\tif ( data.options?.isAutosave ) {\n\t\treturn [];\n\t}\n\n\tconst publishStatus = [ 'publish', 'private', 'future' ];\n\tconst isPublished = publishStatus.includes( previousPost.status );\n\tconst willPublish = publishStatus.includes( post.status );\n\tconst willTrash =\n\t\tpost.status === 'trash' && previousPost.status !== 'trash';\n\n\tlet noticeMessage;\n\tlet shouldShowLink = postType?.viewable ?? false;\n\tlet isDraft;\n\n\t// Always should a notice, which will be spoken for accessibility.\n\tif ( willTrash ) {\n\t\tnoticeMessage = postType.labels.item_trashed;\n\t\tshouldShowLink = false;\n\t} else if ( ! isPublished && ! willPublish ) {\n\t\t// If saving a non-published post, don't show notice.\n\t\tnoticeMessage = __( 'Draft saved.' );\n\t\tisDraft = true;\n\t} else if ( isPublished && ! willPublish ) {\n\t\t// If undoing publish status, show specific notice.\n\t\tnoticeMessage = postType.labels.item_reverted_to_draft;\n\t\tshouldShowLink = false;\n\t} else if ( ! isPublished && willPublish ) {\n\t\t// If publishing or scheduling a post, show the corresponding\n\t\t// publish message.\n\t\tnoticeMessage = {\n\t\t\tpublish: postType.labels.item_published,\n\t\t\tprivate: postType.labels.item_published_privately,\n\t\t\tfuture: postType.labels.item_scheduled,\n\t\t}[ post.status ];\n\t} else {\n\t\t// Generic fallback notice.\n\t\tnoticeMessage = postType.labels.item_updated;\n\t}\n\n\tconst actions = [];\n\tif ( shouldShowLink ) {\n\t\tactions.push( {\n\t\t\tlabel: isDraft ? __( 'View Preview' ) : postType.labels.view_item,\n\t\t\turl: post.link,\n\t\t} );\n\t}\n\treturn [\n\t\tnoticeMessage,\n\t\t{\n\t\t\tid: SAVE_POST_NOTICE_ID,\n\t\t\ttype: 'snackbar',\n\t\t\tactions,\n\t\t},\n\t];\n}\n\n/**\n * Builds the fail notification arguments for dispatch.\n *\n * @param {Object} data Incoming data to build the arguments with.\n *\n * @return {Array} Arguments for dispatch. An empty array signals no\n *                 notification should be sent.\n */\nexport function getNotificationArgumentsForSaveFail( data ) {\n\tconst { post, edits, error } = data;\n\tif ( error && 'rest_autosave_no_changes' === error.code ) {\n\t\t// Autosave requested a new autosave, but there were no changes. This shouldn't\n\t\t// result in an error notice for the user.\n\t\treturn [];\n\t}\n\n\tconst publishStatus = [ 'publish', 'private', 'future' ];\n\tconst isPublished = publishStatus.indexOf( post.status ) !== -1;\n\t// If the post was being published, we show the corresponding publish error message\n\t// Unless we publish an \"updating failed\" message.\n\tconst messages = {\n\t\tpublish: __( 'Publishing failed.' ),\n\t\tprivate: __( 'Publishing failed.' ),\n\t\tfuture: __( 'Scheduling failed.' ),\n\t};\n\tlet noticeMessage =\n\t\t! isPublished && publishStatus.indexOf( edits.status ) !== -1\n\t\t\t? messages[ edits.status ]\n\t\t\t: __( 'Updating failed.' );\n\n\t// Check if message string contains HTML. Notice text is currently only\n\t// supported as plaintext, and stripping the tags may muddle the meaning.\n\tif ( error.message && ! /<\\/?[^>]*>/.test( error.message ) ) {\n\t\tnoticeMessage = [ noticeMessage, error.message ].join( ' ' );\n\t}\n\treturn [\n\t\tnoticeMessage,\n\t\t{\n\t\t\tid: SAVE_POST_NOTICE_ID,\n\t\t},\n\t];\n}\n\n/**\n * Builds the trash fail notification arguments for dispatch.\n *\n * @param {Object} data\n *\n * @return {Array} Arguments for dispatch.\n */\nexport function getNotificationArgumentsForTrashFail( data ) {\n\treturn [\n\t\tdata.error.message && data.error.code !== 'unknown_error'\n\t\t\t? data.error.message\n\t\t\t: __( 'Trashing failed' ),\n\t\t{\n\t\t\tid: TRASH_POST_NOTICE_ID,\n\t\t},\n\t];\n}\n","/**\n * WordPress dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Returns an action object used to set which template is currently being used/edited.\n *\n * @param {string} id Template Id.\n *\n * @return {Object} Action object.\n */\nexport function setCurrentTemplateId( id ) {\n\treturn {\n\t\ttype: 'SET_CURRENT_TEMPLATE_ID',\n\t\tid,\n\t};\n}\n\n/**\n * Create a block based template.\n *\n * @param {Object?} template Template to create and assign.\n */\nexport const createTemplate =\n\t( template ) =>\n\tasync ( { select, dispatch, registry } ) => {\n\t\tconst savedTemplate = await registry\n\t\t\t.dispatch( coreStore )\n\t\t\t.saveEntityRecord( 'postType', 'wp_template', template );\n\t\tregistry\n\t\t\t.dispatch( coreStore )\n\t\t\t.editEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tselect.getCurrentPostType(),\n\t\t\t\tselect.getCurrentPostId(),\n\t\t\t\t{\n\t\t\t\t\ttemplate: savedTemplate.slug,\n\t\t\t\t}\n\t\t\t);\n\t\tregistry\n\t\t\t.dispatch( noticesStore )\n\t\t\t.createSuccessNotice(\n\t\t\t\t__( \"Custom template created. You're in template mode now.\" ),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\tdispatch.setRenderingMode(\n\t\t\t\t\t\t\t\t\tselect.getEditorSettings()\n\t\t\t\t\t\t\t\t\t\t.defaultRenderingMode\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t};\n","/**\n * WordPress dependencies\n */\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { createRegistrySelector } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { getRenderingMode } from './selectors';\n\nconst EMPTY_INSERTION_POINT = {\n\trootClientId: undefined,\n\tinsertionIndex: undefined,\n\tfilterValue: undefined,\n};\n\n/**\n * Get the insertion point for the inserter.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The root client ID, index to insert at and starting filter value.\n */\nexport const getInsertionPoint = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tif ( typeof state.blockInserterPanel === 'object' ) {\n\t\t\treturn state.blockInserterPanel;\n\t\t}\n\n\t\tif ( getRenderingMode( state ) === 'template-locked' ) {\n\t\t\tconst [ postContentClientId ] =\n\t\t\t\tselect( blockEditorStore ).__experimentalGetGlobalBlocksByName(\n\t\t\t\t\t'core/post-content'\n\t\t\t\t);\n\t\t\tif ( postContentClientId ) {\n\t\t\t\treturn {\n\t\t\t\t\trootClientId: postContentClientId,\n\t\t\t\t\tinsertionIndex: undefined,\n\t\t\t\t\tfilterValue: undefined,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn EMPTY_INSERTION_POINT;\n\t}\n);\n\nexport function getListViewToggleRef( state ) {\n\treturn state.listViewToggleRef;\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"privateApis\"];","/**\n * WordPress dependencies\n */\nimport { __dangerousOptInToUnstableAPIsOnlyForCoreModules } from '@wordpress/private-apis';\nexport const { lock, unlock } =\n\t__dangerousOptInToUnstableAPIsOnlyForCoreModules(\n\t\t'I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.',\n\t\t'@wordpress/editor'\n\t);\n","/**\n * WordPress dependencies\n */\nimport { createReduxStore, register } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport * as privateActions from './private-actions';\nimport * as privateSelectors from './private-selectors';\nimport { STORE_NAME } from './constants';\nimport { unlock } from '../lock-unlock';\n\n/**\n * Post editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#registerStore\n *\n * @type {Object}\n */\nexport const storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n};\n\n/**\n * Store definition for the editor namespace.\n *\n * @see https://github.com/WordPress/gutenberg/blob/HEAD/packages/data/README.md#createReduxStore\n *\n * @type {Object}\n */\nexport const store = createReduxStore( STORE_NAME, {\n\t...storeConfig,\n} );\n\nregister( store );\nunlock( store ).registerPrivateActions( privateActions );\nunlock( store ).registerPrivateSelectors( privateSelectors );\n","/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/** @typedef {import('@wordpress/components').WPCompleter} WPCompleter */\n\nexport function getUserLabel( user ) {\n\tconst avatar =\n\t\tuser.avatar_urls && user.avatar_urls[ 24 ] ? (\n\t\t\t<img\n\t\t\t\tclassName=\"editor-autocompleters__user-avatar\"\n\t\t\t\talt=\"\"\n\t\t\t\tsrc={ user.avatar_urls[ 24 ] }\n\t\t\t/>\n\t\t) : (\n\t\t\t<span className=\"editor-autocompleters__no-avatar\"></span>\n\t\t);\n\n\treturn (\n\t\t<>\n\t\t\t{ avatar }\n\t\t\t<span className=\"editor-autocompleters__user-name\">\n\t\t\t\t{ user.name }\n\t\t\t</span>\n\t\t\t<span className=\"editor-autocompleters__user-slug\">\n\t\t\t\t{ user.slug }\n\t\t\t</span>\n\t\t</>\n\t);\n}\n\n/**\n * A user mentions completer.\n *\n * @type {WPCompleter}\n */\nexport default {\n\tname: 'users',\n\tclassName: 'editor-autocompleters__user',\n\ttriggerPrefix: '@',\n\n\tuseItems( filterValue ) {\n\t\tconst users = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst { getUsers } = select( coreStore );\n\t\t\t\treturn getUsers( {\n\t\t\t\t\tcontext: 'view',\n\t\t\t\t\tsearch: encodeURIComponent( filterValue ),\n\t\t\t\t} );\n\t\t\t},\n\t\t\t[ filterValue ]\n\t\t);\n\n\t\tconst options = useMemo(\n\t\t\t() =>\n\t\t\t\tusers\n\t\t\t\t\t? users.map( ( user ) => ( {\n\t\t\t\t\t\t\tkey: `user-${ user.slug }`,\n\t\t\t\t\t\t\tvalue: user,\n\t\t\t\t\t\t\tlabel: getUserLabel( user ),\n\t\t\t\t\t  } ) )\n\t\t\t\t\t: [],\n\t\t\t[ users ]\n\t\t);\n\n\t\treturn [ options ];\n\t},\n\n\tgetOptionCompletion( user ) {\n\t\treturn `@${ user.slug }`;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useEntityProp } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\n\n/** @typedef {import('@wordpress/compose').WPHigherOrderComponent} WPHigherOrderComponent */\n/** @typedef {import('@wordpress/blocks').WPBlockSettings} WPBlockSettings */\n\n/**\n * Object whose keys are the names of block attributes, where each value\n * represents the meta key to which the block attribute is intended to save.\n *\n * @see https://developer.wordpress.org/reference/functions/register_meta/\n *\n * @typedef {Object<string,string>} WPMetaAttributeMapping\n */\n\n/**\n * Given a mapping of attribute names (meta source attributes) to their\n * associated meta key, returns a higher order component that overrides its\n * `attributes` and `setAttributes` props to sync any changes with the edited\n * post's meta keys.\n *\n * @param {WPMetaAttributeMapping} metaAttributes Meta attribute mapping.\n *\n * @return {WPHigherOrderComponent} Higher-order component.\n */\nconst createWithMetaAttributeSource = ( metaAttributes ) =>\n\tcreateHigherOrderComponent(\n\t\t( BlockEdit ) =>\n\t\t\t( { attributes, setAttributes, ...props } ) => {\n\t\t\t\tconst postType = useSelect(\n\t\t\t\t\t( select ) => select( editorStore ).getCurrentPostType(),\n\t\t\t\t\t[]\n\t\t\t\t);\n\t\t\t\tconst [ meta, setMeta ] = useEntityProp(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\t'meta'\n\t\t\t\t);\n\n\t\t\t\tconst mergedAttributes = useMemo(\n\t\t\t\t\t() => ( {\n\t\t\t\t\t\t...attributes,\n\t\t\t\t\t\t...Object.fromEntries(\n\t\t\t\t\t\t\tObject.entries( metaAttributes ).map(\n\t\t\t\t\t\t\t\t( [ attributeKey, metaKey ] ) => [\n\t\t\t\t\t\t\t\t\tattributeKey,\n\t\t\t\t\t\t\t\t\tmeta[ metaKey ],\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t} ),\n\t\t\t\t\t[ attributes, meta ]\n\t\t\t\t);\n\n\t\t\t\treturn (\n\t\t\t\t\t<BlockEdit\n\t\t\t\t\t\tattributes={ mergedAttributes }\n\t\t\t\t\t\tsetAttributes={ ( nextAttributes ) => {\n\t\t\t\t\t\t\tconst nextMeta = Object.fromEntries(\n\t\t\t\t\t\t\t\tObject.entries( nextAttributes ?? {} )\n\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t// Filter to intersection of keys between the updated\n\t\t\t\t\t\t\t\t\t\t// attributes and those with an associated meta key.\n\t\t\t\t\t\t\t\t\t\t( [ key ] ) => key in metaAttributes\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.map( ( [ attributeKey, value ] ) => [\n\t\t\t\t\t\t\t\t\t\t// Rename the keys to the expected meta key name.\n\t\t\t\t\t\t\t\t\t\tmetaAttributes[ attributeKey ],\n\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t] )\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif ( Object.entries( nextMeta ).length ) {\n\t\t\t\t\t\t\t\tsetMeta( nextMeta );\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetAttributes( nextAttributes );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t},\n\t\t'withMetaAttributeSource'\n\t);\n\n/**\n * Filters a registered block's settings to enhance a block's `edit` component\n * to upgrade meta-sourced attributes to use the post's meta entity property.\n *\n * @param {WPBlockSettings} settings Registered block settings.\n *\n * @return {WPBlockSettings} Filtered block settings.\n */\nfunction shimAttributeSource( settings ) {\n\t/** @type {WPMetaAttributeMapping} */\n\tconst metaAttributes = Object.fromEntries(\n\t\tObject.entries( settings.attributes ?? {} )\n\t\t\t.filter( ( [ , { source } ] ) => source === 'meta' )\n\t\t\t.map( ( [ attributeKey, { meta } ] ) => [ attributeKey, meta ] )\n\t);\n\tif ( Object.entries( metaAttributes ).length ) {\n\t\tsettings.edit = createWithMetaAttributeSource( metaAttributes )(\n\t\t\tsettings.edit\n\t\t);\n\t}\n\n\treturn settings;\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'core/editor/custom-sources-backwards-compatibility/shim-attribute-source',\n\tshimAttributeSource\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { userAutocompleter } from '../components';\n\nfunction setDefaultCompleters( completers = [] ) {\n\t// Provide copies so filters may directly modify them.\n\tcompleters.push( { ...userAutocompleter } );\n\n\treturn completers;\n}\n\naddFilter(\n\t'editor.Autocomplete.completers',\n\t'editor/autocompleters/set-default-completers',\n\tsetDefaultCompleters\n);\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"patterns\"];","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { privateApis as patternsPrivateApis } from '@wordpress/patterns';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { useBlockEditingMode } from '@wordpress/block-editor';\nimport { hasBlockSupport } from '@wordpress/blocks';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../store';\nimport { unlock } from '../lock-unlock';\n\nconst {\n\tPartialSyncingControls,\n\tPATTERN_TYPES,\n\tPARTIAL_SYNCING_SUPPORTED_BLOCKS,\n} = unlock( patternsPrivateApis );\n\n/**\n * Override the default edit UI to include a new block inspector control for\n * assigning a partial syncing controls to supported blocks in the pattern editor.\n * Currently, only the `core/paragraph` block is supported.\n *\n * @param {Component} BlockEdit Original component.\n *\n * @return {Component} Wrapped component.\n */\nconst withPartialSyncingControls = createHigherOrderComponent(\n\t( BlockEdit ) => ( props ) => {\n\t\tconst blockEditingMode = useBlockEditingMode();\n\t\tconst hasCustomFieldsSupport = hasBlockSupport(\n\t\t\tprops.name,\n\t\t\t'__experimentalConnections',\n\t\t\tfalse\n\t\t);\n\t\tconst isEditingPattern = useSelect(\n\t\t\t( select ) =>\n\t\t\t\tselect( editorStore ).getCurrentPostType() ===\n\t\t\t\tPATTERN_TYPES.user,\n\t\t\t[]\n\t\t);\n\n\t\tconst shouldShowPartialSyncingControls =\n\t\t\thasCustomFieldsSupport &&\n\t\t\tprops.isSelected &&\n\t\t\tisEditingPattern &&\n\t\t\tblockEditingMode === 'default' &&\n\t\t\tObject.keys( PARTIAL_SYNCING_SUPPORTED_BLOCKS ).includes(\n\t\t\t\tprops.name\n\t\t\t);\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEdit { ...props } />\n\t\t\t\t{ shouldShowPartialSyncingControls && (\n\t\t\t\t\t<PartialSyncingControls { ...props } />\n\t\t\t\t) }\n\t\t\t</>\n\t\t);\n\t}\n);\n\nif ( window.__experimentalPatternPartialSyncing ) {\n\taddFilter(\n\t\t'editor.BlockEdit',\n\t\t'core/editor/with-partial-syncing-controls',\n\t\twithPartialSyncingControls\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keyboardShortcuts\"];","/**\n * WordPress dependencies\n */\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function EditorKeyboardShortcuts() {\n\tconst { redo, undo, savePost, setIsListViewOpened } =\n\t\tuseDispatch( editorStore );\n\tconst { isEditedPostDirty, isPostSavingLocked, isListViewOpened } =\n\t\tuseSelect( editorStore );\n\n\tuseShortcut( 'core/editor/undo', ( event ) => {\n\t\tundo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/editor/redo', ( event ) => {\n\t\tredo();\n\t\tevent.preventDefault();\n\t} );\n\n\tuseShortcut( 'core/editor/save', ( event ) => {\n\t\tevent.preventDefault();\n\n\t\t/**\n\t\t * Do not save the post if post saving is locked.\n\t\t */\n\t\tif ( isPostSavingLocked() ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// TODO: This should be handled in the `savePost` effect in\n\t\t// considering `isSaveable`. See note on `isEditedPostSaveable`\n\t\t// selector about dirtiness and meta-boxes.\n\t\t//\n\t\t// See: `isEditedPostSaveable`\n\t\tif ( ! isEditedPostDirty() ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsavePost();\n\t} );\n\n\t// Only opens the list view. Other functionality for this shortcut happens in the rendered sidebar.\n\tuseShortcut( 'core/editor/toggle-list-view', ( event ) => {\n\t\tif ( ! isListViewOpened() ) {\n\t\t\tevent.preventDefault();\n\t\t\tsetIsListViewOpened( true );\n\t\t}\n\t} );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * AutosaveMonitor invokes `props.autosave()` within at most `interval` seconds after an unsaved change is detected.\n *\n * The logic is straightforward: a check is performed every `props.interval` seconds. If any changes are detected, `props.autosave()` is called.\n * The time between the change and the autosave varies but is no larger than `props.interval` seconds. Refer to the code below for more details, such as\n * the specific way of detecting changes.\n *\n * There are two caveats:\n * * If `props.isAutosaveable` happens to be false at a time of checking for changes, the check is retried every second.\n * * The timer may be disabled by setting `props.disableIntervalChecks` to `true`. In that mode, any change will immediately trigger `props.autosave()`.\n */\nexport class AutosaveMonitor extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.needsAutosave = !! ( props.isDirty && props.isAutosaveable );\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( ! this.props.disableIntervalChecks ) {\n\t\t\tthis.setAutosaveTimer();\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.disableIntervalChecks ) {\n\t\t\tif ( this.props.editsReference !== prevProps.editsReference ) {\n\t\t\t\tthis.props.autosave();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.interval !== prevProps.interval ) {\n\t\t\tclearTimeout( this.timerId );\n\t\t\tthis.setAutosaveTimer();\n\t\t}\n\n\t\tif ( ! this.props.isDirty ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.isAutosaving && ! prevProps.isAutosaving ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.props.editsReference !== prevProps.editsReference ) {\n\t\t\tthis.needsAutosave = true;\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.timerId );\n\t}\n\n\tsetAutosaveTimer( timeout = this.props.interval * 1000 ) {\n\t\tthis.timerId = setTimeout( () => {\n\t\t\tthis.autosaveTimerHandler();\n\t\t}, timeout );\n\t}\n\n\tautosaveTimerHandler() {\n\t\tif ( ! this.props.isAutosaveable ) {\n\t\t\tthis.setAutosaveTimer( 1000 );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.needsAutosave ) {\n\t\t\tthis.needsAutosave = false;\n\t\t\tthis.props.autosave();\n\t\t}\n\n\t\tthis.setAutosaveTimer();\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, ownProps ) => {\n\t\tconst { getReferenceByDistinctEdits } = select( coreStore );\n\n\t\tconst {\n\t\t\tisEditedPostDirty,\n\t\t\tisEditedPostAutosaveable,\n\t\t\tisAutosavingPost,\n\t\t\tgetEditorSettings,\n\t\t} = select( editorStore );\n\n\t\tconst { interval = getEditorSettings().autosaveInterval } = ownProps;\n\n\t\treturn {\n\t\t\teditsReference: getReferenceByDistinctEdits(),\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t\tisAutosaveable: isEditedPostAutosaveable(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\tinterval,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tautosave() {\n\t\t\tconst { autosave = dispatch( editorStore ).autosave } = ownProps;\n\t\t\tautosave();\n\t\t},\n\t} ) ),\n] )( AutosaveMonitor );\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst symbol = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z\" />\n\t</SVG>\n);\n\nexport default symbol;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst navigation = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z\" />\n\t</SVG>\n);\n\nexport default navigation;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst page = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.5 7.5h-7V9h7V7.5Zm-7 3.5h7v1.5h-7V11Zm7 3.5h-7V16h7v-1.5Z\" />\n\t\t<Path d=\"M17 4H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2ZM7 5.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5Z\" />\n\t</SVG>\n);\n\nexport default page;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronRightSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z\" />\n\t</SVG>\n);\n\nexport default chevronRightSmall;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst chevronLeftSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z\" />\n\t</SVG>\n);\n\nexport default chevronLeftSmall;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"commands\"];","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __, isRTL, sprintf } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\t__experimentalText as Text,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport {\n\tchevronLeftSmall,\n\tchevronRightSmall,\n\tpage as pageIcon,\n\tnavigation as navigationIcon,\n\tsymbol,\n} from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { useEntityRecord } from '@wordpress/core-data';\nimport { store as commandsStore } from '@wordpress/commands';\nimport { useState, useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nconst typeLabels = {\n\t// translators: 1: Pattern title.\n\twp_pattern: __( 'Editing pattern: %s' ),\n\t// translators: 1: Navigation menu title.\n\twp_navigation: __( 'Editing navigation menu: %s' ),\n\t// translators: 1: Template title.\n\twp_template: __( 'Editing template: %s' ),\n\t// translators: 1: Template part title.\n\twp_template_part: __( 'Editing template part: %s' ),\n};\n\nconst icons = {\n\twp_block: symbol,\n\twp_navigation: navigationIcon,\n};\n\nexport default function DocumentBar() {\n\tconst {\n\t\tisEditingTemplate,\n\t\ttemplateId,\n\t\tpostType,\n\t\tpostId,\n\t\tgoBack,\n\t\tgetEditorSettings,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetRenderingMode,\n\t\t\tgetCurrentTemplateId,\n\t\t\tgetCurrentPostId,\n\t\t\tgetCurrentPostType,\n\t\t\tgetEditorSettings: getSettings,\n\t\t} = select( editorStore );\n\t\tconst _templateId = getCurrentTemplateId();\n\t\tconst back = getSettings().goBack;\n\t\treturn {\n\t\t\tisEditingTemplate:\n\t\t\t\t!! _templateId && getRenderingMode() === 'template-only',\n\t\t\ttemplateId: _templateId,\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tgoBack: typeof back === 'function' ? back : undefined,\n\t\t\tgetEditorSettings: getSettings,\n\t\t};\n\t}, [] );\n\n\tconst { setRenderingMode } = useDispatch( editorStore );\n\n\tconst handleOnBack = () => {\n\t\tif ( isEditingTemplate ) {\n\t\t\tsetRenderingMode( getEditorSettings().defaultRenderingMode );\n\t\t\treturn;\n\t\t}\n\t\tif ( goBack ) {\n\t\t\tgoBack();\n\t\t}\n\t};\n\n\treturn (\n\t\t<BaseDocumentActions\n\t\t\tpostType={ isEditingTemplate ? 'wp_template' : postType }\n\t\t\tpostId={ isEditingTemplate ? templateId : postId }\n\t\t\tonBack={ isEditingTemplate || goBack ? handleOnBack : undefined }\n\t\t/>\n\t);\n}\n\nfunction BaseDocumentActions( { postType, postId, onBack } ) {\n\tconst { open: openCommandCenter } = useDispatch( commandsStore );\n\tconst { editedRecord: doc, isResolving } = useEntityRecord(\n\t\t'postType',\n\t\tpostType,\n\t\tpostId\n\t);\n\tconst { templateIcon, templateTitle } = useSelect( ( select ) => {\n\t\tconst { __experimentalGetTemplateInfo: getTemplateInfo } =\n\t\t\tselect( editorStore );\n\t\tconst templateInfo = getTemplateInfo( doc );\n\t\treturn {\n\t\t\ttemplateIcon: templateInfo.icon,\n\t\t\ttemplateTitle: templateInfo.title,\n\t\t};\n\t} );\n\tconst isNotFound = ! doc && ! isResolving;\n\tconst icon = icons[ postType ] ?? pageIcon;\n\tconst [ isAnimated, setIsAnimated ] = useState( false );\n\tconst isMounting = useRef( true );\n\tconst isTemplate = [ 'wp_template', 'wp_template_part' ].includes(\n\t\tpostType\n\t);\n\tconst isGlobalEntity = [\n\t\t'wp_template',\n\t\t'wp_navigation',\n\t\t'wp_template_part',\n\t\t'wp_block',\n\t].includes( postType );\n\n\tuseEffect( () => {\n\t\tif ( ! isMounting.current ) {\n\t\t\tsetIsAnimated( true );\n\t\t}\n\t\tisMounting.current = false;\n\t}, [ postType, postId ] );\n\n\tconst title = isTemplate ? templateTitle : doc.title;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ classnames( 'editor-document-bar', {\n\t\t\t\t'has-back-button': !! onBack,\n\t\t\t\t'is-animated': isAnimated,\n\t\t\t\t'is-global': isGlobalEntity,\n\t\t\t} ) }\n\t\t>\n\t\t\t{ onBack && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"editor-document-bar__back\"\n\t\t\t\t\ticon={ isRTL() ? chevronRightSmall : chevronLeftSmall }\n\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tonBack();\n\t\t\t\t\t} }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Back' ) }\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t\t{ isNotFound && <Text>{ __( 'Document not found' ) }</Text> }\n\t\t\t{ ! isNotFound && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"editor-document-bar__command\"\n\t\t\t\t\tonClick={ () => openCommandCenter() }\n\t\t\t\t\tsize=\"compact\"\n\t\t\t\t>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tclassName=\"editor-document-bar__title\"\n\t\t\t\t\t\tspacing={ 1 }\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockIcon icon={ isTemplate ? templateIcon : icon } />\n\t\t\t\t\t\t<Text\n\t\t\t\t\t\t\tsize=\"body\"\n\t\t\t\t\t\t\tas=\"h1\"\n\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\ttypeLabels[ postType ]\n\t\t\t\t\t\t\t\t\t? // eslint-disable-next-line @wordpress/valid-sprintf\n\t\t\t\t\t\t\t\t\t  sprintf( typeLabels[ postType ], title )\n\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ title }\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</HStack>\n\t\t\t\t\t<span className=\"editor-document-bar__shortcut\">\n\t\t\t\t\t\t{ displayShortcut.primary( 'k' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</Button>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"richText\"];","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\nconst TableOfContentsItem = ( {\n\tchildren,\n\tisValid,\n\tlevel,\n\thref,\n\tonSelect,\n} ) => (\n\t<li\n\t\tclassName={ classnames(\n\t\t\t'document-outline__item',\n\t\t\t`is-${ level.toLowerCase() }`,\n\t\t\t{\n\t\t\t\t'is-invalid': ! isValid,\n\t\t\t}\n\t\t) }\n\t>\n\t\t<a\n\t\t\thref={ href }\n\t\t\tclassName=\"document-outline__button\"\n\t\t\tonClick={ onSelect }\n\t\t>\n\t\t\t<span\n\t\t\t\tclassName=\"document-outline__emdash\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t></span>\n\t\t\t<strong className=\"document-outline__level\">{ level }</strong>\n\t\t\t<span className=\"document-outline__item-content\">{ children }</span>\n\t\t</a>\n\t</li>\n);\n\nexport default TableOfContentsItem;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, useDispatch } from '@wordpress/data';\nimport { create, getTextContent } from '@wordpress/rich-text';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { Path, SVG, Line, Rect } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport DocumentOutlineItem from './item';\nimport { store as editorStore } from '../../store';\n\n/**\n * Module constants\n */\nconst emptyHeadingContent = <em>{ __( '(Empty heading)' ) }</em>;\nconst incorrectLevelContent = [\n\t<br key=\"incorrect-break\" />,\n\t<em key=\"incorrect-message\">{ __( '(Incorrect heading level)' ) }</em>,\n];\nconst singleH1Headings = [\n\t<br key=\"incorrect-break-h1\" />,\n\t<em key=\"incorrect-message-h1\">\n\t\t{ __( '(Your theme may already use a H1 for the post title)' ) }\n\t</em>,\n];\nconst multipleH1Headings = [\n\t<br key=\"incorrect-break-multiple-h1\" />,\n\t<em key=\"incorrect-message-multiple-h1\">\n\t\t{ __( '(Multiple H1 headings are not recommended)' ) }\n\t</em>,\n];\nfunction EmptyOutlineIllustration() {\n\treturn (\n\t\t<SVG\n\t\t\twidth=\"138\"\n\t\t\theight=\"148\"\n\t\t\tviewBox=\"0 0 138 148\"\n\t\t\tfill=\"none\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<Rect width=\"138\" height=\"148\" rx=\"4\" fill=\"#F0F6FC\" />\n\t\t\t<Line x1=\"44\" y1=\"28\" x2=\"24\" y2=\"28\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"48\" y=\"16\" width=\"27\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M54.7585 32V23.2727H56.6037V26.8736H60.3494V23.2727H62.1903V32H60.3494V28.3949H56.6037V32H54.7585ZM67.4574 23.2727V32H65.6122V25.0241H65.5611L63.5625 26.277V24.6406L65.723 23.2727H67.4574Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"55\" y1=\"59\" x2=\"24\" y2=\"59\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"59\" y=\"47\" width=\"29\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M65.7585 63V54.2727H67.6037V57.8736H71.3494V54.2727H73.1903V63H71.3494V59.3949H67.6037V63H65.7585ZM74.6605 63V61.6705L77.767 58.794C78.0313 58.5384 78.2528 58.3082 78.4318 58.1037C78.6136 57.8991 78.7514 57.6989 78.8452 57.5028C78.9389 57.304 78.9858 57.0895 78.9858 56.8594C78.9858 56.6037 78.9276 56.3835 78.8111 56.1989C78.6946 56.0114 78.5355 55.8679 78.3338 55.7685C78.1321 55.6662 77.9034 55.6151 77.6477 55.6151C77.3807 55.6151 77.1477 55.669 76.9489 55.777C76.75 55.8849 76.5966 56.0398 76.4886 56.2415C76.3807 56.4432 76.3267 56.6832 76.3267 56.9616H74.5753C74.5753 56.3906 74.7045 55.8949 74.9631 55.4744C75.2216 55.054 75.5838 54.7287 76.0497 54.4986C76.5156 54.2685 77.0526 54.1534 77.6605 54.1534C78.2855 54.1534 78.8295 54.2642 79.2926 54.4858C79.7585 54.7045 80.1207 55.0085 80.3793 55.3977C80.6378 55.7869 80.767 56.233 80.767 56.7358C80.767 57.0653 80.7017 57.3906 80.571 57.7116C80.4432 58.0327 80.2145 58.3892 79.8849 58.7812C79.5554 59.1705 79.0909 59.6378 78.4915 60.1832L77.2173 61.4318V61.4915H80.8821V63H74.6605Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"80\" y1=\"90\" x2=\"24\" y2=\"90\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"84\" y=\"78\" width=\"30\" height=\"23\" rx=\"4\" fill=\"#F0B849\" />\n\t\t\t<Path\n\t\t\t\td=\"M90.7585 94V85.2727H92.6037V88.8736H96.3494V85.2727H98.1903V94H96.3494V90.3949H92.6037V94H90.7585ZM99.5284 92.4659V91.0128L103.172 85.2727H104.425V87.2841H103.683L101.386 90.919V90.9872H106.564V92.4659H99.5284ZM103.717 94V92.0227L103.751 91.3793V85.2727H105.482V94H103.717Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t\t<Line x1=\"66\" y1=\"121\" x2=\"24\" y2=\"121\" stroke=\"#DDDDDD\" />\n\t\t\t<Rect x=\"70\" y=\"109\" width=\"29\" height=\"23\" rx=\"4\" fill=\"#DDDDDD\" />\n\t\t\t<Path\n\t\t\t\td=\"M76.7585 125V116.273H78.6037V119.874H82.3494V116.273H84.1903V125H82.3494V121.395H78.6037V125H76.7585ZM88.8864 125.119C88.25 125.119 87.6832 125.01 87.1861 124.791C86.6918 124.57 86.3011 124.266 86.0142 123.879C85.7301 123.49 85.5838 123.041 85.5753 122.533H87.4332C87.4446 122.746 87.5142 122.933 87.642 123.095C87.7727 123.254 87.946 123.378 88.1619 123.466C88.3778 123.554 88.6207 123.598 88.8906 123.598C89.1719 123.598 89.4205 123.548 89.6364 123.449C89.8523 123.349 90.0213 123.212 90.1435 123.036C90.2656 122.859 90.3267 122.656 90.3267 122.426C90.3267 122.193 90.2614 121.987 90.1307 121.808C90.0028 121.626 89.8182 121.484 89.5767 121.382C89.3381 121.28 89.054 121.229 88.7244 121.229H87.9105V119.874H88.7244C89.0028 119.874 89.2486 119.825 89.4616 119.729C89.6776 119.632 89.8452 119.499 89.9645 119.328C90.0838 119.155 90.1435 118.953 90.1435 118.723C90.1435 118.504 90.0909 118.312 89.9858 118.148C89.8835 117.98 89.7386 117.849 89.5511 117.756C89.3665 117.662 89.1506 117.615 88.9034 117.615C88.6534 117.615 88.4247 117.661 88.2173 117.751C88.0099 117.839 87.8438 117.966 87.7188 118.131C87.5938 118.295 87.527 118.489 87.5185 118.71H85.75C85.7585 118.207 85.902 117.764 86.1804 117.381C86.4588 116.997 86.8338 116.697 87.3054 116.482C87.7798 116.263 88.3153 116.153 88.9119 116.153C89.5142 116.153 90.0412 116.263 90.4929 116.482C90.9446 116.7 91.2955 116.996 91.5455 117.368C91.7983 117.737 91.9233 118.152 91.9205 118.612C91.9233 119.101 91.7713 119.509 91.4645 119.835C91.1605 120.162 90.7642 120.369 90.2756 120.457V120.526C90.9176 120.608 91.4063 120.831 91.7415 121.195C92.0795 121.555 92.2472 122.007 92.2443 122.55C92.2472 123.047 92.1037 123.489 91.8139 123.875C91.527 124.261 91.1307 124.565 90.625 124.787C90.1193 125.009 89.5398 125.119 88.8864 125.119Z\"\n\t\t\t\tfill=\"black\"\n\t\t\t/>\n\t\t</SVG>\n\t);\n}\n\n/**\n * Returns an array of heading blocks enhanced with the following properties:\n * level   - An integer with the heading level.\n * isEmpty - Flag indicating if the heading has no content.\n *\n * @param {?Array} blocks An array of blocks.\n *\n * @return {Array} An array of heading blocks enhanced with the properties described above.\n */\nconst computeOutlineHeadings = ( blocks = [] ) => {\n\treturn blocks.flatMap( ( block = {} ) => {\n\t\tif ( block.name === 'core/heading' ) {\n\t\t\treturn {\n\t\t\t\t...block,\n\t\t\t\tlevel: block.attributes.level,\n\t\t\t\tisEmpty: isEmptyHeading( block ),\n\t\t\t};\n\t\t}\n\t\treturn computeOutlineHeadings( block.innerBlocks );\n\t} );\n};\n\nconst isEmptyHeading = ( heading ) =>\n\t! heading.attributes.content || heading.attributes.content.length === 0;\n\nexport const DocumentOutline = ( {\n\tblocks = [],\n\ttitle,\n\tonSelect,\n\tisTitleSupported,\n\thasOutlineItemsDisabled,\n} ) => {\n\tconst headings = computeOutlineHeadings( blocks );\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\tif ( headings.length < 1 ) {\n\t\treturn (\n\t\t\t<div className=\"editor-document-outline has-no-headings\">\n\t\t\t\t<EmptyOutlineIllustration />\n\t\t\t\t<p>\n\t\t\t\t\t{ __(\n\t\t\t\t\t\t'Navigate the structure of your document and address issues like empty or incorrect heading levels.'\n\t\t\t\t\t) }\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tlet prevHeadingLevel = 1;\n\n\t// Not great but it's the simplest way to locate the title right now.\n\tconst titleNode = document.querySelector( '.editor-post-title__input' );\n\tconst hasTitle = isTitleSupported && title && titleNode;\n\tconst countByLevel = headings.reduce(\n\t\t( acc, heading ) => ( {\n\t\t\t...acc,\n\t\t\t[ heading.level ]: ( acc[ heading.level ] || 0 ) + 1,\n\t\t} ),\n\t\t{}\n\t);\n\tconst hasMultipleH1 = countByLevel[ 1 ] > 1;\n\n\treturn (\n\t\t<div className=\"document-outline\">\n\t\t\t<ul>\n\t\t\t\t{ hasTitle && (\n\t\t\t\t\t<DocumentOutlineItem\n\t\t\t\t\t\tlevel={ __( 'Title' ) }\n\t\t\t\t\t\tisValid\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\thref={ `#${ titleNode.id }` }\n\t\t\t\t\t\tisDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</DocumentOutlineItem>\n\t\t\t\t) }\n\t\t\t\t{ headings.map( ( item, index ) => {\n\t\t\t\t\t// Headings remain the same, go up by one, or down by any amount.\n\t\t\t\t\t// Otherwise there are missing levels.\n\t\t\t\t\tconst isIncorrectLevel = item.level > prevHeadingLevel + 1;\n\n\t\t\t\t\tconst isValid =\n\t\t\t\t\t\t! item.isEmpty &&\n\t\t\t\t\t\t! isIncorrectLevel &&\n\t\t\t\t\t\t!! item.level &&\n\t\t\t\t\t\t( item.level !== 1 ||\n\t\t\t\t\t\t\t( ! hasMultipleH1 && ! hasTitle ) );\n\t\t\t\t\tprevHeadingLevel = item.level;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DocumentOutlineItem\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tlevel={ `H${ item.level }` }\n\t\t\t\t\t\t\tisValid={ isValid }\n\t\t\t\t\t\t\tisDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t\t\thref={ `#block-${ item.clientId }` }\n\t\t\t\t\t\t\tonSelect={ () => {\n\t\t\t\t\t\t\t\tselectBlock( item.clientId );\n\t\t\t\t\t\t\t\tonSelect?.();\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ item.isEmpty\n\t\t\t\t\t\t\t\t? emptyHeadingContent\n\t\t\t\t\t\t\t\t: getTextContent(\n\t\t\t\t\t\t\t\t\t\tcreate( {\n\t\t\t\t\t\t\t\t\t\t\thtml: item.attributes.content,\n\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t  ) }\n\t\t\t\t\t\t\t{ isIncorrectLevel && incorrectLevelContent }\n\t\t\t\t\t\t\t{ item.level === 1 &&\n\t\t\t\t\t\t\t\thasMultipleH1 &&\n\t\t\t\t\t\t\t\tmultipleH1Headings }\n\t\t\t\t\t\t\t{ hasTitle &&\n\t\t\t\t\t\t\t\titem.level === 1 &&\n\t\t\t\t\t\t\t\t! hasMultipleH1 &&\n\t\t\t\t\t\t\t\tsingleH1Headings }\n\t\t\t\t\t\t</DocumentOutlineItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { getBlocks } = select( blockEditorStore );\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn {\n\t\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\t\tblocks: getBlocks(),\n\t\t\tisTitleSupported: postType?.supports?.title ?? false,\n\t\t};\n\t} )\n)( DocumentOutline );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nfunction DocumentOutlineCheck( { blocks, children } ) {\n\tconst headings = blocks.filter(\n\t\t( block ) => block.name === 'core/heading'\n\t);\n\n\tif ( headings.length < 1 ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => ( {\n\tblocks: select( blockEditorStore ).getBlocks(),\n} ) )( DocumentOutlineCheck );\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { BlockEditorKeyboardShortcuts } from '@wordpress/block-editor';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { isAppleOS } from '@wordpress/keycodes';\n\nfunction EditorKeyboardShortcutsRegister() {\n\t// Registering the shortcuts.\n\tconst { registerShortcut } = useDispatch( keyboardShortcutsStore );\n\tuseEffect( () => {\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/save',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Save your changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 's',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/undo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Undo your last changes.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primary',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/redo',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Redo your last undo.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'primaryShift',\n\t\t\t\tcharacter: 'z',\n\t\t\t},\n\t\t\t// Disable on Apple OS because it conflicts with the browser's\n\t\t\t// history shortcut. It's a fine alias for both Windows and Linux.\n\t\t\t// Since there's no conflict for Ctrl+Shift+Z on both Windows and\n\t\t\t// Linux, we keep it as the default for consistency.\n\t\t\taliases: isAppleOS()\n\t\t\t\t? []\n\t\t\t\t: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmodifier: 'primary',\n\t\t\t\t\t\t\tcharacter: 'y',\n\t\t\t\t\t\t},\n\t\t\t\t  ],\n\t\t} );\n\n\t\tregisterShortcut( {\n\t\t\tname: 'core/editor/toggle-list-view',\n\t\t\tcategory: 'global',\n\t\t\tdescription: __( 'Open the block list view.' ),\n\t\t\tkeyCombination: {\n\t\t\t\tmodifier: 'access',\n\t\t\t\tcharacter: 'o',\n\t\t\t},\n\t\t} );\n\t}, [ registerShortcut ] );\n\n\treturn <BlockEditorKeyboardShortcuts.Register />;\n}\n\nexport default EditorKeyboardShortcutsRegister;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst redo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z\" />\n\t</SVG>\n);\n\nexport default redo;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst undo = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z\" />\n\t</SVG>\n);\n\nexport default undo;\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut, isAppleOS } from '@wordpress/keycodes';\nimport { redo as redoIcon, undo as undoIcon } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction EditorHistoryRedo( props, ref ) {\n\tconst shortcut = isAppleOS()\n\t\t? displayShortcut.primaryShift( 'z' )\n\t\t: displayShortcut.primary( 'y' );\n\n\tconst hasRedo = useSelect(\n\t\t( select ) => select( editorStore ).hasEditorRedo(),\n\t\t[]\n\t);\n\tconst { redo } = useDispatch( editorStore );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? redoIcon : undoIcon }\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\tlabel={ __( 'Redo' ) }\n\t\t\tshortcut={ shortcut }\n\t\t\t// If there are no redo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasRedo }\n\t\t\tonClick={ hasRedo ? redo : undefined }\n\t\t\tclassName=\"editor-history__redo\"\n\t\t/>\n\t);\n}\n\nexport default forwardRef( EditorHistoryRedo );\n","/**\n * WordPress dependencies\n */\nimport { __, isRTL } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { undo as undoIcon, redo as redoIcon } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction EditorHistoryUndo( props, ref ) {\n\tconst hasUndo = useSelect(\n\t\t( select ) => select( editorStore ).hasEditorUndo(),\n\t\t[]\n\t);\n\tconst { undo } = useDispatch( editorStore );\n\treturn (\n\t\t<Button\n\t\t\t{ ...props }\n\t\t\tref={ ref }\n\t\t\ticon={ ! isRTL() ? undoIcon : redoIcon }\n\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t\tclassName=\"editor-history__undo\"\n\t\t/>\n\t);\n}\n\nexport default forwardRef( EditorHistoryUndo );\n","/**\n * WordPress dependencies\n */\nimport { Notice } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\nfunction TemplateValidationNotice( { isValid, ...props } ) {\n\tif ( isValid ) {\n\t\treturn null;\n\t}\n\n\tconst confirmSynchronization = () => {\n\t\tif (\n\t\t\t// eslint-disable-next-line no-alert\n\t\t\twindow.confirm(\n\t\t\t\t__(\n\t\t\t\t\t'Resetting the template may result in loss of content, do you want to continue?'\n\t\t\t\t)\n\t\t\t)\n\t\t) {\n\t\t\tprops.synchronizeTemplate();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Notice\n\t\t\tclassName=\"editor-template-validation-notice\"\n\t\t\tisDismissible={ false }\n\t\t\tstatus=\"warning\"\n\t\t\tactions={ [\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Keep it as is' ),\n\t\t\t\t\tonClick: props.resetTemplateValidity,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Reset the template' ),\n\t\t\t\t\tonClick: confirmSynchronization,\n\t\t\t\t},\n\t\t\t] }\n\t\t>\n\t\t\t{ __(\n\t\t\t\t'The content of your post doesnt match the template assigned to your post type.'\n\t\t\t) }\n\t\t</Notice>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tisValid: select( blockEditorStore ).isValidTemplate(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { setTemplateValidity, synchronizeTemplate } =\n\t\t\tdispatch( blockEditorStore );\n\t\treturn {\n\t\t\tresetTemplateValidity: () => setTemplateValidity( true ),\n\t\t\tsynchronizeTemplate,\n\t\t};\n\t} ),\n] )( TemplateValidationNotice );\n","/**\n * WordPress dependencies\n */\nimport { NoticeList } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport TemplateValidationNotice from '../template-validation-notice';\n\nexport function EditorNotices( { notices, onRemove } ) {\n\tconst dismissibleNotices = notices.filter(\n\t\t( { isDismissible, type } ) => isDismissible && type === 'default'\n\t);\n\tconst nonDismissibleNotices = notices.filter(\n\t\t( { isDismissible, type } ) => ! isDismissible && type === 'default'\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ nonDismissibleNotices }\n\t\t\t\tclassName=\"components-editor-notices__pinned\"\n\t\t\t/>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ dismissibleNotices }\n\t\t\t\tclassName=\"components-editor-notices__dismissible\"\n\t\t\t\tonRemove={ onRemove }\n\t\t\t>\n\t\t\t\t<TemplateValidationNotice />\n\t\t\t</NoticeList>\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tnotices: select( noticesStore ).getNotices(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonRemove: dispatch( noticesStore ).removeNotice,\n\t} ) ),\n] )( EditorNotices );\n","/**\n * WordPress dependencies\n */\nimport { SnackbarList } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\n\nexport default function EditorSnackbars() {\n\tconst notices = useSelect(\n\t\t( select ) => select( noticesStore ).getNotices(),\n\t\t[]\n\t);\n\tconst { removeNotice } = useDispatch( noticesStore );\n\tconst snackbarNotices = notices.filter(\n\t\t( { type } ) => type === 'snackbar'\n\t);\n\n\treturn (\n\t\t<SnackbarList\n\t\t\tnotices={ snackbarNotices }\n\t\t\tclassName=\"components-editor-notices__snackbar\"\n\t\t\tonRemove={ removeNotice }\n\t\t/>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"htmlEntities\"];","/**\n * WordPress dependencies\n */\nimport { CheckboxControl, PanelRow } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function EntityRecordItem( { record, checked, onChange } ) {\n\tconst { name, kind, title, key } = record;\n\n\t// Handle templates that might use default descriptive titles.\n\tconst entityRecordTitle = useSelect(\n\t\t( select ) => {\n\t\t\tif ( 'postType' !== kind || 'wp_template' !== name ) {\n\t\t\t\treturn title;\n\t\t\t}\n\n\t\t\tconst template = select( coreStore ).getEditedEntityRecord(\n\t\t\t\tkind,\n\t\t\t\tname,\n\t\t\t\tkey\n\t\t\t);\n\t\t\treturn select( editorStore ).__experimentalGetTemplateInfo(\n\t\t\t\ttemplate\n\t\t\t).title;\n\t\t},\n\t\t[ name, kind, title, key ]\n\t);\n\n\treturn (\n\t\t<PanelRow>\n\t\t\t<CheckboxControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={\n\t\t\t\t\t<strong>\n\t\t\t\t\t\t{ decodeEntities( entityRecordTitle ) ||\n\t\t\t\t\t\t\t__( 'Untitled' ) }\n\t\t\t\t\t</strong>\n\t\t\t\t}\n\t\t\t\tchecked={ checked }\n\t\t\t\tonChange={ onChange }\n\t\t\t/>\n\t\t</PanelRow>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody, PanelRow } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport EntityRecordItem from './entity-record-item';\n\nfunction getEntityDescription( entity, count ) {\n\tswitch ( entity ) {\n\t\tcase 'site':\n\t\t\treturn 1 === count\n\t\t\t\t? __( 'This change will affect your whole site.' )\n\t\t\t\t: __( 'These changes will affect your whole site.' );\n\t\tcase 'wp_template':\n\t\t\treturn __(\n\t\t\t\t'This change will affect pages and posts that use this template.'\n\t\t\t);\n\t\tcase 'page':\n\t\tcase 'post':\n\t\t\treturn __( 'The following content has been modified.' );\n\t}\n}\n\nexport default function EntityTypeList( {\n\tlist,\n\tunselectedEntities,\n\tsetUnselectedEntities,\n} ) {\n\tconst count = list.length;\n\tconst firstRecord = list[ 0 ];\n\tconst entityConfig = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityConfig(\n\t\t\t\tfirstRecord.kind,\n\t\t\t\tfirstRecord.name\n\t\t\t),\n\t\t[ firstRecord.kind, firstRecord.name ]\n\t);\n\tconst { name } = firstRecord;\n\n\tlet entityLabel = entityConfig.label;\n\tif ( name === 'wp_template_part' ) {\n\t\tentityLabel =\n\t\t\t1 === count ? __( 'Template Part' ) : __( 'Template Parts' );\n\t}\n\t// Set description based on type of entity.\n\tconst description = getEntityDescription( name, count );\n\n\treturn (\n\t\t<PanelBody title={ entityLabel } initialOpen={ true }>\n\t\t\t{ description && <PanelRow>{ description }</PanelRow> }\n\t\t\t{ list.map( ( record ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<EntityRecordItem\n\t\t\t\t\t\tkey={ record.key || record.property }\n\t\t\t\t\t\trecord={ record }\n\t\t\t\t\t\tchecked={\n\t\t\t\t\t\t\t! unselectedEntities.some(\n\t\t\t\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\t\t\t\telt.kind === record.kind &&\n\t\t\t\t\t\t\t\t\telt.name === record.name &&\n\t\t\t\t\t\t\t\t\telt.key === record.key &&\n\t\t\t\t\t\t\t\t\telt.property === record.property\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetUnselectedEntities( record, value )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</PanelBody>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMemo, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\nconst TRANSLATED_SITE_PROPERTIES = {\n\ttitle: __( 'Title' ),\n\tdescription: __( 'Tagline' ),\n\tsite_logo: __( 'Logo' ),\n\tsite_icon: __( 'Icon' ),\n\tshow_on_front: __( 'Show on front' ),\n\tpage_on_front: __( 'Page on front' ),\n\tposts_per_page: __( 'Maximum posts per page' ),\n\tdefault_comment_status: __( 'Allow comments on new posts' ),\n};\n\nexport const useIsDirty = () => {\n\tconst { editedEntities, siteEdits } = useSelect( ( select ) => {\n\t\tconst { __experimentalGetDirtyEntityRecords, getEntityRecordEdits } =\n\t\t\tselect( coreStore );\n\n\t\treturn {\n\t\t\teditedEntities: __experimentalGetDirtyEntityRecords(),\n\t\t\tsiteEdits: getEntityRecordEdits( 'root', 'site' ),\n\t\t};\n\t}, [] );\n\n\tconst dirtyEntityRecords = useMemo( () => {\n\t\t// Remove site object and decouple into its edited pieces.\n\t\tconst editedEntitiesWithoutSite = editedEntities.filter(\n\t\t\t( record ) => ! ( record.kind === 'root' && record.name === 'site' )\n\t\t);\n\n\t\tconst editedSiteEntities = [];\n\t\tfor ( const property in siteEdits ) {\n\t\t\teditedSiteEntities.push( {\n\t\t\t\tkind: 'root',\n\t\t\t\tname: 'site',\n\t\t\t\ttitle: TRANSLATED_SITE_PROPERTIES[ property ] || property,\n\t\t\t\tproperty,\n\t\t\t} );\n\t\t}\n\n\t\treturn [ ...editedEntitiesWithoutSite, ...editedSiteEntities ];\n\t}, [ editedEntities, siteEdits ] );\n\n\t// Unchecked entities to be ignored by save function.\n\tconst [ unselectedEntities, _setUnselectedEntities ] = useState( [] );\n\n\tconst setUnselectedEntities = (\n\t\t{ kind, name, key, property },\n\t\tchecked\n\t) => {\n\t\tif ( checked ) {\n\t\t\t_setUnselectedEntities(\n\t\t\t\tunselectedEntities.filter(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind !== kind ||\n\t\t\t\t\t\telt.name !== name ||\n\t\t\t\t\t\telt.key !== key ||\n\t\t\t\t\t\telt.property !== property\n\t\t\t\t)\n\t\t\t);\n\t\t} else {\n\t\t\t_setUnselectedEntities( [\n\t\t\t\t...unselectedEntities,\n\t\t\t\t{ kind, name, key, property },\n\t\t\t] );\n\t\t}\n\t};\n\n\tconst isDirty = dirtyEntityRecords.length - unselectedEntities.length > 0;\n\n\treturn {\n\t\tdirtyEntityRecords,\n\t\tisDirty,\n\t\tsetUnselectedEntities,\n\t\tunselectedEntities,\n\t};\n};\n","/**\n * WordPress dependencies\n */\nimport { Button, Flex, FlexItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useCallback, useRef } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { __experimentalUseDialog as useDialog } from '@wordpress/compose';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport EntityTypeList from './entity-type-list';\nimport { useIsDirty } from './hooks/use-is-dirty';\n\nconst PUBLISH_ON_SAVE_ENTITIES = [\n\t{\n\t\tkind: 'postType',\n\t\tname: 'wp_navigation',\n\t},\n];\n\nfunction identity( values ) {\n\treturn values;\n}\n\nexport default function EntitiesSavedStates( { close } ) {\n\tconst isDirtyProps = useIsDirty();\n\treturn (\n\t\t<EntitiesSavedStatesExtensible close={ close } { ...isDirtyProps } />\n\t);\n}\n\nexport function EntitiesSavedStatesExtensible( {\n\tadditionalPrompt = undefined,\n\tclose,\n\tonSave = identity,\n\tsaveEnabled: saveEnabledProp = undefined,\n\tsaveLabel = __( 'Save' ),\n\n\tdirtyEntityRecords,\n\tisDirty,\n\tsetUnselectedEntities,\n\tunselectedEntities,\n} ) {\n\tconst saveButtonRef = useRef();\n\tconst {\n\t\teditEntityRecord,\n\t\tsaveEditedEntityRecord,\n\t\t__experimentalSaveSpecifiedEntityEdits: saveSpecifiedEntityEdits,\n\t} = useDispatch( coreStore );\n\n\tconst { __unstableMarkLastChangeAsPersistent } =\n\t\tuseDispatch( blockEditorStore );\n\n\tconst { createSuccessNotice, createErrorNotice, removeNotice } =\n\t\tuseDispatch( noticesStore );\n\n\t// To group entities by type.\n\tconst partitionedSavables = dirtyEntityRecords.reduce( ( acc, record ) => {\n\t\tconst { name } = record;\n\t\tif ( ! acc[ name ] ) {\n\t\t\tacc[ name ] = [];\n\t\t}\n\t\tacc[ name ].push( record );\n\t\treturn acc;\n\t}, {} );\n\n\t// Sort entity groups.\n\tconst {\n\t\tsite: siteSavables,\n\t\twp_template: templateSavables,\n\t\twp_template_part: templatePartSavables,\n\t\t...contentSavables\n\t} = partitionedSavables;\n\tconst sortedPartitionedSavables = [\n\t\tsiteSavables,\n\t\ttemplateSavables,\n\t\ttemplatePartSavables,\n\t\t...Object.values( contentSavables ),\n\t].filter( Array.isArray );\n\n\tconst saveEnabled = saveEnabledProp ?? isDirty;\n\n\tconst { homeUrl } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetUnstableBase, // Site index.\n\t\t} = select( coreStore );\n\t\treturn {\n\t\t\thomeUrl: getUnstableBase()?.home,\n\t\t};\n\t}, [] );\n\n\tconst saveCheckedEntities = () => {\n\t\tconst saveNoticeId = 'site-editor-save-success';\n\t\tremoveNotice( saveNoticeId );\n\t\tconst entitiesToSave = dirtyEntityRecords.filter(\n\t\t\t( { kind, name, key, property } ) => {\n\t\t\t\treturn ! unselectedEntities.some(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind === kind &&\n\t\t\t\t\t\telt.name === name &&\n\t\t\t\t\t\telt.key === key &&\n\t\t\t\t\t\telt.property === property\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\n\t\tclose( entitiesToSave );\n\n\t\tconst siteItemsToSave = [];\n\t\tconst pendingSavedRecords = [];\n\t\tentitiesToSave.forEach( ( { kind, name, key, property } ) => {\n\t\t\tif ( 'root' === kind && 'site' === name ) {\n\t\t\t\tsiteItemsToSave.push( property );\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tPUBLISH_ON_SAVE_ENTITIES.some(\n\t\t\t\t\t\t( typeToPublish ) =>\n\t\t\t\t\t\t\ttypeToPublish.kind === kind &&\n\t\t\t\t\t\t\ttypeToPublish.name === name\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\teditEntityRecord( kind, name, key, { status: 'publish' } );\n\t\t\t\t}\n\n\t\t\t\tpendingSavedRecords.push(\n\t\t\t\t\tsaveEditedEntityRecord( kind, name, key )\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\t\tif ( siteItemsToSave.length ) {\n\t\t\tpendingSavedRecords.push(\n\t\t\t\tsaveSpecifiedEntityEdits(\n\t\t\t\t\t'root',\n\t\t\t\t\t'site',\n\t\t\t\t\tundefined,\n\t\t\t\t\tsiteItemsToSave\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t__unstableMarkLastChangeAsPersistent();\n\n\t\tPromise.all( pendingSavedRecords )\n\t\t\t.then( ( values ) => {\n\t\t\t\treturn onSave( values );\n\t\t\t} )\n\t\t\t.then( ( values ) => {\n\t\t\t\tif (\n\t\t\t\t\tvalues.some( ( value ) => typeof value === 'undefined' )\n\t\t\t\t) {\n\t\t\t\t\tcreateErrorNotice( __( 'Saving failed.' ) );\n\t\t\t\t} else {\n\t\t\t\t\tcreateSuccessNotice( __( 'Site updated.' ), {\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\tid: saveNoticeId,\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'View site' ),\n\t\t\t\t\t\t\t\turl: homeUrl,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( ( error ) =>\n\t\t\t\tcreateErrorNotice( `${ __( 'Saving failed.' ) } ${ error }` )\n\t\t\t);\n\t};\n\n\t// Explicitly define this with no argument passed.  Using `close` on\n\t// its own will use the event object in place of the expected saved entities.\n\tconst dismissPanel = useCallback( () => close(), [ close ] );\n\n\tconst [ saveDialogRef, saveDialogProps ] = useDialog( {\n\t\tonClose: () => dismissPanel(),\n\t} );\n\n\treturn (\n\t\t<div\n\t\t\tref={ saveDialogRef }\n\t\t\t{ ...saveDialogProps }\n\t\t\tclassName=\"entities-saved-states__panel\"\n\t\t>\n\t\t\t<Flex className=\"entities-saved-states__panel-header\" gap={ 2 }>\n\t\t\t\t<FlexItem\n\t\t\t\t\tisBlock\n\t\t\t\t\tas={ Button }\n\t\t\t\t\tref={ saveButtonRef }\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tdisabled={ ! saveEnabled }\n\t\t\t\t\tonClick={ saveCheckedEntities }\n\t\t\t\t\tclassName=\"editor-entities-saved-states__save-button\"\n\t\t\t\t>\n\t\t\t\t\t{ saveLabel }\n\t\t\t\t</FlexItem>\n\t\t\t\t<FlexItem\n\t\t\t\t\tisBlock\n\t\t\t\t\tas={ Button }\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={ dismissPanel }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t</FlexItem>\n\t\t\t</Flex>\n\n\t\t\t<div className=\"entities-saved-states__text-prompt\">\n\t\t\t\t<strong className=\"entities-saved-states__text-prompt--header\">\n\t\t\t\t\t{ __( 'Are you ready to save?' ) }\n\t\t\t\t</strong>\n\t\t\t\t{ additionalPrompt }\n\t\t\t\t{ isDirty && (\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'The following changes have been made to your site, templates, and content.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\n\t\t\t{ sortedPartitionedSavables.map( ( list ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<EntityTypeList\n\t\t\t\t\t\tkey={ list[ 0 ].name }\n\t\t\t\t\t\tlist={ list }\n\t\t\t\t\t\tunselectedEntities={ unselectedEntities }\n\t\t\t\t\t\tsetUnselectedEntities={ setUnselectedEntities }\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { select } from '@wordpress/data';\nimport { Warning } from '@wordpress/block-editor';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { doAction } from '@wordpress/hooks';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction getContent() {\n\ttry {\n\t\t// While `select` in a component is generally discouraged, it is\n\t\t// used here because it (a) reduces the chance of data loss in the\n\t\t// case of additional errors by performing a direct retrieval and\n\t\t// (b) avoids the performance cost associated with unnecessary\n\t\t// content serialization throughout the lifetime of a non-erroring\n\t\t// application.\n\t\treturn select( editorStore ).getEditedPostContent();\n\t} catch ( error ) {}\n}\n\nfunction CopyButton( { text, children } ) {\n\tconst ref = useCopyToClipboard( text );\n\treturn (\n\t\t<Button variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nclass ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tdoAction( 'editor.ErrorBoundary.errorLogged', error );\n\t}\n\n\tstatic getDerivedStateFromError( error ) {\n\t\treturn { error };\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\tconst actions = [\n\t\t\t<CopyButton key=\"copy-post\" text={ getContent }>\n\t\t\t\t{ __( 'Copy Post Text' ) }\n\t\t\t</CopyButton>,\n\t\t\t<CopyButton key=\"copy-error\" text={ error.stack }>\n\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t</CopyButton>,\n\t\t];\n\n\t\treturn (\n\t\t\t<Warning className=\"editor-error-boundary\" actions={ actions }>\n\t\t\t\t{ __( 'The editor has encountered an unexpected error.' ) }\n\t\t\t</Warning>\n\t\t);\n\t}\n}\n\nexport default ErrorBoundary;\n","/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef } from '@wordpress/element';\nimport { ifCondition, usePrevious } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { parse } from '@wordpress/blocks';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport AutosaveMonitor from '../autosave-monitor';\nimport {\n\tlocalAutosaveGet,\n\tlocalAutosaveClear,\n} from '../../store/local-autosave';\nimport { store as editorStore } from '../../store';\n\nconst requestIdleCallback = window.requestIdleCallback\n\t? window.requestIdleCallback\n\t: window.requestAnimationFrame;\n\nlet hasStorageSupport;\n\n/**\n * Function which returns true if the current environment supports browser\n * sessionStorage, or false otherwise. The result of this function is cached and\n * reused in subsequent invocations.\n */\nconst hasSessionStorageSupport = () => {\n\tif ( hasStorageSupport !== undefined ) {\n\t\treturn hasStorageSupport;\n\t}\n\n\ttry {\n\t\t// Private Browsing in Safari 10 and earlier will throw an error when\n\t\t// attempting to set into sessionStorage. The test here is intentional in\n\t\t// causing a thrown error as condition bailing from local autosave.\n\t\twindow.sessionStorage.setItem( '__wpEditorTestSessionStorage', '' );\n\t\twindow.sessionStorage.removeItem( '__wpEditorTestSessionStorage' );\n\t\thasStorageSupport = true;\n\t} catch {\n\t\thasStorageSupport = false;\n\t}\n\n\treturn hasStorageSupport;\n};\n\n/**\n * Custom hook which manages the creation of a notice prompting the user to\n * restore a local autosave, if one exists.\n */\nfunction useAutosaveNotice() {\n\tconst { postId, isEditedPostNew, hasRemoteAutosave } = useSelect(\n\t\t( select ) => ( {\n\t\t\tpostId: select( editorStore ).getCurrentPostId(),\n\t\t\tisEditedPostNew: select( editorStore ).isEditedPostNew(),\n\t\t\thasRemoteAutosave:\n\t\t\t\t!! select( editorStore ).getEditorSettings().autosave,\n\t\t} ),\n\t\t[]\n\t);\n\tconst { getEditedPostAttribute } = useSelect( editorStore );\n\n\tconst { createWarningNotice, removeNotice } = useDispatch( noticesStore );\n\tconst { editPost, resetEditorBlocks } = useDispatch( editorStore );\n\n\tuseEffect( () => {\n\t\tlet localAutosave = localAutosaveGet( postId, isEditedPostNew );\n\t\tif ( ! localAutosave ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tlocalAutosave = JSON.parse( localAutosave );\n\t\t} catch {\n\t\t\t// Not usable if it can't be parsed.\n\t\t\treturn;\n\t\t}\n\n\t\tconst { post_title: title, content, excerpt } = localAutosave;\n\t\tconst edits = { title, content, excerpt };\n\n\t\t{\n\t\t\t// Only display a notice if there is a difference between what has been\n\t\t\t// saved and that which is stored in sessionStorage.\n\t\t\tconst hasDifference = Object.keys( edits ).some( ( key ) => {\n\t\t\t\treturn edits[ key ] !== getEditedPostAttribute( key );\n\t\t\t} );\n\n\t\t\tif ( ! hasDifference ) {\n\t\t\t\t// If there is no difference, it can be safely ejected from storage.\n\t\t\t\tlocalAutosaveClear( postId, isEditedPostNew );\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif ( hasRemoteAutosave ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst id = 'wpEditorAutosaveRestore';\n\n\t\tcreateWarningNotice(\n\t\t\t__(\n\t\t\t\t'The backup of this post in your browser is different from the version below.'\n\t\t\t),\n\t\t\t{\n\t\t\t\tid,\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __( 'Restore the backup' ),\n\t\t\t\t\t\tonClick() {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tcontent: editsContent,\n\t\t\t\t\t\t\t\t...editsWithoutContent\n\t\t\t\t\t\t\t} = edits;\n\t\t\t\t\t\t\teditPost( editsWithoutContent );\n\t\t\t\t\t\t\tresetEditorBlocks( parse( edits.content ) );\n\t\t\t\t\t\t\tremoveNotice( id );\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t}\n\t\t);\n\t}, [ isEditedPostNew, postId ] );\n}\n\n/**\n * Custom hook which ejects a local autosave after a successful save occurs.\n */\nfunction useAutosavePurge() {\n\tconst { postId, isEditedPostNew, isDirty, isAutosaving, didError } =\n\t\tuseSelect(\n\t\t\t( select ) => ( {\n\t\t\t\tpostId: select( editorStore ).getCurrentPostId(),\n\t\t\t\tisEditedPostNew: select( editorStore ).isEditedPostNew(),\n\t\t\t\tisDirty: select( editorStore ).isEditedPostDirty(),\n\t\t\t\tisAutosaving: select( editorStore ).isAutosavingPost(),\n\t\t\t\tdidError: select( editorStore ).didPostSaveRequestFail(),\n\t\t\t} ),\n\t\t\t[]\n\t\t);\n\n\tconst lastIsDirty = useRef( isDirty );\n\tconst lastIsAutosaving = useRef( isAutosaving );\n\n\tuseEffect( () => {\n\t\tif (\n\t\t\t! didError &&\n\t\t\t( ( lastIsAutosaving.current && ! isAutosaving ) ||\n\t\t\t\t( lastIsDirty.current && ! isDirty ) )\n\t\t) {\n\t\t\tlocalAutosaveClear( postId, isEditedPostNew );\n\t\t}\n\n\t\tlastIsDirty.current = isDirty;\n\t\tlastIsAutosaving.current = isAutosaving;\n\t}, [ isDirty, isAutosaving, didError ] );\n\n\t// Once the isEditedPostNew changes from true to false, let's clear the auto-draft autosave.\n\tconst wasEditedPostNew = usePrevious( isEditedPostNew );\n\tconst prevPostId = usePrevious( postId );\n\tuseEffect( () => {\n\t\tif ( prevPostId === postId && wasEditedPostNew && ! isEditedPostNew ) {\n\t\t\tlocalAutosaveClear( postId, true );\n\t\t}\n\t}, [ isEditedPostNew, postId ] );\n}\n\nfunction LocalAutosaveMonitor() {\n\tconst { autosave } = useDispatch( editorStore );\n\tconst deferredAutosave = useCallback( () => {\n\t\trequestIdleCallback( () => autosave( { local: true } ) );\n\t}, [] );\n\tuseAutosaveNotice();\n\tuseAutosavePurge();\n\n\tconst localAutosaveInterval = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditorSettings().localAutosaveInterval,\n\t\t[]\n\t);\n\n\treturn (\n\t\t<AutosaveMonitor\n\t\t\tinterval={ localAutosaveInterval }\n\t\t\tautosave={ deferredAutosave }\n\t\t/>\n\t);\n}\n\nexport default ifCondition( hasSessionStorageSupport )( LocalAutosaveMonitor );\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function PageAttributesCheck( { children } ) {\n\tconst supportsPageAttributes = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn !! postType?.supports?.[ 'page-attributes' ];\n\t}, [] );\n\n\t// Only render fields if post type supports page attributes or available templates exist.\n\tif ( ! supportsPageAttributes ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PageAttributesCheck;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * A component which renders its own children only if the current editor post\n * type supports one of the given `supportKeys` prop.\n *\n * @param {Object}            props             Props.\n * @param {Element}           props.children    Children to be rendered if post\n *                                              type supports.\n * @param {(string|string[])} props.supportKeys String or string array of keys\n *                                              to test.\n *\n * @return {Component} The component to be rendered.\n */\nfunction PostTypeSupportCheck( { children, supportKeys } ) {\n\tconst postType = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\treturn getPostType( getEditedPostAttribute( 'type' ) );\n\t}, [] );\n\tlet isSupported = true;\n\tif ( postType ) {\n\t\tisSupported = (\n\t\t\tArray.isArray( supportKeys ) ? supportKeys : [ supportKeys ]\n\t\t).some( ( key ) => !! postType.supports[ key ] );\n\t}\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PostTypeSupportCheck;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tFlex,\n\tFlexBlock,\n\t__experimentalNumberControl as NumberControl,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\nfunction PageAttributesOrder() {\n\tconst order = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'menu_order' ) ?? 0,\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ orderInput, setOrderInput ] = useState( null );\n\n\tconst setUpdatedOrder = ( value ) => {\n\t\tsetOrderInput( value );\n\t\tconst newOrder = Number( value );\n\t\tif ( Number.isInteger( newOrder ) && value.trim?.() !== '' ) {\n\t\t\teditPost( { menu_order: newOrder } );\n\t\t}\n\t};\n\n\tconst value = orderInput ?? order;\n\n\treturn (\n\t\t<Flex>\n\t\t\t<FlexBlock>\n\t\t\t\t<NumberControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\tlabel={ __( 'Order' ) }\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ setUpdatedOrder }\n\t\t\t\t\tlabelPosition=\"side\"\n\t\t\t\t\tonBlur={ () => {\n\t\t\t\t\t\tsetOrderInput( null );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</FlexBlock>\n\t\t</Flex>\n\t);\n}\n\nexport default function PageAttributesOrderWithChecks() {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"page-attributes\">\n\t\t\t<PageAttributesOrder />\n\t\t</PostTypeSupportCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Returns terms in a tree form.\n *\n * @param {Array} flatTerms Array of terms in flat format.\n *\n * @return {Array} Array of terms in tree format.\n */\nexport function buildTermsTree( flatTerms ) {\n\tconst flatTermsWithParentAndChildren = flatTerms.map( ( term ) => {\n\t\treturn {\n\t\t\tchildren: [],\n\t\t\tparent: null,\n\t\t\t...term,\n\t\t};\n\t} );\n\n\t// All terms should have a `parent` because we're about to index them by it.\n\tif (\n\t\tflatTermsWithParentAndChildren.some( ( { parent } ) => parent === null )\n\t) {\n\t\treturn flatTermsWithParentAndChildren;\n\t}\n\n\tconst termsByParent = flatTermsWithParentAndChildren.reduce(\n\t\t( acc, term ) => {\n\t\t\tconst { parent } = term;\n\t\t\tif ( ! acc[ parent ] ) {\n\t\t\t\tacc[ parent ] = [];\n\t\t\t}\n\t\t\tacc[ parent ].push( term );\n\t\t\treturn acc;\n\t\t},\n\t\t{}\n\t);\n\n\tconst fillWithChildren = ( terms ) => {\n\t\treturn terms.map( ( term ) => {\n\t\t\tconst children = termsByParent[ term.id ];\n\t\t\treturn {\n\t\t\t\t...term,\n\t\t\t\tchildren:\n\t\t\t\t\tchildren && children.length\n\t\t\t\t\t\t? fillWithChildren( children )\n\t\t\t\t\t\t: [],\n\t\t\t};\n\t\t} );\n\t};\n\n\treturn fillWithChildren( termsByParent[ '0' ] || [] );\n}\n\nexport const unescapeString = ( arg ) => {\n\treturn decodeEntities( arg );\n};\n\n/**\n * Returns a term object with name unescaped.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nexport const unescapeTerm = ( term ) => {\n\treturn {\n\t\t...term,\n\t\tname: unescapeString( term.name ),\n\t};\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nexport const unescapeTerms = ( terms ) => {\n\treturn ( terms ?? [] ).map( unescapeTerm );\n};\n","/**\n * External dependencies\n */\nimport removeAccents from 'remove-accents';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ComboboxControl } from '@wordpress/components';\nimport { debounce } from '@wordpress/compose';\nimport { useState, useMemo } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { buildTermsTree } from '../../utils/terms';\nimport { store as editorStore } from '../../store';\n\nfunction getTitle( post ) {\n\treturn post?.title?.rendered\n\t\t? decodeEntities( post.title.rendered )\n\t\t: `#${ post.id } (${ __( 'no title' ) })`;\n}\n\nexport const getItemPriority = ( name, searchValue ) => {\n\tconst normalizedName = removeAccents( name || '' ).toLowerCase();\n\tconst normalizedSearch = removeAccents( searchValue || '' ).toLowerCase();\n\tif ( normalizedName === normalizedSearch ) {\n\t\treturn 0;\n\t}\n\n\tif ( normalizedName.startsWith( normalizedSearch ) ) {\n\t\treturn normalizedName.length;\n\t}\n\n\treturn Infinity;\n};\n\nexport function PageAttributesParent() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ fieldValue, setFieldValue ] = useState( false );\n\tconst { isHierarchical, parentPostId, parentPostTitle, pageItems } =\n\t\tuseSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst { getPostType, getEntityRecords, getEntityRecord } =\n\t\t\t\t\tselect( coreStore );\n\t\t\t\tconst { getCurrentPostId, getEditedPostAttribute } =\n\t\t\t\t\tselect( editorStore );\n\t\t\t\tconst postTypeSlug = getEditedPostAttribute( 'type' );\n\t\t\t\tconst pageId = getEditedPostAttribute( 'parent' );\n\t\t\t\tconst pType = getPostType( postTypeSlug );\n\t\t\t\tconst postId = getCurrentPostId();\n\t\t\t\tconst postIsHierarchical = pType?.hierarchical ?? false;\n\t\t\t\tconst query = {\n\t\t\t\t\tper_page: 100,\n\t\t\t\t\texclude: postId,\n\t\t\t\t\tparent_exclude: postId,\n\t\t\t\t\torderby: 'menu_order',\n\t\t\t\t\torder: 'asc',\n\t\t\t\t\t_fields: 'id,title,parent',\n\t\t\t\t};\n\n\t\t\t\t// Perform a search when the field is changed.\n\t\t\t\tif ( !! fieldValue ) {\n\t\t\t\t\tquery.search = fieldValue;\n\t\t\t\t}\n\n\t\t\t\tconst parentPost = pageId\n\t\t\t\t\t? getEntityRecord( 'postType', postTypeSlug, pageId )\n\t\t\t\t\t: null;\n\n\t\t\t\treturn {\n\t\t\t\t\tisHierarchical: postIsHierarchical,\n\t\t\t\t\tparentPostId: pageId,\n\t\t\t\t\tparentPostTitle: parentPost ? getTitle( parentPost ) : '',\n\t\t\t\t\tpageItems: postIsHierarchical\n\t\t\t\t\t\t? getEntityRecords( 'postType', postTypeSlug, query )\n\t\t\t\t\t\t: null,\n\t\t\t\t};\n\t\t\t},\n\t\t\t[ fieldValue ]\n\t\t);\n\n\tconst parentOptions = useMemo( () => {\n\t\tconst getOptionsFromTree = ( tree, level = 0 ) => {\n\t\t\tconst mappedNodes = tree.map( ( treeNode ) => [\n\t\t\t\t{\n\t\t\t\t\tvalue: treeNode.id,\n\t\t\t\t\tlabel:\n\t\t\t\t\t\t' '.repeat( level ) + decodeEntities( treeNode.name ),\n\t\t\t\t\trawName: treeNode.name,\n\t\t\t\t},\n\t\t\t\t...getOptionsFromTree( treeNode.children || [], level + 1 ),\n\t\t\t] );\n\n\t\t\tconst sortedNodes = mappedNodes.sort( ( [ a ], [ b ] ) => {\n\t\t\t\tconst priorityA = getItemPriority( a.rawName, fieldValue );\n\t\t\t\tconst priorityB = getItemPriority( b.rawName, fieldValue );\n\t\t\t\treturn priorityA >= priorityB ? 1 : -1;\n\t\t\t} );\n\n\t\t\treturn sortedNodes.flat();\n\t\t};\n\n\t\tif ( ! pageItems ) {\n\t\t\treturn [];\n\t\t}\n\n\t\tlet tree = pageItems.map( ( item ) => ( {\n\t\t\tid: item.id,\n\t\t\tparent: item.parent,\n\t\t\tname: getTitle( item ),\n\t\t} ) );\n\n\t\t// Only build a hierarchical tree when not searching.\n\t\tif ( ! fieldValue ) {\n\t\t\ttree = buildTermsTree( tree );\n\t\t}\n\n\t\tconst opts = getOptionsFromTree( tree );\n\n\t\t// Ensure the current parent is in the options list.\n\t\tconst optsHasParent = opts.find(\n\t\t\t( item ) => item.value === parentPostId\n\t\t);\n\t\tif ( parentPostTitle && ! optsHasParent ) {\n\t\t\topts.unshift( {\n\t\t\t\tvalue: parentPostId,\n\t\t\t\tlabel: parentPostTitle,\n\t\t\t} );\n\t\t}\n\t\treturn opts;\n\t}, [ pageItems, fieldValue, parentPostTitle, parentPostId ] );\n\n\tif ( ! isHierarchical ) {\n\t\treturn null;\n\t}\n\t/**\n\t * Handle user input.\n\t *\n\t * @param {string} inputValue The current value of the input field.\n\t */\n\tconst handleKeydown = ( inputValue ) => {\n\t\tsetFieldValue( inputValue );\n\t};\n\n\t/**\n\t * Handle author selection.\n\t *\n\t * @param {Object} selectedPostId The selected Author.\n\t */\n\tconst handleChange = ( selectedPostId ) => {\n\t\teditPost( { parent: selectedPostId } );\n\t};\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tclassName=\"editor-page-attributes__parent\"\n\t\t\tlabel={ __( 'Parent' ) }\n\t\t\tvalue={ parentPostId }\n\t\t\toptions={ parentOptions }\n\t\t\tonFilterValueChange={ debounce( handleKeydown, 300 ) }\n\t\t\tonChange={ handleChange }\n\t\t/>\n\t);\n}\n\nexport default PageAttributesParent;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, PanelRow } from '@wordpress/components';\n\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PageAttributesCheck from './check';\nimport PageAttributesOrder from './order';\nimport PageAttributesParent from './parent';\n\nconst PANEL_NAME = 'page-attributes';\n\nexport function PageAttributesPanel() {\n\tconst { isEnabled, isOpened, postType } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetEditedPostAttribute,\n\t\t\tisEditorPanelEnabled,\n\t\t\tisEditorPanelOpened,\n\t\t} = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\treturn {\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tisOpened: isEditorPanelOpened( PANEL_NAME ),\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t};\n\t}, [] );\n\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( ! isEnabled || ! postType ) {\n\t\treturn null;\n\t}\n\n\tconst onTogglePanel = ( ...args ) =>\n\t\ttoggleEditorPanelOpened( PANEL_NAME, ...args );\n\n\treturn (\n\t\t<PageAttributesCheck>\n\t\t\t<PanelBody\n\t\t\t\ttitle={\n\t\t\t\t\tpostType?.labels?.attributes ?? __( 'Page attributes' )\n\t\t\t\t}\n\t\t\t\topened={ isOpened }\n\t\t\t\tonToggle={ onTogglePanel }\n\t\t\t>\n\t\t\t\t<PageAttributesParent />\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<PageAttributesOrder />\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</PageAttributesCheck>\n\t);\n}\n\nexport default PageAttributesPanel;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst addTemplate = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path\n\t\t\tfillRule=\"evenodd\"\n\t\t\tclipRule=\"evenodd\"\n\t\t\td=\"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z\"\n\t\t/>\n\t</SVG>\n);\n\nexport default addTemplate;\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport { serialize, createBlock } from '@wordpress/blocks';\nimport {\n\tModal,\n\tTextControl,\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { cleanForSlug } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nconst DEFAULT_TITLE = __( 'Custom Template' );\n\nexport default function CreateNewTemplateModal( { onClose } ) {\n\tconst defaultBlockTemplate = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditorSettings().defaultBlockTemplate,\n\t\t[]\n\t);\n\n\tconst { createTemplate, setRenderingMode } = unlock(\n\t\tuseDispatch( editorStore )\n\t);\n\n\tconst [ title, setTitle ] = useState( '' );\n\n\tconst [ isBusy, setIsBusy ] = useState( false );\n\n\tconst cancel = () => {\n\t\tsetTitle( '' );\n\t\tonClose();\n\t};\n\n\tconst submit = async ( event ) => {\n\t\tevent.preventDefault();\n\n\t\tif ( isBusy ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsBusy( true );\n\n\t\tconst newTemplateContent =\n\t\t\tdefaultBlockTemplate ??\n\t\t\tserialize( [\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/group',\n\t\t\t\t\t{\n\t\t\t\t\t\ttagName: 'header',\n\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock( 'core/site-title' ),\n\t\t\t\t\t\tcreateBlock( 'core/site-tagline' ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t\tcreateBlock( 'core/separator' ),\n\t\t\t\tcreateBlock(\n\t\t\t\t\t'core/group',\n\t\t\t\t\t{\n\t\t\t\t\t\ttagName: 'main',\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t\t'core/group',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[ createBlock( 'core/post-title' ) ]\n\t\t\t\t\t\t),\n\t\t\t\t\t\tcreateBlock( 'core/post-content', {\n\t\t\t\t\t\t\tlayout: { inherit: true },\n\t\t\t\t\t\t} ),\n\t\t\t\t\t]\n\t\t\t\t),\n\t\t\t] );\n\n\t\tawait createTemplate( {\n\t\t\tslug: cleanForSlug( title || DEFAULT_TITLE ),\n\t\t\tcontent: newTemplateContent,\n\t\t\ttitle: title || DEFAULT_TITLE,\n\t\t} );\n\n\t\tsetIsBusy( false );\n\t\tcancel();\n\t\tsetRenderingMode( 'template-only' );\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={ __( 'Create custom template' ) }\n\t\t\tonRequestClose={ cancel }\n\t\t>\n\t\t\t<form\n\t\t\t\tclassName=\"editor-post-template__create-form\"\n\t\t\t\tonSubmit={ submit }\n\t\t\t>\n\t\t\t\t<VStack spacing=\"3\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Name' ) }\n\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\tonChange={ setTitle }\n\t\t\t\t\t\tplaceholder={ DEFAULT_TITLE }\n\t\t\t\t\t\tdisabled={ isBusy }\n\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t'Describe the template, e.g. \"Post with sidebar\". A custom template can be manually applied to any post or page.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t<Button variant=\"tertiary\" onClick={ cancel }>\n\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tisBusy={ isBusy }\n\t\t\t\t\t\t\taria-disabled={ isBusy }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</VStack>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function useEditedPostContext() {\n\treturn useSelect( ( select ) => {\n\t\tconst { getCurrentPostId, getCurrentPostType } = select( editorStore );\n\t\treturn {\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t}, [] );\n}\nexport function useAllowSwitchingTemplates() {\n\tconst { postType, postId } = useEditedPostContext();\n\treturn useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecord, getEntityRecords } = select( coreStore );\n\t\t\tconst siteSettings = getEntityRecord( 'root', 'site' );\n\t\t\tconst templates = getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\tper_page: -1,\n\t\t\t} );\n\t\t\tconst isPostsPage = +postId === siteSettings?.page_for_posts;\n\t\t\t// If current page is set front page or posts page, we also need\n\t\t\t// to check if the current theme has a template for it. If not\n\t\t\tconst isFrontPage =\n\t\t\t\tpostType === 'page' &&\n\t\t\t\t+postId === siteSettings?.page_on_front &&\n\t\t\t\ttemplates?.some( ( { slug } ) => slug === 'front-page' );\n\t\t\treturn ! isPostsPage && ! isFrontPage;\n\t\t},\n\t\t[ postId, postType ]\n\t);\n}\n\nfunction useTemplates( postType ) {\n\treturn useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\tper_page: -1,\n\t\t\t\tpost_type: postType,\n\t\t\t} ),\n\t\t[ postType ]\n\t);\n}\n\nexport function useAvailableTemplates( postType ) {\n\tconst currentTemplateSlug = useCurrentTemplateSlug();\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst templates = useTemplates( postType );\n\treturn useMemo(\n\t\t() =>\n\t\t\tallowSwitchingTemplate &&\n\t\t\ttemplates?.filter(\n\t\t\t\t( template ) =>\n\t\t\t\t\ttemplate.is_custom &&\n\t\t\t\t\ttemplate.slug !== currentTemplateSlug &&\n\t\t\t\t\t!! template.content.raw // Skip empty templates.\n\t\t\t),\n\t\t[ templates, currentTemplateSlug, allowSwitchingTemplate ]\n\t);\n}\n\nexport function useCurrentTemplateSlug() {\n\tconst { postType, postId } = useEditedPostContext();\n\tconst templates = useTemplates( postType );\n\tconst entityTemplate = useSelect(\n\t\t( select ) => {\n\t\t\tconst post = select( coreStore ).getEditedEntityRecord(\n\t\t\t\t'postType',\n\t\t\t\tpostType,\n\t\t\t\tpostId\n\t\t\t);\n\t\t\treturn post?.template;\n\t\t},\n\t\t[ postType, postId ]\n\t);\n\n\tif ( ! entityTemplate ) {\n\t\treturn;\n\t}\n\t// If a page has a `template` set and is not included in the list\n\t// of the theme's templates, do not return it, in order to resolve\n\t// to the current theme's default template.\n\treturn templates?.find( ( template ) => template.slug === entityTemplate )\n\t\t?.slug;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl, Dropdown, Button, Notice } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { useState, useMemo } from '@wordpress/element';\nimport { addTemplate } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport CreateNewTemplateModal from './create-new-template-modal';\nimport { useAllowSwitchingTemplates } from './hooks';\n\nconst POPOVER_PROPS = {\n\tclassName: 'editor-post-template__dropdown',\n\tplacement: 'bottom-start',\n};\n\nfunction PostTemplateToggle( { isOpen, onClick } ) {\n\tconst templateTitle = useSelect( ( select ) => {\n\t\tconst templateSlug =\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'template' );\n\n\t\tconst { supportsTemplateMode, availableTemplates } =\n\t\t\tselect( editorStore ).getEditorSettings();\n\t\tif ( ! supportsTemplateMode && availableTemplates[ templateSlug ] ) {\n\t\t\treturn availableTemplates[ templateSlug ];\n\t\t}\n\t\tconst template =\n\t\t\tselect( coreStore ).canUser( 'create', 'templates' ) &&\n\t\t\tselect( editorStore ).getCurrentTemplateId();\n\t\treturn (\n\t\t\ttemplate?.title ||\n\t\t\ttemplate?.slug ||\n\t\t\tavailableTemplates?.[ templateSlug ]\n\t\t);\n\t}, [] );\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"edit-post-post-template__toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\taria-label={ __( 'Template options' ) }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ templateTitle ?? __( 'Default template' ) }\n\t\t</Button>\n\t);\n}\n\nfunction PostTemplateDropdownContent( { onClose } ) {\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst {\n\t\tavailableTemplates,\n\t\tfetchedTemplates,\n\t\tselectedTemplateSlug,\n\t\tcanCreate,\n\t\tcanEdit,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { canUser, getEntityRecords } = select( coreStore );\n\t\t\tconst editorSettings = select( editorStore ).getEditorSettings();\n\t\t\tconst canCreateTemplates = canUser( 'create', 'templates' );\n\n\t\t\treturn {\n\t\t\t\tavailableTemplates: editorSettings.availableTemplates,\n\t\t\t\tfetchedTemplates: canCreateTemplates\n\t\t\t\t\t? getEntityRecords( 'postType', 'wp_template', {\n\t\t\t\t\t\t\tpost_type:\n\t\t\t\t\t\t\t\tselect( editorStore ).getCurrentPostType(),\n\t\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t  } )\n\t\t\t\t\t: undefined,\n\t\t\t\tselectedTemplateSlug:\n\t\t\t\t\tselect( editorStore ).getEditedPostAttribute( 'template' ),\n\t\t\t\tcanCreate:\n\t\t\t\t\tallowSwitchingTemplate &&\n\t\t\t\t\tcanCreateTemplates &&\n\t\t\t\t\teditorSettings.supportsTemplateMode,\n\t\t\t\tcanEdit:\n\t\t\t\t\tallowSwitchingTemplate &&\n\t\t\t\t\tcanCreateTemplates &&\n\t\t\t\t\teditorSettings.supportsTemplateMode &&\n\t\t\t\t\t!! select( editorStore ).getCurrentTemplateId(),\n\t\t\t};\n\t\t},\n\t\t[ allowSwitchingTemplate ]\n\t);\n\n\tconst options = useMemo(\n\t\t() =>\n\t\t\tObject.entries( {\n\t\t\t\t...availableTemplates,\n\t\t\t\t...Object.fromEntries(\n\t\t\t\t\t( fetchedTemplates ?? [] ).map( ( { slug, title } ) => [\n\t\t\t\t\t\tslug,\n\t\t\t\t\t\ttitle.rendered,\n\t\t\t\t\t] )\n\t\t\t\t),\n\t\t\t} ).map( ( [ slug, title ] ) => ( { value: slug, label: title } ) ),\n\t\t[ availableTemplates, fetchedTemplates ]\n\t);\n\n\tconst selectedOption =\n\t\toptions.find( ( option ) => option.value === selectedTemplateSlug ) ??\n\t\toptions.find( ( option ) => ! option.value ); // The default option has '' value.\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { getEditorSettings } = useSelect( editorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst { setRenderingMode } = useDispatch( editorStore );\n\tconst [ isCreateModalOpen, setIsCreateModalOpen ] = useState( false );\n\n\treturn (\n\t\t<div className=\"editor-post-template__classic-theme-dropdown\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Template' ) }\n\t\t\t\thelp={ __(\n\t\t\t\t\t'Templates define the way content is displayed when viewing your site.'\n\t\t\t\t) }\n\t\t\t\tactions={\n\t\t\t\t\tcanCreate\n\t\t\t\t\t\t? [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ticon: addTemplate,\n\t\t\t\t\t\t\t\t\tlabel: __( 'Add template' ),\n\t\t\t\t\t\t\t\t\tonClick: () => setIsCreateModalOpen( true ),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  ]\n\t\t\t\t\t\t: []\n\t\t\t\t}\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t{ ! allowSwitchingTemplate ? (\n\t\t\t\t<Notice status=\"warning\" isDismissible={ false }>\n\t\t\t\t\t{ __( 'The posts page template cannot be changed.' ) }\n\t\t\t\t</Notice>\n\t\t\t) : (\n\t\t\t\t<SelectControl\n\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\thideLabelFromVision\n\t\t\t\t\tlabel={ __( 'Template' ) }\n\t\t\t\t\tvalue={ selectedOption?.value ?? '' }\n\t\t\t\t\toptions={ options }\n\t\t\t\t\tonChange={ ( slug ) =>\n\t\t\t\t\t\teditPost( { template: slug || '' } )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ canEdit && (\n\t\t\t\t<p>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\tsetRenderingMode( 'template-only' );\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'Editing template. Changes made here affect all posts and pages that use the template.'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\t\t\tsetRenderingMode(\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetEditorSettings()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.defaultRenderingMode\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Edit template' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</p>\n\t\t\t) }\n\t\t\t{ isCreateModalOpen && (\n\t\t\t\t<CreateNewTemplateModal\n\t\t\t\t\tonClose={ () => setIsCreateModalOpen( false ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n}\n\nfunction ClassicThemeControl() {\n\treturn (\n\t\t<Dropdown\n\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\tfocusOnMount\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<PostTemplateToggle isOpen={ isOpen } onClick={ onToggle } />\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<PostTemplateDropdownContent onClose={ onClose } />\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default ClassicThemeControl;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst check = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z\" />\n\t</SVG>\n);\n\nexport default check;\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useState, useCallback } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __experimentalBlockPatternsList as BlockPatternsList } from '@wordpress/block-editor';\nimport { MenuItem, Modal } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { parse } from '@wordpress/blocks';\nimport { useAsyncList } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { useAvailableTemplates, useEditedPostContext } from './hooks';\n\nexport default function SwapTemplateButton( { onClick } ) {\n\tconst [ showModal, setShowModal ] = useState( false );\n\tconst onClose = useCallback( () => {\n\t\tsetShowModal( false );\n\t}, [] );\n\tconst { postType, postId } = useEditedPostContext();\n\tconst availableTemplates = useAvailableTemplates( postType );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\tif ( ! availableTemplates?.length ) {\n\t\treturn null;\n\t}\n\tconst onTemplateSelect = async ( template ) => {\n\t\teditEntityRecord(\n\t\t\t'postType',\n\t\t\tpostType,\n\t\t\tpostId,\n\t\t\t{ template: template.name },\n\t\t\t{ undoIgnore: true }\n\t\t);\n\t\tonClose(); // Close the template suggestions modal first.\n\t\tonClick();\n\t};\n\treturn (\n\t\t<>\n\t\t\t<MenuItem onClick={ () => setShowModal( true ) }>\n\t\t\t\t{ __( 'Swap template' ) }\n\t\t\t</MenuItem>\n\t\t\t{ showModal && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Choose a template' ) }\n\t\t\t\t\tonRequestClose={ onClose }\n\t\t\t\t\toverlayClassName=\"editor-post-template__swap-template-modal\"\n\t\t\t\t\tisFullScreen\n\t\t\t\t>\n\t\t\t\t\t<div className=\"editor-post-template__swap-template-modal-content\">\n\t\t\t\t\t\t<TemplatesList\n\t\t\t\t\t\t\tpostType={ postType }\n\t\t\t\t\t\t\tonSelect={ onTemplateSelect }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nfunction TemplatesList( { postType, onSelect } ) {\n\tconst availableTemplates = useAvailableTemplates( postType );\n\tconst templatesAsPatterns = useMemo(\n\t\t() =>\n\t\t\tavailableTemplates.map( ( template ) => ( {\n\t\t\t\tname: template.slug,\n\t\t\t\tblocks: parse( template.content.raw ),\n\t\t\t\ttitle: decodeEntities( template.title.rendered ),\n\t\t\t\tid: template.id,\n\t\t\t} ) ),\n\t\t[ availableTemplates ]\n\t);\n\tconst shownTemplates = useAsyncList( templatesAsPatterns );\n\treturn (\n\t\t<BlockPatternsList\n\t\t\tlabel={ __( 'Templates' ) }\n\t\t\tblockPatterns={ templatesAsPatterns }\n\t\t\tshownPatterns={ shownTemplates }\n\t\t\tonClickPattern={ onSelect }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tuseAllowSwitchingTemplates,\n\tuseCurrentTemplateSlug,\n\tuseEditedPostContext,\n} from './hooks';\n\nexport default function ResetDefaultTemplate( { onClick } ) {\n\tconst currentTemplateSlug = useCurrentTemplateSlug();\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\tconst { postType, postId } = useEditedPostContext();\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\t// The default template in a post is indicated by an empty string.\n\tif ( ! currentTemplateSlug || ! allowSwitchingTemplate ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\teditEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId,\n\t\t\t\t\t{ template: '' },\n\t\t\t\t\t{ undoIgnore: true }\n\t\t\t\t);\n\t\t\t\tonClick();\n\t\t\t} }\n\t\t>\n\t\t\t{ __( 'Use default template' ) }\n\t\t</MenuItem>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport CreateNewTemplateModal from './create-new-template-modal';\nimport { useAllowSwitchingTemplates } from './hooks';\n\nexport default function CreateNewTemplate( { onClick } ) {\n\tconst { canCreateTemplates } = useSelect( ( select ) => {\n\t\tconst { canUser } = select( coreStore );\n\t\treturn {\n\t\t\tcanCreateTemplates: canUser( 'create', 'templates' ),\n\t\t};\n\t}, [] );\n\tconst [ isCreateModalOpen, setIsCreateModalOpen ] = useState( false );\n\tconst allowSwitchingTemplate = useAllowSwitchingTemplates();\n\n\t// The default template in a post is indicated by an empty string.\n\tif ( ! canCreateTemplates || ! allowSwitchingTemplate ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<>\n\t\t\t<MenuItem\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tsetIsCreateModalOpen( true );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ __( 'Create new template' ) }\n\t\t\t</MenuItem>\n\n\t\t\t{ isCreateModalOpen && (\n\t\t\t\t<CreateNewTemplateModal\n\t\t\t\t\tonClose={ () => {\n\t\t\t\t\t\tsetIsCreateModalOpen( false );\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { DropdownMenu, MenuGroup, MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useEntityRecord } from '@wordpress/core-data';\nimport { check } from '@wordpress/icons';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport SwapTemplateButton from './swap-template-button';\nimport ResetDefaultTemplate from './reset-default-template';\nimport { unlock } from '../../lock-unlock';\nimport CreateNewTemplate from './create-new-template';\n\nconst POPOVER_PROPS = {\n\tclassName: 'editor-post-template__dropdown',\n\tplacement: 'bottom-start',\n};\n\nexport default function BlockThemeControl( { id } ) {\n\tconst { isTemplateHidden } = useSelect( ( select ) => {\n\t\tconst { getRenderingMode } = unlock( select( editorStore ) );\n\t\treturn {\n\t\t\tisTemplateHidden: getRenderingMode() === 'post-only',\n\t\t};\n\t}, [] );\n\tconst { editedRecord: template, hasResolved } = useEntityRecord(\n\t\t'postType',\n\t\t'wp_template',\n\t\tid\n\t);\n\tconst { getEditorSettings } = useSelect( editorStore );\n\tconst { createSuccessNotice } = useDispatch( noticesStore );\n\tconst { setRenderingMode } = useDispatch( editorStore );\n\n\tif ( ! hasResolved ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\tfocusOnMount\n\t\t\ttoggleProps={ {\n\t\t\t\tvariant: 'tertiary',\n\t\t\t} }\n\t\t\tlabel={ __( 'Template options' ) }\n\t\t\ttext={ decodeEntities( template.title ) }\n\t\t\ticon={ null }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetRenderingMode( 'template-only' );\n\t\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t\t\tcreateSuccessNotice(\n\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t'Editing template. Changes made here affect all posts and pages that use the template.'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: __( 'Go back' ),\n\t\t\t\t\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetRenderingMode(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetEditorSettings()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.defaultRenderingMode\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Edit template' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t<SwapTemplateButton onClick={ onClose } />\n\t\t\t\t\t\t<ResetDefaultTemplate onClick={ onClose } />\n\t\t\t\t\t\t<CreateNewTemplate onClick={ onClose } />\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\ticon={ ! isTemplateHidden ? check : undefined }\n\t\t\t\t\t\t\tisSelected={ ! isTemplateHidden }\n\t\t\t\t\t\t\trole=\"menuitemcheckbox\"\n\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\tsetRenderingMode(\n\t\t\t\t\t\t\t\t\tisTemplateHidden\n\t\t\t\t\t\t\t\t\t\t? 'template-locked'\n\t\t\t\t\t\t\t\t\t\t: 'post-only'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Template preview' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalHStack as HStack } from '@wordpress/components';\nimport { forwardRef } from '@wordpress/element';\n\nconst PostPanelRow = forwardRef( ( { className, label, children }, ref ) => {\n\treturn (\n\t\t<HStack\n\t\t\tclassName={ classnames( 'editor-post-panel__row', className ) }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ label && (\n\t\t\t\t<div className=\"editor-post-panel__row-label\">{ label }</div>\n\t\t\t) }\n\t\t\t<div className=\"editor-post-panel__row-control\">{ children }</div>\n\t\t</HStack>\n\t);\n} );\n\nexport default PostPanelRow;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport ClassicThemeControl from './classic-theme';\nimport BlockThemeControl from './block-theme';\nimport PostPanelRow from '../post-panel-row';\n\nexport default function PostTemplatePanel() {\n\tconst { templateId, isBlockTheme } = useSelect( ( select ) => {\n\t\tconst { getCurrentTemplateId, getEditorSettings } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\ttemplateId: getCurrentTemplateId(),\n\t\t\tisBlockTheme: getEditorSettings().__unstableIsBlockBasedTheme,\n\t\t};\n\t}, [] );\n\n\tconst isVisible = useSelect( ( select ) => {\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tif ( ! postType?.viewable ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst settings = select( editorStore ).getEditorSettings();\n\t\tconst hasTemplates =\n\t\t\t!! settings.availableTemplates &&\n\t\t\tObject.keys( settings.availableTemplates ).length > 0;\n\t\tif ( hasTemplates ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif ( ! settings.supportsTemplateMode ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst canCreateTemplates =\n\t\t\tselect( coreStore ).canUser( 'create', 'templates' ) ?? false;\n\t\treturn canCreateTemplates;\n\t}, [] );\n\n\tif ( ! isBlockTheme && isVisible ) {\n\t\treturn (\n\t\t\t<PostPanelRow label={ __( 'Template' ) }>\n\t\t\t\t<ClassicThemeControl />\n\t\t\t</PostPanelRow>\n\t\t);\n\t}\n\n\tif ( isBlockTheme && !! templateId ) {\n\t\treturn (\n\t\t\t<PostPanelRow label={ __( 'Template' ) }>\n\t\t\t\t<BlockThemeControl id={ templateId } />\n\t\t\t</PostPanelRow>\n\t\t);\n\t}\n\treturn null;\n}\n","export const AUTHORS_QUERY = {\n\twho: 'authors',\n\tper_page: 50,\n\t_fields: 'id,name',\n\tcontext: 'view', // Allows non-admins to perform requests.\n};\n","/**\n * WordPress dependencies\n */\nimport { debounce } from '@wordpress/compose';\nimport { useState, useMemo } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { ComboboxControl } from '@wordpress/components';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { AUTHORS_QUERY } from './constants';\n\nfunction PostAuthorCombobox() {\n\tconst [ fieldValue, setFieldValue ] = useState();\n\n\tconst { authorId, isLoading, authors, postAuthor } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getUser, getUsers, isResolving } = select( coreStore );\n\t\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\t\tconst author = getUser( getEditedPostAttribute( 'author' ), {\n\t\t\t\tcontext: 'view',\n\t\t\t} );\n\t\t\tconst query = { ...AUTHORS_QUERY };\n\n\t\t\tif ( fieldValue ) {\n\t\t\t\tquery.search = fieldValue;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tauthorId: getEditedPostAttribute( 'author' ),\n\t\t\t\tpostAuthor: author,\n\t\t\t\tauthors: getUsers( query ),\n\t\t\t\tisLoading: isResolving( 'core', 'getUsers', [ query ] ),\n\t\t\t};\n\t\t},\n\t\t[ fieldValue ]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst authorOptions = useMemo( () => {\n\t\tconst fetchedAuthors = ( authors ?? [] ).map( ( author ) => {\n\t\t\treturn {\n\t\t\t\tvalue: author.id,\n\t\t\t\tlabel: decodeEntities( author.name ),\n\t\t\t};\n\t\t} );\n\n\t\t// Ensure the current author is included in the dropdown list.\n\t\tconst foundAuthor = fetchedAuthors.findIndex(\n\t\t\t( { value } ) => postAuthor?.id === value\n\t\t);\n\n\t\tif ( foundAuthor < 0 && postAuthor ) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tvalue: postAuthor.id,\n\t\t\t\t\tlabel: decodeEntities( postAuthor.name ),\n\t\t\t\t},\n\t\t\t\t...fetchedAuthors,\n\t\t\t];\n\t\t}\n\n\t\treturn fetchedAuthors;\n\t}, [ authors, postAuthor ] );\n\n\t/**\n\t * Handle author selection.\n\t *\n\t * @param {number} postAuthorId The selected Author.\n\t */\n\tconst handleSelect = ( postAuthorId ) => {\n\t\tif ( ! postAuthorId ) {\n\t\t\treturn;\n\t\t}\n\t\teditPost( { author: postAuthorId } );\n\t};\n\n\t/**\n\t * Handle user input.\n\t *\n\t * @param {string} inputValue The current value of the input field.\n\t */\n\tconst handleKeydown = ( inputValue ) => {\n\t\tsetFieldValue( inputValue );\n\t};\n\n\tif ( ! postAuthor ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<ComboboxControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\t__next40pxDefaultSize\n\t\t\tlabel={ __( 'Author' ) }\n\t\t\toptions={ authorOptions }\n\t\t\tvalue={ authorId }\n\t\t\tonFilterValueChange={ debounce( handleKeydown, 300 ) }\n\t\t\tonChange={ handleSelect }\n\t\t\tisLoading={ isLoading }\n\t\t\tallowReset={ false }\n\t\t/>\n\t);\n}\n\nexport default PostAuthorCombobox;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { SelectControl } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { AUTHORS_QUERY } from './constants';\n\nfunction PostAuthorSelect() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { postAuthor, authors } = useSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostAuthor:\n\t\t\t\tselect( editorStore ).getEditedPostAttribute( 'author' ),\n\t\t\tauthors: select( coreStore ).getUsers( AUTHORS_QUERY ),\n\t\t};\n\t}, [] );\n\n\tconst authorOptions = useMemo( () => {\n\t\treturn ( authors ?? [] ).map( ( author ) => {\n\t\t\treturn {\n\t\t\t\tvalue: author.id,\n\t\t\t\tlabel: decodeEntities( author.name ),\n\t\t\t};\n\t\t} );\n\t}, [ authors ] );\n\n\tconst setAuthorId = ( value ) => {\n\t\tconst author = Number( value );\n\t\teditPost( { author } );\n\t};\n\n\treturn (\n\t\t<SelectControl\n\t\t\t__next40pxDefaultSize\n\t\t\t__nextHasNoMarginBottom\n\t\t\tclassName=\"post-author-selector\"\n\t\t\tlabel={ __( 'Author' ) }\n\t\t\toptions={ authorOptions }\n\t\t\tonChange={ setAuthorId }\n\t\t\tvalue={ postAuthor }\n\t\t/>\n\t);\n}\n\nexport default PostAuthorSelect;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostAuthorCombobox from './combobox';\nimport PostAuthorSelect from './select';\nimport { AUTHORS_QUERY } from './constants';\n\nconst minimumUsersForCombobox = 25;\n\nfunction PostAuthor() {\n\tconst showCombobox = useSelect( ( select ) => {\n\t\tconst authors = select( coreStore ).getUsers( AUTHORS_QUERY );\n\n\t\treturn authors?.length >= minimumUsersForCombobox;\n\t}, [] );\n\n\tif ( showCombobox ) {\n\t\treturn <PostAuthorCombobox />;\n\t}\n\treturn <PostAuthorSelect />;\n}\n\nexport default PostAuthor;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\nimport { AUTHORS_QUERY } from './constants';\n\nexport default function PostAuthorCheck( { children } ) {\n\tconst { hasAssignAuthorAction, hasAuthors } = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tconst authors = select( coreStore ).getUsers( AUTHORS_QUERY );\n\t\treturn {\n\t\t\thasAssignAuthorAction:\n\t\t\t\tpost._links?.[ 'wp:action-assign-author' ] ?? false,\n\t\t\thasAuthors: authors?.length >= 1,\n\t\t};\n\t}, [] );\n\n\tif ( ! hasAssignAuthorAction || ! hasAuthors ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"author\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport PostAuthorCheck from './check';\nimport PostAuthorForm from './index';\nimport PostPanelRow from '../post-panel-row';\n\nexport function PostAuthor() {\n\treturn (\n\t\t<PostAuthorCheck>\n\t\t\t<PostPanelRow className=\"editor-post-author__panel\">\n\t\t\t\t<PostAuthorForm />\n\t\t\t</PostPanelRow>\n\t\t</PostAuthorCheck>\n\t);\n}\n\nexport default PostAuthor;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction PostComments() {\n\tconst commentStatus = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'comment_status' ) ??\n\t\t\t'open',\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst onToggleComments = () =>\n\t\teditPost( {\n\t\t\tcomment_status: commentStatus === 'open' ? 'closed' : 'open',\n\t\t} );\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Allow comments' ) }\n\t\t\tchecked={ commentStatus === 'open' }\n\t\t\tonChange={ onToggleComments }\n\t\t/>\n\t);\n}\n\nexport default PostComments;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction PostPingbacks() {\n\tconst pingStatus = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'ping_status' ) ??\n\t\t\t'open',\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst onTogglePingback = () =>\n\t\teditPost( {\n\t\t\tping_status: pingStatus === 'open' ? 'closed' : 'open',\n\t\t} );\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\t__nextHasNoMarginBottom\n\t\t\tlabel={ __( 'Allow pingbacks & trackbacks' ) }\n\t\t\tchecked={ pingStatus === 'open' }\n\t\t\tonChange={ onTogglePingback }\n\t\t/>\n\t);\n}\n\nexport default PostPingbacks;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody, PanelRow } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport PostComments from '../post-comments';\nimport PostPingbacks from '../post-pingbacks';\n\nconst PANEL_NAME = 'discussion-panel';\n\nfunction PostDiscussionPanel() {\n\tconst { isEnabled, isOpened } = useSelect( ( select ) => {\n\t\tconst { isEditorPanelEnabled, isEditorPanelOpened } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tisOpened: isEditorPanelOpened( PANEL_NAME ),\n\t\t};\n\t}, [] );\n\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys={ [ 'comments', 'trackbacks' ] }>\n\t\t\t<PanelBody\n\t\t\t\ttitle={ __( 'Discussion' ) }\n\t\t\t\topened={ isOpened }\n\t\t\t\tonToggle={ () => toggleEditorPanelOpened( PANEL_NAME ) }\n\t\t\t>\n\t\t\t\t<PostTypeSupportCheck supportKeys=\"comments\">\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<PostComments />\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PostTypeSupportCheck>\n\n\t\t\t\t<PostTypeSupportCheck supportKeys=\"trackbacks\">\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<PostPingbacks />\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PostTypeSupportCheck>\n\t\t\t</PanelBody>\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default PostDiscussionPanel;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ExternalLink, TextareaControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction PostExcerpt() {\n\tconst excerpt = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'excerpt' ),\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\n\treturn (\n\t\t<div className=\"editor-post-excerpt\">\n\t\t\t<TextareaControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Write an excerpt (optional)' ) }\n\t\t\t\tclassName=\"editor-post-excerpt__textarea\"\n\t\t\t\tonChange={ ( value ) => editPost( { excerpt: value } ) }\n\t\t\t\tvalue={ excerpt }\n\t\t\t/>\n\t\t\t<ExternalLink\n\t\t\t\thref={ __(\n\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#excerpt'\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t{ __( 'Learn more about manual excerpts' ) }\n\t\t\t</ExternalLink>\n\t\t</div>\n\t);\n}\n\nexport default PostExcerpt;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\nfunction PostExcerptCheck( { children } ) {\n\tconst postType = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\treturn getEditedPostAttribute( 'type' );\n\t}, [] );\n\n\t// This special case is unfortunate, but the REST API of wp_template and wp_template_part\n\t// support the excerpt field throught the \"description\" field rather than \"excerpt\" which means\n\t// the default ExcerptPanel won't work for these.\n\tif ( [ 'wp_template', 'wp_template_part' ].includes( postType ) ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"excerpt\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default PostExcerptCheck;\n","/**\n * Defines as extensibility slot for the Excerpt panel.\n */\n\n/**\n * WordPress dependencies\n */\nimport { createSlotFill, PanelRow } from '@wordpress/components';\n\nconst { Fill, Slot } = createSlotFill( 'PluginPostExcerpt' );\n\n/**\n * Renders a post excerpt panel in the post sidebar.\n *\n * @param {Object}  props             Component properties.\n * @param {string}  [props.className] An optional class name added to the row.\n * @param {Element} props.children    Children to be rendered.\n *\n * @example\n * ```js\n * // Using ES5 syntax\n * var __ = wp.i18n.__;\n * var PluginPostExcerpt = wp.editPost.PluginPostExcerpt;\n *\n * function MyPluginPostExcerpt() {\n * \treturn React.createElement(\n * \t\tPluginPostExcerpt,\n * \t\t{\n * \t\t\tclassName: 'my-plugin-post-excerpt',\n * \t\t},\n * \t\t__( 'Post excerpt custom content' )\n * \t)\n * }\n * ```\n *\n * @example\n * ```jsx\n * // Using ESNext syntax\n * import { __ } from '@wordpress/i18n';\n * import { PluginPostExcerpt } from '@wordpress/edit-post';\n *\n * const MyPluginPostExcerpt = () => (\n * \t<PluginPostExcerpt className=\"my-plugin-post-excerpt\">\n * \t\t{ __( 'Post excerpt custom content' ) }\n * \t</PluginPostExcerpt>\n * );\n * ```\n *\n * @return {Component} The component to be rendered.\n */\nconst PluginPostExcerpt = ( { children, className } ) => {\n\treturn (\n\t\t<Fill>\n\t\t\t<PanelRow className={ className }>{ children }</PanelRow>\n\t\t</Fill>\n\t);\n};\n\nPluginPostExcerpt.Slot = Slot;\n\nexport default PluginPostExcerpt;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostExcerptForm from './index';\nimport PostExcerptCheck from './check';\nimport PluginPostExcerpt from './plugin';\nimport { store as editorStore } from '../../store';\n\n/**\n * Module Constants\n */\nconst PANEL_NAME = 'post-excerpt';\n\nexport default function PostExcerptPanel() {\n\tconst { isOpened, isEnabled } = useSelect( ( select ) => {\n\t\tconst { isEditorPanelOpened, isEditorPanelEnabled } =\n\t\t\tselect( editorStore );\n\n\t\treturn {\n\t\t\tisOpened: isEditorPanelOpened( PANEL_NAME ),\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t};\n\t}, [] );\n\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\tconst toggleExcerptPanel = () => toggleEditorPanelOpened( PANEL_NAME );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostExcerptCheck>\n\t\t\t<PanelBody\n\t\t\t\ttitle={ __( 'Excerpt' ) }\n\t\t\t\topened={ isOpened }\n\t\t\t\tonToggle={ toggleExcerptPanel }\n\t\t\t>\n\t\t\t\t<PluginPostExcerpt.Slot>\n\t\t\t\t\t{ ( fills ) => (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PostExcerptForm />\n\t\t\t\t\t\t\t{ fills }\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</PluginPostExcerpt.Slot>\n\t\t\t</PanelBody>\n\t\t</PostExcerptCheck>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blob\"];","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function ThemeSupportCheck( {\n\tthemeSupports,\n\tchildren,\n\tpostType,\n\tsupportKeys,\n} ) {\n\tconst isSupported = (\n\t\tArray.isArray( supportKeys ) ? supportKeys : [ supportKeys ]\n\t).some( ( key ) => {\n\t\tconst supported = themeSupports?.[ key ] ?? false;\n\t\t// 'post-thumbnails' can be boolean or an array of post types.\n\t\t// In the latter case, we need to verify `postType` exists\n\t\t// within `supported`. If `postType` isn't passed, then the check\n\t\t// should fail.\n\t\tif ( 'post-thumbnails' === key && Array.isArray( supported ) ) {\n\t\t\treturn supported.includes( postType );\n\t\t}\n\t\treturn supported;\n\t} );\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getThemeSupports } = select( coreStore );\n\tconst { getEditedPostAttribute } = select( editorStore );\n\treturn {\n\t\tpostType: getEditedPostAttribute( 'type' ),\n\t\tthemeSupports: getThemeSupports(),\n\t};\n} )( ThemeSupportCheck );\n","/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport ThemeSupportCheck from '../theme-support-check';\n\nfunction PostFeaturedImageCheck( { children } ) {\n\treturn (\n\t\t<ThemeSupportCheck supportKeys=\"post-thumbnails\">\n\t\t\t<PostTypeSupportCheck supportKeys=\"thumbnail\">\n\t\t\t\t{ children }\n\t\t\t</PostTypeSupportCheck>\n\t\t</ThemeSupportCheck>\n\t);\n}\n\nexport default PostFeaturedImageCheck;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\nimport {\n\tDropZone,\n\tButton,\n\tSpinner,\n\tResponsiveWrapper,\n\twithNotices,\n\twithFilters,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { isBlobURL } from '@wordpress/blob';\nimport { useState, useRef } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { useSelect, withDispatch, withSelect } from '@wordpress/data';\nimport {\n\tMediaUpload,\n\tMediaUploadCheck,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostFeaturedImageCheck from './check';\nimport { store as editorStore } from '../../store';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n// Used when labels from post type were not yet loaded or when they are not present.\nconst DEFAULT_FEATURE_IMAGE_LABEL = __( 'Featured image' );\nconst DEFAULT_SET_FEATURE_IMAGE_LABEL = __( 'Set featured image' );\n\nconst instructions = (\n\t<p>\n\t\t{ __(\n\t\t\t'To edit the featured image, you need permission to upload media.'\n\t\t) }\n\t</p>\n);\n\nfunction getMediaDetails( media, postId ) {\n\tif ( ! media ) {\n\t\treturn {};\n\t}\n\n\tconst defaultSize = applyFilters(\n\t\t'editor.PostFeaturedImage.imageSize',\n\t\t'large',\n\t\tmedia.id,\n\t\tpostId\n\t);\n\tif ( defaultSize in ( media?.media_details?.sizes ?? {} ) ) {\n\t\treturn {\n\t\t\tmediaWidth: media.media_details.sizes[ defaultSize ].width,\n\t\t\tmediaHeight: media.media_details.sizes[ defaultSize ].height,\n\t\t\tmediaSourceUrl: media.media_details.sizes[ defaultSize ].source_url,\n\t\t};\n\t}\n\n\t// Use fallbackSize when defaultSize is not available.\n\tconst fallbackSize = applyFilters(\n\t\t'editor.PostFeaturedImage.imageSize',\n\t\t'thumbnail',\n\t\tmedia.id,\n\t\tpostId\n\t);\n\tif ( fallbackSize in ( media?.media_details?.sizes ?? {} ) ) {\n\t\treturn {\n\t\t\tmediaWidth: media.media_details.sizes[ fallbackSize ].width,\n\t\t\tmediaHeight: media.media_details.sizes[ fallbackSize ].height,\n\t\t\tmediaSourceUrl:\n\t\t\t\tmedia.media_details.sizes[ fallbackSize ].source_url,\n\t\t};\n\t}\n\n\t// Use full image size when fallbackSize and defaultSize are not available.\n\treturn {\n\t\tmediaWidth: media.media_details.width,\n\t\tmediaHeight: media.media_details.height,\n\t\tmediaSourceUrl: media.source_url,\n\t};\n}\n\nfunction PostFeaturedImage( {\n\tcurrentPostId,\n\tfeaturedImageId,\n\tonUpdateImage,\n\tonRemoveImage,\n\tmedia,\n\tpostType,\n\tnoticeUI,\n\tnoticeOperations,\n} ) {\n\tconst toggleRef = useRef();\n\tconst [ isLoading, setIsLoading ] = useState( false );\n\tconst { getSettings } = useSelect( blockEditorStore );\n\tconst { mediaWidth, mediaHeight, mediaSourceUrl } = getMediaDetails(\n\t\tmedia,\n\t\tcurrentPostId\n\t);\n\n\tfunction onDropFiles( filesList ) {\n\t\tgetSettings().mediaUpload( {\n\t\t\tallowedTypes: ALLOWED_MEDIA_TYPES,\n\t\t\tfilesList,\n\t\t\tonFileChange( [ image ] ) {\n\t\t\t\tif ( isBlobURL( image?.url ) ) {\n\t\t\t\t\tsetIsLoading( true );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( image ) {\n\t\t\t\t\tonUpdateImage( image );\n\t\t\t\t}\n\t\t\t\tsetIsLoading( false );\n\t\t\t},\n\t\t\tonError( message ) {\n\t\t\t\tnoticeOperations.removeAllNotices();\n\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t},\n\t\t} );\n\t}\n\n\treturn (\n\t\t<PostFeaturedImageCheck>\n\t\t\t{ noticeUI }\n\t\t\t<div className=\"editor-post-featured-image\">\n\t\t\t\t{ media && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tid={ `editor-post-featured-image-${ featuredImageId }-describedby` }\n\t\t\t\t\t\tclassName=\"hidden\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ media.alt_text &&\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// Translators: %s: The selected image alt text.\n\t\t\t\t\t\t\t\t__( 'Current image: %s' ),\n\t\t\t\t\t\t\t\tmedia.alt_text\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! media.alt_text &&\n\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t// Translators: %s: The selected image filename.\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'The current image has no alternative text. The file name is: %s'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tmedia.media_details.sizes?.full?.file ||\n\t\t\t\t\t\t\t\t\tmedia.slug\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<MediaUploadCheck fallback={ instructions }>\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\tpostType?.labels?.featured_image ||\n\t\t\t\t\t\t\tDEFAULT_FEATURE_IMAGE_LABEL\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonSelect={ onUpdateImage }\n\t\t\t\t\t\tunstableFeaturedImageFlow\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\tmodalClass=\"editor-post-featured-image__media-modal\"\n\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t<div className=\"editor-post-featured-image__container\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tref={ toggleRef }\n\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t? 'editor-post-featured-image__toggle'\n\t\t\t\t\t\t\t\t\t\t\t: 'editor-post-featured-image__preview'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t: __( 'Edit or replace the image' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\taria-describedby={\n\t\t\t\t\t\t\t\t\t\t! featuredImageId\n\t\t\t\t\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t\t\t\t\t: `editor-post-featured-image-${ featuredImageId }-describedby`\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ !! featuredImageId && media && (\n\t\t\t\t\t\t\t\t\t\t<ResponsiveWrapper\n\t\t\t\t\t\t\t\t\t\t\tnaturalWidth={ mediaWidth }\n\t\t\t\t\t\t\t\t\t\t\tnaturalHeight={ mediaHeight }\n\t\t\t\t\t\t\t\t\t\t\tisInline\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={ mediaSourceUrl }\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</ResponsiveWrapper>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t{ isLoading && <Spinner /> }\n\t\t\t\t\t\t\t\t\t{ ! featuredImageId &&\n\t\t\t\t\t\t\t\t\t\t! isLoading &&\n\t\t\t\t\t\t\t\t\t\t( postType?.labels\n\t\t\t\t\t\t\t\t\t\t\t?.set_featured_image ||\n\t\t\t\t\t\t\t\t\t\t\tDEFAULT_SET_FEATURE_IMAGE_LABEL ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{ !! featuredImageId && (\n\t\t\t\t\t\t\t\t\t<HStack className=\"editor-post-featured-image__actions\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Replace' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"editor-post-featured-image__action\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\t\tonRemoveImage();\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleRef.current.focus();\n\t\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'Remove' ) }\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<DropZone onFilesDrop={ onDropFiles } />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ featuredImageId }\n\t\t\t\t\t/>\n\t\t\t\t</MediaUploadCheck>\n\t\t\t</div>\n\t\t</PostFeaturedImageCheck>\n\t);\n}\n\nconst applyWithSelect = withSelect( ( select ) => {\n\tconst { getMedia, getPostType } = select( coreStore );\n\tconst { getCurrentPostId, getEditedPostAttribute } = select( editorStore );\n\tconst featuredImageId = getEditedPostAttribute( 'featured_media' );\n\n\treturn {\n\t\tmedia: featuredImageId\n\t\t\t? getMedia( featuredImageId, { context: 'view' } )\n\t\t\t: null,\n\t\tcurrentPostId: getCurrentPostId(),\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\tfeaturedImageId,\n\t};\n} );\n\nconst applyWithDispatch = withDispatch(\n\t( dispatch, { noticeOperations }, { select } ) => {\n\t\tconst { editPost } = dispatch( editorStore );\n\t\treturn {\n\t\t\tonUpdateImage( image ) {\n\t\t\t\teditPost( { featured_media: image.id } );\n\t\t\t},\n\t\t\tonDropImage( filesList ) {\n\t\t\t\tselect( blockEditorStore )\n\t\t\t\t\t.getSettings()\n\t\t\t\t\t.mediaUpload( {\n\t\t\t\t\t\tallowedTypes: [ 'image' ],\n\t\t\t\t\t\tfilesList,\n\t\t\t\t\t\tonFileChange( [ image ] ) {\n\t\t\t\t\t\t\teditPost( { featured_media: image.id } );\n\t\t\t\t\t\t},\n\t\t\t\t\t\tonError( message ) {\n\t\t\t\t\t\t\tnoticeOperations.removeAllNotices();\n\t\t\t\t\t\t\tnoticeOperations.createErrorNotice( message );\n\t\t\t\t\t\t},\n\t\t\t\t\t} );\n\t\t\t},\n\t\t\tonRemoveImage() {\n\t\t\t\teditPost( { featured_media: 0 } );\n\t\t\t},\n\t\t};\n\t}\n);\n\nexport default compose(\n\twithNotices,\n\tapplyWithSelect,\n\tapplyWithDispatch,\n\twithFilters( 'editor.PostFeaturedImage' )\n)( PostFeaturedImage );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostFeaturedImage from './index';\nimport PostFeaturedImageCheck from './check';\n\nconst PANEL_NAME = 'featured-image';\n\nfunction FeaturedImage() {\n\tconst { postType, isEnabled, isOpened } = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetEditedPostAttribute,\n\t\t\tisEditorPanelEnabled,\n\t\t\tisEditorPanelOpened,\n\t\t} = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\n\t\treturn {\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t\tisEnabled: isEditorPanelEnabled( PANEL_NAME ),\n\t\t\tisOpened: isEditorPanelOpened( PANEL_NAME ),\n\t\t};\n\t}, [] );\n\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostFeaturedImageCheck>\n\t\t\t<PanelBody\n\t\t\t\ttitle={\n\t\t\t\t\tpostType?.labels?.featured_image ?? __( 'Featured image' )\n\t\t\t\t}\n\t\t\t\topened={ isOpened }\n\t\t\t\tonToggle={ () => toggleEditorPanelOpened( PANEL_NAME ) }\n\t\t\t>\n\t\t\t\t<PostFeaturedImage />\n\t\t\t</PanelBody>\n\t\t</PostFeaturedImageCheck>\n\t);\n}\n\nexport default FeaturedImage;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\nfunction PostFormatCheck( { children } ) {\n\tconst disablePostFormats = useSelect(\n\t\t( select ) =>\n\t\t\tselect( editorStore ).getEditorSettings().disablePostFormats,\n\t\t[]\n\t);\n\n\tif ( disablePostFormats ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"post-formats\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default PostFormatCheck;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Button, SelectControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostFormatCheck from './check';\nimport { store as editorStore } from '../../store';\n\n// All WP post formats, sorted alphabetically by translated name.\nexport const POST_FORMATS = [\n\t{ id: 'aside', caption: __( 'Aside' ) },\n\t{ id: 'audio', caption: __( 'Audio' ) },\n\t{ id: 'chat', caption: __( 'Chat' ) },\n\t{ id: 'gallery', caption: __( 'Gallery' ) },\n\t{ id: 'image', caption: __( 'Image' ) },\n\t{ id: 'link', caption: __( 'Link' ) },\n\t{ id: 'quote', caption: __( 'Quote' ) },\n\t{ id: 'standard', caption: __( 'Standard' ) },\n\t{ id: 'status', caption: __( 'Status' ) },\n\t{ id: 'video', caption: __( 'Video' ) },\n].sort( ( a, b ) => {\n\tconst normalizedA = a.caption.toUpperCase();\n\tconst normalizedB = b.caption.toUpperCase();\n\n\tif ( normalizedA < normalizedB ) {\n\t\treturn -1;\n\t}\n\tif ( normalizedA > normalizedB ) {\n\t\treturn 1;\n\t}\n\treturn 0;\n} );\n\nexport default function PostFormat() {\n\tconst instanceId = useInstanceId( PostFormat );\n\tconst postFormatSelectorId = `post-format-selector-${ instanceId }`;\n\n\tconst { postFormat, suggestedFormat, supportedFormats } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst _postFormat = getEditedPostAttribute( 'format' );\n\t\t\tconst themeSupports = select( coreStore ).getThemeSupports();\n\t\t\treturn {\n\t\t\t\tpostFormat: _postFormat ?? 'standard',\n\t\t\t\tsuggestedFormat: getSuggestedPostFormat(),\n\t\t\t\tsupportedFormats: themeSupports.formats,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\tconst formats = POST_FORMATS.filter( ( format ) => {\n\t\t// Ensure current format is always in the set.\n\t\t// The current format may not be a format supported by the theme.\n\t\treturn (\n\t\t\tsupportedFormats?.includes( format.id ) || postFormat === format.id\n\t\t);\n\t} );\n\tconst suggestion = formats.find(\n\t\t( format ) => format.id === suggestedFormat\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst onUpdatePostFormat = ( format ) => editPost( { format } );\n\n\treturn (\n\t\t<PostFormatCheck>\n\t\t\t<div className=\"editor-post-format\">\n\t\t\t\t<SelectControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Post Format' ) }\n\t\t\t\t\tvalue={ postFormat }\n\t\t\t\t\tonChange={ ( format ) => onUpdatePostFormat( format ) }\n\t\t\t\t\tid={ postFormatSelectorId }\n\t\t\t\t\toptions={ formats.map( ( format ) => ( {\n\t\t\t\t\t\tlabel: format.caption,\n\t\t\t\t\t\tvalue: format.id,\n\t\t\t\t\t} ) ) }\n\t\t\t\t/>\n\t\t\t\t{ suggestion && suggestion.id !== postFormat && (\n\t\t\t\t\t<p className=\"editor-post-format__suggestion\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\tonUpdatePostFormat( suggestion.id )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: post format */\n\t\t\t\t\t\t\t\t__( 'Apply suggested format: %s' ),\n\t\t\t\t\t\t\t\tsuggestion.caption\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</p>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</PostFormatCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst backup = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z\" />\n\t</SVG>\n);\n\nexport default backup;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport { store as editorStore } from '../../store';\n\nfunction PostLastRevisionCheck( { children } ) {\n\tconst { lastRevisionId, revisionsCount } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostLastRevisionId, getCurrentPostRevisionsCount } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tlastRevisionId: getCurrentPostLastRevisionId(),\n\t\t\trevisionsCount: getCurrentPostRevisionsCount(),\n\t\t};\n\t}, [] );\n\n\tif ( ! lastRevisionId || revisionsCount < 2 ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"revisions\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default PostLastRevisionCheck;\n","/**\n * WordPress dependencies\n */\nimport { sprintf, _n } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { backup } from '@wordpress/icons';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport PostLastRevisionCheck from './check';\nimport { store as editorStore } from '../../store';\n\nfunction LastRevision() {\n\tconst { lastRevisionId, revisionsCount } = useSelect( ( select ) => {\n\t\tconst { getCurrentPostLastRevisionId, getCurrentPostRevisionsCount } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tlastRevisionId: getCurrentPostLastRevisionId(),\n\t\t\trevisionsCount: getCurrentPostRevisionsCount(),\n\t\t};\n\t}, [] );\n\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<Button\n\t\t\t\thref={ addQueryArgs( 'revision.php', {\n\t\t\t\t\trevision: lastRevisionId,\n\t\t\t\t} ) }\n\t\t\t\tclassName=\"editor-post-last-revision__title\"\n\t\t\t\ticon={ backup }\n\t\t\t>\n\t\t\t\t{ sprintf(\n\t\t\t\t\t/* translators: %d: number of revisions */\n\t\t\t\t\t_n( '%d Revision', '%d Revisions', revisionsCount ),\n\t\t\t\t\trevisionsCount\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport default LastRevision;\n","/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport PostLastRevision from './';\nimport PostLastRevisionCheck from './check';\n\nfunction PostLastRevisionPanel() {\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<PanelBody className=\"editor-post-last-revision__panel\">\n\t\t\t\t<PostLastRevision />\n\t\t\t</PanelBody>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport default PostLastRevisionPanel;\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n\tModal,\n\tButton,\n\tExternalLink,\n\t__experimentalHStack as HStack,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useEffect, createInterpolateElement } from '@wordpress/element';\nimport { addAction, removeAction } from '@wordpress/hooks';\nimport { useInstanceId } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostLockedModal() {\n\tconst instanceId = useInstanceId( PostLockedModal );\n\tconst hookName = 'core/editor/post-locked-modal-' + instanceId;\n\tconst { autosave, updatePostLock } = useDispatch( editorStore );\n\tconst {\n\t\tisLocked,\n\t\tisTakeover,\n\t\tuser,\n\t\tpostId,\n\t\tpostLockUtils,\n\t\tactivePostLock,\n\t\tpostType,\n\t\tpreviewLink,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tisPostLocked,\n\t\t\tisPostLockTakeover,\n\t\t\tgetPostLockUser,\n\t\t\tgetCurrentPostId,\n\t\t\tgetActivePostLock,\n\t\t\tgetEditedPostAttribute,\n\t\t\tgetEditedPostPreviewLink,\n\t\t\tgetEditorSettings,\n\t\t} = select( editorStore );\n\t\tconst { getPostType } = select( coreStore );\n\t\treturn {\n\t\t\tisLocked: isPostLocked(),\n\t\t\tisTakeover: isPostLockTakeover(),\n\t\t\tuser: getPostLockUser(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostLockUtils: getEditorSettings().postLockUtils,\n\t\t\tactivePostLock: getActivePostLock(),\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t\tpreviewLink: getEditedPostPreviewLink(),\n\t\t};\n\t}, [] );\n\n\tuseEffect( () => {\n\t\t/**\n\t\t * Keep the lock refreshed.\n\t\t *\n\t\t * When the user does not send a heartbeat in a heartbeat-tick\n\t\t * the user is no longer editing and another user can start editing.\n\t\t *\n\t\t * @param {Object} data Data to send in the heartbeat request.\n\t\t */\n\t\tfunction sendPostLock( data ) {\n\t\t\tif ( isLocked ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdata[ 'wp-refresh-post-lock' ] = {\n\t\t\t\tlock: activePostLock,\n\t\t\t\tpost_id: postId,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Refresh post locks: update the lock string or show the dialog if somebody has taken over editing.\n\t\t *\n\t\t * @param {Object} data Data received in the heartbeat request\n\t\t */\n\t\tfunction receivePostLock( data ) {\n\t\t\tif ( ! data[ 'wp-refresh-post-lock' ] ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst received = data[ 'wp-refresh-post-lock' ];\n\t\t\tif ( received.lock_error ) {\n\t\t\t\t// Auto save and display the takeover modal.\n\t\t\t\tautosave();\n\t\t\t\tupdatePostLock( {\n\t\t\t\t\tisLocked: true,\n\t\t\t\t\tisTakeover: true,\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tname: received.lock_error.name,\n\t\t\t\t\t\tavatar: received.lock_error.avatar_src_2x,\n\t\t\t\t\t},\n\t\t\t\t} );\n\t\t\t} else if ( received.new_lock ) {\n\t\t\t\tupdatePostLock( {\n\t\t\t\t\tisLocked: false,\n\t\t\t\t\tactivePostLock: received.new_lock,\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Unlock the post before the window is exited.\n\t\t */\n\t\tfunction releasePostLock() {\n\t\t\tif ( isLocked || ! activePostLock ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst data = new window.FormData();\n\t\t\tdata.append( 'action', 'wp-remove-post-lock' );\n\t\t\tdata.append( '_wpnonce', postLockUtils.unlockNonce );\n\t\t\tdata.append( 'post_ID', postId );\n\t\t\tdata.append( 'active_post_lock', activePostLock );\n\n\t\t\tif ( window.navigator.sendBeacon ) {\n\t\t\t\twindow.navigator.sendBeacon( postLockUtils.ajaxUrl, data );\n\t\t\t} else {\n\t\t\t\tconst xhr = new window.XMLHttpRequest();\n\t\t\t\txhr.open( 'POST', postLockUtils.ajaxUrl, false );\n\t\t\t\txhr.send( data );\n\t\t\t}\n\t\t}\n\n\t\t// Details on these events on the Heartbeat API docs\n\t\t// https://developer.wordpress.org/plugins/javascript/heartbeat-api/\n\t\taddAction( 'heartbeat.send', hookName, sendPostLock );\n\t\taddAction( 'heartbeat.tick', hookName, receivePostLock );\n\t\twindow.addEventListener( 'beforeunload', releasePostLock );\n\n\t\treturn () => {\n\t\t\tremoveAction( 'heartbeat.send', hookName );\n\t\t\tremoveAction( 'heartbeat.tick', hookName );\n\t\t\twindow.removeEventListener( 'beforeunload', releasePostLock );\n\t\t};\n\t}, [] );\n\n\tif ( ! isLocked ) {\n\t\treturn null;\n\t}\n\n\tconst userDisplayName = user.name;\n\tconst userAvatar = user.avatar;\n\n\tconst unlockUrl = addQueryArgs( 'post.php', {\n\t\t'get-post-lock': '1',\n\t\tlockKey: true,\n\t\tpost: postId,\n\t\taction: 'edit',\n\t\t_wpnonce: postLockUtils.nonce,\n\t} );\n\tconst allPostsUrl = addQueryArgs( 'edit.php', {\n\t\tpost_type: postType?.slug,\n\t} );\n\tconst allPostsLabel = __( 'Exit editor' );\n\treturn (\n\t\t<Modal\n\t\t\ttitle={\n\t\t\t\tisTakeover\n\t\t\t\t\t? __( 'Someone else has taken over this post' )\n\t\t\t\t\t: __( 'This post is already being edited' )\n\t\t\t}\n\t\t\tfocusOnMount={ true }\n\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\tshouldCloseOnEsc={ false }\n\t\t\tisDismissible={ false }\n\t\t\tclassName=\"editor-post-locked-modal\"\n\t\t>\n\t\t\t<HStack alignment=\"top\" spacing={ 6 }>\n\t\t\t\t{ !! userAvatar && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ userAvatar }\n\t\t\t\t\t\talt={ __( 'Avatar' ) }\n\t\t\t\t\t\tclassName=\"editor-post-locked-modal__avatar\"\n\t\t\t\t\t\twidth={ 64 }\n\t\t\t\t\t\theight={ 64 }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<div>\n\t\t\t\t\t{ !! isTakeover && (\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: user's display name */\n\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t'<strong>%s</strong> now has editing control of this post (<PreviewLink />). Dont worry, your changes up to this moment have been saved.'\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t'Another user now has editing control of this post (<PreviewLink />). Dont worry, your changes up to this moment have been saved.'\n\t\t\t\t\t\t\t\t\t  ),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t\t\t\t\tPreviewLink: (\n\t\t\t\t\t\t\t\t\t\t<ExternalLink href={ previewLink }>\n\t\t\t\t\t\t\t\t\t\t\t{ __( 'preview' ) }\n\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</p>\n\t\t\t\t\t) }\n\t\t\t\t\t{ ! isTakeover && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ createInterpolateElement(\n\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t\t\t\t/* translators: %s: user's display name */\n\t\t\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<strong>%s</strong> is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over.'\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t\t\t\t'Another user is currently working on this post (<PreviewLink />), which means you cannot make changes, unless you take over.'\n\t\t\t\t\t\t\t\t\t\t  ),\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t\t\t\t\t\tPreviewLink: (\n\t\t\t\t\t\t\t\t\t\t\t<ExternalLink href={ previewLink }>\n\t\t\t\t\t\t\t\t\t\t\t\t{ __( 'preview' ) }\n\t\t\t\t\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t\t\t'If you take over, the other user will lose editing control to the post, but their changes will be saved.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<HStack\n\t\t\t\t\t\tclassName=\"editor-post-locked-modal__buttons\"\n\t\t\t\t\t\tjustify=\"flex-end\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ ! isTakeover && (\n\t\t\t\t\t\t\t<Button variant=\"tertiary\" href={ unlockUrl }>\n\t\t\t\t\t\t\t\t{ __( 'Take over' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button variant=\"primary\" href={ allPostsUrl }>\n\t\t\t\t\t\t\t{ allPostsLabel }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</HStack>\n\t\t\t\t</div>\n\t\t\t</HStack>\n\t\t</Modal>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function PostPendingStatusCheck( { children } ) {\n\tconst { hasPublishAction, isPublished } = useSelect( ( select ) => {\n\t\tconst { isCurrentPostPublished, getCurrentPost } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t};\n\t}, [] );\n\n\tif ( isPublished || ! hasPublishAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default PostPendingStatusCheck;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostPendingStatusCheck from './check';\nimport { store as editorStore } from '../../store';\n\nexport function PostPendingStatus() {\n\tconst status = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'status' ),\n\t\t[]\n\t);\n\tconst { editPost } = useDispatch( editorStore );\n\tconst togglePendingStatus = () => {\n\t\tconst updatedStatus = status === 'pending' ? 'draft' : 'pending';\n\t\teditPost( { status: updatedStatus } );\n\t};\n\n\treturn (\n\t\t<PostPendingStatusCheck>\n\t\t\t<CheckboxControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Pending review' ) }\n\t\t\t\tchecked={ status === 'pending' }\n\t\t\t\tonChange={ togglePendingStatus }\n\t\t\t/>\n\t\t</PostPendingStatusCheck>\n\t);\n}\n\nexport default PostPendingStatus;\n","/**\n * WordPress dependencies\n */\nimport { renderToString } from '@wordpress/element';\nimport { Button, Path, SVG, VisuallyHidden } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { applyFilters } from '@wordpress/hooks';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction writeInterstitialMessage( targetDocument ) {\n\tlet markup = renderToString(\n\t\t<div className=\"editor-post-preview-button__interstitial-message\">\n\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 96 96\">\n\t\t\t\t<Path\n\t\t\t\t\tclassName=\"outer\"\n\t\t\t\t\td=\"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<Path\n\t\t\t\t\tclassName=\"inner\"\n\t\t\t\t\td=\"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z\"\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t</SVG>\n\t\t\t<p>{ __( 'Generating preview' ) }</p>\n\t\t</div>\n\t);\n\n\tmarkup += `\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\twidth: 100vw;\n\t\t\t}\n\t\t\t@-webkit-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-moz-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-o-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg {\n\t\t\t\twidth: 192px;\n\t\t\t\theight: 192px;\n\t\t\t\tstroke: #555d66;\n\t\t\t\tstroke-width: 0.75;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg .outer,\n\t\t\t.editor-post-preview-button__interstitial-message svg .inner {\n\t\t\t\tstroke-dasharray: 280;\n\t\t\t\tstroke-dashoffset: 280;\n\t\t\t\t-webkit-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-moz-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-o-animation: paint 1.5s ease infinite alternate;\n\t\t\t\tanimation: paint 1.5s ease infinite alternate;\n\t\t\t}\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n\t\t\t}\n\t\t</style>\n\t`;\n\n\t/**\n\t * Filters the interstitial message shown when generating previews.\n\t *\n\t * @param {string} markup The preview interstitial markup.\n\t */\n\tmarkup = applyFilters( 'editor.PostPreview.interstitialMarkup', markup );\n\n\ttargetDocument.write( markup );\n\ttargetDocument.title = __( 'Generating preview' );\n\ttargetDocument.close();\n}\n\nexport default function PostPreviewButton( {\n\tclassName,\n\ttextContent,\n\tforceIsAutosaveable,\n\trole,\n\tonPreview,\n} ) {\n\tconst { postId, currentPostLink, previewLink, isSaveable, isViewable } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst editor = select( editorStore );\n\t\t\tconst core = select( coreStore );\n\n\t\t\tconst postType = core.getPostType(\n\t\t\t\teditor.getCurrentPostType( 'type' )\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tpostId: editor.getCurrentPostId(),\n\t\t\t\tcurrentPostLink: editor.getCurrentPostAttribute( 'link' ),\n\t\t\t\tpreviewLink: editor.getEditedPostPreviewLink(),\n\t\t\t\tisSaveable: editor.isEditedPostSaveable(),\n\t\t\t\tisViewable: postType?.viewable ?? false,\n\t\t\t};\n\t\t}, [] );\n\n\tconst { __unstableSaveForPreview } = useDispatch( editorStore );\n\n\tif ( ! isViewable ) {\n\t\treturn null;\n\t}\n\n\tconst targetId = `wp-preview-${ postId }`;\n\n\tconst openPreviewWindow = async ( event ) => {\n\t\t// Our Preview button has its 'href' and 'target' set correctly for a11y\n\t\t// purposes. Unfortunately, though, we can't rely on the default 'click'\n\t\t// handler since sometimes it incorrectly opens a new tab instead of reusing\n\t\t// the existing one.\n\t\t// https://github.com/WordPress/gutenberg/pull/8330\n\t\tevent.preventDefault();\n\n\t\t// Open up a Preview tab if needed. This is where we'll show the preview.\n\t\tconst previewWindow = window.open( '', targetId );\n\n\t\t// Focus the Preview tab. This might not do anything, depending on the browser's\n\t\t// and user's preferences.\n\t\t// https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus\n\t\tpreviewWindow.focus();\n\n\t\twriteInterstitialMessage( previewWindow.document );\n\n\t\tconst link = await __unstableSaveForPreview( { forceIsAutosaveable } );\n\n\t\tpreviewWindow.location = link;\n\n\t\tonPreview?.();\n\t};\n\n\t// Link to the `?preview=true` URL if we have it, since this lets us see\n\t// changes that were autosaved since the post was last published. Otherwise,\n\t// just link to the post's URL.\n\tconst href = previewLink || currentPostLink;\n\n\treturn (\n\t\t<Button\n\t\t\tvariant={ ! className ? 'tertiary' : undefined }\n\t\t\tclassName={ className || 'editor-post-preview' }\n\t\t\thref={ href }\n\t\t\ttarget={ targetId }\n\t\t\tdisabled={ ! isSaveable }\n\t\t\tonClick={ openPreviewWindow }\n\t\t\trole={ role }\n\t\t>\n\t\t\t{ textContent || (\n\t\t\t\t<>\n\t\t\t\t\t{ _x( 'Preview', 'imperative verb' ) }\n\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t}\n\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</Button>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function PublishButtonLabel( {\n\tisPublished,\n\tisBeingScheduled,\n\tisSaving,\n\tisPublishing,\n\thasPublishAction,\n\tisAutosaving,\n\thasNonPostEntityChanges,\n} ) {\n\tif ( isPublishing ) {\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\treturn __( 'Publishing' );\n\t} else if ( isPublished && isSaving && ! isAutosaving ) {\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\treturn __( 'Updating' );\n\t} else if ( isBeingScheduled && isSaving && ! isAutosaving ) {\n\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\treturn __( 'Scheduling' );\n\t}\n\n\tif ( ! hasPublishAction ) {\n\t\treturn hasNonPostEntityChanges\n\t\t\t? __( 'Submit for Review' )\n\t\t\t: __( 'Submit for Review' );\n\t} else if ( isPublished ) {\n\t\treturn hasNonPostEntityChanges ? __( 'Update' ) : __( 'Update' );\n\t} else if ( isBeingScheduled ) {\n\t\treturn hasNonPostEntityChanges ? __( 'Schedule' ) : __( 'Schedule' );\n\t}\n\n\treturn __( 'Publish' );\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tisSavingPost,\n\t\t\tisPublishingPost,\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostType,\n\t\t\tisAutosavingPost,\n\t\t} = select( editorStore );\n\t\treturn {\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisPublishing: isPublishingPost(),\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t};\n\t} ),\n] )( PublishButtonLabel );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { Component, createRef } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport PublishButtonLabel from './label';\nimport { store as editorStore } from '../../store';\n\nconst noop = () => {};\n\nexport class PostPublishButton extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.buttonNode = createRef();\n\n\t\tthis.createOnClick = this.createOnClick.bind( this );\n\t\tthis.closeEntitiesSavedStates =\n\t\t\tthis.closeEntitiesSavedStates.bind( this );\n\n\t\tthis.state = {\n\t\t\tentitiesSavedStatesCallback: false,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.props.focusOnMount ) {\n\t\t\t// This timeout is necessary to make sure the `useEffect` hook of\n\t\t\t// `useFocusReturn` gets the correct element (the button that opens the\n\t\t\t// PostPublishPanel) otherwise it will get this button.\n\t\t\tthis.timeoutID = setTimeout( () => {\n\t\t\t\tthis.buttonNode.current.focus();\n\t\t\t}, 0 );\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.timeoutID );\n\t}\n\n\tcreateOnClick( callback ) {\n\t\treturn ( ...args ) => {\n\t\t\tconst { hasNonPostEntityChanges, setEntitiesSavedStatesCallback } =\n\t\t\t\tthis.props;\n\t\t\t// If a post with non-post entities is published, but the user\n\t\t\t// elects to not save changes to the non-post entities, those\n\t\t\t// entities will still be dirty when the Publish button is clicked.\n\t\t\t// We also need to check that the `setEntitiesSavedStatesCallback`\n\t\t\t// prop was passed. See https://github.com/WordPress/gutenberg/pull/37383\n\t\t\tif ( hasNonPostEntityChanges && setEntitiesSavedStatesCallback ) {\n\t\t\t\t// The modal for multiple entity saving will open,\n\t\t\t\t// hold the callback for saving/publishing the post\n\t\t\t\t// so that we can call it if the post entity is checked.\n\t\t\t\tthis.setState( {\n\t\t\t\t\tentitiesSavedStatesCallback: () => callback( ...args ),\n\t\t\t\t} );\n\n\t\t\t\t// Open the save panel by setting its callback.\n\t\t\t\t// To set a function on the useState hook, we must set it\n\t\t\t\t// with another function (() => myFunction). Passing the\n\t\t\t\t// function on its own will cause an error when called.\n\t\t\t\tsetEntitiesSavedStatesCallback(\n\t\t\t\t\t() => this.closeEntitiesSavedStates\n\t\t\t\t);\n\t\t\t\treturn noop;\n\t\t\t}\n\n\t\t\treturn callback( ...args );\n\t\t};\n\t}\n\n\tcloseEntitiesSavedStates( savedEntities ) {\n\t\tconst { postType, postId } = this.props;\n\t\tconst { entitiesSavedStatesCallback } = this.state;\n\t\tthis.setState( { entitiesSavedStatesCallback: false }, () => {\n\t\t\tif (\n\t\t\t\tsavedEntities &&\n\t\t\t\tsavedEntities.some(\n\t\t\t\t\t( elt ) =>\n\t\t\t\t\t\telt.kind === 'postType' &&\n\t\t\t\t\t\telt.name === postType &&\n\t\t\t\t\t\telt.key === postId\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// The post entity was checked, call the held callback from `createOnClick`.\n\t\t\t\tentitiesSavedStatesCallback();\n\t\t\t}\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tforceIsDirty,\n\t\t\thasPublishAction,\n\t\t\tisBeingScheduled,\n\t\t\tisOpen,\n\t\t\tisPostSavingLocked,\n\t\t\tisPublishable,\n\t\t\tisPublished,\n\t\t\tisSaveable,\n\t\t\tisSaving,\n\t\t\tisAutoSaving,\n\t\t\tisToggle,\n\t\t\tonSave,\n\t\t\tonStatusChange,\n\t\t\tonSubmit = noop,\n\t\t\tonToggle,\n\t\t\tvisibility,\n\t\t\thasNonPostEntityChanges,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t} = this.props;\n\n\t\tconst isButtonDisabled =\n\t\t\t( isSaving ||\n\t\t\t\t! isSaveable ||\n\t\t\t\tisPostSavingLocked ||\n\t\t\t\t( ! isPublishable && ! forceIsDirty ) ) &&\n\t\t\t( ! hasNonPostEntityChanges || isSavingNonPostEntityChanges );\n\n\t\tconst isToggleDisabled =\n\t\t\t( isPublished ||\n\t\t\t\tisSaving ||\n\t\t\t\t! isSaveable ||\n\t\t\t\t( ! isPublishable && ! forceIsDirty ) ) &&\n\t\t\t( ! hasNonPostEntityChanges || isSavingNonPostEntityChanges );\n\n\t\tlet publishStatus;\n\t\tif ( ! hasPublishAction ) {\n\t\t\tpublishStatus = 'pending';\n\t\t} else if ( visibility === 'private' ) {\n\t\t\tpublishStatus = 'private';\n\t\t} else if ( isBeingScheduled ) {\n\t\t\tpublishStatus = 'future';\n\t\t} else {\n\t\t\tpublishStatus = 'publish';\n\t\t}\n\n\t\tconst onClickButton = () => {\n\t\t\tif ( isButtonDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSubmit();\n\t\t\tonStatusChange( publishStatus );\n\t\t\tonSave();\n\t\t};\n\n\t\tconst onClickToggle = () => {\n\t\t\tif ( isToggleDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonToggle();\n\t\t};\n\n\t\tconst buttonProps = {\n\t\t\t'aria-disabled': isButtonDisabled,\n\t\t\tclassName: 'editor-post-publish-button',\n\t\t\tisBusy: ! isAutoSaving && isSaving,\n\t\t\tvariant: 'primary',\n\t\t\tonClick: this.createOnClick( onClickButton ),\n\t\t};\n\n\t\tconst toggleProps = {\n\t\t\t'aria-disabled': isToggleDisabled,\n\t\t\t'aria-expanded': isOpen,\n\t\t\tclassName: 'editor-post-publish-panel__toggle',\n\t\t\tisBusy: isSaving && isPublished,\n\t\t\tvariant: 'primary',\n\t\t\tsize: 'compact',\n\t\t\tonClick: this.createOnClick( onClickToggle ),\n\t\t};\n\n\t\tconst toggleChildren = isBeingScheduled\n\t\t\t? __( 'Schedule' )\n\t\t\t: __( 'Publish' );\n\t\tconst buttonChildren = (\n\t\t\t<PublishButtonLabel\n\t\t\t\thasNonPostEntityChanges={ hasNonPostEntityChanges }\n\t\t\t/>\n\t\t);\n\n\t\tconst componentProps = isToggle ? toggleProps : buttonProps;\n\t\tconst componentChildren = isToggle ? toggleChildren : buttonChildren;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\tref={ this.buttonNode }\n\t\t\t\t\t{ ...componentProps }\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\tcomponentProps.className,\n\t\t\t\t\t\t'editor-post-publish-button__button',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'has-changes-dot': hasNonPostEntityChanges,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ componentChildren }\n\t\t\t\t</Button>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tisSavingPost,\n\t\t\tisAutosavingPost,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tgetEditedPostVisibility,\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostSaveable,\n\t\t\tisEditedPostPublishable,\n\t\t\tisPostSavingLocked,\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentPostId,\n\t\t\thasNonPostEntityChanges,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t} = select( editorStore );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisAutoSaving: isAutosavingPost(),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tvisibility: getEditedPostVisibility(),\n\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\tisPostSavingLocked: isPostSavingLocked(),\n\t\t\tisPublishable: isEditedPostPublishable(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\thasNonPostEntityChanges: hasNonPostEntityChanges(),\n\t\t\tisSavingNonPostEntityChanges: isSavingNonPostEntityChanges(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost, savePost } = dispatch( editorStore );\n\t\treturn {\n\t\t\tonStatusChange: ( status ) =>\n\t\t\t\teditPost( { status }, { undoIgnore: true } ),\n\t\t\tonSave: savePost,\n\t\t};\n\t} ),\n] )( PostPublishButton );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst closeSmall = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\" />\n\t</SVG>\n);\n\nexport default closeSmall;\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst wordpress = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z\" />\n\t</SVG>\n);\n\nexport default wordpress;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const visibilityOptions = {\n\tpublic: {\n\t\tlabel: __( 'Public' ),\n\t\tinfo: __( 'Visible to everyone.' ),\n\t},\n\tprivate: {\n\t\tlabel: __( 'Private' ),\n\t\tinfo: __( 'Only visible to site admins and editors.' ),\n\t},\n\tpassword: {\n\t\tlabel: __( 'Password protected' ),\n\t\tinfo: __( 'Only those with the password can view this post.' ),\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport {\n\tVisuallyHidden,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { visibilityOptions } from './utils';\nimport { store as editorStore } from '../../store';\n\nexport default function PostVisibility( { onClose } ) {\n\tconst instanceId = useInstanceId( PostVisibility );\n\n\tconst { status, visibility, password } = useSelect( ( select ) => ( {\n\t\tstatus: select( editorStore ).getEditedPostAttribute( 'status' ),\n\t\tvisibility: select( editorStore ).getEditedPostVisibility(),\n\t\tpassword: select( editorStore ).getEditedPostAttribute( 'password' ),\n\t} ) );\n\n\tconst { editPost, savePost } = useDispatch( editorStore );\n\n\tconst [ hasPassword, setHasPassword ] = useState( !! password );\n\tconst [ showPrivateConfirmDialog, setShowPrivateConfirmDialog ] =\n\t\tuseState( false );\n\n\tconst setPublic = () => {\n\t\teditPost( {\n\t\t\tstatus: visibility === 'private' ? 'draft' : status,\n\t\t\tpassword: '',\n\t\t} );\n\t\tsetHasPassword( false );\n\t};\n\n\tconst setPrivate = () => {\n\t\tsetShowPrivateConfirmDialog( true );\n\t};\n\n\tconst confirmPrivate = () => {\n\t\teditPost( { status: 'private', password: '' } );\n\t\tsetHasPassword( false );\n\t\tsetShowPrivateConfirmDialog( false );\n\t\tsavePost();\n\t};\n\n\tconst handleDialogCancel = () => {\n\t\tsetShowPrivateConfirmDialog( false );\n\t};\n\n\tconst setPasswordProtected = () => {\n\t\teditPost( {\n\t\t\tstatus: visibility === 'private' ? 'draft' : status,\n\t\t\tpassword: password || '',\n\t\t} );\n\t\tsetHasPassword( true );\n\t};\n\n\tconst updatePassword = ( event ) => {\n\t\teditPost( { password: event.target.value } );\n\t};\n\n\treturn (\n\t\t<div className=\"editor-post-visibility\">\n\t\t\t<InspectorPopoverHeader\n\t\t\t\ttitle={ __( 'Visibility' ) }\n\t\t\t\thelp={ __( 'Control how this post is viewed.' ) }\n\t\t\t\tonClose={ onClose }\n\t\t\t/>\n\t\t\t<fieldset className=\"editor-post-visibility__fieldset\">\n\t\t\t\t<VisuallyHidden as=\"legend\">\n\t\t\t\t\t{ __( 'Visibility' ) }\n\t\t\t\t</VisuallyHidden>\n\t\t\t\t<PostVisibilityChoice\n\t\t\t\t\tinstanceId={ instanceId }\n\t\t\t\t\tvalue=\"public\"\n\t\t\t\t\tlabel={ visibilityOptions.public.label }\n\t\t\t\t\tinfo={ visibilityOptions.public.info }\n\t\t\t\t\tchecked={ visibility === 'public' && ! hasPassword }\n\t\t\t\t\tonChange={ setPublic }\n\t\t\t\t/>\n\t\t\t\t<PostVisibilityChoice\n\t\t\t\t\tinstanceId={ instanceId }\n\t\t\t\t\tvalue=\"private\"\n\t\t\t\t\tlabel={ visibilityOptions.private.label }\n\t\t\t\t\tinfo={ visibilityOptions.private.info }\n\t\t\t\t\tchecked={ visibility === 'private' }\n\t\t\t\t\tonChange={ setPrivate }\n\t\t\t\t/>\n\t\t\t\t<PostVisibilityChoice\n\t\t\t\t\tinstanceId={ instanceId }\n\t\t\t\t\tvalue=\"password\"\n\t\t\t\t\tlabel={ visibilityOptions.password.label }\n\t\t\t\t\tinfo={ visibilityOptions.password.info }\n\t\t\t\t\tchecked={ hasPassword }\n\t\t\t\t\tonChange={ setPasswordProtected }\n\t\t\t\t/>\n\t\t\t\t{ hasPassword && (\n\t\t\t\t\t<div className=\"editor-post-visibility__password\">\n\t\t\t\t\t\t<VisuallyHidden\n\t\t\t\t\t\t\tas=\"label\"\n\t\t\t\t\t\t\thtmlFor={ `editor-post-visibility__password-input-${ instanceId }` }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Create password' ) }\n\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"editor-post-visibility__password-input\"\n\t\t\t\t\t\t\tid={ `editor-post-visibility__password-input-${ instanceId }` }\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tonChange={ updatePassword }\n\t\t\t\t\t\t\tvalue={ password }\n\t\t\t\t\t\t\tplaceholder={ __( 'Use a secure password' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</fieldset>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showPrivateConfirmDialog }\n\t\t\t\tonConfirm={ confirmPrivate }\n\t\t\t\tonCancel={ handleDialogCancel }\n\t\t\t>\n\t\t\t\t{ __( 'Would you like to privately publish this post now?' ) }\n\t\t\t</ConfirmDialog>\n\t\t</div>\n\t);\n}\n\nfunction PostVisibilityChoice( { instanceId, value, label, info, ...props } ) {\n\treturn (\n\t\t<div className=\"editor-post-visibility__choice\">\n\t\t\t<input\n\t\t\t\ttype=\"radio\"\n\t\t\t\tname={ `editor-post-visibility__setting-${ instanceId }` }\n\t\t\t\tvalue={ value }\n\t\t\t\tid={ `editor-post-${ value }-${ instanceId }` }\n\t\t\t\taria-describedby={ `editor-post-${ value }-${ instanceId }-description` }\n\t\t\t\tclassName=\"editor-post-visibility__radio\"\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t\t<label\n\t\t\t\thtmlFor={ `editor-post-${ value }-${ instanceId }` }\n\t\t\t\tclassName=\"editor-post-visibility__label\"\n\t\t\t>\n\t\t\t\t{ label }\n\t\t\t</label>\n\t\t\t<p\n\t\t\t\tid={ `editor-post-${ value }-${ instanceId }-description` }\n\t\t\t\tclassName=\"editor-post-visibility__info\"\n\t\t\t>\n\t\t\t\t{ info }\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { visibilityOptions } from './utils';\nimport { store as editorStore } from '../../store';\n\nexport default function PostVisibilityLabel() {\n\treturn usePostVisibilityLabel();\n}\n\nexport function usePostVisibilityLabel() {\n\tconst visibility = useSelect( ( select ) =>\n\t\tselect( editorStore ).getEditedPostVisibility()\n\t);\n\treturn visibilityOptions[ visibility ]?.label;\n}\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport default function startOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport default function endOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","/**\n * Days in 1 week.\n *\n * @name daysInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInWeek = 7;\n\n/**\n * Days in 1 year\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n *\n * @name daysInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInYear = 365.2425;\n\n/**\n * Maximum allowed time.\n *\n * @name maxTime\n * @constant\n * @type {number}\n * @default\n */\nexport var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * Milliseconds in 1 minute\n *\n * @name millisecondsInMinute\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInMinute = 60000;\n\n/**\n * Milliseconds in 1 hour\n *\n * @name millisecondsInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInHour = 3600000;\n\n/**\n * Milliseconds in 1 second\n *\n * @name millisecondsInSecond\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInSecond = 1000;\n\n/**\n * Minimum allowed time.\n *\n * @name minTime\n * @constant\n * @type {number}\n * @default\n */\nexport var minTime = -maxTime;\n\n/**\n * Minutes in 1 hour\n *\n * @name minutesInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var minutesInHour = 60;\n\n/**\n * Months in 1 quarter\n *\n * @name monthsInQuarter\n * @constant\n * @type {number}\n * @default\n */\nexport var monthsInQuarter = 3;\n\n/**\n * Months in 1 year\n *\n * @name monthsInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var monthsInYear = 12;\n\n/**\n * Quarters in 1 year\n *\n * @name quartersInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var quartersInYear = 4;\n\n/**\n * Seconds in 1 hour\n *\n * @name secondsInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInHour = 3600;\n\n/**\n * Seconds in 1 minute\n *\n * @name secondsInMinute\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInMinute = 60;\n\n/**\n * Seconds in 1 day\n *\n * @name secondsInDay\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInDay = secondsInHour * 24;\n\n/**\n * Seconds in 1 week\n *\n * @name secondsInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInWeek = secondsInDay * 7;\n\n/**\n * Seconds in 1 year\n *\n * @name secondsInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInYear = secondsInDay * daysInYear;\n\n/**\n * Seconds in 1 month\n *\n * @name secondsInMonth\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInMonth = secondsInYear / 12;\n\n/**\n * Seconds in 1 quarter\n *\n * @name secondsInQuarter\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInQuarter = secondsInMonth * 3;","import { millisecondsInHour, millisecondsInMinute } from \"../constants/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @param {String} argument - the value to convert\n * @param {Object} [options] - an object with options.\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport default function parseISO(argument, options) {\n  var _options$additionalDi;\n  requiredArgs(1, arguments);\n  var additionalDigits = toInteger((_options$additionalDi = options === null || options === void 0 ? void 0 : options.additionalDigits) !== null && _options$additionalDi !== void 0 ? _options$additionalDi : 2);\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  }\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n  var dateStrings = splitDateString(argument);\n  var date;\n  if (dateStrings.date) {\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n  if (!date || isNaN(date.getTime())) {\n    return new Date(NaN);\n  }\n  var timestamp = date.getTime();\n  var time = 0;\n  var offset;\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) {\n      return new Date(NaN);\n    }\n  }\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    var dirtyDate = new Date(timestamp + time);\n    // js parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n    var result = new Date(0);\n    result.setFullYear(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate());\n    result.setHours(dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\n    return result;\n  }\n  return new Date(timestamp + time + offset);\n}\nvar patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/\n};\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns.dateTimeDelimiter);\n  var timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n  if (timeString) {\n    var token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n  return dateStrings;\n}\nfunction parseYear(dateString, additionalDigits) {\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\n  var captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return {\n    year: NaN,\n    restDateString: ''\n  };\n  var year = captures[1] ? parseInt(captures[1]) : null;\n  var century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\n  };\n}\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n  var captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n  var isWeekDate = !!captures[4];\n  var dayOfYear = parseDateUnit(captures[1]);\n  var month = parseDateUnit(captures[2]) - 1;\n  var day = parseDateUnit(captures[3]);\n  var week = parseDateUnit(captures[4]);\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    var date = new Date(0);\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\nfunction parseTime(timeString) {\n  var captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  var hours = parseTimeUnit(captures[1]);\n  var minutes = parseTimeUnit(captures[2]);\n  var seconds = parseTimeUnit(captures[3]);\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n  return hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000;\n}\nfunction parseTimeUnit(value) {\n  return value && parseFloat(value.replace(',', '.')) || 0;\n}\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === 'Z') return 0;\n  var captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n  var sign = captures[1] === '+' ? -1 : 1;\n  var hours = parseInt(captures[2]);\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}\nfunction validateDate(year, month, date) {\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\n}\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\n}\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}","/**\n * External dependencies\n */\nimport { parseISO, endOfMonth, startOfMonth } from 'date-fns';\n\n/**\n * WordPress dependencies\n */\nimport { getSettings } from '@wordpress/date';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __experimentalPublishDateTimePicker as PublishDateTimePicker } from '@wordpress/block-editor';\nimport { useState, useMemo } from '@wordpress/element';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostSchedule( { onClose } ) {\n\tconst { postDate, postType } = useSelect(\n\t\t( select ) => ( {\n\t\t\tpostDate: select( editorStore ).getEditedPostAttribute( 'date' ),\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t} ),\n\t\t[]\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst onUpdateDate = ( date ) => editPost( { date } );\n\n\tconst [ previewedMonth, setPreviewedMonth ] = useState(\n\t\tstartOfMonth( new Date( postDate ) )\n\t);\n\n\t// Pick up published and schduled site posts.\n\tconst eventsByPostType = useSelect(\n\t\t( select ) =>\n\t\t\tselect( coreStore ).getEntityRecords( 'postType', postType, {\n\t\t\t\tstatus: 'publish,future',\n\t\t\t\tafter: startOfMonth( previewedMonth ).toISOString(),\n\t\t\t\tbefore: endOfMonth( previewedMonth ).toISOString(),\n\t\t\t\texclude: [ select( editorStore ).getCurrentPostId() ],\n\t\t\t\tper_page: 100,\n\t\t\t\t_fields: 'id,date',\n\t\t\t} ),\n\t\t[ previewedMonth, postType ]\n\t);\n\n\tconst events = useMemo(\n\t\t() =>\n\t\t\t( eventsByPostType || [] ).map( ( { date: eventDate } ) => ( {\n\t\t\t\tdate: new Date( eventDate ),\n\t\t\t} ) ),\n\t\t[ eventsByPostType ]\n\t);\n\n\tconst settings = getSettings();\n\n\t// To know if the current timezone is a 12 hour time with look for \"a\" in the time format\n\t// We also make sure this a is not escaped by a \"/\"\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase() // Test only the lower case a.\n\t\t\t.replace( /\\\\\\\\/g, '' ) // Replace \"//\" with empty strings.\n\t\t\t.split( '' )\n\t\t\t.reverse()\n\t\t\t.join( '' ) // Reverse the string and test for \"a\" not followed by a slash.\n\t);\n\n\treturn (\n\t\t<PublishDateTimePicker\n\t\t\tcurrentDate={ postDate }\n\t\t\tonChange={ onUpdateDate }\n\t\t\tis12Hour={ is12HourTime }\n\t\t\tevents={ events }\n\t\t\tonMonthPreviewed={ ( date ) =>\n\t\t\t\tsetPreviewedMonth( parseISO( date ) )\n\t\t\t}\n\t\t\tonClose={ onClose }\n\t\t/>\n\t);\n}\n","export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}","/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf, isRTL } from '@wordpress/i18n';\nimport { getSettings, getDate, dateI18n } from '@wordpress/date';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostScheduleLabel( props ) {\n\treturn usePostScheduleLabel( props );\n}\n\nexport function usePostScheduleLabel( { full = false } = {} ) {\n\tconst { date, isFloating } = useSelect(\n\t\t( select ) => ( {\n\t\t\tdate: select( editorStore ).getEditedPostAttribute( 'date' ),\n\t\t\tisFloating: select( editorStore ).isEditedPostDateFloating(),\n\t\t} ),\n\t\t[]\n\t);\n\n\treturn full\n\t\t? getFullPostScheduleLabel( date )\n\t\t: getPostScheduleLabel( date, { isFloating } );\n}\n\nexport function getFullPostScheduleLabel( dateAttribute ) {\n\tconst date = getDate( dateAttribute );\n\n\tconst timezoneAbbreviation = getTimezoneAbbreviation();\n\tconst formattedDate = dateI18n(\n\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t_x( 'F j, Y g:i\\xa0a', 'post schedule full date format' ),\n\t\tdate\n\t);\n\treturn isRTL()\n\t\t? `${ timezoneAbbreviation } ${ formattedDate }`\n\t\t: `${ formattedDate } ${ timezoneAbbreviation }`;\n}\n\nexport function getPostScheduleLabel(\n\tdateAttribute,\n\t{ isFloating = false, now = new Date() } = {}\n) {\n\tif ( ! dateAttribute || isFloating ) {\n\t\treturn __( 'Immediately' );\n\t}\n\n\t// If the user timezone does not equal the site timezone then using words\n\t// like 'tomorrow' is confusing, so show the full date.\n\tif ( ! isTimezoneSameAsSiteTimezone( now ) ) {\n\t\treturn getFullPostScheduleLabel( dateAttribute );\n\t}\n\n\tconst date = getDate( dateAttribute );\n\n\tif ( isSameDay( date, now ) ) {\n\t\treturn sprintf(\n\t\t\t// translators: %s: Time of day the post is scheduled for.\n\t\t\t__( 'Today at %s' ),\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\tdateI18n( _x( 'g:i\\xa0a', 'post schedule time format' ), date )\n\t\t);\n\t}\n\n\tconst tomorrow = new Date( now );\n\ttomorrow.setDate( tomorrow.getDate() + 1 );\n\n\tif ( isSameDay( date, tomorrow ) ) {\n\t\treturn sprintf(\n\t\t\t// translators: %s: Time of day the post is scheduled for.\n\t\t\t__( 'Tomorrow at %s' ),\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\tdateI18n( _x( 'g:i\\xa0a', 'post schedule time format' ), date )\n\t\t);\n\t}\n\n\tif ( date.getFullYear() === now.getFullYear() ) {\n\t\treturn dateI18n(\n\t\t\t// translators: If using a space between 'g:i' and 'a', use a non-breaking space.\n\t\t\t_x( 'F j g:i\\xa0a', 'post schedule date format without year' ),\n\t\t\tdate\n\t\t);\n\t}\n\n\treturn dateI18n(\n\t\t// translators: Use a non-breaking space between 'g:i' and 'a' if appropriate.\n\t\t_x( 'F j, Y g:i\\xa0a', 'post schedule full date format' ),\n\t\tdate\n\t);\n}\n\nfunction getTimezoneAbbreviation() {\n\tconst { timezone } = getSettings();\n\n\tif ( timezone.abbr && isNaN( Number( timezone.abbr ) ) ) {\n\t\treturn timezone.abbr;\n\t}\n\n\tconst symbol = timezone.offset < 0 ? '' : '+';\n\treturn `UTC${ symbol }${ timezone.offset }`;\n}\n\nfunction isTimezoneSameAsSiteTimezone( date ) {\n\tconst { timezone } = getSettings();\n\n\tconst siteOffset = Number( timezone.offset );\n\tconst dateOffset = -1 * ( date.getTimezoneOffset() / 60 );\n\treturn siteOffset === dateOffset;\n}\n\nfunction isSameDay( left, right ) {\n\treturn (\n\t\tleft.getDate() === right.getDate() &&\n\t\tleft.getMonth() === right.getMonth() &&\n\t\tleft.getFullYear() === right.getFullYear()\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"a11y\"];","/**\n * WordPress dependencies\n */\nimport { BaseControl, Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { unescapeTerms } from '../../utils/terms';\n\nconst MIN_MOST_USED_TERMS = 3;\nconst DEFAULT_QUERY = {\n\tper_page: 10,\n\torderby: 'count',\n\torder: 'desc',\n\thide_empty: true,\n\t_fields: 'id,name,count',\n\tcontext: 'view',\n};\n\nexport default function MostUsedTerms( { onSelect, taxonomy } ) {\n\tconst { _terms, showTerms } = useSelect(\n\t\t( select ) => {\n\t\t\tconst mostUsedTerms = select( coreStore ).getEntityRecords(\n\t\t\t\t'taxonomy',\n\t\t\t\ttaxonomy.slug,\n\t\t\t\tDEFAULT_QUERY\n\t\t\t);\n\t\t\treturn {\n\t\t\t\t_terms: mostUsedTerms,\n\t\t\t\tshowTerms: mostUsedTerms?.length >= MIN_MOST_USED_TERMS,\n\t\t\t};\n\t\t},\n\t\t[ taxonomy.slug ]\n\t);\n\n\tif ( ! showTerms ) {\n\t\treturn null;\n\t}\n\n\tconst terms = unescapeTerms( _terms );\n\n\treturn (\n\t\t<div className=\"editor-post-taxonomies__flat-term-most-used\">\n\t\t\t<BaseControl.VisualLabel\n\t\t\t\tas=\"h3\"\n\t\t\t\tclassName=\"editor-post-taxonomies__flat-term-most-used-label\"\n\t\t\t>\n\t\t\t\t{ taxonomy.labels.most_used }\n\t\t\t</BaseControl.VisualLabel>\n\t\t\t{ /*\n\t\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t\t */\n\t\t\t/* eslint-disable jsx-a11y/no-redundant-roles */ }\n\t\t\t<ul\n\t\t\t\trole=\"list\"\n\t\t\t\tclassName=\"editor-post-taxonomies__flat-term-most-used-list\"\n\t\t\t>\n\t\t\t\t{ terms.map( ( term ) => (\n\t\t\t\t\t<li key={ term.id }>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\tonClick={ () => onSelect( term ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ term.name }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</li>\n\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t\t{ /* eslint-enable jsx-a11y/no-redundant-roles */ }\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useEffect, useMemo, useState } from '@wordpress/element';\nimport { FormTokenField, withFilters } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useDebounce } from '@wordpress/compose';\nimport { speak } from '@wordpress/a11y';\nimport { store as noticesStore } from '@wordpress/notices';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { unescapeString, unescapeTerm } from '../../utils/terms';\nimport MostUsedTerms from './most-used-terms';\n\n/**\n * Shared reference to an empty array for cases where it is important to avoid\n * returning a new array reference on every invocation.\n *\n * @type {Array<any>}\n */\nconst EMPTY_ARRAY = [];\n\n/**\n * Module constants\n */\nconst MAX_TERMS_SUGGESTIONS = 20;\nconst DEFAULT_QUERY = {\n\tper_page: MAX_TERMS_SUGGESTIONS,\n\t_fields: 'id,name',\n\tcontext: 'view',\n};\n\nconst isSameTermName = ( termA, termB ) =>\n\tunescapeString( termA ).toLowerCase() ===\n\tunescapeString( termB ).toLowerCase();\n\nconst termNamesToIds = ( names, terms ) => {\n\treturn names.map(\n\t\t( termName ) =>\n\t\t\tterms.find( ( term ) => isSameTermName( term.name, termName ) ).id\n\t);\n};\n\nexport function FlatTermSelector( { slug } ) {\n\tconst [ values, setValues ] = useState( [] );\n\tconst [ search, setSearch ] = useState( '' );\n\tconst debouncedSearch = useDebounce( setSearch, 500 );\n\n\tconst {\n\t\tterms,\n\t\ttermIds,\n\t\ttaxonomy,\n\t\thasAssignAction,\n\t\thasCreateAction,\n\t\thasResolvedTerms,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPost, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getEntityRecords, getTaxonomy, hasFinishedResolution } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst post = getCurrentPost();\n\t\t\tconst _taxonomy = getTaxonomy( slug );\n\t\t\tconst _termIds = _taxonomy\n\t\t\t\t? getEditedPostAttribute( _taxonomy.rest_base )\n\t\t\t\t: EMPTY_ARRAY;\n\n\t\t\tconst query = {\n\t\t\t\t...DEFAULT_QUERY,\n\t\t\t\tinclude: _termIds.join( ',' ),\n\t\t\t\tper_page: -1,\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\thasCreateAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-create-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\thasAssignAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-assign-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\ttaxonomy: _taxonomy,\n\t\t\t\ttermIds: _termIds,\n\t\t\t\tterms: _termIds.length\n\t\t\t\t\t? getEntityRecords( 'taxonomy', slug, query )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t\thasResolvedTerms: hasFinishedResolution( 'getEntityRecords', [\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\tslug,\n\t\t\t\t\tquery,\n\t\t\t\t] ),\n\t\t\t};\n\t\t},\n\t\t[ slug ]\n\t);\n\n\tconst { searchResults } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getEntityRecords } = select( coreStore );\n\n\t\t\treturn {\n\t\t\t\tsearchResults: !! search\n\t\t\t\t\t? getEntityRecords( 'taxonomy', slug, {\n\t\t\t\t\t\t\t...DEFAULT_QUERY,\n\t\t\t\t\t\t\tsearch,\n\t\t\t\t\t  } )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t};\n\t\t},\n\t\t[ search, slug ]\n\t);\n\n\t// Update terms state only after the selectors are resolved.\n\t// We're using this to avoid terms temporarily disappearing on slow networks\n\t// while core data makes REST API requests.\n\tuseEffect( () => {\n\t\tif ( hasResolvedTerms ) {\n\t\t\tconst newValues = ( terms ?? [] ).map( ( term ) =>\n\t\t\t\tunescapeString( term.name )\n\t\t\t);\n\n\t\t\tsetValues( newValues );\n\t\t}\n\t}, [ terms, hasResolvedTerms ] );\n\n\tconst suggestions = useMemo( () => {\n\t\treturn ( searchResults ?? [] ).map( ( term ) =>\n\t\t\tunescapeString( term.name )\n\t\t);\n\t}, [ searchResults ] );\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tif ( ! hasAssignAction ) {\n\t\treturn null;\n\t}\n\n\tasync function findOrCreateTerm( term ) {\n\t\ttry {\n\t\t\tconst newTerm = await saveEntityRecord( 'taxonomy', slug, term, {\n\t\t\t\tthrowOnError: true,\n\t\t\t} );\n\t\t\treturn unescapeTerm( newTerm );\n\t\t} catch ( error ) {\n\t\t\tif ( error.code !== 'term_exists' ) {\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: error.data.term_id,\n\t\t\t\tname: term.name,\n\t\t\t};\n\t\t}\n\t}\n\n\tfunction onUpdateTerms( newTermIds ) {\n\t\teditPost( { [ taxonomy.rest_base ]: newTermIds } );\n\t}\n\n\tfunction onChange( termNames ) {\n\t\tconst availableTerms = [\n\t\t\t...( terms ?? [] ),\n\t\t\t...( searchResults ?? [] ),\n\t\t];\n\t\tconst uniqueTerms = termNames.reduce( ( acc, name ) => {\n\t\t\tif (\n\t\t\t\t! acc.some( ( n ) => n.toLowerCase() === name.toLowerCase() )\n\t\t\t) {\n\t\t\t\tacc.push( name );\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, [] );\n\n\t\tconst newTermNames = uniqueTerms.filter(\n\t\t\t( termName ) =>\n\t\t\t\t! availableTerms.find( ( term ) =>\n\t\t\t\t\tisSameTermName( term.name, termName )\n\t\t\t\t)\n\t\t);\n\n\t\t// Optimistically update term values.\n\t\t// The selector will always re-fetch terms later.\n\t\tsetValues( uniqueTerms );\n\n\t\tif ( newTermNames.length === 0 ) {\n\t\t\treturn onUpdateTerms(\n\t\t\t\ttermNamesToIds( uniqueTerms, availableTerms )\n\t\t\t);\n\t\t}\n\n\t\tif ( ! hasCreateAction ) {\n\t\t\treturn;\n\t\t}\n\n\t\tPromise.all(\n\t\t\tnewTermNames.map( ( termName ) =>\n\t\t\t\tfindOrCreateTerm( { name: termName } )\n\t\t\t)\n\t\t)\n\t\t\t.then( ( newTerms ) => {\n\t\t\t\tconst newAvailableTerms = availableTerms.concat( newTerms );\n\t\t\t\treturn onUpdateTerms(\n\t\t\t\t\ttermNamesToIds( uniqueTerms, newAvailableTerms )\n\t\t\t\t);\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tcreateErrorNotice( error.message, {\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t} );\n\t\t\t} );\n\t}\n\n\tfunction appendTerm( newTerm ) {\n\t\tif ( termIds.includes( newTerm.id ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newTermIds = [ ...termIds, newTerm.id ];\n\t\tconst defaultName = slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' );\n\t\tconst termAddedMessage = sprintf(\n\t\t\t/* translators: %s: term name. */\n\t\t\t_x( '%s added', 'term' ),\n\t\t\ttaxonomy?.labels?.singular_name ?? defaultName\n\t\t);\n\n\t\tspeak( termAddedMessage, 'assertive' );\n\t\tonUpdateTerms( newTermIds );\n\t}\n\n\tconst newTermLabel =\n\t\ttaxonomy?.labels?.add_new_item ??\n\t\t( slug === 'post_tag' ? __( 'Add new tag' ) : __( 'Add new Term' ) );\n\tconst singularName =\n\t\ttaxonomy?.labels?.singular_name ??\n\t\t( slug === 'post_tag' ? __( 'Tag' ) : __( 'Term' ) );\n\tconst termAddedLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( '%s added', 'term' ),\n\t\tsingularName\n\t);\n\tconst termRemovedLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( '%s removed', 'term' ),\n\t\tsingularName\n\t);\n\tconst removeTermLabel = sprintf(\n\t\t/* translators: %s: term name. */\n\t\t_x( 'Remove %s', 'term' ),\n\t\tsingularName\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<FormTokenField\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tvalue={ values }\n\t\t\t\tsuggestions={ suggestions }\n\t\t\t\tonChange={ onChange }\n\t\t\t\tonInputChange={ debouncedSearch }\n\t\t\t\tmaxSuggestions={ MAX_TERMS_SUGGESTIONS }\n\t\t\t\tlabel={ newTermLabel }\n\t\t\t\tmessages={ {\n\t\t\t\t\tadded: termAddedLabel,\n\t\t\t\t\tremoved: termRemovedLabel,\n\t\t\t\t\tremove: removeTermLabel,\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<MostUsedTerms taxonomy={ taxonomy } onSelect={ appendTerm } />\n\t\t</>\n\t);\n}\n\nexport default withFilters( 'editor.PostTaxonomyType' )( FlatTermSelector );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose, ifCondition } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport FlatTermSelector from '../post-taxonomies/flat-term-selector';\nimport { store as editorStore } from '../../store';\n\nconst TagsPanel = () => {\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'Add tags' ) }\n\t\t</span>,\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Tags help users and search engines navigate your site and find your content. Add a few keywords to describe your post.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<FlatTermSelector slug={ 'post_tag' } />\n\t\t</PanelBody>\n\t);\n};\n\nclass MaybeTagsPanel extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\thadTagsWhenOpeningThePanel: props.hasTags,\n\t\t};\n\t}\n\n\t/*\n\t * We only want to show the tag panel if the post didn't have\n\t * any tags when the user hit the Publish button.\n\t *\n\t * We can't use the prop.hasTags because it'll change to true\n\t * if the user adds a new tag within the pre-publish panel.\n\t * This would force a re-render and a new prop.hasTags check,\n\t * hiding this panel and keeping the user from adding\n\t * more than one tag.\n\t */\n\trender() {\n\t\tif ( ! this.state.hadTagsWhenOpeningThePanel ) {\n\t\t\treturn <TagsPanel />;\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst postType = select( editorStore ).getCurrentPostType();\n\t\tconst tagsTaxonomy = select( coreStore ).getTaxonomy( 'post_tag' );\n\t\tconst tags =\n\t\t\ttagsTaxonomy &&\n\t\t\tselect( editorStore ).getEditedPostAttribute(\n\t\t\t\ttagsTaxonomy.rest_base\n\t\t\t);\n\t\treturn {\n\t\t\tareTagsFetched: tagsTaxonomy !== undefined,\n\t\t\tisPostTypeSupported:\n\t\t\t\ttagsTaxonomy &&\n\t\t\t\ttagsTaxonomy.types.some( ( type ) => type === postType ),\n\t\t\thasTags: tags && tags.length,\n\t\t};\n\t} ),\n\tifCondition(\n\t\t( { areTagsFetched, isPostTypeSupported } ) =>\n\t\t\tisPostTypeSupported && areTagsFetched\n\t)\n)( MaybeTagsPanel );\n","/**\n * WordPress dependencies\n */\nimport { Button, PanelBody } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { POST_FORMATS } from '../post-format';\nimport { store as editorStore } from '../../store';\n\nconst getSuggestion = ( supportedFormats, suggestedPostFormat ) => {\n\tconst formats = POST_FORMATS.filter( ( format ) =>\n\t\tsupportedFormats?.includes( format.id )\n\t);\n\treturn formats.find( ( format ) => format.id === suggestedPostFormat );\n};\n\nconst PostFormatSuggestion = ( {\n\tsuggestedPostFormat,\n\tsuggestionText,\n\tonUpdatePostFormat,\n} ) => (\n\t<Button\n\t\tvariant=\"link\"\n\t\tonClick={ () => onUpdatePostFormat( suggestedPostFormat ) }\n\t>\n\t\t{ suggestionText }\n\t</Button>\n);\n\nexport default function PostFormatPanel() {\n\tconst { currentPostFormat, suggestion } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } =\n\t\t\tselect( editorStore );\n\t\tconst supportedFormats =\n\t\t\tselect( coreStore ).getThemeSupports().formats ?? [];\n\t\treturn {\n\t\t\tcurrentPostFormat: getEditedPostAttribute( 'format' ),\n\t\t\tsuggestion: getSuggestion(\n\t\t\t\tsupportedFormats,\n\t\t\t\tgetSuggestedPostFormat()\n\t\t\t),\n\t\t};\n\t}, [] );\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst onUpdatePostFormat = ( format ) => editPost( { format } );\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'Use a post format' ) }\n\t\t</span>,\n\t];\n\n\tif ( ! suggestion || suggestion.id === currentPostFormat ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Your theme uses post formats to highlight different kinds of content, like images or videos. Apply a post format to see this special styling.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<PostFormatSuggestion\n\t\t\t\t\tonUpdatePostFormat={ onUpdatePostFormat }\n\t\t\t\t\tsuggestedPostFormat={ suggestion.id }\n\t\t\t\t\tsuggestionText={ sprintf(\n\t\t\t\t\t\t/* translators: %s: post format */\n\t\t\t\t\t\t__( 'Apply the \"%1$s\" format.' ),\n\t\t\t\t\t\tsuggestion.caption\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</p>\n\t\t</PanelBody>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __, _n, _x, sprintf } from '@wordpress/i18n';\nimport { useMemo, useState } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\nimport {\n\tButton,\n\tCheckboxControl,\n\tTextControl,\n\tTreeSelect,\n\twithFilters,\n\tFlex,\n\tFlexItem,\n} from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useDebounce } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { speak } from '@wordpress/a11y';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { buildTermsTree } from '../../utils/terms';\nimport { store as editorStore } from '../../store';\n\n/**\n * Module Constants\n */\nconst DEFAULT_QUERY = {\n\tper_page: -1,\n\torderby: 'name',\n\torder: 'asc',\n\t_fields: 'id,name,parent',\n\tcontext: 'view',\n};\n\nconst MIN_TERMS_COUNT_FOR_FILTER = 8;\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Sort Terms by Selected.\n *\n * @param {Object[]} termsTree Array of terms in tree format.\n * @param {number[]} terms     Selected terms.\n *\n * @return {Object[]} Sorted array of terms.\n */\nexport function sortBySelected( termsTree, terms ) {\n\tconst treeHasSelection = ( termTree ) => {\n\t\tif ( terms.indexOf( termTree.id ) !== -1 ) {\n\t\t\treturn true;\n\t\t}\n\t\tif ( undefined === termTree.children ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (\n\t\t\ttermTree.children\n\t\t\t\t.map( treeHasSelection )\n\t\t\t\t.filter( ( child ) => child ).length > 0\n\t\t);\n\t};\n\tconst termOrChildIsSelected = ( termA, termB ) => {\n\t\tconst termASelected = treeHasSelection( termA );\n\t\tconst termBSelected = treeHasSelection( termB );\n\n\t\tif ( termASelected === termBSelected ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tif ( termASelected && ! termBSelected ) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif ( ! termASelected && termBSelected ) {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t};\n\tconst newTermTree = [ ...termsTree ];\n\tnewTermTree.sort( termOrChildIsSelected );\n\treturn newTermTree;\n}\n\n/**\n * Find term by parent id or name.\n *\n * @param {Object[]}      terms  Array of Terms.\n * @param {number|string} parent id.\n * @param {string}        name   Term name.\n * @return {Object} Term object.\n */\nexport function findTerm( terms, parent, name ) {\n\treturn terms.find( ( term ) => {\n\t\treturn (\n\t\t\t( ( ! term.parent && ! parent ) ||\n\t\t\t\tparseInt( term.parent ) === parseInt( parent ) ) &&\n\t\t\tterm.name.toLowerCase() === name.toLowerCase()\n\t\t);\n\t} );\n}\n\n/**\n * Get filter matcher function.\n *\n * @param {string} filterValue Filter value.\n * @return {(function(Object): (Object|boolean))} Matcher function.\n */\nexport function getFilterMatcher( filterValue ) {\n\tconst matchTermsForFilter = ( originalTerm ) => {\n\t\tif ( '' === filterValue ) {\n\t\t\treturn originalTerm;\n\t\t}\n\n\t\t// Shallow clone, because we'll be filtering the term's children and\n\t\t// don't want to modify the original term.\n\t\tconst term = { ...originalTerm };\n\n\t\t// Map and filter the children, recursive so we deal with grandchildren\n\t\t// and any deeper levels.\n\t\tif ( term.children.length > 0 ) {\n\t\t\tterm.children = term.children\n\t\t\t\t.map( matchTermsForFilter )\n\t\t\t\t.filter( ( child ) => child );\n\t\t}\n\n\t\t// If the term's name contains the filterValue, or it has children\n\t\t// (i.e. some child matched at some point in the tree) then return it.\n\t\tif (\n\t\t\t-1 !==\n\t\t\t\tterm.name.toLowerCase().indexOf( filterValue.toLowerCase() ) ||\n\t\t\tterm.children.length > 0\n\t\t) {\n\t\t\treturn term;\n\t\t}\n\n\t\t// Otherwise, return false. After mapping, the list of terms will need\n\t\t// to have false values filtered out.\n\t\treturn false;\n\t};\n\treturn matchTermsForFilter;\n}\n\n/**\n * Hierarchical term selector.\n *\n * @param {Object} props      Component props.\n * @param {string} props.slug Taxonomy slug.\n * @return {Element}        Hierarchical term selector component.\n */\nexport function HierarchicalTermSelector( { slug } ) {\n\tconst [ adding, setAdding ] = useState( false );\n\tconst [ formName, setFormName ] = useState( '' );\n\t/**\n\t * @type {[number|'', Function]}\n\t */\n\tconst [ formParent, setFormParent ] = useState( '' );\n\tconst [ showForm, setShowForm ] = useState( false );\n\tconst [ filterValue, setFilterValue ] = useState( '' );\n\tconst [ filteredTermsTree, setFilteredTermsTree ] = useState( [] );\n\tconst debouncedSpeak = useDebounce( speak, 500 );\n\n\tconst {\n\t\thasCreateAction,\n\t\thasAssignAction,\n\t\tterms,\n\t\tloading,\n\t\tavailableTerms,\n\t\ttaxonomy,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getCurrentPost, getEditedPostAttribute } =\n\t\t\t\tselect( editorStore );\n\t\t\tconst { getTaxonomy, getEntityRecords, isResolving } =\n\t\t\t\tselect( coreStore );\n\t\t\tconst _taxonomy = getTaxonomy( slug );\n\t\t\tconst post = getCurrentPost();\n\n\t\t\treturn {\n\t\t\t\thasCreateAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-create-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\thasAssignAction: _taxonomy\n\t\t\t\t\t? post._links?.[\n\t\t\t\t\t\t\t'wp:action-assign-' + _taxonomy.rest_base\n\t\t\t\t\t  ] ?? false\n\t\t\t\t\t: false,\n\t\t\t\tterms: _taxonomy\n\t\t\t\t\t? getEditedPostAttribute( _taxonomy.rest_base )\n\t\t\t\t\t: EMPTY_ARRAY,\n\t\t\t\tloading: isResolving( 'getEntityRecords', [\n\t\t\t\t\t'taxonomy',\n\t\t\t\t\tslug,\n\t\t\t\t\tDEFAULT_QUERY,\n\t\t\t\t] ),\n\t\t\t\tavailableTerms:\n\t\t\t\t\tgetEntityRecords( 'taxonomy', slug, DEFAULT_QUERY ) ||\n\t\t\t\t\tEMPTY_ARRAY,\n\t\t\t\ttaxonomy: _taxonomy,\n\t\t\t};\n\t\t},\n\t\t[ slug ]\n\t);\n\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\n\tconst availableTermsTree = useMemo(\n\t\t() => sortBySelected( buildTermsTree( availableTerms ), terms ),\n\t\t// Remove `terms` from the dependency list to avoid reordering every time\n\t\t// checking or unchecking a term.\n\t\t[ availableTerms ]\n\t);\n\n\tconst { createErrorNotice } = useDispatch( noticesStore );\n\n\tif ( ! hasAssignAction ) {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Append new term.\n\t *\n\t * @param {Object} term Term object.\n\t * @return {Promise} A promise that resolves to save term object.\n\t */\n\tconst addTerm = ( term ) => {\n\t\treturn saveEntityRecord( 'taxonomy', slug, term, {\n\t\t\tthrowOnError: true,\n\t\t} );\n\t};\n\n\t/**\n\t * Update terms for post.\n\t *\n\t * @param {number[]} termIds Term ids.\n\t */\n\tconst onUpdateTerms = ( termIds ) => {\n\t\teditPost( { [ taxonomy.rest_base ]: termIds } );\n\t};\n\n\t/**\n\t * Handler for checking term.\n\t *\n\t * @param {number} termId\n\t */\n\tconst onChange = ( termId ) => {\n\t\tconst hasTerm = terms.includes( termId );\n\t\tconst newTerms = hasTerm\n\t\t\t? terms.filter( ( id ) => id !== termId )\n\t\t\t: [ ...terms, termId ];\n\t\tonUpdateTerms( newTerms );\n\t};\n\n\tconst onChangeFormName = ( value ) => {\n\t\tsetFormName( value );\n\t};\n\n\t/**\n\t * Handler for changing form parent.\n\t *\n\t * @param {number|''} parentId Parent post id.\n\t */\n\tconst onChangeFormParent = ( parentId ) => {\n\t\tsetFormParent( parentId );\n\t};\n\n\tconst onToggleForm = () => {\n\t\tsetShowForm( ! showForm );\n\t};\n\n\tconst onAddTerm = async ( event ) => {\n\t\tevent.preventDefault();\n\t\tif ( formName === '' || adding ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if the term we are adding already exists.\n\t\tconst existingTerm = findTerm( availableTerms, formParent, formName );\n\t\tif ( existingTerm ) {\n\t\t\t// If the term we are adding exists but is not selected select it.\n\t\t\tif ( ! terms.some( ( term ) => term === existingTerm.id ) ) {\n\t\t\t\tonUpdateTerms( [ ...terms, existingTerm.id ] );\n\t\t\t}\n\n\t\t\tsetFormName( '' );\n\t\t\tsetFormParent( '' );\n\n\t\t\treturn;\n\t\t}\n\t\tsetAdding( true );\n\t\tlet newTerm;\n\t\ttry {\n\t\t\tnewTerm = await addTerm( {\n\t\t\t\tname: formName,\n\t\t\t\tparent: formParent ? formParent : undefined,\n\t\t\t} );\n\t\t} catch ( error ) {\n\t\t\tcreateErrorNotice( error.message, {\n\t\t\t\ttype: 'snackbar',\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\t\tconst defaultName =\n\t\t\tslug === 'category' ? __( 'Category' ) : __( 'Term' );\n\t\tconst termAddedMessage = sprintf(\n\t\t\t/* translators: %s: taxonomy name */\n\t\t\t_x( '%s added', 'term' ),\n\t\t\ttaxonomy?.labels?.singular_name ?? defaultName\n\t\t);\n\t\tspeak( termAddedMessage, 'assertive' );\n\t\tsetAdding( false );\n\t\tsetFormName( '' );\n\t\tsetFormParent( '' );\n\t\tonUpdateTerms( [ ...terms, newTerm.id ] );\n\t};\n\n\tconst setFilter = ( value ) => {\n\t\tconst newFilteredTermsTree = availableTermsTree\n\t\t\t.map( getFilterMatcher( value ) )\n\t\t\t.filter( ( term ) => term );\n\t\tconst getResultCount = ( termsTree ) => {\n\t\t\tlet count = 0;\n\t\t\tfor ( let i = 0; i < termsTree.length; i++ ) {\n\t\t\t\tcount++;\n\t\t\t\tif ( undefined !== termsTree[ i ].children ) {\n\t\t\t\t\tcount += getResultCount( termsTree[ i ].children );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t};\n\n\t\tsetFilterValue( value );\n\t\tsetFilteredTermsTree( newFilteredTermsTree );\n\n\t\tconst resultCount = getResultCount( newFilteredTermsTree );\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t/* translators: %d: number of results */\n\t\t\t_n( '%d result found.', '%d results found.', resultCount ),\n\t\t\tresultCount\n\t\t);\n\n\t\tdebouncedSpeak( resultsFoundMessage, 'assertive' );\n\t};\n\n\tconst renderTerms = ( renderedTerms ) => {\n\t\treturn renderedTerms.map( ( term ) => {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tkey={ term.id }\n\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-choice\"\n\t\t\t\t>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tchecked={ terms.indexOf( term.id ) !== -1 }\n\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\tconst termId = parseInt( term.id, 10 );\n\t\t\t\t\t\t\tonChange( termId );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlabel={ decodeEntities( term.name ) }\n\t\t\t\t\t/>\n\t\t\t\t\t{ !! term.children.length && (\n\t\t\t\t\t\t<div className=\"editor-post-taxonomies__hierarchical-terms-subchoices\">\n\t\t\t\t\t\t\t{ renderTerms( term.children ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t} );\n\t};\n\n\tconst labelWithFallback = (\n\t\tlabelProperty,\n\t\tfallbackIsCategory,\n\t\tfallbackIsNotCategory\n\t) =>\n\t\ttaxonomy?.labels?.[ labelProperty ] ??\n\t\t( slug === 'category' ? fallbackIsCategory : fallbackIsNotCategory );\n\n\tconst newTermButtonLabel = labelWithFallback(\n\t\t'add_new_item',\n\t\t__( 'Add new category' ),\n\t\t__( 'Add new term' )\n\t);\n\tconst newTermLabel = labelWithFallback(\n\t\t'new_item_name',\n\t\t__( 'Add new category' ),\n\t\t__( 'Add new term' )\n\t);\n\tconst parentSelectLabel = labelWithFallback(\n\t\t'parent_item',\n\t\t__( 'Parent Category' ),\n\t\t__( 'Parent Term' )\n\t);\n\tconst noParentOption = ` ${ parentSelectLabel } `;\n\tconst newTermSubmitLabel = newTermButtonLabel;\n\tconst filterLabel = taxonomy?.labels?.search_items ?? __( 'Search Terms' );\n\tconst groupLabel = taxonomy?.name ?? __( 'Terms' );\n\tconst showFilter = availableTerms.length >= MIN_TERMS_COUNT_FOR_FILTER;\n\n\treturn (\n\t\t<Flex direction=\"column\" gap=\"4\">\n\t\t\t{ showFilter && (\n\t\t\t\t<TextControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ filterLabel }\n\t\t\t\t\tvalue={ filterValue }\n\t\t\t\t\tonChange={ setFilter }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div\n\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-list\"\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\trole=\"group\"\n\t\t\t\taria-label={ groupLabel }\n\t\t\t>\n\t\t\t\t{ renderTerms(\n\t\t\t\t\t'' !== filterValue ? filteredTermsTree : availableTermsTree\n\t\t\t\t) }\n\t\t\t</div>\n\t\t\t{ ! loading && hasCreateAction && (\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={ onToggleForm }\n\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-add\"\n\t\t\t\t\t\taria-expanded={ showForm }\n\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ newTermButtonLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</FlexItem>\n\t\t\t) }\n\t\t\t{ showForm && (\n\t\t\t\t<form onSubmit={ onAddTerm }>\n\t\t\t\t\t<Flex direction=\"column\" gap=\"4\">\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-input\"\n\t\t\t\t\t\t\tlabel={ newTermLabel }\n\t\t\t\t\t\t\tvalue={ formName }\n\t\t\t\t\t\t\tonChange={ onChangeFormName }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ !! availableTerms.length && (\n\t\t\t\t\t\t\t<TreeSelect\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\tlabel={ parentSelectLabel }\n\t\t\t\t\t\t\t\tnoOptionLabel={ noParentOption }\n\t\t\t\t\t\t\t\tonChange={ onChangeFormParent }\n\t\t\t\t\t\t\t\tselectedId={ formParent }\n\t\t\t\t\t\t\t\ttree={ availableTermsTree }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-submit\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ newTermSubmitLabel }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t</Flex>\n\t\t\t\t</form>\n\t\t\t) }\n\t\t</Flex>\n\t);\n}\n\nexport default withFilters( 'editor.PostTaxonomyType' )(\n\tHierarchicalTermSelector\n);\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useState, useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport HierarchicalTermSelector from '../post-taxonomies/hierarchical-term-selector';\nimport { store as editorStore } from '../../store';\n\nfunction MaybeCategoryPanel() {\n\tconst hasNoCategory = useSelect( ( select ) => {\n\t\tconst postType = select( editorStore ).getCurrentPostType();\n\t\tconst { canUser, getEntityRecord, getTaxonomy } = select( coreStore );\n\t\tconst categoriesTaxonomy = getTaxonomy( 'category' );\n\t\tconst defaultCategoryId = canUser( 'read', 'settings' )\n\t\t\t? getEntityRecord( 'root', 'site' )?.default_category\n\t\t\t: undefined;\n\t\tconst defaultCategory = defaultCategoryId\n\t\t\t? getEntityRecord( 'taxonomy', 'category', defaultCategoryId )\n\t\t\t: undefined;\n\t\tconst postTypeSupportsCategories =\n\t\t\tcategoriesTaxonomy &&\n\t\t\tcategoriesTaxonomy.types.some( ( type ) => type === postType );\n\t\tconst categories =\n\t\t\tcategoriesTaxonomy &&\n\t\t\tselect( editorStore ).getEditedPostAttribute(\n\t\t\t\tcategoriesTaxonomy.rest_base\n\t\t\t);\n\n\t\t// This boolean should return true if everything is loaded\n\t\t// ( categoriesTaxonomy, defaultCategory )\n\t\t// and the post has not been assigned a category different than \"uncategorized\".\n\t\treturn (\n\t\t\t!! categoriesTaxonomy &&\n\t\t\t!! defaultCategory &&\n\t\t\tpostTypeSupportsCategories &&\n\t\t\t( categories?.length === 0 ||\n\t\t\t\t( categories?.length === 1 &&\n\t\t\t\t\tdefaultCategory?.id === categories[ 0 ] ) )\n\t\t);\n\t}, [] );\n\tconst [ shouldShowPanel, setShouldShowPanel ] = useState( false );\n\tuseEffect( () => {\n\t\t// We use state to avoid hiding the panel if the user edits the categories\n\t\t// and adds one within the panel itself (while visible).\n\t\tif ( hasNoCategory ) {\n\t\t\tsetShouldShowPanel( true );\n\t\t}\n\t}, [ hasNoCategory ] );\n\n\tif ( ! shouldShowPanel ) {\n\t\treturn null;\n\t}\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'Assign a category' ) }\n\t\t</span>,\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Categories provide a helpful way to group related posts together and to quickly tell readers what a post is about.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<HierarchicalTermSelector slug=\"category\" />\n\t\t</PanelBody>\n\t);\n}\n\nexport default MaybeCategoryPanel;\n","/**\n * WordPress dependencies\n */\nimport {\n\tPanelBody,\n\tButton,\n\tSpinner,\n\t__unstableMotion as motion,\n\t__unstableAnimatePresence as AnimatePresence,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { isBlobURL } from '@wordpress/blob';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction flattenBlocks( blocks ) {\n\tconst result = [];\n\n\tblocks.forEach( ( block ) => {\n\t\tresult.push( block );\n\t\tresult.push( ...flattenBlocks( block.innerBlocks ) );\n\t} );\n\n\treturn result;\n}\n\nfunction Image( block ) {\n\tconst { selectBlock } = useDispatch( blockEditorStore );\n\treturn (\n\t\t<motion.img\n\t\t\ttabIndex={ 0 }\n\t\t\trole=\"button\"\n\t\t\taria-label={ __( 'Select image block.' ) }\n\t\t\tonClick={ () => {\n\t\t\t\tselectBlock( block.clientId );\n\t\t\t} }\n\t\t\tonKeyDown={ ( event ) => {\n\t\t\t\tif ( event.key === 'Enter' || event.key === ' ' ) {\n\t\t\t\t\tselectBlock( block.clientId );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t} }\n\t\t\tkey={ block.clientId }\n\t\t\talt={ block.attributes.alt }\n\t\t\tsrc={ block.attributes.url }\n\t\t\tanimate={ { opacity: 1 } }\n\t\t\texit={ { opacity: 0, scale: 0 } }\n\t\t\tstyle={ {\n\t\t\t\twidth: '36px',\n\t\t\t\theight: '36px',\n\t\t\t\tobjectFit: 'cover',\n\t\t\t\tborderRadius: '2px',\n\t\t\t\tcursor: 'pointer',\n\t\t\t} }\n\t\t\twhileHover={ { scale: 1.08 } }\n\t\t/>\n\t);\n}\n\nexport default function PostFormatPanel() {\n\tconst [ isUploading, setIsUploading ] = useState( false );\n\tconst { editorBlocks, mediaUpload } = useSelect(\n\t\t( select ) => ( {\n\t\t\teditorBlocks: select( editorStore ).getEditorBlocks(),\n\t\t\tmediaUpload: select( blockEditorStore ).getSettings().mediaUpload,\n\t\t} ),\n\t\t[]\n\t);\n\tconst externalImages = flattenBlocks( editorBlocks ).filter(\n\t\t( block ) =>\n\t\t\tblock.name === 'core/image' &&\n\t\t\tblock.attributes.url &&\n\t\t\t! block.attributes.id\n\t);\n\tconst { updateBlockAttributes } = useDispatch( blockEditorStore );\n\n\tif ( ! mediaUpload || ! externalImages.length ) {\n\t\treturn null;\n\t}\n\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t{ __( 'External media' ) }\n\t\t</span>,\n\t];\n\n\tfunction uploadImages() {\n\t\tsetIsUploading( true );\n\t\tPromise.all(\n\t\t\texternalImages.map( ( image ) =>\n\t\t\t\twindow\n\t\t\t\t\t.fetch(\n\t\t\t\t\t\timage.attributes.url.includes( '?' )\n\t\t\t\t\t\t\t? image.attributes.url\n\t\t\t\t\t\t\t: image.attributes.url + '?'\n\t\t\t\t\t)\n\t\t\t\t\t.then( ( response ) => response.blob() )\n\t\t\t\t\t.then(\n\t\t\t\t\t\t( blob ) =>\n\t\t\t\t\t\t\tnew Promise( ( resolve, reject ) => {\n\t\t\t\t\t\t\t\tmediaUpload( {\n\t\t\t\t\t\t\t\t\tfilesList: [ blob ],\n\t\t\t\t\t\t\t\t\tonFileChange: ( [ media ] ) => {\n\t\t\t\t\t\t\t\t\t\tif ( isBlobURL( media.url ) ) {\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tupdateBlockAttributes( image.clientId, {\n\t\t\t\t\t\t\t\t\t\t\tid: media.id,\n\t\t\t\t\t\t\t\t\t\t\turl: media.url,\n\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tonError() {\n\t\t\t\t\t\t\t\t\t\treject();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t)\n\t\t\t)\n\t\t).finally( () => {\n\t\t\tsetIsUploading( false );\n\t\t} );\n\t}\n\n\treturn (\n\t\t<PanelBody initialOpen={ true } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __(\n\t\t\t\t\t'Upload external images to the Media Library. Images from different domains may load slowly, display incorrectly, or be removed unexpectedly.'\n\t\t\t\t) }\n\t\t\t</p>\n\t\t\t<div\n\t\t\t\tstyle={ {\n\t\t\t\t\tdisplay: 'inline-flex',\n\t\t\t\t\tflexWrap: 'wrap',\n\t\t\t\t\tgap: '8px',\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<AnimatePresence>\n\t\t\t\t\t{ externalImages.map( ( image ) => {\n\t\t\t\t\t\treturn <Image key={ image.clientId } { ...image } />;\n\t\t\t\t\t} ) }\n\t\t\t\t</AnimatePresence>\n\t\t\t\t{ isUploading ? (\n\t\t\t\t\t<Spinner />\n\t\t\t\t) : (\n\t\t\t\t\t<Button variant=\"primary\" onClick={ uploadImages }>\n\t\t\t\t\t\t{ __( 'Upload' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</PanelBody>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Icon, PanelBody } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { wordpress } from '@wordpress/icons';\nimport { filterURLForDisplay } from '@wordpress/url';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport PostVisibility from '../post-visibility';\nimport PostVisibilityLabel from '../post-visibility/label';\nimport PostSchedule from '../post-schedule';\nimport PostScheduleLabel from '../post-schedule/label';\nimport MaybeTagsPanel from './maybe-tags-panel';\nimport MaybePostFormatPanel from './maybe-post-format-panel';\nimport { store as editorStore } from '../../store';\nimport MaybeCategoryPanel from './maybe-category-panel';\nimport MaybeUploadMedia from './maybe-upload-media';\n\nfunction PostPublishPanelPrepublish( { children } ) {\n\tconst {\n\t\tisBeingScheduled,\n\t\tisRequestingSiteIcon,\n\t\thasPublishAction,\n\t\tsiteIconUrl,\n\t\tsiteTitle,\n\t\tsiteHome,\n\t} = useSelect( ( select ) => {\n\t\tconst { getCurrentPost, isEditedPostBeingScheduled } =\n\t\t\tselect( editorStore );\n\t\tconst { getEntityRecord, isResolving } = select( coreStore );\n\t\tconst siteData =\n\t\t\tgetEntityRecord( 'root', '__unstableBase', undefined ) || {};\n\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisRequestingSiteIcon: isResolving( 'getEntityRecord', [\n\t\t\t\t'root',\n\t\t\t\t'__unstableBase',\n\t\t\t\tundefined,\n\t\t\t] ),\n\t\t\tsiteIconUrl: siteData.site_icon_url,\n\t\t\tsiteTitle: siteData.name,\n\t\t\tsiteHome: siteData.home && filterURLForDisplay( siteData.home ),\n\t\t};\n\t}, [] );\n\n\tlet siteIcon = (\n\t\t<Icon className=\"components-site-icon\" size=\"36px\" icon={ wordpress } />\n\t);\n\n\tif ( siteIconUrl ) {\n\t\tsiteIcon = (\n\t\t\t<img\n\t\t\t\talt={ __( 'Site Icon' ) }\n\t\t\t\tclassName=\"components-site-icon\"\n\t\t\t\tsrc={ siteIconUrl }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( isRequestingSiteIcon ) {\n\t\tsiteIcon = null;\n\t}\n\n\tlet prePublishTitle, prePublishBodyText;\n\n\tif ( ! hasPublishAction ) {\n\t\tprePublishTitle = __( 'Are you ready to submit for review?' );\n\t\tprePublishBodyText = __(\n\t\t\t'When youre ready, submit your work for review, and an Editor will be able to approve it for you.'\n\t\t);\n\t} else if ( isBeingScheduled ) {\n\t\tprePublishTitle = __( 'Are you ready to schedule?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Your work will be published at the specified date and time.'\n\t\t);\n\t} else {\n\t\tprePublishTitle = __( 'Are you ready to publish?' );\n\t\tprePublishBodyText = __(\n\t\t\t'Double-check your settings before publishing.'\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"editor-post-publish-panel__prepublish\">\n\t\t\t<div>\n\t\t\t\t<strong>{ prePublishTitle }</strong>\n\t\t\t</div>\n\t\t\t<p>{ prePublishBodyText }</p>\n\t\t\t<div className=\"components-site-card\">\n\t\t\t\t{ siteIcon }\n\t\t\t\t<div className=\"components-site-info\">\n\t\t\t\t\t<span className=\"components-site-name\">\n\t\t\t\t\t\t{ decodeEntities( siteTitle ) || __( '(Untitled)' ) }\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"components-site-home\">{ siteHome }</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<MaybeUploadMedia />\n\t\t\t{ hasPublishAction && (\n\t\t\t\t<>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\ttitle={ [\n\t\t\t\t\t\t\t__( 'Visibility:' ),\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"editor-post-publish-panel__link\"\n\t\t\t\t\t\t\t\tkey=\"label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PostVisibilityLabel />\n\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostVisibility />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody\n\t\t\t\t\t\tinitialOpen={ false }\n\t\t\t\t\t\ttitle={ [\n\t\t\t\t\t\t\t__( 'Publish:' ),\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"editor-post-publish-panel__link\"\n\t\t\t\t\t\t\t\tkey=\"label\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<PostScheduleLabel />\n\t\t\t\t\t\t\t</span>,\n\t\t\t\t\t\t] }\n\t\t\t\t\t>\n\t\t\t\t\t\t<PostSchedule />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<MaybePostFormatPanel />\n\t\t\t<MaybeTagsPanel />\n\t\t\t<MaybeCategoryPanel />\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default PostPublishPanelPrepublish;\n","/**\n * WordPress dependencies\n */\nimport { PanelBody, Button, TextControl } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\nimport { addQueryArgs, safeDecodeURIComponent } from '@wordpress/url';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useCopyToClipboard } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostScheduleLabel from '../post-schedule/label';\nimport { store as editorStore } from '../../store';\n\nconst POSTNAME = '%postname%';\nconst PAGENAME = '%pagename%';\n\n/**\n * Returns URL for a future post.\n *\n * @param {Object} post Post object.\n *\n * @return {string} PostPublish URL.\n */\n\nconst getFuturePostUrl = ( post ) => {\n\tconst { slug } = post;\n\n\tif ( post.permalink_template.includes( POSTNAME ) ) {\n\t\treturn post.permalink_template.replace( POSTNAME, slug );\n\t}\n\n\tif ( post.permalink_template.includes( PAGENAME ) ) {\n\t\treturn post.permalink_template.replace( PAGENAME, slug );\n\t}\n\n\treturn post.permalink_template;\n};\n\nfunction CopyButton( { text, onCopy, children } ) {\n\tconst ref = useCopyToClipboard( text, onCopy );\n\treturn (\n\t\t<Button variant=\"secondary\" ref={ ref }>\n\t\t\t{ children }\n\t\t</Button>\n\t);\n}\n\nclass PostPublishPanelPostpublish extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tshowCopyConfirmation: false,\n\t\t};\n\t\tthis.onCopy = this.onCopy.bind( this );\n\t\tthis.onSelectInput = this.onSelectInput.bind( this );\n\t\tthis.postLink = createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.props.focusOnMount ) {\n\t\t\tthis.postLink.current.focus();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.dismissCopyConfirmation );\n\t}\n\n\tonCopy() {\n\t\tthis.setState( {\n\t\t\tshowCopyConfirmation: true,\n\t\t} );\n\n\t\tclearTimeout( this.dismissCopyConfirmation );\n\t\tthis.dismissCopyConfirmation = setTimeout( () => {\n\t\t\tthis.setState( {\n\t\t\t\tshowCopyConfirmation: false,\n\t\t\t} );\n\t\t}, 4000 );\n\t}\n\n\tonSelectInput( event ) {\n\t\tevent.target.select();\n\t}\n\n\trender() {\n\t\tconst { children, isScheduled, post, postType } = this.props;\n\t\tconst postLabel = postType?.labels?.singular_name;\n\t\tconst viewPostLabel = postType?.labels?.view_item;\n\t\tconst addNewPostLabel = postType?.labels?.add_new_item;\n\t\tconst link =\n\t\t\tpost.status === 'future' ? getFuturePostUrl( post ) : post.link;\n\t\tconst addLink = addQueryArgs( 'post-new.php', {\n\t\t\tpost_type: post.type,\n\t\t} );\n\n\t\tconst postPublishNonLinkHeader = isScheduled ? (\n\t\t\t<>\n\t\t\t\t{ __( 'is now scheduled. It will go live on' ) }{ ' ' }\n\t\t\t\t<PostScheduleLabel />.\n\t\t\t</>\n\t\t) : (\n\t\t\t__( 'is now live.' )\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"post-publish-panel__postpublish\">\n\t\t\t\t<PanelBody className=\"post-publish-panel__postpublish-header\">\n\t\t\t\t\t<a ref={ this.postLink } href={ link }>\n\t\t\t\t\t\t{ decodeEntities( post.title ) || __( '(no title)' ) }\n\t\t\t\t\t</a>{ ' ' }\n\t\t\t\t\t{ postPublishNonLinkHeader }\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<p className=\"post-publish-panel__postpublish-subheader\">\n\t\t\t\t\t\t<strong>{ __( 'Whats next?' ) }</strong>\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"post-publish-panel__postpublish-post-address-container\">\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\tclassName=\"post-publish-panel__postpublish-post-address\"\n\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t\t\t/* translators: %s: post type singular name */\n\t\t\t\t\t\t\t\t__( '%s address' ),\n\t\t\t\t\t\t\t\tpostLabel\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tvalue={ safeDecodeURIComponent( link ) }\n\t\t\t\t\t\t\tonFocus={ this.onSelectInput }\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"post-publish-panel__postpublish-post-address__copy-button-wrap\">\n\t\t\t\t\t\t\t<CopyButton text={ link } onCopy={ this.onCopy }>\n\t\t\t\t\t\t\t\t{ this.state.showCopyConfirmation\n\t\t\t\t\t\t\t\t\t? __( 'Copied!' )\n\t\t\t\t\t\t\t\t\t: __( 'Copy' ) }\n\t\t\t\t\t\t\t</CopyButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"post-publish-panel__postpublish-buttons\">\n\t\t\t\t\t\t{ ! isScheduled && (\n\t\t\t\t\t\t\t<Button variant=\"primary\" href={ link }>\n\t\t\t\t\t\t\t\t{ viewPostLabel }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant={ isScheduled ? 'primary' : 'secondary' }\n\t\t\t\t\t\t\thref={ addLink }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ addNewPostLabel }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</PanelBody>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getEditedPostAttribute, getCurrentPost, isCurrentPostScheduled } =\n\t\tselect( editorStore );\n\tconst { getPostType } = select( coreStore );\n\n\treturn {\n\t\tpost: getCurrentPost(),\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\tisScheduled: isCurrentPostScheduled(),\n\t};\n} )( PostPublishPanelPostpublish );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport {\n\tButton,\n\tSpinner,\n\tCheckboxControl,\n\twithFocusReturn,\n\twithConstrainedTabbing,\n} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { closeSmall } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport PostPublishButton from '../post-publish-button';\nimport PostPublishPanelPrepublish from './prepublish';\nimport PostPublishPanelPostpublish from './postpublish';\nimport { store as editorStore } from '../../store';\n\nexport class PostPublishPanel extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onSubmit = this.onSubmit.bind( this );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\t// Automatically collapse the publish sidebar when a post\n\t\t// is published and the user makes an edit.\n\t\tif (\n\t\t\tprevProps.isPublished &&\n\t\t\t! this.props.isSaving &&\n\t\t\tthis.props.isDirty\n\t\t) {\n\t\t\tthis.props.onClose();\n\t\t}\n\t}\n\n\tonSubmit() {\n\t\tconst { onClose, hasPublishAction, isPostTypeViewable } = this.props;\n\t\tif ( ! hasPublishAction || ! isPostTypeViewable ) {\n\t\t\tonClose();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tforceIsDirty,\n\t\t\tisBeingScheduled,\n\t\t\tisPublished,\n\t\t\tisPublishSidebarEnabled,\n\t\t\tisScheduled,\n\t\t\tisSaving,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t\tonClose,\n\t\t\tonTogglePublishSidebar,\n\t\t\tPostPublishExtension,\n\t\t\tPrePublishExtension,\n\t\t\t...additionalProps\n\t\t} = this.props;\n\t\tconst {\n\t\t\thasPublishAction,\n\t\t\tisDirty,\n\t\t\tisPostTypeViewable,\n\t\t\t...propsForPanel\n\t\t} = additionalProps;\n\t\tconst isPublishedOrScheduled =\n\t\t\tisPublished || ( isScheduled && isBeingScheduled );\n\t\tconst isPrePublish = ! isPublishedOrScheduled && ! isSaving;\n\t\tconst isPostPublish = isPublishedOrScheduled && ! isSaving;\n\t\treturn (\n\t\t\t<div className=\"editor-post-publish-panel\" { ...propsForPanel }>\n\t\t\t\t<div className=\"editor-post-publish-panel__header\">\n\t\t\t\t\t{ isPostPublish ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\t\t\tlabel={ __( 'Close panel' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"editor-post-publish-panel__header-publish-button\">\n\t\t\t\t\t\t\t\t<PostPublishButton\n\t\t\t\t\t\t\t\t\tfocusOnMount\n\t\t\t\t\t\t\t\t\tonSubmit={ this.onSubmit }\n\t\t\t\t\t\t\t\t\tforceIsDirty={ forceIsDirty }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"editor-post-publish-panel__header-cancel-button\">\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tdisabled={ isSavingNonPostEntityChanges }\n\t\t\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ __( 'Cancel' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-post-publish-panel__content\">\n\t\t\t\t\t{ isPrePublish && (\n\t\t\t\t\t\t<PostPublishPanelPrepublish>\n\t\t\t\t\t\t\t{ PrePublishExtension && <PrePublishExtension /> }\n\t\t\t\t\t\t</PostPublishPanelPrepublish>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isPostPublish && (\n\t\t\t\t\t\t<PostPublishPanelPostpublish focusOnMount={ true }>\n\t\t\t\t\t\t\t{ PostPublishExtension && <PostPublishExtension /> }\n\t\t\t\t\t\t</PostPublishPanelPostpublish>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isSaving && <Spinner /> }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-post-publish-panel__footer\">\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\tlabel={ __( 'Always show pre-publish checks.' ) }\n\t\t\t\t\t\tchecked={ isPublishSidebarEnabled }\n\t\t\t\t\t\tonChange={ onTogglePublishSidebar }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getPostType } = select( coreStore );\n\t\tconst {\n\t\t\tgetCurrentPost,\n\t\t\tgetEditedPostAttribute,\n\t\t\tisCurrentPostPublished,\n\t\t\tisCurrentPostScheduled,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tisEditedPostDirty,\n\t\t\tisAutosavingPost,\n\t\t\tisSavingPost,\n\t\t\tisSavingNonPostEntityChanges,\n\t\t} = select( editorStore );\n\t\tconst { isPublishSidebarEnabled } = select( editorStore );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tisPostTypeViewable: postType?.viewable,\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisPublishSidebarEnabled: isPublishSidebarEnabled(),\n\t\t\tisSaving: isSavingPost() && ! isAutosavingPost(),\n\t\t\tisSavingNonPostEntityChanges: isSavingNonPostEntityChanges(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { isPublishSidebarEnabled } ) => {\n\t\tconst { disablePublishSidebar, enablePublishSidebar } =\n\t\t\tdispatch( editorStore );\n\t\treturn {\n\t\t\tonTogglePublishSidebar: () => {\n\t\t\t\tif ( isPublishSidebarEnabled ) {\n\t\t\t\t\tdisablePublishSidebar();\n\t\t\t\t} else {\n\t\t\t\t\tenablePublishSidebar();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n\twithFocusReturn,\n\twithConstrainedTabbing,\n] )( PostPublishPanel );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst cloudUpload = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-4v-2.4L14 14l1-1-3-3-3 3 1 1 1.2-1.2v2.4H7.7c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4H9l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8 0 1-.8 1.8-1.7 1.8z\" />\n\t</SVG>\n);\n\nexport default cloudUpload;\n","/**\n * WordPress dependencies\n */\nimport { cloneElement, forwardRef } from '@wordpress/element';\n\n/** @typedef {{icon: JSX.Element, size?: number} & import('@wordpress/primitives').SVGProps} IconProps */\n\n/**\n * Return an SVG icon.\n *\n * @param {IconProps}                                 props icon is the SVG component to render\n *                                                          size is a number specifiying the icon size in pixels\n *                                                          Other props will be passed to wrapped SVG component\n * @param {import('react').ForwardedRef<HTMLElement>} ref   The forwarded ref to the SVG element.\n *\n * @return {JSX.Element}  Icon component\n */\nfunction Icon( { icon, size = 24, ...props }, ref ) {\n\treturn cloneElement( icon, {\n\t\twidth: size,\n\t\theight: size,\n\t\t...props,\n\t\tref,\n\t} );\n}\n\nexport default forwardRef( Icon );\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst cloud = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z\" />\n\t</SVG>\n);\n\nexport default cloud;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\t__unstableGetAnimateClassName as getAnimateClassName,\n\tButton,\n\tTooltip,\n} from '@wordpress/components';\nimport { usePrevious, useViewportMatch } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useEffect, useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Icon, check, cloud, cloudUpload } from '@wordpress/icons';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Component showing whether the post is saved or not and providing save\n * buttons.\n *\n * @param {Object}   props              Component props.\n * @param {?boolean} props.forceIsDirty Whether to force the post to be marked\n *                                      as dirty.\n * @return {import('react').ComponentType} The component.\n */\nexport default function PostSavedState( { forceIsDirty } ) {\n\tconst [ forceSavedMessage, setForceSavedMessage ] = useState( false );\n\tconst isLargeViewport = useViewportMatch( 'small' );\n\n\tconst {\n\t\tisAutosaving,\n\t\tisDirty,\n\t\tisNew,\n\t\tisPending,\n\t\tisPublished,\n\t\tisSaveable,\n\t\tisSaving,\n\t\tisScheduled,\n\t\thasPublishAction,\n\t\tshowIconLabels,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst {\n\t\t\t\tisEditedPostNew,\n\t\t\t\tisCurrentPostPublished,\n\t\t\t\tisCurrentPostScheduled,\n\t\t\t\tisEditedPostDirty,\n\t\t\t\tisSavingPost,\n\t\t\t\tisEditedPostSaveable,\n\t\t\t\tgetCurrentPost,\n\t\t\t\tisAutosavingPost,\n\t\t\t\tgetEditedPostAttribute,\n\t\t\t} = select( editorStore );\n\t\t\tconst { get } = select( preferencesStore );\n\n\t\t\treturn {\n\t\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\t\tisDirty: forceIsDirty || isEditedPostDirty(),\n\t\t\t\tisNew: isEditedPostNew(),\n\t\t\t\tisPending: 'pending' === getEditedPostAttribute( 'status' ),\n\t\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\t\tisSaving: isSavingPost(),\n\t\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t\t\thasPublishAction:\n\t\t\t\t\tgetCurrentPost()?._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t},\n\t\t[ forceIsDirty ]\n\t);\n\n\tconst { savePost } = useDispatch( editorStore );\n\n\tconst wasSaving = usePrevious( isSaving );\n\n\tuseEffect( () => {\n\t\tlet timeoutId;\n\n\t\tif ( wasSaving && ! isSaving ) {\n\t\t\tsetForceSavedMessage( true );\n\t\t\ttimeoutId = setTimeout( () => {\n\t\t\t\tsetForceSavedMessage( false );\n\t\t\t}, 1000 );\n\t\t}\n\n\t\treturn () => clearTimeout( timeoutId );\n\t}, [ isSaving ] );\n\n\t// Once the post has been submitted for review this button\n\t// is not needed for the contributor role.\n\tif ( ! hasPublishAction && isPending ) {\n\t\treturn null;\n\t}\n\n\tif ( isPublished || isScheduled ) {\n\t\treturn null;\n\t}\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst label = isPending ? __( 'Save as pending' ) : __( 'Save draft' );\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst shortLabel = __( 'Save' );\n\n\tconst isSaved = forceSavedMessage || ( ! isNew && ! isDirty );\n\tconst isSavedState = isSaving || isSaved;\n\tconst isDisabled = isSaving || isSaved || ! isSaveable;\n\n\tlet text;\n\n\tif ( isSaving ) {\n\t\ttext = isAutosaving ? __( 'Autosaving' ) : __( 'Saving' );\n\t} else if ( isSaved ) {\n\t\ttext = __( 'Saved' );\n\t} else if ( isLargeViewport ) {\n\t\ttext = label;\n\t} else if ( showIconLabels ) {\n\t\ttext = shortLabel;\n\t}\n\n\tconst buttonAccessibleLabel = text || label;\n\n\t/**\n\t * The tooltip needs to be enabled only if the button is not disabled. When\n\t * relying on the internal Button tooltip functionality, this causes the\n\t * resulting `button` element to be always removed and re-added to the DOM,\n\t * causing focus loss. An alternative approach to circumvent the issue\n\t * is not to use the `label` and `shortcut` props on `Button` (which would\n\t * trigger the tooltip), and instead manually wrap the `Button` in a separate\n\t * `Tooltip` component.\n\t */\n\tconst tooltipProps = isDisabled\n\t\t? undefined\n\t\t: {\n\t\t\t\ttext: buttonAccessibleLabel,\n\t\t\t\tshortcut: displayShortcut.primary( 's' ),\n\t\t  };\n\n\t// Use common Button instance for all saved states so that focus is not\n\t// lost.\n\treturn (\n\t\t<Tooltip { ...tooltipProps }>\n\t\t\t<Button\n\t\t\t\tclassName={\n\t\t\t\t\tisSaveable || isSaving\n\t\t\t\t\t\t? classnames( {\n\t\t\t\t\t\t\t\t'editor-post-save-draft': ! isSavedState,\n\t\t\t\t\t\t\t\t'editor-post-saved-state': isSavedState,\n\t\t\t\t\t\t\t\t'is-saving': isSaving,\n\t\t\t\t\t\t\t\t'is-autosaving': isAutosaving,\n\t\t\t\t\t\t\t\t'is-saved': isSaved,\n\t\t\t\t\t\t\t\t[ getAnimateClassName( {\n\t\t\t\t\t\t\t\t\ttype: 'loading',\n\t\t\t\t\t\t\t\t} ) ]: isSaving,\n\t\t\t\t\t\t  } )\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tonClick={ isDisabled ? undefined : () => savePost() }\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tsize=\"compact\"\n\t\t\t\ticon={ isLargeViewport ? undefined : cloudUpload }\n\t\t\t\t// Make sure the aria-label has always a value, as the default `text` is undefined on small screens.\n\t\t\t\taria-label={ buttonAccessibleLabel }\n\t\t\t\taria-disabled={ isDisabled }\n\t\t\t>\n\t\t\t\t{ isSavedState && <Icon icon={ isSaved ? check : cloud } /> }\n\t\t\t\t{ text }\n\t\t\t</Button>\n\t\t</Tooltip>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function PostScheduleCheck( { hasPublishAction, children } ) {\n\tif ( ! hasPublishAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getCurrentPost, getCurrentPostType } = select( editorStore );\n\t\treturn {\n\t\t\thasPublishAction:\n\t\t\t\tgetCurrentPost()._links?.[ 'wp:action-publish' ] ?? false,\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t} ),\n] )( PostScheduleCheck );\n","/**\n * WordPress dependencies\n */\nimport { Button, Dropdown } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useState, useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport PostScheduleCheck from './check';\nimport PostScheduleForm from './index';\nimport { usePostScheduleLabel } from './label';\nimport PostPanelRow from '../post-panel-row';\n\nexport default function PostSchedulePanel() {\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( {\n\t\t\t// Anchor the popover to the middle of the entire row so that it doesn't\n\t\t\t// move around when the label changes.\n\t\t\tanchor: popoverAnchor,\n\t\t\t'aria-label': __( 'Change publish date' ),\n\t\t\tplacement: 'bottom-end',\n\t\t} ),\n\t\t[ popoverAnchor ]\n\t);\n\n\tconst label = usePostScheduleLabel();\n\tconst fullLabel = usePostScheduleLabel( { full: true } );\n\n\treturn (\n\t\t<PostScheduleCheck>\n\t\t\t<PostPanelRow label={ __( 'Publish' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\tclassName=\"editor-post-schedule__panel-dropdown\"\n\t\t\t\t\tcontentClassName=\"editor-post-schedule__dialog\"\n\t\t\t\t\trenderToggle={ ( { onToggle, isOpen } ) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"editor-post-schedule__dialog-toggle\"\n\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\tonClick={ onToggle }\n\t\t\t\t\t\t\taria-label={ sprintf(\n\t\t\t\t\t\t\t\t// translators: %s: Current post date.\n\t\t\t\t\t\t\t\t__( 'Change date: %s' ),\n\t\t\t\t\t\t\t\tlabel\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tlabel={ fullLabel }\n\t\t\t\t\t\t\tshowTooltip={ label !== fullLabel }\n\t\t\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<PostScheduleForm onClose={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostScheduleCheck>\n\t);\n}\n","/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nexport default function PostSlugCheck( { children } ) {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"slug\">\n\t\t\t{ children }\n\t\t</PostTypeSupportCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { safeDecodeURIComponent, cleanForSlug } from '@wordpress/url';\nimport { TextControl } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport PostSlugCheck from './check';\nimport { store as editorStore } from '../../store';\n\nexport class PostSlug extends Component {\n\tconstructor( { postSlug, postTitle, postID } ) {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\teditedSlug:\n\t\t\t\tsafeDecodeURIComponent( postSlug ) ||\n\t\t\t\tcleanForSlug( postTitle ) ||\n\t\t\t\tpostID,\n\t\t};\n\n\t\tthis.setSlug = this.setSlug.bind( this );\n\t}\n\n\tsetSlug( event ) {\n\t\tconst { postSlug, onUpdateSlug } = this.props;\n\t\tconst { value } = event.target;\n\n\t\tconst editedSlug = cleanForSlug( value );\n\n\t\tif ( editedSlug === postSlug ) {\n\t\t\treturn;\n\t\t}\n\n\t\tonUpdateSlug( editedSlug );\n\t}\n\n\trender() {\n\t\tconst { editedSlug } = this.state;\n\t\treturn (\n\t\t\t<PostSlugCheck>\n\t\t\t\t<TextControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Slug' ) }\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tspellCheck=\"false\"\n\t\t\t\t\tvalue={ editedSlug }\n\t\t\t\t\tonChange={ ( slug ) =>\n\t\t\t\t\t\tthis.setState( { editedSlug: slug } )\n\t\t\t\t\t}\n\t\t\t\t\tonBlur={ this.setSlug }\n\t\t\t\t\tclassName=\"editor-post-slug\"\n\t\t\t\t/>\n\t\t\t</PostSlugCheck>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getCurrentPost, getEditedPostAttribute } =\n\t\t\tselect( editorStore );\n\n\t\tconst { id } = getCurrentPost();\n\t\treturn {\n\t\t\tpostSlug: getEditedPostAttribute( 'slug' ),\n\t\t\tpostTitle: getEditedPostAttribute( 'title' ),\n\t\t\tpostID: id,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost } = dispatch( editorStore );\n\t\treturn {\n\t\t\tonUpdateSlug( slug ) {\n\t\t\t\teditPost( { slug } );\n\t\t\t},\n\t\t};\n\t} ),\n] )( PostSlug );\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostStickyCheck( { children } ) {\n\tconst { hasStickyAction, postType } = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\treturn {\n\t\t\thasStickyAction: post._links?.[ 'wp:action-sticky' ] ?? false,\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t};\n\t}, [] );\n\n\tif ( postType !== 'post' || ! hasStickyAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostStickyCheck from './check';\nimport { store as editorStore } from '../../store';\n\nexport default function PostSticky() {\n\tconst postSticky = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getEditedPostAttribute( 'sticky' ) ?? false\n\t\t);\n\t}, [] );\n\tconst { editPost } = useDispatch( editorStore );\n\n\treturn (\n\t\t<PostStickyCheck>\n\t\t\t<CheckboxControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\tlabel={ __( 'Stick to the top of the blog' ) }\n\t\t\t\tchecked={ postSticky }\n\t\t\t\tonChange={ () => editPost( { sticky: ! postSticky } ) }\n\t\t\t/>\n\t\t</PostStickyCheck>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostSwitchToDraftButton() {\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\n\tconst { editPost, savePost } = useDispatch( editorStore );\n\tconst { isSaving, isPublished, isScheduled } = useSelect( ( select ) => {\n\t\tconst { isSavingPost, isCurrentPostPublished, isCurrentPostScheduled } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t}, [] );\n\n\tconst isDisabled = isSaving || ( ! isPublished && ! isScheduled );\n\n\tlet alertMessage;\n\tif ( isPublished ) {\n\t\talertMessage = __( 'Are you sure you want to unpublish this post?' );\n\t} else if ( isScheduled ) {\n\t\talertMessage = __( 'Are you sure you want to unschedule this post?' );\n\t}\n\n\tconst handleConfirm = () => {\n\t\tsetShowConfirmDialog( false );\n\t\teditPost( { status: 'draft' } );\n\t\tsavePost();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tclassName=\"editor-post-switch-to-draft\"\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tif ( ! isDisabled ) {\n\t\t\t\t\t\tsetShowConfirmDialog( true );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\taria-disabled={ isDisabled }\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tstyle={ { flexGrow: '1', justifyContent: 'center' } }\n\t\t\t>\n\t\t\t\t{ __( 'Switch to draft' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\tonConfirm={ handleConfirm }\n\t\t\t\tonCancel={ () => setShowConfirmDialog( false ) }\n\t\t\t>\n\t\t\t\t{ alertMessage }\n\t\t\t</ConfirmDialog>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tModal,\n\tButton,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\tToggleControl,\n} from '@wordpress/components';\nimport { useEffect, useState } from '@wordpress/element';\nimport { privateApis as blockEditorPrivateApis } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport PostPanelRow from '../post-panel-row';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\n\nconst { ReusableBlocksRenameHint } = unlock( blockEditorPrivateApis );\n\nexport default function PostSyncStatus() {\n\tconst { syncStatus, postType } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst meta = getEditedPostAttribute( 'meta' );\n\n\t\t// When the post is first created, the top level wp_pattern_sync_status is not set so get meta value instead.\n\t\tconst currentSyncStatus =\n\t\t\tmeta?.wp_pattern_sync_status === 'unsynced'\n\t\t\t\t? 'unsynced'\n\t\t\t\t: getEditedPostAttribute( 'wp_pattern_sync_status' );\n\n\t\treturn {\n\t\t\tsyncStatus: currentSyncStatus,\n\t\t\tpostType: getEditedPostAttribute( 'type' ),\n\t\t};\n\t} );\n\n\tif ( postType !== 'wp_block' ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PostPanelRow label={ __( 'Sync status' ) }>\n\t\t\t<div className=\"editor-post-sync-status__value\">\n\t\t\t\t{ syncStatus === 'unsynced'\n\t\t\t\t\t? __( 'Not synced' )\n\t\t\t\t\t: __( 'Fully synced' ) }\n\t\t\t</div>\n\t\t</PostPanelRow>\n\t);\n}\n\nexport function PostSyncStatusModal() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst [ isModalOpen, setIsModalOpen ] = useState( false );\n\tconst [ syncType, setSyncType ] = useState( undefined );\n\n\tconst { postType, isNewPost } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, isCleanNewPost } =\n\t\t\tselect( editorStore );\n\t\treturn {\n\t\t\tpostType: getEditedPostAttribute( 'type' ),\n\t\t\tisNewPost: isCleanNewPost(),\n\t\t};\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( isNewPost && postType === 'wp_block' ) {\n\t\t\tsetIsModalOpen( true );\n\t\t}\n\t\t// We only want the modal to open when the page is first loaded.\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [] );\n\n\tconst setSyncStatus = () => {\n\t\teditPost( {\n\t\t\tmeta: {\n\t\t\t\twp_pattern_sync_status: syncType,\n\t\t\t},\n\t\t} );\n\t};\n\n\tif ( postType !== 'wp_block' || ! isNewPost ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ isModalOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={ __( 'Set pattern sync status' ) }\n\t\t\t\t\tonRequestClose={ () => {\n\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t} }\n\t\t\t\t\toverlayClassName=\"reusable-blocks-menu-items__convert-modal\"\n\t\t\t\t>\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={ ( event ) => {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tsetIsModalOpen( false );\n\t\t\t\t\t\t\tsetSyncStatus();\n\t\t\t\t\t\t} }\n\t\t\t\t\t>\n\t\t\t\t\t\t<VStack spacing=\"5\">\n\t\t\t\t\t\t\t<ReusableBlocksRenameHint />\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t\t'Synced',\n\t\t\t\t\t\t\t\t\t'Option that makes an individual pattern synchronized'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\thelp={ __(\n\t\t\t\t\t\t\t\t\t'Sync this pattern across multiple locations.'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tchecked={ ! syncType }\n\t\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\t\tsetSyncType(\n\t\t\t\t\t\t\t\t\t\t! syncType ? 'unsynced' : undefined\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<HStack justify=\"right\">\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" type=\"submit\">\n\t\t\t\t\t\t\t\t\t{ __( 'Create' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t</form>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport HierarchicalTermSelector from './hierarchical-term-selector';\nimport FlatTermSelector from './flat-term-selector';\nimport { store as editorStore } from '../../store';\n\nconst identity = ( x ) => x;\n\nexport function PostTaxonomies( {\n\tpostType,\n\ttaxonomies,\n\ttaxonomyWrapper = identity,\n} ) {\n\tconst availableTaxonomies = ( taxonomies ?? [] ).filter( ( taxonomy ) =>\n\t\ttaxonomy.types.includes( postType )\n\t);\n\tconst visibleTaxonomies = availableTaxonomies.filter(\n\t\t// In some circumstances .visibility can end up as undefined so optional chaining operator required.\n\t\t// https://github.com/WordPress/gutenberg/issues/40326\n\t\t( taxonomy ) => taxonomy.visibility?.show_ui\n\t);\n\treturn visibleTaxonomies.map( ( taxonomy ) => {\n\t\tconst TaxonomyComponent = taxonomy.hierarchical\n\t\t\t? HierarchicalTermSelector\n\t\t\t: FlatTermSelector;\n\t\treturn (\n\t\t\t<Fragment key={ `taxonomy-${ taxonomy.slug }` }>\n\t\t\t\t{ taxonomyWrapper(\n\t\t\t\t\t<TaxonomyComponent slug={ taxonomy.slug } />,\n\t\t\t\t\ttaxonomy\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t);\n\t} );\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t\ttaxonomies: select( coreStore ).getTaxonomies( { per_page: -1 } ),\n\t\t};\n\t} ),\n] )( PostTaxonomies );\n","/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport function PostTaxonomiesCheck( { postType, taxonomies, children } ) {\n\tconst hasTaxonomies = taxonomies?.some( ( taxonomy ) =>\n\t\ttaxonomy.types.includes( postType )\n\t);\n\tif ( ! hasTaxonomies ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostType: select( editorStore ).getCurrentPostType(),\n\t\t\ttaxonomies: select( coreStore ).getTaxonomies( { per_page: -1 } ),\n\t\t};\n\t} ),\n] )( PostTaxonomiesCheck );\n","/**\n * WordPress dependencies\n */\nimport { PanelBody } from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostTaxonomiesForm from './index';\nimport PostTaxonomiesCheck from './check';\n\nfunction TaxonomyPanel( { taxonomy, children } ) {\n\tconst slug = taxonomy?.slug;\n\tconst panelName = slug ? `taxonomy-panel-${ slug }` : '';\n\tconst { isEnabled, isOpened } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { isEditorPanelEnabled, isEditorPanelOpened } =\n\t\t\t\tselect( editorStore );\n\t\t\treturn {\n\t\t\t\tisEnabled: slug ? isEditorPanelEnabled( panelName ) : false,\n\t\t\t\tisOpened: slug ? isEditorPanelOpened( panelName ) : false,\n\t\t\t};\n\t\t},\n\t\t[ panelName, slug ]\n\t);\n\tconst { toggleEditorPanelOpened } = useDispatch( editorStore );\n\n\tif ( ! isEnabled ) {\n\t\treturn null;\n\t}\n\n\tconst taxonomyMenuName = taxonomy?.labels?.menu_name;\n\tif ( ! taxonomyMenuName ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PanelBody\n\t\t\ttitle={ taxonomyMenuName }\n\t\t\topened={ isOpened }\n\t\t\tonToggle={ () => toggleEditorPanelOpened( panelName ) }\n\t\t>\n\t\t\t{ children }\n\t\t</PanelBody>\n\t);\n}\n\nfunction PostTaxonomies() {\n\treturn (\n\t\t<PostTaxonomiesCheck>\n\t\t\t<PostTaxonomiesForm\n\t\t\t\ttaxonomyWrapper={ ( content, taxonomy ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TaxonomyPanel taxonomy={ taxonomy }>\n\t\t\t\t\t\t\t{ content }\n\t\t\t\t\t\t</TaxonomyPanel>\n\t\t\t\t\t);\n\t\t\t\t} }\n\t\t\t/>\n\t\t</PostTaxonomiesCheck>\n\t);\n}\n\nexport default PostTaxonomies;\n","/**\n * External dependencies\n */\nimport Textarea from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMemo } from '@wordpress/element';\nimport { __unstableSerializeAndClean } from '@wordpress/blocks';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { useInstanceId } from '@wordpress/compose';\nimport { VisuallyHidden } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostTextEditor() {\n\tconst instanceId = useInstanceId( PostTextEditor );\n\tconst { content, blocks, type, id } = useSelect( ( select ) => {\n\t\tconst { getEditedEntityRecord } = select( coreStore );\n\t\tconst { getCurrentPostType, getCurrentPostId } = select( editorStore );\n\t\tconst _type = getCurrentPostType();\n\t\tconst _id = getCurrentPostId();\n\t\tconst editedRecord = getEditedEntityRecord( 'postType', _type, _id );\n\n\t\treturn {\n\t\t\tcontent: editedRecord?.content,\n\t\t\tblocks: editedRecord?.blocks,\n\t\t\ttype: _type,\n\t\t\tid: _id,\n\t\t};\n\t}, [] );\n\tconst { editEntityRecord } = useDispatch( coreStore );\n\t// Replicates the logic found in getEditedPostContent().\n\tconst value = useMemo( () => {\n\t\tif ( content instanceof Function ) {\n\t\t\treturn content( { blocks } );\n\t\t} else if ( blocks ) {\n\t\t\t// If we have parsed blocks already, they should be our source of truth.\n\t\t\t// Parsing applies block deprecations and legacy block conversions that\n\t\t\t// unparsed content will not have.\n\t\t\treturn __unstableSerializeAndClean( blocks );\n\t\t}\n\t\treturn content;\n\t}, [ content, blocks ] );\n\n\treturn (\n\t\t<>\n\t\t\t<VisuallyHidden\n\t\t\t\tas=\"label\"\n\t\t\t\thtmlFor={ `post-content-${ instanceId }` }\n\t\t\t>\n\t\t\t\t{ __( 'Type text or HTML' ) }\n\t\t\t</VisuallyHidden>\n\t\t\t<Textarea\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tdir=\"auto\"\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\teditEntityRecord( 'postType', type, id, {\n\t\t\t\t\t\tcontent: event.target.value,\n\t\t\t\t\t\tblocks: undefined,\n\t\t\t\t\t\tselection: undefined,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t\tclassName=\"editor-post-text-editor\"\n\t\t\t\tid={ `post-content-${ instanceId }` }\n\t\t\t\tplaceholder={ __( 'Start writing with text or HTML' ) }\n\t\t\t/>\n\t\t</>\n\t);\n}\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"dom\"];","export const DEFAULT_CLASSNAMES =\n\t'wp-block wp-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text';\n\nexport const REGEXP_NEWLINES = /[\\r\\n]+/g;\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useImperativeHandle, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function usePostTitleFocus( forwardedRef ) {\n\tconst ref = useRef();\n\n\tconst { isCleanNewPost } = useSelect( ( select ) => {\n\t\tconst { isCleanNewPost: _isCleanNewPost } = select( editorStore );\n\n\t\treturn {\n\t\t\tisCleanNewPost: _isCleanNewPost(),\n\t\t};\n\t}, [] );\n\n\tuseImperativeHandle( forwardedRef, () => ( {\n\t\tfocus: () => {\n\t\t\tref?.current?.focus();\n\t\t},\n\t} ) );\n\n\tuseEffect( () => {\n\t\tif ( ! ref.current ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { defaultView } = ref.current.ownerDocument;\n\t\tconst { name, parent } = defaultView;\n\t\tconst ownerDocument =\n\t\t\tname === 'editor-canvas' ? parent.document : defaultView.document;\n\t\tconst { activeElement, body } = ownerDocument;\n\n\t\t// Only autofocus the title when the post is entirely empty. This should\n\t\t// only happen for a new post, which means we focus the title on new\n\t\t// post so the author can start typing right away, without needing to\n\t\t// click anything.\n\t\tif ( isCleanNewPost && ( ! activeElement || body === activeElement ) ) {\n\t\t\tref.current.focus();\n\t\t}\n\t}, [ isCleanNewPost ] );\n\n\treturn { ref };\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function usePostTitle() {\n\tconst { editPost } = useDispatch( editorStore );\n\tconst { title } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\n\t\treturn {\n\t\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\t};\n\t}, [] );\n\n\tfunction updateTitle( newTitle ) {\n\t\teditPost( { title: newTitle } );\n\t}\n\n\treturn { title, setTitle: updateTitle };\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { forwardRef, useState } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { ENTER } from '@wordpress/keycodes';\nimport { pasteHandler } from '@wordpress/blocks';\nimport {\n\t__unstableUseRichText as useRichText,\n\tcreate,\n\ttoHTMLString,\n\tinsert,\n} from '@wordpress/rich-text';\nimport { useMergeRefs } from '@wordpress/compose';\nimport { __unstableStripHTML as stripHTML } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport { DEFAULT_CLASSNAMES, REGEXP_NEWLINES } from './constants';\nimport usePostTitleFocus from './use-post-title-focus';\nimport usePostTitle from './use-post-title';\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nfunction PostTitle( _, forwardedRef ) {\n\tconst { placeholder, hasFixedToolbar } = useSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute } = select( editorStore );\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { titlePlaceholder, hasFixedToolbar: _hasFixedToolbar } =\n\t\t\tgetSettings();\n\n\t\treturn {\n\t\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\t\tplaceholder: titlePlaceholder,\n\t\t\thasFixedToolbar: _hasFixedToolbar,\n\t\t};\n\t}, [] );\n\n\tconst [ isSelected, setIsSelected ] = useState( false );\n\n\tconst { ref: focusRef } = usePostTitleFocus( forwardedRef );\n\n\tconst { title, setTitle: onUpdate } = usePostTitle();\n\n\tconst [ selection, setSelection ] = useState( {} );\n\n\tconst { clearSelectedBlock, insertBlocks, insertDefaultBlock } =\n\t\tuseDispatch( blockEditorStore );\n\n\tfunction onChange( value ) {\n\t\tonUpdate( value.replace( REGEXP_NEWLINES, ' ' ) );\n\t}\n\n\tfunction onInsertBlockAfter( blocks ) {\n\t\tinsertBlocks( blocks, 0 );\n\t}\n\n\tfunction onSelect() {\n\t\tsetIsSelected( true );\n\t\tclearSelectedBlock();\n\t}\n\n\tfunction onUnselect() {\n\t\tsetIsSelected( false );\n\t\tsetSelection( {} );\n\t}\n\n\tfunction onEnterPress() {\n\t\tinsertDefaultBlock( undefined, undefined, 0 );\n\t}\n\n\tfunction onKeyDown( event ) {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tonEnterPress();\n\t\t}\n\t}\n\n\tfunction onPaste( event ) {\n\t\tconst clipboardData = event.clipboardData;\n\n\t\tlet plainText = '';\n\t\tlet html = '';\n\n\t\t// IE11 only supports `Text` as an argument for `getData` and will\n\t\t// otherwise throw an invalid argument error, so we try the standard\n\t\t// arguments first, then fallback to `Text` if they fail.\n\t\ttry {\n\t\t\tplainText = clipboardData.getData( 'text/plain' );\n\t\t\thtml = clipboardData.getData( 'text/html' );\n\t\t} catch ( error1 ) {\n\t\t\ttry {\n\t\t\t\thtml = clipboardData.getData( 'Text' );\n\t\t\t} catch ( error2 ) {\n\t\t\t\t// Some browsers like UC Browser paste plain text by default and\n\t\t\t\t// don't support clipboardData at all, so allow default\n\t\t\t\t// behaviour.\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Allows us to ask for this information when we get a report.\n\t\twindow.console.log( 'Received HTML:\\n\\n', html );\n\t\twindow.console.log( 'Received plain text:\\n\\n', plainText );\n\n\t\tconst content = pasteHandler( {\n\t\t\tHTML: html,\n\t\t\tplainText,\n\t\t} );\n\n\t\tevent.preventDefault();\n\n\t\tif ( ! content.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( typeof content !== 'string' ) {\n\t\t\tconst [ firstBlock ] = content;\n\n\t\t\tif (\n\t\t\t\t! title &&\n\t\t\t\t( firstBlock.name === 'core/heading' ||\n\t\t\t\t\tfirstBlock.name === 'core/paragraph' )\n\t\t\t) {\n\t\t\t\t// Strip HTML to avoid unwanted HTML being added to the title.\n\t\t\t\t// In the majority of cases it is assumed that HTML in the title\n\t\t\t\t// is undesirable.\n\t\t\t\tconst contentNoHTML = stripHTML(\n\t\t\t\t\tfirstBlock.attributes.content\n\t\t\t\t);\n\t\t\t\tonUpdate( contentNoHTML );\n\t\t\t\tonInsertBlockAfter( content.slice( 1 ) );\n\t\t\t} else {\n\t\t\t\tonInsertBlockAfter( content );\n\t\t\t}\n\t\t} else {\n\t\t\tconst value = {\n\t\t\t\t...create( { html: title } ),\n\t\t\t\t...selection,\n\t\t\t};\n\n\t\t\t// Strip HTML to avoid unwanted HTML being added to the title.\n\t\t\t// In the majority of cases it is assumed that HTML in the title\n\t\t\t// is undesirable.\n\t\t\tconst contentNoHTML = stripHTML( content );\n\n\t\t\tconst newValue = insert( value, create( { html: contentNoHTML } ) );\n\t\t\tonUpdate( toHTMLString( { value: newValue } ) );\n\t\t\tsetSelection( {\n\t\t\t\tstart: newValue.start,\n\t\t\t\tend: newValue.end,\n\t\t\t} );\n\t\t}\n\t}\n\n\tconst decodedPlaceholder =\n\t\tdecodeEntities( placeholder ) || __( 'Add title' );\n\n\tconst { ref: richTextRef } = useRichText( {\n\t\tvalue: title,\n\t\tonChange,\n\t\tplaceholder: decodedPlaceholder,\n\t\tselectionStart: selection.start,\n\t\tselectionEnd: selection.end,\n\t\tonSelectionChange( newStart, newEnd ) {\n\t\t\tsetSelection( ( sel ) => {\n\t\t\t\tconst { start, end } = sel;\n\t\t\t\tif ( start === newStart && end === newEnd ) {\n\t\t\t\t\treturn sel;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tstart: newStart,\n\t\t\t\t\tend: newEnd,\n\t\t\t\t};\n\t\t\t} );\n\t\t},\n\t\t__unstableDisableFormats: false,\n\t} );\n\n\t// The wp-block className is important for editor styles.\n\t// This same block is used in both the visual and the code editor.\n\tconst className = classnames( DEFAULT_CLASSNAMES, {\n\t\t'is-selected': isSelected,\n\t\t'has-fixed-toolbar': hasFixedToolbar,\n\t} );\n\n\treturn (\n\t\t/* eslint-disable jsx-a11y/heading-has-content, jsx-a11y/no-noninteractive-element-to-interactive-role */\n\t\t<PostTypeSupportCheck supportKeys=\"title\">\n\t\t\t<h1\n\t\t\t\tref={ useMergeRefs( [ richTextRef, focusRef ] ) }\n\t\t\t\tcontentEditable\n\t\t\t\tclassName={ className }\n\t\t\t\taria-label={ decodedPlaceholder }\n\t\t\t\trole=\"textbox\"\n\t\t\t\taria-multiline=\"true\"\n\t\t\t\tonFocus={ onSelect }\n\t\t\t\tonBlur={ onUnselect }\n\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\tonKeyPress={ onUnselect }\n\t\t\t\tonPaste={ onPaste }\n\t\t\t/>\n\t\t</PostTypeSupportCheck>\n\t\t/* eslint-enable jsx-a11y/heading-has-content, jsx-a11y/no-noninteractive-element-to-interactive-role */\n\t);\n}\n\nexport default forwardRef( PostTitle );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { TextareaControl } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useState, forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { DEFAULT_CLASSNAMES, REGEXP_NEWLINES } from './constants';\nimport usePostTitleFocus from './use-post-title-focus';\nimport usePostTitle from './use-post-title';\n\nfunction PostTitleRaw( _, forwardedRef ) {\n\tconst { placeholder, hasFixedToolbar } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { titlePlaceholder, hasFixedToolbar: _hasFixedToolbar } =\n\t\t\tgetSettings();\n\n\t\treturn {\n\t\t\tplaceholder: titlePlaceholder,\n\t\t\thasFixedToolbar: _hasFixedToolbar,\n\t\t};\n\t}, [] );\n\n\tconst [ isSelected, setIsSelected ] = useState( false );\n\n\tconst { title, setTitle: onUpdate } = usePostTitle();\n\tconst { ref: focusRef } = usePostTitleFocus( forwardedRef );\n\n\tfunction onChange( value ) {\n\t\tonUpdate( value.replace( REGEXP_NEWLINES, ' ' ) );\n\t}\n\n\tfunction onSelect() {\n\t\tsetIsSelected( true );\n\t}\n\n\tfunction onUnselect() {\n\t\tsetIsSelected( false );\n\t}\n\n\t// The wp-block className is important for editor styles.\n\t// This same block is used in both the visual and the code editor.\n\tconst className = classnames( DEFAULT_CLASSNAMES, {\n\t\t'is-selected': isSelected,\n\t\t'has-fixed-toolbar': hasFixedToolbar,\n\t\t'is-raw-text': true,\n\t} );\n\n\tconst decodedPlaceholder =\n\t\tdecodeEntities( placeholder ) || __( 'Add title' );\n\n\treturn (\n\t\t<TextareaControl\n\t\t\tref={ focusRef }\n\t\t\tvalue={ title }\n\t\t\tonChange={ onChange }\n\t\t\tonFocus={ onSelect }\n\t\t\tonBlur={ onUnselect }\n\t\t\tlabel={ placeholder }\n\t\t\tclassName={ className }\n\t\t\tplaceholder={ decodedPlaceholder }\n\t\t\thideLabelFromVision={ true }\n\t\t\tautoComplete=\"off\"\n\t\t\tdir=\"auto\"\n\t\t\trows={ 1 }\n\t\t\t__nextHasNoMarginBottom\n\t\t/>\n\t);\n}\n\nexport default forwardRef( PostTitleRaw );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\t__experimentalConfirmDialog as ConfirmDialog,\n} from '@wordpress/components';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostTrash() {\n\tconst { isNew, isDeleting, postId } = useSelect( ( select ) => {\n\t\tconst store = select( editorStore );\n\t\treturn {\n\t\t\tisNew: store.isEditedPostNew(),\n\t\t\tisDeleting: store.isDeletingPost(),\n\t\t\tpostId: store.getCurrentPostId(),\n\t\t};\n\t}, [] );\n\tconst { trashPost } = useDispatch( editorStore );\n\tconst [ showConfirmDialog, setShowConfirmDialog ] = useState( false );\n\n\tif ( isNew || ! postId ) {\n\t\treturn null;\n\t}\n\n\tconst handleConfirm = () => {\n\t\tsetShowConfirmDialog( false );\n\t\ttrashPost();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tclassName=\"editor-post-trash\"\n\t\t\t\tisDestructive\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tisBusy={ isDeleting }\n\t\t\t\taria-disabled={ isDeleting }\n\t\t\t\tonClick={\n\t\t\t\t\tisDeleting ? undefined : () => setShowConfirmDialog( true )\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{ __( 'Move to trash' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmDialog\n\t\t\t\tisOpen={ showConfirmDialog }\n\t\t\t\tonConfirm={ handleConfirm }\n\t\t\t\tonCancel={ () => setShowConfirmDialog( false ) }\n\t\t\t>\n\t\t\t\t{ __(\n\t\t\t\t\t'Are you sure you want to move this post to the trash?'\n\t\t\t\t) }\n\t\t\t</ConfirmDialog>\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nfunction PostTrashCheck( { isNew, postId, canUserDelete, children } ) {\n\tif ( isNew || ! postId || ! canUserDelete ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => {\n\tconst { isEditedPostNew, getCurrentPostId, getCurrentPostType } =\n\t\tselect( editorStore );\n\tconst { getPostType, canUser } = select( coreStore );\n\tconst postId = getCurrentPostId();\n\tconst postType = getPostType( getCurrentPostType() );\n\tconst resource = postType?.rest_base || ''; // eslint-disable-line camelcase\n\n\treturn {\n\t\tisNew: isEditedPostNew(),\n\t\tpostId,\n\t\tcanUserDelete:\n\t\t\tpostId && resource ? canUser( 'delete', resource, postId ) : false,\n\t};\n} )( PostTrashCheck );\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { safeDecodeURIComponent, cleanForSlug } from '@wordpress/url';\nimport { useState } from '@wordpress/element';\nimport { __experimentalInspectorPopoverHeader as InspectorPopoverHeader } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { TextControl, ExternalLink } from '@wordpress/components';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostURL( { onClose } ) {\n\tconst {\n\t\tisEditable,\n\t\tpostSlug,\n\t\tviewPostLabel,\n\t\tpostLink,\n\t\tpermalinkPrefix,\n\t\tpermalinkSuffix,\n\t} = useSelect( ( select ) => {\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tconst permalinkParts = select( editorStore ).getPermalinkParts();\n\t\tconst hasPublishAction = post?._links?.[ 'wp:action-publish' ] ?? false;\n\n\t\treturn {\n\t\t\tisEditable:\n\t\t\t\tselect( editorStore ).isPermalinkEditable() && hasPublishAction,\n\t\t\tpostSlug: safeDecodeURIComponent(\n\t\t\t\tselect( editorStore ).getEditedPostSlug()\n\t\t\t),\n\t\t\tviewPostLabel: postType?.labels.view_item,\n\t\t\tpostLink: post.link,\n\t\t\tpermalinkPrefix: permalinkParts?.prefix,\n\t\t\tpermalinkSuffix: permalinkParts?.suffix,\n\t\t};\n\t}, [] );\n\n\tconst { editPost } = useDispatch( editorStore );\n\n\tconst [ forceEmptyField, setForceEmptyField ] = useState( false );\n\n\treturn (\n\t\t<div className=\"editor-post-url\">\n\t\t\t<InspectorPopoverHeader title={ __( 'URL' ) } onClose={ onClose } />\n\t\t\t{ isEditable && (\n\t\t\t\t<TextControl\n\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\tlabel={ __( 'Permalink' ) }\n\t\t\t\t\tvalue={ forceEmptyField ? '' : postSlug }\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tspellCheck=\"false\"\n\t\t\t\t\thelp={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ __( 'The last part of the URL.' ) }{ ' ' }\n\t\t\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\t\t\thref={ __(\n\t\t\t\t\t\t\t\t\t'https://wordpress.org/documentation/article/page-post-settings-sidebar/#permalink'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Learn more.' ) }\n\t\t\t\t\t\t\t</ExternalLink>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t\tonChange={ ( newValue ) => {\n\t\t\t\t\t\teditPost( { slug: newValue } );\n\t\t\t\t\t\t// When we delete the field the permalink gets\n\t\t\t\t\t\t// reverted to the original value.\n\t\t\t\t\t\t// The forceEmptyField logic allows the user to have\n\t\t\t\t\t\t// the field temporarily empty while typing.\n\t\t\t\t\t\tif ( ! newValue ) {\n\t\t\t\t\t\t\tif ( ! forceEmptyField ) {\n\t\t\t\t\t\t\t\tsetForceEmptyField( true );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t\tonBlur={ ( event ) => {\n\t\t\t\t\t\teditPost( {\n\t\t\t\t\t\t\tslug: cleanForSlug( event.target.value ),\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tif ( forceEmptyField ) {\n\t\t\t\t\t\t\tsetForceEmptyField( false );\n\t\t\t\t\t\t}\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ isEditable && (\n\t\t\t\t<h3 className=\"editor-post-url__link-label\">\n\t\t\t\t\t{ viewPostLabel ?? __( 'View post' ) }\n\t\t\t\t</h3>\n\t\t\t) }\n\t\t\t<p>\n\t\t\t\t<ExternalLink\n\t\t\t\t\tclassName=\"editor-post-url__link\"\n\t\t\t\t\thref={ postLink }\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\t{ isEditable ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<span className=\"editor-post-url__link-prefix\">\n\t\t\t\t\t\t\t\t{ permalinkPrefix }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"editor-post-url__link-slug\">\n\t\t\t\t\t\t\t\t{ postSlug }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"editor-post-url__link-suffix\">\n\t\t\t\t\t\t\t\t{ permalinkSuffix }\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tpostLink\n\t\t\t\t\t) }\n\t\t\t\t</ExternalLink>\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostURLCheck( { children } ) {\n\tconst isVisible = useSelect( ( select ) => {\n\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\tif ( ! postType?.viewable ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst post = select( editorStore ).getCurrentPost();\n\t\tif ( ! post.link ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst permalinkParts = select( editorStore ).getPermalinkParts();\n\t\tif ( ! permalinkParts ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}, [] );\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { filterURLForDisplay, safeDecodeURIComponent } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostURLLabel() {\n\treturn usePostURLLabel();\n}\n\nexport function usePostURLLabel() {\n\tconst postLink = useSelect(\n\t\t( select ) => select( editorStore ).getPermalink(),\n\t\t[]\n\t);\n\treturn filterURLForDisplay( safeDecodeURIComponent( postLink ) );\n}\n","/**\n * WordPress dependencies\n */\nimport { useMemo, useState } from '@wordpress/element';\nimport { Dropdown, Button } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport PostURLCheck from './check';\nimport PostURL from './index';\nimport { usePostURLLabel } from './label';\nimport PostPanelRow from '../post-panel-row';\n\nexport default function PostURLPanel() {\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the popover's anchor updates.\n\tconst [ popoverAnchor, setPopoverAnchor ] = useState( null );\n\t// Memoize popoverProps to avoid returning a new object every time.\n\tconst popoverProps = useMemo(\n\t\t() => ( { anchor: popoverAnchor, placement: 'bottom-end' } ),\n\t\t[ popoverAnchor ]\n\t);\n\n\treturn (\n\t\t<PostURLCheck>\n\t\t\t<PostPanelRow label={ __( 'URL' ) } ref={ setPopoverAnchor }>\n\t\t\t\t<Dropdown\n\t\t\t\t\tpopoverProps={ popoverProps }\n\t\t\t\t\tclassName=\"editor-post-url__panel-dropdown\"\n\t\t\t\t\tcontentClassName=\"editor-post-url__panel-dialog\"\n\t\t\t\t\tfocusOnMount\n\t\t\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t\t\t<PostURLToggle isOpen={ isOpen } onClick={ onToggle } />\n\t\t\t\t\t) }\n\t\t\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t\t\t<PostURL onClose={ onClose } />\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</PostPanelRow>\n\t\t</PostURLCheck>\n\t);\n}\n\nfunction PostURLToggle( { isOpen, onClick } ) {\n\tconst label = usePostURLLabel();\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"editor-post-url__panel-toggle\"\n\t\t\tvariant=\"tertiary\"\n\t\t\taria-expanded={ isOpen }\n\t\t\t// translators: %s: Current post URL.\n\t\t\taria-label={ sprintf( __( 'Change URL: %s' ), label ) }\n\t\t\tonClick={ onClick }\n\t\t>\n\t\t\t{ label }\n\t\t</Button>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostVisibilityCheck( { render } ) {\n\tconst canEdit = useSelect( ( select ) => {\n\t\treturn (\n\t\t\tselect( editorStore ).getCurrentPost()._links?.[\n\t\t\t\t'wp:action-publish'\n\t\t\t] ?? false\n\t\t);\n\t} );\n\n\treturn render( { canEdit } );\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst info = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z\" />\n\t</SVG>\n);\n\nexport default info;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"wordcount\"];","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { _x } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function WordCount() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\n\treturn (\n\t\t<span className=\"word-count\">\n\t\t\t{ wordCount( content, wordCountType ) }\n\t\t</span>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { _x, _n, __, sprintf } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\nimport { createInterpolateElement } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Average reading rate - based on average taken from\n * https://irisreading.com/average-reading-speed-in-various-languages/\n * (Characters/minute used for Chinese rather than words).\n *\n * @type {number} A rough estimate of the average reading rate across multiple languages.\n */\nconst AVERAGE_READING_RATE = 189;\n\nexport default function TimeToRead() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\tconst minutesToRead = Math.round(\n\t\twordCount( content, wordCountType ) / AVERAGE_READING_RATE\n\t);\n\tconst minutesToReadString =\n\t\tminutesToRead === 0\n\t\t\t? createInterpolateElement( __( '<span>< 1</span> minute' ), {\n\t\t\t\t\tspan: <span />,\n\t\t\t  } )\n\t\t\t: createInterpolateElement(\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %s is the number of minutes the post will take to read. */\n\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t'<span>%d</span> minute',\n\t\t\t\t\t\t\t'<span>%d</span> minutes',\n\t\t\t\t\t\t\tminutesToRead\n\t\t\t\t\t\t),\n\t\t\t\t\t\tminutesToRead\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tspan: <span />,\n\t\t\t\t\t}\n\t\t\t  );\n\n\treturn <span className=\"time-to-read\">{ minutesToReadString }</span>;\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport { count as characterCount } from '@wordpress/wordcount';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function CharacterCount() {\n\tconst content = useSelect(\n\t\t( select ) => select( editorStore ).getEditedPostAttribute( 'content' ),\n\t\t[]\n\t);\n\n\treturn characterCount( content, 'characters_including_spaces' );\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport WordCount from '../word-count';\nimport TimeToRead from '../time-to-read';\nimport DocumentOutline from '../document-outline';\nimport CharacterCount from '../character-count';\n\nfunction TableOfContentsPanel( { hasOutlineItemsDisabled, onRequestClose } ) {\n\tconst { headingCount, paragraphCount, numberOfBlocks } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getGlobalBlockCount } = select( blockEditorStore );\n\t\t\treturn {\n\t\t\t\theadingCount: getGlobalBlockCount( 'core/heading' ),\n\t\t\t\tparagraphCount: getGlobalBlockCount( 'core/paragraph' ),\n\t\t\t\tnumberOfBlocks: getGlobalBlockCount(),\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\treturn (\n\t\t/*\n\t\t * Disable reason: The `list` ARIA role is redundant but\n\t\t * Safari+VoiceOver won't announce the list otherwise.\n\t\t */\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName=\"table-of-contents__wrapper\"\n\t\t\t\trole=\"note\"\n\t\t\t\taria-label={ __( 'Document Statistics' ) }\n\t\t\t\ttabIndex=\"0\"\n\t\t\t>\n\t\t\t\t<ul role=\"list\" className=\"table-of-contents__counts\">\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Words' ) }\n\t\t\t\t\t\t<WordCount />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Characters' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t<CharacterCount />\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Time to read' ) }\n\t\t\t\t\t\t<TimeToRead />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Headings' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ headingCount }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Paragraphs' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ paragraphCount }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Blocks' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ numberOfBlocks }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t{ headingCount > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<h2 className=\"table-of-contents__title\">\n\t\t\t\t\t\t{ __( 'Document Outline' ) }\n\t\t\t\t\t</h2>\n\t\t\t\t\t<DocumentOutline\n\t\t\t\t\t\tonSelect={ onRequestClose }\n\t\t\t\t\t\thasOutlineItemsDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nexport default TableOfContentsPanel;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Dropdown, Button } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport { info } from '@wordpress/icons';\nimport { forwardRef } from '@wordpress/element';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport TableOfContentsPanel from './panel';\n\nfunction TableOfContents(\n\t{ hasOutlineItemsDisabled, repositionDropdown, ...props },\n\tref\n) {\n\tconst hasBlocks = useSelect(\n\t\t( select ) => !! select( blockEditorStore ).getBlockCount(),\n\t\t[]\n\t);\n\treturn (\n\t\t<Dropdown\n\t\t\tpopoverProps={ {\n\t\t\t\tplacement: repositionDropdown ? 'right' : 'bottom',\n\t\t\t} }\n\t\t\tclassName=\"table-of-contents\"\n\t\t\tcontentClassName=\"table-of-contents__popover\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<Button\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tonClick={ hasBlocks ? onToggle : undefined }\n\t\t\t\t\ticon={ info }\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\tlabel={ __( 'Details' ) }\n\t\t\t\t\ttooltipPosition=\"bottom\"\n\t\t\t\t\taria-disabled={ ! hasBlocks }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => (\n\t\t\t\t<TableOfContentsPanel\n\t\t\t\t\tonRequestClose={ onClose }\n\t\t\t\t\thasOutlineItemsDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t/>\n\t\t\t) }\n\t\t/>\n\t);\n}\n\nexport default forwardRef( TableOfContents );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\n\n/**\n * Warns the user if there are unsaved changes before leaving the editor.\n * Compatible with Post Editor and Site Editor.\n *\n * @return {Component} The component.\n */\nexport default function UnsavedChangesWarning() {\n\tconst { __experimentalGetDirtyEntityRecords } = useSelect( coreStore );\n\n\tuseEffect( () => {\n\t\t/**\n\t\t * Warns the user if there are unsaved changes before leaving the editor.\n\t\t *\n\t\t * @param {Event} event `beforeunload` event.\n\t\t *\n\t\t * @return {string | undefined} Warning prompt message, if unsaved changes exist.\n\t\t */\n\t\tconst warnIfUnsavedChanges = ( event ) => {\n\t\t\t// We need to call the selector directly in the listener to avoid race\n\t\t\t// conditions with `BrowserURL` where `componentDidUpdate` gets the\n\t\t\t// new value of `isEditedPostDirty` before this component does,\n\t\t\t// causing this component to incorrectly think a trashed post is still dirty.\n\t\t\tconst dirtyEntityRecords = __experimentalGetDirtyEntityRecords();\n\t\t\tif ( dirtyEntityRecords.length > 0 ) {\n\t\t\t\tevent.returnValue = __(\n\t\t\t\t\t'You have unsaved changes. If you proceed, they will be lost.'\n\t\t\t\t);\n\t\t\t\treturn event.returnValue;\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener( 'beforeunload', warnIfUnsavedChanges );\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'beforeunload', warnIfUnsavedChanges );\n\t\t};\n\t}, [ __experimentalGetDirtyEntityRecords ] );\n\n\treturn null;\n}\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\nimport {\n\twithRegistry,\n\tcreateRegistry,\n\tRegistryProvider,\n} from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { storeConfig as blockEditorStoreConfig } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { storeConfig } from '../../store';\n\nconst withRegistryProvider = createHigherOrderComponent(\n\t( WrappedComponent ) =>\n\t\twithRegistry( ( props ) => {\n\t\t\tconst {\n\t\t\t\tuseSubRegistry = true,\n\t\t\t\tregistry,\n\t\t\t\t...additionalProps\n\t\t\t} = props;\n\t\t\tif ( ! useSubRegistry ) {\n\t\t\t\treturn <WrappedComponent { ...additionalProps } />;\n\t\t\t}\n\n\t\t\tconst [ subRegistry, setSubRegistry ] = useState( null );\n\t\t\tuseEffect( () => {\n\t\t\t\tconst newRegistry = createRegistry(\n\t\t\t\t\t{\n\t\t\t\t\t\t'core/block-editor': blockEditorStoreConfig,\n\t\t\t\t\t},\n\t\t\t\t\tregistry\n\t\t\t\t);\n\t\t\t\tnewRegistry.registerStore( 'core/editor', storeConfig );\n\t\t\t\tsetSubRegistry( newRegistry );\n\t\t\t}, [ registry ] );\n\n\t\t\tif ( ! subRegistry ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<RegistryProvider value={ subRegistry }>\n\t\t\t\t\t<WrappedComponent { ...additionalProps } />\n\t\t\t\t</RegistryProvider>\n\t\t\t);\n\t\t} ),\n\t'withRegistryProvider'\n);\n\nexport default withRegistryProvider;\n","/**\n * The `editor` settings here need to be in sync with the corresponding ones in `editor` package.\n * See `packages/editor/src/components/media-categories/index.js`.\n *\n * In the future we could consider creating an Openvese package that can be used in both `editor` and `site-editor`.\n * The rest of the settings would still need to be in sync though.\n */\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf, _x } from '@wordpress/i18n';\nimport { resolveSelect } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport { store as coreStore } from '@wordpress/core-data';\n\n/** @typedef {import('@wordpress/block-editor').InserterMediaRequest} InserterMediaRequest */\n/** @typedef {import('@wordpress/block-editor').InserterMediaItem} InserterMediaItem */\n/** @typedef {import('@wordpress/block-editor').InserterMediaCategory} InserterMediaCategory */\n\nconst getExternalLink = ( url, text ) =>\n\t`<a ${ getExternalLinkAttributes( url ) }>${ text }</a>`;\n\nconst getExternalLinkAttributes = ( url ) =>\n\t`href=\"${ url }\" target=\"_blank\" rel=\"noreferrer noopener\"`;\n\nconst getOpenverseLicense = ( license, licenseVersion ) => {\n\tlet licenseName = license.trim();\n\t// PDM has no abbreviation\n\tif ( license !== 'pdm' ) {\n\t\tlicenseName = license.toUpperCase().replace( 'SAMPLING', 'Sampling' );\n\t}\n\t// If version is known, append version to the name.\n\t// The license has to have a version to be valid. Only\n\t// PDM (public domain mark) doesn't have a version.\n\tif ( licenseVersion ) {\n\t\tlicenseName += ` ${ licenseVersion }`;\n\t}\n\t// For licenses other than public-domain marks, prepend 'CC' to the name.\n\tif ( ! [ 'pdm', 'cc0' ].includes( license ) ) {\n\t\tlicenseName = `CC ${ licenseName }`;\n\t}\n\treturn licenseName;\n};\n\nconst getOpenverseCaption = ( item ) => {\n\tconst {\n\t\ttitle,\n\t\tforeign_landing_url: foreignLandingUrl,\n\t\tcreator,\n\t\tcreator_url: creatorUrl,\n\t\tlicense,\n\t\tlicense_version: licenseVersion,\n\t\tlicense_url: licenseUrl,\n\t} = item;\n\tconst fullLicense = getOpenverseLicense( license, licenseVersion );\n\tconst _creator = decodeEntities( creator );\n\tlet _caption;\n\tif ( _creator ) {\n\t\t_caption = title\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %1s: Title of a media work from Openverse; %2s: Name of the work's creator; %3s: Work's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '\"%1$s\" by %2$s/ %3$s', 'caption' ),\n\t\t\t\t\tgetExternalLink(\n\t\t\t\t\t\tforeignLandingUrl,\n\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t),\n\t\t\t\t\tcreatorUrl\n\t\t\t\t\t\t? getExternalLink( creatorUrl, _creator )\n\t\t\t\t\t\t: _creator,\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %1s: Link attributes for a given Openverse media work; %2s: Name of the work's creator; %3s: Works's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '<a %1$s>Work</a> by %2$s/ %3$s', 'caption' ),\n\t\t\t\t\tgetExternalLinkAttributes( foreignLandingUrl ),\n\t\t\t\t\tcreatorUrl\n\t\t\t\t\t\t? getExternalLink( creatorUrl, _creator )\n\t\t\t\t\t\t: _creator,\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  );\n\t} else {\n\t\t_caption = title\n\t\t\t? sprintf(\n\t\t\t\t\t// translators: %1s: Title of a media work from Openverse; %2s: Work's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '\"%1$s\"/ %2$s', 'caption' ),\n\t\t\t\t\tgetExternalLink(\n\t\t\t\t\t\tforeignLandingUrl,\n\t\t\t\t\t\tdecodeEntities( title )\n\t\t\t\t\t),\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  )\n\t\t\t: sprintf(\n\t\t\t\t\t// translators: %1s: Link attributes for a given Openverse media work; %2s: Works's licence e.g: \"CC0 1.0\".\n\t\t\t\t\t_x( '<a %1$s>Work</a>/ %2$s', 'caption' ),\n\t\t\t\t\tgetExternalLinkAttributes( foreignLandingUrl ),\n\t\t\t\t\tlicenseUrl\n\t\t\t\t\t\t? getExternalLink(\n\t\t\t\t\t\t\t\t`${ licenseUrl }?ref=openverse`,\n\t\t\t\t\t\t\t\tfullLicense\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: fullLicense\n\t\t\t  );\n\t}\n\treturn _caption.replace( /\\s{2}/g, ' ' );\n};\n\nconst coreMediaFetch = async ( query = {} ) => {\n\tconst mediaItems = await resolveSelect( coreStore ).getMediaItems( {\n\t\t...query,\n\t\torderBy: !! query?.search ? 'relevance' : 'date',\n\t} );\n\treturn mediaItems.map( ( mediaItem ) => ( {\n\t\t...mediaItem,\n\t\talt: mediaItem.alt_text,\n\t\turl: mediaItem.source_url,\n\t\tpreviewUrl: mediaItem.media_details?.sizes?.medium?.source_url,\n\t\tcaption: mediaItem.caption?.raw,\n\t} ) );\n};\n\n/** @type {InserterMediaCategory[]} */\nconst inserterMediaCategories = [\n\t{\n\t\tname: 'images',\n\t\tlabels: {\n\t\t\tname: __( 'Images' ),\n\t\t\tsearch_items: __( 'Search images' ),\n\t\t},\n\t\tmediaType: 'image',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'image' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'videos',\n\t\tlabels: {\n\t\t\tname: __( 'Videos' ),\n\t\t\tsearch_items: __( 'Search videos' ),\n\t\t},\n\t\tmediaType: 'video',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'video' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'audio',\n\t\tlabels: {\n\t\t\tname: __( 'Audio' ),\n\t\t\tsearch_items: __( 'Search audio' ),\n\t\t},\n\t\tmediaType: 'audio',\n\t\tasync fetch( query = {} ) {\n\t\t\treturn coreMediaFetch( { ...query, media_type: 'audio' } );\n\t\t},\n\t},\n\t{\n\t\tname: 'openverse',\n\t\tlabels: {\n\t\t\tname: __( 'Openverse' ),\n\t\t\tsearch_items: __( 'Search Openverse' ),\n\t\t},\n\t\tmediaType: 'image',\n\t\tasync fetch( query = {} ) {\n\t\t\tconst defaultArgs = {\n\t\t\t\tmature: false,\n\t\t\t\texcluded_source: 'flickr,inaturalist,wikimedia',\n\t\t\t\tlicense: 'pdm,cc0',\n\t\t\t};\n\t\t\tconst finalQuery = { ...query, ...defaultArgs };\n\t\t\tconst mapFromInserterMediaRequest = {\n\t\t\t\tper_page: 'page_size',\n\t\t\t\tsearch: 'q',\n\t\t\t};\n\t\t\tconst url = new URL(\n\t\t\t\t'https://api.openverse.engineering/v1/images/'\n\t\t\t);\n\t\t\tObject.entries( finalQuery ).forEach( ( [ key, value ] ) => {\n\t\t\t\tconst queryKey = mapFromInserterMediaRequest[ key ] || key;\n\t\t\t\turl.searchParams.set( queryKey, value );\n\t\t\t} );\n\t\t\tconst response = await window.fetch( url, {\n\t\t\t\theaders: {\n\t\t\t\t\t'User-Agent': 'WordPress/inserter-media-fetch',\n\t\t\t\t},\n\t\t\t} );\n\t\t\tconst jsonResponse = await response.json();\n\t\t\tconst results = jsonResponse.results;\n\t\t\treturn results.map( ( result ) => ( {\n\t\t\t\t...result,\n\t\t\t\t// This is a temp solution for better titles, until Openverse API\n\t\t\t\t// completes the cleaning up of some titles of their upstream data.\n\t\t\t\ttitle: result.title?.toLowerCase().startsWith( 'file:' )\n\t\t\t\t\t? result.title.slice( 5 )\n\t\t\t\t\t: result.title,\n\t\t\t\tsourceId: result.id,\n\t\t\t\tid: undefined,\n\t\t\t\tcaption: getOpenverseCaption( result ),\n\t\t\t\tpreviewUrl: result.thumbnail,\n\t\t\t} ) );\n\t\t},\n\t\tgetReportUrl: ( { sourceId } ) =>\n\t\t\t`https://wordpress.org/openverse/image/${ sourceId }/report/`,\n\t\tisExternalResource: true,\n\t},\n];\n\nexport default inserterMediaCategories;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"mediaUtils\"];","/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data';\nimport { uploadMedia } from '@wordpress/media-utils';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nconst noop = () => {};\n\n/**\n * Upload a media file when the file upload button is activated.\n * Wrapper around mediaUpload() that injects the current post ID.\n *\n * @param {Object}   $0                   Parameters object passed to the function.\n * @param {?Object}  $0.additionalData    Additional data to include in the request.\n * @param {string}   $0.allowedTypes      Array with the types of media that can be uploaded, if unset all types are allowed.\n * @param {Array}    $0.filesList         List of files.\n * @param {?number}  $0.maxUploadFileSize Maximum upload size in bytes allowed for the site.\n * @param {Function} $0.onError           Function called when an error happens.\n * @param {Function} $0.onFileChange      Function called each time a file or a temporary representation of the file is available.\n */\nexport default function mediaUpload( {\n\tadditionalData = {},\n\tallowedTypes,\n\tfilesList,\n\tmaxUploadFileSize,\n\tonError = noop,\n\tonFileChange,\n} ) {\n\tconst { getCurrentPost, getEditorSettings } = select( editorStore );\n\tconst wpAllowedMimeTypes = getEditorSettings().allowedMimeTypes;\n\tmaxUploadFileSize =\n\t\tmaxUploadFileSize || getEditorSettings().maxUploadFileSize;\n\tconst currentPost = getCurrentPost();\n\t// Templates and template parts' numerical ID is stored in `wp_id`.\n\tconst currentPostId =\n\t\ttypeof currentPost?.id === 'number'\n\t\t\t? currentPost.id\n\t\t\t: currentPost?.wp_id;\n\tconst postData = currentPostId ? { post: currentPostId } : {};\n\n\tuploadMedia( {\n\t\tallowedTypes,\n\t\tfilesList,\n\t\tonFileChange,\n\t\tadditionalData: {\n\t\t\t...postData,\n\t\t\t...additionalData,\n\t\t},\n\t\tmaxUploadFileSize,\n\t\tonError: ( { message } ) => onError( message ),\n\t\twpAllowedMimeTypes,\n\t} );\n}\n","/**\n * WordPress dependencies\n */\nimport { Platform, useMemo, useCallback } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport {\n\tstore as coreStore,\n\t__experimentalFetchLinkSuggestions as fetchLinkSuggestions,\n\t__experimentalFetchUrlData as fetchUrlData,\n} from '@wordpress/core-data';\nimport { __ } from '@wordpress/i18n';\nimport { store as preferencesStore } from '@wordpress/preferences';\nimport { useViewportMatch } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport inserterMediaCategories from '../media-categories';\nimport { mediaUpload } from '../../utils';\nimport { store as editorStore } from '../../store';\n\nconst EMPTY_BLOCKS_LIST = [];\n\nconst BLOCK_EDITOR_SETTINGS = [\n\t'__experimentalBlockDirectory',\n\t'__experimentalDiscussionSettings',\n\t'__experimentalFeatures',\n\t'__experimentalGlobalStylesBaseStyles',\n\t'__experimentalPreferredStyleVariations',\n\t'__unstableGalleryWithImageBlocks',\n\t'alignWide',\n\t'allowedBlockTypes',\n\t'blockInspectorTabs',\n\t'allowedMimeTypes',\n\t'bodyPlaceholder',\n\t'canLockBlocks',\n\t'capabilities',\n\t'clearBlockSelection',\n\t'codeEditingEnabled',\n\t'colors',\n\t'disableCustomColors',\n\t'disableCustomFontSizes',\n\t'disableCustomSpacingSizes',\n\t'disableCustomGradients',\n\t'disableLayoutStyles',\n\t'enableCustomLineHeight',\n\t'enableCustomSpacing',\n\t'enableCustomUnits',\n\t'enableOpenverseMediaCategory',\n\t'fontSizes',\n\t'gradients',\n\t'generateAnchors',\n\t'getPostLinkProps',\n\t'hasInlineToolbar',\n\t'imageDefaultSize',\n\t'imageDimensions',\n\t'imageEditing',\n\t'imageSizes',\n\t'isRTL',\n\t'locale',\n\t'maxWidth',\n\t'onUpdateDefaultBlockStyles',\n\t'postContentAttributes',\n\t'postsPerPage',\n\t'readOnly',\n\t'styles',\n\t'titlePlaceholder',\n\t'supportsLayout',\n\t'widgetTypesToHideFromLegacyWidgetBlock',\n\t'__unstableHasCustomAppender',\n\t'__unstableIsPreviewMode',\n\t'__unstableResolvedAssets',\n\t'__unstableIsBlockBasedTheme',\n\t'__experimentalArchiveTitleTypeLabel',\n\t'__experimentalArchiveTitleNameLabel',\n];\n\n/**\n * React hook used to compute the block editor settings to use for the post editor.\n *\n * @param {Object} settings EditorProvider settings prop.\n * @param {string} postType Editor root level post type.\n * @param {string} postId   Editor root level post ID.\n *\n * @return {Object} Block Editor Settings.\n */\nfunction useBlockEditorSettings( settings, postType, postId ) {\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst {\n\t\tallowRightClickOverrides,\n\t\tfocusMode,\n\t\thasFixedToolbar,\n\t\tisDistractionFree,\n\t\tkeepCaretInsideBlock,\n\t\treusableBlocks,\n\t\thasUploadPermissions,\n\t\tcanUseUnfilteredHTML,\n\t\tuserCanCreatePages,\n\t\tpageOnFront,\n\t\tpageForPosts,\n\t\tuserPatternCategories,\n\t\trestBlockPatterns,\n\t\trestBlockPatternCategories,\n\t} = useSelect(\n\t\t( select ) => {\n\t\t\tconst isWeb = Platform.OS === 'web';\n\t\t\tconst {\n\t\t\t\tcanUser,\n\t\t\t\tgetRawEntityRecord,\n\t\t\t\tgetEntityRecord,\n\t\t\t\tgetUserPatternCategories,\n\t\t\t\tgetEntityRecords,\n\t\t\t\tgetBlockPatterns,\n\t\t\t\tgetBlockPatternCategories,\n\t\t\t} = select( coreStore );\n\t\t\tconst { get } = select( preferencesStore );\n\n\t\t\tconst siteSettings = canUser( 'read', 'settings' )\n\t\t\t\t? getEntityRecord( 'root', 'site' )\n\t\t\t\t: undefined;\n\n\t\t\treturn {\n\t\t\t\tallowRightClickOverrides: get(\n\t\t\t\t\t'core',\n\t\t\t\t\t'allowRightClickOverrides'\n\t\t\t\t),\n\t\t\t\tcanUseUnfilteredHTML: getRawEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\tpostType,\n\t\t\t\t\tpostId\n\t\t\t\t)?._links?.hasOwnProperty( 'wp:action-unfiltered-html' ),\n\t\t\t\tfocusMode: get( 'core', 'focusMode' ),\n\t\t\t\thasFixedToolbar:\n\t\t\t\t\tget( 'core', 'fixedToolbar' ) || ! isLargeViewport,\n\t\t\t\tisDistractionFree: get( 'core', 'distractionFree' ),\n\t\t\t\tkeepCaretInsideBlock: get( 'core', 'keepCaretInsideBlock' ),\n\t\t\t\treusableBlocks: isWeb\n\t\t\t\t\t? getEntityRecords( 'postType', 'wp_block', {\n\t\t\t\t\t\t\tper_page: -1,\n\t\t\t\t\t  } )\n\t\t\t\t\t: EMPTY_BLOCKS_LIST, // Reusable blocks are fetched in the native version of this hook.\n\t\t\t\thasUploadPermissions: canUser( 'create', 'media' ) ?? true,\n\t\t\t\tuserCanCreatePages: canUser( 'create', 'pages' ),\n\t\t\t\tpageOnFront: siteSettings?.page_on_front,\n\t\t\t\tpageForPosts: siteSettings?.page_for_posts,\n\t\t\t\tuserPatternCategories: getUserPatternCategories(),\n\t\t\t\trestBlockPatterns: getBlockPatterns(),\n\t\t\t\trestBlockPatternCategories: getBlockPatternCategories(),\n\t\t\t};\n\t\t},\n\t\t[ postType, postId, isLargeViewport ]\n\t);\n\n\tconst settingsBlockPatterns =\n\t\tsettings.__experimentalAdditionalBlockPatterns ?? // WP 6.0\n\t\tsettings.__experimentalBlockPatterns; // WP 5.9\n\tconst settingsBlockPatternCategories =\n\t\tsettings.__experimentalAdditionalBlockPatternCategories ?? // WP 6.0\n\t\tsettings.__experimentalBlockPatternCategories; // WP 5.9\n\n\tconst blockPatterns = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatterns || [] ),\n\t\t\t\t...( restBlockPatterns || [] ),\n\t\t\t]\n\t\t\t\t.filter(\n\t\t\t\t\t( x, index, arr ) =>\n\t\t\t\t\t\tindex === arr.findIndex( ( y ) => x.name === y.name )\n\t\t\t\t)\n\t\t\t\t.filter( ( { postTypes } ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t! postTypes ||\n\t\t\t\t\t\t( Array.isArray( postTypes ) &&\n\t\t\t\t\t\t\tpostTypes.includes( postType ) )\n\t\t\t\t\t);\n\t\t\t\t} ),\n\t\t[ settingsBlockPatterns, restBlockPatterns, postType ]\n\t);\n\n\tconst blockPatternCategories = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\t...( settingsBlockPatternCategories || [] ),\n\t\t\t\t...( restBlockPatternCategories || [] ),\n\t\t\t].filter(\n\t\t\t\t( x, index, arr ) =>\n\t\t\t\t\tindex === arr.findIndex( ( y ) => x.name === y.name )\n\t\t\t),\n\t\t[ settingsBlockPatternCategories, restBlockPatternCategories ]\n\t);\n\n\tconst { undo, setIsInserterOpened } = useDispatch( editorStore );\n\n\tconst { saveEntityRecord } = useDispatch( coreStore );\n\n\t/**\n\t * Creates a Post entity.\n\t * This is utilised by the Link UI to allow for on-the-fly creation of Posts/Pages.\n\t *\n\t * @param {Object} options parameters for the post being created. These mirror those used on 3rd param of saveEntityRecord.\n\t * @return {Object} the post type object that was created.\n\t */\n\tconst createPageEntity = useCallback(\n\t\t( options ) => {\n\t\t\tif ( ! userCanCreatePages ) {\n\t\t\t\treturn Promise.reject( {\n\t\t\t\t\tmessage: __(\n\t\t\t\t\t\t'You do not have permission to create Pages.'\n\t\t\t\t\t),\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn saveEntityRecord( 'postType', 'page', options );\n\t\t},\n\t\t[ saveEntityRecord, userCanCreatePages ]\n\t);\n\n\tconst forceDisableFocusMode = settings.focusMode === false;\n\n\treturn useMemo(\n\t\t() => ( {\n\t\t\t...Object.fromEntries(\n\t\t\t\tObject.entries( settings ).filter( ( [ key ] ) =>\n\t\t\t\t\tBLOCK_EDITOR_SETTINGS.includes( key )\n\t\t\t\t)\n\t\t\t),\n\t\t\tallowRightClickOverrides,\n\t\t\tfocusMode: focusMode && ! forceDisableFocusMode,\n\t\t\thasFixedToolbar,\n\t\t\tisDistractionFree,\n\t\t\tkeepCaretInsideBlock,\n\t\t\tmediaUpload: hasUploadPermissions ? mediaUpload : undefined,\n\t\t\t__experimentalReusableBlocks: reusableBlocks,\n\t\t\t__experimentalBlockPatterns: blockPatterns,\n\t\t\t__experimentalBlockPatternCategories: blockPatternCategories,\n\t\t\t__experimentalUserPatternCategories: userPatternCategories,\n\t\t\t__experimentalFetchLinkSuggestions: ( search, searchOptions ) =>\n\t\t\t\tfetchLinkSuggestions( search, searchOptions, settings ),\n\t\t\tinserterMediaCategories,\n\t\t\t__experimentalFetchRichUrlData: fetchUrlData,\n\t\t\t// Todo: This only checks the top level post, not the post within a template or any other entity that can be edited.\n\t\t\t// This might be better as a generic \"canUser\" selector.\n\t\t\t__experimentalCanUserUseUnfilteredHTML: canUseUnfilteredHTML,\n\t\t\t//Todo: this is only needed for native and should probably be removed.\n\t\t\t__experimentalUndo: undo,\n\t\t\t// Check whether we want all site editor frames to have outlines\n\t\t\t// including the navigation / pattern / parts editors.\n\t\t\toutlineMode: postType === 'wp_template',\n\t\t\t// Check these two properties: they were not present in the site editor.\n\t\t\t__experimentalCreatePageEntity: createPageEntity,\n\t\t\t__experimentalUserCanCreatePages: userCanCreatePages,\n\t\t\tpageOnFront,\n\t\t\tpageForPosts,\n\t\t\t__experimentalPreferPatternsOnRoot: postType === 'wp_template',\n\t\t\ttemplateLock:\n\t\t\t\tpostType === 'wp_navigation' ? 'insert' : settings.templateLock,\n\t\t\ttemplate:\n\t\t\t\tpostType === 'wp_navigation'\n\t\t\t\t\t? [ [ 'core/navigation', {}, [] ] ]\n\t\t\t\t\t: settings.template,\n\t\t\t__experimentalSetIsInserterOpened: setIsInserterOpened,\n\t\t} ),\n\t\t[\n\t\t\tallowRightClickOverrides,\n\t\t\tfocusMode,\n\t\t\tforceDisableFocusMode,\n\t\t\thasFixedToolbar,\n\t\t\tisDistractionFree,\n\t\t\tkeepCaretInsideBlock,\n\t\t\tsettings,\n\t\t\thasUploadPermissions,\n\t\t\treusableBlocks,\n\t\t\tuserPatternCategories,\n\t\t\tblockPatterns,\n\t\t\tblockPatternCategories,\n\t\t\tcanUseUnfilteredHTML,\n\t\t\tundo,\n\t\t\tcreatePageEntity,\n\t\t\tuserCanCreatePages,\n\t\t\tpageOnFront,\n\t\t\tpageForPosts,\n\t\t\tpostType,\n\t\t\tsetIsInserterOpened,\n\t\t]\n\t);\n}\n\nexport default useBlockEditorSettings;\n","export const PAGE_CONTENT_BLOCK_TYPES = [\n\t'core/post-title',\n\t'core/post-featured-image',\n\t'core/post-content',\n];\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseBlockEditingMode,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { PAGE_CONTENT_BLOCK_TYPES } from './constants';\n\nfunction DisableBlock( { clientId } ) {\n\tconst isDescendentOfQueryLoop = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlockParentsByBlockName } = select( blockEditorStore );\n\t\t\treturn (\n\t\t\t\tgetBlockParentsByBlockName( clientId, 'core/query' ).length !==\n\t\t\t\t0\n\t\t\t);\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst mode = isDescendentOfQueryLoop ? undefined : 'contentOnly';\n\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\tuseDispatch( blockEditorStore );\n\tuseEffect( () => {\n\t\tif ( mode ) {\n\t\t\tsetBlockEditingMode( clientId, mode );\n\t\t\treturn () => {\n\t\t\t\tunsetBlockEditingMode( clientId );\n\t\t\t};\n\t\t}\n\t}, [ clientId, mode, setBlockEditingMode, unsetBlockEditingMode ] );\n}\n\n/**\n * Component that when rendered, makes it so that the site editor allows only\n * page content to be edited.\n */\nexport default function DisableNonPageContentBlocks() {\n\tuseBlockEditingMode( 'disabled' );\n\tconst clientIds = useSelect( ( select ) => {\n\t\tconst { __experimentalGetGlobalBlocksByName } =\n\t\t\tselect( blockEditorStore );\n\t\treturn __experimentalGetGlobalBlocksByName( PAGE_CONTENT_BLOCK_TYPES );\n\t}, [] );\n\n\treturn clientIds.map( ( clientId ) => {\n\t\treturn <DisableBlock key={ clientId } clientId={ clientId } />;\n\t} );\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\n\n/**\n * For the Navigation block editor, we need to force the block editor to contentOnly for that block.\n *\n * Set block editing mode to contentOnly when entering Navigation focus mode.\n * this ensures that non-content controls on the block will be hidden and thus\n * the user can focus on editing the Navigation Menu content only.\n */\n\nexport default function NavigationBlockEditingMode() {\n\t// In the navigation block editor,\n\t// the navigation block is the only root block.\n\tconst blockClientId = useSelect(\n\t\t( select ) => select( blockEditorStore ).getBlockOrder()?.[ 0 ],\n\t\t[]\n\t);\n\tconst { setBlockEditingMode, unsetBlockEditingMode } =\n\t\tuseDispatch( blockEditorStore );\n\n\tuseEffect( () => {\n\t\tif ( ! blockClientId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetBlockEditingMode( blockClientId, 'contentOnly' );\n\n\t\treturn () => {\n\t\t\tunsetBlockEditingMode( blockClientId );\n\t\t};\n\t}, [ blockClientId, unsetBlockEditingMode, setBlockEditingMode ] );\n}\n","/**\n * WordPress dependencies\n */\nimport { useEffect, useLayoutEffect, useMemo } from '@wordpress/element';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { EntityProvider, useEntityBlockEditor } from '@wordpress/core-data';\nimport {\n\tBlockEditorProvider,\n\tBlockContextProvider,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { privateApis as editPatternsPrivateApis } from '@wordpress/patterns';\nimport { createBlock } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport withRegistryProvider from './with-registry-provider';\nimport { store as editorStore } from '../../store';\nimport useBlockEditorSettings from './use-block-editor-settings';\nimport { unlock } from '../../lock-unlock';\nimport DisableNonPageContentBlocks from './disable-non-page-content-blocks';\nimport NavigationBlockEditingMode from './navigation-block-editing-mode';\n\nconst { ExperimentalBlockEditorProvider } = unlock( blockEditorPrivateApis );\nconst { PatternsMenuItems } = unlock( editPatternsPrivateApis );\n\nconst noop = () => {};\n\n/**\n * Depending on the post, template and template mode,\n * returns the appropriate blocks and change handlers for the block editor provider.\n *\n * @param {Array}   post     Block list.\n * @param {boolean} template Whether the page content has focus (and the surrounding template is inert). If `true` return page content blocks. Default `false`.\n * @param {string}  mode     Rendering mode.\n * @return {Array} Block editor props.\n */\nfunction useBlockEditorProps( post, template, mode ) {\n\tconst rootLevelPost =\n\t\tmode === 'post-only' || ! template ? 'post' : 'template';\n\tconst [ postBlocks, onInput, onChange ] = useEntityBlockEditor(\n\t\t'postType',\n\t\tpost.type,\n\t\t{ id: post.id }\n\t);\n\tconst [ templateBlocks, onInputTemplate, onChangeTemplate ] =\n\t\tuseEntityBlockEditor( 'postType', template?.type, {\n\t\t\tid: template?.id,\n\t\t} );\n\tconst maybeNavigationBlocks = useMemo( () => {\n\t\tif ( post.type === 'wp_navigation' ) {\n\t\t\treturn [\n\t\t\t\tcreateBlock( 'core/navigation', {\n\t\t\t\t\tref: post.id,\n\t\t\t\t\t// As the parent editor is locked with `templateLock`, the template locking\n\t\t\t\t\t// must be explicitly \"unset\" on the block itself to allow the user to modify\n\t\t\t\t\t// the block's content.\n\t\t\t\t\ttemplateLock: false,\n\t\t\t\t} ),\n\t\t\t];\n\t\t}\n\t}, [ post.type, post.id ] );\n\n\t// It is important that we don't create a new instance of blocks on every change\n\t// We should only create a new instance if the blocks them selves change, not a dependency of them.\n\tconst blocks = useMemo( () => {\n\t\tif ( maybeNavigationBlocks ) {\n\t\t\treturn maybeNavigationBlocks;\n\t\t}\n\n\t\tif ( rootLevelPost === 'template' ) {\n\t\t\treturn templateBlocks;\n\t\t}\n\n\t\treturn postBlocks;\n\t}, [ maybeNavigationBlocks, rootLevelPost, templateBlocks, postBlocks ] );\n\n\t// Handle fallback to postBlocks outside of the above useMemo, to ensure\n\t// that constructed block templates that call `createBlock` are not generated\n\t// too frequently. This ensures that clientIds are stable.\n\tconst disableRootLevelChanges =\n\t\t( !! template && mode === 'template-locked' ) ||\n\t\tpost.type === 'wp_navigation';\n\tif ( disableRootLevelChanges ) {\n\t\treturn [ blocks, noop, noop ];\n\t}\n\n\treturn [\n\t\tblocks,\n\t\trootLevelPost === 'post' ? onInput : onInputTemplate,\n\t\trootLevelPost === 'post' ? onChange : onChangeTemplate,\n\t];\n}\n\nexport const ExperimentalEditorProvider = withRegistryProvider(\n\t( {\n\t\tpost,\n\t\tsettings,\n\t\trecovery,\n\t\tinitialEdits,\n\t\tchildren,\n\t\tBlockEditorProviderComponent = ExperimentalBlockEditorProvider,\n\t\t__unstableTemplate: template,\n\t} ) => {\n\t\tconst mode = useSelect(\n\t\t\t( select ) => select( editorStore ).getRenderingMode(),\n\t\t\t[]\n\t\t);\n\t\tconst shouldRenderTemplate = !! template && mode !== 'post-only';\n\t\tconst rootLevelPost = shouldRenderTemplate ? template : post;\n\t\tconst defaultBlockContext = useMemo( () => {\n\t\t\tconst postContext =\n\t\t\t\trootLevelPost.type !== 'wp_template' ||\n\t\t\t\t( shouldRenderTemplate && mode !== 'template-only' )\n\t\t\t\t\t? { postId: post.id, postType: post.type }\n\t\t\t\t\t: {};\n\n\t\t\treturn {\n\t\t\t\t...postContext,\n\t\t\t\ttemplateSlug:\n\t\t\t\t\trootLevelPost.type === 'wp_template'\n\t\t\t\t\t\t? rootLevelPost.slug\n\t\t\t\t\t\t: undefined,\n\t\t\t};\n\t\t}, [\n\t\t\tmode,\n\t\t\tpost.id,\n\t\t\tpost.type,\n\t\t\trootLevelPost.type,\n\t\t\trootLevelPost?.slug,\n\t\t\tshouldRenderTemplate,\n\t\t] );\n\t\tconst { editorSettings, selection, isReady } = useSelect(\n\t\t\t( select ) => {\n\t\t\t\tconst {\n\t\t\t\t\tgetEditorSettings,\n\t\t\t\t\tgetEditorSelection,\n\t\t\t\t\t__unstableIsEditorReady,\n\t\t\t\t} = select( editorStore );\n\t\t\t\treturn {\n\t\t\t\t\teditorSettings: getEditorSettings(),\n\t\t\t\t\tisReady: __unstableIsEditorReady(),\n\t\t\t\t\tselection: getEditorSelection(),\n\t\t\t\t};\n\t\t\t},\n\t\t\t[]\n\t\t);\n\t\tconst { id, type } = rootLevelPost;\n\t\tconst blockEditorSettings = useBlockEditorSettings(\n\t\t\teditorSettings,\n\t\t\ttype,\n\t\t\tid\n\t\t);\n\t\tconst [ blocks, onInput, onChange ] = useBlockEditorProps(\n\t\t\tpost,\n\t\t\ttemplate,\n\t\t\tmode\n\t\t);\n\n\t\tconst {\n\t\t\tupdatePostLock,\n\t\t\tsetupEditor,\n\t\t\tupdateEditorSettings,\n\t\t\tsetCurrentTemplateId,\n\t\t\tsetEditedPost,\n\t\t\tsetRenderingMode,\n\t\t} = unlock( useDispatch( editorStore ) );\n\t\tconst { createWarningNotice } = useDispatch( noticesStore );\n\n\t\t// Ideally this should be synced on each change and not just something you do once.\n\t\tuseLayoutEffect( () => {\n\t\t\t// Assume that we don't need to initialize in the case of an error recovery.\n\t\t\tif ( recovery ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdatePostLock( settings.postLock );\n\t\t\tsetupEditor( post, initialEdits, settings.template );\n\t\t\tif ( settings.autosave ) {\n\t\t\t\tcreateWarningNotice(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'There is an autosave of this post that is more recent than the version below.'\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'autosave-exists',\n\t\t\t\t\t\tactions: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __( 'View the autosave' ),\n\t\t\t\t\t\t\t\turl: settings.autosave.editLink,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t}, [] );\n\n\t\t// Synchronizes the active post with the state\n\t\tuseEffect( () => {\n\t\t\tsetEditedPost( post.type, post.id );\n\t\t}, [ post.type, post.id ] );\n\n\t\t// Synchronize the editor settings as they change.\n\t\tuseEffect( () => {\n\t\t\tupdateEditorSettings( settings );\n\t\t}, [ settings, updateEditorSettings ] );\n\n\t\t// Synchronizes the active template with the state.\n\t\tuseEffect( () => {\n\t\t\tsetCurrentTemplateId( template?.id );\n\t\t}, [ template?.id, setCurrentTemplateId ] );\n\n\t\t// Sets the right rendering mode when loading the editor.\n\t\tuseEffect( () => {\n\t\t\tsetRenderingMode( settings.defaultRenderingMode ?? 'post-only' );\n\t\t}, [ settings.defaultRenderingMode, setRenderingMode ] );\n\n\t\tif ( ! isReady ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<EntityProvider kind=\"root\" type=\"site\">\n\t\t\t\t<EntityProvider\n\t\t\t\t\tkind=\"postType\"\n\t\t\t\t\ttype={ post.type }\n\t\t\t\t\tid={ post.id }\n\t\t\t\t>\n\t\t\t\t\t<BlockContextProvider value={ defaultBlockContext }>\n\t\t\t\t\t\t<BlockEditorProviderComponent\n\t\t\t\t\t\t\tvalue={ blocks }\n\t\t\t\t\t\t\tonChange={ onChange }\n\t\t\t\t\t\t\tonInput={ onInput }\n\t\t\t\t\t\t\tselection={ selection }\n\t\t\t\t\t\t\tsettings={ blockEditorSettings }\n\t\t\t\t\t\t\tuseSubRegistry={ false }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ children }\n\t\t\t\t\t\t\t<PatternsMenuItems />\n\t\t\t\t\t\t\t{ mode === 'template-locked' && (\n\t\t\t\t\t\t\t\t<DisableNonPageContentBlocks />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ type === 'wp_navigation' && (\n\t\t\t\t\t\t\t\t<NavigationBlockEditingMode />\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</BlockEditorProviderComponent>\n\t\t\t\t\t</BlockContextProvider>\n\t\t\t\t</EntityProvider>\n\t\t\t</EntityProvider>\n\t\t);\n\t}\n);\n\nexport function EditorProvider( props ) {\n\treturn (\n\t\t<ExperimentalEditorProvider\n\t\t\t{ ...props }\n\t\t\tBlockEditorProviderComponent={ BlockEditorProvider }\n\t\t>\n\t\t\t{ props.children }\n\t\t</ExperimentalEditorProvider>\n\t);\n}\n\nexport default EditorProvider;\n","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"serverSideRender\"];","// Block Creation Components.\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\nimport {\n\tAutocomplete as RootAutocomplete,\n\tAlignmentToolbar as RootAlignmentToolbar,\n\tBlockAlignmentToolbar as RootBlockAlignmentToolbar,\n\tBlockControls as RootBlockControls,\n\tBlockEdit as RootBlockEdit,\n\tBlockEditorKeyboardShortcuts as RootBlockEditorKeyboardShortcuts,\n\tBlockFormatControls as RootBlockFormatControls,\n\tBlockIcon as RootBlockIcon,\n\tBlockInspector as RootBlockInspector,\n\tBlockList as RootBlockList,\n\tBlockMover as RootBlockMover,\n\tBlockNavigationDropdown as RootBlockNavigationDropdown,\n\tBlockSelectionClearer as RootBlockSelectionClearer,\n\tBlockSettingsMenu as RootBlockSettingsMenu,\n\tBlockTitle as RootBlockTitle,\n\tBlockToolbar as RootBlockToolbar,\n\tColorPalette as RootColorPalette,\n\tContrastChecker as RootContrastChecker,\n\tCopyHandler as RootCopyHandler,\n\tcreateCustomColorsHOC as rootCreateCustomColorsHOC,\n\tDefaultBlockAppender as RootDefaultBlockAppender,\n\tFontSizePicker as RootFontSizePicker,\n\tgetColorClassName as rootGetColorClassName,\n\tgetColorObjectByAttributeValues as rootGetColorObjectByAttributeValues,\n\tgetColorObjectByColorValue as rootGetColorObjectByColorValue,\n\tgetFontSize as rootGetFontSize,\n\tgetFontSizeClass as rootGetFontSizeClass,\n\tInserter as RootInserter,\n\tInnerBlocks as RootInnerBlocks,\n\tInspectorAdvancedControls as RootInspectorAdvancedControls,\n\tInspectorControls as RootInspectorControls,\n\tPanelColorSettings as RootPanelColorSettings,\n\tPlainText as RootPlainText,\n\tRichText as RootRichText,\n\tRichTextShortcut as RootRichTextShortcut,\n\tRichTextToolbarButton as RootRichTextToolbarButton,\n\t__unstableRichTextInputEvent as __unstableRootRichTextInputEvent,\n\tMediaPlaceholder as RootMediaPlaceholder,\n\tMediaUpload as RootMediaUpload,\n\tMediaUploadCheck as RootMediaUploadCheck,\n\tMultiSelectScrollIntoView as RootMultiSelectScrollIntoView,\n\tNavigableToolbar as RootNavigableToolbar,\n\tObserveTyping as RootObserveTyping,\n\tSkipToSelectedBlock as RootSkipToSelectedBlock,\n\tURLInput as RootURLInput,\n\tURLInputButton as RootURLInputButton,\n\tURLPopover as RootURLPopover,\n\tWarning as RootWarning,\n\tWritingFlow as RootWritingFlow,\n\twithColorContext as rootWithColorContext,\n\twithColors as rootWithColors,\n\twithFontSizes as rootWithFontSizes,\n} from '@wordpress/block-editor';\n\nexport { default as ServerSideRender } from '@wordpress/server-side-render';\n\nfunction deprecateComponent( name, Wrapped, staticsToHoist = [] ) {\n\tconst Component = forwardRef( ( props, ref ) => {\n\t\tdeprecated( 'wp.editor.' + name, {\n\t\t\tsince: '5.3',\n\t\t\talternative: 'wp.blockEditor.' + name,\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn <Wrapped ref={ ref } { ...props } />;\n\t} );\n\n\tstaticsToHoist.forEach( ( staticName ) => {\n\t\tComponent[ staticName ] = deprecateComponent(\n\t\t\tname + '.' + staticName,\n\t\t\tWrapped[ staticName ]\n\t\t);\n\t} );\n\n\treturn Component;\n}\n\nfunction deprecateFunction( name, func ) {\n\treturn ( ...args ) => {\n\t\tdeprecated( 'wp.editor.' + name, {\n\t\t\tsince: '5.3',\n\t\t\talternative: 'wp.blockEditor.' + name,\n\t\t\tversion: '6.2',\n\t\t} );\n\n\t\treturn func( ...args );\n\t};\n}\n\nconst RichText = deprecateComponent( 'RichText', RootRichText, [ 'Content' ] );\nRichText.isEmpty = deprecateFunction(\n\t'RichText.isEmpty',\n\tRootRichText.isEmpty\n);\n\nexport { RichText };\nexport const Autocomplete = deprecateComponent(\n\t'Autocomplete',\n\tRootAutocomplete\n);\nexport const AlignmentToolbar = deprecateComponent(\n\t'AlignmentToolbar',\n\tRootAlignmentToolbar\n);\nexport const BlockAlignmentToolbar = deprecateComponent(\n\t'BlockAlignmentToolbar',\n\tRootBlockAlignmentToolbar\n);\nexport const BlockControls = deprecateComponent(\n\t'BlockControls',\n\tRootBlockControls,\n\t[ 'Slot' ]\n);\nexport const BlockEdit = deprecateComponent( 'BlockEdit', RootBlockEdit );\nexport const BlockEditorKeyboardShortcuts = deprecateComponent(\n\t'BlockEditorKeyboardShortcuts',\n\tRootBlockEditorKeyboardShortcuts\n);\nexport const BlockFormatControls = deprecateComponent(\n\t'BlockFormatControls',\n\tRootBlockFormatControls,\n\t[ 'Slot' ]\n);\nexport const BlockIcon = deprecateComponent( 'BlockIcon', RootBlockIcon );\nexport const BlockInspector = deprecateComponent(\n\t'BlockInspector',\n\tRootBlockInspector\n);\nexport const BlockList = deprecateComponent( 'BlockList', RootBlockList );\nexport const BlockMover = deprecateComponent( 'BlockMover', RootBlockMover );\nexport const BlockNavigationDropdown = deprecateComponent(\n\t'BlockNavigationDropdown',\n\tRootBlockNavigationDropdown\n);\nexport const BlockSelectionClearer = deprecateComponent(\n\t'BlockSelectionClearer',\n\tRootBlockSelectionClearer\n);\nexport const BlockSettingsMenu = deprecateComponent(\n\t'BlockSettingsMenu',\n\tRootBlockSettingsMenu\n);\nexport const BlockTitle = deprecateComponent( 'BlockTitle', RootBlockTitle );\nexport const BlockToolbar = deprecateComponent(\n\t'BlockToolbar',\n\tRootBlockToolbar\n);\nexport const ColorPalette = deprecateComponent(\n\t'ColorPalette',\n\tRootColorPalette\n);\nexport const ContrastChecker = deprecateComponent(\n\t'ContrastChecker',\n\tRootContrastChecker\n);\nexport const CopyHandler = deprecateComponent( 'CopyHandler', RootCopyHandler );\nexport const DefaultBlockAppender = deprecateComponent(\n\t'DefaultBlockAppender',\n\tRootDefaultBlockAppender\n);\nexport const FontSizePicker = deprecateComponent(\n\t'FontSizePicker',\n\tRootFontSizePicker\n);\nexport const Inserter = deprecateComponent( 'Inserter', RootInserter );\nexport const InnerBlocks = deprecateComponent( 'InnerBlocks', RootInnerBlocks, [\n\t'ButtonBlockAppender',\n\t'DefaultBlockAppender',\n\t'Content',\n] );\nexport const InspectorAdvancedControls = deprecateComponent(\n\t'InspectorAdvancedControls',\n\tRootInspectorAdvancedControls,\n\t[ 'Slot' ]\n);\nexport const InspectorControls = deprecateComponent(\n\t'InspectorControls',\n\tRootInspectorControls,\n\t[ 'Slot' ]\n);\nexport const PanelColorSettings = deprecateComponent(\n\t'PanelColorSettings',\n\tRootPanelColorSettings\n);\nexport const PlainText = deprecateComponent( 'PlainText', RootPlainText );\nexport const RichTextShortcut = deprecateComponent(\n\t'RichTextShortcut',\n\tRootRichTextShortcut\n);\nexport const RichTextToolbarButton = deprecateComponent(\n\t'RichTextToolbarButton',\n\tRootRichTextToolbarButton\n);\nexport const __unstableRichTextInputEvent = deprecateComponent(\n\t'__unstableRichTextInputEvent',\n\t__unstableRootRichTextInputEvent\n);\nexport const MediaPlaceholder = deprecateComponent(\n\t'MediaPlaceholder',\n\tRootMediaPlaceholder\n);\nexport const MediaUpload = deprecateComponent( 'MediaUpload', RootMediaUpload );\nexport const MediaUploadCheck = deprecateComponent(\n\t'MediaUploadCheck',\n\tRootMediaUploadCheck\n);\nexport const MultiSelectScrollIntoView = deprecateComponent(\n\t'MultiSelectScrollIntoView',\n\tRootMultiSelectScrollIntoView\n);\nexport const NavigableToolbar = deprecateComponent(\n\t'NavigableToolbar',\n\tRootNavigableToolbar\n);\nexport const ObserveTyping = deprecateComponent(\n\t'ObserveTyping',\n\tRootObserveTyping\n);\nexport const SkipToSelectedBlock = deprecateComponent(\n\t'SkipToSelectedBlock',\n\tRootSkipToSelectedBlock\n);\nexport const URLInput = deprecateComponent( 'URLInput', RootURLInput );\nexport const URLInputButton = deprecateComponent(\n\t'URLInputButton',\n\tRootURLInputButton\n);\nexport const URLPopover = deprecateComponent( 'URLPopover', RootURLPopover );\nexport const Warning = deprecateComponent( 'Warning', RootWarning );\nexport const WritingFlow = deprecateComponent( 'WritingFlow', RootWritingFlow );\n\nexport const createCustomColorsHOC = deprecateFunction(\n\t'createCustomColorsHOC',\n\trootCreateCustomColorsHOC\n);\nexport const getColorClassName = deprecateFunction(\n\t'getColorClassName',\n\trootGetColorClassName\n);\nexport const getColorObjectByAttributeValues = deprecateFunction(\n\t'getColorObjectByAttributeValues',\n\trootGetColorObjectByAttributeValues\n);\nexport const getColorObjectByColorValue = deprecateFunction(\n\t'getColorObjectByColorValue',\n\trootGetColorObjectByColorValue\n);\nexport const getFontSize = deprecateFunction( 'getFontSize', rootGetFontSize );\nexport const getFontSizeClass = deprecateFunction(\n\t'getFontSizeClass',\n\trootGetFontSizeClass\n);\nexport const withColorContext = deprecateFunction(\n\t'withColorContext',\n\trootWithColorContext\n);\nexport const withColors = deprecateFunction( 'withColors', rootWithColors );\nexport const withFontSizes = deprecateFunction(\n\t'withFontSizes',\n\trootWithFontSizes\n);\n","/**\n * Internal dependencies\n */\nimport EditorKeyboardShortcuts from './global-keyboard-shortcuts';\n\n// Block Creation Components.\nexport * from './autocompleters';\n\n// Post Related Components.\nexport { default as AutosaveMonitor } from './autosave-monitor';\nexport { default as DocumentBar } from './document-bar';\nexport { default as DocumentOutline } from './document-outline';\nexport { default as DocumentOutlineCheck } from './document-outline/check';\nexport { EditorKeyboardShortcuts };\nexport { default as EditorKeyboardShortcutsRegister } from './global-keyboard-shortcuts/register-shortcuts';\nexport { default as EditorHistoryRedo } from './editor-history/redo';\nexport { default as EditorHistoryUndo } from './editor-history/undo';\nexport { default as EditorNotices } from './editor-notices';\nexport { default as EditorSnackbars } from './editor-snackbars';\nexport { default as EntitiesSavedStates } from './entities-saved-states';\nexport { useIsDirty as useEntitiesSavedStatesIsDirty } from './entities-saved-states/hooks/use-is-dirty';\nexport { default as ErrorBoundary } from './error-boundary';\nexport { default as LocalAutosaveMonitor } from './local-autosave-monitor';\nexport { default as PageAttributesCheck } from './page-attributes/check';\nexport { default as PageAttributesOrder } from './page-attributes/order';\nexport { default as PageAttributesPanel } from './page-attributes/panel';\nexport { default as PageAttributesParent } from './page-attributes/parent';\nexport { default as PageTemplate } from './post-template/classic-theme';\nexport { default as PostTemplatePanel } from './post-template/panel';\nexport { default as PostAuthor } from './post-author';\nexport { default as PostAuthorCheck } from './post-author/check';\nexport { default as PostAuthorPanel } from './post-author/panel';\nexport { default as PostComments } from './post-comments';\nexport { default as PostDiscussionPanel } from './post-discussion/panel';\nexport { default as PostExcerpt } from './post-excerpt';\nexport { default as PostExcerptCheck } from './post-excerpt/check';\nexport { default as PostExcerptPanel } from './post-excerpt/panel';\nexport { default as PostFeaturedImage } from './post-featured-image';\nexport { default as PostFeaturedImageCheck } from './post-featured-image/check';\nexport { default as PostFeaturedImagePanel } from './post-featured-image/panel';\nexport { default as PostFormat } from './post-format';\nexport { default as PostFormatCheck } from './post-format/check';\nexport { default as PostLastRevision } from './post-last-revision';\nexport { default as PostLastRevisionCheck } from './post-last-revision/check';\nexport { default as PostLastRevisionPanel } from './post-last-revision/panel';\nexport { default as PostLockedModal } from './post-locked-modal';\nexport { default as PostPendingStatus } from './post-pending-status';\nexport { default as PostPendingStatusCheck } from './post-pending-status/check';\nexport { default as PostPingbacks } from './post-pingbacks';\nexport { default as PostPreviewButton } from './post-preview-button';\nexport { default as PostPublishButton } from './post-publish-button';\nexport { default as PostPublishButtonLabel } from './post-publish-button/label';\nexport { default as PostPublishPanel } from './post-publish-panel';\nexport { default as PostSavedState } from './post-saved-state';\nexport { default as PostSchedule } from './post-schedule';\nexport { default as PostScheduleCheck } from './post-schedule/check';\nexport {\n\tdefault as PostScheduleLabel,\n\tusePostScheduleLabel,\n} from './post-schedule/label';\nexport { default as PostSchedulePanel } from './post-schedule/panel';\nexport { default as PostSlug } from './post-slug';\nexport { default as PostSlugCheck } from './post-slug/check';\nexport { default as PostSticky } from './post-sticky';\nexport { default as PostStickyCheck } from './post-sticky/check';\nexport { default as PostSwitchToDraftButton } from './post-switch-to-draft-button';\nexport {\n\tdefault as PostSyncStatus,\n\tPostSyncStatusModal,\n} from './post-sync-status';\nexport { default as PostTaxonomies } from './post-taxonomies';\nexport { FlatTermSelector as PostTaxonomiesFlatTermSelector } from './post-taxonomies/flat-term-selector';\nexport { HierarchicalTermSelector as PostTaxonomiesHierarchicalTermSelector } from './post-taxonomies/hierarchical-term-selector';\nexport { default as PostTaxonomiesCheck } from './post-taxonomies/check';\nexport { default as PostTaxonomiesPanel } from './post-taxonomies/panel';\nexport { default as PostTextEditor } from './post-text-editor';\nexport { default as PostTitle } from './post-title';\nexport { default as PostTitleRaw } from './post-title/post-title-raw';\nexport { default as PostTrash } from './post-trash';\nexport { default as PostTrashCheck } from './post-trash/check';\nexport { default as PostTypeSupportCheck } from './post-type-support-check';\nexport { default as PostURL } from './post-url';\nexport { default as PostURLCheck } from './post-url/check';\nexport { default as PostURLLabel, usePostURLLabel } from './post-url/label';\nexport { default as PostURLPanel } from './post-url/panel';\nexport { default as PostVisibility } from './post-visibility';\nexport {\n\tdefault as PostVisibilityLabel,\n\tusePostVisibilityLabel,\n} from './post-visibility/label';\nexport { default as PostVisibilityCheck } from './post-visibility/check';\nexport { default as TableOfContents } from './table-of-contents';\nexport { default as ThemeSupportCheck } from './theme-support-check';\nexport { default as UnsavedChangesWarning } from './unsaved-changes-warning';\nexport { default as WordCount } from './word-count';\nexport { default as TimeToRead } from './time-to-read';\nexport { default as CharacterCount } from './character-count';\n\n// State Related Components.\nexport { default as EditorProvider } from './provider';\n\nexport * from './deprecated';\nexport const VisualEditorGlobalKeyboardShortcuts = EditorKeyboardShortcuts;\nexport const TextEditorGlobalKeyboardShortcuts = EditorKeyboardShortcuts;\n","/**\n * WordPress dependencies\n */\nimport { cleanForSlug as urlCleanForSlug } from '@wordpress/url';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Performs some basic cleanup of a string for use as a post slug\n *\n * This replicates some of what sanitize_title() does in WordPress core, but\n * is only designed to approximate what the slug will be.\n *\n * Converts Latin-1 Supplement and Latin Extended-A letters to basic Latin letters.\n * Removes combining diacritical marks. Converts whitespace, periods,\n * and forward slashes to hyphens. Removes any remaining non-word characters\n * except hyphens and underscores. Converts remaining string to lowercase.\n * It does not account for octets, HTML entities, or other encoded characters.\n *\n * @param {string} string Title or slug to be processed\n *\n * @return {string} Processed string\n */\nexport function cleanForSlug( string ) {\n\tdeprecated( 'wp.editor.cleanForSlug', {\n\t\tsince: '12.7',\n\t\tplugin: 'Gutenberg',\n\t\talternative: 'wp.url.cleanForSlug',\n\t} );\n\treturn urlCleanForSlug( string );\n}\n","/**\n * WordPress dependencies\n */\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { useEffect, useState, useRef } from '@wordpress/element';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalConfirmDialog as ConfirmDialog } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\n/**\n * Component that:\n *\n * - Displays a 'Edit your template to edit this block' notification when the\n *   user is focusing on editing page content and clicks on a disabled template\n *   block.\n * - Displays a 'Edit your template to edit this block' dialog when the user\n *   is focusing on editing page conetnt and double clicks on a disabled\n *   template block.\n *\n * @param {Object}                                 props\n * @param {import('react').RefObject<HTMLElement>} props.contentRef Ref to the block\n *                                                                  editor iframe canvas.\n */\nexport default function EditTemplateBlocksNotification( { contentRef } ) {\n\tconst renderingMode = useSelect(\n\t\t( select ) => select( editorStore ).getRenderingMode(),\n\t\t[]\n\t);\n\tconst { getNotices } = useSelect( noticesStore );\n\n\tconst { createInfoNotice, removeNotice } = useDispatch( noticesStore );\n\tconst { setRenderingMode } = useDispatch( editorStore );\n\n\tconst [ isDialogOpen, setIsDialogOpen ] = useState( false );\n\n\tconst lastNoticeId = useRef( 0 );\n\n\tuseEffect( () => {\n\t\tconst handleClick = async ( event ) => {\n\t\t\tif ( renderingMode !== 'template-locked' ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ! event.target.classList.contains( 'is-root-container' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst isNoticeAlreadyShowing = getNotices().some(\n\t\t\t\t( notice ) => notice.id === lastNoticeId.current\n\t\t\t);\n\t\t\tif ( isNoticeAlreadyShowing ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { notice } = await createInfoNotice(\n\t\t\t\t__( 'Edit your template to edit this block.' ),\n\t\t\t\t{\n\t\t\t\t\tisDismissible: true,\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'Edit template' ),\n\t\t\t\t\t\t\tonClick: () => setRenderingMode( 'template-only' ),\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\t\tlastNoticeId.current = notice.id;\n\t\t};\n\n\t\tconst handleDblClick = ( event ) => {\n\t\t\tif ( renderingMode !== 'template-locked' ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( ! event.target.classList.contains( 'is-root-container' ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( lastNoticeId.current ) {\n\t\t\t\tremoveNotice( lastNoticeId.current );\n\t\t\t}\n\t\t\tsetIsDialogOpen( true );\n\t\t};\n\n\t\tconst canvas = contentRef.current;\n\t\tcanvas?.addEventListener( 'click', handleClick );\n\t\tcanvas?.addEventListener( 'dblclick', handleDblClick );\n\t\treturn () => {\n\t\t\tcanvas?.removeEventListener( 'click', handleClick );\n\t\t\tcanvas?.removeEventListener( 'dblclick', handleDblClick );\n\t\t};\n\t}, [ lastNoticeId, renderingMode, contentRef.current ] );\n\n\treturn (\n\t\t<ConfirmDialog\n\t\t\tisOpen={ isDialogOpen }\n\t\t\tconfirmButtonText={ __( 'Edit template' ) }\n\t\t\tonConfirm={ () => {\n\t\t\t\tsetIsDialogOpen( false );\n\t\t\t\tsetRenderingMode( 'template-only' );\n\t\t\t} }\n\t\t\tonCancel={ () => setIsDialogOpen( false ) }\n\t\t>\n\t\t\t{ __( 'Edit your template to edit this block.' ) }\n\t\t</ConfirmDialog>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tBlockList,\n\tstore as blockEditorStore,\n\t__unstableUseTypewriter as useTypewriter,\n\t__unstableUseTypingObserver as useTypingObserver,\n\tuseSettings,\n\t__experimentalRecursionProvider as RecursionProvider,\n\tprivateApis as blockEditorPrivateApis,\n\t__experimentalUseResizeCanvas as useResizeCanvas,\n} from '@wordpress/block-editor';\nimport { useEffect, useRef, useMemo } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { parse } from '@wordpress/blocks';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useMergeRefs } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostTitle from '../post-title';\nimport { store as editorStore } from '../../store';\nimport { unlock } from '../../lock-unlock';\nimport EditTemplateBlocksNotification from './edit-template-blocks-notification';\n\nconst {\n\tLayoutStyle,\n\tuseLayoutClasses,\n\tuseLayoutStyles,\n\tExperimentalBlockCanvas: BlockCanvas,\n} = unlock( blockEditorPrivateApis );\n\nconst noop = () => {};\n\n/**\n * Given an array of nested blocks, find the first Post Content\n * block inside it, recursing through any nesting levels,\n * and return its attributes.\n *\n * @param {Array} blocks A list of blocks.\n *\n * @return {Object | undefined} The Post Content block.\n */\nfunction getPostContentAttributes( blocks ) {\n\tfor ( let i = 0; i < blocks.length; i++ ) {\n\t\tif ( blocks[ i ].name === 'core/post-content' ) {\n\t\t\treturn blocks[ i ].attributes;\n\t\t}\n\t\tif ( blocks[ i ].innerBlocks.length ) {\n\t\t\tconst nestedPostContent = getPostContentAttributes(\n\t\t\t\tblocks[ i ].innerBlocks\n\t\t\t);\n\n\t\t\tif ( nestedPostContent ) {\n\t\t\t\treturn nestedPostContent;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction checkForPostContentAtRootLevel( blocks ) {\n\tfor ( let i = 0; i < blocks.length; i++ ) {\n\t\tif ( blocks[ i ].name === 'core/post-content' ) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction EditorCanvas( {\n\t// Ideally as we unify post and site editors, we won't need these props.\n\tautoFocus,\n\tclassName,\n\trenderAppender,\n\tstyles,\n\tdisableIframe = false,\n\tiframeProps,\n\tchildren,\n} ) {\n\tconst {\n\t\trenderingMode,\n\t\tpostContentAttributes,\n\t\teditedPostTemplate = {},\n\t\twrapperBlockName,\n\t\twrapperUniqueId,\n\t\tdeviceType,\n\t\thasHistory,\n\t} = useSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetCurrentPostId,\n\t\t\tgetCurrentPostType,\n\t\t\tgetCurrentTemplateId,\n\t\t\tgetEditorSettings,\n\t\t\tgetRenderingMode,\n\t\t\tgetDeviceType,\n\t\t} = select( editorStore );\n\t\tconst { getPostType, canUser, getEditedEntityRecord } =\n\t\t\tselect( coreStore );\n\t\tconst postTypeSlug = getCurrentPostType();\n\t\tconst _renderingMode = getRenderingMode();\n\t\tlet _wrapperBlockName;\n\n\t\tif ( postTypeSlug === 'wp_block' ) {\n\t\t\t_wrapperBlockName = 'core/block';\n\t\t} else if ( ! _renderingMode === 'post-only' ) {\n\t\t\t_wrapperBlockName = 'core/post-content';\n\t\t}\n\n\t\tconst editorSettings = getEditorSettings();\n\t\tconst supportsTemplateMode = editorSettings.supportsTemplateMode;\n\t\tconst postType = getPostType( postTypeSlug );\n\t\tconst canEditTemplate = canUser( 'create', 'templates' );\n\t\tconst currentTemplateId = getCurrentTemplateId();\n\t\tconst template = currentTemplateId\n\t\t\t? getEditedEntityRecord(\n\t\t\t\t\t'postType',\n\t\t\t\t\t'wp_template',\n\t\t\t\t\tcurrentTemplateId\n\t\t\t  )\n\t\t\t: undefined;\n\n\t\treturn {\n\t\t\trenderingMode: _renderingMode,\n\t\t\tpostContentAttributes: editorSettings.postContentAttributes,\n\t\t\t// Post template fetch returns a 404 on classic themes, which\n\t\t\t// messes with e2e tests, so check it's a block theme first.\n\t\t\teditedPostTemplate:\n\t\t\t\tpostType?.viewable && supportsTemplateMode && canEditTemplate\n\t\t\t\t\t? template\n\t\t\t\t\t: undefined,\n\t\t\twrapperBlockName: _wrapperBlockName,\n\t\t\twrapperUniqueId: getCurrentPostId(),\n\t\t\tdeviceType: getDeviceType(),\n\t\t\thasHistory: !! editorSettings.goBack,\n\t\t};\n\t}, [] );\n\tconst { isCleanNewPost } = useSelect( editorStore );\n\tconst {\n\t\thasRootPaddingAwareAlignments,\n\t\tthemeHasDisabledLayoutStyles,\n\t\tthemeSupportsLayout,\n\t} = useSelect( ( select ) => {\n\t\tconst _settings = select( blockEditorStore ).getSettings();\n\t\treturn {\n\t\t\tthemeHasDisabledLayoutStyles: _settings.disableLayoutStyles,\n\t\t\tthemeSupportsLayout: _settings.supportsLayout,\n\t\t\thasRootPaddingAwareAlignments:\n\t\t\t\t_settings.__experimentalFeatures?.useRootPaddingAwareAlignments,\n\t\t};\n\t}, [] );\n\n\tconst deviceStyles = useResizeCanvas( deviceType );\n\tconst [ globalLayoutSettings ] = useSettings( 'layout' );\n\n\t// fallbackLayout is used if there is no Post Content,\n\t// and for Post Title.\n\tconst fallbackLayout = useMemo( () => {\n\t\tif ( renderingMode !== 'post-only' ) {\n\t\t\treturn { type: 'default' };\n\t\t}\n\n\t\tif ( themeSupportsLayout ) {\n\t\t\t// We need to ensure support for wide and full alignments,\n\t\t\t// so we add the constrained type.\n\t\t\treturn { ...globalLayoutSettings, type: 'constrained' };\n\t\t}\n\t\t// Set default layout for classic themes so all alignments are supported.\n\t\treturn { type: 'default' };\n\t}, [ renderingMode, themeSupportsLayout, globalLayoutSettings ] );\n\n\tconst newestPostContentAttributes = useMemo( () => {\n\t\tif (\n\t\t\t! editedPostTemplate?.content &&\n\t\t\t! editedPostTemplate?.blocks &&\n\t\t\tpostContentAttributes\n\t\t) {\n\t\t\treturn postContentAttributes;\n\t\t}\n\t\t// When in template editing mode, we can access the blocks directly.\n\t\tif ( editedPostTemplate?.blocks ) {\n\t\t\treturn getPostContentAttributes( editedPostTemplate?.blocks );\n\t\t}\n\t\t// If there are no blocks, we have to parse the content string.\n\t\t// Best double-check it's a string otherwise the parse function gets unhappy.\n\t\tconst parseableContent =\n\t\t\ttypeof editedPostTemplate?.content === 'string'\n\t\t\t\t? editedPostTemplate?.content\n\t\t\t\t: '';\n\n\t\treturn getPostContentAttributes( parse( parseableContent ) ) || {};\n\t}, [\n\t\teditedPostTemplate?.content,\n\t\teditedPostTemplate?.blocks,\n\t\tpostContentAttributes,\n\t] );\n\n\tconst hasPostContentAtRootLevel = useMemo( () => {\n\t\tif ( ! editedPostTemplate?.content && ! editedPostTemplate?.blocks ) {\n\t\t\treturn false;\n\t\t}\n\t\t// When in template editing mode, we can access the blocks directly.\n\t\tif ( editedPostTemplate?.blocks ) {\n\t\t\treturn checkForPostContentAtRootLevel( editedPostTemplate?.blocks );\n\t\t}\n\t\t// If there are no blocks, we have to parse the content string.\n\t\t// Best double-check it's a string otherwise the parse function gets unhappy.\n\t\tconst parseableContent =\n\t\t\ttypeof editedPostTemplate?.content === 'string'\n\t\t\t\t? editedPostTemplate?.content\n\t\t\t\t: '';\n\n\t\treturn (\n\t\t\tcheckForPostContentAtRootLevel( parse( parseableContent ) ) || false\n\t\t);\n\t}, [ editedPostTemplate?.content, editedPostTemplate?.blocks ] );\n\n\tconst { layout = {}, align = '' } = newestPostContentAttributes || {};\n\n\tconst postContentLayoutClasses = useLayoutClasses(\n\t\tnewestPostContentAttributes,\n\t\t'core/post-content'\n\t);\n\n\tconst blockListLayoutClass = classnames(\n\t\t{\n\t\t\t'is-layout-flow': ! themeSupportsLayout,\n\t\t},\n\t\tthemeSupportsLayout && postContentLayoutClasses,\n\t\talign && `align${ align }`\n\t);\n\n\tconst postContentLayoutStyles = useLayoutStyles(\n\t\tnewestPostContentAttributes,\n\t\t'core/post-content',\n\t\t'.block-editor-block-list__layout.is-root-container'\n\t);\n\n\t// Update type for blocks using legacy layouts.\n\tconst postContentLayout = useMemo( () => {\n\t\treturn layout &&\n\t\t\t( layout?.type === 'constrained' ||\n\t\t\t\tlayout?.inherit ||\n\t\t\t\tlayout?.contentSize ||\n\t\t\t\tlayout?.wideSize )\n\t\t\t? { ...globalLayoutSettings, ...layout, type: 'constrained' }\n\t\t\t: { ...globalLayoutSettings, ...layout, type: 'default' };\n\t}, [\n\t\tlayout?.type,\n\t\tlayout?.inherit,\n\t\tlayout?.contentSize,\n\t\tlayout?.wideSize,\n\t\tglobalLayoutSettings,\n\t] );\n\n\t// If there is a Post Content block we use its layout for the block list;\n\t// if not, this must be a classic theme, in which case we use the fallback layout.\n\tconst blockListLayout = postContentAttributes\n\t\t? postContentLayout\n\t\t: fallbackLayout;\n\n\tconst postEditorLayout =\n\t\tblockListLayout?.type === 'default' && ! hasPostContentAtRootLevel\n\t\t\t? fallbackLayout\n\t\t\t: blockListLayout;\n\n\tconst observeTypingRef = useTypingObserver();\n\tconst titleRef = useRef();\n\tuseEffect( () => {\n\t\tif ( ! autoFocus || ! isCleanNewPost() ) {\n\t\t\treturn;\n\t\t}\n\t\ttitleRef?.current?.focus();\n\t}, [ autoFocus, isCleanNewPost ] );\n\n\t// Add some styles for alignwide/alignfull Post Content and its children.\n\tconst alignCSS = `.is-root-container.alignwide { max-width: var(--wp--style--global--wide-size); margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignwide:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: var(--wp--style--global--wide-size);}\n\t\t.is-root-container.alignfull { max-width: none; margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignfull:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: none;}`;\n\n\tconst localRef = useRef();\n\tconst typewriterRef = useTypewriter();\n\tconst contentRef = useMergeRefs( [\n\t\tlocalRef,\n\t\trenderingMode === 'post-only' ? typewriterRef : noop,\n\t] );\n\n\treturn (\n\t\t<BlockCanvas\n\t\t\tshouldIframe={\n\t\t\t\t! disableIframe || [ 'Tablet', 'Mobile' ].includes( deviceType )\n\t\t\t}\n\t\t\tcontentRef={ contentRef }\n\t\t\tstyles={ styles }\n\t\t\theight=\"100%\"\n\t\t\tiframeProps={ {\n\t\t\t\tclassName: classnames( 'editor-canvas__iframe', {\n\t\t\t\t\t'has-history': hasHistory,\n\t\t\t\t} ),\n\t\t\t\t...iframeProps,\n\t\t\t\tstyle: {\n\t\t\t\t\t...iframeProps?.style,\n\t\t\t\t\t...deviceStyles,\n\t\t\t\t},\n\t\t\t} }\n\t\t>\n\t\t\t{ themeSupportsLayout &&\n\t\t\t\t! themeHasDisabledLayoutStyles &&\n\t\t\t\trenderingMode === 'post-only' && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\tselector=\".editor-editor-canvas__post-title-wrapper\"\n\t\t\t\t\t\t\tlayout={ fallbackLayout }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\tselector=\".block-editor-block-list__layout.is-root-container\"\n\t\t\t\t\t\t\tlayout={ postEditorLayout }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ align && <LayoutStyle css={ alignCSS } /> }\n\t\t\t\t\t\t{ postContentLayoutStyles && (\n\t\t\t\t\t\t\t<LayoutStyle\n\t\t\t\t\t\t\t\tlayout={ postContentLayout }\n\t\t\t\t\t\t\t\tcss={ postContentLayoutStyles }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t{ renderingMode === 'post-only' && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t'editor-editor-canvas__post-title-wrapper',\n\t\t\t\t\t\t// The following class is only here for backward comapatibility\n\t\t\t\t\t\t// some themes might be using it to style the post title.\n\t\t\t\t\t\t'edit-post-visual-editor__post-title-wrapper',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'has-global-padding': hasRootPaddingAwareAlignments,\n\t\t\t\t\t\t}\n\t\t\t\t\t) }\n\t\t\t\t\tcontentEditable={ false }\n\t\t\t\t\tref={ observeTypingRef }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t// This is using inline styles\n\t\t\t\t\t\t// so it's applied for both iframed and non iframed editors.\n\t\t\t\t\t\tmarginTop: '4rem',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<PostTitle ref={ titleRef } />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<RecursionProvider\n\t\t\t\tblockName={ wrapperBlockName }\n\t\t\t\tuniqueId={ wrapperUniqueId }\n\t\t\t>\n\t\t\t\t<BlockList\n\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t'is-' + deviceType.toLowerCase() + '-preview',\n\t\t\t\t\t\trenderingMode !== 'post-only'\n\t\t\t\t\t\t\t? 'wp-site-blocks'\n\t\t\t\t\t\t\t: `${ blockListLayoutClass } wp-block-post-content` // Ensure root level blocks receive default/flow blockGap styling rules.\n\t\t\t\t\t) }\n\t\t\t\t\tlayout={ blockListLayout }\n\t\t\t\t\tdropZoneElement={\n\t\t\t\t\t\t// When iframed, pass in the html element of the iframe to\n\t\t\t\t\t\t// ensure the drop zone extends to the edges of the iframe.\n\t\t\t\t\t\tdisableIframe\n\t\t\t\t\t\t\t? localRef.current\n\t\t\t\t\t\t\t: localRef.current?.parentNode\n\t\t\t\t\t}\n\t\t\t\t\trenderAppender={ renderAppender }\n\t\t\t\t/>\n\t\t\t\t<EditTemplateBlocksNotification contentRef={ localRef } />\n\t\t\t</RecursionProvider>\n\t\t\t{ children }\n\t\t</BlockCanvas>\n\t);\n}\n\nexport default EditorCanvas;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst plus = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\" />\n\t</SVG>\n);\n\nexport default plus;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst listView = (\n\t<SVG viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t<Path d=\"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z\" />\n\t</SVG>\n);\n\nexport default listView;\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tNavigableToolbar,\n\tToolSelector,\n\tstore as blockEditorStore,\n\tprivateApis as blockEditorPrivateApis,\n} from '@wordpress/block-editor';\nimport { Button, ToolbarItem } from '@wordpress/components';\nimport { listView, plus } from '@wordpress/icons';\nimport { useRef, useCallback } from '@wordpress/element';\nimport { store as keyboardShortcutsStore } from '@wordpress/keyboard-shortcuts';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\nimport EditorHistoryRedo from '../editor-history/redo';\nimport EditorHistoryUndo from '../editor-history/undo';\n\nconst { useCanBlockToolbarBeFocused } = unlock( blockEditorPrivateApis );\n\nconst preventDefault = ( event ) => {\n\tevent.preventDefault();\n};\n\nfunction DocumentTools( {\n\tclassName,\n\tdisableBlockTools = false,\n\tchildren,\n\t// This is a temporary prop until the list view is fully unified between post and site editors.\n\tlistViewLabel = __( 'Document Overview' ),\n} ) {\n\tconst inserterButton = useRef();\n\tconst { setIsInserterOpened, setIsListViewOpened } =\n\t\tuseDispatch( editorStore );\n\tconst {\n\t\tisInserterOpened,\n\t\tisListViewOpen,\n\t\tlistViewShortcut,\n\t\tlistViewToggleRef,\n\t\thasFixedToolbar,\n\t\tshowIconLabels,\n\t} = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst { get } = select( preferencesStore );\n\t\tconst { isListViewOpened, getListViewToggleRef } = unlock(\n\t\t\tselect( editorStore )\n\t\t);\n\t\tconst { getShortcutRepresentation } = select( keyboardShortcutsStore );\n\n\t\treturn {\n\t\t\tisInserterOpened: select( editorStore ).isInserterOpened(),\n\t\t\tisListViewOpen: isListViewOpened(),\n\t\t\tlistViewShortcut: getShortcutRepresentation(\n\t\t\t\t'core/editor/toggle-list-view'\n\t\t\t),\n\t\t\tlistViewToggleRef: getListViewToggleRef(),\n\t\t\thasFixedToolbar: getSettings().hasFixedToolbar,\n\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t};\n\t}, [] );\n\n\tconst isLargeViewport = useViewportMatch( 'medium' );\n\tconst isWideViewport = useViewportMatch( 'wide' );\n\tconst blockToolbarCanBeFocused = useCanBlockToolbarBeFocused();\n\n\t/* translators: accessibility text for the editor toolbar */\n\tconst toolbarAriaLabel = __( 'Document tools' );\n\n\tconst toggleListView = useCallback(\n\t\t() => setIsListViewOpened( ! isListViewOpen ),\n\t\t[ setIsListViewOpened, isListViewOpen ]\n\t);\n\n\tconst toggleInserter = useCallback( () => {\n\t\tif ( isInserterOpened ) {\n\t\t\t// Focusing the inserter button should close the inserter popover.\n\t\t\t// However, there are some cases it won't close when the focus is lost.\n\t\t\t// See https://github.com/WordPress/gutenberg/issues/43090 for more details.\n\t\t\tinserterButton.current.focus();\n\t\t\tsetIsInserterOpened( false );\n\t\t} else {\n\t\t\tsetIsInserterOpened( true );\n\t\t}\n\t}, [ isInserterOpened, setIsInserterOpened ] );\n\n\t/* translators: button label text should, if possible, be under 16 characters. */\n\tconst longLabel = _x(\n\t\t'Toggle block inserter',\n\t\t'Generic label for block inserter button'\n\t);\n\tconst shortLabel = ! isInserterOpened ? __( 'Add' ) : __( 'Close' );\n\n\treturn (\n\t\t// Some plugins expect and use the `edit-post-header-toolbar` CSS class to\n\t\t// find the toolbar and inject UI elements into it. This is not officially\n\t\t// supported, but we're keeping it in the list of class names for backwards\n\t\t// compatibility.\n\t\t<NavigableToolbar\n\t\t\tclassName={ classnames(\n\t\t\t\t'editor-document-tools',\n\t\t\t\t'edit-post-header-toolbar',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\taria-label={ toolbarAriaLabel }\n\t\t\tshouldUseKeyboardFocusShortcut={ ! blockToolbarCanBeFocused }\n\t\t\tvariant=\"unstyled\"\n\t\t>\n\t\t\t<div className=\"editor-document-tools__left\">\n\t\t\t\t<ToolbarItem\n\t\t\t\t\tref={ inserterButton }\n\t\t\t\t\tas={ Button }\n\t\t\t\t\tclassName=\"editor-document-tools__inserter-toggle\"\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tisPressed={ isInserterOpened }\n\t\t\t\t\tonMouseDown={ preventDefault }\n\t\t\t\t\tonClick={ toggleInserter }\n\t\t\t\t\tdisabled={ disableBlockTools }\n\t\t\t\t\ticon={ plus }\n\t\t\t\t\tlabel={ showIconLabels ? shortLabel : longLabel }\n\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\taria-expanded={ isInserterOpened }\n\t\t\t\t/>\n\t\t\t\t{ ( isWideViewport || ! showIconLabels ) && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{ isLargeViewport && ! hasFixedToolbar && (\n\t\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\t\tas={ ToolSelector }\n\t\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tshowIconLabels ? 'tertiary' : undefined\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={ disableBlockTools }\n\t\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\tas={ EditorHistoryUndo }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\tas={ EditorHistoryRedo }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToolbarItem\n\t\t\t\t\t\t\tas={ Button }\n\t\t\t\t\t\t\tclassName=\"editor-document-tools__document-overview-toggle\"\n\t\t\t\t\t\t\ticon={ listView }\n\t\t\t\t\t\t\tdisabled={ disableBlockTools }\n\t\t\t\t\t\t\tisPressed={ isListViewOpen }\n\t\t\t\t\t\t\t/* translators: button label text should, if possible, be under 16 characters. */\n\t\t\t\t\t\t\tlabel={ listViewLabel }\n\t\t\t\t\t\t\tonClick={ toggleListView }\n\t\t\t\t\t\t\tshortcut={ listViewShortcut }\n\t\t\t\t\t\t\tshowTooltip={ ! showIconLabels }\n\t\t\t\t\t\t\tvariant={ showIconLabels ? 'tertiary' : undefined }\n\t\t\t\t\t\t\taria-expanded={ isListViewOpen }\n\t\t\t\t\t\t\tref={ listViewToggleRef }\n\t\t\t\t\t\t\tsize=\"compact\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</NavigableToolbar>\n\t);\n}\n\nexport default DocumentTools;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst close = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z\" />\n\t</SVG>\n);\n\nexport default close;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalText as Text } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport CharacterCount from '../character-count';\nimport WordCount from '../word-count';\nimport TimeToRead from '../time-to-read';\nimport DocumentOutline from '../document-outline';\n\nexport default function ListViewOutline() {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"editor-list-view-sidebar__outline\">\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Characters:' ) }</Text>\n\t\t\t\t\t<Text>\n\t\t\t\t\t\t<CharacterCount />\n\t\t\t\t\t</Text>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Words:' ) }</Text>\n\t\t\t\t\t<WordCount />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<Text>{ __( 'Time to read:' ) }</Text>\n\t\t\t\t\t<TimeToRead />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<DocumentOutline />\n\t\t</>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\n\nconst external = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z\" />\n\t</SVG>\n);\n\nexport default external;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst mobile = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z\" />\n\t</SVG>\n);\n\nexport default mobile;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst tablet = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z\" />\n\t</SVG>\n);\n\nexport default tablet;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst desktop = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z\" />\n\t</SVG>\n);\n\nexport default desktop;\n","/**\n * Internal dependencies\n */\nimport EditorCanvas from './components/editor-canvas';\nimport { ExperimentalEditorProvider } from './components/provider';\nimport { lock } from './lock-unlock';\nimport { EntitiesSavedStatesExtensible } from './components/entities-saved-states';\nimport useBlockEditorSettings from './components/provider/use-block-editor-settings';\nimport DocumentTools from './components/document-tools';\nimport InserterSidebar from './components/inserter-sidebar';\nimport ListViewSidebar from './components/list-view-sidebar';\nimport PostPanelRow from './components/post-panel-row';\nimport PostViewLink from './components/post-view-link';\nimport PreviewDropdown from './components/preview-dropdown';\nimport PluginPostExcerpt from './components/post-excerpt/plugin';\n\nexport const privateApis = {};\nlock( privateApis, {\n\tDocumentTools,\n\tEditorCanvas,\n\tExperimentalEditorProvider,\n\tEntitiesSavedStatesExtensible,\n\tInserterSidebar,\n\tListViewSidebar,\n\tPostPanelRow,\n\tPostViewLink,\n\tPreviewDropdown,\n\tPluginPostExcerpt,\n\n\t// This is a temporary private API while we're updating the site editor to use EditorProvider.\n\tuseBlockEditorSettings,\n} );\n","/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { Button, VisuallyHidden } from '@wordpress/components';\nimport { __experimentalLibrary as Library } from '@wordpress/block-editor';\nimport { close } from '@wordpress/icons';\nimport {\n\tuseViewportMatch,\n\t__experimentalUseDialog as useDialog,\n} from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef } from '@wordpress/element';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nexport default function InserterSidebar() {\n\tconst { insertionPoint, showMostUsedBlocks } = useSelect( ( select ) => {\n\t\tconst { getInsertionPoint } = unlock( select( editorStore ) );\n\t\tconst { get } = select( preferencesStore );\n\t\treturn {\n\t\t\tinsertionPoint: getInsertionPoint(),\n\t\t\tshowMostUsedBlocks: get( 'core', 'mostUsedBlocks' ),\n\t\t};\n\t}, [] );\n\tconst { setIsInserterOpened } = useDispatch( editorStore );\n\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst TagName = ! isMobileViewport ? VisuallyHidden : 'div';\n\tconst [ inserterDialogRef, inserterDialogProps ] = useDialog( {\n\t\tonClose: () => setIsInserterOpened( false ),\n\t\tfocusOnMount: null,\n\t} );\n\n\tconst libraryRef = useRef();\n\tuseEffect( () => {\n\t\tlibraryRef.current.focusSearch();\n\t}, [] );\n\n\treturn (\n\t\t<div\n\t\t\tref={ inserterDialogRef }\n\t\t\t{ ...inserterDialogProps }\n\t\t\tclassName=\"editor-inserter-sidebar\"\n\t\t>\n\t\t\t<TagName className=\"editor-inserter-sidebar__header\">\n\t\t\t\t<Button\n\t\t\t\t\ticon={ close }\n\t\t\t\t\tlabel={ __( 'Close block inserter' ) }\n\t\t\t\t\tonClick={ () => setIsInserterOpened( false ) }\n\t\t\t\t/>\n\t\t\t</TagName>\n\t\t\t<div className=\"editor-inserter-sidebar__content\">\n\t\t\t\t<Library\n\t\t\t\t\tshowMostUsedBlocks={ showMostUsedBlocks }\n\t\t\t\t\tshowInserterHelpPanel\n\t\t\t\t\tshouldFocusBlock={ isMobileViewport }\n\t\t\t\t\trootClientId={ insertionPoint.rootClientId }\n\t\t\t\t\t__experimentalInsertionIndex={\n\t\t\t\t\t\tinsertionPoint.insertionIndex\n\t\t\t\t\t}\n\t\t\t\t\t__experimentalFilterValue={ insertionPoint.filterValue }\n\t\t\t\t\tref={ libraryRef }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __experimentalListView as ListView } from '@wordpress/block-editor';\nimport { Button, TabPanel } from '@wordpress/components';\nimport { useFocusOnMount, useMergeRefs } from '@wordpress/compose';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { focus } from '@wordpress/dom';\nimport { useCallback, useRef, useState } from '@wordpress/element';\nimport { __, _x } from '@wordpress/i18n';\nimport { closeSmall } from '@wordpress/icons';\nimport { useShortcut } from '@wordpress/keyboard-shortcuts';\nimport { ESCAPE } from '@wordpress/keycodes';\n\n/**\n * Internal dependencies\n */\nimport ListViewOutline from './list-view-outline';\nimport { unlock } from '../../lock-unlock';\nimport { store as editorStore } from '../../store';\n\nexport default function ListViewSidebar() {\n\tconst { setIsListViewOpened } = useDispatch( editorStore );\n\tconst { getListViewToggleRef } = unlock( useSelect( editorStore ) );\n\n\t// This hook handles focus when the sidebar first renders.\n\tconst focusOnMountRef = useFocusOnMount( 'firstElement' );\n\n\t// When closing the list view, focus should return to the toggle button.\n\tconst closeListView = useCallback( () => {\n\t\tsetIsListViewOpened( false );\n\t\tgetListViewToggleRef().current?.focus();\n\t}, [ getListViewToggleRef, setIsListViewOpened ] );\n\n\tconst closeOnEscape = useCallback(\n\t\t( event ) => {\n\t\t\tif ( event.keyCode === ESCAPE && ! event.defaultPrevented ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tcloseListView();\n\t\t\t}\n\t\t},\n\t\t[ closeListView ]\n\t);\n\n\t// Use internal state instead of a ref to make sure that the component\n\t// re-renders when the dropZoneElement updates.\n\tconst [ dropZoneElement, setDropZoneElement ] = useState( null );\n\t// Tracks our current tab.\n\tconst [ tab, setTab ] = useState( 'list-view' );\n\n\t// This ref refers to the sidebar as a whole.\n\tconst sidebarRef = useRef();\n\t// This ref refers to the tab panel.\n\tconst tabPanelRef = useRef();\n\t// This ref refers to the list view application area.\n\tconst listViewRef = useRef();\n\n\t// Must merge the refs together so focus can be handled properly in the next function.\n\tconst listViewContainerRef = useMergeRefs( [\n\t\tfocusOnMountRef,\n\t\tlistViewRef,\n\t\tsetDropZoneElement,\n\t] );\n\n\t/*\n\t * Callback function to handle list view or outline focus.\n\t *\n\t * @param {string} currentTab The current tab. Either list view or outline.\n\t *\n\t * @return void\n\t */\n\tfunction handleSidebarFocus( currentTab ) {\n\t\t// Tab panel focus.\n\t\tconst tabPanelFocus = focus.tabbable.find( tabPanelRef.current )[ 0 ];\n\t\t// List view tab is selected.\n\t\tif ( currentTab === 'list-view' ) {\n\t\t\t// Either focus the list view or the tab panel. Must have a fallback because the list view does not render when there are no blocks.\n\t\t\tconst listViewApplicationFocus = focus.tabbable.find(\n\t\t\t\tlistViewRef.current\n\t\t\t)[ 0 ];\n\t\t\tconst listViewFocusArea = sidebarRef.current.contains(\n\t\t\t\tlistViewApplicationFocus\n\t\t\t)\n\t\t\t\t? listViewApplicationFocus\n\t\t\t\t: tabPanelFocus;\n\t\t\tlistViewFocusArea.focus();\n\t\t\t// Outline tab is selected.\n\t\t} else {\n\t\t\ttabPanelFocus.focus();\n\t\t}\n\t}\n\n\tconst handleToggleListViewShortcut = useCallback( () => {\n\t\t// If the sidebar has focus, it is safe to close.\n\t\tif (\n\t\t\tsidebarRef.current.contains(\n\t\t\t\tsidebarRef.current.ownerDocument.activeElement\n\t\t\t)\n\t\t) {\n\t\t\tcloseListView();\n\t\t} else {\n\t\t\t// If the list view or outline does not have focus, focus should be moved to it.\n\t\t\thandleSidebarFocus( tab );\n\t\t}\n\t}, [ closeListView, tab ] );\n\n\t// This only fires when the sidebar is open because of the conditional rendering.\n\t// It is the same shortcut to open but that is defined as a global shortcut and only fires when the sidebar is closed.\n\tuseShortcut( 'core/editor/toggle-list-view', handleToggleListViewShortcut );\n\n\t/**\n\t * Render tab content for a given tab name.\n\t *\n\t * @param {string} tabName The name of the tab to render.\n\t */\n\tfunction renderTabContent( tabName ) {\n\t\tif ( tabName === 'list-view' ) {\n\t\t\treturn (\n\t\t\t\t<div className=\"editor-list-view-sidebar__list-view-panel-content\">\n\t\t\t\t\t<ListView dropZoneElement={ dropZoneElement } />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn <ListViewOutline />;\n\t}\n\n\treturn (\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<div\n\t\t\tclassName=\"editor-list-view-sidebar\"\n\t\t\tonKeyDown={ closeOnEscape }\n\t\t\tref={ sidebarRef }\n\t\t>\n\t\t\t<Button\n\t\t\t\tclassName=\"editor-list-view-sidebar__close-button\"\n\t\t\t\ticon={ closeSmall }\n\t\t\t\tlabel={ __( 'Close' ) }\n\t\t\t\tonClick={ closeListView }\n\t\t\t/>\n\t\t\t<TabPanel\n\t\t\t\tclassName=\"editor-list-view-sidebar__tab-panel\"\n\t\t\t\tref={ tabPanelRef }\n\t\t\t\tonSelect={ ( tabName ) => setTab( tabName ) }\n\t\t\t\tselectOnMove={ false }\n\t\t\t\ttabs={ [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'list-view',\n\t\t\t\t\t\ttitle: _x( 'List View', 'Post overview' ),\n\t\t\t\t\t\tclassName: 'editor-list-view-sidebar__panel-tab',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'outline',\n\t\t\t\t\t\ttitle: _x( 'Outline', 'Post overview' ),\n\t\t\t\t\t\tclassName: 'editor-list-view-sidebar__panel-tab',\n\t\t\t\t\t},\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ ( currentTab ) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"editor-list-view-sidebar__list-view-container\"\n\t\t\t\t\t\tref={ listViewContainerRef }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ renderTabContent( currentTab.name ) }\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</TabPanel>\n\t\t</div>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { external } from '@wordpress/icons';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { useSelect } from '@wordpress/data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\n\nexport default function PostViewLink() {\n\tconst { hasLoaded, permalink, isPublished, label, showIconLabels } =\n\t\tuseSelect( ( select ) => {\n\t\t\t// Grab post type to retrieve the view_item label.\n\t\t\tconst postTypeSlug = select( editorStore ).getCurrentPostType();\n\t\t\tconst postType = select( coreStore ).getPostType( postTypeSlug );\n\t\t\tconst { get } = select( preferencesStore );\n\n\t\t\treturn {\n\t\t\t\tpermalink: select( editorStore ).getPermalink(),\n\t\t\t\tisPublished: select( editorStore ).isCurrentPostPublished(),\n\t\t\t\tlabel: postType?.labels.view_item,\n\t\t\t\thasLoaded: !! postType,\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t}, [] );\n\n\t// Only render the view button if the post is published and has a permalink.\n\tif ( ! isPublished || ! permalink || ! hasLoaded ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Button\n\t\t\ticon={ external }\n\t\t\tlabel={ label || __( 'View post' ) }\n\t\t\thref={ permalink }\n\t\t\ttarget=\"_blank\"\n\t\t\tshowTooltip={ ! showIconLabels }\n\t\t/>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { useViewportMatch } from '@wordpress/compose';\nimport {\n\tDropdownMenu,\n\tMenuGroup,\n\tMenuItem,\n\tVisuallyHidden,\n\tIcon,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { check, desktop, mobile, tablet, external } from '@wordpress/icons';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { store as preferencesStore } from '@wordpress/preferences';\n\n/**\n * Internal dependencies\n */\nimport { store as editorStore } from '../../store';\nimport PostPreviewButton from '../post-preview-button';\n\nexport default function PreviewDropdown( { forceIsAutosaveable, disabled } ) {\n\tconst { deviceType, homeUrl, isTemplate, isViewable, showIconLabels } =\n\t\tuseSelect( ( select ) => {\n\t\t\tconst { getDeviceType, getCurrentPostType } = select( editorStore );\n\t\t\tconst { getUnstableBase, getPostType } = select( coreStore );\n\t\t\tconst { get } = select( preferencesStore );\n\t\t\tconst _currentPostType = getCurrentPostType();\n\t\t\treturn {\n\t\t\t\tdeviceType: getDeviceType(),\n\t\t\t\thomeUrl: getUnstableBase()?.home,\n\t\t\t\tisTemplate: _currentPostType === 'wp_template',\n\t\t\t\tisViewable: getPostType( _currentPostType )?.viewable ?? false,\n\t\t\t\tshowIconLabels: get( 'core', 'showIconLabels' ),\n\t\t\t};\n\t\t}, [] );\n\tconst { setDeviceType } = useDispatch( editorStore );\n\tconst isMobile = useViewportMatch( 'medium', '<' );\n\tif ( isMobile ) return null;\n\n\tconst popoverProps = {\n\t\tplacement: 'bottom-end',\n\t};\n\tconst toggleProps = {\n\t\tclassName: 'editor-preview-dropdown__toggle',\n\t\tsize: 'compact',\n\t\tshowTooltip: ! showIconLabels,\n\t\tdisabled,\n\t\t__experimentalIsFocusable: disabled,\n\t};\n\tconst menuProps = {\n\t\t'aria-label': __( 'View options' ),\n\t};\n\n\tconst deviceIcons = {\n\t\tmobile,\n\t\ttablet,\n\t\tdesktop,\n\t};\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\tclassName=\"editor-preview-dropdown\"\n\t\t\tpopoverProps={ popoverProps }\n\t\t\ttoggleProps={ toggleProps }\n\t\t\tmenuProps={ menuProps }\n\t\t\ticon={ deviceIcons[ deviceType.toLowerCase() ] }\n\t\t\tlabel={ __( 'View' ) }\n\t\t\tdisableOpenOnArrowDown={ disabled }\n\t\t>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => setDeviceType( 'Desktop' ) }\n\t\t\t\t\t\t\ticon={ deviceType === 'Desktop' && check }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Desktop' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => setDeviceType( 'Tablet' ) }\n\t\t\t\t\t\t\ticon={ deviceType === 'Tablet' && check }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Tablet' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\tonClick={ () => setDeviceType( 'Mobile' ) }\n\t\t\t\t\t\t\ticon={ deviceType === 'Mobile' && check }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ __( 'Mobile' ) }\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t{ isTemplate && (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\thref={ homeUrl }\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\ticon={ external }\n\t\t\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'View site' ) }\n\t\t\t\t\t\t\t\t<VisuallyHidden as=\"span\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isViewable && (\n\t\t\t\t\t\t<MenuGroup>\n\t\t\t\t\t\t\t<PostPreviewButton\n\t\t\t\t\t\t\t\tclassName=\"editor-preview-dropdown__button-external\"\n\t\t\t\t\t\t\t\trole=\"menuitem\"\n\t\t\t\t\t\t\t\tforceIsAutosaveable={ forceIsAutosaveable }\n\t\t\t\t\t\t\t\ttextContent={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t{ __( 'Preview in new tab' ) }\n\t\t\t\t\t\t\t\t\t\t<Icon icon={ external } />\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonPreview={ onClose }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</MenuGroup>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t</DropdownMenu>\n\t);\n}\n"],"names":["module","exports","keys","values","map","Map","has","key","indexOf","get","set","value","push","delete","index","splice","createEvent","name","Event","bubbles","e","evt","document","initEvent","assign","ta","nodeName","heightOffset","clientWidth","cachedHeight","pageResize","update","destroy","style","window","removeEventListener","Object","forEach","bind","height","resize","overflowY","overflowX","wordWrap","addEventListener","getComputedStyle","boxSizing","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","isNaN","changeOverflow","width","offsetWidth","scrollHeight","overflows","el","arr","parentNode","Element","scrollTop","node","getParentOverflows","docTop","documentElement","styleHeight","Math","round","computed","actualHeight","offsetHeight","dispatchEvent","err","methods","autosize","options","Array","prototype","call","length","x","default","hasOwn","hasOwnProperty","classNames","classes","i","arguments","arg","argType","isArray","inner","apply","toString","join","prop","currentStyle","replace","word","letter","toUpperCase","computedStyle","lnHeightStr","lnHeight","_lnHeightStyle","lineHeight","_node","createElement","innerHTML","setAttribute","fontSizeStr","fontSize","padding","border","body","appendChild","removeChild","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","extendStatics","__extends","this","setPrototypeOf","__proto__","d","b","p","__","constructor","create","__assign","t","s","n","__rest","getOwnPropertySymbols","__esModule","React","getLineHeight","RESIZED","TextareaAutosizeClass","_super","_this","state","textarea","onResize","updateLineHeight","setState","onChange","currentValue","currentTarget","componentDidMount","_a","maxRows","async","setTimeout","componentWillUnmount","render","_b","children","innerRef","maxHeight","ref","current","componentDidUpdate","defaultProps","rows","propTypes","Component","TextareaAutosize","forwardRef","TextareaAutosize_1","characterMap","chars","allAccents","RegExp","firstAccent","matcher","match","removeAccents","remove","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","a","definition","o","defineProperty","enumerable","obj","r","Symbol","toStringTag","EDITOR_SETTINGS_DEFAULTS","SETTINGS_DEFAULTS","richEditingEnabled","codeEditingEnabled","enableCustomFields","defaultRenderingMode","getPostRawValue","raw","combineReducers","postId","action","type","postType","templateId","id","saving","pending","deleting","postLock","isLocked","lock","template","isValid","postSavingLock","lockName","removedLockName","restState","editorSettings","settings","postAutosavingLock","renderingMode","mode","deviceType","removedPanels","includes","panelName","blockInserterPanel","isOpen","listViewPanel","listViewToggleRef","LEAF_KEY","isShallowEqual","fromIndex","selector","getDependants","rootCache","normalizedGetDependants","clear","WeakMap","callSelector","cache","args","dependants","len","dependant","caches","isUniqueByDependants","head","createCache","getCache","lastDependants","next","prev","val","SVG","xmlns","viewBox","Path","EDIT_MERGE_PROPERTIES","Set","SAVE_POST_NOTICE_ID","TRASH_POST_NOTICE_ID","PERMALINK_POSTNAME_REGEX","ONE_MINUTE_IN_MS","AUTOSAVE_PROPERTIES","fillRule","getTemplatePartIcon","iconName","headerIcon","footerIcon","sidebarIcon","symbolFilledIcon","EMPTY_OBJECT","hasEditorUndo","createRegistrySelector","select","coreStore","hasUndo","hasEditorRedo","hasRedo","isEditedPostNew","getCurrentPost","status","hasChangedContent","getPostEdits","isEditedPostDirty","getCurrentPostType","getCurrentPostId","hasEditsForEntityRecord","hasNonPostEntityChanges","dirtyEntityRecords","__experimentalGetDirtyEntityRecords","some","entityRecord","kind","isCleanNewPost","getRawEntityRecord","getCurrentTemplateId","getCurrentPostRevisionsCount","_getCurrentPost$_link","_links","count","getCurrentPostLastRevisionId","_getCurrentPost$_link2","getEntityRecordEdits","getCurrentPostAttribute","attributeName","post","getNestedEditedPostProperty","createSelector","edits","getEditedPostAttribute","getEditedPostContent","getAutosaveAttribute","currentUserId","getCurrentUser","autosave","getAutosave","getEditedPostVisibility","isCurrentPostPending","isCurrentPostPublished","currentPost","isInTheFuture","Date","Number","getDate","date","isCurrentPostScheduled","isEditedPostPublishable","isEditedPostSaveable","isSavingPost","isEditedPostEmpty","Platform","OS","record","getEditedEntityRecord","content","blocks","blockName","getDefaultBlockName","getFreeformContentHandlerName","isEditedPostAutosaveable","isPostAutosavingLocked","hasFetchedAutosave","hasFetchedAutosaves","field","isEditedPostBeingScheduled","checkedDate","isEditedPostDateFloating","modified","isDeletingPost","isSavingNonPostEntityChanges","entitiesBeingSaved","__experimentalGetEntitiesBeingSaved","didPostSaveRequestSucceed","getLastEntitySaveError","didPostSaveRequestFail","isAutosavingPost","Boolean","isAutosave","isPreviewingPost","isPreview","getEditedPostPreviewLink","previewLink","addQueryArgs","preview","featuredImageId","_thumbnail_id","getSuggestedPostFormat","blockEditorStore","getBlocks","provider","attributes","providerNameSlug","__unstableSerializeAndClean","isPublishingPost","isPermalinkEditable","permalinkTemplate","test","getPermalink","permalinkParts","getPermalinkParts","prefix","postName","suffix","getEditedPostSlug","cleanForSlug","split","isPostLocked","isPostSavingLocked","isPostLockTakeover","isTakeover","getPostLockUser","user","getActivePostLock","activePostLock","canUserUseUnfilteredHTML","isPublishSidebarEnabled","preferencesStore","getEditorBlocks","parse","isEditorPanelRemoved","isEditorPanelEnabled","inactivePanels","isEditorPanelOpened","openPanels","getEditorSelectionStart","deprecated","since","alternative","selectionStart","getEditorSelectionEnd","selectionEnd","getEditorSelection","__unstableIsEditorReady","getEditorSettings","getRenderingMode","getDeviceType","isListViewOpened","isInserterOpened","getStateBeforeOptimisticTransaction","hint","inSomeHistory","getBlockEditorSelector","version","getBlockName","isBlockValid","getBlockAttributes","getBlock","getClientIdsOfDescendants","getClientIdsWithDescendants","getGlobalBlockCount","getBlocksByClientId","getBlockCount","getBlockSelectionStart","getBlockSelectionEnd","getSelectedBlockCount","hasSelectedBlock","getSelectedBlockClientId","getSelectedBlock","getBlockRootClientId","getBlockHierarchyRootClientId","getAdjacentBlockClientId","getPreviousBlockClientId","getNextBlockClientId","getSelectedBlocksInitialCaretPosition","getMultiSelectedBlockClientIds","getMultiSelectedBlocks","getFirstMultiSelectedBlockClientId","getLastMultiSelectedBlockClientId","isFirstMultiSelectedBlock","isBlockMultiSelected","isAncestorMultiSelected","getMultiSelectedBlocksStartClientId","getMultiSelectedBlocksEndClientId","getBlockOrder","getBlockIndex","isBlockSelected","hasSelectedInnerBlock","isBlockWithinSelection","hasMultiSelection","isMultiSelecting","isSelectionEnabled","getBlockMode","isTyping","isCaretWithinFormattedText","getBlockInsertionPoint","isBlockInsertionPointVisible","isValidTemplate","getTemplate","getTemplateLock","canInsertBlockType","getInserterItems","hasInserterItems","getBlockListSettings","__experimentalGetDefaultTemplateTypes","defaultTemplateTypes","__experimentalGetDefaultTemplatePartAreas","areas","defaultTemplatePartAreas","item","icon","__experimentalGetDefaultTemplateType","slug","_Object$values$find","templateTypes","find","__experimentalGetTemplateInfo","description","title","area","defaultTitle","defaultDescription","templateTitle","rendered","layout","getPostTypeLabel","currentPostType","getPostType","labels","singular_name","postKey","isPostNew","localAutosaveClear","sessionStorage","removeItem","setupEditor","dispatch","setEditedPost","synchronizeBlocksWithTemplate","resetEditorBlocks","__unstableShouldCreateUndoLevel","edit","_post$key$raw","editPost","__experimentalTearDownEditor","resetPost","updatePost","setupEditorState","registry","editEntityRecord","savePost","undoIgnore","previousRecord","getEntityRecordNonTransientEdits","saveEntityRecord","error","applyFilters","Promise","resolve","catch","data","code","publishStatus","isPublished","messages","publish","private","future","noticeMessage","message","getNotificationArgumentsForSaveFail","noticesStore","createErrorNotice","updatedRecord","_postType$viewable","previousPost","willPublish","willTrash","isDraft","shouldShowLink","viewable","item_trashed","item_reverted_to_draft","item_published","item_published_privately","item_scheduled","item_updated","actions","label","view_item","url","link","getNotificationArgumentsForSaveSuccess","resolveSelect","createSuccessNotice","__unstableMarkLastChangeAsPersistent","refreshPost","trashPost","postTypeSlug","removeNotice","rest_base","restBase","rest_namespace","restNamespace","apiFetch","path","method","local","excerpt","setItem","JSON","stringify","post_title","localAutosaveSet","__unstableSaveForPreview","forceIsAutosaveable","redo","undo","createUndoLevel","updatePostLock","enablePublishSidebar","disablePublishSidebar","lockPostSaving","unlockPostSaving","lockPostAutosaving","unlockPostAutosaving","selection","__unstableCreateUndoLevel","blocksForSerialization","updateEditorSettings","setRenderingMode","clearSelectedBlock","setDeviceType","toggleEditorPanelEnabled","_registry$select$get","updatedInactivePanels","filter","invactivePanelName","toggleEditorPanelOpened","_registry$select$get2","updatedOpenPanels","openPanelName","removeEditorPanel","setIsInserterOpened","setIsListViewOpened","getBlockEditorAction","resetBlocks","receiveBlocks","updateBlock","updateBlockAttributes","selectBlock","startMultiSelect","stopMultiSelect","multiSelect","toggleSelection","replaceBlocks","replaceBlock","moveBlocksDown","moveBlocksUp","moveBlockToPosition","insertBlock","insertBlocks","showInsertionPoint","hideInsertionPoint","setTemplateValidity","synchronizeTemplate","mergeBlocks","removeBlocks","removeBlock","toggleBlockMode","startTyping","stopTyping","enterFormattedText","exitFormattedText","insertDefaultBlock","updateBlockListSettings","setCurrentTemplateId","createTemplate","savedTemplate","onClick","EMPTY_INSERTION_POINT","rootClientId","insertionIndex","filterValue","getInsertionPoint","postContentClientId","__experimentalGetGlobalBlocksByName","getListViewToggleRef","unlock","__dangerousOptInToUnstableAPIsOnlyForCoreModules","storeConfig","reducer","selectors","store","createReduxStore","getUserLabel","avatar","avatar_urls","className","alt","src","Fragment","register","registerPrivateActions","privateActions","registerPrivateSelectors","privateSelectors","addFilter","_settings$attributes","metaAttributes","fromEntries","entries","source","attributeKey","meta","createHigherOrderComponent","BlockEdit","setAttributes","useSelect","editorStore","setMeta","useEntityProp","mergedAttributes","useMemo","metaKey","nextAttributes","nextMeta","createWithMetaAttributeSource","triggerPrefix","useItems","users","getUsers","context","search","encodeURIComponent","getOptionCompletion","completers","userAutocompleter","PartialSyncingControls","PATTERN_TYPES","PARTIAL_SYNCING_SUPPORTED_BLOCKS","patternsPrivateApis","withPartialSyncingControls","blockEditingMode","useBlockEditingMode","hasCustomFieldsSupport","hasBlockSupport","isEditingPattern","shouldShowPartialSyncingControls","isSelected","__experimentalPatternPartialSyncing","EditorKeyboardShortcuts","useDispatch","useShortcut","event","preventDefault","AutosaveMonitor","super","needsAutosave","isDirty","isAutosaveable","disableIntervalChecks","setAutosaveTimer","prevProps","editsReference","interval","clearTimeout","timerId","isAutosaving","timeout","autosaveTimerHandler","compose","withSelect","ownProps","getReferenceByDistinctEdits","autosaveInterval","withDispatch","typeLabels","wp_pattern","wp_navigation","wp_template","wp_template_part","icons","wp_block","navigationIcon","DocumentBar","isEditingTemplate","goBack","getSettings","_templateId","back","BaseDocumentActions","onBack","handleOnBack","_icons$postType","open","openCommandCenter","commandsStore","editedRecord","doc","isResolving","useEntityRecord","templateIcon","getTemplateInfo","templateInfo","isNotFound","pageIcon","isAnimated","setIsAnimated","useState","isMounting","useRef","isTemplate","isGlobalEntity","useEffect","classnames","Button","isRTL","chevronRightSmall","chevronLeftSmall","stopPropagation","size","Text","HStack","spacing","justify","BlockIcon","as","sprintf","displayShortcut","primary","TableOfContentsItem","level","href","onSelect","toLowerCase","emptyHeadingContent","incorrectLevelContent","singleH1Headings","multipleH1Headings","EmptyOutlineIllustration","fill","Rect","rx","Line","x1","y1","x2","y2","stroke","y","computeOutlineHeadings","flatMap","block","isEmpty","isEmptyHeading","innerBlocks","heading","_postType$supports$ti","isTitleSupported","supports","DocumentOutline","hasOutlineItemsDisabled","headings","prevHeadingLevel","titleNode","querySelector","hasTitle","hasMultipleH1","reduce","acc","DocumentOutlineItem","isDisabled","isIncorrectLevel","clientId","getTextContent","html","registerShortcut","keyboardShortcutsStore","category","keyCombination","modifier","character","aliases","isAppleOS","BlockEditorKeyboardShortcuts","Register","shortcut","primaryShift","undoIcon","redoIcon","resetTemplateValidity","Notice","isDismissible","confirmSynchronization","confirm","notices","getNotices","onRemove","dismissibleNotices","nonDismissibleNotices","NoticeList","TemplateValidationNotice","EditorSnackbars","snackbarNotices","SnackbarList","EntityRecordItem","checked","entityRecordTitle","PanelRow","CheckboxControl","__nextHasNoMarginBottom","decodeEntities","EntityTypeList","list","unselectedEntities","setUnselectedEntities","firstRecord","entityConfig","getEntityConfig","entityLabel","entity","getEntityDescription","PanelBody","initialOpen","property","elt","TRANSLATED_SITE_PROPERTIES","site_logo","site_icon","show_on_front","page_on_front","posts_per_page","default_comment_status","useIsDirty","editedEntities","siteEdits","editedEntitiesWithoutSite","editedSiteEntities","_setUnselectedEntities","PUBLISH_ON_SAVE_ENTITIES","identity","EntitiesSavedStates","close","isDirtyProps","EntitiesSavedStatesExtensible","additionalPrompt","onSave","saveEnabled","saveEnabledProp","saveLabel","saveButtonRef","saveEditedEntityRecord","__experimentalSaveSpecifiedEntityEdits","saveSpecifiedEntityEdits","partitionedSavables","site","siteSavables","templateSavables","templatePartSavables","contentSavables","sortedPartitionedSavables","homeUrl","getUnstableBase","home","dismissPanel","useCallback","saveDialogRef","saveDialogProps","useDialog","onClose","Flex","gap","FlexItem","isBlock","variant","disabled","saveCheckedEntities","saveNoticeId","entitiesToSave","siteItemsToSave","pendingSavedRecords","typeToPublish","all","then","getContent","CopyButton","text","useCopyToClipboard","ErrorBoundary","componentDidCatch","doAction","getDerivedStateFromError","stack","Warning","requestIdleCallback","requestAnimationFrame","hasStorageSupport","ifCondition","hasSessionStorageSupport","deferredAutosave","hasRemoteAutosave","createWarningNotice","localAutosave","getItem","localAutosaveGet","editsContent","editsWithoutContent","useAutosaveNotice","didError","lastIsDirty","lastIsAutosaving","wasEditedPostNew","usePrevious","prevPostId","useAutosavePurge","localAutosaveInterval","supportsPageAttributes","supportKeys","isSupported","PageAttributesOrder","order","_select$getEditedPost","orderInput","setOrderInput","FlexBlock","NumberControl","__next40pxDefaultSize","newOrder","isInteger","trim","menu_order","labelPosition","onBlur","PageAttributesOrderWithChecks","PostTypeSupportCheck","buildTermsTree","flatTerms","flatTermsWithParentAndChildren","term","parent","termsByParent","fillWithChildren","terms","unescapeString","unescapeTerm","unescapeTerms","getTitle","getItemPriority","searchValue","normalizedName","normalizedSearch","startsWith","Infinity","fieldValue","setFieldValue","isHierarchical","parentPostId","parentPostTitle","pageItems","_pType$hierarchical","getEntityRecords","getEntityRecord","pageId","pType","postIsHierarchical","hierarchical","query","per_page","exclude","parent_exclude","orderby","_fields","parentPost","parentOptions","getOptionsFromTree","tree","treeNode","repeat","rawName","sort","flat","opts","optsHasParent","unshift","ComboboxControl","onFilterValueChange","debounce","inputValue","selectedPostId","PANEL_NAME","_postType$labels$attr","isEnabled","isOpened","PageAttributesCheck","opened","onToggle","onTogglePanel","PageAttributesParent","clipRule","DEFAULT_TITLE","CreateNewTemplateModal","defaultBlockTemplate","setTitle","isBusy","setIsBusy","cancel","Modal","onRequestClose","onSubmit","newTemplateContent","serialize","createBlock","tagName","inherit","VStack","TextControl","placeholder","help","useEditedPostContext","useAllowSwitchingTemplates","siteSettings","templates","isPostsPage","page_for_posts","isFrontPage","useTemplates","post_type","useAvailableTemplates","currentTemplateSlug","useCurrentTemplateSlug","allowSwitchingTemplate","is_custom","entityTemplate","POPOVER_PROPS","placement","PostTemplateToggle","templateSlug","supportsTemplateMode","availableTemplates","canUser","PostTemplateDropdownContent","_options$find","_selectedOption$value","fetchedTemplates","selectedTemplateSlug","canCreate","canEdit","canCreateTemplates","selectedOption","option","isCreateModalOpen","setIsCreateModalOpen","InspectorPopoverHeader","addTemplate","SelectControl","hideLabelFromVision","Dropdown","popoverProps","focusOnMount","renderToggle","renderContent","SwapTemplateButton","showModal","setShowModal","MenuItem","overlayClassName","isFullScreen","TemplatesList","templatesAsPatterns","shownTemplates","useAsyncList","BlockPatternsList","blockPatterns","shownPatterns","onClickPattern","ResetDefaultTemplate","CreateNewTemplate","BlockThemeControl","isTemplateHidden","hasResolved","DropdownMenu","toggleProps","MenuGroup","check","role","PostPanelRow","PostTemplatePanel","isBlockTheme","__unstableIsBlockBasedTheme","isVisible","_select$canUser","ClassicThemeControl","AUTHORS_QUERY","who","authorId","isLoading","authors","postAuthor","getUser","author","authorOptions","fetchedAuthors","findIndex","postAuthorId","allowReset","PostAuthorCombobox","PostAuthorSelect","PostAuthorCheck","hasAssignAuthorAction","hasAuthors","_post$_links$wpActio","PostAuthorForm","commentStatus","onToggleComments","comment_status","pingStatus","onTogglePingback","ping_status","PostComments","PostPingbacks","TextareaControl","ExternalLink","Fill","Slot","createSlotFill","PluginPostExcerpt","PostExcerptPanel","PostExcerptCheck","toggleExcerptPanel","fills","PostExcerptForm","getThemeSupports","themeSupports","_themeSupports$key","supported","ThemeSupportCheck","ALLOWED_MEDIA_TYPES","DEFAULT_FEATURE_IMAGE_LABEL","DEFAULT_SET_FEATURE_IMAGE_LABEL","instructions","applyWithSelect","getMedia","media","currentPostId","applyWithDispatch","noticeOperations","onUpdateImage","image","featured_media","onDropImage","filesList","mediaUpload","allowedTypes","onFileChange","onError","removeAllNotices","onRemoveImage","withNotices","withFilters","noticeUI","toggleRef","setIsLoading","mediaWidth","mediaHeight","mediaSourceUrl","_media$media_details$","_media$media_details$2","defaultSize","media_details","sizes","source_url","fallbackSize","getMediaDetails","onDropFiles","isBlobURL","PostFeaturedImageCheck","alt_text","full","file","MediaUploadCheck","fallback","MediaUpload","featured_image","unstableFeaturedImageFlow","modalClass","ResponsiveWrapper","naturalWidth","naturalHeight","isInline","Spinner","set_featured_image","focus","DropZone","onFilesDrop","_postType$labels$feat","PostFeaturedImage","disablePostFormats","POST_FORMATS","caption","normalizedA","normalizedB","PostFormat","postFormatSelectorId","useInstanceId","postFormat","suggestedFormat","supportedFormats","_postFormat","formats","format","suggestion","onUpdatePostFormat","PostFormatCheck","lastRevisionId","revisionsCount","PostLastRevisionCheck","revision","backup","_n","PostLastRevision","PostLockedModal","hookName","postLockUtils","releasePostLock","FormData","append","unlockNonce","navigator","sendBeacon","ajaxUrl","xhr","XMLHttpRequest","send","addAction","post_id","received","lock_error","avatar_src_2x","new_lock","removeAction","userDisplayName","userAvatar","unlockUrl","lockKey","_wpnonce","nonce","allPostsUrl","allPostsLabel","shouldCloseOnClickOutside","shouldCloseOnEsc","alignment","createInterpolateElement","strong","PreviewLink","hasPublishAction","PostPendingStatusCheck","togglePendingStatus","PostPreviewButton","textContent","onPreview","currentPostLink","isSaveable","isViewable","editor","targetId","target","previewWindow","targetDocument","markup","renderToString","write","writeInterstitialMessage","_x","VisuallyHidden","isBeingScheduled","isSaving","isPublishing","noop","PostPublishButton","buttonNode","createRef","createOnClick","closeEntitiesSavedStates","entitiesSavedStatesCallback","timeoutID","callback","setEntitiesSavedStatesCallback","savedEntities","forceIsDirty","isPublishable","isAutoSaving","isToggle","onStatusChange","visibility","isButtonDisabled","isToggleDisabled","buttonProps","onClickButton","onClickToggle","toggleChildren","buttonChildren","PublishButtonLabel","componentProps","componentChildren","visibilityOptions","public","info","password","PostVisibility","instanceId","hasPassword","setHasPassword","showPrivateConfirmDialog","setShowPrivateConfirmDialog","PostVisibilityChoice","setPublic","setPrivate","setPasswordProtected","htmlFor","ConfirmDialog","onConfirm","confirmPrivate","onCancel","handleDialogCancel","PostVisibilityLabel","usePostVisibilityLabel","_typeof","iterator","requiredArgs","required","TypeError","toDate","argument","argStr","getTime","console","warn","NaN","startOfMonth","dirtyDate","setDate","setHours","endOfMonth","month","getMonth","setFullYear","getFullYear","pow","millisecondsInMinute","millisecondsInHour","patterns","dateTimeDelimiter","timeZoneDelimiter","timezone","dateRegex","timeRegex","timezoneRegex","parseDateUnit","parseInt","parseTimeUnit","daysInMonths","isLeapYearIndex","year","PostSchedule","postDate","previewedMonth","setPreviewedMonth","eventsByPostType","after","toISOString","before","events","eventDate","is12HourTime","time","reverse","PublishDateTimePicker","currentDate","is12Hour","onMonthPreviewed","_options$additionalDi","additionalDigits","dirtyNumber","ceil","floor","toInteger","RangeError","dateStrings","dateString","timeString","substr","token","exec","splitDateString","parseYearResult","regex","captures","restDateString","century","slice","parseYear","isWeekDate","dayOfYear","day","week","dayOfWeek","_year","validateWeekDate","isoWeekYear","setUTCFullYear","diff","getUTCDay","setUTCDate","getUTCDate","dayOfISOWeekYear","validateDate","validateDayOfYearDate","max","parseDate","offset","timestamp","hours","minutes","seconds","validateTime","parseTime","result","getUTCFullYear","getUTCMonth","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","timezoneString","sign","_hours","validateTimezone","parseTimezone","parseISO","PostScheduleLabel","usePostScheduleLabel","isFloating","getFullPostScheduleLabel","dateAttribute","now","getTimezoneOffset","isTimezoneSameAsSiteTimezone","isSameDay","dateI18n","tomorrow","getPostScheduleLabel","timezoneAbbreviation","abbr","getTimezoneAbbreviation","formattedDate","left","right","MIN_MOST_USED_TERMS","DEFAULT_QUERY","hide_empty","MostUsedTerms","taxonomy","_terms","showTerms","mostUsedTerms","BaseControl","VisualLabel","most_used","EMPTY_ARRAY","MAX_TERMS_SUGGESTIONS","isSameTermName","termA","termB","termNamesToIds","names","termName","FlatTermSelector","_taxonomy$labels$add_","_taxonomy$labels$sing2","setValues","setSearch","debouncedSearch","useDebounce","termIds","hasAssignAction","hasCreateAction","hasResolvedTerms","_post$_links","_post$_links2","getTaxonomy","hasFinishedResolution","_taxonomy","_termIds","include","searchResults","newValues","suggestions","onUpdateTerms","newTermIds","newTermLabel","add_new_item","singularName","termAddedLabel","termRemovedLabel","removeTermLabel","FormTokenField","termNames","availableTerms","uniqueTerms","newTermNames","newTerm","throwOnError","term_id","findOrCreateTerm","newTerms","newAvailableTerms","concat","onInputChange","maxSuggestions","added","removed","_taxonomy$labels$sing","defaultName","termAddedMessage","speak","TagsPanel","panelBodyTitle","MaybeTagsPanel","hadTagsWhenOpeningThePanel","hasTags","tagsTaxonomy","tags","areTagsFetched","isPostTypeSupported","types","getSuggestion","suggestedPostFormat","PostFormatSuggestion","suggestionText","PostFormatPanel","currentPostFormat","_select$getThemeSuppo","MIN_TERMS_COUNT_FOR_FILTER","HierarchicalTermSelector","_taxonomy$labels$sear","_taxonomy$name","adding","setAdding","formName","setFormName","formParent","setFormParent","showForm","setShowForm","setFilterValue","filteredTermsTree","setFilteredTermsTree","debouncedSpeak","loading","availableTermsTree","termsTree","treeHasSelection","termTree","child","newTermTree","termOrChildIsSelected","termASelected","termBSelected","sortBySelected","renderTerms","renderedTerms","termId","labelWithFallback","labelProperty","fallbackIsCategory","fallbackIsNotCategory","_taxonomy$labels$labe","newTermButtonLabel","parentSelectLabel","noParentOption","newTermSubmitLabel","filterLabel","search_items","groupLabel","showFilter","direction","newFilteredTermsTree","matchTermsForFilter","originalTerm","getFilterMatcher","getResultCount","resultCount","resultsFoundMessage","tabIndex","onToggleForm","existingTerm","findTerm","TreeSelect","noOptionLabel","parentId","selectedId","hasNoCategory","categoriesTaxonomy","defaultCategoryId","default_category","defaultCategory","postTypeSupportsCategories","categories","shouldShowPanel","setShouldShowPanel","flattenBlocks","Image","motion","img","onKeyDown","animate","opacity","exit","scale","objectFit","borderRadius","cursor","whileHover","isUploading","setIsUploading","editorBlocks","externalImages","display","flexWrap","AnimatePresence","fetch","response","blob","reject","finally","isRequestingSiteIcon","siteIconUrl","siteTitle","siteHome","siteData","site_icon_url","filterURLForDisplay","prePublishTitle","prePublishBodyText","siteIcon","Icon","wordpress","MaybeUploadMedia","MaybePostFormatPanel","MaybeCategoryPanel","POSTNAME","PAGENAME","onCopy","PostPublishPanelPostpublish","showCopyConfirmation","onSelectInput","postLink","dismissCopyConfirmation","isScheduled","postLabel","viewPostLabel","addNewPostLabel","permalink_template","getFuturePostUrl","addLink","postPublishNonLinkHeader","readOnly","safeDecodeURIComponent","onFocus","PostPublishPanel","isPostTypeViewable","onTogglePublishSidebar","PostPublishExtension","PrePublishExtension","additionalProps","propsForPanel","isPublishedOrScheduled","isPrePublish","isPostPublish","closeSmall","PostPublishPanelPrepublish","withFocusReturn","withConstrainedTabbing","cloneElement","PostSavedState","forceSavedMessage","setForceSavedMessage","isLargeViewport","useViewportMatch","isNew","isPending","showIconLabels","wasSaving","timeoutId","shortLabel","isSaved","isSavedState","buttonAccessibleLabel","tooltipProps","Tooltip","getAnimateClassName","cloudUpload","cloud","PostSchedulePanel","popoverAnchor","setPopoverAnchor","anchor","fullLabel","PostScheduleCheck","contentClassName","showTooltip","PostScheduleForm","PostSlugCheck","PostSlug","postSlug","postTitle","postID","editedSlug","setSlug","onUpdateSlug","autoComplete","spellCheck","PostStickyCheck","hasStickyAction","PostSticky","postSticky","sticky","PostSwitchToDraftButton","showConfirmDialog","setShowConfirmDialog","alertMessage","flexGrow","justifyContent","handleConfirm","ReusableBlocksRenameHint","blockEditorPrivateApis","PostSyncStatus","syncStatus","wp_pattern_sync_status","PostSyncStatusModal","isModalOpen","setIsModalOpen","syncType","setSyncType","isNewPost","ToggleControl","taxonomies","getTaxonomies","taxonomyWrapper","show_ui","TaxonomyComponent","hasTaxonomies","TaxonomyPanel","taxonomyMenuName","menu_name","PostTaxonomiesCheck","PostTaxonomiesForm","PostTextEditor","_type","_id","Function","Textarea","dir","DEFAULT_CLASSNAMES","REGEXP_NEWLINES","usePostTitleFocus","forwardedRef","_isCleanNewPost","useImperativeHandle","defaultView","ownerDocument","activeElement","usePostTitle","newTitle","_","hasFixedToolbar","titlePlaceholder","_hasFixedToolbar","setIsSelected","focusRef","onUpdate","setSelection","onInsertBlockAfter","onUnselect","decodedPlaceholder","richTextRef","useRichText","start","end","onSelectionChange","newStart","newEnd","sel","__unstableDisableFormats","useMergeRefs","contentEditable","keyCode","ENTER","onKeyPress","onPaste","clipboardData","plainText","getData","error1","error2","log","pasteHandler","HTML","firstBlock","contentNoHTML","stripHTML","newValue","insert","toHTMLString","PostTrash","isDeleting","isDestructive","resource","canUserDelete","PostURL","isEditable","permalinkPrefix","permalinkSuffix","forceEmptyField","setForceEmptyField","PostURLCheck","PostURLLabel","usePostURLLabel","PostURLPanel","PostURLToggle","PostVisibilityCheck","_select$getCurrentPos","WordCount","wordCountType","wordCount","AVERAGE_READING_RATE","TimeToRead","minutesToRead","minutesToReadString","span","CharacterCount","characterCount","headingCount","paragraphCount","numberOfBlocks","repositionDropdown","hasBlocks","tooltipPosition","TableOfContentsPanel","UnsavedChangesWarning","warnIfUnsavedChanges","returnValue","WrappedComponent","withRegistry","useSubRegistry","subRegistry","setSubRegistry","newRegistry","createRegistry","blockEditorStoreConfig","registerStore","RegistryProvider","getExternalLink","getExternalLinkAttributes","getOpenverseCaption","foreign_landing_url","foreignLandingUrl","creator","creator_url","creatorUrl","license","license_version","licenseVersion","license_url","licenseUrl","fullLicense","getOpenverseLicense","licenseName","_creator","_caption","coreMediaFetch","getMediaItems","orderBy","mediaItem","previewUrl","medium","mediaType","media_type","finalQuery","mature","excluded_source","mapFromInserterMediaRequest","URL","queryKey","searchParams","headers","json","results","sourceId","thumbnail","getReportUrl","isExternalResource","additionalData","maxUploadFileSize","wpAllowedMimeTypes","allowedMimeTypes","wp_id","postData","uploadMedia","EMPTY_BLOCKS_LIST","BLOCK_EDITOR_SETTINGS","_settings$__experimen","_settings$__experimen2","allowRightClickOverrides","focusMode","isDistractionFree","keepCaretInsideBlock","reusableBlocks","hasUploadPermissions","canUseUnfilteredHTML","userCanCreatePages","pageOnFront","pageForPosts","userPatternCategories","restBlockPatterns","restBlockPatternCategories","_canUser","isWeb","getUserPatternCategories","getBlockPatterns","getBlockPatternCategories","settingsBlockPatterns","__experimentalAdditionalBlockPatterns","__experimentalBlockPatterns","settingsBlockPatternCategories","__experimentalAdditionalBlockPatternCategories","__experimentalBlockPatternCategories","postTypes","blockPatternCategories","createPageEntity","forceDisableFocusMode","__experimentalReusableBlocks","__experimentalUserPatternCategories","__experimentalFetchLinkSuggestions","searchOptions","fetchLinkSuggestions","inserterMediaCategories","__experimentalFetchRichUrlData","fetchUrlData","__experimentalCanUserUseUnfilteredHTML","__experimentalUndo","outlineMode","__experimentalCreatePageEntity","__experimentalUserCanCreatePages","__experimentalPreferPatternsOnRoot","templateLock","__experimentalSetIsInserterOpened","PAGE_CONTENT_BLOCK_TYPES","DisableBlock","getBlockParentsByBlockName","setBlockEditingMode","unsetBlockEditingMode","DisableNonPageContentBlocks","NavigationBlockEditingMode","blockClientId","ExperimentalBlockEditorProvider","PatternsMenuItems","editPatternsPrivateApis","ExperimentalEditorProvider","withRegistryProvider","recovery","initialEdits","BlockEditorProviderComponent","__unstableTemplate","shouldRenderTemplate","rootLevelPost","defaultBlockContext","isReady","blockEditorSettings","useBlockEditorSettings","onInput","postBlocks","useEntityBlockEditor","templateBlocks","onInputTemplate","onChangeTemplate","maybeNavigationBlocks","useBlockEditorProps","useLayoutEffect","editLink","_settings$defaultRend","EntityProvider","BlockContextProvider","BlockEditorProvider","deprecateComponent","Wrapped","staticsToHoist","staticName","deprecateFunction","RichText","RootRichText","Autocomplete","RootAutocomplete","AlignmentToolbar","RootAlignmentToolbar","BlockAlignmentToolbar","RootBlockAlignmentToolbar","BlockControls","RootBlockControls","RootBlockEdit","RootBlockEditorKeyboardShortcuts","BlockFormatControls","RootBlockFormatControls","RootBlockIcon","BlockInspector","RootBlockInspector","BlockList","RootBlockList","BlockMover","RootBlockMover","BlockNavigationDropdown","RootBlockNavigationDropdown","BlockSelectionClearer","RootBlockSelectionClearer","BlockSettingsMenu","RootBlockSettingsMenu","BlockTitle","RootBlockTitle","BlockToolbar","RootBlockToolbar","ColorPalette","RootColorPalette","ContrastChecker","RootContrastChecker","CopyHandler","RootCopyHandler","DefaultBlockAppender","RootDefaultBlockAppender","FontSizePicker","RootFontSizePicker","Inserter","RootInserter","InnerBlocks","RootInnerBlocks","InspectorAdvancedControls","RootInspectorAdvancedControls","InspectorControls","RootInspectorControls","PanelColorSettings","RootPanelColorSettings","PlainText","RootPlainText","RichTextShortcut","RootRichTextShortcut","RichTextToolbarButton","RootRichTextToolbarButton","__unstableRichTextInputEvent","__unstableRootRichTextInputEvent","MediaPlaceholder","RootMediaPlaceholder","RootMediaUpload","RootMediaUploadCheck","MultiSelectScrollIntoView","RootMultiSelectScrollIntoView","NavigableToolbar","RootNavigableToolbar","ObserveTyping","RootObserveTyping","SkipToSelectedBlock","RootSkipToSelectedBlock","URLInput","RootURLInput","URLInputButton","RootURLInputButton","URLPopover","RootURLPopover","RootWarning","WritingFlow","RootWritingFlow","createCustomColorsHOC","rootCreateCustomColorsHOC","getColorClassName","rootGetColorClassName","getColorObjectByAttributeValues","rootGetColorObjectByAttributeValues","getColorObjectByColorValue","rootGetColorObjectByColorValue","getFontSize","rootGetFontSize","getFontSizeClass","rootGetFontSizeClass","withColorContext","rootWithColorContext","withColors","rootWithColors","withFontSizes","rootWithFontSizes","VisualEditorGlobalKeyboardShortcuts","TextEditorGlobalKeyboardShortcuts","plugin","urlCleanForSlug","EditTemplateBlocksNotification","contentRef","createInfoNotice","isDialogOpen","setIsDialogOpen","lastNoticeId","handleClick","classList","contains","isNoticeAlreadyShowing","notice","handleDblClick","canvas","confirmButtonText","LayoutStyle","useLayoutClasses","useLayoutStyles","ExperimentalBlockCanvas","BlockCanvas","getPostContentAttributes","nestedPostContent","checkForPostContentAtRootLevel","useCanBlockToolbarBeFocused","ListViewOutline","privateApis","DocumentTools","disableBlockTools","listViewLabel","inserterButton","isListViewOpen","listViewShortcut","getShortcutRepresentation","isWideViewport","blockToolbarCanBeFocused","toolbarAriaLabel","toggleListView","toggleInserter","longLabel","shouldUseKeyboardFocusShortcut","ToolbarItem","isPressed","onMouseDown","plus","ToolSelector","EditorHistoryUndo","EditorHistoryRedo","listView","EditorCanvas","autoFocus","renderAppender","styles","disableIframe","iframeProps","postContentAttributes","editedPostTemplate","wrapperBlockName","wrapperUniqueId","hasHistory","_renderingMode","_wrapperBlockName","canEditTemplate","currentTemplateId","hasRootPaddingAwareAlignments","themeHasDisabledLayoutStyles","themeSupportsLayout","_settings","disableLayoutStyles","supportsLayout","__experimentalFeatures","useRootPaddingAwareAlignments","deviceStyles","useResizeCanvas","globalLayoutSettings","useSettings","fallbackLayout","newestPostContentAttributes","parseableContent","hasPostContentAtRootLevel","align","postContentLayoutClasses","blockListLayoutClass","postContentLayoutStyles","postContentLayout","contentSize","wideSize","blockListLayout","postEditorLayout","observeTypingRef","useTypingObserver","titleRef","localRef","typewriterRef","useTypewriter","shouldIframe","css","marginTop","PostTitle","RecursionProvider","uniqueId","dropZoneElement","InserterSidebar","insertionPoint","showMostUsedBlocks","isMobileViewport","TagName","inserterDialogRef","inserterDialogProps","libraryRef","focusSearch","Library","showInserterHelpPanel","shouldFocusBlock","__experimentalInsertionIndex","__experimentalFilterValue","ListViewSidebar","focusOnMountRef","useFocusOnMount","closeListView","closeOnEscape","ESCAPE","defaultPrevented","setDropZoneElement","tab","setTab","sidebarRef","tabPanelRef","listViewRef","listViewContainerRef","handleToggleListViewShortcut","currentTab","tabPanelFocus","tabbable","listViewApplicationFocus","handleSidebarFocus","TabPanel","tabName","selectOnMove","tabs","ListView","PostViewLink","hasLoaded","permalink","external","PreviewDropdown","_getPostType$viewable","_currentPostType","__experimentalIsFocusable","menuProps","deviceIcons","mobile","tablet","desktop","disableOpenOnArrowDown"],"sourceRoot":""}