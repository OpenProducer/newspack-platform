{
  "version": 3,
  "sources": ["../../../../packages/block-library/src/accordion/view.js"],
  "sourcesContent": ["/**\n * WordPress dependencies\n */\nimport { store, getContext, withSyncEvent } from '@wordpress/interactivity';\n\nstore( 'core/accordion', {\n\tstate: {\n\t\tget isOpen() {\n\t\t\tconst { id, accordionItems } = getContext();\n\t\t\tconst accordionItem = accordionItems.find(\n\t\t\t\t( item ) => item.id === id\n\t\t\t);\n\t\t\treturn accordionItem ? accordionItem.isOpen : false;\n\t\t},\n\t},\n\tactions: {\n\t\ttoggle: () => {\n\t\t\tconst context = getContext();\n\t\t\tconst { id, autoclose, accordionItems } = context;\n\t\t\tconst accordionItem = accordionItems.find(\n\t\t\t\t( item ) => item.id === id\n\t\t\t);\n\n\t\t\tif ( autoclose ) {\n\t\t\t\taccordionItems.forEach( ( item ) => {\n\t\t\t\t\titem.isOpen =\n\t\t\t\t\t\titem.id === id ? ! accordionItem.isOpen : false;\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\taccordionItem.isOpen = ! accordionItem.isOpen;\n\t\t\t}\n\t\t},\n\t\thandleKeyDown: withSyncEvent( ( event ) => {\n\t\t\tif (\n\t\t\t\tevent.key !== 'ArrowUp' &&\n\t\t\t\tevent.key !== 'ArrowDown' &&\n\t\t\t\tevent.key !== 'Home' &&\n\t\t\t\tevent.key !== 'End'\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t\tconst context = getContext();\n\t\t\tconst { id, accordionItems } = context;\n\t\t\tconst currentIndex = accordionItems.findIndex(\n\t\t\t\t( item ) => item.id === id\n\t\t\t);\n\n\t\t\tlet nextIndex;\n\n\t\t\tswitch ( event.key ) {\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tnextIndex = Math.max( 0, currentIndex - 1 );\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tnextIndex = Math.min(\n\t\t\t\t\t\tcurrentIndex + 1,\n\t\t\t\t\t\taccordionItems.length - 1\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Home':\n\t\t\t\t\tnextIndex = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'End':\n\t\t\t\t\tnextIndex = accordionItems.length - 1;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst nextId = accordionItems[ nextIndex ].id;\n\t\t\tconst nextButton = document.getElementById( nextId );\n\t\t\tif ( nextButton ) {\n\t\t\t\tnextButton.focus();\n\t\t\t}\n\t\t} ),\n\t},\n\tcallbacks: {\n\t\tinitAccordionItems: () => {\n\t\t\tconst context = getContext();\n\t\t\tconst { id, openByDefault } = context;\n\t\t\tcontext.accordionItems.push( {\n\t\t\t\tid,\n\t\t\t\tisOpen: openByDefault,\n\t\t\t} );\n\t\t},\n\t},\n} );\n"],
  "mappings": ";AAGA,SAAS,OAAO,YAAY,qBAAqB;AAEjD,MAAO,kBAAkB;EACxB,OAAO;IACN,IAAI,SAAS;AACZ,YAAM,EAAE,IAAI,eAAe,IAAI,WAAW;AAC1C,YAAM,gBAAgB,eAAe;QACpC,CAAE,SAAU,KAAK,OAAO;MACzB;AACA,aAAO,gBAAgB,cAAc,SAAS;IAC/C;EACD;EACA,SAAS;IACR,QAAQ,MAAM;AACb,YAAM,UAAU,WAAW;AAC3B,YAAM,EAAE,IAAI,WAAW,eAAe,IAAI;AAC1C,YAAM,gBAAgB,eAAe;QACpC,CAAE,SAAU,KAAK,OAAO;MACzB;AAEA,UAAK,WAAY;AAChB,uBAAe,QAAS,CAAE,SAAU;AACnC,eAAK,SACJ,KAAK,OAAO,KAAK,CAAE,cAAc,SAAS;QAC5C,CAAE;MACH,OAAO;AACN,sBAAc,SAAS,CAAE,cAAc;MACxC;IACD;IACA,eAAe,cAAe,CAAE,UAAW;AAC1C,UACC,MAAM,QAAQ,aACd,MAAM,QAAQ,eACd,MAAM,QAAQ,UACd,MAAM,QAAQ,OACb;AACD;MACD;AAEA,YAAM,eAAe;AACrB,YAAM,UAAU,WAAW;AAC3B,YAAM,EAAE,IAAI,eAAe,IAAI;AAC/B,YAAM,eAAe,eAAe;QACnC,CAAE,SAAU,KAAK,OAAO;MACzB;AAEA,UAAI;AAEJ,cAAS,MAAM,KAAM;QACpB,KAAK;AACJ,sBAAY,KAAK,IAAK,GAAG,eAAe,CAAE;AAC1C;QACD,KAAK;AACJ,sBAAY,KAAK;YAChB,eAAe;YACf,eAAe,SAAS;UACzB;AACA;QACD,KAAK;AACJ,sBAAY;AACZ;QACD,KAAK;AACJ,sBAAY,eAAe,SAAS;AACpC;MACF;AAEA,YAAM,SAAS,eAAgB,SAAU,EAAE;AAC3C,YAAM,aAAa,SAAS,eAAgB,MAAO;AACnD,UAAK,YAAa;AACjB,mBAAW,MAAM;MAClB;IACD,CAAE;EACH;EACA,WAAW;IACV,oBAAoB,MAAM;AACzB,YAAM,UAAU,WAAW;AAC3B,YAAM,EAAE,IAAI,cAAc,IAAI;AAC9B,cAAQ,eAAe,KAAM;QAC5B;QACA,QAAQ;MACT,CAAE;IACH;EACD;AACD,CAAE;",
  "names": []
}
