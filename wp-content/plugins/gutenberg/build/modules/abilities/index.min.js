var $u=Object.create;var Dr=Object.defineProperty;var vu=Object.getOwnPropertyDescriptor;var wu=Object.getOwnPropertyNames;var bu=Object.getPrototypeOf,Eu=Object.prototype.hasOwnProperty;var h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),zr=(e,t)=>{for(var r in t)Dr(e,r,{get:t[r],enumerable:!0})},Su=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of wu(t))!Eu.call(e,n)&&n!==r&&Dr(e,n,{get:()=>t[n],enumerable:!(s=vu(t,n))||s.enumerable});return e};var H=(e,t,r)=>(r=e!=null?$u(bu(e)):{},Su(t||!e||!e.__esModule?Dr(r,"default",{value:e,enumerable:!0}):r,e));var Ue=h((yh,li)=>{li.exports=window.wp.data});var fi=h((gh,di)=>{di.exports=window.wp.apiFetch});var pi=h((_h,mi)=>{mi.exports=window.wp.url});var Kt=h(($h,hi)=>{hi.exports=window.wp.i18n});var Vr=h((vh,yi)=>{yi.exports=window.wp.coreData});var yt=h(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.regexpCode=k.getEsmExportName=k.getProperty=k.safeStringify=k.stringify=k.strConcat=k.addCodeArg=k.str=k._=k.nil=k._Code=k.Name=k.IDENTIFIER=k._CodeOrName=void 0;var pt=class{};k._CodeOrName=pt;k.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var Ae=class extends pt{constructor(t){if(super(),!k.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};k.Name=Ae;var Z=class extends pt{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((r,s)=>`${r}${s}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((r,s)=>(s instanceof Ae&&(r[s.str]=(r[s.str]||0)+1),r),{})}};k._Code=Z;k.nil=new Z("");function bi(e,...t){let r=[e[0]],s=0;for(;s<t.length;)Zr(r,t[s]),r.push(e[++s]);return new Z(r)}k._=bi;var Wr=new Z("+");function Ei(e,...t){let r=[ht(e[0])],s=0;for(;s<t.length;)r.push(Wr),Zr(r,t[s]),r.push(Wr,ht(e[++s]));return Lu(r),new Z(r)}k.str=Ei;function Zr(e,t){t instanceof Z?e.push(...t._items):t instanceof Ae?e.push(t):e.push(Fu(t))}k.addCodeArg=Zr;function Lu(e){let t=1;for(;t<e.length-1;){if(e[t]===Wr){let r=Uu(e[t-1],e[t+1]);if(r!==void 0){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function Uu(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string")return t instanceof Ae||e[e.length-1]!=='"'?void 0:typeof t!="string"?`${e.slice(0,-1)}${t}"`:t[0]==='"'?e.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Ae))return`"${e}${t.slice(1)}`}function Ku(e,t){return t.emptyStr()?e:e.emptyStr()?t:Ei`${e}${t}`}k.strConcat=Ku;function Fu(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:ht(Array.isArray(e)?e.join(","):e)}function Gu(e){return new Z(ht(e))}k.stringify=Gu;function ht(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}k.safeStringify=ht;function Hu(e){return typeof e=="string"&&k.IDENTIFIER.test(e)?new Z(`.${e}`):bi`[${e}]`}k.getProperty=Hu;function Yu(e){if(typeof e=="string"&&k.IDENTIFIER.test(e))return new Z(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}k.getEsmExportName=Yu;function Bu(e){return new Z(e.toString())}k.regexpCode=Bu});var es=h(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.ValueScope=B.ValueScopeName=B.Scope=B.varKinds=B.UsedValueState=void 0;var Y=yt(),Qr=class extends Error{constructor(t){super(`CodeGen: "code" for ${t} not defined`),this.value=t.value}},Wt;(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(Wt||(B.UsedValueState=Wt={}));B.varKinds={const:new Y.Name("const"),let:new Y.Name("let"),var:new Y.Name("var")};var Zt=class{constructor({prefixes:t,parent:r}={}){this._names={},this._prefixes=t,this._parent=r}toName(t){return t instanceof Y.Name?t:this.name(t)}name(t){return new Y.Name(this._newName(t))}_newName(t){let r=this._names[t]||this._nameGroup(t);return`${t}${r.index++}`}_nameGroup(t){var r,s;if(!((s=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||s===void 0)&&s.has(t)||this._prefixes&&!this._prefixes.has(t))throw new Error(`CodeGen: prefix "${t}" is not allowed in this scope`);return this._names[t]={prefix:t,index:0}}};B.Scope=Zt;var Qt=class extends Y.Name{constructor(t,r){super(r),this.prefix=t}setValue(t,{property:r,itemIndex:s}){this.value=t,this.scopePath=(0,Y._)`.${new Y.Name(r)}[${s}]`}};B.ValueScopeName=Qt;var Ju=(0,Y._)`\n`,Xr=class extends Zt{constructor(t){super(t),this._values={},this._scope=t.scope,this.opts={...t,_n:t.lines?Ju:Y.nil}}get(){return this._scope}name(t){return new Qt(t,this._newName(t))}value(t,r){var s;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let n=this.toName(t),{prefix:i}=n,a=(s=r.key)!==null&&s!==void 0?s:r.ref,o=this._values[i];if(o){let c=o.get(a);if(c)return c}else o=this._values[i]=new Map;o.set(a,n);let u=this._scope[i]||(this._scope[i]=[]),l=u.length;return u[l]=r.ref,n.setValue(r,{property:i,itemIndex:l}),n}getValue(t,r){let s=this._values[t];if(s)return s.get(r)}scopeRefs(t,r=this._values){return this._reduceValues(r,s=>{if(s.scopePath===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return(0,Y._)`${t}${s.scopePath}`})}scopeCode(t=this._values,r,s){return this._reduceValues(t,n=>{if(n.value===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return n.value.code},r,s)}_reduceValues(t,r,s={},n){let i=Y.nil;for(let a in t){let o=t[a];if(!o)continue;let u=s[a]=s[a]||new Map;o.forEach(l=>{if(u.has(l))return;u.set(l,Wt.Started);let c=r(l);if(c){let d=this.opts.es5?B.varKinds.var:B.varKinds.const;i=(0,Y._)`${i}${d} ${l} = ${c};${this.opts._n}`}else if(c=n?.(l))i=(0,Y._)`${i}${c}${this.opts._n}`;else throw new Qr(l);u.set(l,Wt.Completed)})}return i}};B.ValueScope=Xr});var b=h(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.or=S.and=S.not=S.CodeGen=S.operators=S.varKinds=S.ValueScopeName=S.ValueScope=S.Scope=S.Name=S.regexpCode=S.stringify=S.getProperty=S.nil=S.strConcat=S.str=S._=void 0;var T=yt(),re=es(),Ee=yt();Object.defineProperty(S,"_",{enumerable:!0,get:function(){return Ee._}});Object.defineProperty(S,"str",{enumerable:!0,get:function(){return Ee.str}});Object.defineProperty(S,"strConcat",{enumerable:!0,get:function(){return Ee.strConcat}});Object.defineProperty(S,"nil",{enumerable:!0,get:function(){return Ee.nil}});Object.defineProperty(S,"getProperty",{enumerable:!0,get:function(){return Ee.getProperty}});Object.defineProperty(S,"stringify",{enumerable:!0,get:function(){return Ee.stringify}});Object.defineProperty(S,"regexpCode",{enumerable:!0,get:function(){return Ee.regexpCode}});Object.defineProperty(S,"Name",{enumerable:!0,get:function(){return Ee.Name}});var rr=es();Object.defineProperty(S,"Scope",{enumerable:!0,get:function(){return rr.Scope}});Object.defineProperty(S,"ValueScope",{enumerable:!0,get:function(){return rr.ValueScope}});Object.defineProperty(S,"ValueScopeName",{enumerable:!0,get:function(){return rr.ValueScopeName}});Object.defineProperty(S,"varKinds",{enumerable:!0,get:function(){return rr.varKinds}});S.operators={GT:new T._Code(">"),GTE:new T._Code(">="),LT:new T._Code("<"),LTE:new T._Code("<="),EQ:new T._Code("==="),NEQ:new T._Code("!=="),NOT:new T._Code("!"),OR:new T._Code("||"),AND:new T._Code("&&"),ADD:new T._Code("+")};var ge=class{optimizeNodes(){return this}optimizeNames(t,r){return this}},ts=class extends ge{constructor(t,r,s){super(),this.varKind=t,this.name=r,this.rhs=s}render({es5:t,_n:r}){let s=t?re.varKinds.var:this.varKind,n=this.rhs===void 0?"":` = ${this.rhs}`;return`${s} ${this.name}${n};`+r}optimizeNames(t,r){if(t[this.name.str])return this.rhs&&(this.rhs=Ge(this.rhs,t,r)),this}get names(){return this.rhs instanceof T._CodeOrName?this.rhs.names:{}}},Xt=class extends ge{constructor(t,r,s){super(),this.lhs=t,this.rhs=r,this.sideEffects=s}render({_n:t}){return`${this.lhs} = ${this.rhs};`+t}optimizeNames(t,r){if(!(this.lhs instanceof T.Name&&!t[this.lhs.str]&&!this.sideEffects))return this.rhs=Ge(this.rhs,t,r),this}get names(){let t=this.lhs instanceof T.Name?{}:{...this.lhs.names};return tr(t,this.rhs)}},rs=class extends Xt{constructor(t,r,s,n){super(t,s,n),this.op=r}render({_n:t}){return`${this.lhs} ${this.op}= ${this.rhs};`+t}},ss=class extends ge{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`${this.label}:`+t}},ns=class extends ge{constructor(t){super(),this.label=t,this.names={}}render({_n:t}){return`break${this.label?` ${this.label}`:""};`+t}},is=class extends ge{constructor(t){super(),this.error=t}render({_n:t}){return`throw ${this.error};`+t}get names(){return this.error.names}},as=class extends ge{constructor(t){super(),this.code=t}render({_n:t}){return`${this.code};`+t}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(t,r){return this.code=Ge(this.code,t,r),this}get names(){return this.code instanceof T._CodeOrName?this.code.names:{}}},gt=class extends ge{constructor(t=[]){super(),this.nodes=t}render(t){return this.nodes.reduce((r,s)=>r+s.render(t),"")}optimizeNodes(){let{nodes:t}=this,r=t.length;for(;r--;){let s=t[r].optimizeNodes();Array.isArray(s)?t.splice(r,1,...s):s?t[r]=s:t.splice(r,1)}return t.length>0?this:void 0}optimizeNames(t,r){let{nodes:s}=this,n=s.length;for(;n--;){let i=s[n];i.optimizeNames(t,r)||(Wu(t,i.names),s.splice(n,1))}return s.length>0?this:void 0}get names(){return this.nodes.reduce((t,r)=>Ce(t,r.names),{})}},_e=class extends gt{render(t){return"{"+t._n+super.render(t)+"}"+t._n}},os=class extends gt{},Fe=class extends _e{};Fe.kind="else";var Re=class e extends _e{constructor(t,r){super(r),this.condition=t}render(t){let r=`if(${this.condition})`+super.render(t);return this.else&&(r+="else "+this.else.render(t)),r}optimizeNodes(){super.optimizeNodes();let t=this.condition;if(t===!0)return this.nodes;let r=this.else;if(r){let s=r.optimizeNodes();r=this.else=Array.isArray(s)?new Fe(s):s}if(r)return t===!1?r instanceof e?r:r.nodes:this.nodes.length?this:new e(Si(t),r instanceof e?[r]:r.nodes);if(!(t===!1||!this.nodes.length))return this}optimizeNames(t,r){var s;if(this.else=(s=this.else)===null||s===void 0?void 0:s.optimizeNames(t,r),!!(super.optimizeNames(t,r)||this.else))return this.condition=Ge(this.condition,t,r),this}get names(){let t=super.names;return tr(t,this.condition),this.else&&Ce(t,this.else.names),t}};Re.kind="if";var je=class extends _e{};je.kind="for";var us=class extends je{constructor(t){super(),this.iteration=t}render(t){return`for(${this.iteration})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iteration=Ge(this.iteration,t,r),this}get names(){return Ce(super.names,this.iteration.names)}},cs=class extends je{constructor(t,r,s,n){super(),this.varKind=t,this.name=r,this.from=s,this.to=n}render(t){let r=t.es5?re.varKinds.var:this.varKind,{name:s,from:n,to:i}=this;return`for(${r} ${s}=${n}; ${s}<${i}; ${s}++)`+super.render(t)}get names(){let t=tr(super.names,this.from);return tr(t,this.to)}},er=class extends je{constructor(t,r,s,n){super(),this.loop=t,this.varKind=r,this.name=s,this.iterable=n}render(t){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(t)}optimizeNames(t,r){if(super.optimizeNames(t,r))return this.iterable=Ge(this.iterable,t,r),this}get names(){return Ce(super.names,this.iterable.names)}},_t=class extends _e{constructor(t,r,s){super(),this.name=t,this.args=r,this.async=s}render(t){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(t)}};_t.kind="func";var $t=class extends gt{render(t){return"return "+super.render(t)}};$t.kind="return";var ls=class extends _e{render(t){let r="try"+super.render(t);return this.catch&&(r+=this.catch.render(t)),this.finally&&(r+=this.finally.render(t)),r}optimizeNodes(){var t,r;return super.optimizeNodes(),(t=this.catch)===null||t===void 0||t.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(t,r){var s,n;return super.optimizeNames(t,r),(s=this.catch)===null||s===void 0||s.optimizeNames(t,r),(n=this.finally)===null||n===void 0||n.optimizeNames(t,r),this}get names(){let t=super.names;return this.catch&&Ce(t,this.catch.names),this.finally&&Ce(t,this.finally.names),t}},vt=class extends _e{constructor(t){super(),this.error=t}render(t){return`catch(${this.error})`+super.render(t)}};vt.kind="catch";var wt=class extends _e{render(t){return"finally"+super.render(t)}};wt.kind="finally";var ds=class{constructor(t,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...r,_n:r.lines?`
`:""},this._extScope=t,this._scope=new re.Scope({parent:t}),this._nodes=[new os]}toString(){return this._root.render(this.opts)}name(t){return this._scope.name(t)}scopeName(t){return this._extScope.name(t)}scopeValue(t,r){let s=this._extScope.value(t,r);return(this._values[s.prefix]||(this._values[s.prefix]=new Set)).add(s),s}getScopeValue(t,r){return this._extScope.getValue(t,r)}scopeRefs(t){return this._extScope.scopeRefs(t,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(t,r,s,n){let i=this._scope.toName(r);return s!==void 0&&n&&(this._constants[i.str]=s),this._leafNode(new ts(t,i,s)),i}const(t,r,s){return this._def(re.varKinds.const,t,r,s)}let(t,r,s){return this._def(re.varKinds.let,t,r,s)}var(t,r,s){return this._def(re.varKinds.var,t,r,s)}assign(t,r,s){return this._leafNode(new Xt(t,r,s))}add(t,r){return this._leafNode(new rs(t,S.operators.ADD,r))}code(t){return typeof t=="function"?t():t!==T.nil&&this._leafNode(new as(t)),this}object(...t){let r=["{"];for(let[s,n]of t)r.length>1&&r.push(","),r.push(s),(s!==n||this.opts.es5)&&(r.push(":"),(0,T.addCodeArg)(r,n));return r.push("}"),new T._Code(r)}if(t,r,s){if(this._blockNode(new Re(t)),r&&s)this.code(r).else().code(s).endIf();else if(r)this.code(r).endIf();else if(s)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(t){return this._elseNode(new Re(t))}else(){return this._elseNode(new Fe)}endIf(){return this._endBlockNode(Re,Fe)}_for(t,r){return this._blockNode(t),r&&this.code(r).endFor(),this}for(t,r){return this._for(new us(t),r)}forRange(t,r,s,n,i=this.opts.es5?re.varKinds.var:re.varKinds.let){let a=this._scope.toName(t);return this._for(new cs(i,a,r,s),()=>n(a))}forOf(t,r,s,n=re.varKinds.const){let i=this._scope.toName(t);if(this.opts.es5){let a=r instanceof T.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,T._)`${a}.length`,o=>{this.var(i,(0,T._)`${a}[${o}]`),s(i)})}return this._for(new er("of",n,i,r),()=>s(i))}forIn(t,r,s,n=this.opts.es5?re.varKinds.var:re.varKinds.const){if(this.opts.ownProperties)return this.forOf(t,(0,T._)`Object.keys(${r})`,s);let i=this._scope.toName(t);return this._for(new er("in",n,i,r),()=>s(i))}endFor(){return this._endBlockNode(je)}label(t){return this._leafNode(new ss(t))}break(t){return this._leafNode(new ns(t))}return(t){let r=new $t;if(this._blockNode(r),this.code(t),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($t)}try(t,r,s){if(!r&&!s)throw new Error('CodeGen: "try" without "catch" and "finally"');let n=new ls;if(this._blockNode(n),this.code(t),r){let i=this.name("e");this._currNode=n.catch=new vt(i),r(i)}return s&&(this._currNode=n.finally=new wt,this.code(s)),this._endBlockNode(vt,wt)}throw(t){return this._leafNode(new is(t))}block(t,r){return this._blockStarts.push(this._nodes.length),t&&this.code(t).endBlock(r),this}endBlock(t){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let s=this._nodes.length-r;if(s<0||t!==void 0&&s!==t)throw new Error(`CodeGen: wrong number of nodes: ${s} vs ${t} expected`);return this._nodes.length=r,this}func(t,r=T.nil,s,n){return this._blockNode(new _t(t,r,s)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(_t)}optimize(t=1){for(;t-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(t){return this._currNode.nodes.push(t),this}_blockNode(t){this._currNode.nodes.push(t),this._nodes.push(t)}_endBlockNode(t,r){let s=this._currNode;if(s instanceof t||r&&s instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${t.kind}/${r.kind}`:t.kind}"`)}_elseNode(t){let r=this._currNode;if(!(r instanceof Re))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=t,this}get _root(){return this._nodes[0]}get _currNode(){let t=this._nodes;return t[t.length-1]}set _currNode(t){let r=this._nodes;r[r.length-1]=t}};S.CodeGen=ds;function Ce(e,t){for(let r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function tr(e,t){return t instanceof T._CodeOrName?Ce(e,t.names):e}function Ge(e,t,r){if(e instanceof T.Name)return s(e);if(!n(e))return e;return new T._Code(e._items.reduce((i,a)=>(a instanceof T.Name&&(a=s(a)),a instanceof T._Code?i.push(...a._items):i.push(a),i),[]));function s(i){let a=r[i.str];return a===void 0||t[i.str]!==1?i:(delete t[i.str],a)}function n(i){return i instanceof T._Code&&i._items.some(a=>a instanceof T.Name&&t[a.str]===1&&r[a.str]!==void 0)}}function Wu(e,t){for(let r in t)e[r]=(e[r]||0)-(t[r]||0)}function Si(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,T._)`!${fs(e)}`}S.not=Si;var Zu=Pi(S.operators.AND);function Qu(...e){return e.reduce(Zu)}S.and=Qu;var Xu=Pi(S.operators.OR);function ec(...e){return e.reduce(Xu)}S.or=ec;function Pi(e){return(t,r)=>t===T.nil?r:r===T.nil?t:(0,T._)`${fs(t)} ${e} ${fs(r)}`}function fs(e){return e instanceof T.Name?e:(0,T._)`(${e})`}});var q=h(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.checkStrictMode=P.getErrorPath=P.Type=P.useFunc=P.setEvaluated=P.evaluatedPropsToName=P.mergeEvaluated=P.eachItem=P.unescapeJsonPointer=P.escapeJsonPointer=P.escapeFragment=P.unescapeFragment=P.schemaRefOrVal=P.schemaHasRulesButRef=P.schemaHasRules=P.checkUnknownRules=P.alwaysValidSchema=P.toHash=void 0;var R=b(),tc=yt();function rc(e){let t={};for(let r of e)t[r]=!0;return t}P.toHash=rc;function sc(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Ni(e,t),!Oi(t,e.self.RULES.all))}P.alwaysValidSchema=sc;function Ni(e,t=e.schema){let{opts:r,self:s}=e;if(!r.strictSchema||typeof t=="boolean")return;let n=s.RULES.keywords;for(let i in t)n[i]||Ai(e,`unknown keyword: "${i}"`)}P.checkUnknownRules=Ni;function Oi(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(t[r])return!0;return!1}P.schemaHasRules=Oi;function nc(e,t){if(typeof e=="boolean")return!e;for(let r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}P.schemaHasRulesButRef=nc;function ic({topSchemaRef:e,schemaPath:t},r,s,n){if(!n){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,R._)`${r}`}return(0,R._)`${e}${t}${(0,R.getProperty)(s)}`}P.schemaRefOrVal=ic;function ac(e){return ki(decodeURIComponent(e))}P.unescapeFragment=ac;function oc(e){return encodeURIComponent(ps(e))}P.escapeFragment=oc;function ps(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}P.escapeJsonPointer=ps;function ki(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}P.unescapeJsonPointer=ki;function uc(e,t){if(Array.isArray(e))for(let r of e)t(r);else t(e)}P.eachItem=uc;function Ii({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:s}){return(n,i,a,o)=>{let u=a===void 0?i:a instanceof R.Name?(i instanceof R.Name?e(n,i,a):t(n,i,a),a):i instanceof R.Name?(t(n,a,i),i):r(i,a);return o===R.Name&&!(u instanceof R.Name)?s(n,u):u}}P.mergeEvaluated={props:Ii({mergeNames:(e,t,r)=>e.if((0,R._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,R._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,R._)`${r} || {}`).code((0,R._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,R._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,R._)`${r} || {}`),hs(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:qi}),items:Ii({mergeNames:(e,t,r)=>e.if((0,R._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,R._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,R._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,R._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function qi(e,t){if(t===!0)return e.var("props",!0);let r=e.var("props",(0,R._)`{}`);return t!==void 0&&hs(e,r,t),r}P.evaluatedPropsToName=qi;function hs(e,t,r){Object.keys(r).forEach(s=>e.assign((0,R._)`${t}${(0,R.getProperty)(s)}`,!0))}P.setEvaluated=hs;var Ti={};function cc(e,t){return e.scopeValue("func",{ref:t,code:Ti[t.code]||(Ti[t.code]=new tc._Code(t.code))})}P.useFunc=cc;var ms;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(ms||(P.Type=ms={}));function lc(e,t,r){if(e instanceof R.Name){let s=t===ms.Num;return r?s?(0,R._)`"[" + ${e} + "]"`:(0,R._)`"['" + ${e} + "']"`:s?(0,R._)`"/" + ${e}`:(0,R._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,R.getProperty)(e).toString():"/"+ps(e)}P.getErrorPath=lc;function Ai(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}P.checkStrictMode=Ai});var $e=h(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var L=b(),dc={data:new L.Name("data"),valCxt:new L.Name("valCxt"),instancePath:new L.Name("instancePath"),parentData:new L.Name("parentData"),parentDataProperty:new L.Name("parentDataProperty"),rootData:new L.Name("rootData"),dynamicAnchors:new L.Name("dynamicAnchors"),vErrors:new L.Name("vErrors"),errors:new L.Name("errors"),this:new L.Name("this"),self:new L.Name("self"),scope:new L.Name("scope"),json:new L.Name("json"),jsonPos:new L.Name("jsonPos"),jsonLen:new L.Name("jsonLen"),jsonPart:new L.Name("jsonPart")};ys.default=dc});var bt=h(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.extendErrors=U.resetErrorsCount=U.reportExtraError=U.reportError=U.keyword$DataError=U.keywordError=void 0;var O=b(),sr=q(),F=$e();U.keywordError={message:({keyword:e})=>(0,O.str)`must pass "${e}" keyword validation`};U.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,O.str)`"${e}" keyword must be ${t} ($data)`:(0,O.str)`"${e}" keyword is invalid ($data)`};function fc(e,t=U.keywordError,r,s){let{it:n}=e,{gen:i,compositeRule:a,allErrors:o}=n,u=Ci(e,t,r);s??(a||o)?Ri(i,u):ji(n,(0,O._)`[${u}]`)}U.reportError=fc;function mc(e,t=U.keywordError,r){let{it:s}=e,{gen:n,compositeRule:i,allErrors:a}=s,o=Ci(e,t,r);Ri(n,o),i||a||ji(s,F.default.vErrors)}U.reportExtraError=mc;function pc(e,t){e.assign(F.default.errors,t),e.if((0,O._)`${F.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,O._)`${F.default.vErrors}.length`,t),()=>e.assign(F.default.vErrors,null)))}U.resetErrorsCount=pc;function hc({gen:e,keyword:t,schemaValue:r,data:s,errsCount:n,it:i}){if(n===void 0)throw new Error("ajv implementation error");let a=e.name("err");e.forRange("i",n,F.default.errors,o=>{e.const(a,(0,O._)`${F.default.vErrors}[${o}]`),e.if((0,O._)`${a}.instancePath === undefined`,()=>e.assign((0,O._)`${a}.instancePath`,(0,O.strConcat)(F.default.instancePath,i.errorPath))),e.assign((0,O._)`${a}.schemaPath`,(0,O.str)`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign((0,O._)`${a}.schema`,r),e.assign((0,O._)`${a}.data`,s))})}U.extendErrors=hc;function Ri(e,t){let r=e.const("err",t);e.if((0,O._)`${F.default.vErrors} === null`,()=>e.assign(F.default.vErrors,(0,O._)`[${r}]`),(0,O._)`${F.default.vErrors}.push(${r})`),e.code((0,O._)`${F.default.errors}++`)}function ji(e,t){let{gen:r,validateName:s,schemaEnv:n}=e;n.$async?r.throw((0,O._)`new ${e.ValidationError}(${t})`):(r.assign((0,O._)`${s}.errors`,t),r.return(!1))}var Me={keyword:new O.Name("keyword"),schemaPath:new O.Name("schemaPath"),params:new O.Name("params"),propertyName:new O.Name("propertyName"),message:new O.Name("message"),schema:new O.Name("schema"),parentSchema:new O.Name("parentSchema")};function Ci(e,t,r){let{createErrors:s}=e.it;return s===!1?(0,O._)`{}`:yc(e,t,r)}function yc(e,t,r={}){let{gen:s,it:n}=e,i=[gc(n,r),_c(e,r)];return $c(e,t,i),s.object(...i)}function gc({errorPath:e},{instancePath:t}){let r=t?(0,O.str)`${e}${(0,sr.getErrorPath)(t,sr.Type.Str)}`:e;return[F.default.instancePath,(0,O.strConcat)(F.default.instancePath,r)]}function _c({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:s}){let n=s?t:(0,O.str)`${t}/${e}`;return r&&(n=(0,O.str)`${n}${(0,sr.getErrorPath)(r,sr.Type.Str)}`),[Me.schemaPath,n]}function $c(e,{params:t,message:r},s){let{keyword:n,data:i,schemaValue:a,it:o}=e,{opts:u,propertyName:l,topSchemaRef:c,schemaPath:d}=o;s.push([Me.keyword,n],[Me.params,typeof t=="function"?t(e):t||(0,O._)`{}`]),u.messages&&s.push([Me.message,typeof r=="function"?r(e):r]),u.verbose&&s.push([Me.schema,a],[Me.parentSchema,(0,O._)`${c}${d}`],[F.default.data,i]),l&&s.push([Me.propertyName,l])}});var Di=h(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.boolOrEmptySchema=He.topBoolOrEmptySchema=void 0;var vc=bt(),wc=b(),bc=$e(),Ec={message:"boolean schema is false"};function Sc(e){let{gen:t,schema:r,validateName:s}=e;r===!1?Mi(e,!1):typeof r=="object"&&r.$async===!0?t.return(bc.default.data):(t.assign((0,wc._)`${s}.errors`,null),t.return(!0))}He.topBoolOrEmptySchema=Sc;function Pc(e,t){let{gen:r,schema:s}=e;s===!1?(r.var(t,!1),Mi(e)):r.var(t,!0)}He.boolOrEmptySchema=Pc;function Mi(e,t){let{gen:r,data:s}=e,n={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,vc.reportError)(n,Ec,void 0,t)}});var gs=h(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.getRules=Ye.isJSONType=void 0;var Ic=["string","number","integer","boolean","null","object","array"],Tc=new Set(Ic);function Nc(e){return typeof e=="string"&&Tc.has(e)}Ye.isJSONType=Nc;function Oc(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ye.getRules=Oc});var _s=h(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.shouldUseRule=Se.shouldUseGroup=Se.schemaHasRulesForType=void 0;function kc({schema:e,self:t},r){let s=t.RULES.types[r];return s&&s!==!0&&zi(e,s)}Se.schemaHasRulesForType=kc;function zi(e,t){return t.rules.some(r=>Vi(e,r))}Se.shouldUseGroup=zi;function Vi(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(s=>e[s]!==void 0))}Se.shouldUseRule=Vi});var Et=h(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.reportTypeError=K.checkDataTypes=K.checkDataType=K.coerceAndCheckDataType=K.getJSONTypes=K.getSchemaTypes=K.DataType=void 0;var qc=gs(),Ac=_s(),Rc=bt(),E=b(),xi=q(),Be;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(Be||(K.DataType=Be={}));function jc(e){let t=Li(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}K.getSchemaTypes=jc;function Li(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(qc.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}K.getJSONTypes=Li;function Cc(e,t){let{gen:r,data:s,opts:n}=e,i=Mc(t,n.coerceTypes),a=t.length>0&&!(i.length===0&&t.length===1&&(0,Ac.schemaHasRulesForType)(e,t[0]));if(a){let o=vs(t,s,n.strictNumbers,Be.Wrong);r.if(o,()=>{i.length?Dc(e,t,i):ws(e)})}return a}K.coerceAndCheckDataType=Cc;var Ui=new Set(["string","number","integer","boolean","null"]);function Mc(e,t){return t?e.filter(r=>Ui.has(r)||t==="array"&&r==="array"):[]}function Dc(e,t,r){let{gen:s,data:n,opts:i}=e,a=s.let("dataType",(0,E._)`typeof ${n}`),o=s.let("coerced",(0,E._)`undefined`);i.coerceTypes==="array"&&s.if((0,E._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>s.assign(n,(0,E._)`${n}[0]`).assign(a,(0,E._)`typeof ${n}`).if(vs(t,n,i.strictNumbers),()=>s.assign(o,n))),s.if((0,E._)`${o} !== undefined`);for(let l of r)(Ui.has(l)||l==="array"&&i.coerceTypes==="array")&&u(l);s.else(),ws(e),s.endIf(),s.if((0,E._)`${o} !== undefined`,()=>{s.assign(n,o),zc(e,o)});function u(l){switch(l){case"string":s.elseIf((0,E._)`${a} == "number" || ${a} == "boolean"`).assign(o,(0,E._)`"" + ${n}`).elseIf((0,E._)`${n} === null`).assign(o,(0,E._)`""`);return;case"number":s.elseIf((0,E._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(o,(0,E._)`+${n}`);return;case"integer":s.elseIf((0,E._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(o,(0,E._)`+${n}`);return;case"boolean":s.elseIf((0,E._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(o,!1).elseIf((0,E._)`${n} === "true" || ${n} === 1`).assign(o,!0);return;case"null":s.elseIf((0,E._)`${n} === "" || ${n} === 0 || ${n} === false`),s.assign(o,null);return;case"array":s.elseIf((0,E._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(o,(0,E._)`[${n}]`)}}}function zc({gen:e,parentData:t,parentDataProperty:r},s){e.if((0,E._)`${t} !== undefined`,()=>e.assign((0,E._)`${t}[${r}]`,s))}function $s(e,t,r,s=Be.Correct){let n=s===Be.Correct?E.operators.EQ:E.operators.NEQ,i;switch(e){case"null":return(0,E._)`${t} ${n} null`;case"array":i=(0,E._)`Array.isArray(${t})`;break;case"object":i=(0,E._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=a((0,E._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=a();break;default:return(0,E._)`typeof ${t} ${n} ${e}`}return s===Be.Correct?i:(0,E.not)(i);function a(o=E.nil){return(0,E.and)((0,E._)`typeof ${t} == "number"`,o,r?(0,E._)`isFinite(${t})`:E.nil)}}K.checkDataType=$s;function vs(e,t,r,s){if(e.length===1)return $s(e[0],t,r,s);let n,i=(0,xi.toHash)(e);if(i.array&&i.object){let a=(0,E._)`typeof ${t} != "object"`;n=i.null?a:(0,E._)`!${t} || ${a}`,delete i.null,delete i.array,delete i.object}else n=E.nil;i.number&&delete i.integer;for(let a in i)n=(0,E.and)(n,$s(a,t,r,s));return n}K.checkDataTypes=vs;var Vc={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,E._)`{type: ${e}}`:(0,E._)`{type: ${t}}`};function ws(e){let t=xc(e);(0,Rc.reportError)(t,Vc)}K.reportTypeError=ws;function xc(e){let{gen:t,data:r,schema:s}=e,n=(0,xi.schemaRefOrVal)(e,s,"type");return{gen:t,keyword:"type",data:r,schema:s.type,schemaCode:n,schemaValue:n,parentSchema:s,params:{},it:e}}});var Fi=h(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.assignDefaults=void 0;var Je=b(),Lc=q();function Uc(e,t){let{properties:r,items:s}=e.schema;if(t==="object"&&r)for(let n in r)Ki(e,n,r[n].default);else t==="array"&&Array.isArray(s)&&s.forEach((n,i)=>Ki(e,i,n.default))}nr.assignDefaults=Uc;function Ki(e,t,r){let{gen:s,compositeRule:n,data:i,opts:a}=e;if(r===void 0)return;let o=(0,Je._)`${i}${(0,Je.getProperty)(t)}`;if(n){(0,Lc.checkStrictMode)(e,`default is ignored for: ${o}`);return}let u=(0,Je._)`${o} === undefined`;a.useDefaults==="empty"&&(u=(0,Je._)`${u} || ${o} === null || ${o} === ""`),s.if(u,(0,Je._)`${o} = ${(0,Je.stringify)(r)}`)}});var Q=h(A=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.validateUnion=A.validateArray=A.usePattern=A.callValidateCode=A.schemaProperties=A.allSchemaProperties=A.noPropertyInData=A.propertyInData=A.isOwnProperty=A.hasPropFunc=A.reportMissingProp=A.checkMissingProp=A.checkReportMissingProp=void 0;var C=b(),bs=q(),Pe=$e(),Kc=q();function Fc(e,t){let{gen:r,data:s,it:n}=e;r.if(Ss(r,s,t,n.opts.ownProperties),()=>{e.setParams({missingProperty:(0,C._)`${t}`},!0),e.error()})}A.checkReportMissingProp=Fc;function Gc({gen:e,data:t,it:{opts:r}},s,n){return(0,C.or)(...s.map(i=>(0,C.and)(Ss(e,t,i,r.ownProperties),(0,C._)`${n} = ${i}`)))}A.checkMissingProp=Gc;function Hc(e,t){e.setParams({missingProperty:t},!0),e.error()}A.reportMissingProp=Hc;function Gi(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,C._)`Object.prototype.hasOwnProperty`})}A.hasPropFunc=Gi;function Es(e,t,r){return(0,C._)`${Gi(e)}.call(${t}, ${r})`}A.isOwnProperty=Es;function Yc(e,t,r,s){let n=(0,C._)`${t}${(0,C.getProperty)(r)} !== undefined`;return s?(0,C._)`${n} && ${Es(e,t,r)}`:n}A.propertyInData=Yc;function Ss(e,t,r,s){let n=(0,C._)`${t}${(0,C.getProperty)(r)} === undefined`;return s?(0,C.or)(n,(0,C.not)(Es(e,t,r))):n}A.noPropertyInData=Ss;function Hi(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}A.allSchemaProperties=Hi;function Bc(e,t){return Hi(t).filter(r=>!(0,bs.alwaysValidSchema)(e,t[r]))}A.schemaProperties=Bc;function Jc({schemaCode:e,data:t,it:{gen:r,topSchemaRef:s,schemaPath:n,errorPath:i},it:a},o,u,l){let c=l?(0,C._)`${e}, ${t}, ${s}${n}`:t,d=[[Pe.default.instancePath,(0,C.strConcat)(Pe.default.instancePath,i)],[Pe.default.parentData,a.parentData],[Pe.default.parentDataProperty,a.parentDataProperty],[Pe.default.rootData,Pe.default.rootData]];a.opts.dynamicRef&&d.push([Pe.default.dynamicAnchors,Pe.default.dynamicAnchors]);let y=(0,C._)`${c}, ${r.object(...d)}`;return u!==C.nil?(0,C._)`${o}.call(${u}, ${y})`:(0,C._)`${o}(${y})`}A.callValidateCode=Jc;var Wc=(0,C._)`new RegExp`;function Zc({gen:e,it:{opts:t}},r){let s=t.unicodeRegExp?"u":"",{regExp:n}=t.code,i=n(r,s);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,C._)`${n.code==="new RegExp"?Wc:(0,Kc.useFunc)(e,n)}(${r}, ${s})`})}A.usePattern=Zc;function Qc(e){let{gen:t,data:r,keyword:s,it:n}=e,i=t.name("valid");if(n.allErrors){let o=t.let("valid",!0);return a(()=>t.assign(o,!1)),o}return t.var(i,!0),a(()=>t.break()),i;function a(o){let u=t.const("len",(0,C._)`${r}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:s,dataProp:l,dataPropType:bs.Type.Num},i),t.if((0,C.not)(i),o)})}}A.validateArray=Qc;function Xc(e){let{gen:t,schema:r,keyword:s,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,bs.alwaysValidSchema)(n,u))&&!n.opts.unevaluated)return;let a=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((u,l)=>{let c=e.subschema({keyword:s,schemaProp:l,compositeRule:!0},o);t.assign(a,(0,C._)`${a} || ${o}`),e.mergeValidEvaluated(c,o)||t.if((0,C.not)(a))})),e.result(a,()=>e.reset(),()=>e.error(!0))}A.validateUnion=Xc});var Ji=h(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.validateKeywordUsage=ue.validSchemaType=ue.funcKeywordCode=ue.macroKeywordCode=void 0;var G=b(),De=$e(),el=Q(),tl=bt();function rl(e,t){let{gen:r,keyword:s,schema:n,parentSchema:i,it:a}=e,o=t.macro.call(a.self,n,i,a),u=Bi(r,s,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);let l=r.name("valid");e.subschema({schema:o,schemaPath:G.nil,errSchemaPath:`${a.errSchemaPath}/${s}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}ue.macroKeywordCode=rl;function sl(e,t){var r;let{gen:s,keyword:n,schema:i,parentSchema:a,$data:o,it:u}=e;il(u,t);let l=!o&&t.compile?t.compile.call(u.self,i,a,u):t.validate,c=Bi(s,n,l),d=s.let("valid");e.block$data(d,y),e.ok((r=t.valid)!==null&&r!==void 0?r:d);function y(){if(t.errors===!1)m(),t.modifying&&Yi(e),g(()=>e.error());else{let _=t.async?p():f();t.modifying&&Yi(e),g(()=>nl(e,_))}}function p(){let _=s.let("ruleErrs",null);return s.try(()=>m((0,G._)`await `),N=>s.assign(d,!1).if((0,G._)`${N} instanceof ${u.ValidationError}`,()=>s.assign(_,(0,G._)`${N}.errors`),()=>s.throw(N))),_}function f(){let _=(0,G._)`${c}.errors`;return s.assign(_,null),m(G.nil),_}function m(_=t.async?(0,G._)`await `:G.nil){let N=u.opts.passContext?De.default.this:De.default.self,I=!("compile"in t&&!o||t.schema===!1);s.assign(d,(0,G._)`${_}${(0,el.callValidateCode)(e,c,N,I)}`,t.modifying)}function g(_){var N;s.if((0,G.not)((N=t.valid)!==null&&N!==void 0?N:d),_)}}ue.funcKeywordCode=sl;function Yi(e){let{gen:t,data:r,it:s}=e;t.if(s.parentData,()=>t.assign(r,(0,G._)`${s.parentData}[${s.parentDataProperty}]`))}function nl(e,t){let{gen:r}=e;r.if((0,G._)`Array.isArray(${t})`,()=>{r.assign(De.default.vErrors,(0,G._)`${De.default.vErrors} === null ? ${t} : ${De.default.vErrors}.concat(${t})`).assign(De.default.errors,(0,G._)`${De.default.vErrors}.length`),(0,tl.extendErrors)(e)},()=>e.error())}function il({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Bi(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,G.stringify)(r)})}function al(e,t,r=!1){return!t.length||t.some(s=>s==="array"?Array.isArray(e):s==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==s||r&&typeof e>"u")}ue.validSchemaType=al;function ol({schema:e,opts:t,self:r,errSchemaPath:s},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i)throw new Error("ajv implementation error");let a=n.dependencies;if(a?.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${i}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[i])){let u=`keyword "${i}" value is invalid at path "${s}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}ue.validateKeywordUsage=ol});var Zi=h(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.extendSubschemaMode=Ie.extendSubschemaData=Ie.getSubschema=void 0;var ce=b(),Wi=q();function ul(e,{keyword:t,schemaProp:r,schema:s,schemaPath:n,errSchemaPath:i,topSchemaRef:a}){if(t!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){let o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,ce._)`${e.schemaPath}${(0,ce.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,ce._)`${e.schemaPath}${(0,ce.getProperty)(t)}${(0,ce.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Wi.escapeFragment)(r)}`}}if(s!==void 0){if(n===void 0||i===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:n,topSchemaRef:a,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Ie.getSubschema=ul;function cl(e,t,{dataProp:r,dataPropType:s,data:n,dataTypes:i,propertyName:a}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:o}=t;if(r!==void 0){let{errorPath:l,dataPathArr:c,opts:d}=t,y=o.let("data",(0,ce._)`${t.data}${(0,ce.getProperty)(r)}`,!0);u(y),e.errorPath=(0,ce.str)`${l}${(0,Wi.getErrorPath)(r,s,d.jsPropertySyntax)}`,e.parentDataProperty=(0,ce._)`${r}`,e.dataPathArr=[...c,e.parentDataProperty]}if(n!==void 0){let l=n instanceof ce.Name?n:o.let("data",n,!0);u(l),a!==void 0&&(e.propertyName=a)}i&&(e.dataTypes=i);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}Ie.extendSubschemaData=cl;function ll(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:s,createErrors:n,allErrors:i}){s!==void 0&&(e.compositeRule=s),n!==void 0&&(e.createErrors=n),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Ie.extendSubschemaMode=ll});var Ps=h((Fh,Qi)=>{"use strict";Qi.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var s,n,i;if(Array.isArray(t)){if(s=t.length,s!=r.length)return!1;for(n=s;n--!==0;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),s=i.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[n]))return!1;for(n=s;n--!==0;){var a=i[n];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}});var ea=h((Gh,Xi)=>{"use strict";var Te=Xi.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var s=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};ir(t,s,n,e,"",e)};Te.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Te.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Te.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Te.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function ir(e,t,r,s,n,i,a,o,u,l){if(s&&typeof s=="object"&&!Array.isArray(s)){t(s,n,i,a,o,u,l);for(var c in s){var d=s[c];if(Array.isArray(d)){if(c in Te.arrayKeywords)for(var y=0;y<d.length;y++)ir(e,t,r,d[y],n+"/"+c+"/"+y,i,n,c,s,y)}else if(c in Te.propsKeywords){if(d&&typeof d=="object")for(var p in d)ir(e,t,r,d[p],n+"/"+c+"/"+dl(p),i,n,c,s,p)}else(c in Te.keywords||e.allKeys&&!(c in Te.skipKeywords))&&ir(e,t,r,d,n+"/"+c,i,n,c,s)}r(s,n,i,a,o,u,l)}}function dl(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}});var St=h(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.getSchemaRefs=J.resolveUrl=J.normalizeId=J._getFullPath=J.getFullPath=J.inlineRef=void 0;var fl=q(),ml=Ps(),pl=ea(),hl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function yl(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Is(e):t?ta(e)<=t:!1}J.inlineRef=yl;var gl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Is(e){for(let t in e){if(gl.has(t))return!0;let r=e[t];if(Array.isArray(r)&&r.some(Is)||typeof r=="object"&&Is(r))return!0}return!1}function ta(e){let t=0;for(let r in e){if(r==="$ref")return 1/0;if(t++,!hl.has(r)&&(typeof e[r]=="object"&&(0,fl.eachItem)(e[r],s=>t+=ta(s)),t===1/0))return 1/0}return t}function ra(e,t="",r){r!==!1&&(t=We(t));let s=e.parse(t);return sa(e,s)}J.getFullPath=ra;function sa(e,t){return e.serialize(t).split("#")[0]+"#"}J._getFullPath=sa;var _l=/#\/?$/;function We(e){return e?e.replace(_l,""):""}J.normalizeId=We;function $l(e,t,r){return r=We(r),e.resolve(t,r)}J.resolveUrl=$l;var vl=/^[a-z_][-a-z0-9._]*$/i;function wl(e,t){if(typeof e=="boolean")return{};let{schemaId:r,uriResolver:s}=this.opts,n=We(e[r]||t),i={"":n},a=ra(s,n,!1),o={},u=new Set;return pl(e,{allKeys:!0},(d,y,p,f)=>{if(f===void 0)return;let m=a+y,g=i[f];typeof d[r]=="string"&&(g=_.call(this,d[r])),N.call(this,d.$anchor),N.call(this,d.$dynamicAnchor),i[y]=g;function _(I){let j=this.opts.uriResolver.resolve;if(I=We(g?j(g,I):I),u.has(I))throw c(I);u.add(I);let w=this.refs[I];return typeof w=="string"&&(w=this.refs[w]),typeof w=="object"?l(d,w.schema,I):I!==We(m)&&(I[0]==="#"?(l(d,o[I],I),o[I]=d):this.refs[I]=m),I}function N(I){if(typeof I=="string"){if(!vl.test(I))throw new Error(`invalid anchor "${I}"`);_.call(this,`#${I}`)}}}),o;function l(d,y,p){if(y!==void 0&&!ml(d,y))throw c(p)}function c(d){return new Error(`reference "${d}" resolves to more than one schema`)}}J.getSchemaRefs=wl});var Tt=h(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getData=Ne.KeywordCxt=Ne.validateFunctionCode=void 0;var ua=Di(),na=Et(),Ns=_s(),ar=Et(),bl=Fi(),It=Ji(),Ts=Zi(),$=b(),v=$e(),El=St(),ve=q(),Pt=bt();function Sl(e){if(da(e)&&(fa(e),la(e))){Tl(e);return}ca(e,()=>(0,ua.topBoolOrEmptySchema)(e))}Ne.validateFunctionCode=Sl;function ca({gen:e,validateName:t,schema:r,schemaEnv:s,opts:n},i){n.code.es5?e.func(t,(0,$._)`${v.default.data}, ${v.default.valCxt}`,s.$async,()=>{e.code((0,$._)`"use strict"; ${ia(r,n)}`),Il(e,n),e.code(i)}):e.func(t,(0,$._)`${v.default.data}, ${Pl(n)}`,s.$async,()=>e.code(ia(r,n)).code(i))}function Pl(e){return(0,$._)`{${v.default.instancePath}="", ${v.default.parentData}, ${v.default.parentDataProperty}, ${v.default.rootData}=${v.default.data}${e.dynamicRef?(0,$._)`, ${v.default.dynamicAnchors}={}`:$.nil}}={}`}function Il(e,t){e.if(v.default.valCxt,()=>{e.var(v.default.instancePath,(0,$._)`${v.default.valCxt}.${v.default.instancePath}`),e.var(v.default.parentData,(0,$._)`${v.default.valCxt}.${v.default.parentData}`),e.var(v.default.parentDataProperty,(0,$._)`${v.default.valCxt}.${v.default.parentDataProperty}`),e.var(v.default.rootData,(0,$._)`${v.default.valCxt}.${v.default.rootData}`),t.dynamicRef&&e.var(v.default.dynamicAnchors,(0,$._)`${v.default.valCxt}.${v.default.dynamicAnchors}`)},()=>{e.var(v.default.instancePath,(0,$._)`""`),e.var(v.default.parentData,(0,$._)`undefined`),e.var(v.default.parentDataProperty,(0,$._)`undefined`),e.var(v.default.rootData,v.default.data),t.dynamicRef&&e.var(v.default.dynamicAnchors,(0,$._)`{}`)})}function Tl(e){let{schema:t,opts:r,gen:s}=e;ca(e,()=>{r.$comment&&t.$comment&&pa(e),Al(e),s.let(v.default.vErrors,null),s.let(v.default.errors,0),r.unevaluated&&Nl(e),ma(e),Cl(e)})}function Nl(e){let{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,$._)`${r}.evaluated`),t.if((0,$._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,$._)`${e.evaluated}.props`,(0,$._)`undefined`)),t.if((0,$._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,$._)`${e.evaluated}.items`,(0,$._)`undefined`))}function ia(e,t){let r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,$._)`/*# sourceURL=${r} */`:$.nil}function Ol(e,t){if(da(e)&&(fa(e),la(e))){kl(e,t);return}(0,ua.boolOrEmptySchema)(e,t)}function la({schema:e,self:t}){if(typeof e=="boolean")return!e;for(let r in e)if(t.RULES.all[r])return!0;return!1}function da(e){return typeof e.schema!="boolean"}function kl(e,t){let{schema:r,gen:s,opts:n}=e;n.$comment&&r.$comment&&pa(e),Rl(e),jl(e);let i=s.const("_errs",v.default.errors);ma(e,i),s.var(t,(0,$._)`${i} === ${v.default.errors}`)}function fa(e){(0,ve.checkUnknownRules)(e),ql(e)}function ma(e,t){if(e.opts.jtd)return aa(e,[],!1,t);let r=(0,na.getSchemaTypes)(e.schema),s=(0,na.coerceAndCheckDataType)(e,r);aa(e,r,!s,t)}function ql(e){let{schema:t,errSchemaPath:r,opts:s,self:n}=e;t.$ref&&s.ignoreKeywordsWithRef&&(0,ve.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Al(e){let{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ve.checkStrictMode)(e,"default is ignored in the schema root")}function Rl(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,El.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function jl(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function pa({gen:e,schemaEnv:t,schema:r,errSchemaPath:s,opts:n}){let i=r.$comment;if(n.$comment===!0)e.code((0,$._)`${v.default.self}.logger.log(${i})`);else if(typeof n.$comment=="function"){let a=(0,$.str)`${s}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,$._)`${v.default.self}.opts.$comment(${i}, ${a}, ${o}.schema)`)}}function Cl(e){let{gen:t,schemaEnv:r,validateName:s,ValidationError:n,opts:i}=e;r.$async?t.if((0,$._)`${v.default.errors} === 0`,()=>t.return(v.default.data),()=>t.throw((0,$._)`new ${n}(${v.default.vErrors})`)):(t.assign((0,$._)`${s}.errors`,v.default.vErrors),i.unevaluated&&Ml(e),t.return((0,$._)`${v.default.errors} === 0`))}function Ml({gen:e,evaluated:t,props:r,items:s}){r instanceof $.Name&&e.assign((0,$._)`${t}.props`,r),s instanceof $.Name&&e.assign((0,$._)`${t}.items`,s)}function aa(e,t,r,s){let{gen:n,schema:i,data:a,allErrors:o,opts:u,self:l}=e,{RULES:c}=l;if(i.$ref&&(u.ignoreKeywordsWithRef||!(0,ve.schemaHasRulesButRef)(i,c))){n.block(()=>ya(e,"$ref",c.all.$ref.definition));return}u.jtd||Dl(e,t),n.block(()=>{for(let y of c.rules)d(y);d(c.post)});function d(y){(0,Ns.shouldUseGroup)(i,y)&&(y.type?(n.if((0,ar.checkDataType)(y.type,a,u.strictNumbers)),oa(e,y),t.length===1&&t[0]===y.type&&r&&(n.else(),(0,ar.reportTypeError)(e)),n.endIf()):oa(e,y),o||n.if((0,$._)`${v.default.errors} === ${s||0}`))}}function oa(e,t){let{gen:r,schema:s,opts:{useDefaults:n}}=e;n&&(0,bl.assignDefaults)(e,t.type),r.block(()=>{for(let i of t.rules)(0,Ns.shouldUseRule)(s,i)&&ya(e,i.keyword,i.definition,t.type)})}function Dl(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(zl(e,t),e.opts.allowUnionTypes||Vl(e,t),xl(e,e.dataTypes))}function zl(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ha(e.dataTypes,r)||Os(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Ul(e,t)}}function Vl(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Os(e,"use allowUnionTypes to allow union type keyword")}function xl(e,t){let r=e.self.RULES.all;for(let s in r){let n=r[s];if(typeof n=="object"&&(0,Ns.shouldUseRule)(e.schema,n)){let{type:i}=n.definition;i.length&&!i.some(a=>Ll(t,a))&&Os(e,`missing type "${i.join(",")}" for keyword "${s}"`)}}}function Ll(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ha(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Ul(e,t){let r=[];for(let s of e.dataTypes)ha(t,s)?r.push(s):t.includes("integer")&&s==="number"&&r.push("integer");e.dataTypes=r}function Os(e,t){let r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ve.checkStrictMode)(e,t,e.opts.strictTypes)}var or=class{constructor(t,r,s){if((0,It.validateKeywordUsage)(t,r,s),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=s,this.data=t.data,this.schema=t.schema[s],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ve.schemaRefOrVal)(t,this.schema,s,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ga(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,It.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${s} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",v.default.errors))}result(t,r,s){this.failResult((0,$.not)(t),r,s)}failResult(t,r,s){this.gen.if(t),s?s():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,$.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);let{schemaCode:r}=this;this.fail((0,$._)`${r} !== undefined && (${(0,$.or)(this.invalid$data(),t)})`)}error(t,r,s){if(r){this.setParams(r),this._error(t,s),this.setParams({});return}this._error(t,s)}_error(t,r){(t?Pt.reportExtraError:Pt.reportError)(this,this.def.error,r)}$dataError(){(0,Pt.reportError)(this,this.def.$dataError||Pt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Pt.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,s=$.nil){this.gen.block(()=>{this.check$data(t,s),r()})}check$data(t=$.nil,r=$.nil){if(!this.$data)return;let{gen:s,schemaCode:n,schemaType:i,def:a}=this;s.if((0,$.or)((0,$._)`${n} === undefined`,r)),t!==$.nil&&s.assign(t,!0),(i.length||a.validateSchema)&&(s.elseIf(this.invalid$data()),this.$dataError(),t!==$.nil&&s.assign(t,!1)),s.else()}invalid$data(){let{gen:t,schemaCode:r,schemaType:s,def:n,it:i}=this;return(0,$.or)(a(),o());function a(){if(s.length){if(!(r instanceof $.Name))throw new Error("ajv implementation error");let u=Array.isArray(s)?s:[s];return(0,$._)`${(0,ar.checkDataTypes)(u,r,i.opts.strictNumbers,ar.DataType.Wrong)}`}return $.nil}function o(){if(n.validateSchema){let u=t.scopeValue("validate$data",{ref:n.validateSchema});return(0,$._)`!${u}(${r})`}return $.nil}}subschema(t,r){let s=(0,Ts.getSubschema)(this.it,t);(0,Ts.extendSubschemaData)(s,this.it,t),(0,Ts.extendSubschemaMode)(s,t);let n={...this.it,...s,items:void 0,props:void 0};return Ol(n,r),n}mergeEvaluated(t,r){let{it:s,gen:n}=this;s.opts.unevaluated&&(s.props!==!0&&t.props!==void 0&&(s.props=ve.mergeEvaluated.props(n,t.props,s.props,r)),s.items!==!0&&t.items!==void 0&&(s.items=ve.mergeEvaluated.items(n,t.items,s.items,r)))}mergeValidEvaluated(t,r){let{it:s,gen:n}=this;if(s.opts.unevaluated&&(s.props!==!0||s.items!==!0))return n.if(r,()=>this.mergeEvaluated(t,$.Name)),!0}};Ne.KeywordCxt=or;function ya(e,t,r,s){let n=new or(e,r,t);"code"in r?r.code(n,s):n.$data&&r.validate?(0,It.funcKeywordCode)(n,r):"macro"in r?(0,It.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,It.funcKeywordCode)(n,r)}var Kl=/^\/(?:[^~]|~0|~1)*$/,Fl=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ga(e,{dataLevel:t,dataNames:r,dataPathArr:s}){let n,i;if(e==="")return v.default.rootData;if(e[0]==="/"){if(!Kl.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,i=v.default.rootData}else{let l=Fl.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);let c=+l[1];if(n=l[2],n==="#"){if(c>=t)throw new Error(u("property/index",c));return s[t-c]}if(c>t)throw new Error(u("data",c));if(i=r[t-c],!n)return i}let a=i,o=n.split("/");for(let l of o)l&&(i=(0,$._)`${i}${(0,$.getProperty)((0,ve.unescapeJsonPointer)(l))}`,a=(0,$._)`${a} && ${i}`);return a;function u(l,c){return`Cannot access ${l} ${c} levels up, current level is ${t}`}}Ne.getData=ga});var ur=h(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var ks=class extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}};qs.default=ks});var Nt=h(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});var As=St(),Rs=class extends Error{constructor(t,r,s,n){super(n||`can't resolve reference ${s} from id ${r}`),this.missingRef=(0,As.resolveUrl)(t,r,s),this.missingSchema=(0,As.normalizeId)((0,As.getFullPath)(t,this.missingRef))}};js.default=Rs});var lr=h(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.resolveSchema=X.getCompilingSchema=X.resolveRef=X.compileSchema=X.SchemaEnv=void 0;var se=b(),Gl=ur(),ze=$e(),ne=St(),_a=q(),Hl=Tt(),Ze=class{constructor(t){var r;this.refs={},this.dynamicAnchors={};let s;typeof t.schema=="object"&&(s=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,ne.normalizeId)(s?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=s?.$async,this.refs={}}};X.SchemaEnv=Ze;function Ms(e){let t=$a.call(this,e);if(t)return t;let r=(0,ne.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:s,lines:n}=this.opts.code,{ownProperties:i}=this.opts,a=new se.CodeGen(this.scope,{es5:s,lines:n,ownProperties:i}),o;e.$async&&(o=a.scopeValue("Error",{ref:Gl.default,code:(0,se._)`require("ajv/dist/runtime/validation_error").default`}));let u=a.scopeName("validate");e.validateName=u;let l={gen:a,allErrors:this.opts.allErrors,data:ze.default.data,parentData:ze.default.parentData,parentDataProperty:ze.default.parentDataProperty,dataNames:[ze.default.data],dataPathArr:[se.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,se.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:se.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,se._)`""`,opts:this.opts,self:this},c;try{this._compilations.add(e),(0,Hl.validateFunctionCode)(l),a.optimize(this.opts.code.optimize);let d=a.toString();c=`${a.scopeRefs(ze.default.scope)}return ${d}`,this.opts.code.process&&(c=this.opts.code.process(c,e));let p=new Function(`${ze.default.self}`,`${ze.default.scope}`,c)(this,this.scope.get());if(this.scope.value(u,{ref:p}),p.errors=null,p.schema=e.schema,p.schemaEnv=e,e.$async&&(p.$async=!0),this.opts.code.source===!0&&(p.source={validateName:u,validateCode:d,scopeValues:a._values}),this.opts.unevaluated){let{props:f,items:m}=l;p.evaluated={props:f instanceof se.Name?void 0:f,items:m instanceof se.Name?void 0:m,dynamicProps:f instanceof se.Name,dynamicItems:m instanceof se.Name},p.source&&(p.source.evaluated=(0,se.stringify)(p.evaluated))}return e.validate=p,e}catch(d){throw delete e.validate,delete e.validateName,c&&this.logger.error("Error compiling schema, function code:",c),d}finally{this._compilations.delete(e)}}X.compileSchema=Ms;function Yl(e,t,r){var s;r=(0,ne.resolveUrl)(this.opts.uriResolver,t,r);let n=e.refs[r];if(n)return n;let i=Wl.call(this,e,r);if(i===void 0){let a=(s=e.localRefs)===null||s===void 0?void 0:s[r],{schemaId:o}=this.opts;a&&(i=new Ze({schema:a,schemaId:o,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=Bl.call(this,i)}X.resolveRef=Yl;function Bl(e){return(0,ne.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ms.call(this,e)}function $a(e){for(let t of this._compilations)if(Jl(t,e))return t}X.getCompilingSchema=$a;function Jl(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Wl(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||cr.call(this,e,t)}function cr(e,t){let r=this.opts.uriResolver.parse(t),s=(0,ne._getFullPath)(this.opts.uriResolver,r),n=(0,ne.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&s===n)return Cs.call(this,r,e);let i=(0,ne.normalizeId)(s),a=this.refs[i]||this.schemas[i];if(typeof a=="string"){let o=cr.call(this,e,a);return typeof o?.schema!="object"?void 0:Cs.call(this,r,o)}if(typeof a?.schema=="object"){if(a.validate||Ms.call(this,a),i===(0,ne.normalizeId)(t)){let{schema:o}=a,{schemaId:u}=this.opts,l=o[u];return l&&(n=(0,ne.resolveUrl)(this.opts.uriResolver,n,l)),new Ze({schema:o,schemaId:u,root:e,baseId:n})}return Cs.call(this,r,a)}}X.resolveSchema=cr;var Zl=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Cs(e,{baseId:t,schema:r,root:s}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(let o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let u=r[(0,_a.unescapeFragment)(o)];if(u===void 0)return;r=u;let l=typeof r=="object"&&r[this.opts.schemaId];!Zl.has(o)&&l&&(t=(0,ne.resolveUrl)(this.opts.uriResolver,t,l))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,_a.schemaHasRulesButRef)(r,this.RULES)){let o=(0,ne.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=cr.call(this,s,o)}let{schemaId:a}=this.opts;if(i=i||new Ze({schema:r,schemaId:a,root:s,baseId:t}),i.schema!==i.root.schema)return i}});var va=h((Zh,Ql)=>{Ql.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var ba=h((Qh,wa)=>{"use strict";var Xl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};wa.exports={HEX:Xl}});var ka=h((Xh,Oa)=>{"use strict";var{HEX:ed}=ba();function Ia(e){if(Na(e,".")<3)return{host:e,isIPV4:!1};let t=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=t;return r?{host:rd(r,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function Ds(e,t=!1){let r="",s=!0;for(let n of e){if(ed[n]===void 0)return;n!=="0"&&s===!0&&(s=!1),s||(r+=n)}return t&&r.length===0&&(r="0"),r}function td(e){let t=0,r={error:!1,address:"",zone:""},s=[],n=[],i=!1,a=!1,o=!1;function u(){if(n.length){if(i===!1){let l=Ds(n);if(l!==void 0)s.push(l);else return r.error=!0,!1}n.length=0}return!0}for(let l=0;l<e.length;l++){let c=e[l];if(!(c==="["||c==="]"))if(c===":"){if(a===!0&&(o=!0),!u())break;if(t++,s.push(":"),t>7){r.error=!0;break}l-1>=0&&e[l-1]===":"&&(a=!0);continue}else if(c==="%"){if(!u())break;i=!0}else{n.push(c);continue}}return n.length&&(i?r.zone=n.join(""):o?s.push(n.join("")):s.push(Ds(n))),r.address=s.join(""),r}function Ta(e,t={}){if(Na(e,":")<2)return{host:e,isIPV6:!1};let r=td(e);if(r.error)return{host:e,isIPV6:!1};{let s=r.address,n=r.address;return r.zone&&(s+="%"+r.zone,n+="%25"+r.zone),{host:s,escapedHost:n,isIPV6:!0}}}function rd(e,t){let r="",s=!0,n=e.length;for(let i=0;i<n;i++){let a=e[i];a==="0"&&s?(i+1<=n&&e[i+1]===t||i+1===n)&&(r+=a,s=!1):(a===t?s=!0:s=!1,r+=a)}return r}function Na(e,t){let r=0;for(let s=0;s<e.length;s++)e[s]===t&&r++;return r}var Ea=/^\.\.?\//u,Sa=/^\/\.(?:\/|$)/u,Pa=/^\/\.\.(?:\/|$)/u,sd=/^\/?(?:.|\n)*?(?=\/|$)/u;function nd(e){let t=[];for(;e.length;)if(e.match(Ea))e=e.replace(Ea,"");else if(e.match(Sa))e=e.replace(Sa,"/");else if(e.match(Pa))e=e.replace(Pa,"/"),t.pop();else if(e==="."||e==="..")e="";else{let r=e.match(sd);if(r){let s=r[0];e=e.slice(s.length),t.push(s)}else throw new Error("Unexpected dot segment condition")}return t.join("")}function id(e,t){let r=t!==!0?escape:unescape;return e.scheme!==void 0&&(e.scheme=r(e.scheme)),e.userinfo!==void 0&&(e.userinfo=r(e.userinfo)),e.host!==void 0&&(e.host=r(e.host)),e.path!==void 0&&(e.path=r(e.path)),e.query!==void 0&&(e.query=r(e.query)),e.fragment!==void 0&&(e.fragment=r(e.fragment)),e}function ad(e,t){let r=[];if(e.userinfo!==void 0&&(r.push(e.userinfo),r.push("@")),e.host!==void 0){let s=unescape(e.host),n=Ia(s);if(n.isIPV4)s=n.host;else{let i=Ta(n.host,{isIPV4:!1});i.isIPV6===!0?s=`[${i.escapedHost}]`:s=e.host}r.push(s)}return(typeof e.port=="number"||typeof e.port=="string")&&(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}Oa.exports={recomposeAuthority:ad,normalizeComponentEncoding:id,removeDotSegments:nd,normalizeIPv4:Ia,normalizeIPv6:Ta,stringArrayToHexStripped:Ds}});var Ma=h((ey,Ca)=>{"use strict";var od=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,ud=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function qa(e){return typeof e.secure=="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}function Aa(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function Ra(e){let t=String(e.scheme).toLowerCase()==="https";return(e.port===(t?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}function cd(e){return e.secure=qa(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function ld(e){if((e.port===(qa(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,r]=e.resourceName.split("?");e.path=t&&t!=="/"?t:void 0,e.query=r,e.resourceName=void 0}return e.fragment=void 0,e}function dd(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(ud);if(r){let s=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let n=`${s}:${t.nid||e.nid}`,i=zs[n];e.path=void 0,i&&(e=i.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function fd(e,t){let r=t.scheme||e.scheme||"urn",s=e.nid.toLowerCase(),n=`${r}:${t.nid||s}`,i=zs[n];i&&(e=i.serialize(e,t));let a=e,o=e.nss;return a.path=`${s||t.nid}:${o}`,t.skipEscape=!0,a}function md(e,t){let r=e;return r.uuid=r.nss,r.nss=void 0,!t.tolerant&&(!r.uuid||!od.test(r.uuid))&&(r.error=r.error||"UUID is not valid."),r}function pd(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}var ja={scheme:"http",domainHost:!0,parse:Aa,serialize:Ra},hd={scheme:"https",domainHost:ja.domainHost,parse:Aa,serialize:Ra},dr={scheme:"ws",domainHost:!0,parse:cd,serialize:ld},yd={scheme:"wss",domainHost:dr.domainHost,parse:dr.parse,serialize:dr.serialize},gd={scheme:"urn",parse:dd,serialize:fd,skipNormalize:!0},_d={scheme:"urn:uuid",parse:md,serialize:pd,skipNormalize:!0},zs={http:ja,https:hd,ws:dr,wss:yd,urn:gd,"urn:uuid":_d};Ca.exports=zs});var za=h((ty,mr)=>{"use strict";var{normalizeIPv6:$d,normalizeIPv4:vd,removeDotSegments:Ot,recomposeAuthority:wd,normalizeComponentEncoding:fr}=ka(),Vs=Ma();function bd(e,t){return typeof e=="string"?e=le(we(e,t),t):typeof e=="object"&&(e=we(le(e,t),t)),e}function Ed(e,t,r){let s=Object.assign({scheme:"null"},r),n=Da(we(e,s),we(t,s),s,!0);return le(n,{...s,skipEscape:!0})}function Da(e,t,r,s){let n={};return s||(e=we(le(e,r),r),t=we(le(t,r),r)),r=r||{},!r.tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=Ot(t.path||""),n.query=t.query):(t.userinfo!==void 0||t.host!==void 0||t.port!==void 0?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=Ot(t.path||""),n.query=t.query):(t.path?(t.path.charAt(0)==="/"?n.path=Ot(t.path):((e.userinfo!==void 0||e.host!==void 0||e.port!==void 0)&&!e.path?n.path="/"+t.path:e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path,n.path=Ot(n.path)),n.query=t.query):(n.path=e.path,t.query!==void 0?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function Sd(e,t,r){return typeof e=="string"?(e=unescape(e),e=le(fr(we(e,r),!0),{...r,skipEscape:!0})):typeof e=="object"&&(e=le(fr(e,!0),{...r,skipEscape:!0})),typeof t=="string"?(t=unescape(t),t=le(fr(we(t,r),!0),{...r,skipEscape:!0})):typeof t=="object"&&(t=le(fr(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function le(e,t){let r={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},s=Object.assign({},t),n=[],i=Vs[(s.scheme||r.scheme||"").toLowerCase()];i&&i.serialize&&i.serialize(r,s),r.path!==void 0&&(s.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),s.reference!=="suffix"&&r.scheme&&(n.push(r.scheme),n.push(":"));let a=wd(r,s);if(a!==void 0&&(s.reference!=="suffix"&&n.push("//"),n.push(a),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){let o=r.path;!s.absolutePath&&(!i||!i.absolutePath)&&(o=Ot(o)),a===void 0&&(o=o.replace(/^\/\//u,"/%2F")),n.push(o)}return r.query!==void 0&&(n.push("?"),n.push(r.query)),r.fragment!==void 0&&(n.push("#"),n.push(r.fragment)),n.join("")}var Pd=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function Id(e){let t=0;for(let r=0,s=e.length;r<s;++r)if(t=e.charCodeAt(r),t>126||Pd[t])return!0;return!1}var Td=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function we(e,t){let r=Object.assign({},t),s={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},n=e.indexOf("%")!==-1,i=!1;r.reference==="suffix"&&(e=(r.scheme?r.scheme+":":"")+"//"+e);let a=e.match(Td);if(a){if(s.scheme=a[1],s.userinfo=a[3],s.host=a[4],s.port=parseInt(a[5],10),s.path=a[6]||"",s.query=a[7],s.fragment=a[8],isNaN(s.port)&&(s.port=a[5]),s.host){let u=vd(s.host);if(u.isIPV4===!1){let l=$d(u.host,{isIPV4:!1});s.host=l.host.toLowerCase(),i=l.isIPV6}else s.host=u.host,i=!0}s.scheme===void 0&&s.userinfo===void 0&&s.host===void 0&&s.port===void 0&&!s.path&&s.query===void 0?s.reference="same-document":s.scheme===void 0?s.reference="relative":s.fragment===void 0?s.reference="absolute":s.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==s.reference&&(s.error=s.error||"URI is not a "+r.reference+" reference.");let o=Vs[(r.scheme||s.scheme||"").toLowerCase()];if(!r.unicodeSupport&&(!o||!o.unicodeSupport)&&s.host&&(r.domainHost||o&&o.domainHost)&&i===!1&&Id(s.host))try{s.host=URL.domainToASCII(s.host.toLowerCase())}catch(u){s.error=s.error||"Host's domain name can not be converted to ASCII: "+u}(!o||o&&!o.skipNormalize)&&(n&&s.scheme!==void 0&&(s.scheme=unescape(s.scheme)),n&&s.userinfo!==void 0&&(s.userinfo=unescape(s.userinfo)),n&&s.host!==void 0&&(s.host=unescape(s.host)),s.path!==void 0&&s.path.length&&(s.path=escape(unescape(s.path))),s.fragment!==void 0&&s.fragment.length&&(s.fragment=encodeURI(decodeURIComponent(s.fragment)))),o&&o.parse&&o.parse(s,r)}else s.error=s.error||"URI can not be parsed.";return s}var xs={SCHEMES:Vs,normalize:bd,resolve:Ed,resolveComponents:Da,equal:Sd,serialize:le,parse:we};mr.exports=xs;mr.exports.default=xs;mr.exports.fastUri=xs});var xa=h(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Va=za();Va.code='require("ajv/dist/runtime/uri").default';Ls.default=Va});var Xe=h(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.CodeGen=V.Name=V.nil=V.stringify=V.str=V._=V.KeywordCxt=void 0;var Nd=Tt();Object.defineProperty(V,"KeywordCxt",{enumerable:!0,get:function(){return Nd.KeywordCxt}});var Qe=b();Object.defineProperty(V,"_",{enumerable:!0,get:function(){return Qe._}});Object.defineProperty(V,"str",{enumerable:!0,get:function(){return Qe.str}});Object.defineProperty(V,"stringify",{enumerable:!0,get:function(){return Qe.stringify}});Object.defineProperty(V,"nil",{enumerable:!0,get:function(){return Qe.nil}});Object.defineProperty(V,"Name",{enumerable:!0,get:function(){return Qe.Name}});Object.defineProperty(V,"CodeGen",{enumerable:!0,get:function(){return Qe.CodeGen}});var Od=ur(),Ga=Nt(),kd=gs(),kt=lr(),qd=b(),qt=St(),pr=Et(),Ks=q(),La=va(),Ad=xa(),Ha=(e,t)=>new RegExp(e,t);Ha.code="new RegExp";var Rd=["removeAdditional","useDefaults","coerceTypes"],jd=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Cd={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Md={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},Ua=200;function Dd(e){var t,r,s,n,i,a,o,u,l,c,d,y,p,f,m,g,_,N,I,j,w,oe,he,jr,Cr;let ct=e.strict,Mr=(t=e.code)===null||t===void 0?void 0:t.optimize,ui=Mr===!0||Mr===void 0?1:Mr||0,ci=(s=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&s!==void 0?s:Ha,_u=(n=e.uriResolver)!==null&&n!==void 0?n:Ad.default;return{strictSchema:(a=(i=e.strictSchema)!==null&&i!==void 0?i:ct)!==null&&a!==void 0?a:!0,strictNumbers:(u=(o=e.strictNumbers)!==null&&o!==void 0?o:ct)!==null&&u!==void 0?u:!0,strictTypes:(c=(l=e.strictTypes)!==null&&l!==void 0?l:ct)!==null&&c!==void 0?c:"log",strictTuples:(y=(d=e.strictTuples)!==null&&d!==void 0?d:ct)!==null&&y!==void 0?y:"log",strictRequired:(f=(p=e.strictRequired)!==null&&p!==void 0?p:ct)!==null&&f!==void 0?f:!1,code:e.code?{...e.code,optimize:ui,regExp:ci}:{optimize:ui,regExp:ci},loopRequired:(m=e.loopRequired)!==null&&m!==void 0?m:Ua,loopEnum:(g=e.loopEnum)!==null&&g!==void 0?g:Ua,meta:(_=e.meta)!==null&&_!==void 0?_:!0,messages:(N=e.messages)!==null&&N!==void 0?N:!0,inlineRefs:(I=e.inlineRefs)!==null&&I!==void 0?I:!0,schemaId:(j=e.schemaId)!==null&&j!==void 0?j:"$id",addUsedSchema:(w=e.addUsedSchema)!==null&&w!==void 0?w:!0,validateSchema:(oe=e.validateSchema)!==null&&oe!==void 0?oe:!0,validateFormats:(he=e.validateFormats)!==null&&he!==void 0?he:!0,unicodeRegExp:(jr=e.unicodeRegExp)!==null&&jr!==void 0?jr:!0,int32range:(Cr=e.int32range)!==null&&Cr!==void 0?Cr:!0,uriResolver:_u}}var At=class{constructor(t={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,t=this.opts={...t,...Dd(t)};let{es5:r,lines:s}=this.opts.code;this.scope=new qd.ValueScope({scope:{},prefixes:jd,es5:r,lines:s}),this.logger=Kd(t.logger);let n=t.validateFormats;t.validateFormats=!1,this.RULES=(0,kd.getRules)(),Ka.call(this,Cd,t,"NOT SUPPORTED"),Ka.call(this,Md,t,"DEPRECATED","warn"),this._metaOpts=Ld.call(this),t.formats&&Vd.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),t.keywords&&xd.call(this,t.keywords),typeof t.meta=="object"&&this.addMetaSchema(t.meta),zd.call(this),t.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:t,meta:r,schemaId:s}=this.opts,n=La;s==="id"&&(n={...La},n.id=n.$id,delete n.$id),r&&t&&this.addMetaSchema(n,n[s],!1)}defaultMeta(){let{meta:t,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof t=="object"?t[r]||t:void 0}validate(t,r){let s;if(typeof t=="string"){if(s=this.getSchema(t),!s)throw new Error(`no schema with key or ref "${t}"`)}else s=this.compile(t);let n=s(r);return"$async"in s||(this.errors=s.errors),n}compile(t,r){let s=this._addSchema(t,r);return s.validate||this._compileSchemaEnv(s)}compileAsync(t,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:s}=this.opts;return n.call(this,t,r);async function n(c,d){await i.call(this,c.$schema);let y=this._addSchema(c,d);return y.validate||a.call(this,y)}async function i(c){c&&!this.getSchema(c)&&await n.call(this,{$ref:c},!0)}async function a(c){try{return this._compileSchemaEnv(c)}catch(d){if(!(d instanceof Ga.default))throw d;return o.call(this,d),await u.call(this,d.missingSchema),a.call(this,c)}}function o({missingSchema:c,missingRef:d}){if(this.refs[c])throw new Error(`AnySchema ${c} is loaded but ${d} cannot be resolved`)}async function u(c){let d=await l.call(this,c);this.refs[c]||await i.call(this,d.$schema),this.refs[c]||this.addSchema(d,c,r)}async function l(c){let d=this._loading[c];if(d)return d;try{return await(this._loading[c]=s(c))}finally{delete this._loading[c]}}}addSchema(t,r,s,n=this.opts.validateSchema){if(Array.isArray(t)){for(let a of t)this.addSchema(a,void 0,s,n);return this}let i;if(typeof t=="object"){let{schemaId:a}=this.opts;if(i=t[a],i!==void 0&&typeof i!="string")throw new Error(`schema ${a} must be string`)}return r=(0,qt.normalizeId)(r||i),this._checkUnique(r),this.schemas[r]=this._addSchema(t,s,r,n,!0),this}addMetaSchema(t,r,s=this.opts.validateSchema){return this.addSchema(t,r,!0,s),this}validateSchema(t,r){if(typeof t=="boolean")return!0;let s;if(s=t.$schema,s!==void 0&&typeof s!="string")throw new Error("$schema must be a string");if(s=s||this.opts.defaultMeta||this.defaultMeta(),!s)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let n=this.validate(s,t);if(!n&&r){let i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return n}getSchema(t){let r;for(;typeof(r=Fa.call(this,t))=="string";)t=r;if(r===void 0){let{schemaId:s}=this.opts,n=new kt.SchemaEnv({schema:{},schemaId:s});if(r=kt.resolveSchema.call(this,n,t),!r)return;this.refs[t]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(t){if(t instanceof RegExp)return this._removeAllSchemas(this.schemas,t),this._removeAllSchemas(this.refs,t),this;switch(typeof t){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Fa.call(this,t);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[t],delete this.refs[t],this}case"object":{let r=t;this._cache.delete(r);let s=t[this.opts.schemaId];return s&&(s=(0,qt.normalizeId)(s),delete this.schemas[s],delete this.refs[s]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(t){for(let r of t)this.addKeyword(r);return this}addKeyword(t,r){let s;if(typeof t=="string")s=t,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=s);else if(typeof t=="object"&&r===void 0){if(r=t,s=r.keyword,Array.isArray(s)&&!s.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Gd.call(this,s,r),!r)return(0,Ks.eachItem)(s,i=>Us.call(this,i)),this;Yd.call(this,r);let n={...r,type:(0,pr.getJSONTypes)(r.type),schemaType:(0,pr.getJSONTypes)(r.schemaType)};return(0,Ks.eachItem)(s,n.type.length===0?i=>Us.call(this,i,n):i=>n.type.forEach(a=>Us.call(this,i,n,a))),this}getKeyword(t){let r=this.RULES.all[t];return typeof r=="object"?r.definition:!!r}removeKeyword(t){let{RULES:r}=this;delete r.keywords[t],delete r.all[t];for(let s of r.rules){let n=s.rules.findIndex(i=>i.keyword===t);n>=0&&s.rules.splice(n,1)}return this}addFormat(t,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[t]=r,this}errorsText(t=this.errors,{separator:r=", ",dataVar:s="data"}={}){return!t||t.length===0?"No errors":t.map(n=>`${s}${n.instancePath} ${n.message}`).reduce((n,i)=>n+r+i)}$dataMetaSchema(t,r){let s=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(let n of r){let i=n.split("/").slice(1),a=t;for(let o of i)a=a[o];for(let o in s){let u=s[o];if(typeof u!="object")continue;let{$data:l}=u.definition,c=a[o];l&&c&&(a[o]=Ya(c))}}return t}_removeAllSchemas(t,r){for(let s in t){let n=t[s];(!r||r.test(s))&&(typeof n=="string"?delete t[s]:n&&!n.meta&&(this._cache.delete(n.schema),delete t[s]))}}_addSchema(t,r,s,n=this.opts.validateSchema,i=this.opts.addUsedSchema){let a,{schemaId:o}=this.opts;if(typeof t=="object")a=t[o];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof t!="boolean")throw new Error("schema must be object or boolean")}let u=this._cache.get(t);if(u!==void 0)return u;s=(0,qt.normalizeId)(a||s);let l=qt.getSchemaRefs.call(this,t,s);return u=new kt.SchemaEnv({schema:t,schemaId:o,meta:r,baseId:s,localRefs:l}),this._cache.set(u.schema,u),i&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=u),n&&this.validateSchema(t,!0),u}_checkUnique(t){if(this.schemas[t]||this.refs[t])throw new Error(`schema with key or id "${t}" already exists`)}_compileSchemaEnv(t){if(t.meta?this._compileMetaSchema(t):kt.compileSchema.call(this,t),!t.validate)throw new Error("ajv implementation error");return t.validate}_compileMetaSchema(t){let r=this.opts;this.opts=this._metaOpts;try{kt.compileSchema.call(this,t)}finally{this.opts=r}}};At.ValidationError=Od.default;At.MissingRefError=Ga.default;V.default=At;function Ka(e,t,r,s="error"){for(let n in e){let i=n;i in t&&this.logger[s](`${r}: option ${n}. ${e[i]}`)}}function Fa(e){return e=(0,qt.normalizeId)(e),this.schemas[e]||this.refs[e]}function zd(){let e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}function Vd(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function xd(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let t in e){let r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}function Ld(){let e={...this.opts};for(let t of Rd)delete e[t];return e}var Ud={log(){},warn(){},error(){}};function Kd(e){if(e===!1)return Ud;if(e===void 0)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}var Fd=/^[a-z_$][a-z0-9_$:-]*$/i;function Gd(e,t){let{RULES:r}=this;if((0,Ks.eachItem)(e,s=>{if(r.keywords[s])throw new Error(`Keyword ${s} is already defined`);if(!Fd.test(s))throw new Error(`Keyword ${s} has invalid name`)}),!!t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function Us(e,t,r){var s;let n=t?.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:i}=this,a=n?i.post:i.rules.find(({type:u})=>u===r);if(a||(a={type:r,rules:[]},i.rules.push(a)),i.keywords[e]=!0,!t)return;let o={keyword:e,definition:{...t,type:(0,pr.getJSONTypes)(t.type),schemaType:(0,pr.getJSONTypes)(t.schemaType)}};t.before?Hd.call(this,a,o,t.before):a.rules.push(o),i.all[e]=o,(s=t.implements)===null||s===void 0||s.forEach(u=>this.addKeyword(u))}function Hd(e,t,r){let s=e.rules.findIndex(n=>n.keyword===r);s>=0?e.rules.splice(s,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function Yd(e){let{metaSchema:t}=e;t!==void 0&&(e.$data&&this.opts.$data&&(t=Ya(t)),e.validateSchema=this.compile(t,!0))}var Bd={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ya(e){return{anyOf:[e,Bd]}}});var Fs=h(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.callRef=Ve.getValidate=void 0;var Jd=Nt(),Ba=Q(),W=b(),et=$e(),Ja=lr(),hr=q(),Wd={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:r,it:s}=e,{baseId:n,schemaEnv:i,validateName:a,opts:o,self:u}=s,{root:l}=i;if((r==="#"||r==="#/")&&n===l.baseId)return d();let c=Ja.resolveRef.call(u,l,n,r);if(c===void 0)throw new Jd.default(s.opts.uriResolver,n,r);if(c instanceof Ja.SchemaEnv)return y(c);return p(c);function d(){if(i===l)return yr(e,a,i,i.$async);let f=t.scopeValue("root",{ref:l});return yr(e,(0,W._)`${f}.validate`,l,l.$async)}function y(f){let m=Wa(e,f);yr(e,m,f,f.$async)}function p(f){let m=t.scopeValue("schema",o.code.source===!0?{ref:f,code:(0,W.stringify)(f)}:{ref:f}),g=t.name("valid"),_=e.subschema({schema:f,dataTypes:[],schemaPath:W.nil,topSchemaRef:m,errSchemaPath:r},g);e.mergeEvaluated(_),e.ok(g)}}};function Wa(e,t){let{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,W._)`${r.scopeValue("wrapper",{ref:t})}.validate`}Ve.getValidate=Wa;function yr(e,t,r,s){let{gen:n,it:i}=e,{allErrors:a,schemaEnv:o,opts:u}=i,l=u.passContext?et.default.this:W.nil;s?c():d();function c(){if(!o.$async)throw new Error("async schema referenced by sync schema");let f=n.let("valid");n.try(()=>{n.code((0,W._)`await ${(0,Ba.callValidateCode)(e,t,l)}`),p(t),a||n.assign(f,!0)},m=>{n.if((0,W._)`!(${m} instanceof ${i.ValidationError})`,()=>n.throw(m)),y(m),a||n.assign(f,!1)}),e.ok(f)}function d(){e.result((0,Ba.callValidateCode)(e,t,l),()=>p(t),()=>y(t))}function y(f){let m=(0,W._)`${f}.errors`;n.assign(et.default.vErrors,(0,W._)`${et.default.vErrors} === null ? ${m} : ${et.default.vErrors}.concat(${m})`),n.assign(et.default.errors,(0,W._)`${et.default.vErrors}.length`)}function p(f){var m;if(!i.opts.unevaluated)return;let g=(m=r?.validate)===null||m===void 0?void 0:m.evaluated;if(i.props!==!0)if(g&&!g.dynamicProps)g.props!==void 0&&(i.props=hr.mergeEvaluated.props(n,g.props,i.props));else{let _=n.var("props",(0,W._)`${f}.evaluated.props`);i.props=hr.mergeEvaluated.props(n,_,i.props,W.Name)}if(i.items!==!0)if(g&&!g.dynamicItems)g.items!==void 0&&(i.items=hr.mergeEvaluated.items(n,g.items,i.items));else{let _=n.var("items",(0,W._)`${f}.evaluated.items`);i.items=hr.mergeEvaluated.items(n,_,i.items,W.Name)}}}Ve.callRef=yr;Ve.default=Wd});var Za=h(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var Zd=Fs(),Qd=["$schema","id","$defs",{keyword:"$comment"},"definitions",Zd.default];Gs.default=Qd});var Qa=h(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var Hs=Xe(),Xd=b(),Oe=Xd.operators,Ys={maximum:{exclusive:"exclusiveMaximum",ops:[{okStr:"<=",ok:Oe.LTE,fail:Oe.GT},{okStr:"<",ok:Oe.LT,fail:Oe.GTE}]},minimum:{exclusive:"exclusiveMinimum",ops:[{okStr:">=",ok:Oe.GTE,fail:Oe.LT},{okStr:">",ok:Oe.GT,fail:Oe.LTE}]}},ef={message:e=>Hs.str`must be ${Bs(e).okStr} ${e.schemaCode}`,params:e=>Hs._`{comparison: ${Bs(e).okStr}, limit: ${e.schemaCode}}`},tf={keyword:Object.keys(Ys),type:"number",schemaType:"number",$data:!0,error:ef,code(e){let{data:t,schemaCode:r}=e;e.fail$data(Hs._`${t} ${Bs(e).fail} ${r} || isNaN(${t})`)}};function Bs(e){var t;let r=e.keyword,s=!((t=e.parentSchema)===null||t===void 0)&&t[Ys[r].exclusive]?1:0;return Ys[r].ops[s]}Js.default=tf});var eo=h(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var Xa={exclusiveMaximum:"maximum",exclusiveMinimum:"minimum"},rf={keyword:Object.keys(Xa),type:"number",schemaType:"boolean",code({keyword:e,parentSchema:t}){let r=Xa[e];if(t[r]===void 0)throw new Error(`${e} can only be used with ${r}`)}};Ws.default=rf});var Qs=h(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});var Rt=b(),sf={message:({schemaCode:e})=>(0,Rt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Rt._)`{multipleOf: ${e}}`},nf={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:sf,code(e){let{gen:t,data:r,schemaCode:s,it:n}=e,i=n.opts.multipleOfPrecision,a=t.let("res"),o=i?(0,Rt._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${i}`:(0,Rt._)`${a} !== parseInt(${a})`;e.fail$data((0,Rt._)`(${s} === 0 || (${a} = ${r}/${s}, ${o}))`)}};Zs.default=nf});var ro=h(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});function to(e){let t=e.length,r=0,s=0,n;for(;s<t;)r++,n=e.charCodeAt(s++),n>=55296&&n<=56319&&s<t&&(n=e.charCodeAt(s),(n&64512)===56320&&s++);return r}Xs.default=to;to.code='require("ajv/dist/runtime/ucs2length").default'});var tn=h(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});var xe=b(),af=q(),of=ro(),uf={message({keyword:e,schemaCode:t}){let r=e==="maxLength"?"more":"fewer";return(0,xe.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,xe._)`{limit: ${e}}`},cf={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:uf,code(e){let{keyword:t,data:r,schemaCode:s,it:n}=e,i=t==="maxLength"?xe.operators.GT:xe.operators.LT,a=n.opts.unicode===!1?(0,xe._)`${r}.length`:(0,xe._)`${(0,af.useFunc)(e.gen,of.default)}(${r})`;e.fail$data((0,xe._)`${a} ${i} ${s}`)}};en.default=cf});var sn=h(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var lf=Q(),gr=b(),df={message:({schemaCode:e})=>(0,gr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,gr._)`{pattern: ${e}}`},ff={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:df,code(e){let{data:t,$data:r,schema:s,schemaCode:n,it:i}=e,a=i.opts.unicodeRegExp?"u":"",o=r?(0,gr._)`(new RegExp(${n}, ${a}))`:(0,lf.usePattern)(e,s);e.fail$data((0,gr._)`!${o}.test(${t})`)}};rn.default=ff});var an=h(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});var jt=b(),mf={message({keyword:e,schemaCode:t}){let r=e==="maxProperties"?"more":"fewer";return(0,jt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,jt._)`{limit: ${e}}`},pf={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:mf,code(e){let{keyword:t,data:r,schemaCode:s}=e,n=t==="maxProperties"?jt.operators.GT:jt.operators.LT;e.fail$data((0,jt._)`Object.keys(${r}).length ${n} ${s}`)}};nn.default=pf});var un=h(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var Ct=Q(),Mt=b(),hf=q(),yf={message:({params:{missingProperty:e}})=>(0,Mt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Mt._)`{missingProperty: ${e}}`},gf={keyword:"required",type:"object",schemaType:"array",$data:!0,error:yf,code(e){let{gen:t,schema:r,schemaCode:s,data:n,$data:i,it:a}=e,{opts:o}=a;if(!i&&r.length===0)return;let u=r.length>=o.loopRequired;if(a.allErrors?l():c(),o.strictRequired){let p=e.parentSchema.properties,{definedProperties:f}=e.it;for(let m of r)if(p?.[m]===void 0&&!f.has(m)){let g=a.schemaEnv.baseId+a.errSchemaPath,_=`required property "${m}" is not defined at "${g}" (strictRequired)`;(0,hf.checkStrictMode)(a,_,a.opts.strictRequired)}}function l(){if(u||i)e.block$data(Mt.nil,d);else for(let p of r)(0,Ct.checkReportMissingProp)(e,p)}function c(){let p=t.let("missing");if(u||i){let f=t.let("valid",!0);e.block$data(f,()=>y(p,f)),e.ok(f)}else t.if((0,Ct.checkMissingProp)(e,r,p)),(0,Ct.reportMissingProp)(e,p),t.else()}function d(){t.forOf("prop",s,p=>{e.setParams({missingProperty:p}),t.if((0,Ct.noPropertyInData)(t,n,p,o.ownProperties),()=>e.error())})}function y(p,f){e.setParams({missingProperty:p}),t.forOf(p,s,()=>{t.assign(f,(0,Ct.propertyInData)(t,n,p,o.ownProperties)),t.if((0,Mt.not)(f),()=>{e.error(),t.break()})},Mt.nil)}}};on.default=gf});var ln=h(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});var Dt=b(),_f={message({keyword:e,schemaCode:t}){let r=e==="maxItems"?"more":"fewer";return(0,Dt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Dt._)`{limit: ${e}}`},$f={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:_f,code(e){let{keyword:t,data:r,schemaCode:s}=e,n=t==="maxItems"?Dt.operators.GT:Dt.operators.LT;e.fail$data((0,Dt._)`${r}.length ${n} ${s}`)}};cn.default=$f});var _r=h(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var so=Ps();so.code='require("ajv/dist/runtime/equal").default';dn.default=so});var pn=h(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var fn=Et(),x=b(),vf=q(),wf=_r(),bf={message:({params:{i:e,j:t}})=>(0,x.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,x._)`{i: ${e}, j: ${t}}`},Ef={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:bf,code(e){let{gen:t,data:r,$data:s,schema:n,parentSchema:i,schemaCode:a,it:o}=e;if(!s&&!n)return;let u=t.let("valid"),l=i.items?(0,fn.getSchemaTypes)(i.items):[];e.block$data(u,c,(0,x._)`${a} === false`),e.ok(u);function c(){let f=t.let("i",(0,x._)`${r}.length`),m=t.let("j");e.setParams({i:f,j:m}),t.assign(u,!0),t.if((0,x._)`${f} > 1`,()=>(d()?y:p)(f,m))}function d(){return l.length>0&&!l.some(f=>f==="object"||f==="array")}function y(f,m){let g=t.name("item"),_=(0,fn.checkDataTypes)(l,g,o.opts.strictNumbers,fn.DataType.Wrong),N=t.const("indices",(0,x._)`{}`);t.for((0,x._)`;${f}--;`,()=>{t.let(g,(0,x._)`${r}[${f}]`),t.if(_,(0,x._)`continue`),l.length>1&&t.if((0,x._)`typeof ${g} == "string"`,(0,x._)`${g} += "_"`),t.if((0,x._)`typeof ${N}[${g}] == "number"`,()=>{t.assign(m,(0,x._)`${N}[${g}]`),e.error(),t.assign(u,!1).break()}).code((0,x._)`${N}[${g}] = ${f}`)})}function p(f,m){let g=(0,vf.useFunc)(t,wf.default),_=t.name("outer");t.label(_).for((0,x._)`;${f}--;`,()=>t.for((0,x._)`${m} = ${f}; ${m}--;`,()=>t.if((0,x._)`${g}(${r}[${f}], ${r}[${m}])`,()=>{e.error(),t.assign(u,!1).break(_)})))}}};mn.default=Ef});var gn=h(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});var hn=b(),Sf=q(),Pf=_r(),If={message:"must be equal to constant",params:({schemaCode:e})=>(0,hn._)`{allowedValue: ${e}}`},Tf={keyword:"const",$data:!0,error:If,code(e){let{gen:t,data:r,$data:s,schemaCode:n,schema:i}=e;s||i&&typeof i=="object"?e.fail$data((0,hn._)`!${(0,Sf.useFunc)(t,Pf.default)}(${r}, ${n})`):e.fail((0,hn._)`${i} !== ${r}`)}};yn.default=Tf});var $n=h(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});var zt=b(),Nf=q(),Of=_r(),kf={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,zt._)`{allowedValues: ${e}}`},qf={keyword:"enum",schemaType:"array",$data:!0,error:kf,code(e){let{gen:t,data:r,$data:s,schema:n,schemaCode:i,it:a}=e;if(!s&&n.length===0)throw new Error("enum must have non-empty array");let o=n.length>=a.opts.loopEnum,u,l=()=>u??(u=(0,Nf.useFunc)(t,Of.default)),c;if(o||s)c=t.let("valid"),e.block$data(c,d);else{if(!Array.isArray(n))throw new Error("ajv implementation error");let p=t.const("vSchema",i);c=(0,zt.or)(...n.map((f,m)=>y(p,m)))}e.pass(c);function d(){t.assign(c,!1),t.forOf("v",i,p=>t.if((0,zt._)`${l()}(${r}, ${p})`,()=>t.assign(c,!0).break()))}function y(p,f){let m=n[f];return typeof m=="object"&&m!==null?(0,zt._)`${l()}(${r}, ${p}[${f}])`:(0,zt._)`${r} === ${m}`}}};_n.default=qf});var no=h(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});var Af=Qa(),Rf=eo(),jf=Qs(),Cf=tn(),Mf=sn(),Df=an(),zf=un(),Vf=ln(),xf=pn(),Lf=gn(),Uf=$n(),Kf=[Af.default,Rf.default,jf.default,Cf.default,Mf.default,Df.default,zf.default,Vf.default,xf.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Lf.default,Uf.default];vn.default=Kf});var bn=h(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.validateAdditionalItems=void 0;var Le=b(),wn=q(),Ff={message:({params:{len:e}})=>(0,Le.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Le._)`{limit: ${e}}`},Gf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ff,code(e){let{parentSchema:t,it:r}=e,{items:s}=t;if(!Array.isArray(s)){(0,wn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}io(e,s)}};function io(e,t){let{gen:r,schema:s,data:n,keyword:i,it:a}=e;a.items=!0;let o=r.const("len",(0,Le._)`${n}.length`);if(s===!1)e.setParams({len:t.length}),e.pass((0,Le._)`${o} <= ${t.length}`);else if(typeof s=="object"&&!(0,wn.alwaysValidSchema)(a,s)){let l=r.var("valid",(0,Le._)`${o} <= ${t.length}`);r.if((0,Le.not)(l),()=>u(l)),e.ok(l)}function u(l){r.forRange("i",t.length,o,c=>{e.subschema({keyword:i,dataProp:c,dataPropType:wn.Type.Num},l),a.allErrors||r.if((0,Le.not)(l),()=>r.break())})}}Vt.validateAdditionalItems=io;Vt.default=Gf});var En=h(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.validateTuple=void 0;var ao=b(),$r=q(),Hf=Q(),Yf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:r}=e;if(Array.isArray(t))return oo(e,"additionalItems",t);r.items=!0,!(0,$r.alwaysValidSchema)(r,t)&&e.ok((0,Hf.validateArray)(e))}};function oo(e,t,r=e.schema){let{gen:s,parentSchema:n,data:i,keyword:a,it:o}=e;c(n),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=$r.mergeEvaluated.items(s,r.length,o.items));let u=s.name("valid"),l=s.const("len",(0,ao._)`${i}.length`);r.forEach((d,y)=>{(0,$r.alwaysValidSchema)(o,d)||(s.if((0,ao._)`${l} > ${y}`,()=>e.subschema({keyword:a,schemaProp:y,dataProp:y},u)),e.ok(u))});function c(d){let{opts:y,errSchemaPath:p}=o,f=r.length,m=f===d.minItems&&(f===d.maxItems||d[t]===!1);if(y.strictTuples&&!m){let g=`"${a}" is ${f}-tuple, but minItems or maxItems/${t} are not specified or different at path "${p}"`;(0,$r.checkStrictMode)(o,g,y.strictTuples)}}}xt.validateTuple=oo;xt.default=Yf});var uo=h(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});var Bf=En(),Jf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Bf.validateTuple)(e,"items")};Sn.default=Jf});var lo=h(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var co=b(),Wf=q(),Zf=Q(),Qf=bn(),Xf={message:({params:{len:e}})=>(0,co.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,co._)`{limit: ${e}}`},em={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Xf,code(e){let{schema:t,parentSchema:r,it:s}=e,{prefixItems:n}=r;s.items=!0,!(0,Wf.alwaysValidSchema)(s,t)&&(n?(0,Qf.validateAdditionalItems)(e,n):e.ok((0,Zf.validateArray)(e)))}};Pn.default=em});var fo=h(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var ee=b(),vr=q(),tm={message:({params:{min:e,max:t}})=>t===void 0?(0,ee.str)`must contain at least ${e} valid item(s)`:(0,ee.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ee._)`{minContains: ${e}}`:(0,ee._)`{minContains: ${e}, maxContains: ${t}}`},rm={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:tm,code(e){let{gen:t,schema:r,parentSchema:s,data:n,it:i}=e,a,o,{minContains:u,maxContains:l}=s;i.opts.next?(a=u===void 0?1:u,o=l):a=1;let c=t.const("len",(0,ee._)`${n}.length`);if(e.setParams({min:a,max:o}),o===void 0&&a===0){(0,vr.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,vr.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,vr.alwaysValidSchema)(i,r)){let m=(0,ee._)`${c} >= ${a}`;o!==void 0&&(m=(0,ee._)`${m} && ${c} <= ${o}`),e.pass(m);return}i.items=!0;let d=t.name("valid");o===void 0&&a===1?p(d,()=>t.if(d,()=>t.break())):a===0?(t.let(d,!0),o!==void 0&&t.if((0,ee._)`${n}.length > 0`,y)):(t.let(d,!1),y()),e.result(d,()=>e.reset());function y(){let m=t.name("_valid"),g=t.let("count",0);p(m,()=>t.if(m,()=>f(g)))}function p(m,g){t.forRange("i",0,c,_=>{e.subschema({keyword:"contains",dataProp:_,dataPropType:vr.Type.Num,compositeRule:!0},m),g()})}function f(m){t.code((0,ee._)`${m}++`),o===void 0?t.if((0,ee._)`${m} >= ${a}`,()=>t.assign(d,!0).break()):(t.if((0,ee._)`${m} > ${o}`,()=>t.assign(d,!1).break()),a===1?t.assign(d,!0):t.if((0,ee._)`${m} >= ${a}`,()=>t.assign(d,!0)))}}};In.default=rm});var ho=h(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.validateSchemaDeps=de.validatePropertyDeps=de.error=void 0;var Tn=b(),sm=q(),Lt=Q();de.error={message:({params:{property:e,depsCount:t,deps:r}})=>{let s=t===1?"property":"properties";return(0,Tn.str)`must have ${s} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:s}})=>(0,Tn._)`{property: ${e},
    missingProperty: ${s},
    depsCount: ${t},
    deps: ${r}}`};var nm={keyword:"dependencies",type:"object",schemaType:"object",error:de.error,code(e){let[t,r]=im(e);mo(e,t),po(e,r)}};function im({schema:e}){let t={},r={};for(let s in e){if(s==="__proto__")continue;let n=Array.isArray(e[s])?t:r;n[s]=e[s]}return[t,r]}function mo(e,t=e.schema){let{gen:r,data:s,it:n}=e;if(Object.keys(t).length===0)return;let i=r.let("missing");for(let a in t){let o=t[a];if(o.length===0)continue;let u=(0,Lt.propertyInData)(r,s,a,n.opts.ownProperties);e.setParams({property:a,depsCount:o.length,deps:o.join(", ")}),n.allErrors?r.if(u,()=>{for(let l of o)(0,Lt.checkReportMissingProp)(e,l)}):(r.if((0,Tn._)`${u} && (${(0,Lt.checkMissingProp)(e,o,i)})`),(0,Lt.reportMissingProp)(e,i),r.else())}}de.validatePropertyDeps=mo;function po(e,t=e.schema){let{gen:r,data:s,keyword:n,it:i}=e,a=r.name("valid");for(let o in t)(0,sm.alwaysValidSchema)(i,t[o])||(r.if((0,Lt.propertyInData)(r,s,o,i.opts.ownProperties),()=>{let u=e.subschema({keyword:n,schemaProp:o},a);e.mergeValidEvaluated(u,a)},()=>r.var(a,!0)),e.ok(a))}de.validateSchemaDeps=po;de.default=nm});var go=h(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var yo=b(),am=q(),om={message:"property name must be valid",params:({params:e})=>(0,yo._)`{propertyName: ${e.propertyName}}`},um={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:om,code(e){let{gen:t,schema:r,data:s,it:n}=e;if((0,am.alwaysValidSchema)(n,r))return;let i=t.name("valid");t.forIn("key",s,a=>{e.setParams({propertyName:a}),e.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},i),t.if((0,yo.not)(i),()=>{e.error(!0),n.allErrors||t.break()})}),e.ok(i)}};Nn.default=um});var kn=h(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var wr=Q(),ie=b(),cm=$e(),br=q(),lm={message:"must NOT have additional properties",params:({params:e})=>(0,ie._)`{additionalProperty: ${e.additionalProperty}}`},dm={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:lm,code(e){let{gen:t,schema:r,parentSchema:s,data:n,errsCount:i,it:a}=e;if(!i)throw new Error("ajv implementation error");let{allErrors:o,opts:u}=a;if(a.props=!0,u.removeAdditional!=="all"&&(0,br.alwaysValidSchema)(a,r))return;let l=(0,wr.allSchemaProperties)(s.properties),c=(0,wr.allSchemaProperties)(s.patternProperties);d(),e.ok((0,ie._)`${i} === ${cm.default.errors}`);function d(){t.forIn("key",n,g=>{!l.length&&!c.length?f(g):t.if(y(g),()=>f(g))})}function y(g){let _;if(l.length>8){let N=(0,br.schemaRefOrVal)(a,s.properties,"properties");_=(0,wr.isOwnProperty)(t,N,g)}else l.length?_=(0,ie.or)(...l.map(N=>(0,ie._)`${g} === ${N}`)):_=ie.nil;return c.length&&(_=(0,ie.or)(_,...c.map(N=>(0,ie._)`${(0,wr.usePattern)(e,N)}.test(${g})`))),(0,ie.not)(_)}function p(g){t.code((0,ie._)`delete ${n}[${g}]`)}function f(g){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){p(g);return}if(r===!1){e.setParams({additionalProperty:g}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,br.alwaysValidSchema)(a,r)){let _=t.name("valid");u.removeAdditional==="failing"?(m(g,_,!1),t.if((0,ie.not)(_),()=>{e.reset(),p(g)})):(m(g,_),o||t.if((0,ie.not)(_),()=>t.break()))}}function m(g,_,N){let I={keyword:"additionalProperties",dataProp:g,dataPropType:br.Type.Str};N===!1&&Object.assign(I,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(I,_)}}};On.default=dm});var vo=h(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});var fm=Tt(),_o=Q(),qn=q(),$o=kn(),mm={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,parentSchema:s,data:n,it:i}=e;i.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&$o.default.code(new fm.KeywordCxt(i,$o.default,"additionalProperties"));let a=(0,_o.allSchemaProperties)(r);for(let d of a)i.definedProperties.add(d);i.opts.unevaluated&&a.length&&i.props!==!0&&(i.props=qn.mergeEvaluated.props(t,(0,qn.toHash)(a),i.props));let o=a.filter(d=>!(0,qn.alwaysValidSchema)(i,r[d]));if(o.length===0)return;let u=t.name("valid");for(let d of o)l(d)?c(d):(t.if((0,_o.propertyInData)(t,n,d,i.opts.ownProperties)),c(d),i.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add(d),e.ok(u);function l(d){return i.opts.useDefaults&&!i.compositeRule&&r[d].default!==void 0}function c(d){e.subschema({keyword:"properties",schemaProp:d,dataProp:d},u)}}};An.default=mm});var So=h(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var wo=Q(),Er=b(),bo=q(),Eo=q(),pm={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:r,data:s,parentSchema:n,it:i}=e,{opts:a}=i,o=(0,wo.allSchemaProperties)(r),u=o.filter(m=>(0,bo.alwaysValidSchema)(i,r[m]));if(o.length===0||u.length===o.length&&(!i.opts.unevaluated||i.props===!0))return;let l=a.strictSchema&&!a.allowMatchingProperties&&n.properties,c=t.name("valid");i.props!==!0&&!(i.props instanceof Er.Name)&&(i.props=(0,Eo.evaluatedPropsToName)(t,i.props));let{props:d}=i;y();function y(){for(let m of o)l&&p(m),i.allErrors?f(m):(t.var(c,!0),f(m),t.if(c))}function p(m){for(let g in l)new RegExp(m).test(g)&&(0,bo.checkStrictMode)(i,`property ${g} matches pattern ${m} (use allowMatchingProperties)`)}function f(m){t.forIn("key",s,g=>{t.if((0,Er._)`${(0,wo.usePattern)(e,m)}.test(${g})`,()=>{let _=u.includes(m);_||e.subschema({keyword:"patternProperties",schemaProp:m,dataProp:g,dataPropType:Eo.Type.Str},c),i.opts.unevaluated&&d!==!0?t.assign((0,Er._)`${d}[${g}]`,!0):!_&&!i.allErrors&&t.if((0,Er.not)(c),()=>t.break())})})}}};Rn.default=pm});var Po=h(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});var hm=q(),ym={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:r,it:s}=e;if((0,hm.alwaysValidSchema)(s,r)){e.fail();return}let n=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),e.failResult(n,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};jn.default=ym});var Io=h(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});var gm=Q(),_m={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:gm.validateUnion,error:{message:"must match a schema in anyOf"}};Cn.default=_m});var To=h(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});var Sr=b(),$m=q(),vm={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Sr._)`{passingSchemas: ${e.passing}}`},wm={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:vm,code(e){let{gen:t,schema:r,parentSchema:s,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&s.discriminator)return;let i=r,a=t.let("valid",!1),o=t.let("passing",null),u=t.name("_valid");e.setParams({passing:o}),t.block(l),e.result(a,()=>e.reset(),()=>e.error(!0));function l(){i.forEach((c,d)=>{let y;(0,$m.alwaysValidSchema)(n,c)?t.var(u,!0):y=e.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},u),d>0&&t.if((0,Sr._)`${u} && ${a}`).assign(a,!1).assign(o,(0,Sr._)`[${o}, ${d}]`).else(),t.if(u,()=>{t.assign(a,!0),t.assign(o,d),y&&e.mergeEvaluated(y,Sr.Name)})})}}};Mn.default=wm});var No=h(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});var bm=q(),Em={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:r,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");let n=t.name("valid");r.forEach((i,a)=>{if((0,bm.alwaysValidSchema)(s,i))return;let o=e.subschema({keyword:"allOf",schemaProp:a},n);e.ok(n),e.mergeEvaluated(o)})}};Dn.default=Em});var qo=h(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});var Pr=b(),ko=q(),Sm={message:({params:e})=>(0,Pr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Pr._)`{failingKeyword: ${e.ifClause}}`},Pm={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Sm,code(e){let{gen:t,parentSchema:r,it:s}=e;r.then===void 0&&r.else===void 0&&(0,ko.checkStrictMode)(s,'"if" without "then" and "else" is ignored');let n=Oo(s,"then"),i=Oo(s,"else");if(!n&&!i)return;let a=t.let("valid",!0),o=t.name("_valid");if(u(),e.reset(),n&&i){let c=t.let("ifClause");e.setParams({ifClause:c}),t.if(o,l("then",c),l("else",c))}else n?t.if(o,l("then")):t.if((0,Pr.not)(o),l("else"));e.pass(a,()=>e.error(!0));function u(){let c=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(c)}function l(c,d){return()=>{let y=e.subschema({keyword:c},o);t.assign(a,o),e.mergeValidEvaluated(y,a),d?t.assign(d,(0,Pr._)`${c}`):e.setParams({ifClause:c})}}}};function Oo(e,t){let r=e.schema[t];return r!==void 0&&!(0,ko.alwaysValidSchema)(e,r)}zn.default=Pm});var Ao=h(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var Im=q(),Tm={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Im.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Vn.default=Tm});var Ln=h(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});var Nm=bn(),Om=uo(),km=En(),qm=lo(),Am=fo(),Rm=ho(),jm=go(),Cm=kn(),Mm=vo(),Dm=So(),zm=Po(),Vm=Io(),xm=To(),Lm=No(),Um=qo(),Km=Ao();function Fm(e=!1){let t=[zm.default,Vm.default,xm.default,Lm.default,Um.default,Km.default,jm.default,Cm.default,Rm.default,Mm.default,Dm.default];return e?t.push(Om.default,qm.default):t.push(Nm.default,km.default),t.push(Am.default),t}xn.default=Fm});var Ro=h(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});var D=b(),Gm={message:({schemaCode:e})=>(0,D.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,D._)`{format: ${e}}`},Hm={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Gm,code(e,t){let{gen:r,data:s,$data:n,schema:i,schemaCode:a,it:o}=e,{opts:u,errSchemaPath:l,schemaEnv:c,self:d}=o;if(!u.validateFormats)return;n?y():p();function y(){let f=r.scopeValue("formats",{ref:d.formats,code:u.code.formats}),m=r.const("fDef",(0,D._)`${f}[${a}]`),g=r.let("fType"),_=r.let("format");r.if((0,D._)`typeof ${m} == "object" && !(${m} instanceof RegExp)`,()=>r.assign(g,(0,D._)`${m}.type || "string"`).assign(_,(0,D._)`${m}.validate`),()=>r.assign(g,(0,D._)`"string"`).assign(_,m)),e.fail$data((0,D.or)(N(),I()));function N(){return u.strictSchema===!1?D.nil:(0,D._)`${a} && !${_}`}function I(){let j=c.$async?(0,D._)`(${m}.async ? await ${_}(${s}) : ${_}(${s}))`:(0,D._)`${_}(${s})`,w=(0,D._)`(typeof ${_} == "function" ? ${j} : ${_}.test(${s}))`;return(0,D._)`${_} && ${_} !== true && ${g} === ${t} && !${w}`}}function p(){let f=d.formats[i];if(!f){N();return}if(f===!0)return;let[m,g,_]=I(f);m===t&&e.pass(j());function N(){if(u.strictSchema===!1){d.logger.warn(w());return}throw new Error(w());function w(){return`unknown format "${i}" ignored in schema at path "${l}"`}}function I(w){let oe=w instanceof RegExp?(0,D.regexpCode)(w):u.code.formats?(0,D._)`${u.code.formats}${(0,D.getProperty)(i)}`:void 0,he=r.scopeValue("formats",{key:i,ref:w,code:oe});return typeof w=="object"&&!(w instanceof RegExp)?[w.type||"string",w.validate,(0,D._)`${he}.validate`]:["string",w,he]}function j(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!c.$async)throw new Error("async format in sync schema");return(0,D._)`await ${_}(${s})`}return typeof g=="function"?(0,D._)`${_}(${s})`:(0,D._)`${_}.test(${s})`}}}};Un.default=Hm});var Fn=h(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});var Ym=Ro(),Bm=[Ym.default];Kn.default=Bm});var jo=h(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});var Jm=Za(),Wm=no(),Zm=Ln(),Qm=Fn(),Xm=["title","description","default"],ep=[Jm.default,Wm.default,Zm.default(),Qm.default,Xm];Gn.default=ep});var Mo=h(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.DiscrError=void 0;var Co;(function(e){e.Tag="tag",e.Mapping="mapping"})(Co||(Ir.DiscrError=Co={}))});var Bn=h(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});var tt=b(),Hn=Mo(),Do=lr(),tp=Nt(),rp=q(),sp={message:({params:{discrError:e,tagName:t}})=>e===Hn.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,tt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},np={keyword:"discriminator",type:"object",schemaType:"object",error:sp,code(e){let{gen:t,data:r,schema:s,parentSchema:n,it:i}=e,{oneOf:a}=n;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");let o=s.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");let u=t.let("valid",!1),l=t.const("tag",(0,tt._)`${r}${(0,tt.getProperty)(o)}`);t.if((0,tt._)`typeof ${l} == "string"`,()=>c(),()=>e.error(!1,{discrError:Hn.DiscrError.Tag,tag:l,tagName:o})),e.ok(u);function c(){let p=y();t.if(!1);for(let f in p)t.elseIf((0,tt._)`${l} === ${f}`),t.assign(u,d(p[f]));t.else(),e.error(!1,{discrError:Hn.DiscrError.Mapping,tag:l,tagName:o}),t.endIf()}function d(p){let f=t.name("valid"),m=e.subschema({keyword:"oneOf",schemaProp:p},f);return e.mergeEvaluated(m,tt.Name),f}function y(){var p;let f={},m=_(n),g=!0;for(let j=0;j<a.length;j++){let w=a[j];if(w?.$ref&&!(0,rp.schemaHasRulesButRef)(w,i.self.RULES)){let he=w.$ref;if(w=Do.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,he),w instanceof Do.SchemaEnv&&(w=w.schema),w===void 0)throw new tp.default(i.opts.uriResolver,i.baseId,he)}let oe=(p=w?.properties)===null||p===void 0?void 0:p[o];if(typeof oe!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);g=g&&(m||_(w)),N(oe,j)}if(!g)throw new Error(`discriminator: "${o}" must be required`);return f;function _({required:j}){return Array.isArray(j)&&j.includes(o)}function N(j,w){if(j.const)I(j.const,w);else if(j.enum)for(let oe of j.enum)I(oe,w);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function I(j,w){if(typeof j!="string"||j in f)throw new Error(`discriminator: "${o}" values must be unique strings`);f[j]=w}}}};Yn.default=np});var zo=h((Uy,ip)=>{ip.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}});var Lo=h((z,xo)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;var ap=Xe(),op=jo(),up=Bn(),Vo=zo(),cp=["/properties"],Tr="http://json-schema.org/draft-04/schema",Nr=class extends ap.default{constructor(t={}){super({...t,schemaId:"id"})}_addVocabularies(){super._addVocabularies(),op.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(up.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(Vo,cp):Vo;this.addMetaSchema(t,Tr,!1),this.refs["http://json-schema.org/schema"]=Tr}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Tr)?Tr:void 0)}};xo.exports=z=Nr;Object.defineProperty(z,"__esModule",{value:!0});z.default=Nr;var lp=Xe();Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return lp.KeywordCxt}});var rt=Xe();Object.defineProperty(z,"_",{enumerable:!0,get:function(){return rt._}});Object.defineProperty(z,"str",{enumerable:!0,get:function(){return rt.str}});Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return rt.stringify}});Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return rt.nil}});Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return rt.Name}});Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return rt.CodeGen}})});var Jo=h(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.formatNames=me.fastFormats=me.fullFormats=void 0;function fe(e,t){return{validate:e,compare:t}}me.fullFormats={date:fe(Go,Qn),time:fe(Wn(!0),Xn),"date-time":fe(Uo(!0),Yo),"iso-time":fe(Wn(),Ho),"iso-date-time":fe(Uo(),Bo),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:yp,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:Ep,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:gp,int32:{type:"number",validate:vp},int64:{type:"number",validate:wp},float:{type:"number",validate:Fo},double:{type:"number",validate:Fo},password:!0,binary:!0};me.fastFormats={...me.fullFormats,date:fe(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,Qn),time:fe(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Xn),"date-time":fe(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,Yo),"iso-time":fe(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Ho),"iso-date-time":fe(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,Bo),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};me.formatNames=Object.keys(me.fullFormats);function dp(e){return e%4===0&&(e%100!==0||e%400===0)}var fp=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,mp=[0,31,28,31,30,31,30,31,31,30,31,30,31];function Go(e){let t=fp.exec(e);if(!t)return!1;let r=+t[1],s=+t[2],n=+t[3];return s>=1&&s<=12&&n>=1&&n<=(s===2&&dp(r)?29:mp[s])}function Qn(e,t){if(e&&t)return e>t?1:e<t?-1:0}var Jn=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function Wn(e){return function(r){let s=Jn.exec(r);if(!s)return!1;let n=+s[1],i=+s[2],a=+s[3],o=s[4],u=s[5]==="-"?-1:1,l=+(s[6]||0),c=+(s[7]||0);if(l>23||c>59||e&&!o)return!1;if(n<=23&&i<=59&&a<60)return!0;let d=i-c*u,y=n-l*u-(d<0?1:0);return(y===23||y===-1)&&(d===59||d===-1)&&a<61}}function Xn(e,t){if(!(e&&t))return;let r=new Date("2020-01-01T"+e).valueOf(),s=new Date("2020-01-01T"+t).valueOf();if(r&&s)return r-s}function Ho(e,t){if(!(e&&t))return;let r=Jn.exec(e),s=Jn.exec(t);if(r&&s)return e=r[1]+r[2]+r[3],t=s[1]+s[2]+s[3],e>t?1:e<t?-1:0}var Zn=/t|\s/i;function Uo(e){let t=Wn(e);return function(s){let n=s.split(Zn);return n.length===2&&Go(n[0])&&t(n[1])}}function Yo(e,t){if(!(e&&t))return;let r=new Date(e).valueOf(),s=new Date(t).valueOf();if(r&&s)return r-s}function Bo(e,t){if(!(e&&t))return;let[r,s]=e.split(Zn),[n,i]=t.split(Zn),a=Qn(r,n);if(a!==void 0)return a||Xn(s,i)}var pp=/\/|:/,hp=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function yp(e){return pp.test(e)&&hp.test(e)}var Ko=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function gp(e){return Ko.lastIndex=0,Ko.test(e)}var _p=-(2**31),$p=2**31-1;function vp(e){return Number.isInteger(e)&&e<=$p&&e>=_p}function wp(e){return Number.isInteger(e)}function Fo(){return!0}var bp=/[^\\]\\Z/;function Ep(e){if(bp.test(e))return!1;try{return new RegExp(e),!0}catch{return!1}}});var Wo=h(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});var Sp={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ei.default=Sp});var Zo=h(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});var Pp=Wo(),Ip=Fs(),Tp=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Pp.default,Ip.default];ti.default=Tp});var Qo=h(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});var Or=b(),ke=Or.operators,kr={maximum:{okStr:"<=",ok:ke.LTE,fail:ke.GT},minimum:{okStr:">=",ok:ke.GTE,fail:ke.LT},exclusiveMaximum:{okStr:"<",ok:ke.LT,fail:ke.GTE},exclusiveMinimum:{okStr:">",ok:ke.GT,fail:ke.LTE}},Np={message:({keyword:e,schemaCode:t})=>(0,Or.str)`must be ${kr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Or._)`{comparison: ${kr[e].okStr}, limit: ${t}}`},Op={keyword:Object.keys(kr),type:"number",schemaType:"number",$data:!0,error:Np,code(e){let{keyword:t,data:r,schemaCode:s}=e;e.fail$data((0,Or._)`${r} ${kr[t].fail} ${s} || isNaN(${r})`)}};ri.default=Op});var Xo=h(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});var kp=Qo(),qp=Qs(),Ap=tn(),Rp=sn(),jp=an(),Cp=un(),Mp=ln(),Dp=pn(),zp=gn(),Vp=$n(),xp=[kp.default,qp.default,Ap.default,Rp.default,jp.default,Cp.default,Mp.default,Dp.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},zp.default,Vp.default];si.default=xp});var eu=h(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.contentVocabulary=st.metadataVocabulary=void 0;st.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];st.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var ru=h(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});var Lp=Zo(),Up=Xo(),Kp=Ln(),Fp=Fn(),tu=eu(),Gp=[Lp.default,Up.default,(0,Kp.default)(),Fp.default,tu.metadataVocabulary,tu.contentVocabulary];ni.default=Gp});var su=h((Wy,Hp)=>{Hp.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var iu=h((M,ii)=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.MissingRefError=M.ValidationError=M.CodeGen=M.Name=M.nil=M.stringify=M.str=M._=M.KeywordCxt=M.Ajv=void 0;var Yp=Xe(),Bp=ru(),Jp=Bn(),nu=su(),Wp=["/properties"],qr="http://json-schema.org/draft-07/schema",nt=class extends Yp.default{_addVocabularies(){super._addVocabularies(),Bp.default.forEach(t=>this.addVocabulary(t)),this.opts.discriminator&&this.addKeyword(Jp.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let t=this.opts.$data?this.$dataMetaSchema(nu,Wp):nu;this.addMetaSchema(t,qr,!1),this.refs["http://json-schema.org/schema"]=qr}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(qr)?qr:void 0)}};M.Ajv=nt;ii.exports=M=nt;ii.exports.Ajv=nt;Object.defineProperty(M,"__esModule",{value:!0});M.default=nt;var Zp=Tt();Object.defineProperty(M,"KeywordCxt",{enumerable:!0,get:function(){return Zp.KeywordCxt}});var it=b();Object.defineProperty(M,"_",{enumerable:!0,get:function(){return it._}});Object.defineProperty(M,"str",{enumerable:!0,get:function(){return it.str}});Object.defineProperty(M,"stringify",{enumerable:!0,get:function(){return it.stringify}});Object.defineProperty(M,"nil",{enumerable:!0,get:function(){return it.nil}});Object.defineProperty(M,"Name",{enumerable:!0,get:function(){return it.Name}});Object.defineProperty(M,"CodeGen",{enumerable:!0,get:function(){return it.CodeGen}});var Qp=ur();Object.defineProperty(M,"ValidationError",{enumerable:!0,get:function(){return Qp.default}});var Xp=Nt();Object.defineProperty(M,"MissingRefError",{enumerable:!0,get:function(){return Xp.default}})});var au=h(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.formatLimitDefinition=void 0;var eh=iu(),ae=b(),qe=ae.operators,Ar={formatMaximum:{okStr:"<=",ok:qe.LTE,fail:qe.GT},formatMinimum:{okStr:">=",ok:qe.GTE,fail:qe.LT},formatExclusiveMaximum:{okStr:"<",ok:qe.LT,fail:qe.GTE},formatExclusiveMinimum:{okStr:">",ok:qe.GT,fail:qe.LTE}},th={message:({keyword:e,schemaCode:t})=>(0,ae.str)`should be ${Ar[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,ae._)`{comparison: ${Ar[e].okStr}, limit: ${t}}`};at.formatLimitDefinition={keyword:Object.keys(Ar),type:"string",schemaType:"string",$data:!0,error:th,code(e){let{gen:t,data:r,schemaCode:s,keyword:n,it:i}=e,{opts:a,self:o}=i;if(!a.validateFormats)return;let u=new eh.KeywordCxt(i,o.RULES.all.format.definition,"format");u.$data?l():c();function l(){let y=t.scopeValue("formats",{ref:o.formats,code:a.code.formats}),p=t.const("fmt",(0,ae._)`${y}[${u.schemaCode}]`);e.fail$data((0,ae.or)((0,ae._)`typeof ${p} != "object"`,(0,ae._)`${p} instanceof RegExp`,(0,ae._)`typeof ${p}.compare != "function"`,d(p)))}function c(){let y=u.schema,p=o.formats[y];if(!p||p===!0)return;if(typeof p!="object"||p instanceof RegExp||typeof p.compare!="function")throw new Error(`"${n}": format "${y}" does not define "compare" function`);let f=t.scopeValue("formats",{key:y,ref:p,code:a.code.formats?(0,ae._)`${a.code.formats}${(0,ae.getProperty)(y)}`:void 0});e.fail$data(d(f))}function d(y){return(0,ae._)`${y}.compare(${r}, ${s}) ${Ar[n].fail} 0`}},dependencies:["format"]};var rh=e=>(e.addKeyword(at.formatLimitDefinition),e);at.default=rh});var lu=h((Ut,cu)=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});var ot=Jo(),sh=au(),ai=b(),ou=new ai.Name("fullFormats"),nh=new ai.Name("fastFormats"),oi=(e,t={keywords:!0})=>{if(Array.isArray(t))return uu(e,t,ot.fullFormats,ou),e;let[r,s]=t.mode==="fast"?[ot.fastFormats,nh]:[ot.fullFormats,ou],n=t.formats||ot.formatNames;return uu(e,n,r,s),t.keywords&&(0,sh.default)(e),e};oi.get=(e,t="full")=>{let s=(t==="fast"?ot.fastFormats:ot.fullFormats)[e];if(!s)throw new Error(`Unknown format "${e}"`);return s};function uu(e,t,r,s){var n,i;(n=(i=e.opts.code).formats)!==null&&n!==void 0||(i.formats=(0,ai._)`require("ajv-formats/dist/formats").${s}`);for(let a of t)e.addFormat(a,r[a])}cu.exports=Ut=oi;Object.defineProperty(Ut,"__esModule",{value:!0});Ut.default=oi});var pe=H(Ue()),hu=H(fi()),yu=H(pi()),ut=H(Kt());var Ke=H(Ue()),wi=H(Vr()),Jr=H(Kt());var $i=H(Ue());var lt="core/abilities",be="root",dt="abilities",ft="ability-categories",Ft="RECEIVE_ABILITIES",Gt="REGISTER_ABILITY",Ht="UNREGISTER_ABILITY",Yt="RECEIVE_CATEGORIES",Bt="REGISTER_ABILITY_CATEGORY",Jt="UNREGISTER_ABILITY_CATEGORY";var Pu=["name","label","description","category","input_schema","output_schema","meta","callback","permissionCallback"],Iu=["slug","label","description","meta"];function gi(e){return Object.keys(e).filter(t=>Pu.includes(t)&&e[t]!==void 0).reduce((t,r)=>({...t,[r]:e[r]}),{})}function _i(e){return Object.keys(e).filter(t=>Iu.includes(t)&&e[t]!==void 0).reduce((t,r)=>({...t,[r]:e[r]}),{})}var Tu={};function Nu(e=Tu,t){switch(t.type){case Ft:{if(!t.abilities)return e;let r={};return t.abilities.forEach(s=>{r[s.name]=gi(s)}),r}case Gt:return t.ability?{...e,[t.ability.name]:gi(t.ability)}:e;case Ht:{if(!t.name||!e[t.name])return e;let{[t.name]:r,...s}=e;return s}default:return e}}var Ou={};function ku(e=Ou,t){switch(t.type){case Yt:{if(!t.categories)return e;let r={};return t.categories.forEach(s=>{r[s.slug]=_i(s)}),r}case Bt:return t.category?{...e,[t.category.slug]:_i(t.category)}:e;case Jt:{if(!t.slug||!e[t.slug])return e;let{[t.slug]:r,...s}=e;return s}default:return e}}var vi=(0,$i.combineReducers)({abilitiesByName:Nu,categoriesBySlug:ku});var Gr={};zr(Gr,{receiveAbilities:()=>Lr,receiveCategories:()=>Ur,registerAbility:()=>Kr,registerAbilityCategory:()=>Fr,unregisterAbility:()=>qu,unregisterAbilityCategory:()=>Au});var ye=H(Kt()),xr=H(Ue());function Lr(e){return{type:Ft,abilities:e}}function Ur(e){return{type:Yt,categories:e}}function Kr(e){return async({select:t,dispatch:r})=>{if(!e.name)throw new Error("Ability name is required");if(!/^[a-z0-9-]+\/[a-z0-9-]+$/.test(e.name))throw new Error('Ability name must be a string containing a namespace prefix, i.e. "my-plugin/my-ability". It can only contain lowercase alphanumeric characters, dashes and the forward slash.');if(!e.label)throw new Error((0,ye.sprintf)('Ability "%s" must have a label',e.name));if(!e.description)throw new Error((0,ye.sprintf)('Ability "%s" must have a description',e.name));if(!e.category)throw new Error((0,ye.sprintf)('Ability "%s" must have a category',e.name));if(!/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(e.category))throw new Error((0,ye.sprintf)('Ability "%1$s" has an invalid category. Category must be lowercase alphanumeric with dashes only Got: "%2$s"',e.name,e.category));if(!(await(0,xr.resolveSelect)(lt).getAbilityCategories()).find(a=>a.slug===e.category))throw new Error((0,ye.sprintf)('Ability "%1$s" references non-existent category "%2$s". Please register the category first.',e.name,e.category));if(e.callback&&typeof e.callback!="function")throw new Error((0,ye.sprintf)('Ability "%s" has an invalid callback. Callback must be a function',e.name));if(t.getAbility(e.name))throw new Error((0,ye.sprintf)('Ability "%s" is already registered',e.name));r({type:Gt,ability:e})}}function qu(e){return{type:Ht,name:e}}function Fr(e,t){return async({select:r,dispatch:s})=>{if(!e)throw new Error("Category slug is required");if(!/^[a-z0-9]+(?:-[a-z0-9]+)*$/.test(e))throw new Error("Category slug must contain only lowercase alphanumeric characters and dashes.");if(await(0,xr.resolveSelect)(lt).getAbilityCategories(),r.getAbilityCategory(e))throw new Error((0,ye.sprintf)('Category "%s" is already registered.',e));if(!t.label||typeof t.label!="string")throw new Error("The category properties must contain a `label` string.");if(!t.description||typeof t.description!="string")throw new Error("The category properties must contain a `description` string.");if(t.meta!==void 0&&(typeof t.meta!="object"||Array.isArray(t.meta)))throw new Error("The category properties should provide a valid `meta` object.");let i={slug:e,label:t.label,description:t.description,meta:{...t.meta||{},_clientRegistered:!0}};s({type:Bt,category:i})}}function Au(e){return{type:Jt,slug:e}}var Yr={};zr(Yr,{getAbilities:()=>Ru,getAbility:()=>ju,getAbilityCategories:()=>Cu,getAbilityCategory:()=>Mu});var Hr=H(Ue()),Ru=(0,Hr.createSelector)((e,{category:t}={})=>{let r=Object.values(e.abilitiesByName);return t?r.filter(s=>s.category===t):r},(e,t)=>[e.abilitiesByName,t]);function ju(e,t){return e.abilitiesByName[t]}var Cu=(0,Hr.createSelector)(e=>Object.values(e.categoriesBySlug),e=>[e.categoriesBySlug]);function Mu(e,t){return e.categoriesBySlug[t]}var Br={};zr(Br,{getAbilities:()=>Du,getAbility:()=>zu,getAbilityCategories:()=>Vu,getAbilityCategory:()=>xu});var mt=H(Vr());function Du(){return async({dispatch:e,registry:t,select:r})=>{if(r.getAbilities().some(a=>!a.callback))return;let i=await t.resolveSelect(mt.store).getEntityRecords(be,dt,{per_page:-1});e(Lr(i||[]))}}function zu(e){return async({dispatch:t,registry:r,select:s})=>{if(!s.getAbility(e))try{let i=await r.resolveSelect(mt.store).getEntityRecord(be,dt,e);i&&await t(Kr(i))}catch{console.debug(`Ability not found: ${e}`)}}}function Vu(){return async({dispatch:e,registry:t,select:r})=>{if(r.getAbilityCategories().some(a=>!a.meta?._clientRegistered))return;let i=await t.resolveSelect(mt.store).getEntityRecords(be,ft,{per_page:-1});e(Ur(i||[]))}}function xu(e){return async({dispatch:t,registry:r,select:s})=>{if(!s.getAbilityCategory(e))try{let i=await r.resolveSelect(mt.store).getEntityRecord(be,ft,e);i&&await t(Fr(i.slug,{label:i.label,description:i.description,meta:i.meta}))}catch{console.debug(`Category not found: ${e}`)}}}var te=(0,Ke.createReduxStore)(lt,{reducer:vi,actions:Gr,selectors:Yr,resolvers:Br});(0,Ke.register)(te);(0,Ke.dispatch)(wi.store).addEntities([{name:dt,kind:be,key:"name",baseURL:"/wp-abilities/v1/abilities",baseURLParams:{context:"edit"},plural:"abilities",label:(0,Jr.__)("Abilities"),supportsPagination:!0},{name:ft,kind:be,key:"slug",baseURL:"/wp-abilities/v1/categories",baseURLParams:{context:"edit"},plural:"ability-categories",label:(0,Jr.__)("Ability Categories"),supportsPagination:!0}]);var fu=H(Lo()),mu=H(lu()),pu=new fu.default({coerceTypes:!1,useDefaults:!0,removeAdditional:!1,allErrors:!0,verbose:!0,allowUnionTypes:!0});(0,mu.default)(pu,["date-time","email","hostname","ipv4","ipv6","uuid"]);function du(e,t){let r=e.instancePath?e.instancePath.replace(/\//g,"][").replace(/^\]\[/,"[")+"]":"",s=t+r;switch(e.keyword){case"type":return`${s} is not of type ${e.params.type}.`;case"required":return`${e.params.missingProperty} is a required property of ${s}.`;case"additionalProperties":return`${e.params.additionalProperty} is not a valid property of Object.`;case"enum":let n=e.params.allowedValues.map(o=>typeof o=="string"?o:JSON.stringify(o)).join(", ");return e.params.allowedValues.length===1?`${s} is not ${n}.`:`${s} is not one of ${n}.`;case"pattern":return`${s} does not match pattern ${e.params.pattern}.`;case"format":let i=e.params.format;return{email:"Invalid email address.","date-time":"Invalid date.",uuid:`${s} is not a valid UUID.`,ipv4:`${s} is not a valid IP address.`,ipv6:`${s} is not a valid IP address.`,hostname:`${s} is not a valid hostname.`}[i]||`Invalid ${i}.`;case"minimum":case"exclusiveMinimum":return e.keyword==="exclusiveMinimum"?`${s} must be greater than ${e.params.limit}`:`${s} must be greater than or equal to ${e.params.limit}`;case"maximum":case"exclusiveMaximum":return e.keyword==="exclusiveMaximum"?`${s} must be less than ${e.params.limit}`:`${s} must be less than or equal to ${e.params.limit}`;case"multipleOf":return`${s} must be a multiple of ${e.params.multipleOf}.`;case"anyOf":case"oneOf":return`${s} is invalid (failed ${e.keyword} validation).`;case"minLength":return`${s} must be at least ${e.params.limit} character${e.params.limit===1?"":"s"} long.`;case"maxLength":return`${s} must be at most ${e.params.limit} character${e.params.limit===1?"":"s"} long.`;case"minItems":return`${s} must contain at least ${e.params.limit} item${e.params.limit===1?"":"s"}.`;case"maxItems":return`${s} must contain at most ${e.params.limit} item${e.params.limit===1?"":"s"}.`;case"uniqueItems":return`${s} has duplicate items.`;case"minProperties":return`${s} must contain at least ${e.params.limit} propert${e.params.limit===1?"y":"ies"}.`;case"maxProperties":return`${s} must contain at most ${e.params.limit} propert${e.params.limit===1?"y":"ies"}.`;default:return e.message||`${s} is invalid (failed ${e.keyword} validation).`}}function Rr(e,t,r=""){if(!t||typeof t!="object")return console.warn(`Schema must be an object. Received ${typeof t}.`),!0;if(!t.type&&!t.anyOf&&!t.oneOf)return console.warn(`The "type" schema keyword for ${r||"value"} is required.`),!0;try{let{default:s,...n}=t,i=pu.compile(n);if(i(e===void 0?s:e))return!0;if(i.errors&&i.errors.length>0){let o=i.errors.find(u=>u.keyword==="anyOf"||u.keyword==="oneOf");return du(o||i.errors[0],r)}return`${r} is invalid.`}catch(s){return console.error("Schema compilation error:",s),"Invalid schema provided for validation."}}async function ih(e={}){return await(0,pe.resolveSelect)(te).getAbilities(e)}async function gu(e){return await(0,pe.resolveSelect)(te).getAbility(e)}async function ah(){return await(0,pe.resolveSelect)(te).getAbilityCategories()}async function oh(e){return await(0,pe.resolveSelect)(te).getAbilityCategory(e)}async function uh(e){await(0,pe.dispatch)(te).registerAbility(e)}function ch(e){(0,pe.dispatch)(te).unregisterAbility(e)}async function lh(e,t){await(0,pe.dispatch)(te).registerAbilityCategory(e,t)}function dh(e){(0,pe.dispatch)(te).unregisterAbilityCategory(e)}async function fh(e,t){if(!e.callback)throw new Error((0,ut.sprintf)("Client ability %s is missing callback function",e.name));if(e.permissionCallback&&!await e.permissionCallback(t)){let n=new Error((0,ut.sprintf)("Permission denied for ability: %s",e.name));throw n.code="ability_permission_denied",n}if(e.input_schema){let s=Rr(t,e.input_schema,"input");if(s!==!0){let n=new Error((0,ut.sprintf)('Ability "%1$s" has invalid input. Reason: %2$s',e.name,s));throw n.code="ability_invalid_input",n}}let r;try{r=await e.callback(t)}catch(s){throw console.error(`Error executing client ability ${e.name}:`,s),s}if(e.output_schema){let s=Rr(r,e.output_schema,"output");if(s!==!0){let n=new Error((0,ut.sprintf)('Ability "%1$s" has invalid output. Reason: %2$s',e.name,s));throw n.code="ability_invalid_output",n}}return r}async function mh(e,t){let r="POST";e.meta?.annotations?.readonly?r="GET":e.meta?.annotations?.destructive&&e.meta?.annotations?.idempotent&&(r="DELETE");let s=`/wp-abilities/v1/abilities/${e.name}/run`,n={method:r};["GET","DELETE"].includes(r)&&t!==null?s=(0,yu.addQueryArgs)(s,{input:t}):r==="POST"&&t!==null&&(n.data={input:t});try{return await(0,hu.default)({path:s,...n})}catch(i){throw console.error(`Error executing ability ${e.name}:`,i),i}}async function ph(e,t){let r=await gu(e);if(!r)throw new Error((0,ut.sprintf)("Ability not found: %s",e));return r.callback?fh(r,t):mh(r,t)}export{ph as executeAbility,ih as getAbilities,gu as getAbility,ah as getAbilityCategories,oh as getAbilityCategory,uh as registerAbility,lh as registerAbilityCategory,te as store,ch as unregisterAbility,dh as unregisterAbilityCategory,Rr as validateValueFromSchema};
//# sourceMappingURL=index.min.js.map
