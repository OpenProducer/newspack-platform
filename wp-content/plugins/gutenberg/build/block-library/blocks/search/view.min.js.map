{"version":3,"file":"./build/block-library/blocks/search/view.min.js","mappings":"oBAKAA,ECLqCC,OAAW,GAAiB,cDKjED,OAAS,CACRE,UAAW,CACVC,KAAM,CACLC,OAAQ,CACPC,UAAWA,EAAIC,cACd,MAAM,mBAAEC,EAAkB,kBAAEC,GAC3BF,EAAQH,KAAKC,OACd,OAAOE,EAAQH,KAAKC,OAAOK,qBACxBD,EACAD,CAAkB,EAEtBG,aAAcA,EAAIJ,aACVA,EAAQH,KAAKC,OAAOK,qBACxB,KACAH,EAAQH,KAAKC,OAAOO,QAExBC,KAAMA,EAAIN,aACFA,EAAQH,KAAKC,OAAOK,qBACxB,SACA,SAEJI,SAAUA,EAAIP,aACNA,EAAQH,KAAKC,OAAOK,qBACxB,IACA,QAKPK,QAAS,CACRX,KAAM,CACLC,OAAQ,CACPW,gBAAiBA,EAAIT,UAASU,QAAOC,UAC7BX,EAAQH,KAAKC,OAAOK,uBAC1BO,EAAME,iBACNZ,EAAQH,KAAKC,OAAOK,sBAAuB,EAC3CQ,EAAIE,cAAcC,cAAe,SAAUC,QAC5C,EAEDC,iBAAkBA,EAAIhB,cACrBA,EAAQH,KAAKC,OAAOK,sBAAuB,CAAK,EAEjDc,oBAAuBC,IACtB,MAAM,QAAEV,EAAO,MAAEE,EAAK,IAAEC,GAAQO,EAEZ,WAAfR,GAAOS,MACXX,EAAQX,KAAKC,OAAOkB,iBAAkBE,GACtCP,EAAIG,cAAe,UAAWC,QAC/B,EAEDK,qBAAwBF,IACvB,MAAM,QAAEV,EAAO,MAAEE,EAAK,IAAEC,GAAQO,EAO7BP,EAAIU,SAAUX,EAAMY,gBACtBZ,EAAMa,SAAW5B,OAAO6B,SAASC,eAEjCjB,EAAQX,KAAKC,OAAOkB,iBAAkBE,EACvC,M","sources":["webpack://wp/./packages/block-library/build-module/search/@wordpress/block-library/src/search/view.js","webpack://wp/external window [\"wp\",\"interactivity\"]"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { store as wpStore } from '@wordpress/interactivity';\n\nwpStore( {\n\tselectors: {\n\t\tcore: {\n\t\t\tsearch: {\n\t\t\t\tariaLabel: ( { context } ) => {\n\t\t\t\t\tconst { ariaLabelCollapsed, ariaLabelExpanded } =\n\t\t\t\t\t\tcontext.core.search;\n\t\t\t\t\treturn context.core.search.isSearchInputVisible\n\t\t\t\t\t\t? ariaLabelExpanded\n\t\t\t\t\t\t: ariaLabelCollapsed;\n\t\t\t\t},\n\t\t\t\tariaControls: ( { context } ) => {\n\t\t\t\t\treturn context.core.search.isSearchInputVisible\n\t\t\t\t\t\t? null\n\t\t\t\t\t\t: context.core.search.inputId;\n\t\t\t\t},\n\t\t\t\ttype: ( { context } ) => {\n\t\t\t\t\treturn context.core.search.isSearchInputVisible\n\t\t\t\t\t\t? 'submit'\n\t\t\t\t\t\t: 'button';\n\t\t\t\t},\n\t\t\t\ttabindex: ( { context } ) => {\n\t\t\t\t\treturn context.core.search.isSearchInputVisible\n\t\t\t\t\t\t? '0'\n\t\t\t\t\t\t: '-1';\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\tactions: {\n\t\tcore: {\n\t\t\tsearch: {\n\t\t\t\topenSearchInput: ( { context, event, ref } ) => {\n\t\t\t\t\tif ( ! context.core.search.isSearchInputVisible ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tcontext.core.search.isSearchInputVisible = true;\n\t\t\t\t\t\tref.parentElement.querySelector( 'input' ).focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcloseSearchInput: ( { context } ) => {\n\t\t\t\t\tcontext.core.search.isSearchInputVisible = false;\n\t\t\t\t},\n\t\t\t\thandleSearchKeydown: ( store ) => {\n\t\t\t\t\tconst { actions, event, ref } = store;\n\t\t\t\t\t// If Escape close the menu.\n\t\t\t\t\tif ( event?.key === 'Escape' ) {\n\t\t\t\t\t\tactions.core.search.closeSearchInput( store );\n\t\t\t\t\t\tref.querySelector( 'button' ).focus();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\thandleSearchFocusout: ( store ) => {\n\t\t\t\t\tconst { actions, event, ref } = store;\n\t\t\t\t\t// If focus is outside search form, and in the document, close menu\n\t\t\t\t\t// event.target === The element losing focus\n\t\t\t\t\t// event.relatedTarget === The element receiving focus (if any)\n\t\t\t\t\t// When focusout is outside the document,\n\t\t\t\t\t// `window.document.activeElement` doesn't change.\n\t\t\t\t\tif (\n\t\t\t\t\t\t! ref.contains( event.relatedTarget ) &&\n\t\t\t\t\t\tevent.target !== window.document.activeElement\n\t\t\t\t\t) {\n\t\t\t\t\t\tactions.core.search.closeSearchInput( store );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n} );\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"interactivity\"];"],"names":["wpStore","window","selectors","core","search","ariaLabel","context","ariaLabelCollapsed","ariaLabelExpanded","isSearchInputVisible","ariaControls","inputId","type","tabindex","actions","openSearchInput","event","ref","preventDefault","parentElement","querySelector","focus","closeSearchInput","handleSearchKeydown","store","key","handleSearchFocusout","contains","relatedTarget","target","document","activeElement"],"sourceRoot":""}