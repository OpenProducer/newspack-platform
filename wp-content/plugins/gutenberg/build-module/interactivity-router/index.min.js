import*as t from"@wordpress/interactivity";var e={317:t=>{t.exports=import("@wordpress/a11y")}},o={};function i(t){var n=o[t];if(void 0!==n)return n.exports;var a=o[t]={exports:{}};return e[t](a,a.exports,i),a.exports}i.d=(t,e)=>{for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var n={};i.d(n,{o:()=>D,w:()=>A});const a=(y={getConfig:()=>t.getConfig,privateApis:()=>t.privateApis,store:()=>t.store},x={},i.d(x,y),x),{directivePrefix:r,getRegionRootFragment:s,initialVdom:d,toVdom:l,render:c,parseServerData:g,populateServerData:w,batch:p}=(0,a.privateApis)("I acknowledge that using private APIs means my theme or plugin will inevitably break in the next version of WordPress."),h=new Map,u=t=>{const e=new URL(t,window.location.href);return e.pathname+e.search},m=async(t,{vdom:e}={})=>{const o={body:void 0};{const i=`data-${r}-router-region`;t.querySelectorAll(`[${i}]`).forEach((t=>{const n=t.getAttribute(i);o[n]=e?.has(t)?e.get(t):l(t)}))}const i=t.querySelector("title")?.innerText,n=g(t);return{regions:o,title:i,initialData:n}},v=async t=>{{const e=`data-${r}-router-region`;p((()=>{w(t.initialData),document.querySelectorAll(`[${e}]`).forEach((o=>{const i=o.getAttribute(e),n=s(o);c(t.regions[i],n)}))}))}t.title&&(document.title=t.title)},f=t=>(window.location.assign(t),new Promise((()=>{})));var y,x;window.addEventListener("popstate",(async()=>{const t=u(window.location.href),e=h.has(t)&&await h.get(t);e?(await v(e),A.url=window.location.href):window.location.reload()})),h.set(u(window.location.href),Promise.resolve(m(document,{vdom:d})));let b="",S=!1;const P={loading:"Loading page, please wait.",loaded:"Page Loaded."},{state:A,actions:D}=(0,a.store)("core/router",{state:{url:window.location.href,navigation:{hasStarted:!1,hasFinished:!1}},actions:{*navigate(t,e={}){const{clientNavigationDisabled:o}=(0,a.getConfig)();o&&(yield f(t));const i=u(t),{navigation:n}=A,{loadingAnimation:r=!0,screenReaderAnnouncement:s=!0,timeout:d=1e4}=e;b=t,D.prefetch(i,e);const l=new Promise((t=>setTimeout(t,d))),c=setTimeout((()=>{b===t&&(r&&(n.hasStarted=!0,n.hasFinished=!1),s&&C("loading"))}),400),g=yield Promise.race([h.get(i),l]);if(clearTimeout(c),b===t)if(g&&!g.initialData?.config?.["core/router"]?.clientNavigationDisabled){yield v(g),window.history[e.replace?"replaceState":"pushState"]({},"",t),A.url=t,r&&(n.hasStarted=!1,n.hasFinished=!0),s&&C("loaded");const{hash:o}=new URL(t,window.location.href);o&&document.querySelector(o)?.scrollIntoView()}else yield f(t)},prefetch(t,e={}){const{clientNavigationDisabled:o}=(0,a.getConfig)();if(o)return;const i=u(t);!e.force&&h.has(i)||h.set(i,(async(t,{html:e})=>{try{if(!e){const o=await window.fetch(t);if(200!==o.status)return!1;e=await o.text()}const o=(new window.DOMParser).parseFromString(e,"text/html");return m(o)}catch(t){return!1}})(i,{html:e.html}))}}});function C(t){if(!S){S=!0;const t=document.getElementById("wp-script-module-data-@wordpress/interactivity-router")?.textContent;if(t)try{const e=JSON.parse(t);"string"==typeof e?.i18n?.loading&&(P.loading=e.i18n.loading),"string"==typeof e?.i18n?.loaded&&(P.loaded=e.i18n.loaded)}catch{}else A.navigation.texts?.loading&&(P.loading=A.navigation.texts.loading),A.navigation.texts?.loaded&&(P.loaded=A.navigation.texts.loaded)}const e=P[t];Promise.resolve().then(i.bind(i,317)).then((({speak:t})=>t(e)),(()=>{}))}var F=n.o,L=n.w;export{F as actions,L as state};
//# sourceMappingURL=index.min.js.map