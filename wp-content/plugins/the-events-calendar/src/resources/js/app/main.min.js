/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

var tribe="object"==typeof tribe?tribe:{};tribe.events=function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={0:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="";var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return deferredModules.push(["YhH6",1]),checkDeferredModules()}({"+Qsg":function(module,exports){module.exports=lodash.isFunction},"/iaF":function(module,exports){module.exports=lodash.isNaN},"0gER":function(module,exports,__webpack_require__){},"1ZqX":function(module,exports){module.exports=wp.data},"2Iw8":function(module,exports){module.exports=tribe.common.data.forms},"2TDg":function(module,exports){module.exports=lodash.omit},"3Jbq":function(module,exports){module.exports=tribe.common.utils.time},"4Qn9":function(module,exports){module.exports=lodash.isEmpty},"6DBo":function(module,exports,__webpack_require__){},"6ILJ":function(module,exports){module.exports=lodash.unescape},"6OzC":function(module,exports){module.exports=lodash.find},"6Ugf":function(module,exports){module.exports=tribe.common.elements},"7jnD":function(module,exports,__webpack_require__){},"8czI":function(module,exports,__webpack_require__){},"8w14":function(module,exports,__webpack_require__){},B8vQ:function(module,exports){module.exports=tribe.common.utils},"E/Ph":function(module,exports,__webpack_require__){},E919:function(module,exports,__webpack_require__){},GE2E:function(module,exports){module.exports=tribe.common.icons},GRId:function(module,exports){module.exports=wp.element},HSyU:function(module,exports){module.exports=wp.blocks},In0u:function(module,exports){module.exports=lodash.noop},K2gz:function(module,exports){module.exports=tribe.modules.classnames},KPEA:function(module,exports){module.exports=lodash.pick},MWqi:function(module,exports){module.exports=tribe.modules.reselect},"N/iB":function(module,exports,__webpack_require__){},Nr4Y:function(module,exports,__webpack_require__){},ONcs:function(module,exports,__webpack_require__){},PEX6:function(module,exports,__webpack_require__){},Q9xL:function(module,exports){module.exports=tribe.common.hoc},"Rfo+":function(module,exports){module.exports=lodash.difference},RmXt:function(module,exports){module.exports=tribe.modules.reduxSaga.effects},T6p8:function(module,exports,__webpack_require__){},Ti3b:function(module,exports){module.exports=lodash.uniq},U33w:function(module,exports){module.exports=lodash.uniqueId},UIDf:function(module,exports){module.exports=lodash.values},V4E3:function(module,exports,__webpack_require__){},XNrZ:function(module,exports){module.exports=lodash.trim},YhH6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"blocks",(function(){return modules_blocks_namespaceObject})),__webpack_require__.d(__webpack_exports__,"data",(function(){return data_namespaceObject})),__webpack_require__.d(__webpack_exports__,"editor",(function(){return editor_namespaceObject})),__webpack_require__.d(__webpack_exports__,"elements",(function(){return elements_namespaceObject})),__webpack_require__.d(__webpack_exports__,"hoc",(function(){return hoc_namespaceObject})),__webpack_require__.d(__webpack_exports__,"icons",(function(){return icons_namespaceObject}));var types_namespaceObject={};__webpack_require__.r(types_namespaceObject),__webpack_require__.d(types_namespaceObject,"SET_START_DATE_TIME",(function(){return SET_START_DATE_TIME})),__webpack_require__.d(types_namespaceObject,"SET_END_DATE_TIME",(function(){return SET_END_DATE_TIME})),__webpack_require__.d(types_namespaceObject,"SET_START_TIME",(function(){return SET_START_TIME})),__webpack_require__.d(types_namespaceObject,"SET_END_TIME",(function(){return SET_END_TIME})),__webpack_require__.d(types_namespaceObject,"SET_DATE_RANGE",(function(){return SET_DATE_RANGE})),__webpack_require__.d(types_namespaceObject,"SET_START_TIME_INPUT",(function(){return SET_START_TIME_INPUT})),__webpack_require__.d(types_namespaceObject,"SET_END_TIME_INPUT",(function(){return SET_END_TIME_INPUT})),__webpack_require__.d(types_namespaceObject,"SET_NATURAL_LANGUAGE_LABEL",(function(){return SET_NATURAL_LANGUAGE_LABEL})),__webpack_require__.d(types_namespaceObject,"SET_MULTI_DAY",(function(){return SET_MULTI_DAY})),__webpack_require__.d(types_namespaceObject,"SET_ALL_DAY",(function(){return SET_ALL_DAY})),__webpack_require__.d(types_namespaceObject,"SET_SEPARATOR_DATE",(function(){return SET_SEPARATOR_DATE})),__webpack_require__.d(types_namespaceObject,"SET_SEPARATOR_TIME",(function(){return SET_SEPARATOR_TIME})),__webpack_require__.d(types_namespaceObject,"SET_TIME_ZONE",(function(){return SET_TIME_ZONE})),__webpack_require__.d(types_namespaceObject,"SET_TIMEZONE_VISIBILITY",(function(){return SET_TIMEZONE_VISIBILITY})),__webpack_require__.d(types_namespaceObject,"SET_TIMEZONE_LABEL",(function(){return SET_TIMEZONE_LABEL})),__webpack_require__.d(types_namespaceObject,"SET_DATE_INPUT_VISIBILITY",(function(){return SET_DATE_INPUT_VISIBILITY})),__webpack_require__.d(types_namespaceObject,"SET_DATETIME_BLOCK_EDITABLE_STATE",(function(){return SET_DATETIME_BLOCK_EDITABLE_STATE}));var reducer_namespaceObject={};__webpack_require__.r(reducer_namespaceObject),__webpack_require__.d(reducer_namespaceObject,"defaultStartMoment",(function(){return defaultStartMoment})),__webpack_require__.d(reducer_namespaceObject,"defaultEndMoment",(function(){return defaultEndMoment})),__webpack_require__.d(reducer_namespaceObject,"DEFAULT_STATE",(function(){return DEFAULT_STATE})),__webpack_require__.d(reducer_namespaceObject,"defaultStateToMetaMap",(function(){return defaultStateToMetaMap})),__webpack_require__.d(reducer_namespaceObject,"setInitialState",(function(){return setInitialState})),__webpack_require__.d(reducer_namespaceObject,"default",(function(){return reducer}));var actions_namespaceObject={};__webpack_require__.r(actions_namespaceObject),__webpack_require__.d(actions_namespaceObject,"setNaturalLanguageLabel",(function(){return setNaturalLanguageLabel})),__webpack_require__.d(actions_namespaceObject,"setDateRange",(function(){return setDateRange})),__webpack_require__.d(actions_namespaceObject,"setStartDateTime",(function(){return setStartDateTime})),__webpack_require__.d(actions_namespaceObject,"setEndDateTime",(function(){return setEndDateTime})),__webpack_require__.d(actions_namespaceObject,"setStartTime",(function(){return setStartTime})),__webpack_require__.d(actions_namespaceObject,"setEndTime",(function(){return setEndTime})),__webpack_require__.d(actions_namespaceObject,"setStartTimeInput",(function(){return setStartTimeInput})),__webpack_require__.d(actions_namespaceObject,"setEndTimeInput",(function(){return setEndTimeInput})),__webpack_require__.d(actions_namespaceObject,"setSeparatorDate",(function(){return actions_setSeparatorDate})),__webpack_require__.d(actions_namespaceObject,"setSeparatorTime",(function(){return actions_setSeparatorTime})),__webpack_require__.d(actions_namespaceObject,"setAllDay",(function(){return actions_setAllDay})),__webpack_require__.d(actions_namespaceObject,"setMultiDay",(function(){return setMultiDay})),__webpack_require__.d(actions_namespaceObject,"setTimeZone",(function(){return actions_setTimeZone})),__webpack_require__.d(actions_namespaceObject,"setTimeZoneVisibility",(function(){return setTimeZoneVisibility})),__webpack_require__.d(actions_namespaceObject,"allowEdits",(function(){return allowEdits})),__webpack_require__.d(actions_namespaceObject,"disableEdits",(function(){return disableEdits}));var selectors_namespaceObject={};__webpack_require__.r(selectors_namespaceObject),__webpack_require__.d(selectors_namespaceObject,"datetimeSelector",(function(){return datetimeSelector})),__webpack_require__.d(selectors_namespaceObject,"getStart",(function(){return getStart})),__webpack_require__.d(selectors_namespaceObject,"getEnd",(function(){return getEnd})),__webpack_require__.d(selectors_namespaceObject,"getStartTimeInput",(function(){return getStartTimeInput})),__webpack_require__.d(selectors_namespaceObject,"getEndTimeInput",(function(){return getEndTimeInput})),__webpack_require__.d(selectors_namespaceObject,"getAllDay",(function(){return getAllDay})),__webpack_require__.d(selectors_namespaceObject,"getMultiDay",(function(){return getMultiDay})),__webpack_require__.d(selectors_namespaceObject,"getDateSeparator",(function(){return getDateSeparator})),__webpack_require__.d(selectors_namespaceObject,"getTimeSeparator",(function(){return getTimeSeparator})),__webpack_require__.d(selectors_namespaceObject,"getTimeZone",(function(){return getTimeZone})),__webpack_require__.d(selectors_namespaceObject,"getTimeZoneVisibility",(function(){return getTimeZoneVisibility})),__webpack_require__.d(selectors_namespaceObject,"getNaturalLanguageLabel",(function(){return getNaturalLanguageLabel})),__webpack_require__.d(selectors_namespaceObject,"isEditable",(function(){return selectors_isEditable})),__webpack_require__.d(selectors_namespaceObject,"getSameStartEnd",(function(){return getSameStartEnd}));var datetime_namespaceObject={};__webpack_require__.r(datetime_namespaceObject),__webpack_require__.d(datetime_namespaceObject,"default",(function(){return datetime})),__webpack_require__.d(datetime_namespaceObject,"reducer",(function(){return reducer_namespaceObject})),__webpack_require__.d(datetime_namespaceObject,"types",(function(){return types_namespaceObject})),__webpack_require__.d(datetime_namespaceObject,"actions",(function(){return actions_namespaceObject})),__webpack_require__.d(datetime_namespaceObject,"selectors",(function(){return selectors_namespaceObject})),__webpack_require__.d(datetime_namespaceObject,"sagas",(function(){return watchers}));var price_reducer_namespaceObject={};__webpack_require__.r(price_reducer_namespaceObject),__webpack_require__.d(price_reducer_namespaceObject,"DEFAULT_STATE",(function(){return reducer_DEFAULT_STATE})),__webpack_require__.d(price_reducer_namespaceObject,"defaultStateToMetaMap",(function(){return reducer_defaultStateToMetaMap})),__webpack_require__.d(price_reducer_namespaceObject,"setInitialState",(function(){return reducer_setInitialState})),__webpack_require__.d(price_reducer_namespaceObject,"default",(function(){return price_reducer}));var price_selectors_namespaceObject={};__webpack_require__.r(price_selectors_namespaceObject),__webpack_require__.d(price_selectors_namespaceObject,"getPriceBlock",(function(){return getPriceBlock})),__webpack_require__.d(price_selectors_namespaceObject,"getPrice",(function(){return getPrice})),__webpack_require__.d(price_selectors_namespaceObject,"getSymbol",(function(){return getSymbol})),__webpack_require__.d(price_selectors_namespaceObject,"getPosition",(function(){return getPosition})),__webpack_require__.d(price_selectors_namespaceObject,"getCode",(function(){return getCode}));var price_actions_namespaceObject={};__webpack_require__.r(price_actions_namespaceObject),__webpack_require__.d(price_actions_namespaceObject,"setCost",(function(){return actions_setCost})),__webpack_require__.d(price_actions_namespaceObject,"setPosition",(function(){return setPosition})),__webpack_require__.d(price_actions_namespaceObject,"setSymbol",(function(){return actions_setSymbol})),__webpack_require__.d(price_actions_namespaceObject,"setCode",(function(){return actions_setCode}));var price_utils_namespaceObject={};__webpack_require__.r(price_utils_namespaceObject),__webpack_require__.d(price_utils_namespaceObject,"getPosition",(function(){return utils_getPosition}));var website_reducer_namespaceObject={};__webpack_require__.r(website_reducer_namespaceObject),__webpack_require__.d(website_reducer_namespaceObject,"DEFAULT_STATE",(function(){return website_reducer_DEFAULT_STATE})),__webpack_require__.d(website_reducer_namespaceObject,"defaultStateToMetaMap",(function(){return website_reducer_defaultStateToMetaMap})),__webpack_require__.d(website_reducer_namespaceObject,"setInitialState",(function(){return website_reducer_setInitialState})),__webpack_require__.d(website_reducer_namespaceObject,"default",(function(){return website_reducer}));var website_selectors_namespaceObject={};__webpack_require__.r(website_selectors_namespaceObject),__webpack_require__.d(website_selectors_namespaceObject,"getWebsiteBlock",(function(){return getWebsiteBlock})),__webpack_require__.d(website_selectors_namespaceObject,"getUrl",(function(){return getUrl}));var website_actions_namespaceObject={};__webpack_require__.r(website_actions_namespaceObject),__webpack_require__.d(website_actions_namespaceObject,"setWebsite",(function(){return actions_setWebsite}));var organizers_types_namespaceObject={};__webpack_require__.r(organizers_types_namespaceObject),__webpack_require__.d(organizers_types_namespaceObject,"ADD_CLASSIC_ORGANIZERS",(function(){return ADD_CLASSIC_ORGANIZERS})),__webpack_require__.d(organizers_types_namespaceObject,"REMOVE_CLASSIC_ORGANIZERS",(function(){return REMOVE_CLASSIC_ORGANIZERS})),__webpack_require__.d(organizers_types_namespaceObject,"ADD_BLOCK_ORGANIZER",(function(){return ADD_BLOCK_ORGANIZER})),__webpack_require__.d(organizers_types_namespaceObject,"REMOVE_BLOCK_ORGANIZER",(function(){return REMOVE_BLOCK_ORGANIZER}));var organizers_reducer_namespaceObject={};__webpack_require__.r(organizers_reducer_namespaceObject),__webpack_require__.d(organizers_reducer_namespaceObject,"setInitialState",(function(){return organizers_reducer_setInitialState})),__webpack_require__.d(organizers_reducer_namespaceObject,"default",(function(){return organizers_reducer}));var organizers_actions_namespaceObject={};__webpack_require__.r(organizers_actions_namespaceObject),__webpack_require__.d(organizers_actions_namespaceObject,"removeOrganizerInClassic",(function(){return removeOrganizerInClassic})),__webpack_require__.d(organizers_actions_namespaceObject,"addOrganizerInClassic",(function(){return addOrganizerInClassic})),__webpack_require__.d(organizers_actions_namespaceObject,"addOrganizerInBlock",(function(){return addOrganizerInBlock})),__webpack_require__.d(organizers_actions_namespaceObject,"removeOrganizerInBlock",(function(){return removeOrganizerInBlock}));var organizers_selectors_namespaceObject={};__webpack_require__.r(organizers_selectors_namespaceObject),__webpack_require__.d(organizers_selectors_namespaceObject,"getOrganizersInClassic",(function(){return getOrganizersInClassic})),__webpack_require__.d(organizers_selectors_namespaceObject,"getOrganizerByClientId",(function(){return getOrganizerByClientId})),__webpack_require__.d(organizers_selectors_namespaceObject,"getOrganizersInBlock",(function(){return getOrganizersInBlock})),__webpack_require__.d(organizers_selectors_namespaceObject,"getMappedOrganizers",(function(){return getMappedOrganizers}));var details_types_namespaceObject={};__webpack_require__.r(details_types_namespaceObject),__webpack_require__.d(details_types_namespaceObject,"SET_DETAILS",(function(){return SET_DETAILS})),__webpack_require__.d(details_types_namespaceObject,"SET_DETAILS_POST_TYPE",(function(){return SET_DETAILS_POST_TYPE})),__webpack_require__.d(details_types_namespaceObject,"SET_DETAILS_IS_LOADING",(function(){return SET_DETAILS_IS_LOADING}));var details_actions_namespaceObject={};__webpack_require__.r(details_actions_namespaceObject),__webpack_require__.d(details_actions_namespaceObject,"enableDetailsIsLoading",(function(){return enableDetailsIsLoading})),__webpack_require__.d(details_actions_namespaceObject,"disableDetailsIsLoading",(function(){return disableDetailsIsLoading})),__webpack_require__.d(details_actions_namespaceObject,"setDetails",(function(){return setDetails})),__webpack_require__.d(details_actions_namespaceObject,"setDetailsPostType",(function(){return actions_setDetailsPostType}));var details_selectors_namespaceObject={};__webpack_require__.r(details_selectors_namespaceObject),__webpack_require__.d(details_selectors_namespaceObject,"blockSelector",(function(){return blockSelector})),__webpack_require__.d(details_selectors_namespaceObject,"getPostType",(function(){return getPostType})),__webpack_require__.d(details_selectors_namespaceObject,"getIsLoading",(function(){return getIsLoading})),__webpack_require__.d(details_selectors_namespaceObject,"getDetails",(function(){return getDetails})),__webpack_require__.d(details_selectors_namespaceObject,"getVolatile",(function(){return getVolatile}));var thunks_namespaceObject={};__webpack_require__.r(thunks_namespaceObject),__webpack_require__.d(thunks_namespaceObject,"fetchDetails",(function(){return thunks_fetchDetails}));var venue_utils_namespaceObject={};__webpack_require__.r(venue_utils_namespaceObject),__webpack_require__.d(venue_utils_namespaceObject,"getAddress",(function(){return getAddress})),__webpack_require__.d(venue_utils_namespaceObject,"getCoordinates",(function(){return getCoordinates})),__webpack_require__.d(venue_utils_namespaceObject,"setDefault",(function(){return setDefault})),__webpack_require__.d(venue_utils_namespaceObject,"getVenueCountry",(function(){return getVenueCountry})),__webpack_require__.d(venue_utils_namespaceObject,"getVenueStateProvince",(function(){return getVenueStateProvince}));var search_types_namespaceObject={};__webpack_require__.r(search_types_namespaceObject),__webpack_require__.d(search_types_namespaceObject,"ADD_BLOCK",(function(){return ADD_BLOCK})),__webpack_require__.d(search_types_namespaceObject,"SET_TERM",(function(){return SET_TERM})),__webpack_require__.d(search_types_namespaceObject,"SET_SEARCH_POST_TYPE",(function(){return SET_SEARCH_POST_TYPE})),__webpack_require__.d(search_types_namespaceObject,"SEARCH",(function(){return SEARCH})),__webpack_require__.d(search_types_namespaceObject,"SET_SEARCH_IS_LOADING",(function(){return SET_SEARCH_IS_LOADING})),__webpack_require__.d(search_types_namespaceObject,"SET_RESULTS",(function(){return SET_RESULTS})),__webpack_require__.d(search_types_namespaceObject,"ADD_RESULTS",(function(){return ADD_RESULTS})),__webpack_require__.d(search_types_namespaceObject,"SET_PAGE",(function(){return SET_PAGE})),__webpack_require__.d(search_types_namespaceObject,"SET_TOTAL_PAGES",(function(){return SET_TOTAL_PAGES})),__webpack_require__.d(search_types_namespaceObject,"CLEAR_BLOCK",(function(){return CLEAR_BLOCK}));var search_actions_namespaceObject={};__webpack_require__.r(search_actions_namespaceObject),__webpack_require__.d(search_actions_namespaceObject,"addBlock",(function(){return addBlock})),__webpack_require__.d(search_actions_namespaceObject,"setTerm",(function(){return setTerm})),__webpack_require__.d(search_actions_namespaceObject,"setSearchPostType",(function(){return setSearchPostType})),__webpack_require__.d(search_actions_namespaceObject,"setResults",(function(){return setResults})),__webpack_require__.d(search_actions_namespaceObject,"addResults",(function(){return addResults})),__webpack_require__.d(search_actions_namespaceObject,"setTotalPages",(function(){return setTotalPages})),__webpack_require__.d(search_actions_namespaceObject,"setPage",(function(){return setPage})),__webpack_require__.d(search_actions_namespaceObject,"enableSearchIsLoading",(function(){return enableSearchIsLoading})),__webpack_require__.d(search_actions_namespaceObject,"disableSearchIsLoading",(function(){return disableSearchIsLoading})),__webpack_require__.d(search_actions_namespaceObject,"clearBlock",(function(){return clearBlock}));var search_selectors_namespaceObject={};__webpack_require__.r(search_selectors_namespaceObject),__webpack_require__.d(search_selectors_namespaceObject,"blockSelector",(function(){return selectors_blockSelector})),__webpack_require__.d(search_selectors_namespaceObject,"getSearchPostType",(function(){return getSearchPostType})),__webpack_require__.d(search_selectors_namespaceObject,"getSearchTerm",(function(){return getSearchTerm})),__webpack_require__.d(search_selectors_namespaceObject,"getIsLoading",(function(){return selectors_getIsLoading})),__webpack_require__.d(search_selectors_namespaceObject,"getResults",(function(){return getResults})),__webpack_require__.d(search_selectors_namespaceObject,"getPage",(function(){return getPage})),__webpack_require__.d(search_selectors_namespaceObject,"getTotal",(function(){return getTotal}));var search_thunks_namespaceObject={};__webpack_require__.r(search_thunks_namespaceObject),__webpack_require__.d(search_thunks_namespaceObject,"search",(function(){return thunks_search}));var elements_namespaceObject={};__webpack_require__.r(elements_namespaceObject),__webpack_require__.d(elements_namespaceObject,"Input",(function(){return elements_input})),__webpack_require__.d(elements_namespaceObject,"TermsList",(function(){return terms_list})),__webpack_require__.d(elements_namespaceObject,"OrganizerForm",(function(){return organizer_form})),__webpack_require__.d(elements_namespaceObject,"VenueForm",(function(){return venue_form})),__webpack_require__.d(elements_namespaceObject,"toFields",(function(){return toFields})),__webpack_require__.d(elements_namespaceObject,"toVenue",(function(){return toVenue})),__webpack_require__.d(elements_namespaceObject,"MetaGroup",(function(){return meta_group})),__webpack_require__.d(elements_namespaceObject,"SearchPosts",(function(){return search_posts})),__webpack_require__.d(elements_namespaceObject,"GoogleMap",(function(){return google_map})),__webpack_require__.d(elements_namespaceObject,"Dashboard",(function(){return dashboard})),__webpack_require__.d(elements_namespaceObject,"Month",(function(){return elements_month})),__webpack_require__.d(elements_namespaceObject,"SearchOrCreate",(function(){return search_or_create})),__webpack_require__.d(elements_namespaceObject,"Loading",(function(){return loading})),__webpack_require__.d(elements_namespaceObject,"YearMonthForm",(function(){return year_month_form})),__webpack_require__.d(elements_namespaceObject,"Upsell",(function(){return upsell})),__webpack_require__.d(elements_namespaceObject,"TimeZone",(function(){return timezone})),__webpack_require__.d(elements_namespaceObject,"EditLink",(function(){return edit_link}));var hoc_namespaceObject={};__webpack_require__.r(hoc_namespaceObject),__webpack_require__.d(hoc_namespaceObject,"withDetails",(function(){return with_details}));var icons_namespaceObject={};__webpack_require__.r(icons_namespaceObject),__webpack_require__.d(icons_namespaceObject,"Categories",(function(){return categories})),__webpack_require__.d(icons_namespaceObject,"CaretDown",(function(){return caret_down})),__webpack_require__.d(icons_namespaceObject,"CheckboxOn",(function(){return checkbox_on})),__webpack_require__.d(icons_namespaceObject,"CheckboxOff",(function(){return checkbox_off})),__webpack_require__.d(icons_namespaceObject,"Classic",(function(){return icons_classic})),__webpack_require__.d(icons_namespaceObject,"DateTime",(function(){return date_time})),__webpack_require__.d(icons_namespaceObject,"FeaturedImage",(function(){return featured_image})),__webpack_require__.d(icons_namespaceObject,"Link",(function(){return icons_link})),__webpack_require__.d(icons_namespaceObject,"Organizer",(function(){return icons_organizer})),__webpack_require__.d(icons_namespaceObject,"Price",(function(){return icons_price})),__webpack_require__.d(icons_namespaceObject,"Tags",(function(){return tags})),__webpack_require__.d(icons_namespaceObject,"Sharing",(function(){return sharing})),__webpack_require__.d(icons_namespaceObject,"Venue",(function(){return icons_venue})),__webpack_require__.d(icons_namespaceObject,"Website",(function(){return icons_website})),__webpack_require__.d(icons_namespaceObject,"EventsList",(function(){return events_list}));var venue_selectors_namespaceObject={};__webpack_require__.r(venue_selectors_namespaceObject),__webpack_require__.d(venue_selectors_namespaceObject,"getMapEmbed",(function(){return getMapEmbed})),__webpack_require__.d(venue_selectors_namespaceObject,"venueBlockSelector",(function(){return venueBlockSelector})),__webpack_require__.d(venue_selectors_namespaceObject,"getVenueByClientId",(function(){return getVenueByClientId})),__webpack_require__.d(venue_selectors_namespaceObject,"getVenuesById",(function(){return getVenuesById})),__webpack_require__.d(venue_selectors_namespaceObject,"getVenuesInBlock",(function(){return getVenuesInBlock})),__webpack_require__.d(venue_selectors_namespaceObject,"getshowMapLink",(function(){return getshowMapLink})),__webpack_require__.d(venue_selectors_namespaceObject,"getshowMap",(function(){return getshowMap}));var venue_actions_namespaceObject={};__webpack_require__.r(venue_actions_namespaceObject),__webpack_require__.d(venue_actions_namespaceObject,"setVenue",(function(){return setVenue})),__webpack_require__.d(venue_actions_namespaceObject,"removeVenue",(function(){return removeVenue})),__webpack_require__.d(venue_actions_namespaceObject,"addVenueInBlock",(function(){return addVenueInBlock})),__webpack_require__.d(venue_actions_namespaceObject,"removeVenueInBlock",(function(){return removeVenueInBlock})),__webpack_require__.d(venue_actions_namespaceObject,"setShowMap",(function(){return setShowMap})),__webpack_require__.d(venue_actions_namespaceObject,"setShowMapLink",(function(){return setShowMapLink}));var data_blocks_namespaceObject={};__webpack_require__.r(data_blocks_namespaceObject),__webpack_require__.d(data_blocks_namespaceObject,"datetime",(function(){return datetime_namespaceObject})),__webpack_require__.d(data_blocks_namespaceObject,"subscribe",(function(){return blocks_subscribers})),__webpack_require__.d(data_blocks_namespaceObject,"default",(function(){return blocks_reducer})),__webpack_require__.d(data_blocks_namespaceObject,"setInitialState",(function(){return blocks_reducer_setInitialState}));var data_namespaceObject={};__webpack_require__.r(data_namespaceObject),__webpack_require__.d(data_namespaceObject,"initStore",(function(){return initStore})),__webpack_require__.d(data_namespaceObject,"getStore",(function(){return getStore})),__webpack_require__.d(data_namespaceObject,"blocks",(function(){return data_blocks_namespaceObject}));var modules_blocks_namespaceObject={};__webpack_require__.r(modules_blocks_namespaceObject),__webpack_require__.d(modules_blocks_namespaceObject,"controls",(function(){return controls})),__webpack_require__.d(modules_blocks_namespaceObject,"default",(function(){return modules_blocks}));var editor_namespaceObject={};__webpack_require__.r(editor_namespaceObject),__webpack_require__.d(editor_namespaceObject,"getCountries",(function(){return getCountries})),__webpack_require__.d(editor_namespaceObject,"getCountryCode",(function(){return getCountryCode})),__webpack_require__.d(editor_namespaceObject,"getStateCode",(function(){return getStateCode})),__webpack_require__.d(editor_namespaceObject,"getStateName",(function(){return getStateName})),__webpack_require__.d(editor_namespaceObject,"getStates",(function(){return getStates})),__webpack_require__.d(editor_namespaceObject,"addressToMapString",(function(){return addressToMapString})),__webpack_require__.d(editor_namespaceObject,"mapLink",(function(){return mapLink}));var external_wp_blocks_=__webpack_require__("HSyU"),external_React_=__webpack_require__("cDcd"),external_React_default=__webpack_require__.n(external_React_),external_wp_i18n_=__webpack_require__("l3Sj"),external_tribe_modules_reactRedux_=__webpack_require__("h74D"),external_tribe_modules_redux_=__webpack_require__("rKB8"),external_tribe_common_utils_=__webpack_require__("B8vQ"),defineProperty=__webpack_require__("lSNA"),defineProperty_default=__webpack_require__.n(defineProperty),external_moment_=__webpack_require__("wy2R"),external_moment_default=__webpack_require__.n(external_moment_),external_tribe_common_utils_globals_=__webpack_require__("kczL"),external_tribe_common_utils_date_=__webpack_require__("tbMi"),external_tribe_common_utils_moment_=__webpack_require__("zCYh"),external_tribe_common_utils_time_=__webpack_require__("3Jbq"),external_lodash_isUndefined_=(__webpack_require__("/iaF"),__webpack_require__("peom")),external_lodash_isUndefined_default=__webpack_require__.n(external_lodash_isUndefined_);const SET_START_DATE_TIME="@@MT/EVENTS/SET_START_DATE_TIME",SET_END_DATE_TIME="@@MT/EVENTS/SET_END_DATE_TIME",SET_START_TIME="@@MT/EVENTS/SET_START_TIME",SET_END_TIME="@@MT/EVENTS/SET_END_TIME",SET_DATE_RANGE="@@MT/EVENTS/SET_DATE_RANGE",SET_START_TIME_INPUT="@@MT/EVENTS/SET_START_TIME_INPUT",SET_END_TIME_INPUT="@@MT/EVENTS/SET_END_TIME_INPUT",SET_NATURAL_LANGUAGE_LABEL="@@MT/EVENTS/SET_NATURAL_LANGUAGE_LABEL",SET_MULTI_DAY="@@MT/EVENTS/SET_MULTI_DAY",SET_ALL_DAY="@@MT/EVENTS/SET_ALL_DAY",SET_SEPARATOR_DATE="@@MT/EVENTS/SET_SEPARATOR_DATE",SET_SEPARATOR_TIME="@@MT/EVENTS/SET_SEPARATOR_TIME",SET_TIME_ZONE="@@MT/EVENTS/SET_TIME_ZONE",SET_TIMEZONE_VISIBILITY="@@MT/EVENTS/SET_TIMEZONE_VISIBILITY",SET_TIMEZONE_LABEL="@@MT/EVENTS/SET_TIMEZONE_LABEL",SET_DATE_INPUT_VISIBILITY="@@MT/EVENTS/SET_DATE_INPUT_VISIBILITY",SET_DATETIME_BLOCK_EDITABLE_STATE="@@MT/EVENTS/SET_DATETIME_BLOCK_EDITABLE_STATE";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const{isSameDay:isSameDay,parseFormats:parseFormats,toDateTime:toDateTime,toMoment:toMoment,toTime:toTime}=external_tribe_common_utils_moment_,defaultStartTime=external_tribe_common_utils_globals_.defaultTimes().start?external_tribe_common_utils_globals_.defaultTimes().start:"08:00:00",defaultEndTime=external_tribe_common_utils_globals_.defaultTimes().end?external_tribe_common_utils_globals_.defaultTimes().end:"17:00:00",defaultStartTimeSeconds=external_tribe_common_utils_time_.toSeconds(defaultStartTime,external_tribe_common_utils_time_.TIME_FORMAT_HH_MM_SS),defaultEndTimeSeconds=external_tribe_common_utils_time_.toSeconds(defaultEndTime,external_tribe_common_utils_time_.TIME_FORMAT_HH_MM_SS),queryStartDate=external_tribe_common_utils_globals_.postObjects().tribe_events.tribe_start_date,defaultStartMoment=queryStartDate?external_moment_default()(queryStartDate).seconds(defaultStartTimeSeconds):external_moment_default()().startOf("day").seconds(defaultStartTimeSeconds),defaultEndMoment=external_moment_default()().startOf("day").seconds(defaultEndTimeSeconds),defaultStartDateTime=toDateTime(defaultStartMoment),defaultEndDateTime=toDateTime(defaultEndMoment),DEFAULT_STATE={start:defaultStartDateTime,end:defaultEndDateTime,startTimeInput:toTime(defaultStartMoment),endTimeInput:toTime(defaultEndMoment),naturalLanguageLabel:external_tribe_common_utils_date_.rangeToNaturalLanguage(defaultStartDateTime,defaultEndDateTime),dateTimeSeparator:external_tribe_common_utils_globals_.settings().dateTimeSeparator?external_tribe_common_utils_globals_.settings().dateTimeSeparator:Object(external_wp_i18n_.__)("@","the-events-calendar"),timeRangeSeparator:external_tribe_common_utils_globals_.settings().timeRangeSeparator?external_tribe_common_utils_globals_.settings().timeRangeSeparator:Object(external_wp_i18n_.__)("-","the-events-calendar"),allDay:!1,multiDay:!1,timeZone:external_tribe_common_utils_globals_.timezone().timeZone?external_tribe_common_utils_globals_.timezone().timeZone:external_tribe_common_utils_date_.FORMATS.TIMEZONE.string,showTimeZone:!1,isEditable:!0},defaultStateToMetaMap={start:"_EventStartDate",end:"_EventEndDate",dateTimeSeparator:"_EventDateTimeSeparator",timeRangeSeparator:"_EventTimeRangeSeparator",allDay:"_EventAllDay",timeZone:"_EventTimezone"},setInitialState=data=>{const{meta:meta}=data;Object.keys(defaultStateToMetaMap).forEach((key=>{const metaKey=defaultStateToMetaMap[key];meta.hasOwnProperty(metaKey)&&(DEFAULT_STATE[key]=meta[metaKey])}));const{start:start,end:end}=DEFAULT_STATE;DEFAULT_STATE.startTimeInput=toTime(parseFormats(start)),DEFAULT_STATE.endTimeInput=toTime(parseFormats(end)),DEFAULT_STATE.naturalLanguageLabel=external_tribe_common_utils_date_.rangeToNaturalLanguage(start,end),DEFAULT_STATE.multiDay=!isSameDay(toMoment(start),toMoment(end))};var reducer=(state=DEFAULT_STATE,action)=>{switch(action.type){case SET_DATETIME_BLOCK_EDITABLE_STATE:return _objectSpread(_objectSpread({},state),{},{isEditable:action.payload.isEditable});case SET_START_DATE_TIME:return _objectSpread(_objectSpread({},state),{},{start:action.payload.start});case SET_END_DATE_TIME:return _objectSpread(_objectSpread({},state),{},{end:action.payload.end});case SET_START_TIME_INPUT:return _objectSpread(_objectSpread({},state),{},{startTimeInput:action.payload.startTimeInput});case SET_END_TIME_INPUT:return _objectSpread(_objectSpread({},state),{},{endTimeInput:action.payload.endTimeInput});case SET_NATURAL_LANGUAGE_LABEL:return _objectSpread(_objectSpread({},state),{},{naturalLanguageLabel:action.payload.label});case SET_ALL_DAY:return _objectSpread(_objectSpread({},state),{},{allDay:action.payload.allDay});case SET_MULTI_DAY:return _objectSpread(_objectSpread({},state),{},{multiDay:action.payload.multiDay});case SET_SEPARATOR_DATE:return _objectSpread(_objectSpread({},state),{},{dateTimeSeparator:action.payload.separator});case SET_SEPARATOR_TIME:return _objectSpread(_objectSpread({},state),{},{timeRangeSeparator:action.payload.separator});case SET_TIME_ZONE:return _objectSpread(_objectSpread({},state),{},{timeZone:action.payload.timeZone});case SET_TIMEZONE_VISIBILITY:return _objectSpread(_objectSpread({},state),{},{showTimeZone:action.payload.show});default:return state}};const setNaturalLanguageLabel=(label,meta={})=>({type:SET_NATURAL_LANGUAGE_LABEL,payload:{label:label},meta:meta}),setDateRange=(payload,meta={})=>({type:SET_DATE_RANGE,payload:payload,meta:meta}),setStartDateTime=(start,meta={})=>({type:SET_START_DATE_TIME,payload:{start:start},meta:meta}),setEndDateTime=(end,meta={})=>({type:SET_END_DATE_TIME,payload:{end:end},meta:meta}),setStartTime=(start,meta={})=>({type:SET_START_TIME,payload:{start:start},meta:meta}),setEndTime=(end,meta={})=>({type:SET_END_TIME,payload:{end:end},meta:meta}),setStartTimeInput=startTimeInput=>({type:SET_START_TIME_INPUT,payload:{startTimeInput:startTimeInput}}),setEndTimeInput=endTimeInput=>({type:SET_END_TIME_INPUT,payload:{endTimeInput:endTimeInput}}),actions_setSeparatorDate=separator=>({type:SET_SEPARATOR_DATE,payload:{separator:separator}}),actions_setSeparatorTime=separator=>({type:SET_SEPARATOR_TIME,payload:{separator:separator}}),actions_setAllDay=allDay=>({type:SET_ALL_DAY,payload:{allDay:allDay}}),setMultiDay=(multiDay,meta={})=>({type:SET_MULTI_DAY,payload:{multiDay:multiDay},meta:meta}),actions_setTimeZone=timeZone=>({type:SET_TIME_ZONE,payload:{timeZone:timeZone}}),setTimeZoneVisibility=show=>({type:SET_TIMEZONE_VISIBILITY,payload:{show:show}}),allowEdits=()=>({type:SET_DATETIME_BLOCK_EDITABLE_STATE,payload:{isEditable:!0}}),disableEdits=()=>({type:SET_DATETIME_BLOCK_EDITABLE_STATE,payload:{isEditable:!1}});var external_tribe_modules_reselect_=__webpack_require__("MWqi");const datetimeSelector=state=>state.events.blocks.datetime,getStart=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.start)),getEnd=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.end)),getStartTimeInput=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.startTimeInput)),getEndTimeInput=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.endTimeInput)),getAllDay=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.allDay)),getMultiDay=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.multiDay)),getDateSeparator=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.dateTimeSeparator)),getTimeSeparator=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.timeRangeSeparator)),getTimeZone=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.timeZone)),getTimeZoneVisibility=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.showTimeZone)),getNaturalLanguageLabel=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.naturalLanguageLabel)),selectors_isEditable=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.isEditable)),getSameStartEnd=Object(external_tribe_modules_reselect_.createSelector)([datetimeSelector],(datetime=>datetime.start===datetime.end));var external_tribe_modules_reduxSaga_effects_=__webpack_require__("RmXt"),external_wp_hooks_=__webpack_require__("g56x");const{HALF_HOUR_IN_SECONDS:HALF_HOUR_IN_SECONDS,DAY_IN_SECONDS:DAY_IN_SECONDS,HOUR_IN_SECONDS:HOUR_IN_SECONDS,MINUTE_IN_SECONDS:MINUTE_IN_SECONDS}=external_tribe_common_utils_.time;function*deriveMomentsFromDates(){const dates=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.select)(getStart),end:Object(external_tribe_modules_reduxSaga_effects_.select)(getEnd)});return yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toMoment,dates.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toMoment,dates.end)})}function*deriveSecondsFromDates(){const moments=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates),time=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDatabaseTime,moments.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDatabaseTime,moments.end)});return yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.time.toSeconds,time.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.time.toSeconds,time.end)})}function*setHumanReadableLabel(dates={}){const currentLabel=yield Object(external_tribe_modules_reduxSaga_effects_.select)(getNaturalLanguageLabel);if(""===currentLabel)return;const updatedLabel=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.date.rangeToNaturalLanguage,dates.start,dates.end);currentLabel!==updatedLabel&&(yield Object(external_tribe_modules_reduxSaga_effects_.put)(setNaturalLanguageLabel(updatedLabel)))}function*setHumanReadableFromDate(action){const dates={start:yield Object(external_tribe_modules_reduxSaga_effects_.select)(getStart),end:yield Object(external_tribe_modules_reduxSaga_effects_.select)(getEnd)};action.type===SET_END_DATE_TIME?dates.end=action.payload.end:dates.start=action.payload.start,yield Object(external_tribe_modules_reduxSaga_effects_.call)(setHumanReadableLabel,dates)}function*resetNaturalLanguageLabel(){const dates=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.select)(getStart),end:Object(external_tribe_modules_reduxSaga_effects_.select)(getEnd)});yield Object(external_tribe_modules_reduxSaga_effects_.call)(setHumanReadableLabel,dates)}function*onHumanReadableChange(action){const label=yield Object(external_tribe_modules_reduxSaga_effects_.select)(getNaturalLanguageLabel),{start:start,end:end}=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.date.labelToDate,label);if(null===start&&null===end)yield Object(external_tribe_modules_reduxSaga_effects_.call)(resetNaturalLanguageLabel);else{const moments=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toMoment,start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toMoment,end||start)}),result=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.adjustStart,moments.start,moments.end),isMultiDay=!(yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.isSameDay,result.start,result.end)),isAllDay=!isMultiDay&&"00:00"===moments.start.format("HH:mm")&&"23:59"===moments.end.format("HH:mm"),dates=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,result.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,result.end)});yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{start:dates.start}),Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{end:dates.end}),Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{allDay:isAllDay})]),yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.put)(setStartDateTime(dates.start)),Object(external_tribe_modules_reduxSaga_effects_.put)(setEndDateTime(dates.end)),Object(external_tribe_modules_reduxSaga_effects_.put)(setMultiDay(isMultiDay)),Object(external_tribe_modules_reduxSaga_effects_.put)(actions_setAllDay(isAllDay))])}}function*handleDateRangeChange(action){const{to:to,from:from}=action.payload,moments=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates),rangeMoments=yield Object(external_tribe_modules_reduxSaga_effects_.all)({from:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toMoment,from),to:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toMoment,to||from)});yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.replaceDate,moments.start,rangeMoments.from),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.replaceDate,moments.end,rangeMoments.to)});const result=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.adjustStart,moments.start,moments.end),dates=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,result.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,result.end)});yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{start:dates.start}),Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{end:dates.end})]),yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.put)(setStartDateTime(dates.start)),Object(external_tribe_modules_reduxSaga_effects_.put)(setEndDateTime(dates.end))])}function*preventEndTimeBeforeStartTime(action){if(yield Object(external_tribe_modules_reduxSaga_effects_.select)(getMultiDay))return;const seconds=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveSecondsFromDates);if([SET_END_TIME,SET_START_TIME].includes(action.type)&&(yield Object(external_tribe_modules_reduxSaga_effects_.call)([Object,"assign"],seconds,action.payload)),seconds.end<seconds.start){seconds.start+HALF_HOUR_IN_SECONDS>=DAY_IN_SECONDS&&(seconds.start-=HOUR_IN_SECONDS),seconds.end=seconds.start+HALF_HOUR_IN_SECONDS;const moments=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates);yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.setTimeInSeconds,moments.start,seconds.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.setTimeInSeconds,moments.end,seconds.end)});const dates=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,moments.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,moments.end)});yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{start:dates.start}),Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{end:dates.end})]),yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.put)(setStartDateTime(dates.start)),Object(external_tribe_modules_reduxSaga_effects_.put)(setEndDateTime(dates.end))])}}function*preventStartTimeAfterEndTime(action){if(yield Object(external_tribe_modules_reduxSaga_effects_.select)(getMultiDay))return;const seconds=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveSecondsFromDates);if([SET_END_TIME,SET_START_TIME].includes(action.type)&&(yield Object(external_tribe_modules_reduxSaga_effects_.call)([Object,"assign"],seconds,action.payload)),seconds.start>seconds.end){seconds.start=Math.max(seconds.end-HALF_HOUR_IN_SECONDS,0),seconds.end=Math.max(seconds.start+MINUTE_IN_SECONDS,seconds.end);const moments=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates);yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.setTimeInSeconds,moments.start,seconds.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.setTimeInSeconds,moments.end,seconds.end)});const dates=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,moments.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,moments.end)});yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{start:dates.start}),Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{end:dates.end})]),yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.put)(setStartDateTime(dates.start)),Object(external_tribe_modules_reduxSaga_effects_.put)(setEndDateTime(dates.end))])}}function*sagas_setAllDay(action){const moments=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates);yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.setTimeInSeconds,moments.start,0),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.setTimeInSeconds,moments.end,external_tribe_common_utils_.time.DAY_IN_SECONDS-1)});const dates=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,moments.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,moments.end)});yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{start:dates.start}),Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{end:dates.end}),Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{allDay:!0})]),yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.put)(setStartDateTime(dates.start)),Object(external_tribe_modules_reduxSaga_effects_.put)(setEndDateTime(dates.end)),Object(external_tribe_modules_reduxSaga_effects_.put)(actions_setAllDay(!0))])}function*handleMultiDay(action){const isMultiDay=action.payload.multiDay,{start:start,end:end}=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates);if(isMultiDay){const RANGE_DAYS=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_wp_hooks_.applyFilters,"tec.datetime.defaultRange",3);yield Object(external_tribe_modules_reduxSaga_effects_.call)([end,"add"],RANGE_DAYS,"days");const endDate=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,end);yield Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{end:endDate}),yield Object(external_tribe_modules_reduxSaga_effects_.put)(setEndDateTime(endDate))}else{const newEnd=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.replaceDate,end,start),result=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.adjustStart,start,newEnd),dates=yield Object(external_tribe_modules_reduxSaga_effects_.all)({start:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,result.start),end:Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,result.end)});yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{start:dates.start}),Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{end:dates.end})]),yield Object(external_tribe_modules_reduxSaga_effects_.all)([Object(external_tribe_modules_reduxSaga_effects_.put)(setStartDateTime(dates.start)),Object(external_tribe_modules_reduxSaga_effects_.put)(setEndDateTime(dates.end))])}}function*handleStartTimeChange(action){if("all-day"===action.payload.start)yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setAllDay,action);else{yield Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{allDay:!1}),yield Object(external_tribe_modules_reduxSaga_effects_.put)(actions_setAllDay(!1));const{start:start}=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates);yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.setTimeInSeconds,start,action.payload.start);const startDate=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,start);yield Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{start:startDate}),yield Object(external_tribe_modules_reduxSaga_effects_.put)(setStartDateTime(startDate))}}function*handleEndTimeChange(action){if("all-day"===action.payload.end)yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setAllDay,action);else{yield Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{allDay:!1}),yield Object(external_tribe_modules_reduxSaga_effects_.put)(actions_setAllDay(!1));const{end:end}=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates);yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.setTimeInSeconds,end,action.payload.end);const endDate=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toDateTime,end);yield Object(external_tribe_modules_reduxSaga_effects_.call)(action.meta.setAttributes,{end:endDate}),yield Object(external_tribe_modules_reduxSaga_effects_.put)(setEndDateTime(endDate))}}function*sagas_setStartTimeInput(){const{start:start}=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates),startInput=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toTime,start);yield Object(external_tribe_modules_reduxSaga_effects_.put)(setStartTimeInput(startInput))}function*sagas_setEndTimeInput(){const{end:end}=yield Object(external_tribe_modules_reduxSaga_effects_.call)(deriveMomentsFromDates),endInput=yield Object(external_tribe_modules_reduxSaga_effects_.call)(external_tribe_common_utils_.moment.toTime,end);yield Object(external_tribe_modules_reduxSaga_effects_.put)(setEndTimeInput(endInput))}function*handler(action){switch(action.type){case SET_DATE_RANGE:yield Object(external_tribe_modules_reduxSaga_effects_.call)(handleDateRangeChange,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(resetNaturalLanguageLabel);break;case SET_START_DATE_TIME:yield Object(external_tribe_modules_reduxSaga_effects_.call)(preventEndTimeBeforeStartTime,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(setHumanReadableFromDate,action);break;case SET_END_DATE_TIME:yield Object(external_tribe_modules_reduxSaga_effects_.call)(preventStartTimeAfterEndTime,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(setHumanReadableFromDate,action);break;case SET_START_TIME:yield Object(external_tribe_modules_reduxSaga_effects_.call)(handleStartTimeChange,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(preventEndTimeBeforeStartTime,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setStartTimeInput),yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setEndTimeInput),yield Object(external_tribe_modules_reduxSaga_effects_.call)(resetNaturalLanguageLabel);break;case SET_END_TIME:yield Object(external_tribe_modules_reduxSaga_effects_.call)(handleEndTimeChange,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(preventStartTimeAfterEndTime,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setEndTimeInput),yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setStartTimeInput),yield Object(external_tribe_modules_reduxSaga_effects_.call)(resetNaturalLanguageLabel);break;case SET_MULTI_DAY:yield Object(external_tribe_modules_reduxSaga_effects_.call)(handleMultiDay,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setStartTimeInput),yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setEndTimeInput),yield Object(external_tribe_modules_reduxSaga_effects_.call)(resetNaturalLanguageLabel);break;case SET_NATURAL_LANGUAGE_LABEL:yield Object(external_tribe_modules_reduxSaga_effects_.call)(onHumanReadableChange,action),yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setStartTimeInput),yield Object(external_tribe_modules_reduxSaga_effects_.call)(sagas_setEndTimeInput)}}function*watchers(){for(;;){const action=yield Object(external_tribe_modules_reduxSaga_effects_.take)([SET_DATE_RANGE,SET_START_DATE_TIME,SET_END_DATE_TIME,SET_START_TIME,SET_END_TIME,SET_MULTI_DAY,SET_TIME_ZONE,SET_NATURAL_LANGUAGE_LABEL]);yield Object(external_tribe_modules_reduxSaga_effects_.call)(handler,action)}}var datetime=reducer;function reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?reducer_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const reducer_position=external_tribe_common_utils_.string.isTruthy(Object(external_tribe_common_utils_globals_.settings)()&&Object(external_tribe_common_utils_globals_.settings)().reverseCurrencyPosition)?"suffix":"prefix",reducer_DEFAULT_STATE={position:Object(external_tribe_common_utils_globals_.priceSettings)()&&Object(external_tribe_common_utils_globals_.priceSettings)().defaultCurrencyPosition?Object(external_tribe_common_utils_globals_.priceSettings)().defaultCurrencyPosition:reducer_position,symbol:Object(external_tribe_common_utils_globals_.priceSettings)()&&Object(external_tribe_common_utils_globals_.priceSettings)().defaultCurrencySymbol?Object(external_tribe_common_utils_globals_.priceSettings)().defaultCurrencySymbol:Object(external_wp_i18n_.__)("$","the-events-calendar"),code:Object(external_tribe_common_utils_globals_.priceSettings)()&&Object(external_tribe_common_utils_globals_.priceSettings)().defaultCurrencyCode?Object(external_tribe_common_utils_globals_.priceSettings)().defaultCurrencyCode:Object(external_wp_i18n_.__)("USD","the-events-calendar"),cost:""},reducer_defaultStateToMetaMap={position:"_EventCurrencyPosition",symbol:"_EventCurrencySymbol",code:"_EventCurrencyCode",cost:"_EventCost"},reducer_setInitialState=data=>{const{meta:meta}=data;Object.keys(reducer_defaultStateToMetaMap).forEach((key=>{const metaKey=reducer_defaultStateToMetaMap[key];meta.hasOwnProperty(metaKey)&&(reducer_DEFAULT_STATE[key]=meta[metaKey])}))};var price_reducer=(state=reducer_DEFAULT_STATE,action)=>{switch(action.type){case"@@MT/EVENTS/SET_PRICE_COST":return reducer_objectSpread(reducer_objectSpread({},state),{},{cost:action.payload.cost});case"@@MT/EVENTS/SET_PRICE_POSITION":return reducer_objectSpread(reducer_objectSpread({},state),{},{position:action.payload.position});case"@@MT/EVENTS/SET_PRICE_SYMBOL":return reducer_objectSpread(reducer_objectSpread({},state),{},{symbol:action.payload.symbol});case"@@MT/EVENTS/SET_PRICE_CODE":return reducer_objectSpread(reducer_objectSpread({},state),{},{code:action.payload.code});default:return state}};const getPriceBlock=state=>state.events.blocks.price,getPrice=Object(external_tribe_modules_reselect_.createSelector)([getPriceBlock],(block=>block.cost)),getSymbol=Object(external_tribe_modules_reselect_.createSelector)([getPriceBlock],(block=>block.symbol)),getPosition=Object(external_tribe_modules_reselect_.createSelector)([getPriceBlock],(block=>block.position)),getCode=Object(external_tribe_modules_reselect_.createSelector)([getPriceBlock],(block=>block.code)),actions_setCost=cost=>({type:"@@MT/EVENTS/SET_PRICE_COST",payload:{cost:cost}}),setPosition=position=>({type:"@@MT/EVENTS/SET_PRICE_POSITION",payload:{position:position}}),actions_setSymbol=symbol=>({type:"@@MT/EVENTS/SET_PRICE_SYMBOL",payload:{symbol:symbol}}),actions_setCode=code=>({type:"@@MT/EVENTS/SET_PRICE_CODE",payload:{code:code}}),utils_getPosition=showBefore=>showBefore?"prefix":"suffix";var price=price_reducer;function website_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function website_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?website_reducer_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):website_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const website_reducer_DEFAULT_STATE={url:""},website_reducer_defaultStateToMetaMap={url:"_EventURL"},website_reducer_setInitialState=data=>{const{meta:meta}=data;Object.keys(website_reducer_defaultStateToMetaMap).forEach((key=>{const metaKey=website_reducer_defaultStateToMetaMap[key];meta.hasOwnProperty(metaKey)&&(website_reducer_DEFAULT_STATE[key]=meta[metaKey])}))};var website_reducer=(state=website_reducer_DEFAULT_STATE,action)=>"@@MT/EVENTS/SET_WEBSITE_URL"===action.type?website_reducer_objectSpread(website_reducer_objectSpread({},state),{},{url:action.payload.url}):state;const getWebsiteBlock=state=>state.events.blocks.website,getUrl=Object(external_tribe_modules_reselect_.createSelector)([getWebsiteBlock],(website=>website.url)),actions_setWebsite=url=>({type:"@@MT/EVENTS/SET_WEBSITE_URL",payload:{url:url}});var blocks_website=website_reducer,external_lodash_uniq_=__webpack_require__("Ti3b"),external_lodash_uniq_default=__webpack_require__.n(external_lodash_uniq_);const ADD_CLASSIC_ORGANIZERS="@@MT/EVENTS/ADD_CLASSIC_ORGANIZERS",REMOVE_CLASSIC_ORGANIZERS="@@MT/EVENTS/REMOVE_CLASSIC_ORGANIZERS",ADD_BLOCK_ORGANIZER="@@MT/EVENTS/ADD_BLOCK_ORGANIZER",REMOVE_BLOCK_ORGANIZER="@@MT/EVENTS/REMOVE_BLOCK_ORGANIZER",classic_DEFAULT_STATE=[];function blocks_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function blocks_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?blocks_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):blocks_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var reducers_blocks=Object(external_tribe_modules_redux_.combineReducers)({byId:(state={},action)=>{switch(action.type){case ADD_BLOCK_ORGANIZER:return blocks_objectSpread(blocks_objectSpread({},state),{},{[action.payload.id]:action.payload.organizer});case REMOVE_BLOCK_ORGANIZER:return Object.keys(state).reduce(((newState,id)=>id===action.payload.id?newState:blocks_objectSpread(blocks_objectSpread({},newState),{},{[id]:state[id]})),{});default:return state}},allIds:(state=[],action)=>{switch(action.type){case ADD_BLOCK_ORGANIZER:return[...state,action.payload.organizer];case REMOVE_BLOCK_ORGANIZER:return state.filter((organizer=>organizer!==action.payload.organizer));default:return state}}});const organizers_reducer_setInitialState=data=>{(data=>{const{meta:meta}=data;meta.hasOwnProperty("_EventOrganizerID")&&classic_DEFAULT_STATE.push(...meta._EventOrganizerID)})(data)};var organizers_reducer=Object(external_tribe_modules_redux_.combineReducers)({blocks:reducers_blocks,classic:(state=classic_DEFAULT_STATE,action)=>{switch(action.type){case ADD_CLASSIC_ORGANIZERS:return external_lodash_uniq_default()([...state,action.payload.organizer]);case REMOVE_CLASSIC_ORGANIZERS:return state.filter((organizer=>organizer!==action.payload.organizer));default:return state}}});const removeOrganizerInClassic=organizer=>({type:organizers_types_namespaceObject.REMOVE_CLASSIC_ORGANIZERS,payload:{organizer:organizer}}),addOrganizerInClassic=organizer=>({type:organizers_types_namespaceObject.ADD_CLASSIC_ORGANIZERS,payload:{organizer:organizer}}),addOrganizerInBlock=(id,organizer)=>({type:organizers_types_namespaceObject.ADD_BLOCK_ORGANIZER,payload:{id:id,organizer:organizer}}),removeOrganizerInBlock=(id,organizer)=>({type:organizers_types_namespaceObject.REMOVE_BLOCK_ORGANIZER,payload:{id:id,organizer:organizer}});var external_lodash_difference_=__webpack_require__("Rfo+"),external_lodash_difference_default=__webpack_require__.n(external_lodash_difference_);const getOrganizersInClassic=state=>state.events.blocks.organizers.classic,getOrganizerByClientId=(state,props)=>state.events.blocks.organizers.blocks.byId[props.clientId],getOrganizersInBlock=state=>state.events.blocks.organizers.blocks.allIds,getMappedOrganizers=Object(external_tribe_modules_reselect_.createSelector)([getOrganizersInClassic,getOrganizersInBlock],((classic,blocks)=>classic.map((id=>({id:id,block:0===external_lodash_difference_default()([id],blocks).length})))));var external_lodash_differenceBy_=__webpack_require__("cZoL"),external_lodash_differenceBy_default=__webpack_require__.n(external_lodash_differenceBy_),external_tribe_common_data_=__webpack_require__("ZNLL"),external_tribe_common_store_=__webpack_require__("g8L8"),external_tribe_common_data_forms_=__webpack_require__("2Iw8");const SET_DETAILS="@@MT/EVENTS/SET_DETAILS",SET_DETAILS_POST_TYPE="@@MT/EVENTS/SET_DETAILS_POST_TYPE",SET_DETAILS_IS_LOADING="@@MT/EVENTS/SET_DETAILS_IS_LOADING";function details_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function details_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?details_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):details_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const details_DEFAULT_STATE={isLoading:!1,details:{},postType:external_tribe_common_data_.editor.EVENT};var reducers_details=(state=details_DEFAULT_STATE,action)=>{switch(action.type){case details_types_namespaceObject.SET_DETAILS:return details_objectSpread(details_objectSpread({},state),{},{details:action.payload.details});case details_types_namespaceObject.SET_DETAILS_POST_TYPE:return details_objectSpread(details_objectSpread({},state),{},{postType:action.payload.postType});case details_types_namespaceObject.SET_DETAILS_IS_LOADING:return details_objectSpread(details_objectSpread({},state),{},{isLoading:action.payload.isLoading});default:return state}};function details_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function details_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?details_reducer_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):details_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const enableDetailsIsLoading=id=>({type:SET_DETAILS_IS_LOADING,payload:{id:id,isLoading:!0}}),disableDetailsIsLoading=id=>({type:SET_DETAILS_IS_LOADING,payload:{id:id,isLoading:!1}}),setDetails=(id,details)=>({type:SET_DETAILS,payload:{id:id,details:details}}),actions_setDetailsPostType=(id,postType)=>({type:SET_DETAILS_POST_TYPE,payload:{id:id,postType:postType}});var external_lodash_isEmpty_=__webpack_require__("4Qn9"),external_lodash_isEmpty_default=__webpack_require__.n(external_lodash_isEmpty_);const blockSelector=(state,props)=>state.events.details[props.name],getPostType=Object(external_tribe_modules_reselect_.createSelector)([blockSelector],(block=>block?block.postType:details_DEFAULT_STATE.postType)),getIsLoading=Object(external_tribe_modules_reselect_.createSelector)([blockSelector],(block=>block?block.isLoading:details_DEFAULT_STATE.isLoading)),getDetails=Object(external_tribe_modules_reselect_.createSelector)([blockSelector],(block=>block?block.details:details_DEFAULT_STATE.details)),getVolatile=Object(external_tribe_modules_reselect_.createSelector)([getDetails,external_tribe_common_data_.forms.selectors.getVolatile],((details,volatileGroup)=>!external_lodash_isEmpty_default()(details)&&0===external_lodash_difference_default()([details.id],volatileGroup).length)),thunks_fetchDetails=id=>(dispatch,getState)=>{const state=getState(),props={name:id},isLoading=getIsLoading(state,props),details=getDetails(state,props);if(!external_lodash_isEmpty_default()(details)||isLoading)return;const options={path:`${getPostType(state,props)}/${id}`,actions:{start:()=>dispatch(enableDetailsIsLoading(id)),success:({body:body})=>{dispatch(setDetails(id,body)),dispatch(disableDetailsIsLoading(id))},error:()=>dispatch(disableDetailsIsLoading(id))}};dispatch(external_tribe_common_store_.middlewares.request.actions.wpRequest(options))};var data_details=(state={},action)=>{switch(action.type){case SET_DETAILS:case SET_DETAILS_IS_LOADING:case SET_DETAILS_POST_TYPE:return details_reducer_objectSpread(details_reducer_objectSpread({},state),{},{[action.payload.id]:reducers_details(state[action.payload.id],action)});default:return state}},external_tribe_common_store_middlewares_request_=__webpack_require__("dRht");const{getState:subscribers_getState,dispatch:subscribers_dispatch}=external_tribe_common_store_.store,compareBlocks=block=>block.clientId,isOrganizerBlock=block=>"tribe/event-organizer"===block.name;external_tribe_common_utils_.globals.wpHooks.addAction("tec.events.blocks.organizer.maybeRemoveOrganizer","tec.events.blocks.organizer.subscribers",(organizer=>{const path=`tribe_organizer/${organizer}`,options={path:path,actions:{success:external_tribe_common_data_forms_.actions.deleteEntry(subscribers_dispatch)(path)}};subscribers_dispatch(external_tribe_common_store_middlewares_request_.actions.wpRequest(options))}));const handleBlockAdded=block=>{isOrganizerBlock(block)&&block.attributes.organizer&&subscribers_dispatch(organizers_actions_namespaceObject.addOrganizerInBlock(block.clientId,block.attributes.organizer))},onBlocksChangeHandler=(currBlocks,prevBlocks)=>{const blocksAdded=external_lodash_differenceBy_default()(currBlocks,prevBlocks,compareBlocks),blocksRemoved=external_lodash_differenceBy_default()(prevBlocks,currBlocks,compareBlocks);blocksAdded.length&&blocksAdded.forEach(handleBlockAdded),blocksRemoved.length&&blocksRemoved.forEach((currBlocks=>block=>{if(!isOrganizerBlock(block))return;const classicBlock=currBlocks.filter((currBlock=>"tribe/classic-event-details"===currBlock.name)),organizer=organizers_selectors_namespaceObject.getOrganizerByClientId(subscribers_getState(),block);organizer&&(subscribers_dispatch(organizers_actions_namespaceObject.removeOrganizerInBlock(block.clientId,organizer)),external_tribe_common_utils_.globals.wpHooks.doAction("tec.events.blocks.organizer.maybeRemoveOrganizer",organizer));const volatile=details_selectors_namespaceObject.getVolatile(subscribers_getState(),{name:organizer});if(!classicBlock.length||volatile){subscribers_dispatch(organizers_actions_namespaceObject.removeOrganizerInClassic(organizer)),subscribers_dispatch(external_tribe_common_data_forms_.actions.removeVolatile(organizer));const classicOrganizers=organizers_selectors_namespaceObject.getOrganizersInClassic(subscribers_getState()),postId=external_tribe_common_utils_.globals.wpData.select("core/editor").getCurrentPostId(),record={meta:{_EventOrganizerID:classicOrganizers}};external_tribe_common_utils_.globals.wpData.dispatch("core").editEntityRecord("postType",external_tribe_common_data_.editor.EVENT,postId,record)}})(currBlocks))};var subscribers=()=>{external_tribe_common_utils_.globals.wpData.subscribe((selector=>{let holdBlocks=selector();return()=>{const prevBlocks=holdBlocks,currBlocks=selector();holdBlocks=currBlocks,(prevBlocks.length!==currBlocks.length||external_lodash_differenceBy_default()(currBlocks,prevBlocks,compareBlocks).length)&&onBlocksChangeHandler(currBlocks,prevBlocks)}})(external_tribe_common_utils_.globals.wpDataSelectCoreEditor().getBlocks))},blocks_organizers=organizers_reducer,external_tribe_common_hoc_=__webpack_require__("Q9xL"),external_tribe_modules_propTypes_=__webpack_require__("rf6O"),external_tribe_modules_propTypes_default=__webpack_require__.n(external_tribe_modules_propTypes_),external_tribe_modules_classnames_=__webpack_require__("K2gz"),external_tribe_modules_classnames_default=__webpack_require__.n(external_tribe_modules_classnames_),AutosizeInput=__webpack_require__("Tu9x"),AutosizeInput_default=__webpack_require__.n(AutosizeInput),external_wp_components_=__webpack_require__("tI+e"),helpers_extends=__webpack_require__("pVnL"),extends_default=__webpack_require__.n(helpers_extends),objectWithoutProperties=__webpack_require__("QILm"),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),external_lodash_noop_=__webpack_require__("In0u"),external_lodash_noop_default=__webpack_require__.n(external_lodash_noop_),external_lodash_isFunction_=__webpack_require__("+Qsg"),external_lodash_isFunction_default=__webpack_require__.n(external_lodash_isFunction_),validator=__webpack_require__("+QwO"),validator_default=__webpack_require__.n(validator),external_wp_element_=__webpack_require__("GRId");__webpack_require__("dPZZ");const _excluded=["onComplete","required","validate","validateCallback"];class element_Input extends external_wp_element_.Component{constructor(){super(...arguments),defineProperty_default()(this,"onChange",(input=>{const{onChange:onChange,onComplete:onComplete,validate:validate}=this.props,callback=external_lodash_isFunction_default()(onChange)?onChange:external_lodash_noop_default.a,completeCallback=external_lodash_isFunction_default()(onComplete)?onComplete:external_lodash_noop_default.a;validate?(this.setState((()=>({isValid:this.validate(input)})),completeCallback),callback(input)):(completeCallback(),callback(input))})),defineProperty_default()(this,"maybeValidate",(value=>{const{type:type,required:required}=this.props;if(0===value.length)return!required;let isValid=!0;switch(type){case"tel":case"phone":isValid=validator_default.a.isMobilePhone(value,"any");break;case"email":isValid=validator_default.a.isEmail(value);break;case"url":isValid=validator_default.a.isURL(value);break;case"number":isValid=validator_default.a.isNumeric(value)}return isValid})),this.state={isValid:this.validate("")}}validate(value){const{validateCallback:validateCallback}=this.props;return external_lodash_isFunction_default()(validateCallback)?validateCallback(value):this.maybeValidate(value)}isValid(){return this.state.isValid}focus(){this.input.focus()}getClassName(){const{className:className,validate:validate}=this.props,{isValid:isValid}=this.state,classes=className?className.split(" "):[];return validate&&classes.push("tribe-editor--valid"),classes.filter((name=>name&&name.length)).join(" ")}render(){const _this$props=this.props,{onComplete:onComplete,required:required,validate:validate,validateCallback:validateCallback}=_this$props,properties=objectWithoutProperties_default()(_this$props,_excluded);return wp.element.createElement(external_wp_components_.TextControl,extends_default()({},properties,{className:`${this.getClassName()}`,ref:input=>this.input=input,onChange:this.onChange,__nextHasNoMarginBottom:!0}))}}defineProperty_default()(element_Input,"propTypes",{validate:external_tribe_modules_propTypes_default.a.bool,required:external_tribe_modules_propTypes_default.a.bool,onChange:external_tribe_modules_propTypes_default.a.any,onComplete:external_tribe_modules_propTypes_default.a.any,validateCallback:external_tribe_modules_propTypes_default.a.any,type:external_tribe_modules_propTypes_default.a.string,className:external_tribe_modules_propTypes_default.a.string}),defineProperty_default()(element_Input,"defaultProps",{required:!1,validate:!1,onChange:external_lodash_noop_default.a,onComplete:external_lodash_noop_default.a,validateCallback:null,type:"",className:""});var elements_input=element_Input,external_lodash_unescape_=__webpack_require__("6ILJ"),external_lodash_unescape_default=__webpack_require__.n(external_lodash_unescape_),external_wp_data_=__webpack_require__("1ZqX");__webpack_require__("6DBo");const element_excluded=["className","slug","label","renderEmpty","isRequesting","terms"],getTermListClassName=(level=0)=>`tribe-editor__terms__list tribe-editor__terms__list--level-${level}`,getTermListItemClassName=(level=0)=>`tribe-editor__terms__list-item tribe-editor__terms__list-item--level-${level}`,Label=({text:text=""})=>wp.element.createElement("strong",{className:"tribe-editor__terms__label",key:"terms-label"},text," ");Label.propTypes={text:external_tribe_modules_propTypes_.PropTypes.string};const Empty=({renderEmpty:renderEmpty=null,id:id,label:label})=>renderEmpty&&wp.element.createElement("div",{key:id,className:"tribe-editor__terms--empty"},wp.element.createElement(Label,{text:label}),renderEmpty);Empty.propTypes={renderEmpty:external_tribe_modules_propTypes_.PropTypes.node,id:external_tribe_modules_propTypes_.PropTypes.string,label:external_tribe_modules_propTypes_.PropTypes.string};const List=({terms:terms=[],termSeparator:termSeparator=Object(external_wp_i18n_.__)(", ","the-events-calendar"),isLoading:isLoading=!1,id:id="",className:className=""})=>isLoading?wp.element.createElement(Loading,{id:id,className:className}):wp.element.createElement("ul",{className:getTermListClassName()},terms.map(((term,index)=>wp.element.createElement(Item,{key:index,term:term,separator:termSeparator,isLast:index+1===terms.length}))));List.propTypes={terms:external_tribe_modules_propTypes_.PropTypes.array,termSeparator:external_tribe_modules_propTypes_.PropTypes.string,isLoading:external_tribe_modules_propTypes_.PropTypes.bool,id:external_tribe_modules_propTypes_.PropTypes.string,className:external_tribe_modules_propTypes_.PropTypes.string};const Separator=({delimiter:delimiter,isLast:isLast})=>isLast?"":wp.element.createElement("span",null,delimiter);Separator.propTypes={delimiter:external_tribe_modules_propTypes_.PropTypes.string,isLast:external_tribe_modules_propTypes_.PropTypes.bool};const Item=({separator:separator,term:term,isLast:isLast})=>{let termLink=term.link;return"post_tag"===term.taxonomy&&(termLink="/events/tag/"+term.slug),wp.element.createElement("li",{key:term.id,className:getTermListItemClassName(0)},wp.element.createElement("a",{href:termLink,target:"_blank",rel:"noopener noreferrer",className:"tribe-editor__terms__list-item-link"},((term={})=>term.name?external_lodash_unescape_default()(term.name).trim():Object(external_wp_i18n_.__)("(Untitled)","the-events-calendar"))(term)),wp.element.createElement(Separator,{delimiter:separator,isLast:isLast}))};Item.propTypes={separator:external_tribe_modules_propTypes_.PropTypes.string,term:external_tribe_modules_propTypes_.PropTypes.object,isLast:external_tribe_modules_propTypes_.PropTypes.bool};const Loading=({id:id="",className:className=""})=>wp.element.createElement("div",{key:id,className:`tribe-editor__terms__spinner ${className}`},wp.element.createElement(Label,null),wp.element.createElement(external_wp_components_.Spinner,{key:"terms-spinner"}));Loading.propTypes={id:external_tribe_modules_propTypes_.PropTypes.string,className:external_tribe_modules_propTypes_.PropTypes.string};const TaxonomiesElement=_ref=>{let{className:className="",slug:slug="",label:label="",renderEmpty:renderEmpty=null,isRequesting:isRequesting=!1,terms:terms=[]}=_ref;const termsList=((terms,parentId=null)=>terms&&terms.length?null===parentId?terms:terms.filter((term=>term.parent===parentId)):[])(objectWithoutProperties_default()(_ref,element_excluded).terms),key=`tribe-terms-${slug}`;return termsList.length||isRequesting?wp.element.createElement("div",{key:key,className:`tribe-editor__terms ${className}`},wp.element.createElement(Label,{text:label}),wp.element.createElement("div",{key:"terms",className:"tribe-editor__terms__list-wrapper"},wp.element.createElement(List,{terms:termsList,className:className,id:key,isLoading:isRequesting}))):wp.element.createElement(Empty,{id:key,renderEmpty:renderEmpty,label:label})};TaxonomiesElement.propTypes={className:external_tribe_modules_propTypes_.PropTypes.string,slug:external_tribe_modules_propTypes_.PropTypes.string,label:external_tribe_modules_propTypes_.PropTypes.string,renderEmpty:external_tribe_modules_propTypes_.PropTypes.node,isRequesting:external_tribe_modules_propTypes_.PropTypes.bool,terms:external_tribe_modules_propTypes_.PropTypes.array};const applySelect=Object(external_wp_data_.withSelect)(((select,props)=>{const{getEntityRecords:getEntityRecords}=select("core"),{isResolving:isResolving}=select("core/data"),{slug:slug}=props,attributeName="post_tag"===slug?"tags":slug,ids=select("core/editor").getEditedPostAttribute(attributeName);if(!ids||0===ids.length)return{terms:[],isRequesting:!1};const query={orderby:"count",order:"desc",include:ids};return{terms:getEntityRecords("taxonomy",slug,query),isRequesting:isResolving("core","getEntityRecords",["taxonomy",slug,query])}}));var terms_list=Object(external_tribe_modules_redux_.compose)(applySelect)(TaxonomiesElement),external_lodash_values_=__webpack_require__("UIDf"),external_lodash_values_default=__webpack_require__.n(external_lodash_values_);class element_OrganizerForm extends external_wp_element_.Component{constructor(...args){super(...args),defineProperty_default()(this,"state",{title:null,phone:"",website:"",email:"",organizer:null,isValid:!0}),defineProperty_default()(this,"fields",{}),defineProperty_default()(this,"isCreating",(()=>{const{organizer:organizer}=this.state;return!!organizer&&(!!external_lodash_isFunction_default()(organizer.state)&&"pending"===organizer.state())})),defineProperty_default()(this,"onSubmit",(()=>{const{title:title,phone:phone,website:website,email:email}=this.state;this.updateOrganizer({title:title,status:"publish",meta:{_OrganizerEmail:email,_OrganizerPhone:phone,_OrganizerWebsite:website}})})),defineProperty_default()(this,"onInputChange",(key=>value=>{this.setState({[key]:value})})),defineProperty_default()(this,"onInputComplete",(()=>{this.setState({isValid:this.isValid()})})),defineProperty_default()(this,"updateOrganizer",(toSend=>{const{postType:postType}=this.props,request=wp.apiRequest({path:`/wp/v2/${postType}`,method:"POST",data:toSend});this.setState({organizer:request}),request.done((newPost=>{newPost.id||console.warning("Invalid creation of organizer:",newPost),this.props.addOrganizer(newPost.id,newPost),this.props.onClose()})).fail((err=>{console.error(err)}))})),defineProperty_default()(this,"isValid",(()=>{const fields=external_lodash_values_default()(this.fields),results=fields.filter((input=>input.isValid()));return fields.length===results.length})),defineProperty_default()(this,"saveRef",(input=>{if(input){const{props:props}=input,{name:name}=props||{};this.fields[name]=input}}))}render(){return this.isCreating()?wp.element.createElement("div",{className:"tribe-editor__organizer__form",key:"tribe-organizer-form"},wp.element.createElement(external_wp_components_.Placeholder,{key:"placeholder"},wp.element.createElement(external_wp_components_.Spinner,null))):wp.element.createElement("div",{className:"tribe-editor__organizer__form",key:"tribe-organizer-form"},wp.element.createElement("h3",{key:"tribe-organizer-form-title"},Object(external_wp_i18n_.__)("Create Organizer")),wp.element.createElement("p",{className:"description"},Object(external_wp_i18n_.__)("The e-mail address will be obfuscated on your site to avoid it getting harvested by spammers.","the-events-calendar")),wp.element.createElement("dl",null,wp.element.createElement("dt",null,Object(external_wp_i18n_.__)("Name:","the-events-calendar")),wp.element.createElement("dd",null,wp.element.createElement(elements_input,{type:"text",ref:this.saveRef,name:"organizer[name]",onComplete:this.onInputComplete,onChange:this.onInputChange("title"),validate:!0})),wp.element.createElement("dt",null,Object(external_wp_i18n_.__)("Phone:","the-events-calendar")),wp.element.createElement("dd",null,wp.element.createElement(elements_input,{type:"phone",ref:this.saveRef,name:"organizer[phone]",onComplete:this.onInputComplete,onChange:this.onInputChange("phone"),validate:!0,"data-testid":"organizer-form-input-phone"})),wp.element.createElement("dt",null,Object(external_wp_i18n_.__)("Website:","the-events-calendar")),wp.element.createElement("dd",null,wp.element.createElement(elements_input,{type:"url",ref:this.saveRef,onComplete:this.onInputComplete,onChange:this.onInputChange("website"),name:"organizer[website]",validate:!0})),wp.element.createElement("dt",null,Object(external_wp_i18n_.__)("Email:","the-events-calendar")),wp.element.createElement("dd",null,wp.element.createElement(elements_input,{type:"email",ref:this.saveRef,name:"organizer[email]",onComplete:this.onInputComplete,onChange:this.onInputChange("email"),validate:!0}))),wp.element.createElement("button",{type:"button",className:"button-secondary",onClick:this.onSubmit,disabled:!this.isValid(),"data-testid":"organizer-form-button-create"},Object(external_wp_i18n_.__)("Create Organizer","the-events-calendar")))}}defineProperty_default()(element_OrganizerForm,"propTypes",{addOrganizer:external_tribe_modules_propTypes_.PropTypes.func,onClose:external_tribe_modules_propTypes_.PropTypes.func,postType:external_tribe_modules_propTypes_.PropTypes.string}),defineProperty_default()(element_OrganizerForm,"defaultProps",{postType:"tribe_organizer"});var organizer_form=element_OrganizerForm,external_lodash_pick_=__webpack_require__("KPEA"),external_lodash_pick_default=__webpack_require__.n(external_lodash_pick_),external_lodash_get_=__webpack_require__("lCf4"),external_lodash_get_default=__webpack_require__.n(external_lodash_get_),external_lodash_find_=__webpack_require__("6OzC"),external_lodash_find_default=__webpack_require__.n(external_lodash_find_),external_lodash_trim_=__webpack_require__("XNrZ"),external_lodash_trim_default=__webpack_require__.n(external_lodash_trim_),external_lodash_identity_=__webpack_require__("df/k"),external_lodash_identity_default=__webpack_require__.n(external_lodash_identity_),querystringify=__webpack_require__("nFlj");function toObject(data={}){return Object.keys(data).map((key=>({code:key,name:data[key]})))}function getCountries(){return toObject(Object(external_tribe_common_utils_globals_.list)().countries)}function getCountryCode(name){const result=external_lodash_find_default()(getCountries(),(country=>country.name===name));return external_lodash_get_default()(result,"code","")}function getStateCode(countryCode,name){const states=getStates(countryCode),result=external_lodash_find_default()(states,(state=>state.name===name));return external_lodash_get_default()(result,"code","")}function getStateName(countryCode,code){const states=getStates(countryCode),result=external_lodash_find_default()(states,(state=>state.code===code));return external_lodash_get_default()(result,"name","")}function getStates(countryCode){return"US"===countryCode?toObject(Object(external_tribe_common_utils_globals_.list)().us_states):[]}var geo_data=Object(external_tribe_common_utils_globals_.list)();function addressToMapString(address={}){const{city:city,street:street,province:province,country:country}=address;return[city,street,province,country].filter(external_lodash_identity_default.a).map(external_lodash_trim_default.a).join(", ")}function mapLink(address={}){const{city:city,street:street,province:province,zip:zip,country:country}=address,args={f:"q",source:"s_q",geocode:"",q:[city,street,province,zip,country].filter(external_lodash_identity_default.a).map(external_lodash_trim_default.a).join(", ")};return`https://maps.google.com/maps?${Object(querystringify.stringify)(args)}`}const getAddress=(details={})=>{const{meta:meta={}}=details;return external_lodash_isEmpty_default()(meta)?{}:{street:external_lodash_get_default()(meta,"_VenueAddress",""),city:external_lodash_get_default()(meta,"_VenueCity",""),province:external_lodash_get_default()(meta,"_VenueProvince",""),zip:external_lodash_get_default()(meta,"_VenueZip",""),country:external_lodash_get_default()(meta,"_VenueCountry","")}},getCoordinates=(details={})=>{const{meta:meta={}}=details,{_VenueLat:_VenueLat="",_VenueLng:_VenueLng=""}=meta,lat=parseFloat(_VenueLat),lng=parseFloat(_VenueLng);return{lat:isNaN(lat)?null:lat,lng:isNaN(lng)?null:lng}},setDefault=(value,defaultValue)=>""===value?defaultValue:value;function getVenueCountry(meta){let country=external_lodash_get_default()(meta,"_VenueCountry","");if(""===country){const defaultCountry=Object(external_tribe_common_utils_globals_.editorDefaults)().venueCountry,[countryName]=defaultCountry||[];country=countryName||""}return country}function getVenueStateProvince(meta){let stateProvince=external_lodash_get_default()(meta,"_VenueStateProvince","");if(""===stateProvince){const country=getVenueCountry(meta);stateProvince="US"===country||"United States"===country?getStateName("US",Object(external_tribe_common_utils_globals_.editorDefaults)().venueState):Object(external_tribe_common_utils_globals_.editorDefaults)().venueProvince}return stateProvince}__webpack_require__("aHF2");function element_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const{RichText:RichText}=external_tribe_common_utils_globals_.wpEditor;function toFields(venue){const title=external_lodash_get_default()(venue,"title",{}),meta=external_lodash_get_default()(venue,"meta",{}),address=setDefault(external_lodash_get_default()(meta,"_VenueAddress",""),Object(external_tribe_common_utils_globals_.editorDefaults)().venueAddress),city=setDefault(external_lodash_get_default()(meta,"_VenueCity",""),Object(external_tribe_common_utils_globals_.editorDefaults)().venueCity),country=getVenueCountry(meta),stateProvince=getVenueStateProvince(meta),zip=setDefault(external_lodash_get_default()(meta,"_VenueZip",""),Object(external_tribe_common_utils_globals_.editorDefaults)().venueZip),phone=setDefault(external_lodash_get_default()(meta,"_VenuePhone",""),Object(external_tribe_common_utils_globals_.editorDefaults)().venuePhone),url=external_lodash_get_default()(meta,"_VenueURL",""),countryCode=getCountryCode(country);return{title:external_lodash_get_default()(title,"rendered",""),address:address,city:city,country:countryCode,zip:zip,phone:phone,url:url,stateProvince:getStateCode(countryCode,stateProvince)}}function toVenue(fields){const{title:title,address:address,city:city,country:country,zip:zip,phone:phone,url:url,stateProvince:stateProvince}=fields;return{title:title,status:"draft",meta:{_VenueAddress:address,_VenueCity:city,_VenueCountry:country,_VenueProvince:stateProvince,_VenueZip:zip,_VenuePhone:phone,_VenueURL:url,_VenueState:stateProvince,_VenueStateProvince:stateProvince,_VenueShowMap:!0,_VenueShowMapLink:!0}}}class element_VenueForm extends external_wp_element_.Component{constructor(_props={onSubmit:external_lodash_noop_default.a}){super(...arguments),defineProperty_default()(this,"onInputChange",(key=>value=>{this.setState({[key]:value})})),defineProperty_default()(this,"saveRef",(input=>{if(input){const{props:props}=input,{name:name}=props||{};this.fields[name]=input}})),this.state=function element_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?element_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):element_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({title:"",address:"",city:"",country:"",zip:"",phone:"",url:"",stateProvince:""},_props),this.fields={}}componentWillUnmount(){const fields=external_lodash_pick_default()(this.state,["title","address","city","country","zip","phone","url","stateProvince"]);fields.country=external_lodash_get_default()(geo_data.countries,fields.country,"")||fields.country,fields.stateProvince=external_lodash_get_default()(geo_data.us_states,fields.stateProvince,"")||fields.stateProvince,this.props.onSubmit(fields)}renderOption(element){return wp.element.createElement("option",{value:element.code,key:element.code},element.name)}renderCountry(){const{country:country}=this.state,placeholder=country?null:wp.element.createElement("option",{value:"",disabled:!0},Object(external_wp_i18n_.__)("Country","the-events-calendar"));return wp.element.createElement("select",{value:country,className:"small tribe-editor__venue__select",onChange:event=>this.setState({country:event.target.value})},placeholder,getCountries().map(this.renderOption))}renderState(){const{stateProvince:stateProvince,country:country}=this.state,states=getStates(country);return 0===states.length?wp.element.createElement(elements_input,{className:"medium",type:"text",name:"venue[stateProvince]",placeholder:"State",ref:this.saveRef,onChange:this.onInputChange("stateProvince"),value:stateProvince}):(delete this.fields["venue[stateProvince]"],wp.element.createElement("select",{value:stateProvince,onChange:event=>this.setState({stateProvince:event.target.value}),className:"medium tribe-editor__venue__select"},states.map(this.renderOption)))}render(){const{title:title="",address:address="",city:city="",zip:zip="",phone:phone="",url:url=""}=this.state;return wp.element.createElement("div",{className:"tribe-editor__venue__form",key:"tribe-venue-form"},wp.element.createElement(RichText,{tagName:"h3",format:"string",value:title,onChange:value=>{this.setState({title:value})}}),wp.element.createElement("div",{className:"tribe-editor__venue__fields"},wp.element.createElement(elements_input,{type:"text",name:"venue[address]",placeholder:"Street Address",ref:this.saveRef,value:address,onChange:this.onInputChange("address"),__nextHasNoMarginBottom:!0}),wp.element.createElement(elements_input,{type:"text",name:"venue[city]",placeholder:"City",ref:this.saveRef,onChange:this.onInputChange("city"),value:city,__nextHasNoMarginBottom:!0}),wp.element.createElement("div",{className:"row"},this.renderCountry(),this.renderState()),wp.element.createElement("div",{className:"row"},wp.element.createElement(elements_input,{className:"small",type:"text",name:"venue[zip]",placeholder:"ZIP",ref:this.saveRef,onChange:this.onInputChange("zip"),value:zip,__nextHasNoMarginBottom:!0})),wp.element.createElement(elements_input,{type:"tel",name:"venue[phone]",placeholder:"Phone number",ref:this.saveRef,onChange:this.onInputChange("phone"),value:phone,__nextHasNoMarginBottom:!0}),wp.element.createElement(elements_input,{type:"url",name:"venue[url]",placeholder:"Website",ref:this.saveRef,onChange:this.onInputChange("url"),value:url,__nextHasNoMarginBottom:!0})))}}defineProperty_default()(element_VenueForm,"propTypes",{onSubmit:external_tribe_modules_propTypes_.PropTypes.func});var venue_form=element_VenueForm;class element_MetaGroup extends external_wp_element_.Component{render(){const{groupKey:groupKey,className:className,children:children}=this.props,names=external_tribe_modules_classnames_default()(["tribe-editor__meta-group",`tribe-editor__meta-group--${groupKey}`,className]);return wp.element.createElement("div",{className:names,key:groupKey},children)}}defineProperty_default()(element_MetaGroup,"propTypes",{className:external_tribe_modules_propTypes_.PropTypes.string,children:external_tribe_modules_propTypes_.PropTypes.node,groupKey:external_tribe_modules_propTypes_.PropTypes.string}),defineProperty_default()(element_MetaGroup,"defaultProps",{className:"",children:null,groupKey:""});var meta_group=element_MetaGroup;const ADD_BLOCK="@@MT/EVENTS/ADD_BLOCK",SET_TERM="@@MT/EVENTS/SET_TERM",SET_SEARCH_POST_TYPE="@@MT/EVENTS/SET_SEARCH_POST_TYPE",SEARCH="@@MT/EVENTS/SEARCH",SET_SEARCH_IS_LOADING="@@MT/EVENTS/SET_SEARCH_IS_LOADING",SET_RESULTS="@@MT/EVENTS/SET_RESULTS",ADD_RESULTS="@@MT/EVENTS/ADD_RESULTS",SET_PAGE="@@MT/EVENTS/SET_PAGE",SET_TOTAL_PAGES="@@MT/EVENTS/SET_TOTAL_PAGES",CLEAR_BLOCK="@@MT/EVENTS/CLEAR_BLOCK";function search_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function search_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?search_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):search_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const search_DEFAULT_STATE={term:"",results:[],page:1,totalPages:0,isLoading:!1,postType:external_tribe_common_data_.editor.EVENT};var search=(state=search_DEFAULT_STATE,action)=>{switch(action.type){case search_types_namespaceObject.ADD_BLOCK:return search_DEFAULT_STATE;case search_types_namespaceObject.CLEAR_BLOCK:return search_objectSpread(search_objectSpread({},search_DEFAULT_STATE),{},{postType:state.postType});case search_types_namespaceObject.SET_TERM:return search_objectSpread(search_objectSpread({},state),{},{term:action.payload.term});case search_types_namespaceObject.SET_RESULTS:return search_objectSpread(search_objectSpread({},state),{},{results:action.payload.results});case search_types_namespaceObject.ADD_RESULTS:return search_objectSpread(search_objectSpread({},state),{},{results:[...state.results,...action.payload.results]});case search_types_namespaceObject.SET_PAGE:return search_objectSpread(search_objectSpread({},state),{},{page:action.payload.page});case search_types_namespaceObject.SET_TOTAL_PAGES:return search_objectSpread(search_objectSpread({},state),{},{totalPages:action.payload.totalPages});case search_types_namespaceObject.SET_SEARCH_IS_LOADING:return search_objectSpread(search_objectSpread({},state),{},{isLoading:action.payload.isLoading});case search_types_namespaceObject.SET_SEARCH_POST_TYPE:return search_objectSpread(search_objectSpread({},state),{},{postType:action.payload.postType});default:return state}};function search_reducer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function search_reducer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?search_reducer_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):search_reducer_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const addBlock=id=>({type:ADD_BLOCK,payload:{id:id}}),setTerm=(id,term)=>({type:SET_TERM,payload:{id:id,term:term}}),setSearchPostType=(id,postType)=>({type:SET_SEARCH_POST_TYPE,payload:{id:id,postType:postType}}),setResults=(id,results)=>({type:SET_RESULTS,payload:{id:id,results:results}}),addResults=(id,results)=>({type:ADD_RESULTS,payload:{id:id,results:results}}),setTotalPages=(id,totalPages)=>({type:SET_TOTAL_PAGES,payload:{id:id,totalPages:totalPages}}),setPage=(id,page)=>({type:SET_PAGE,payload:{id:id,page:page}}),enableSearchIsLoading=id=>({type:SET_SEARCH_IS_LOADING,payload:{id:id,isLoading:!0}}),disableSearchIsLoading=id=>({type:SET_SEARCH_IS_LOADING,payload:{id:id,isLoading:!1}}),clearBlock=id=>({type:CLEAR_BLOCK,payload:{id:id}}),selectors_blockSelector=(state,props)=>state.events.search[props.name],getSearchPostType=Object(external_tribe_modules_reselect_.createSelector)([selectors_blockSelector],(block=>block?block.postType:search_DEFAULT_STATE.postType)),getSearchTerm=Object(external_tribe_modules_reselect_.createSelector)([selectors_blockSelector],(block=>block?block.term:search_DEFAULT_STATE.term)),selectors_getIsLoading=Object(external_tribe_modules_reselect_.createSelector)([selectors_blockSelector],(block=>block?block.isLoading:search_DEFAULT_STATE.isLoading)),getResults=Object(external_tribe_modules_reselect_.createSelector)([selectors_blockSelector],(block=>block?block.results:search_DEFAULT_STATE.results)),getPage=Object(external_tribe_modules_reselect_.createSelector)([selectors_blockSelector],(block=>block?block.page:search_DEFAULT_STATE.page)),getTotal=Object(external_tribe_modules_reselect_.createSelector)([selectors_blockSelector],(block=>block?block.totalPages:search_DEFAULT_STATE.totalPages)),{request:{actions:requestActions,utils:requestUtils}}=external_tribe_common_store_.middlewares,thunks_search=(id,params)=>(dispatch,getState)=>{const{term:term="",exclude:exclude=[],perPage:perPage=50,populated:populated=!1,page:page=1}=params,total=getTotal(getState(),{name:id});if(0!==total&&page>total)return;if(populated&&""===term.trim())return void dispatch(clearBlock(id));const query=requestUtils.toWPQuery({per_page:perPage,search:term,page:page,exclude:exclude}),options={path:`${getSearchPostType(getState(),{name:id})}?${query}`,actions:{start:()=>dispatch(enableSearchIsLoading(id)),success:({body:body,headers:headers})=>{term===getSearchTerm(getState(),{name:id})&&(dispatch(disableSearchIsLoading(id)),dispatch(1===page?setResults(id,body):addResults(id,body)),dispatch(setPage(id,page)),dispatch(setTotalPages(id,requestUtils.getTotalPages(headers))))},error:()=>dispatch(disableSearchIsLoading(id))}};dispatch(requestActions.wpRequest(options))};var data_search=(state={},action)=>{switch(action.type){case ADD_BLOCK:case CLEAR_BLOCK:case SET_TERM:case SET_RESULTS:case ADD_RESULTS:case SET_PAGE:case SET_TOTAL_PAGES:case SET_SEARCH_IS_LOADING:case SET_SEARCH_POST_TYPE:return search_reducer_objectSpread(search_reducer_objectSpread({},state),{},{[action.payload.id]:search(state[action.payload.id],action)});default:return state}},external_lodash_uniqueId_=__webpack_require__("U33w"),external_lodash_uniqueId_default=__webpack_require__.n(external_lodash_uniqueId_),he=__webpack_require__("ktc5");__webpack_require__("mXU7");class template_SearchPosts extends external_React_.Component{constructor(...args){super(...args),defineProperty_default()(this,"renderToggle",(({onToggle:onToggle})=>wp.element.createElement(external_tribe_common_utils_globals_.IconButton,{className:"tribe-editor__btn",label:this.props.iconLabel,onClick:onToggle,icon:wp.element.createElement(external_wp_components_.Dashicon,{icon:"search"})}))),defineProperty_default()(this,"renderList",(onClose=>{const{results:results,isLoading:isLoading,onItemClick:onItemClick}=this.props;return isLoading?wp.element.createElement(external_wp_components_.Placeholder,{key:"placeholder"},wp.element.createElement(external_wp_components_.Spinner,null)):wp.element.createElement("ul",{className:"tribe-editor__search-posts__results-list"},results.map((item=>wp.element.createElement("li",{key:`post-${item.id}`,className:"tribe-editor__search-posts__results-list-item"},wp.element.createElement("button",{className:"tribe-editor__search-posts__results-list-item-button",onClick:()=>onItemClick(onClose)(item)},Object(he.decode)(item.title.rendered))))))})),defineProperty_default()(this,"renderDropdown",(({isOpen:isOpen,onClose:onClose})=>wp.element.createElement("div",{className:external_tribe_modules_classnames_default()("tribe-editor__search-posts"),"aria-expanded":isOpen},this.renderSearchInput(),wp.element.createElement("div",{className:external_tribe_modules_classnames_default()("tribe-editor__search-posts__results"),onScroll:this.props.onDropdownScroll},this.renderList(onClose)))))}componentDidMount(){this.props.onMount()}renderSearchInput(){const{term:term,searchLabel:searchLabel,onInputChange:onInputChange}=this.props,instanceId=external_lodash_uniqueId_default()("search-");return wp.element.createElement("div",null,wp.element.createElement("label",{htmlFor:`editor-inserter__${instanceId}`,className:"screen-reader-text"},searchLabel),wp.element.createElement("input",{id:`editor-inserter__${instanceId}`,type:"search",placeholder:searchLabel,value:term,className:"editor-inserter__search",onChange:onInputChange}))}render(){return wp.element.createElement(external_wp_components_.Dropdown,{className:"tribe-editor__dropdown",popoverProps:{placement:"bottom center"},contentClassName:"tribe-editor__dropdown-dialog",onToggle:this.props.onDropdownToggle,renderToggle:this.renderToggle,renderContent:this.renderDropdown})}}defineProperty_default()(template_SearchPosts,"propTypes",{name:external_tribe_modules_propTypes_default.a.string.isRequired,postType:external_tribe_modules_propTypes_default.a.string.isRequired,exclude:external_tribe_modules_propTypes_default.a.array.isRequired,searchLabel:external_tribe_modules_propTypes_default.a.string,iconLabel:external_tribe_modules_propTypes_default.a.string,term:external_tribe_modules_propTypes_default.a.string.isRequired,isLoading:external_tribe_modules_propTypes_default.a.bool.isRequired,results:external_tribe_modules_propTypes_default.a.array.isRequired,page:external_tribe_modules_propTypes_default.a.number.isRequired,onMount:external_tribe_modules_propTypes_default.a.func.isRequired,onInputChange:external_tribe_modules_propTypes_default.a.func.isRequired,onItemClick:external_tribe_modules_propTypes_default.a.func.isRequired,onDropdownScroll:external_tribe_modules_propTypes_default.a.func.isRequired,onDropdownToggle:external_tribe_modules_propTypes_default.a.func.isRequired});var template=template_SearchPosts;function search_posts_element_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function search_posts_element_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?search_posts_element_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):search_posts_element_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const onMount=(dispatch,ownProps)=>()=>{const{name:name,postType:postType,exclude:exclude}=ownProps;dispatch(search_actions_namespaceObject.addBlock(name)),dispatch(search_actions_namespaceObject.setSearchPostType(name,postType)),dispatch(search_thunks_namespaceObject.search(name,{term:"",exclude:exclude}))},element_onInputChange=(dispatch,ownProps)=>event=>{const{name:name,exclude:exclude}=ownProps,{value:value}=event.target;dispatch(search_actions_namespaceObject.setTerm(name,value)),dispatch(search_thunks_namespaceObject.search(name,{term:value,exclude:exclude}))},element_onItemClick=(dispatch,ownProps)=>onClose=>item=>{const{name:name,onItemSelect:onItemSelect}=ownProps;dispatch(search_actions_namespaceObject.setTerm(name,"")),onItemSelect&&onItemSelect(item.id,item),onClose()},onDropdownScroll=(stateProps,dispatchProps,ownProps)=>event=>{const{target:target}=event,{scrollHeight:scrollHeight,scrollTop:scrollTop}=target;if(scrollTop/(scrollHeight-target.offsetHeight)*100>75){const{term:term,page:page}=stateProps,{name:name,exclude:exclude}=ownProps;dispatchProps.dispatch(search_thunks_namespaceObject.search(name,{term:term,exclude:exclude,populated:!0,page:page+1}))}},onDropdownToggle=(stateProps,dispatchProps,ownProps)=>isOpen=>{isOpen||""===stateProps.term||dispatchProps.dispatch(search_actions_namespaceObject.setTerm(ownProps.name,""))};var search_posts=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)(((state,props)=>({term:search_selectors_namespaceObject.getSearchTerm(state,props),isLoading:search_selectors_namespaceObject.getIsLoading(state,props),results:search_selectors_namespaceObject.getResults(state,props),page:search_selectors_namespaceObject.getPage(state,props)})),((dispatch,ownProps)=>({onMount:onMount(dispatch,ownProps),onInputChange:element_onInputChange(dispatch,ownProps),onItemClick:element_onItemClick(dispatch,ownProps),dispatch:dispatch})),((stateProps,dispatchProps,ownProps)=>search_posts_element_objectSpread(search_posts_element_objectSpread(search_posts_element_objectSpread(search_posts_element_objectSpread({},ownProps),stateProps),dispatchProps),{},{onDropdownScroll:onDropdownScroll(stateProps,dispatchProps,ownProps),onDropdownToggle:onDropdownToggle(stateProps,dispatchProps,ownProps)}))))(template),external_lodash_isArray_=__webpack_require__("e5yv"),external_lodash_isArray_default=__webpack_require__.n(external_lodash_isArray_);__webpack_require__("ONcs");function google_map_element_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function google_map_element_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?google_map_element_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):google_map_element_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const IMAGE_FORMATS={PNG:"png",PNG32:"png32",GIF:"gif",JPG:"jpg",JPG_BASELINE:"jpg-baseline"},MAP_TYPES={ROADMAP:"roadmap",SATELLITE:"satellite",TERRAIN:"terrain",HYBRID:"hybrid"},IMAGE_FORMATS_VALUES=external_lodash_values_default()(IMAGE_FORMATS),MAP_TYPES_VALUES=external_lodash_values_default()(MAP_TYPES),API_KEY=external_lodash_get_default()(Object(external_tribe_common_utils_globals_.mapsAPI)(),"key",""),DEFAULT_ZOOM=parseInt(external_lodash_get_default()(Object(external_tribe_common_utils_globals_.mapsAPI)(),"zoom",14),10);class element_GoogleMap extends external_wp_element_.Component{constructor(props){super(...arguments),defineProperty_default()(this,"tryAgain",(()=>{this.interval&&clearInterval(this.interval),this.tries>=this.MAX_TRIES?this.setState({isLoading:!1,error:Object(external_wp_i18n_.__)("Make sure Google Maps Library is included on this page.","the-events-calendar")}):(this.interval=setInterval((()=>{this.loadMap()}),500),this.tries+=1)})),defineProperty_default()(this,"attachInteractiveMap",(()=>{const{interactive:interactive}=this.state,{interactiveMapContainer:interactiveMapContainer,map:map}=this;if(!interactive||!interactiveMapContainer.current)return this.renderImage();const{maps:maps}=Object(external_tribe_common_utils_globals_.google)();map.instance=new maps.Map(interactiveMapContainer.current,this.getMapConfig()),map.instance&&(map.marker=new maps.Marker({position:this.getLocation(),map:map.instance}))})),this.state=google_map_element_objectSpread(google_map_element_objectSpread({},props),{},{error:"",isLoading:!0,rendered:!1}),this.interactiveMapContainer=external_React_default.a.createRef(),this.map={instance:null,marker:null},this.interval=external_lodash_noop_default.a,this.tries=0,this.MAX_TRIES=5}static getDerivedStateFromProps(nextProps,prevState){return!0===prevState.rendered||nextProps.coordinates.lat===prevState.coordinates.lat&&nextProps.coordinates.lng===prevState.coordinates.lng?null:{rendered:!0,loadingMap:!1}}componentDidMount(){this.loadMap()}loadMap(){if(!Object(external_tribe_common_utils_globals_.google)())return void this.tryAgain();const{maps:maps}=Object(external_tribe_common_utils_globals_.google)();if(maps){if(this.invalidLocation()){const{address:address}=this.props;return external_lodash_isEmpty_default()(address)?void this.setState({interactive:!1,isLoading:!1,error:Object(external_wp_i18n_.__)("The map does not have valid coordinates nor a valid address","the-events-calendar")}):void this.setState({interactive:!1,isLoading:!1})}this.setState({isLoading:!1,interactive:!0},this.attachInteractiveMap)}else this.tryAgain()}getMapConfig(){const{zoom:zoom,mapType:mapType}=this.props,type=external_lodash_isArray_default()(mapType)?mapType:[mapType];return{center:this.getLocation(),zoom:zoom,mapTypeControl:type.length>1,mapTypeControlOptions:{mapTypeIds:type},streetViewControl:!1,fullscreenControl:!1}}invalidLocation(){const location=this.getLocation(),{lat:lat,lng:lng}=location;return!lat||!lng}getLocation(){const{coordinates:coordinates}=this.props,{lat:lat,lng:lng}=coordinates;return{lat:lat,lng:lng}}render(){const{isLoading:isLoading,rendered:rendered,loadingMap:loadingMap}=this.state,containerClass=external_tribe_modules_classnames_default()("tribe-editor__map",{"tribe-editor__map--loading":isLoading});let renderMap=this.renderMap();return!0===rendered&&!0!==loadingMap&&(renderMap=this.renderMapUpdate()),wp.element.createElement("div",{className:containerClass},renderMap)}renderMapUpdate(){return this.setState({loadingMap:!0}),this.loadMap(),this.renderMap()}renderMap(){const{isLoading:isLoading,error:error,interactive:interactive,apiKey:apiKey,rendered:rendered}=this.state;return isLoading?wp.element.createElement(external_wp_components_.Spinner,null):error?wp.element.createElement("h4",null,error):apiKey?rendered||interactive?this.renderInteractive():this.renderIframe():wp.element.createElement("h4",null,Object(external_wp_i18n_.__)("A Google Map API KEY is required to view the map","the-events-calendar"))}renderImage(){return wp.element.createElement("picture",{className:"tribe-editor__map--static"},wp.element.createElement("img",{className:"tribe-element-map-object",alt:"map",src:this.mapUrl}),wp.element.createElement("div",{className:"trie-editor__spinner__container"},wp.element.createElement(external_wp_components_.Spinner,null)))}renderInteractive(){return wp.element.createElement("section",{className:"tribe-editor__map--interactive"},wp.element.createElement("div",{className:"tribe-editor__map--dynamic",ref:this.interactiveMapContainer}),wp.element.createElement("div",{className:"trie-editor__spinner__container"},wp.element.createElement(external_wp_components_.Spinner,null)))}renderIframe(){const{size:size}=this.props;let{width:width=450,height:height=350}=size;return width=width?`${width}px`:width,height=height?`${height}px`:height,wp.element.createElement("iframe",{title:"Venue Map",src:"https://www.google.com/maps/embed?pb=!1m10!1m8!1m3!1d65369183.36050215!2d0!3d0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sus!4v1633005420084!5m2!1sen!2sus",width:width,height:height})}get mapUrl(){const{zoom:zoom,size:size,scale:scale,format:format,mapType:mapType,apiKey:apiKey,address:address}=this.props,{width:width,height:height}=size,queryArgs={zoom:zoom,maptype:mapType,key:apiKey};let rootUrl=null;const{interactive:interactive}=this.state,coordinates=this.getLocation(),{lat:lat,lng:lng}=coordinates;if(interactive)rootUrl=this.constructor.RootEmbedUrl,queryArgs.q=`${lat},${lng}`;else{rootUrl=this.constructor.RootStaticUrl,queryArgs.scale=scale,queryArgs.size=`${width}x${height}`,queryArgs.format=format;this.invalidLocation()&&!external_lodash_isEmpty_default()(address)?queryArgs.center=address:queryArgs.center=`${lat},${lng}`,queryArgs.markers=this.markerParams}return`${rootUrl}?${Object(querystringify.stringify)(queryArgs)}`}get markerParams(){const{hasCenterMarker:hasCenterMarker,address:address}=this.props,coordinates=this.getLocation(),{lat:lat,lng:lng}=coordinates,invalid=this.invalidLocation();return hasCenterMarker?`size:mid|color:0xff0000|label:|${invalid?address:`${lat},${lng}`}`:""}}defineProperty_default()(element_GoogleMap,"RootStaticUrl","https://maps.googleapis.com/maps/api/staticmap"),defineProperty_default()(element_GoogleMap,"RootEmbedUrl","https://www.google.com/maps/embed/v1/place"),defineProperty_default()(element_GoogleMap,"ImageFormats",IMAGE_FORMATS),defineProperty_default()(element_GoogleMap,"MapTypes",MAP_TYPES),defineProperty_default()(element_GoogleMap,"propTypes",{coordinates:external_tribe_modules_propTypes_default.a.object.isRequired,address:external_tribe_modules_propTypes_default.a.string,size:external_tribe_modules_propTypes_default.a.shape({width:external_tribe_modules_propTypes_default.a.number.isRequired,height:external_tribe_modules_propTypes_default.a.number.isRequired}),style:external_tribe_modules_propTypes_default.a.object,zoom:external_tribe_modules_propTypes_default.a.number.isRequired,scale:external_tribe_modules_propTypes_default.a.number,format:external_tribe_modules_propTypes_default.a.oneOf(IMAGE_FORMATS_VALUES),mapType:external_tribe_modules_propTypes_default.a.oneOf(MAP_TYPES_VALUES),hasCenterMarker:external_tribe_modules_propTypes_default.a.bool,apiKey:external_tribe_modules_propTypes_default.a.string}),defineProperty_default()(element_GoogleMap,"defaultProps",{format:IMAGE_FORMATS.JPG,mapType:MAP_TYPES.ROADMAP,hasCenterMarker:!0,style:{},scale:2,interactive:!1,apiKey:API_KEY,zoom:DEFAULT_ZOOM,coordinates:{},address:{}});var google_map=element_GoogleMap;__webpack_require__("hT6J");const directions={up:"up",down:"down"},Dashboard=({className:className="",direction:direction=directions.down,isOpen:isOpen=!1,children:children=null})=>{const containerClasses=external_tribe_modules_classnames_default()("tribe-editor__dashboard__container",`tribe-editor__dashboard__container--${direction}`,{"tribe-editor__dashboard__container--open":isOpen},className);return wp.element.createElement("div",{className:containerClasses},wp.element.createElement("div",{className:"tribe-editor__dashboard"},children))};Dashboard.propTypes={isOpen:external_tribe_modules_propTypes_default.a.bool,className:external_tribe_modules_propTypes_default.a.string,direction:external_tribe_modules_propTypes_default.a.oneOf(Object.keys(directions)),children:external_tribe_modules_propTypes_default.a.element};var dashboard=Dashboard,external_lodash_omit_=__webpack_require__("2TDg"),external_lodash_omit_default=__webpack_require__.n(external_lodash_omit_),external_tribe_modules_reactDayPicker_=__webpack_require__("wLDe");__webpack_require__("N/iB");const today=new Date,currentYear=today.getFullYear(),currentMonth=today.getMonth(),fromMonth=new Date(currentYear-5,currentMonth),toMonth=new Date(currentYear+10,11);class element_Month extends external_wp_element_.Component{constructor(){super(...arguments),defineProperty_default()(this,"selectDay",(day=>{const{withRange:withRange}=this.props;let range={};withRange?(range=Object(external_tribe_modules_reactDayPicker_.addToRange)(day,this.state),null===range.from&&null===range.to&&(range.from=today,range.to=void 0),range.to&&external_moment_default()(range.to).isSame(range.from)&&(range.to=void 0)):(range.from=day,range.to=void 0),this.setState(this.maybeUpdate(range),(()=>{this.onSelectCallback()}))})),defineProperty_default()(this,"maybeUpdate",(range=>state=>state.from===range.from&&state.to===range.to?null:range)),defineProperty_default()(this,"onSelectCallback",(()=>{const{onSelect:onSelect}=this.props;onSelect(external_lodash_omit_default()(this.state,["withRange"]))})),defineProperty_default()(this,"getSelectedDays",(()=>{const{withRange:withRange,from:from,to:to}=this.props;return withRange?{from:from,to:to}:from})),this.state={toMonth:toMonth,from:null,to:null}}render(){const{from:from,to:to,month:month,withRange:withRange,setVisibleMonth:setVisibleMonth}=this.props,containerClass=external_tribe_modules_classnames_default()({"tribe-editor__calendars--range":withRange}),modifiers={selected:this.getSelectedDays()};return withRange&&from&&to&&(modifiers.range_start=from,modifiers.range_middle=((startDate,endDate)=>{const start=new Date(startDate);start.setHours(0,0,0,0);const end=new Date(endDate);end.setHours(0,0,0,0);const currentDate=new Date(start);currentDate.setDate(currentDate.getDate()+1);const dates=[];for(;currentDate<end;)dates.push(new Date(currentDate)),currentDate.setDate(currentDate.getDate()+1);return dates})(from,to),modifiers.range_end=to),wp.element.createElement(external_tribe_modules_reactDayPicker_.DayPicker,{mode:withRange?"range":"single",className:containerClass,startMonth:fromMonth,endMonth:this.state.toMonth,month:month,numberOfMonths:2,modifiers:modifiers,onDayClick:this.selectDay,onMonthChange:setVisibleMonth,captionLayout:"dropdown"})}}defineProperty_default()(element_Month,"propTypes",{withRange:external_tribe_modules_propTypes_default.a.bool,onSelect:external_tribe_modules_propTypes_default.a.func,from:external_tribe_modules_propTypes_default.a.instanceOf(Date),to:external_tribe_modules_propTypes_default.a.instanceOf(Date),month:external_tribe_modules_propTypes_default.a.instanceOf(Date),setVisibleMonth:external_tribe_modules_propTypes_default.a.func}),defineProperty_default()(element_Month,"defaultProps",{onSelect:external_lodash_noop_default.a,from:today,to:void 0,month:fromMonth,setVisibleMonth:external_lodash_noop_default.a});var elements_month=element_Month;__webpack_require__("V4E3");class template_SearchOrCreate extends external_wp_element_.Component{constructor(props){super(props),defineProperty_default()(this,"renderItem",(item=>{const{title:title={},id:id}=item,{rendered:rendered=""}=title;return wp.element.createElement("li",{key:id,onClick:this.props.onItemClick(item)},Object(he.decode)(rendered))})),defineProperty_default()(this,"renderResults",(()=>{const{isSelected:isSelected,term:term,isLoading:isLoading,posts:posts,onCreateClick:onCreateClick}=this.props;return!isSelected||external_lodash_isEmpty_default()(term)?null:isLoading?wp.element.createElement("div",{className:"tribe-editor__soc__results--loading"},wp.element.createElement(external_wp_components_.Spinner,null)):wp.element.createElement("ul",{className:"tribe-editor__soc__results"},wp.element.createElement("li",{onClick:onCreateClick},wp.element.createElement("strong",null,"Create"),": ",this.props.term),posts.map(this.renderItem))})),this.inputRef=external_React_default.a.createRef()}componentDidMount(){const{addBlock:addBlock,setSearchPostType:setSearchPostType,name:name,postType:postType,setFocus:setFocus}=this.props;addBlock(name),setSearchPostType(name,postType),setFocus(this.inputRef)}componentDidUpdate(){this.props.setFocus(this.inputRef)}componentWillUnmount(){const{clearBlock:clearBlock,name:name}=this.props;clearBlock(name)}render(){const{isSelected:isSelected,icon:icon,term:term,placeholder:placeholder,onInputChange:onInputChange}=this.props,containerClass=external_tribe_modules_classnames_default()("tribe-editor__soc__input__container",{"tribe-editor__soc__input__container--active":isSelected}),currentTerm=isSelected?term:"";return wp.element.createElement("section",{className:"tribe-soc__container"},wp.element.createElement("div",{className:containerClass},icon,wp.element.createElement("input",{className:"tribe-editor__soc__input",ref:this.inputRef,value:currentTerm,placeholder:placeholder,onChange:onInputChange})),this.renderResults())}}defineProperty_default()(template_SearchOrCreate,"defaultProps",{isSelected:!1,term:"",placeholder:Object(external_wp_i18n_.__)("Add or Find","the-events-calendar"),name:"",icon:null,posts:[],isLoading:!1,clearBlock:external_lodash_noop_default.a,setFocus:external_lodash_noop_default.a,onInputChange:external_lodash_noop_default.a,onCreateClick:external_lodash_noop_default.a,onItemClick:external_lodash_noop_default.a}),defineProperty_default()(template_SearchOrCreate,"propTypes",{isSelected:external_tribe_modules_propTypes_.PropTypes.bool,term:external_tribe_modules_propTypes_.PropTypes.string,placeholder:external_tribe_modules_propTypes_.PropTypes.string,name:external_tribe_modules_propTypes_.PropTypes.string,icon:external_tribe_modules_propTypes_.PropTypes.object,posts:external_tribe_modules_propTypes_.PropTypes.array,isLoading:external_tribe_modules_propTypes_.PropTypes.bool,clearBlock:external_tribe_modules_propTypes_.PropTypes.func,setFocus:external_tribe_modules_propTypes_.PropTypes.func,onInputChange:external_tribe_modules_propTypes_.PropTypes.func,onCreateClick:external_tribe_modules_propTypes_.PropTypes.func,onItemClick:external_tribe_modules_propTypes_.PropTypes.func,addBlock:external_tribe_modules_propTypes_.PropTypes.func,setSearchPostType:external_tribe_modules_propTypes_.PropTypes.func,postType:external_tribe_modules_propTypes_.PropTypes.string});var search_or_create_template=template_SearchOrCreate;function search_or_create_element_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function search_or_create_element_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?search_or_create_element_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):search_or_create_element_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const search_or_create_element_onInputChange=(dispatchProps,ownProps)=>event=>{const{setTerm:setTerm,search:search}=dispatchProps,{name:name,exclude:exclude}=ownProps,{value:value}=event.target;setTerm(name,value),search(name,{term:value,exclude:exclude,perPage:5})},search_or_create_element_onItemClick=(dispatchProps,ownProps)=>item=>()=>{const{clearBlock:clearBlock}=dispatchProps,{name:name,onItemSelect:onItemSelect}=ownProps;onItemSelect(item.id,item),clearBlock(name)};var search_or_create=Object(external_tribe_modules_reactRedux_.connect)(((state,props)=>({term:search_selectors_namespaceObject.getSearchTerm(state,props),isLoading:search_selectors_namespaceObject.getIsLoading(state,props),posts:search_selectors_namespaceObject.getResults(state,props)})),(dispatch=>search_or_create_element_objectSpread(search_or_create_element_objectSpread({},Object(external_tribe_modules_redux_.bindActionCreators)(search_actions_namespaceObject,dispatch)),Object(external_tribe_modules_redux_.bindActionCreators)(search_thunks_namespaceObject,dispatch))),((stateProps,dispatchProps,ownProps)=>{return search_or_create_element_objectSpread(search_or_create_element_objectSpread(search_or_create_element_objectSpread(search_or_create_element_objectSpread({},ownProps),stateProps),dispatchProps),{},{setFocus:(isSelected=ownProps.isSelected,inputRef=>{isSelected&&inputRef.current&&document.activeElement!==inputRef.current&&inputRef.current.focus()}),onInputChange:search_or_create_element_onInputChange(dispatchProps,ownProps),onCreateClick:(term=stateProps.term,onCreateNew=ownProps.onCreateNew,()=>onCreateNew(term)),onItemClick:search_or_create_element_onItemClick(dispatchProps,ownProps)});var term,onCreateNew,isSelected}))(search_or_create_template);__webpack_require__("8czI");const loading_Loading=({className:className})=>wp.element.createElement("span",{className:external_tribe_modules_classnames_default()(["tribe-editor__spinner-container",className])},wp.element.createElement(external_wp_components_.Spinner,null));loading_Loading.propTypes={className:external_tribe_modules_propTypes_default.a.string};var loading=loading_Loading;__webpack_require__("8w14");const YearMonthForm=({today:today,date:date,localeUtils:localeUtils,onChange:onChange})=>{const currentYear=today.getFullYear(),currentMonth=today.getMonth(),toMonth=new Date(currentYear+10,11),months=localeUtils.getMonths(),years=[];for(let i=currentYear-5;i<=toMonth.getFullYear();i++)years.push(i);const handleChange=e=>{const{year:year,month:month}=e.target.form;onChange(new Date(year.value,month.value))};return wp.element.createElement("form",{className:"tribe-editor__year-month-form"},wp.element.createElement("select",{className:"tribe-editor__year-month-form__month",name:"month",onChange:handleChange,value:date.getMonth()},months.map(((month,monthNum)=>date.getFullYear()===currentYear-5&&monthNum<currentMonth?wp.element.createElement("option",{key:month,value:monthNum,disabled:!0},month):wp.element.createElement("option",{key:month,value:monthNum},month)))),wp.element.createElement("select",{className:"tribe-editor__year-month-form__year",name:"year",onChange:handleChange,value:date.getFullYear()},years.map((year=>date.getMonth()<currentMonth&&year===currentYear-5?wp.element.createElement("option",{key:year,value:year,disabled:!0},year):wp.element.createElement("option",{key:year,value:year},year)))))};YearMonthForm.propTypes={today:external_tribe_modules_propTypes_.PropTypes.instanceOf(Date),date:external_tribe_modules_propTypes_.PropTypes.instanceOf(Date),localeUtils:external_tribe_modules_propTypes_.PropTypes.object,onChange:external_tribe_modules_propTypes_.PropTypes.func};var year_month_form=YearMonthForm;__webpack_require__("oJLs");var upsell=()=>wp.element.createElement("div",{className:"tribe-editor__subtitle__footer-upsell"},wp.element.createElement("p",{className:"tribe-editor__subtitle__footer-upsell-text"},Object(external_wp_i18n_.__)("Turbocharge your events with our premium calendar and ticketing add-ons. ","the-events-calendar"),wp.element.createElement("a",{href:"http://evnt.is/1a8q",className:"tribe-editor__subtitle__footer-upsell-link",target:"_blank",rel:"noopener noreferrer"},Object(external_wp_i18n_._x)("Check 'em out!","linked text for plugin add-ons","the-events-calendar"))));__webpack_require__("kXZL");const Timezone=({value:value="",placeholder:placeholder="",className:className="tribe-editor__timezone-input",onChange:onChange=external_lodash_noop_default.a})=>wp.element.createElement(AutosizeInput_default.a,{className:className,value:value,placeholder:placeholder,onChange:external_tribe_common_utils_.input.sendValue(onChange)});Timezone.propTypes={value:external_tribe_modules_propTypes_default.a.string,placeholder:external_tribe_modules_propTypes_default.a.string,onChange:external_tribe_modules_propTypes_default.a.func,className:external_tribe_modules_propTypes_default.a.oneOfType([external_tribe_modules_propTypes_default.a.string,external_tribe_modules_propTypes_default.a.arrayOf(external_tribe_modules_propTypes_default.a.string)])};var timezone=Timezone;__webpack_require__("tOtL");const EditLink=({postId:postId=0,label:label=Object(external_wp_i18n_.__)("Edit","the-events-calendar"),target:target="_blank"})=>{const admin=external_lodash_get_default()(external_tribe_common_utils_.globals.common(),"adminUrl","");if(!admin||!postId)return null;const extraProps={rel:"_blank"===target?"noreferrer noopener":void 0};return wp.element.createElement("a",extends_default()({className:"tribe-editor__edit-link",href:`${admin}post.php?post=${postId}&action=edit`,target:target},extraProps),label)};EditLink.propTypes={postId:external_tribe_modules_propTypes_default.a.number,label:external_tribe_modules_propTypes_default.a.string,target:external_tribe_modules_propTypes_default.a.string};var edit_link=EditLink,external_lodash_isEqual_=__webpack_require__("zgRa"),external_lodash_isEqual_default=__webpack_require__.n(external_lodash_isEqual_);function with_details_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function with_details_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?with_details_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):with_details_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var with_details=(key="clientId")=>WrappedComponent=>{class WithDetails extends external_React_.Component{constructor(props){super(props),this.details={id:null,type:""}}componentDidMount(){this.fetch()}componentDidUpdate(){this.fetch()}get id(){return this.props[key]}fetch(){if(external_lodash_isUndefined_default()(this.id)||!this.id)return;const{setDetailsPostType:setDetailsPostType,postType:postType,fetchDetails:fetchDetails}=this.props,tmp={id:this.id,postType:postType};external_lodash_isEqual_default()(this.details,tmp)||(setDetailsPostType(this.id,postType),fetchDetails(this.id),this.details=tmp)}render(){return wp.element.createElement(WrappedComponent,this.props)}}defineProperty_default()(WithDetails,"propTypes",{setDetailsPostType:external_tribe_modules_propTypes_default.a.func,fetchDetails:external_tribe_modules_propTypes_default.a.func,postType:external_tribe_modules_propTypes_default.a.string,isLoading:external_tribe_modules_propTypes_default.a.bool,details:external_tribe_modules_propTypes_default.a.object});return Object(external_tribe_modules_reactRedux_.connect)(((state,props)=>{const name=props[key];return{details:details_selectors_namespaceObject.getDetails(state,{name:name}),isLoading:details_selectors_namespaceObject.getIsLoading(state,{name:name}),volatile:details_selectors_namespaceObject.getVolatile(state,{name:name})}}),(dispatch=>with_details_objectSpread(with_details_objectSpread({},Object(external_tribe_modules_redux_.bindActionCreators)(details_actions_namespaceObject,dispatch)),Object(external_tribe_modules_redux_.bindActionCreators)(thunks_namespaceObject,dispatch))))(WithDetails)};__webpack_require__("T6p8");const EventDetailsOrganizer=props=>{const{isLoading:isLoading,details:details}=props;return wp.element.createElement("li",null,isLoading||external_lodash_isEmpty_default()(details)?wp.element.createElement(loading,{className:"tribe-editor__spinner--item"}):wp.element.createElement(external_React_.Fragment,null,(({title:title})=>{const{rendered:rendered=Object(external_wp_i18n_.__)("(Untitled)","the-events-calendar")}=title;return external_lodash_trim_default()(external_lodash_unescape_default()(rendered))})(props.details),(({organizerId:organizerId,block:block,volatile:volatile,onRemoveClick:onRemoveClick})=>!(block||volatile)&&wp.element.createElement(external_tribe_common_utils_globals_.IconButton,{className:"tribe-editor__btn tribe-editor__btn--action",label:Object(external_wp_i18n_.__)("Remove Organizer","the-events-calendar"),onClick:onRemoveClick(organizerId),icon:wp.element.createElement(external_wp_components_.Dashicon,{icon:"no"})}))(props)))};EventDetailsOrganizer.propTypes={details:external_tribe_modules_propTypes_default.a.object,isLoading:external_tribe_modules_propTypes_default.a.bool,organizerId:external_tribe_modules_propTypes_default.a.number,block:external_tribe_modules_propTypes_default.a.bool,volatie:external_tribe_modules_propTypes_default.a.bool,onRemoveClick:external_tribe_modules_propTypes_default.a.func};var event_details_organizer_template=EventDetailsOrganizer,container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),with_details("organizerId"))(event_details_organizer_template);const EventDetailsOrganizers=props=>{const{addOrganizer:addOrganizer,removeOrganizer:removeOrganizer,organizers:organizers}=props;return wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("div",{key:"organizer-list"},wp.element.createElement("ul",{className:external_tribe_modules_classnames_default()("tribe-editor__organizer__list")},organizers.map((({id:id,block:block})=>wp.element.createElement(container,{organizerId:id,block:block,key:id,postType:external_tribe_common_data_.editor.ORGANIZER,onRemoveClick:removeOrganizer}))))),wp.element.createElement("div",{key:"organizer-actions"},wp.element.createElement(search_posts,{key:"organizer-search-dropdown",name:"search-organizers-classic",postType:external_tribe_common_data_.editor.ORGANIZER,searchLabel:Object(external_wp_i18n_.__)("Search for an organizer","the-events-calendar"),iconLabel:Object(external_wp_i18n_.__)("Add existing Organizer","the-events-calendar"),onItemSelect:addOrganizer,exclude:organizers.map((({id:id})=>id))}),wp.element.createElement(external_wp_components_.Dropdown,{key:"organizer-create-dropdown",className:"tribe-editor__organizer__dropdown",popoverProps:{placement:"bottom center"},contentClassName:"tribe-editor-dropdown__dialog",renderToggle:({onToggle:onToggle})=>wp.element.createElement(external_tribe_common_utils_globals_.IconButton,{className:"tribe-editor__btn",label:Object(external_wp_i18n_.__)("Create Organizer"),onClick:onToggle,icon:wp.element.createElement(external_wp_components_.Dashicon,{icon:"plus"})}),renderContent:({onClose:onClose,isOpen:isOpen})=>wp.element.createElement(organizer_form,{addOrganizer:props.addOrganizer,onClose:onClose,"aria-expanded":isOpen})})))};EventDetailsOrganizers.propTypes={organizers:external_tribe_modules_propTypes_default.a.array.isRequired,addOrganizer:external_tribe_modules_propTypes_default.a.func.isRequired,removeOrganizer:external_tribe_modules_propTypes_default.a.func.isRequired};var event_details_organizers_template=EventDetailsOrganizers;const container_excluded=["state"],_excluded2=["dispatch"];function container_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function container_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?container_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):container_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var event_details_organizers_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)((state=>({organizers:organizers_selectors_namespaceObject.getMappedOrganizers(state),state:state})),null,((stateProps,dispatchProps,ownProps)=>{const{state:state}=stateProps,restStateProps=objectWithoutProperties_default()(stateProps,container_excluded),{dispatch:dispatch}=dispatchProps,restDispatchProps=objectWithoutProperties_default()(dispatchProps,_excluded2);return container_objectSpread(container_objectSpread(container_objectSpread(container_objectSpread({},ownProps),restStateProps),restDispatchProps),{},{addOrganizer:(id,details)=>{const organizers=organizers_selectors_namespaceObject.getOrganizersInClassic(state);ownProps.setAttributes({organizers:external_lodash_uniq_default()([...organizers,id])}),dispatch(details_actions_namespaceObject.setDetails(id,details)),dispatch(organizers_actions_namespaceObject.addOrganizerInClassic(id))},removeOrganizer:id=>()=>{const newOrganizers=organizers_selectors_namespaceObject.getOrganizersInClassic(state).filter((organizerId=>organizerId!==id));ownProps.setAttributes({organizers:newOrganizers}),dispatch(organizers_actions_namespaceObject.removeOrganizerInClassic(id))}})})))(event_details_organizers_template);const{PlainText:PlainText,InspectorControls:InspectorControls}=external_tribe_common_utils_globals_.wpEditor,{toMoment:template_toMoment,toDate:toDate,toTime:template_toTime}=external_tribe_common_utils_.moment,ClassicEventDetails=props=>{const{attributes:attributes,isSelected:isSelected,allDay:allDay,setAllDay:setAllDay,currencyPosition:currencyPosition,setCurrencyPosition:setCurrencyPosition,currencySymbol:currencySymbol,currencyCode:currencyCode,setSymbol:setSymbol,setCode:setCode,setAttributes:setAttributes}=props;return[wp.element.createElement("div",{key:"event-details-box",className:"tribe-editor__block tribe-editor__event-details"},wp.element.createElement(meta_group,{groupKey:"event-details"},(()=>{const{attributes:attributes,setAttributes:setAttributes}=props;return wp.element.createElement(AutosizeInput_default.a,{className:"tribe-editor__events-section__headline trigger-dashboard-datetime",value:attributes.detailsTitle,placeholder:Object(external_wp_i18n_.__)("Details","the-events-calendar"),onChange:e=>setAttributes({detailsTitle:e.target.value})})})(),(()=>{const{start:start,allDay:allDay,toggleDashboardDateTime:toggleDashboardDateTime,separatorDate:separatorDate}=props;return wp.element.createElement("div",null,wp.element.createElement("button",{className:"tribe-editor__btn--label trigger-dashboard-datetime",onClick:toggleDashboardDateTime},wp.element.createElement("strong",null,Object(external_wp_i18n_.__)("Start: ","the-events-calendar")),toDate(template_toMoment(start),external_tribe_common_utils_.date.FORMATS.WP.date),!allDay&&wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("span",null," ".concat(separatorDate," ")),wp.element.createElement("span",null,template_toTime(template_toMoment(start),external_tribe_common_utils_.date.FORMATS.WP.time)))))})(),(()=>{const{end:end,allDay:allDay,toggleDashboardDateTime:toggleDashboardDateTime,separatorDate:separatorDate}=props;return wp.element.createElement("div",null,wp.element.createElement("button",{className:"tribe-editor__btn--label trigger-dashboard-datetime",onClick:toggleDashboardDateTime},wp.element.createElement("strong",null,Object(external_wp_i18n_.__)("End: ","the-events-calendar")),toDate(template_toMoment(end),external_tribe_common_utils_.date.FORMATS.WP.date),!allDay&&wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("span",null," ".concat(separatorDate," ")),wp.element.createElement("span",null,template_toTime(template_toMoment(end),external_tribe_common_utils_.date.FORMATS.WP.time)))))})(),(()=>{const{url:url,setWebsite:setWebsite}=props;return wp.element.createElement("div",null,wp.element.createElement("strong",null,Object(external_wp_i18n_.__)("Website: ","the-events-calendar")),wp.element.createElement("br",null),wp.element.createElement(PlainText,{id:"tribe-event-url",value:url,placeholder:Object(external_wp_i18n_.__)("Enter url","the-events-calendar"),onChange:setWebsite}))})(),(()=>{const{setCost:setCost,cost:cost,currencyPosition:currencyPosition,currencySymbol:currencySymbol}=props,textClassName=external_tribe_modules_classnames_default()(["tribe-editor__event-cost__value",`tribe-editor-cost-symbol-position-${currencyPosition}`]);return wp.element.createElement("div",{className:"tribe-editor__event-cost"},wp.element.createElement("strong",null,Object(external_wp_i18n_.__)("Price: ","the-events-calendar")),wp.element.createElement("br",null),"prefix"===currencyPosition&&wp.element.createElement("span",null,currencySymbol),wp.element.createElement(PlainText,{className:textClassName,value:cost,placeholder:Object(external_wp_i18n_.__)("Enter price","the-events-calendar"),onChange:setCost}),"suffix"===currencyPosition&&wp.element.createElement("span",null,currencySymbol))})(),wp.element.createElement(terms_list,{slug:"tribe_events_cat",label:Object(external_wp_i18n_.__)("Event Category:","the-events-calendar")}),wp.element.createElement(terms_list,{slug:"post_tag",label:Object(external_wp_i18n_.__)("Event Tags:","the-events-calendar")})),wp.element.createElement(meta_group,{groupKey:"organizer"},wp.element.createElement(AutosizeInput_default.a,{className:"tribe-editor__events-section__headline",value:attributes.organizerTitle,placeholder:Object(external_wp_i18n_.__)("Organizer","the-events-calendar"),onChange:e=>setAttributes({organizerTitle:e.target.value})}),wp.element.createElement(event_details_organizers_container,{setAttributes:setAttributes}))),isSelected&&wp.element.createElement(InspectorControls,{key:"inspector"},wp.element.createElement(external_wp_components_.PanelBody,{title:Object(external_wp_i18n_.__)("Date Time Settings","the-events-calendar")},wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Is All Day Event","the-events-calendar"),checked:allDay,onChange:setAllDay,__nextHasNoMarginBottom:!0})),wp.element.createElement(external_wp_components_.PanelBody,{title:Object(external_wp_i18n_.__)("Price Settings","the-events-calendar")},wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Show symbol before","the-events-calendar"),checked:"prefix"===currencyPosition,onChange:setCurrencyPosition,__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.TextControl,{label:Object(external_wp_i18n_.__)(" Currency Symbol","the-events-calendar"),value:currencySymbol,placeholder:Object(external_wp_i18n_.__)("E.g.: $","the-events-calendar"),onChange:setSymbol,__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.TextControl,{label:Object(external_wp_i18n_.__)(" Currency Code","the-events-calendar"),value:currencyCode,placeholder:Object(external_wp_i18n_.__)("E.g.: USD","the-events-calendar"),onChange:setCode,__nextHasNoMarginBottom:!0})))]};ClassicEventDetails.propTypes={url:external_tribe_modules_propTypes_default.a.string,start:external_tribe_modules_propTypes_default.a.string,end:external_tribe_modules_propTypes_default.a.string,separatorDate:external_tribe_modules_propTypes_default.a.string,cost:external_tribe_modules_propTypes_default.a.string,currencyPosition:external_tribe_modules_propTypes_default.a.string,currencySymbol:external_tribe_modules_propTypes_default.a.string,currencyCode:external_tribe_modules_propTypes_default.a.string,allDay:external_tribe_modules_propTypes_default.a.bool,isSelected:external_tribe_modules_propTypes_default.a.bool,setWebsite:external_tribe_modules_propTypes_default.a.func,setCost:external_tribe_modules_propTypes_default.a.func,toggleDashboardDateTime:external_tribe_modules_propTypes_default.a.func,setSymbol:external_tribe_modules_propTypes_default.a.func,setCode:external_tribe_modules_propTypes_default.a.func,setCurrencyPosition:external_tribe_modules_propTypes_default.a.func,setAllDay:external_tribe_modules_propTypes_default.a.func};var classic_event_details_template=ClassicEventDetails;__webpack_require__("hkzn");const HumanReadableInput=({onChange:onChange,naturalLanguageLabel:naturalLanguageLabel,before:before,after:after})=>wp.element.createElement("div",{className:"tribe-editor__date-input__container"},before,wp.element.createElement("input",{type:"text",name:"date-input",className:"tribe-editor__date-input",value:naturalLanguageLabel,onChange:onChange}),after);HumanReadableInput.propTypes={onChange:external_tribe_modules_propTypes_default.a.func,naturalLanguageLabel:external_tribe_modules_propTypes_default.a.string,before:external_tribe_modules_propTypes_default.a.node,after:external_tribe_modules_propTypes_default.a.node};var human_readable_input_template=HumanReadableInput;var human_readable_input_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)((state=>({naturalLanguageLabel:selectors_namespaceObject.getNaturalLanguageLabel(state)})),((dispatch,ownProps)=>({onChange:event=>{dispatch(actions_namespaceObject.setNaturalLanguageLabel(event.target.value,{setAttributes:ownProps.setAttributes}))}}))))(human_readable_input_template);const{FORMATS:FORMATS,TODAY:TODAY}=external_tribe_common_utils_.date,{toMoment:content_template_toMoment,toDate:template_toDate,toDateNoYear:toDateNoYear,toTime:content_template_toTime,isSameYear:isSameYear}=external_tribe_common_utils_.moment;FORMATS.date=Object(external_tribe_common_utils_globals_.settings)()&&Object(external_tribe_common_utils_globals_.settings)().dateWithYearFormat?Object(external_tribe_common_utils_globals_.settings)().dateWithYearFormat:Object(external_wp_i18n_.__)("F j","the-events-calendar");const renderSeparator=(props,type,className)=>{const{separatorDate:separatorDate,separatorTime:separatorTime}=props;switch(type){case"date-time":return wp.element.createElement("span",{className:external_tribe_modules_classnames_default()("tribe-editor__separator",className)},` ${separatorDate} `);case"time-range":return wp.element.createElement("span",{className:external_tribe_modules_classnames_default()("tribe-editor__separator",className)},` ${separatorTime} `);case"all-day":return wp.element.createElement("span",{className:external_tribe_modules_classnames_default()("tribe-editor__separator",className)},Object(external_wp_i18n_.__)("All Day","the-events-calendar"));default:return null}},renderExtras=props=>wp.element.createElement(external_React_.Fragment,null,(props=>{const{attributes:attributes,setAttributes:setAttributes}=props,{timeZoneLabel:timeZoneLabel,showTimeZone:showTimeZone}=attributes;return showTimeZone&&wp.element.createElement("span",{key:"time-zone",className:"tribe-editor__time-zone"},wp.element.createElement(timezone,{value:timeZoneLabel,placeholder:timeZoneLabel,onChange:label=>setAttributes({timeZoneLabel:label})}))})(props)),EventDateTimeContent=props=>{const{multiDay:multiDay,allDay:allDay,sameStartEnd:sameStartEnd,isEditable:isEditable,setAttributes:setAttributes,isOpen:isOpen,open:open}=props;return isOpen&&isEditable?wp.element.createElement(human_readable_input_container,{after:renderExtras(props),setAttributes:setAttributes}):wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("h2",{className:"tribe-editor__subtitle__headline"},wp.element.createElement("div",{className:"tribe-editor__subtitle__headline-content"},wp.element.createElement("button",{className:"tribe-editor__btn--label tribe-editor__subtitle__headline-button",onClick:open,disabled:!isEditable},(({start:start,end:end})=>{let startDate=template_toDate(content_template_toMoment(start));return isSameYear(start,end)&&isSameYear(start,TODAY)&&(startDate=toDateNoYear(content_template_toMoment(start))),wp.element.createElement("span",{className:"tribe-editor__subtitle__headline-date"},startDate)})(props),(props=>{const{start:start,allDay:allDay}=props;return allDay?null:wp.element.createElement(external_React_.Fragment,null,renderSeparator(props,"date-time"),content_template_toTime(content_template_toMoment(start),FORMATS.WP.time))})(props),(multiDay||!allDay&&!sameStartEnd)&&renderSeparator(props,"time-range"),(({start:start,end:end,multiDay:multiDay})=>{if(!multiDay)return null;let endDate=template_toDate(content_template_toMoment(end));return isSameYear(start,end)&&isSameYear(start,TODAY)&&(endDate=toDateNoYear(content_template_toMoment(end))),wp.element.createElement("span",{className:"tribe-editor__subtitle__headline-date"},endDate)})(props),(props=>{const{end:end,multiDay:multiDay,allDay:allDay,sameStartEnd:sameStartEnd}=props;return allDay||sameStartEnd?null:wp.element.createElement(external_React_.Fragment,null,multiDay&&renderSeparator(props,"date-time"),content_template_toTime(content_template_toMoment(end),FORMATS.WP.time))})(props),allDay&&renderSeparator(props,"all-day")),renderExtras(props))),(props=>external_tribe_common_utils_globals_.wpHooks.applyFilters("blocks.eventDatetime.contentHook",null,props))(props))};EventDateTimeContent.propTypes={multiDay:external_tribe_modules_propTypes_default.a.bool,allDay:external_tribe_modules_propTypes_default.a.bool,sameStartEnd:external_tribe_modules_propTypes_default.a.bool,isEditable:external_tribe_modules_propTypes_default.a.bool,setAttributes:external_tribe_modules_propTypes_default.a.func,isOpen:external_tribe_modules_propTypes_default.a.bool,open:external_tribe_modules_propTypes_default.a.func},EventDateTimeContent.propTypes={allDay:external_tribe_modules_propTypes_default.a.bool,cost:external_tribe_modules_propTypes_default.a.string,currencyPosition:external_tribe_modules_propTypes_default.a.oneOf(["prefix","suffix",""]),currencySymbol:external_tribe_modules_propTypes_default.a.string,currencyCode:external_tribe_modules_propTypes_default.a.string,currencyCost:external_tribe_modules_propTypes_default.a.string,end:external_tribe_modules_propTypes_default.a.string,isEditable:external_tribe_modules_propTypes_default.a.bool,isOpen:external_tribe_modules_propTypes_default.a.bool,multiDay:external_tribe_modules_propTypes_default.a.bool,open:external_tribe_modules_propTypes_default.a.func,sameStartEnd:external_tribe_modules_propTypes_default.a.bool,separatorDate:external_tribe_modules_propTypes_default.a.string,separatorTime:external_tribe_modules_propTypes_default.a.string,setCost:external_tribe_modules_propTypes_default.a.func,start:external_tribe_modules_propTypes_default.a.string};var content_template=EventDateTimeContent;var content_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)((state=>({allDay:selectors_namespaceObject.getAllDay(state),cost:price_selectors_namespaceObject.getPrice(state),currencyPosition:price_selectors_namespaceObject.getPosition(state),currencySymbol:price_selectors_namespaceObject.getSymbol(state),currencyCode:price_selectors_namespaceObject.getCode(state),end:selectors_namespaceObject.getEnd(state),isEditable:selectors_namespaceObject.isEditable(state),multiDay:selectors_namespaceObject.getMultiDay(state),sameStartEnd:selectors_namespaceObject.getSameStartEnd(state),separatorDate:selectors_namespaceObject.getDateSeparator(state),separatorTime:selectors_namespaceObject.getTimeSeparator(state),start:selectors_namespaceObject.getStart(state)})),((dispatch,ownProps)=>({setCost:value=>{ownProps.setAttributes({cost:value}),dispatch(price_actions_namespaceObject.setCost(value))}}))))(content_template);const{InspectorControls:template_InspectorControls}=external_tribe_common_utils_globals_.wpEditor,{timezonesAsSelectData:timezonesAsSelectData}=external_tribe_common_utils_.date,EventDateTimeControls=props=>{const{attributes:attributes,separatorDate:separatorDate,separatorTime:separatorTime,setSeparatorDate:setSeparatorDate,setSeparatorTime:setSeparatorTime,setTimeZone:setTimeZone,setAttributes:setAttributes,timeZone:timeZone,isEditable:isEditable}=props;return isEditable&&wp.element.createElement(template_InspectorControls,{key:"inspector"},wp.element.createElement(external_wp_components_.PanelBody,{title:Object(external_wp_i18n_.__)("Date Time Settings","the-events-calendar")},wp.element.createElement(external_wp_components_.TextControl,{label:Object(external_wp_i18n_.__)("Date Time Separator","the-events-calendar"),value:separatorDate,onChange:setSeparatorDate,className:"tribe-editor__date-time__date-time-separator-setting",maxLength:"2",__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.TextControl,{label:Object(external_wp_i18n_.__)("Time Range Separator","the-events-calendar"),value:separatorTime,onChange:setSeparatorTime,className:"tribe-editor__date-time__time-range-separator-setting",maxLength:"2",__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.SelectControl,{label:Object(external_wp_i18n_.__)("Time Zone","the-events-calendar"),value:timeZone,onChange:setTimeZone,options:timezonesAsSelectData(),className:"tribe-editor__date-time__time-zone-setting",__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Show Time Zone","the-events-calendar"),checked:attributes.showTimeZone,onChange:value=>setAttributes({showTimeZone:value}),__nextHasNoMarginBottom:!0})))};EventDateTimeControls.propTypes={attributes:external_tribe_modules_propTypes_default.a.object,isEditable:external_tribe_modules_propTypes_default.a.bool.isRequired,onTimeZoneVisibilityChange:external_tribe_modules_propTypes_default.a.func,separatorDate:external_tribe_modules_propTypes_default.a.string,separatorTime:external_tribe_modules_propTypes_default.a.string,setSeparatorDate:external_tribe_modules_propTypes_default.a.func,setSeparatorTime:external_tribe_modules_propTypes_default.a.func,setTimeZone:external_tribe_modules_propTypes_default.a.func,setAttributes:external_tribe_modules_propTypes_default.a.func,timeZone:external_tribe_modules_propTypes_default.a.string};var controls_template=EventDateTimeControls;var controls_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)((state=>({isEditable:selectors_namespaceObject.isEditable(state),separatorDate:selectors_namespaceObject.getDateSeparator(state),separatorTime:selectors_namespaceObject.getTimeSeparator(state),timeZone:selectors_namespaceObject.getTimeZone(state)})),((dispatch,{setAttributes:setAttributes})=>({setSeparatorDate:value=>{setAttributes({separatorDate:value}),dispatch(actions_namespaceObject.setSeparatorDate(value))},setSeparatorTime:value=>{setAttributes({separatorTime:value}),dispatch(actions_namespaceObject.setSeparatorTime(value))},setTimeZone:value=>{setAttributes({timeZone:value}),dispatch(actions_namespaceObject.setTimeZone(value))}}))))(controls_template),external_tribe_common_elements_=__webpack_require__("6Ugf");const{FORMATS:template_FORMATS,TODAY:template_TODAY}=external_tribe_common_utils_.date,{toMoment:dashboard_template_toMoment,toDate:dashboard_template_toDate,toDateNoYear:template_toDateNoYear,isSameYear:template_isSameYear}=external_tribe_common_utils_.moment,{editorConstants:editorConstants,settings:settings,wpHooks:wpHooks}=external_tribe_common_utils_.globals;template_FORMATS.date=settings()&&settings().dateWithYearFormat?settings().dateWithYearFormat:Object(external_wp_i18n_.__)("F j","the-events-calendar");class template_Calendars extends external_React_.PureComponent{constructor(props){super(props),defineProperty_default()(this,"setVisibleMonth",(visibleMonth=>{this.setState({visibleMonth:visibleMonth})})),this.state={visibleMonth:dashboard_template_toMoment(props.start).toDate()}}render(){const{start:start,end:end,multiDay:multiDay,onSelect:onSelect}=this.props,monthProps={className:"tribe-editor__calendars__month",onSelect:onSelect,withRange:multiDay,from:dashboard_template_toMoment(start).toDate(),month:this.state.visibleMonth,setVisibleMonth:this.setVisibleMonth};return multiDay&&(monthProps.to=dashboard_template_toMoment(end).toDate()),wp.element.createElement(elements_month,monthProps)}}defineProperty_default()(template_Calendars,"propTypes",{end:external_tribe_modules_propTypes_default.a.string,multiDay:external_tribe_modules_propTypes_default.a.bool,onSelect:external_tribe_modules_propTypes_default.a.func,start:external_tribe_modules_propTypes_default.a.string});const EventDateTimeDashboard=props=>{const{multiDay:multiDay,allDay:allDay,separatorTime:separatorTime,isOpen:isOpen}=props;return wp.element.createElement(dashboard,{isOpen:isOpen},wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("section",{className:"tribe-editor__calendars"},wp.element.createElement(template_Calendars,props)),wp.element.createElement("footer",{className:"tribe-editor__subtitle__footer"},wp.element.createElement("div",{className:"tribe-editor__subtitle__footer-date"},wp.element.createElement("div",{className:"tribe-editor__subtitle__time-pickers"},(({start:start,end:end,startTimeInput:startTimeInput,allDay:allDay,onStartTimePickerBlur:onStartTimePickerBlur,onStartTimePickerChange:onStartTimePickerChange,onStartTimePickerClick:onStartTimePickerClick})=>{const timePickerProps={current:startTimeInput,start:external_tribe_common_utils_.time.START_OF_DAY,end:external_tribe_common_utils_.time.END_OF_DAY,onBlur:onStartTimePickerBlur,onChange:onStartTimePickerChange,onClick:onStartTimePickerClick,timeFormat:template_FORMATS.WP.time,showAllDay:!0,allDay:allDay};let startDate=dashboard_template_toDate(dashboard_template_toMoment(start));return template_isSameYear(start,end)&&template_isSameYear(start,template_TODAY)&&(startDate=template_toDateNoYear(dashboard_template_toMoment(start))),wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("span",{className:"tribe-editor__time-picker__label"},startDate),wp.element.createElement(external_tribe_common_elements_.TimePicker,timePickerProps))})(props),(multiDay||!allDay)&&wp.element.createElement("span",{className:external_tribe_modules_classnames_default()("tribe-editor__separator","tribe-editor__time-picker__separator")},` ${separatorTime} `),(({start:start,end:end,endTimeInput:endTimeInput,multiDay:multiDay,allDay:allDay,onEndTimePickerBlur:onEndTimePickerBlur,onEndTimePickerChange:onEndTimePickerChange,onEndTimePickerClick:onEndTimePickerClick})=>{if(!multiDay&&allDay)return null;const timePickerProps={current:endTimeInput,start:external_tribe_common_utils_.time.START_OF_DAY,end:external_tribe_common_utils_.time.END_OF_DAY,onBlur:onEndTimePickerBlur,onChange:onEndTimePickerChange,onClick:onEndTimePickerClick,timeFormat:template_FORMATS.WP.time,showAllDay:!0,allDay:allDay};let endDate=dashboard_template_toDate(dashboard_template_toMoment(end));return template_isSameYear(start,end)&&template_isSameYear(start,template_TODAY)&&(endDate=template_toDateNoYear(dashboard_template_toMoment(end))),wp.element.createElement(external_React_.Fragment,null,multiDay&&wp.element.createElement("span",{className:"tribe-editor__time-picker__label"},endDate),wp.element.createElement(external_tribe_common_elements_.TimePicker,timePickerProps))})(props)),wp.element.createElement("div",{className:"tribe-editor__subtitle__footer-multiday"},(({multiDay:multiDay,onMultiDayToggleChange:onMultiDayToggleChange})=>wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Multi-Day","the-events-calendar"),checked:multiDay,onChange:onMultiDayToggleChange,__nextHasNoMarginBottom:!0}))(props))),(props=>wpHooks.applyFilters("blocks.eventDatetime.dashboardHook",null,props))(props),!editorConstants().hideUpsell&&wp.element.createElement(upsell,null))))};EventDateTimeDashboard.propTypes={allDay:external_tribe_modules_propTypes_default.a.bool,end:external_tribe_modules_propTypes_default.a.string,endTimeInput:external_tribe_modules_propTypes_default.a.string,isOpen:external_tribe_modules_propTypes_default.a.bool,multiDay:external_tribe_modules_propTypes_default.a.bool,onEndTimePickerBlur:external_tribe_modules_propTypes_default.a.func,onEndTimePickerChange:external_tribe_modules_propTypes_default.a.func,onEndTimePickerClick:external_tribe_modules_propTypes_default.a.func,onMultiDayToggleChange:external_tribe_modules_propTypes_default.a.func,onSelect:external_tribe_modules_propTypes_default.a.func,onStartTimePickerBlur:external_tribe_modules_propTypes_default.a.func,onStartTimePickerChange:external_tribe_modules_propTypes_default.a.func,onStartTimePickerClick:external_tribe_modules_propTypes_default.a.func,separatorTime:external_tribe_modules_propTypes_default.a.string,start:external_tribe_modules_propTypes_default.a.string,startTimeInput:external_tribe_modules_propTypes_default.a.string};var dashboard_template=EventDateTimeDashboard;var dashboard_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)((state=>({allDay:selectors_namespaceObject.getAllDay(state),start:selectors_namespaceObject.getStart(state),end:selectors_namespaceObject.getEnd(state),startTimeInput:selectors_namespaceObject.getStartTimeInput(state),endTimeInput:selectors_namespaceObject.getEndTimeInput(state),multiDay:selectors_namespaceObject.getMultiDay(state),separatorTime:selectors_namespaceObject.getTimeSeparator(state)})),((dispatch,ownProps)=>{const meta={setAttributes:ownProps.setAttributes};return{onSelect:({from:from,to:to})=>dispatch(actions_namespaceObject.setDateRange({from:from,to:to},meta)),onStartTimePickerBlur:e=>{let startTimeMoment=external_tribe_common_utils_.moment.toMoment(e.target.value,external_tribe_common_utils_.moment.TIME_FORMAT,!1);startTimeMoment.isValid()||(startTimeMoment=defaultStartMoment);const seconds=external_tribe_common_utils_.moment.totalSeconds(startTimeMoment);dispatch(actions_namespaceObject.setStartTime(seconds,meta))},onStartTimePickerChange:e=>dispatch(actions_namespaceObject.setStartTimeInput(e.target.value)),onStartTimePickerClick:(value,onClose)=>{dispatch(actions_namespaceObject.setStartTime(value,meta)),onClose()},onEndTimePickerBlur:e=>{let endTimeMoment=external_tribe_common_utils_.moment.toMoment(e.target.value,external_tribe_common_utils_.moment.TIME_FORMAT,!1);endTimeMoment.isValid()||(endTimeMoment=defaultEndMoment);const seconds=external_tribe_common_utils_.moment.totalSeconds(endTimeMoment);dispatch(actions_namespaceObject.setEndTime(seconds,meta))},onEndTimePickerChange:e=>dispatch(actions_namespaceObject.setEndTimeInput(e.target.value)),onEndTimePickerClick:(value,onClose)=>{dispatch(actions_namespaceObject.setEndTime(value,meta)),onClose()},onMultiDayToggleChange:isMultiDay=>dispatch(actions_namespaceObject.setMultiDay(isMultiDay,meta))}})))(dashboard_template);__webpack_require__("E919");var event_datetime_template=props=>wp.element.createElement(external_React_.Fragment,null,wp.element.createElement(controls_container,props),wp.element.createElement("section",{className:"tribe-editor__subtitle tribe-editor__date-time tribe-common__plugin-block-hook"},wp.element.createElement(content_container,props),wp.element.createElement(dashboard_container,props))),event_datetime_container=Object(external_tribe_common_hoc_.withBlockCloser)(event_datetime_template),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var categories=_ref=>{let{styles:styles={}}=_ref,props=function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 47.92 48"},props),external_React_default.a.createElement("defs",null),external_React_default.a.createElement("title",null,"block-icon-categories"),external_React_default.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},external_React_default.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},external_React_default.a.createElement("path",{className:styles["cls-1"]||"cls-1",d:"M47.89 24.12a1.55 1.55 0 0 1-.25.84 1.55 1.55 0 0 0 .25-.84zM.25 25a1.55 1.55 0 0 1-.25-.88 1.55 1.55 0 0 0 .25.88zM.28 14.24A1.55 1.55 0 0 1 0 13.4a1.55 1.55 0 0 0 .28.84zM47.92 13.4a1.55 1.55 0 0 1-.25.84 1.55 1.55 0 0 0 .25-.84z"}),external_React_default.a.createElement("path",{className:styles["cls-2"]||"cls-2",d:"M23.34 37.06a5.14 5.14 0 0 0 1.2 0 5.14 5.14 0 0 1-1.2 0z"}),external_React_default.a.createElement("path",{className:styles["cls-2"]||"cls-2",d:"M23.94 41.49a9.21 9.21 0 0 1-4.15-1.32L4 31.81 1 33.4a1.69 1.69 0 0 0 0 3.1l20.67 10.94a5 5 0 0 0 4.62 0L46.9 36.49a1.69 1.69 0 0 0 0-3.1l-3-1.61-15.81 8.39a9.21 9.21 0 0 1-4.15 1.32z"}),external_React_default.a.createElement("path",{className:styles["cls-2"]||"cls-2",d:"M47.82 23.6a1.86 1.86 0 0 0-1-1.11l-3.02-1.63-10.25 5.45-5.42 2.88A9.21 9.21 0 0 1 24 30.51a9.21 9.21 0 0 1-4.15-1.32l-5.45-2.88-10.29-5.46L1 22.49a1.86 1.86 0 0 0-1 1.11 1.58 1.58 0 0 0 0 .4 1.61 1.61 0 0 0 .25.86 2 2 0 0 0 .76.69l7.37 3.95 13.25 7a4.86 4.86 0 0 0 1.71.53 5.14 5.14 0 0 0 1.2 0 4.86 4.86 0 0 0 1.71-.53l13.28-7 7.34-3.9a2 2 0 0 0 .76-.69 1.61 1.61 0 0 0 .25-.86 1.58 1.58 0 0 0-.06-.45z"}),external_React_default.a.createElement("path",{className:styles["cls-2"]||"cls-2",d:"M24.57 26.08a5.14 5.14 0 0 1-1.2 0 5.14 5.14 0 0 0 1.2 0z"}),external_React_default.a.createElement("path",{className:styles["cls-3"]||"cls-3",d:"M47.82 23.69a1.51 1.51 0 0 1 .06.43 1.51 1.51 0 0 0-.06-.43zM0 24.12a1.51 1.51 0 0 1 .06-.43 1.51 1.51 0 0 0-.06.43z"}),external_React_default.a.createElement("path",{className:styles["cls-2"]||"cls-2",d:"M47.85 12.61a1.86 1.86 0 0 0-1-1.11L26.28.56a5 5 0 0 0-4.62 0L1 11.51a1.86 1.86 0 0 0-1 1.11 1.58 1.58 0 0 0-.06.44 1.61 1.61 0 0 0 .25.86 2 2 0 0 0 .81.68l3.07 1.63 4.35 2.31L18.75 24l2.92 1.55a4.86 4.86 0 0 0 1.71.53 5.14 5.14 0 0 0 1.2 0 4.86 4.86 0 0 0 1.71-.53L29.2 24l10.26-5.44 4.35-2.31 3.1-1.65a2 2 0 0 0 .76-.69 1.61 1.61 0 0 0 .25-.86 1.58 1.58 0 0 0-.07-.44z"}),external_React_default.a.createElement("path",{className:styles["cls-3"]||"cls-3",d:"M47.85 13a1.51 1.51 0 0 1 .06.43 1.51 1.51 0 0 0-.06-.43zM0 13.4a1.51 1.51 0 0 1 .09-.4 1.51 1.51 0 0 0-.09.4z"}))))},caret_down_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var caret_down=_ref=>{let{styles:styles={}}=_ref,props=function caret_down_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",caret_down_extends({className:(styles["tribe-common-c-svgicon"]||"tribe-common-c-svgicon")+" "+(styles["tribe-common-c-svgicon--caret-down"]||"tribe-common-c-svgicon--caret-down")+" "+(styles["tribe-events-c-subscribe-dropdown__button-icon"]||"tribe-events-c-subscribe-dropdown__button-icon"),height:"6",width:"10",viewBox:"0 0 10 7",xmlns:"http://www.w3.org/2000/svg"},props),external_React_default.a.createElement("path",{fill:"#334aff",fillRule:"evenodd",clipRule:"evenodd",d:"M1.008.609L5 4.6 8.992.61l.958.958L5 6.517.05 1.566l.958-.958z",className:styles["tribe-common-c-svgicon__svg-fill"]||"tribe-common-c-svgicon__svg-fill"}))},checkbox_on_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var checkbox_on=_ref=>{let{styles:styles={}}=_ref,props=function checkbox_on_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",checkbox_on_extends({width:"26",height:"14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},props),external_React_default.a.createElement("defs",null,external_React_default.a.createElement("path",{d:"M6 0h12a6 6 0 1 1 0 12H6A6 6 0 1 1 6 0z",id:"a"}),external_React_default.a.createElement("circle",{id:"b",cx:"18",cy:"6",r:"3.333"})),external_React_default.a.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},external_React_default.a.createElement("use",{stroke:"#FFF",fill:"#11A0D2",fillRule:"nonzero",xlinkHref:"#a"}),external_React_default.a.createElement("path",{d:"M6.5 4.5v3",stroke:"#FFF",strokeLinecap:"square"}),external_React_default.a.createElement("use",{fill:"#FFF",transform:"matrix(-1 0 0 1 36 0)",xlinkHref:"#b"})))},checkbox_off_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var checkbox_off=_ref=>{let{styles:styles={}}=_ref,props=function checkbox_off_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",checkbox_off_extends({width:"26",height:"14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},props),external_React_default.a.createElement("defs",null,external_React_default.a.createElement("path",{d:"M6 0h12a6 6 0 1 1 0 12H6A6 6 0 1 1 6 0z",id:"a"}),external_React_default.a.createElement("path",{d:"M17.333 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0-1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM6 9.333a3.333 3.333 0 1 1 0-6.666 3.333 3.333 0 0 1 0 6.666z",id:"b"})),external_React_default.a.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},external_React_default.a.createElement("use",{stroke:"#545D66",fill:"#FFF",fillRule:"nonzero",xlinkHref:"#a"}),external_React_default.a.createElement("use",{fill:"#545D66",xlinkHref:"#b"})))},classic_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var icons_classic=_ref=>{let{styles:styles={}}=_ref,props=function classic_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",classic_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},props),external_React_default.a.createElement("defs",null),external_React_default.a.createElement("title",null,"block-icon-classic"),external_React_default.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},external_React_default.a.createElement("path",{className:styles["cls-1"]||"cls-1",d:"M38.54 27.22c.37-8.18 2.79-22.7 2.79-22.7a1.52 1.52 0 0 0 0-.2 1.49 1.49 0 0 0-.52-1.13L40.7 3l-.2-.14C38.12 1.44 31.61 0 24 0 16.12 0 9.42 1.54 7.3 3a1.49 1.49 0 0 0-.63 1.22 1.47 1.47 0 0 0 0 .16v.11c.28 1.58 2.54 15.01 2.9 22.73C3.74 28.76 0 31 0 34.47 0 40.91 9 48 24 48s24-7.06 24-13.53c0-3.47-3.74-5.65-9.46-7.25zm-.22 6.35c-3 5.87-13.68 5.6-14.38 5.6s-11.3.18-14.35-5.68v-5.24c4.77 4.18 14.43 4 14.43 4s9.35.33 14.43-4z",id:"Layer_1-2","data-name":"Layer 1"})))},date_time_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var date_time=_ref=>{let{styles:styles={}}=_ref,props=function date_time_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",date_time_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 47.98"},props),external_React_default.a.createElement("title",null,"block-icon-date-time"),external_React_default.a.createElement("g",{"data-name":"Layer 2"},external_React_default.a.createElement("path",{d:"M44 7.38h-4.37V3.5a3.51 3.51 0 0 0-3.5-3.5 3.51 3.51 0 0 0-3.5 3.5v3.88H15.44V3.5a3.51 3.51 0 0 0-3.5-3.5 3.51 3.51 0 0 0-3.5 3.5v3.88H4a4 4 0 0 0-4 4V44a4 4 0 0 0 4 4h40a4 4 0 0 0 4-4V11.38a4 4 0 0 0-4-4zM16.91 39.13h-4.55V24.6H6.73v-3.43A10.71 10.71 0 0 0 9 21a6 6 0 0 0 2-.74 4.87 4.87 0 0 0 1.49-1.39 5 5 0 0 0 .8-2.14h3.62zm22.37 0H22.83a9.34 9.34 0 0 1 .56-3.39 9 9 0 0 1 1.52-2.58 13.32 13.32 0 0 1 2.26-2.1q1.3-1 2.74-2 .74-.51 1.57-1A10.41 10.41 0 0 0 33 26.9a6.21 6.21 0 0 0 1.15-1.44 3.57 3.57 0 0 0 .46-1.82 3.37 3.37 0 0 0-.94-2.54 3.33 3.33 0 0 0-2.42-.91 2.93 2.93 0 0 0-1.68.46 3.46 3.46 0 0 0-1.1 1.22 5.59 5.59 0 0 0-.59 1.66 9.54 9.54 0 0 0-.18 1.81h-4.36a10.74 10.74 0 0 1 .45-3.57 8.3 8.3 0 0 1 1.54-2.88A7 7 0 0 1 27.9 17a8.73 8.73 0 0 1 3.57-.69 8.93 8.93 0 0 1 2.93.48 7.56 7.56 0 0 1 2.45 1.38 6.54 6.54 0 0 1 1.68 2.21 6.77 6.77 0 0 1 .62 2.94 7.1 7.1 0 0 1-.54 2.91 7.66 7.66 0 0 1-1.44 2.16 12.23 12.23 0 0 1-2 1.71l-2.29 1.52q-1.15.75-2.24 1.62a10.13 10.13 0 0 0-1.92 2h10.55z","data-name":"Layer 1"})))},featured_image_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var featured_image=_ref=>{let{styles:styles={}}=_ref,props=function featured_image_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",featured_image_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 43.31"},props),external_React_default.a.createElement("defs",null),external_React_default.a.createElement("title",null,"block-icon-featured-image"),external_React_default.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},external_React_default.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},external_React_default.a.createElement("path",{className:styles["cls-1"]||"cls-1",d:"M44 7.28h-7.68L32 1.6A5.14 5.14 0 0 0 28.48 0h-9A5.14 5.14 0 0 0 16 1.6l-4.32 5.68H4a4 4 0 0 0-4 4v28a4 4 0 0 0 4 4h40a4 4 0 0 0 4-4v-28a4 4 0 0 0-4-4zM24 38a13.3 13.3 0 1 1 13.3-13.3A13.3 13.3 0 0 1 24 38z"}),external_React_default.a.createElement("circle",{className:styles["cls-1"]||"cls-1",cx:"24",cy:"24.65",r:"8.8"}))))},link_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var icons_link=_ref=>{let{styles:styles={}}=_ref,props=function link_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",link_extends({className:(styles["tribe-common-c-svgicon"]||"tribe-common-c-svgicon")+" "+(styles["tribe-common-c-svgicon--cal-export"]||"tribe-common-c-svgicon--cal-export")+" "+(styles["tribe-events-c-subscribe-dropdown__export-icon"]||"tribe-events-c-subscribe-dropdown__export-icon"),width:"26",height:"15",viewBox:"0 0 23 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},props),external_React_default.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.128.896V16.13c0 .211.145.383.323.383h15.354c.179 0 .323-.172.323-.383V.896c0-.212-.144-.383-.323-.383H.451C.273.513.128.684.128.896zm16 6.742h-.901V4.679H1.009v10.729h14.218v-3.336h.901V7.638zM1.01 1.614h14.218v2.058H1.009V1.614z"}),external_React_default.a.createElement("path",{d:"M20.5 9.846H8.312m10.212-2.893l2.89 2.909-2.855 2.855",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}))},organizer_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var icons_organizer=_ref=>{let{styles:styles={}}=_ref,props=function organizer_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",organizer_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 47.97"},props),external_React_default.a.createElement("title",null,"block-icon-organizer"),external_React_default.a.createElement("g",{"data-name":"Layer 2"},external_React_default.a.createElement("g",{"data-name":"Layer 1"},external_React_default.a.createElement("circle",{cx:"23.98",cy:"11.99",r:"11.99"}),external_React_default.a.createElement("path",{d:"M48 43.76a4 4 0 0 0 0-.83C46.53 36 35.53 27 24 27 11.69 27 0 36.69 0 43.89a4 4 0 0 0 4 4h40a4 4 0 0 0 3.78-2.74v-.11a3.93 3.93 0 0 0 .12-.51v-.36-.29c0-.1.1-.05.1-.12z"}))))},price_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var icons_price=_ref=>{let{styles:styles={}}=_ref,props=function price_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",price_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},props),external_React_default.a.createElement("defs",null),external_React_default.a.createElement("title",null,"block-icon-price"),external_React_default.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},external_React_default.a.createElement("path",{className:styles["cls-1"]||"cls-1",d:"M24 0a24 24 0 1 0 24 24A24 24 0 0 0 24 0zm3.31 37h-.1l-.37.07q-.49.1-1 .17l-.1 4.27h-4l-.1-4.28a9.15 9.15 0 0 1-5.21-2.35 9.65 9.65 0 0 1-2.59-6.26h4.84a4.52 4.52 0 0 0 1.12 3.21 5.12 5.12 0 0 0 3.94 1.63 5 5 0 0 0 1.08-.07 6.65 6.65 0 0 0 1.38-.31 4.35 4.35 0 0 0 1.3-.69 3.7 3.7 0 0 0 1-1.1 3.1 3.1 0 0 0 .38-1.56 2.66 2.66 0 0 0-.93-2.21 8.89 8.89 0 0 0-3.06-1.31L20.59 25l-.15-.06c-3.7-1.22-5.53-3-5.91-6a3.69 3.69 0 0 1-.09-.76v-.31-.14c0-3.74 3.38-6.78 7.23-7.05l.1-4.28h4l.1 4.34a12.67 12.67 0 0 1 2 .53 8.13 8.13 0 0 1 2.47 1.42A7.11 7.11 0 0 1 32.06 15a8.13 8.13 0 0 1 .78 3H28a3.91 3.91 0 0 0-1-2.38 4.07 4.07 0 0 0-2.17-1.05 6 6 0 0 0-1.32-.11 8.67 8.67 0 0 0-1 .06 9.83 9.83 0 0 0-1 .23 3.29 3.29 0 0 0-1.09.58 2.83 2.83 0 0 0-.77 1 3.13 3.13 0 0 0-.28 1.37 2.42 2.42 0 0 0 .8 1.94 6.07 6.07 0 0 0 2.54 1.07l2.13.51.89.22.47.12c.57.14 1.12.3 1.65.49l.32.12.51.2a10.76 10.76 0 0 1 1.48.72A7.06 7.06 0 0 1 34 29.55c0 3.59-3 6.6-6.69 7.45z",id:"Layer_1-2","data-name":"Layer 1"})))},tags_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var tags=_ref=>{let{styles:styles={}}=_ref,props=function tags_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",tags_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 47.97"},props),external_React_default.a.createElement("defs",null),external_React_default.a.createElement("title",null,"block-icon-tags"),external_React_default.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},external_React_default.a.createElement("path",{className:styles["cls-1"]||"cls-1",d:"M46.68 22.35L23 1a4 4 0 0 0-2.68-1H4a4 4 0 0 0-4 4v17.68a4 4 0 0 0 1.27 2.92l23.82 22.29a4 4 0 0 0 5.71-.24L47 28a4 4 0 0 0-.32-5.65zM12 16.5a4.5 4.5 0 1 1 4.5-4.5 4.5 4.5 0 0 1-4.5 4.5z",id:"Layer_1-2","data-name":"Layer 1"})))},sharing_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var sharing=_ref=>{let{styles:styles={}}=_ref,props=function sharing_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",sharing_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},props),external_React_default.a.createElement("defs",null),external_React_default.a.createElement("title",null,"block-icon-share"),external_React_default.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},external_React_default.a.createElement("path",{className:styles["cls-1"]||"cls-1",d:"M38.87 29.75a9.11 9.11 0 0 0-7 3.32L18 26.28a8.85 8.85 0 0 0 0-4.56l13.87-6.79a9.13 9.13 0 1 0-2.08-5.8v.7L15 17.05A9.13 9.13 0 1 0 15 31l14.75 7.22v.7a9.13 9.13 0 1 0 9.13-9.13z",id:"Layer_1-2","data-name":"Layer 1"})))},venue_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var icons_venue=_ref=>{let{styles:styles={}}=_ref,props=function venue_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",venue_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 43.47"},props),external_React_default.a.createElement("defs",null),external_React_default.a.createElement("title",null,"block-icon-venue"),external_React_default.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},external_React_default.a.createElement("path",{className:styles["cls-1"]||"cls-1",d:"M48 13.18C46.94 6.24 36.55 0 24 0S.94 5.8 0 13.18v30.29h7v-11h7v11h5.8V31.28h8.35v12.19h5.94v-11H41v11h7zm-41.4 11a2.06 2.06 0 0 1-2.17-1.93v-4.82A2.06 2.06 0 0 1 6.6 15.5a2.06 2.06 0 0 1 2.17 1.93v4.78a2.06 2.06 0 0 1-2.17 1.93zm8.49-2.33a2.21 2.21 0 0 1-2.17-2.11v-6.42a2.06 2.06 0 0 1 2.17-1.93 2.06 2.06 0 0 1 2.17 1.93v6.38a2.21 2.21 0 0 1-2.17 2.11zm9.06-.62h-.35a2 2 0 0 1-2-2v-7.48a1.9 1.9 0 0 1 2-1.78h.35a1.9 1.9 0 0 1 2 1.78v7.48a2 2 0 0 1-2 1.96zm8.72.62a2.21 2.21 0 0 1-2.17-2.11v-6.42a2.06 2.06 0 0 1 2.17-1.93A2.06 2.06 0 0 1 35 13.32v6.38a2.21 2.21 0 0 1-2.13 2.11zm8.49 2.33a2.06 2.06 0 0 1-2.17-1.93v-4.82a2.06 2.06 0 0 1 2.17-1.93 2.06 2.06 0 0 1 2.17 1.93v4.78a2.06 2.06 0 0 1-2.18 1.93z",id:"Layer_1-2","data-name":"Layer 1"})))},website_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var icons_website=_ref=>{let{styles:styles={}}=_ref,props=function website_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",website_extends({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 27.24 37.68"},props),external_React_default.a.createElement("defs",null),external_React_default.a.createElement("title",null,"block-icon-website"),external_React_default.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},external_React_default.a.createElement("path",{className:styles["cls-1"]||"cls-1",d:"M0 0l3.54 33.5 7.29-6.18 6 10.37 7.41-4.28-6-10.41 9-3.22z",id:"Layer_1-2","data-name":"Layer 1"})))},events_list_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var events_list=_ref=>{let{styles:styles={}}=_ref,props=function events_list_objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_ref,["styles"]);return external_React_default.a.createElement("svg",events_list_extends({width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},props),external_React_default.a.createElement("rect",{x:".63",y:".464",width:"24",height:"24",rx:"2",fill:"#499FD1"}),external_React_default.a.createElement("path",{stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",d:"M9.906 7.193h9.66M5.235 7.193h.632M9.906 12.286h9.66M5.235 12.286h.632M9.906 17.378h9.66M5.235 17.378h.632"}))};function event_datetime_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function event_datetime_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?event_datetime_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):event_datetime_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var event_datetime=event_datetime_objectSpread(event_datetime_objectSpread({},external_tribe_common_utils_.globals.blocks()["event-datetime"]),{},{title:Object(external_wp_i18n_.__)("Event Date Time","the-events-calendar"),description:Object(external_wp_i18n_.__)("Define the date, time, and duration for your event.","the-events-calendar"),icon:wp.element.createElement(date_time,null),category:"tribe-events",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},edit:event_datetime_container,save:()=>null});var classic_event_details_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)((state=>({start:selectors_namespaceObject.getStart(state),end:selectors_namespaceObject.getEnd(state),multiDay:selectors_namespaceObject.getMultiDay(state),allDay:selectors_namespaceObject.getAllDay(state),separatorDate:selectors_namespaceObject.getDateSeparator(state),separatorTime:selectors_namespaceObject.getTimeSeparator(state),timezone:selectors_namespaceObject.getTimeZone(state),cost:price_selectors_namespaceObject.getPrice(state),currencyPosition:price_selectors_namespaceObject.getPosition(state),currencySymbol:price_selectors_namespaceObject.getSymbol(state),currencyCode:price_selectors_namespaceObject.getCode(state),url:website_selectors_namespaceObject.getUrl(state),organizers:organizers_selectors_namespaceObject.getOrganizersInClassic(state)})),((dispatch,ownProps)=>({setAllDay:value=>{ownProps.setAttributes({allDay:value}),dispatch(actions_namespaceObject.setAllDay(value))},setCost:cost=>{ownProps.setAttributes({cost:cost}),dispatch(price_actions_namespaceObject.setCost(cost))},setCurrencyPosition:value=>{const position=price_utils_namespaceObject.getPosition(value);ownProps.setAttributes({currencyPosition:position}),dispatch(price_actions_namespaceObject.setPosition(position))},setSymbol:symbol=>{ownProps.setAttributes({currencySymbol:symbol}),dispatch(price_actions_namespaceObject.setSymbol(symbol))},setCode:code=>{ownProps.setAttributes({currencyCode:code}),dispatch(price_actions_namespaceObject.setCode(code))},setWebsite:url=>{ownProps.setAttributes({url:url}),dispatch(website_actions_namespaceObject.setWebsite(url))},toggleDashboardDateTime:()=>{const filteredBlocks=external_tribe_common_utils_.globals.wpDataSelectCoreEditor().getBlocks().filter((block=>block.name===`tribe/${event_datetime.id}`));if(!filteredBlocks.length)return;const dateTimeButton=document.querySelector(`[data-block="${filteredBlocks[0].clientId}"]`).getElementsByClassName("tribe-editor__subtitle__headline-button")[0];dateTimeButton&&dateTimeButton.click()}}))))(classic_event_details_template),classic_event_details={id:"classic-event-details",title:Object(external_wp_i18n_.__)("Event Details Classic","the-events-calendar"),description:Object(external_wp_i18n_.__)("Display your event info together in one place  just like in the Classic Editor.","the-events-calendar"),icon:wp.element.createElement(icons_classic,null),category:"tribe-events",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:{organizerTitle:{type:"html",default:""},detailsTitle:{type:"html",default:""},organizers:{type:"array",source:"meta",meta:"_EventOrganizerID"},allDay:{type:"boolean",source:"meta",meta:"_EventAllDay"},url:{type:"string",source:"meta",meta:"_EventURL"},cost:{type:"string",source:"meta",meta:"_EventCost"},currencySymbol:{type:"string",source:"meta",meta:"_EventCurrencySymbol"},currencyCode:{type:"string",source:"meta",meta:"_EventCurrencyCode"},currencyPosition:{type:"string",source:"meta",meta:"_EventCurrencyPosition"}},edit:classic_event_details_container,save:()=>null};var data_attributes={venue:{type:"number",default:null},venues:{type:"array",source:"meta",meta:"_EventVenueID",default:[]},showMapLink:{type:"boolean",default:!0},showMap:{type:"boolean",default:!0}},external_lodash_isInteger_=__webpack_require__("dm47"),external_lodash_isInteger_default=__webpack_require__.n(external_lodash_isInteger_);class venue_details_VenueDetails extends external_wp_element_.Component{constructor(){super(...arguments),defineProperty_default()(this,"renderVenue",(()=>{const{venue:venue,removeVenue:removeVenue}=this.props;return wp.element.createElement("div",{className:"tribe-editor__venue--current",key:venue.id},this.renderVenueName(),this.renderAddress(),this.renderPhone(),this.renderWebsite(),removeVenue)})),this.state={isLoading:!1}}render(){const{venue:venue}=this.props,{isLoading:isLoading}=this.state;return isLoading?wp.element.createElement(external_wp_components_.Placeholder,{key:"loading"},wp.element.createElement(external_wp_components_.Spinner,null)):venue?this.renderVenue():null}renderVenueName(){const{beforeTitle:beforeTitle,afterTitle:afterTitle,maybeEdit:maybeEdit}=this.props;return wp.element.createElement("div",{className:"tribe-editor__venue__name"},beforeTitle,wp.element.createElement("h3",{className:"tribe-editor__venue__name-heading",onClick:maybeEdit},Object(he.decode)(this.getVenueName())),afterTitle)}getVenueName(venue=this.props.venue){const{title:title={}}=venue,{rendered:rendered=Object(external_wp_i18n_.__)("(Untitled Venue)","the-events-calendar")}=title;return rendered}renderAddress(){const{address:address={}}=this.props;if(external_lodash_isEmpty_default()(address))return null;const{city:city,street:street,province:province,zip:zip,country:country}=address;return wp.element.createElement("address",{className:"tribe-editor__venue__address"},wp.element.createElement("span",{className:"tribe-venue__street-address"},street),city&&wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("br",null),wp.element.createElement("span",{className:"tribe-venue__locality"},city)),city&&wp.element.createElement("span",{className:"tribe-venue__delimiter"},", "),province&&wp.element.createElement("span",{className:"tribe-venue__region"},province),zip&&wp.element.createElement("span",{className:"tribe-venue__postal-code"}," ",zip),country&&wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("br",null),wp.element.createElement("span",{className:"tribe-venue__country-name"}," ",country)),this.renderGoogleMapLink())}renderGoogleMapLink(){const{showMapLink:showMapLink,address:address}=this.props;return showMapLink?wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("br",null),wp.element.createElement("a",{href:mapLink(address),title:Object(external_wp_i18n_.__)("Click to view a Google Map","the-events-calendar"),target:"_blank",rel:"noopener noreferrer"},Object(external_wp_i18n_.__)("+ Google Map","the-events-calendar"))):null}renderPhone(){const{venue:venue}=this.props;return external_lodash_isEmpty_default()(venue.meta._VenuePhone)?null:wp.element.createElement(external_React_default.a.Fragment,null,wp.element.createElement("span",{className:"tribe-editor__venue__phone"},venue.meta._VenuePhone),wp.element.createElement("br",null))}renderWebsite(){const{venue:venue}=this.props;return external_lodash_isEmpty_default()(venue.meta._VenueURL)?null:wp.element.createElement(external_React_default.a.Fragment,null,wp.element.createElement("span",{className:"tribe-editor__venue__website"},venue.meta._VenueURL),wp.element.createElement("br",null))}}defineProperty_default()(venue_details_VenueDetails,"propTypes",{venue:external_tribe_modules_propTypes_default.a.oneOfType([external_tribe_modules_propTypes_default.a.number,external_tribe_modules_propTypes_default.a.object]),isLoading:external_tribe_modules_propTypes_default.a.bool,removeVenue:external_tribe_modules_propTypes_default.a.node,beforeTitle:external_tribe_modules_propTypes_default.a.node,afterTitle:external_tribe_modules_propTypes_default.a.node,maybeEdit:external_tribe_modules_propTypes_default.a.func,address:external_tribe_modules_propTypes_default.a.object,showMapLink:external_tribe_modules_propTypes_default.a.bool}),defineProperty_default()(venue_details_VenueDetails,"defaultProps",{beforeTitle:null,afterTitle:null,maybeEdit:external_lodash_noop_default.a});function reducers_blocks_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function reducers_blocks_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?reducers_blocks_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):reducers_blocks_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var venue_reducers_blocks=Object(external_tribe_modules_redux_.combineReducers)({core:(state={},action)=>{switch(action.type){case"@@MT/EVENTS/SET_VENUE_MAP":return reducers_blocks_objectSpread(reducers_blocks_objectSpread({},state),{},{showMap:action.payload.showMap});case"@@MT/EVENTS/SET_VENUE_MAP_LINK":return reducers_blocks_objectSpread(reducers_blocks_objectSpread({},state),{},{showMapLink:action.payload.showMapLink});default:return state}},byId:(state={},action)=>{switch(action.type){case"@@MT/EVENTS/ADD_BLOCK_VENUE":return reducers_blocks_objectSpread(reducers_blocks_objectSpread({},state),{},{[action.payload.id]:action.payload.venue});case"@@MT/EVENTS/REMOVE_BLOCK_VENUE":return Object.keys(state).reduce(((newState,id)=>id===action.payload.id?newState:reducers_blocks_objectSpread(reducers_blocks_objectSpread({},newState),{},{[id]:state[id]})),{});default:return state}},allIds:(state=[],action)=>{switch(action.type){case"@@MT/EVENTS/ADD_BLOCK_VENUE":return external_lodash_uniq_default()([...state,action.payload.venue]);case"@@MT/EVENTS/REMOVE_BLOCK_VENUE":return state.filter((venue=>venue!==action.payload.venue));default:return state}}}),venue_reducer=Object(external_tribe_modules_redux_.combineReducers)({blocks:venue_reducers_blocks});const getMapEmbed=()=>external_lodash_get_default()(Object(external_tribe_common_utils_globals_.mapsAPI)(),"embed",!0),venueBlockSelector=state=>state.events.blocks.venue.blocks.core,getVenueByClientId=(state,props)=>state.events.blocks.venue.blocks.byId[props.clientId],getVenuesById=state=>state.events.blocks.venue.blocks.byId,getVenuesInBlock=state=>state.events.blocks.venue.blocks.allIds,getshowMapLink=Object(external_tribe_modules_reselect_.createSelector)([venueBlockSelector],(block=>block.showMapLink)),getshowMap=Object(external_tribe_modules_reselect_.createSelector)([venueBlockSelector,getMapEmbed],((block,embed)=>embed&&block.showMap)),setVenue=id=>({type:"@@MT/EVENTS/SET_VENUE",payload:{venue:id}}),removeVenue=()=>({type:"@@MT/EVENTS/SET_VENUE",payload:{venue:0}}),addVenueInBlock=(id,venue)=>({type:"@@MT/EVENTS/ADD_BLOCK_VENUE",payload:{id:id,venue:venue}}),removeVenueInBlock=(id,venue)=>({type:"@@MT/EVENTS/REMOVE_BLOCK_VENUE",payload:{id:id,venue:venue}}),setShowMap=showMap=>({type:"@@MT/EVENTS/SET_VENUE_MAP",payload:{showMap:showMap}}),setShowMapLink=showMapLink=>({type:"@@MT/EVENTS/SET_VENUE_MAP_LINK",payload:{showMapLink:showMapLink}}),{getState:meta_sync_getState}=external_tribe_common_store_.store,syncVenuesWithPost=()=>{const postId=external_tribe_common_utils_globals_.wpData.select("core/editor").getCurrentPostId(),modifiedPost={meta:{_EventVenueID:venue_selectors_namespaceObject.getVenuesInBlock(meta_sync_getState())}};external_tribe_common_utils_globals_.wpData.dispatch("core").editEntityRecord("postType",external_tribe_common_data_.editor.EVENT,postId,modifiedPost)},{getState:venue_subscribers_getState,dispatch:venue_subscribers_dispatch}=external_tribe_common_store_.store,subscribers_compareBlocks=block=>block.clientId,isVenueBlock=block=>"tribe/event-venue"===block.name;external_tribe_common_utils_.globals.wpHooks.addAction("tec.events.blocks.venue.maybeRemoveVenue","tec.events.blocks.venue.subscribers",(venue=>{const path=`tribe_venue/${venue}`,options={path:path,actions:{success:external_tribe_common_data_forms_.actions.deleteEntry(venue_subscribers_dispatch)(path)}};venue_subscribers_dispatch(external_tribe_common_store_middlewares_request_.actions.wpRequest(options))}));const subscribers_handleBlockAdded=block=>{isVenueBlock(block)&&block.attributes.venue&&venue_subscribers_dispatch(venue_actions_namespaceObject.addVenueInBlock(block.clientId,block.attributes.venue))},subscribers_onBlocksChangeHandler=(currBlocks,prevBlocks)=>{const blocksAdded=external_lodash_differenceBy_default()(currBlocks,prevBlocks,subscribers_compareBlocks),blocksRemoved=external_lodash_differenceBy_default()(prevBlocks,currBlocks,subscribers_compareBlocks);blocksAdded.length&&blocksAdded.forEach(subscribers_handleBlockAdded),blocksRemoved.length&&blocksRemoved.forEach((block=>{if(!isVenueBlock(block))return;const venue=venue_selectors_namespaceObject.getVenueByClientId(venue_subscribers_getState(),block);venue&&(venue_subscribers_dispatch(venue_actions_namespaceObject.removeVenueInBlock(block.clientId,venue)),external_tribe_common_utils_.globals.wpHooks.doAction("tec.events.blocks.venue.maybeRemoveVenue",venue)),syncVenuesWithPost()}))};var venue_subscribers=()=>{external_tribe_common_utils_.globals.wpData.subscribe((selector=>{let holdBlocks=selector();return()=>{const prevBlocks=holdBlocks,currBlocks=selector();holdBlocks=currBlocks,(prevBlocks.length!==currBlocks.length||external_lodash_differenceBy_default()(currBlocks,prevBlocks,subscribers_compareBlocks).length)&&subscribers_onBlocksChangeHandler(currBlocks,prevBlocks)}})(external_tribe_common_utils_.globals.wpDataSelectCoreEditor().getBlocks))},blocks_venue=venue_reducer;__webpack_require__("qnjl");function template_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function template_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?template_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):template_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const{InspectorControls:event_venue_template_InspectorControls}=external_tribe_common_utils_globals_.wpEditor,{getAddress:template_getAddress}=venue_utils_namespaceObject;class template_EventVenue extends external_React_.Component{constructor(props){super(props),defineProperty_default()(this,"renderDetails",(()=>{const{showMapLink:showMapLink}=this.props,details=this.getVenueDetails();return wp.element.createElement(venue_details_VenueDetails,{venue:details,address:template_getAddress(details),showMapLink:showMapLink,afterTitle:this.renderEditAction(),maybeEdit:this.maybeEdit,removeVenue:this.renderRemoveAction()})})),defineProperty_default()(this,"renderLoading",(()=>wp.element.createElement(external_wp_components_.Placeholder,{key:"loading"},wp.element.createElement(external_wp_components_.Spinner,null)))),defineProperty_default()(this,"isAuthoritativeVenue",(()=>{const{venue:venue}=this.props;return external_lodash_isInteger_default()(venue)&&venue===this.getVenueId()})),defineProperty_default()(this,"maybeEdit",(()=>{const{volatile:volatile,onEdit:onEdit}=this.props;if(this.hasVenue()&&volatile)return onEdit})),defineProperty_default()(this,"setCoordinatesState",(address=>{const{maps:maps}=Object(external_tribe_common_utils_globals_.google)(),geocoder=new maps.Geocoder;address?geocoder.geocode({address:address},((results,status)=>{if("OK"!==status)return void this.setState((state=>template_objectSpread(template_objectSpread({},state),{},{derivedAddressString:address})));const{location:location}=results[0].geometry;this.setState({coords:{lat:location.lat(),lng:location.lng()},derivedAddressString:address})})):this.setState({coords:{lat:null,lng:null},derivedAddressString:""})})),this.state={coords:{lat:null,lng:null},derivedAddressString:""}}componentDidMount(){let{details:details}=this.props;this.hasVenue()&&(details=this.getVenueDetails());const address=addressToMapString(template_getAddress(details));address&&this.setCoordinatesState(address)}componentDidUpdate(prevProps){const{isSelected:isSelected,edit:edit,create:create,setSubmit:setSubmit}=this.props;let{details:details}=this.props;this.hasVenue()&&(details=this.getVenueDetails());const unSelected=prevProps.isSelected&&!isSelected,address=addressToMapString(template_getAddress(details)),{derivedAddressString:derivedAddressString}=this.state;unSelected&&(edit||create)&&setSubmit(),derivedAddressString!==address&&this.setCoordinatesState(address)}renderForm(){const{isSelected:isSelected,fields:fields,onFormSubmit:onFormSubmit}=this.props;return isSelected?wp.element.createElement(venue_form,extends_default()({},toFields(fields),{onSubmit:onFormSubmit})):null}renderEditAction(){const{isSelected:isSelected,edit:edit,create:create,isLoading:isLoading,submit:submit,volatile:volatile,onEdit:onEdit}=this.props;return isSelected&&volatile&&!(edit||create||isLoading||submit)?wp.element.createElement("button",{onClick:onEdit},wp.element.createElement(external_wp_components_.Dashicon,{icon:"edit"})):null}renderSearchOrCreate(){const{isSelected:isSelected,store:store,name:name,onItemSelect:onItemSelect,onCreateNew:onCreateNew}=this.props;return wp.element.createElement(search_or_create,{name:name,icon:wp.element.createElement(icons_venue,null),store:store,isSelected:isSelected,postType:external_tribe_common_data_.editor.VENUE,onItemSelect:onItemSelect,onCreateNew:onCreateNew,placeholder:Object(external_wp_i18n_.__)("Add or find a venue","the-events-calendar")})}renderContainer(){const{isSelected:isSelected,isLoading:isLoading,edit:edit,create:create,submit:submit}=this.props;return isLoading||submit?this.renderLoading():isSelected&&(edit||create)?this.renderForm():this.hasVenue()?this.renderDetails():this.renderSearchOrCreate()}renderMap(){const{edit:edit,create:create,isLoading:isLoading,submit:submit,showMap:showMap}=this.props,details=this.getVenueDetails();if(!showMap||external_lodash_isEmpty_default()(details)||edit||create||isLoading||submit)return null;const{coords:coords}=this.state;return wp.element.createElement(google_map,{size:{width:450,height:220},coordinates:coords,address:addressToMapString(template_getAddress(details)),interactive:!0})}renderRemoveAction(){const{isSelected:isSelected,edit:edit,create:create,isLoading:isLoading,submit:submit,onRemove:onRemove}=this.props;return!this.hasVenue()||!isSelected||edit||create||isLoading||submit?null:this.isAuthoritativeVenue()?wp.element.createElement("div",{className:"tribe-editor__venue__actions"},wp.element.createElement("button",{className:"tribe-editor__venue__actions--close",onClick:onRemove},Object(external_wp_i18n_.__)("Remove venue","the-events-calendar"))):null}renderBlock(){const{isLoading:isLoading}=this.props;if(isLoading)return this.renderLoading();const containerClass=external_tribe_modules_classnames_default()({"tribe-editor__venue":this.hasVenue(),"tribe-editor__venue--has-map":this.hasVenue()&&this.props.showMap});return wp.element.createElement("div",{key:"event-venue-box",className:containerClass},this.renderContainer(),this.renderMap())}renderControls(){const{venue:venue,showMapLink:showMapLink,showMap:showMap,embedMap:embedMap,toggleVenueMap:toggleVenueMap,toggleVenueMapLink:toggleVenueMapLink}=this.props;return this.hasVenue()?wp.element.createElement(event_venue_template_InspectorControls,{key:"inspector"},wp.element.createElement(external_wp_components_.PanelBody,{title:Object(external_wp_i18n_.__)("Venue Settings","the-events-calendar")},wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Show Google Maps Link","the-events-calendar"),checked:showMapLink,onChange:toggleVenueMapLink,__nextHasNoMarginBottom:!0}),embedMap&&wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Show Google Maps Embed","the-events-calendar"),checked:showMap,onChange:toggleVenueMap,__nextHasNoMarginBottom:!0}),wp.element.createElement(edit_link,{postId:venue,label:Object(external_wp_i18n_.__)("Edit Venue","the-events-calendar")}))):null}render(){return[this.renderBlock(),this.renderControls()]}getVenueDetails(){const venueId=this.getVenueId();if(!external_lodash_isInteger_default()(venueId))return{};const state=this.props.store.getState();return external_lodash_get_default()(state,`events.details[${venueId}].details`,{})}getVenueId(){const state=this.props.store.getState();let venueId=this.props.venue;return venueId=external_tribe_common_utils_globals_.wpHooks.applyFilters("tec.events.blocks.tribe_event_venue.getVenueId",venueId,this.props,state),external_lodash_isInteger_default()(venueId)?venueId:null}hasVenue(){const details=this.getVenueDetails();return!external_lodash_isEmpty_default()(details)&&external_lodash_isInteger_default()(this.getVenueId())}}defineProperty_default()(template_EventVenue,"propTypes",{venue:external_tribe_modules_propTypes_default.a.number,isSelected:external_tribe_modules_propTypes_default.a.bool,isLoading:external_tribe_modules_propTypes_default.a.bool,submit:external_tribe_modules_propTypes_default.a.bool,edit:external_tribe_modules_propTypes_default.a.bool,create:external_tribe_modules_propTypes_default.a.bool,details:external_tribe_modules_propTypes_default.a.object,draft:external_tribe_modules_propTypes_default.a.object,showMap:external_tribe_modules_propTypes_default.a.bool,showMapLink:external_tribe_modules_propTypes_default.a.bool,embedMap:external_tribe_modules_propTypes_default.a.bool,createDraft:external_tribe_modules_propTypes_default.a.func,editDraft:external_tribe_modules_propTypes_default.a.func,removeDraft:external_tribe_modules_propTypes_default.a.func,setDraftDetails:external_tribe_modules_propTypes_default.a.func,clear:external_tribe_modules_propTypes_default.a.func,sendForm:external_tribe_modules_propTypes_default.a.func,toggleVenueMap:external_tribe_modules_propTypes_default.a.func,toggleVenueMapLink:external_tribe_modules_propTypes_default.a.func,onFormSubmit:external_tribe_modules_propTypes_default.a.func,onItemSelect:external_tribe_modules_propTypes_default.a.func,onCreateNew:external_tribe_modules_propTypes_default.a.func,onRemove:external_tribe_modules_propTypes_default.a.func,onEdit:external_tribe_modules_propTypes_default.a.func,volatile:external_tribe_modules_propTypes_default.a.any,name:external_tribe_modules_propTypes_default.a.any,store:external_tribe_modules_propTypes_default.a.any,fields:external_tribe_modules_propTypes_default.a.any,setSubmit:external_tribe_modules_propTypes_default.a.any});var event_venue_template=template_EventVenue;const event_venue_container_excluded=["state"],container_excluded2=["dispatch"];function event_venue_container_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function event_venue_container_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?event_venue_container_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):event_venue_container_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const{getState:container_getState}=external_tribe_common_store_.store,container_setVenue=({state:state,dispatch:dispatch,ownProps:ownProps,venueID:venueID,details:details})=>{const venues=venue_selectors_namespaceObject.getVenuesInBlock(state);ownProps.setAttributes({venue:venueID}),ownProps.setAttributes({venues:external_lodash_uniq_default()([...venues,venueID])}),dispatch(details_actions_namespaceObject.setDetails(venueID,details)),dispatch(venue_actions_namespaceObject.addVenueInBlock(ownProps.clientId,venueID)),syncVenuesWithPost()},container_onFormSubmit=(dispatch,ownProps)=>fields=>{ownProps.sendForm(toVenue(fields),((state,dispatch,ownProps)=>body=>{container_setVenue({state:state,dispatch:dispatch,ownProps:ownProps,venueID:body.id,details:body})})(container_getState(),dispatch,ownProps))},container_onCreateNew=ownProps=>title=>ownProps.createDraft({title:{rendered:title}}),container_onEdit=ownProps=>()=>{const{details:details,editEntry:editEntry}=ownProps;editEntry(details)},event_venue_container_mapStateToProps=(state,ownProps)=>{let showMapLink=!0,showMap=!0;return void 0!==ownProps.attributes.showMapLink&&(showMapLink=ownProps.attributes.showMapLink),void 0!==ownProps.attributes.showMap&&(showMap=ownProps.attributes.showMap),{venue:ownProps.attributes.venue,venues:venue_selectors_namespaceObject.getVenuesInBlock(state),showMapLink:showMapLink,showMap:showMap,embedMap:venue_selectors_namespaceObject.getMapEmbed(),state:state}};var event_venue_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)({postType:external_tribe_common_data_.editor.VENUE}),Object(external_tribe_modules_reactRedux_.connect)(event_venue_container_mapStateToProps),with_details("venue"),Object(external_tribe_common_hoc_.withForm)((props=>props.name)),Object(external_tribe_modules_reactRedux_.connect)(event_venue_container_mapStateToProps,((dispatch,ownProps)=>({toggleVenueMap:value=>{ownProps.setAttributes({showMap:value}),dispatch(venue_actions_namespaceObject.setShowMap(value))},toggleVenueMapLink:value=>{ownProps.setAttributes({showMapLink:value}),dispatch(venue_actions_namespaceObject.setShowMapLink(value))},onCreateNew:container_onCreateNew(ownProps),onEdit:container_onEdit(ownProps),onFormSubmit:container_onFormSubmit(dispatch,ownProps),dispatch:dispatch})),((stateProps,dispatchProps,ownProps)=>{const{state:state}=stateProps,restStateProps=objectWithoutProperties_default()(stateProps,event_venue_container_excluded),{dispatch:dispatch}=dispatchProps,restDispatchProps=objectWithoutProperties_default()(dispatchProps,container_excluded2);return event_venue_container_objectSpread(event_venue_container_objectSpread(event_venue_container_objectSpread(event_venue_container_objectSpread({},ownProps),restStateProps),restDispatchProps),{},{onItemSelect:(venueID,details)=>{container_setVenue({state:state,dispatch:dispatch,ownProps:ownProps,venueID:venueID,details:details})},onRemove:()=>{const{venue:venue,clientId:clientId}=ownProps;ownProps.setAttributes({venue:null}),dispatch(venue_actions_namespaceObject.removeVenueInBlock(clientId,venue)),external_tribe_common_utils_.globals.wpHooks.doAction("tec.events.blocks.venue.maybeRemoveVenue",venue),syncVenuesWithPost()}})})))(event_venue_template);const blockDefinition={id:"event-venue",title:Object(external_wp_i18n_.__)("Event Venue","the-events-calendar"),description:Object(external_wp_i18n_.__)("Where is this event happening? Select or create a location.","the-events-calendar"),icon:wp.element.createElement(icons_venue,null),category:"tribe-events",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:data_attributes,edit:event_venue_container,save:()=>null};Object(external_wp_blocks_.registerBlockType)(`tribe/${blockDefinition.id}`,blockDefinition);function utils_toFields(organizer={}){const title=external_lodash_get_default()(organizer,"title",{}),meta=external_lodash_get_default()(organizer,"meta",{});return{title:external_lodash_get_default()(title,"rendered",""),email:external_lodash_get_default()(meta,"_OrganizerEmail",""),phone:external_lodash_get_default()(meta,"_OrganizerPhone",""),website:external_lodash_get_default()(meta,"_OrganizerWebsite","")}}var external_tribe_common_icons_=__webpack_require__("GE2E");__webpack_require__("tgsb");const OrganizerDetails=({organizer:organizer={},edit:edit=external_lodash_noop_default.a,remove:remove=external_lodash_noop_default.a,selected:selected=!1,volatile:volatile})=>{const maybeEdit=()=>{volatile&&edit()};return wp.element.createElement("div",{className:"tribe-editor__organizer__details"},(()=>{const fields=utils_toFields(organizer),{title:title,website:website,email:email,phone:phone}=fields;return wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("div",{className:"tribe-editor__organizer__title"},wp.element.createElement("h3",{className:"tribe-editor__organizer__title-heading",onClick:maybeEdit},Object(he.decode)(title)),selected&&volatile?wp.element.createElement("button",{onClick:edit},wp.element.createElement(external_wp_components_.Dashicon,{icon:"edit"})):null),phone&&wp.element.createElement("p",null,phone),website&&wp.element.createElement("p",null,website),email&&wp.element.createElement("p",null,email))})(),selected?wp.element.createElement("div",{className:"tribe-editor__organizer__actions"},wp.element.createElement("button",{className:"tribe-editor__organizer__actions--close",onClick:remove},wp.element.createElement(external_tribe_common_icons_.Close,null))):null)};OrganizerDetails.propTypes={organizer:external_tribe_modules_propTypes_default.a.object,edit:external_tribe_modules_propTypes_default.a.func,remove:external_tribe_modules_propTypes_default.a.func,selected:external_tribe_modules_propTypes_default.a.bool,volatile:external_tribe_modules_propTypes_default.a.bool};var event_organizer_details=OrganizerDetails;__webpack_require__("qPgG");function form_template_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const{RichText:template_RichText}=external_tribe_common_utils_globals_.wpEditor;class template_OrganizerForm extends external_wp_element_.Component{constructor(props){super(...arguments),defineProperty_default()(this,"saveField",(name=>value=>{this.setState({[name]:value})})),defineProperty_default()(this,"saveEventField",(name=>event=>this.saveField(name)(this.getValue(event)))),defineProperty_default()(this,"getValue",((event={})=>{const{target:target}=event;return target.value})),this.state=external_lodash_omit_default()(props,["submit"])}componentWillUnmount(){const fields=function form_template_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?form_template_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):form_template_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},this.state);fields.email&&!validator_default.a.isEmail(fields.email)&&(fields.email=""),fields.website&&!validator_default.a.isURL(fields.website)&&(fields.website=""),this.props.submit(fields)}render(){const{title:title,email:email,website:website,phone:phone}=this.state;return wp.element.createElement("section",{className:"tribe-editor__organizer__form"},wp.element.createElement("div",{className:"tribe-editor__organizer__fields"},wp.element.createElement(template_RichText,{tagName:"h3",format:"string",value:title,onChange:this.saveField("title")}),wp.element.createElement("input",{type:"tel",name:"phone",value:phone,placeholder:Object(external_wp_i18n_.__)("Add Phone","the-events-calendar"),onChange:this.saveEventField("phone")}),wp.element.createElement("input",{type:"url",name:"website",value:website,placeholder:Object(external_wp_i18n_.__)("Add website","the-events-calendar"),onChange:this.saveEventField("website")}),wp.element.createElement("input",{type:"email",name:"email",value:email,placeholder:Object(external_wp_i18n_.__)("Add email","the-events-calendar"),onChange:this.saveEventField("email")})))}}defineProperty_default()(template_OrganizerForm,"defaultProps",{title:"",phone:"",website:"",email:"",submit:external_lodash_noop_default.a}),defineProperty_default()(template_OrganizerForm,"propTypes",{title:external_tribe_modules_propTypes_default.a.string,email:external_tribe_modules_propTypes_default.a.string,website:external_tribe_modules_propTypes_default.a.string,phone:external_tribe_modules_propTypes_default.a.string,submit:external_tribe_modules_propTypes_default.a.func});var event_organizer_form=template_OrganizerForm;const{InspectorControls:event_organizer_template_InspectorControls}=external_tribe_common_utils_globals_.wpEditor;class template_EventOrganizer extends external_React_.PureComponent{constructor(...args){super(...args),defineProperty_default()(this,"renderLoading",(()=>wp.element.createElement("div",{className:"tribe-editor__spinner-container"},wp.element.createElement(external_wp_components_.Spinner,null)))),defineProperty_default()(this,"renderForm",(()=>{const{fields:fields,submit:submit,onFormSubmit:onFormSubmit}=this.props;return submit?this.renderLoading():wp.element.createElement(event_organizer_form,extends_default()({},utils_toFields(fields),{submit:onFormSubmit}))}))}componentDidUpdate(prevProps){const{isSelected:isSelected,edit:edit,create:create,setSubmit:setSubmit}=this.props;prevProps.isSelected&&!isSelected&&(edit||create)&&setSubmit()}renderSearch(){const{clientId:clientId,isSelected:isSelected,organizers:organizers,store:store,postType:postType,onItemSelect:onItemSelect,onCreateNew:onCreateNew}=this.props;return wp.element.createElement(search_or_create,{name:clientId,store:store,postType:postType,isSelected:isSelected,icon:wp.element.createElement(icons_organizer,null),placeholder:Object(external_wp_i18n_.__)("Add or find an organizer","the-events-calendar"),onItemSelect:onItemSelect,onCreateNew:onCreateNew,exclude:organizers})}renderDetails(){const{details:details,volatile:volatile,isSelected:isSelected,onEdit:onEdit,onRemove:onRemove}=this.props;return wp.element.createElement(event_organizer_details,{organizer:details,volatile:volatile,selected:isSelected,edit:onEdit,remove:onRemove})}renderContent(){const{details:details,edit:edit,create:create,isLoading:isLoading}=this.props;return isLoading?this.renderLoading():edit||create?this.renderForm():external_lodash_isEmpty_default()(details)?this.renderSearch():this.renderDetails()}renderBlock(){return wp.element.createElement("section",{key:this.props.clientId},this.renderContent())}renderSettings(){const{isSelected:isSelected,attributes:attributes}=this.props;return isSelected&&attributes.organizer?wp.element.createElement(event_organizer_template_InspectorControls,{key:"inspector"},wp.element.createElement(external_wp_components_.PanelBody,{title:Object(external_wp_i18n_.__)("Organizer Settings","the-events-calendar")},wp.element.createElement(edit_link,{postId:attributes.organizer,label:Object(external_wp_i18n_.__)("Edit Organizer","the-events-calendar")}))):null}render(){return[this.renderBlock(),this.renderSettings()]}}defineProperty_default()(template_EventOrganizer,"propTypes",{details:external_tribe_modules_propTypes_default.a.object,create:external_tribe_modules_propTypes_default.a.bool,edit:external_tribe_modules_propTypes_default.a.bool,submit:external_tribe_modules_propTypes_default.a.bool,isLoading:external_tribe_modules_propTypes_default.a.bool,isSelected:external_tribe_modules_propTypes_default.a.bool,clientId:external_tribe_modules_propTypes_default.a.string,current:external_tribe_modules_propTypes_default.a.string,setPost:external_tribe_modules_propTypes_default.a.func,clear:external_tribe_modules_propTypes_default.a.func,editPost:external_tribe_modules_propTypes_default.a.func,onFormSubmit:external_tribe_modules_propTypes_default.a.func,onItemSelect:external_tribe_modules_propTypes_default.a.func,onCreateNew:external_tribe_modules_propTypes_default.a.func,onEdit:external_tribe_modules_propTypes_default.a.func,onRemove:external_tribe_modules_propTypes_default.a.func,setSubmit:external_tribe_modules_propTypes_default.a.func,fields:external_tribe_modules_propTypes_default.a.object,organizers:external_tribe_modules_propTypes_default.a.array,store:external_tribe_modules_propTypes_default.a.object,postType:external_tribe_modules_propTypes_default.a.string,volatile:external_tribe_modules_propTypes_default.a.bool,attributes:external_tribe_modules_propTypes_default.a.object});var event_organizer_template=template_EventOrganizer;const event_organizer_container_excluded=["state"],event_organizer_container_excluded2=["dispatch"];function event_organizer_container_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function event_organizer_container_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?event_organizer_container_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):event_organizer_container_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const container_addOrganizer=({state:state,dispatch:dispatch,ownProps:ownProps,organizerID:organizerID,details:details})=>{const organizers=organizers_selectors_namespaceObject.getOrganizersInClassic(state);ownProps.setAttributes({organizer:organizerID}),ownProps.setAttributes({organizers:external_lodash_uniq_default()([...organizers,organizerID])}),dispatch(details_actions_namespaceObject.setDetails(organizerID,details)),dispatch(organizers_actions_namespaceObject.addOrganizerInClassic(organizerID)),dispatch(organizers_actions_namespaceObject.addOrganizerInBlock(ownProps.clientId,organizerID))},event_organizer_container_mapStateToProps=(state,ownProps)=>({organizer:ownProps.attributes.organizer,organizers:organizers_selectors_namespaceObject.getOrganizersInBlock(state),state:state}),StatefulEventOrganizer=props=>(Object(external_React_.useEffect)((()=>{const defaults=Object(external_tribe_common_utils_globals_.editorDefaults)(),{attributes:{organizer:organizer}}=props;null===organizer&&defaults&&defaults.organizer&&props.setAttributes({organizer:defaults.organizer})}),[]),wp.element.createElement(event_organizer_template,props));StatefulEventOrganizer.propTypes={attributes:external_tribe_modules_propTypes_default.a.object,setAttributes:external_tribe_modules_propTypes_default.a.func};var event_organizer_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)({isolated:!0,postType:external_tribe_common_data_.editor.ORGANIZER}),Object(external_tribe_common_hoc_.withForm)((props=>props.clientId)),Object(external_tribe_modules_reactRedux_.connect)(event_organizer_container_mapStateToProps),with_details("organizer"),Object(external_tribe_modules_reactRedux_.connect)(event_organizer_container_mapStateToProps,((dispatch,ownProps)=>({onCreateNew:title=>{ownProps.createDraft({title:{rendered:title}})},onEdit:()=>{ownProps.editEntry(ownProps.details)},dispatch:dispatch})),((stateProps,dispatchProps,ownProps)=>{const{state:state}=stateProps,restStateProps=objectWithoutProperties_default()(stateProps,event_organizer_container_excluded),{dispatch:dispatch}=dispatchProps,restDispatchProps=objectWithoutProperties_default()(dispatchProps,event_organizer_container_excluded2);return event_organizer_container_objectSpread(event_organizer_container_objectSpread(event_organizer_container_objectSpread(event_organizer_container_objectSpread({},ownProps),restStateProps),restDispatchProps),{},{onFormSubmit:fields=>{ownProps.sendForm(function toOrganizer(fields){const{title:title,email:email,phone:phone,website:website}=fields;return{title:title,status:"draft",meta:{_OrganizerEmail:email,_OrganizerPhone:phone,_OrganizerWebsite:website}}}(fields),((state,dispatch,ownProps)=>(body={})=>{container_addOrganizer({state:state,dispatch:dispatch,ownProps:ownProps,organizerID:body.id,details:body})})(state,dispatch,ownProps))},onItemSelect:(organizerID,details)=>{container_addOrganizer({state:state,dispatch:dispatch,ownProps:ownProps,organizerID:organizerID,details:details})},onRemove:()=>{const{clientId:clientId,organizer:organizer,volatile:volatile}=ownProps;ownProps.setAttributes({organizer:0}),dispatch(organizers_actions_namespaceObject.removeOrganizerInBlock(clientId,organizer)),external_tribe_common_utils_.globals.wpHooks.doAction("tec.events.blocks.organizer.maybeRemoveOrganizer",organizer);if(!external_tribe_common_utils_.globals.wpDataSelectCoreEditor().getBlocks().filter((block=>block.name===`tribe/${classic_event_details.id}`)).length||volatile){const newOrganizers=organizers_selectors_namespaceObject.getOrganizersInClassic(state).filter((id=>id!==organizer));ownProps.setAttributes({organizers:newOrganizers}),dispatch(organizers_actions_namespaceObject.removeOrganizerInClassic(organizer)),dispatch(external_tribe_common_data_forms_.actions.removeVolatile(organizer))}}})})))(StatefulEventOrganizer),event_organizer={id:"event-organizer",title:Object(external_wp_i18n_.__)("Event Organizer","the-events-calendar"),description:Object(external_wp_i18n_.__)("List a host or coordinator for this event.","the-events-calendar"),icon:wp.element.createElement(icons_organizer,null),category:"tribe-events",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:{organizer:{type:"html",default:null},organizers:{type:"array",source:"meta",meta:"_EventOrganizerID"}},edit:event_organizer_container,save:()=>null};__webpack_require__("PEX6");function event_links_template_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function event_links_template_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?event_links_template_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):event_links_template_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const{InspectorControls:event_links_template_InspectorControls}=external_tribe_common_utils_globals_.wpEditor,addToCalendarPlaceholder=Object(external_wp_i18n_.__)("Add to Calendar","the-events-calendar"),googleCalendarPlaceholder=Object(external_wp_i18n_.__)("Google Calendar","the-events-calendar"),iCalExportPlaceholder=Object(external_wp_i18n_.__)("iCalendar","the-events-calendar"),outlook365Placeholder=Object(external_wp_i18n_.__)("Outlook 365","the-events-calendar"),outlookLivePlaceholder=Object(external_wp_i18n_.__)("Outlook Live","the-events-calendar"),renderPlaceholder=label=>wp.element.createElement("button",{className:"tribe-editor__btn--link tribe-editor__btn--placeholder",disabled:!0},wp.element.createElement(icons_link,null),label),renderButtons=props=>wp.element.createElement("div",{key:"event-links",className:"tribe-editor__block tribe-editor__events-link"},wp.element.createElement("div",{className:"tribe-events tribe-common"},wp.element.createElement("div",{className:"tribe-events-c-subscribe-dropdown__container"},wp.element.createElement("div",{className:"tribe-events-c-subscribe-dropdown"},wp.element.createElement("div",{className:"tribe-common-c-btn-border tribe-events-c-subscribe-dropdown__button"},wp.element.createElement(icons_link,null),wp.element.createElement("button",{className:"tribe-events-c-subscribe-dropdown__button-text"},addToCalendarPlaceholder),wp.element.createElement(caret_down,null)),wp.element.createElement("div",{className:"tribe-events-c-subscribe-dropdown__content"},wp.element.createElement("ul",{className:"tribe-events-c-subscribe-dropdown__list"},(({attributes:attributes,setGoogleCalendarLabel:setGoogleCalendarLabel})=>{const{hasiCal:hasiCal,hasGoogleCalendar:hasGoogleCalendar,hasOutlook365:hasOutlook365,hasOutlookLive:hasOutlookLive,googleCalendarLabel:googleCalendarLabel}=attributes;return hasGoogleCalendar||hasiCal||hasOutlook365||hasOutlookLive?hasGoogleCalendar&&wp.element.createElement("li",{className:"tribe-events-c-subscribe-dropdown__list-item"},wp.element.createElement(AutosizeInput_default.a,{id:"tribe-event-gcal",name:"google-calendar-label",className:"tribe-editor__btn-input",value:googleCalendarLabel,placeholder:googleCalendarPlaceholder,onChange:setGoogleCalendarLabel})):renderPlaceholder(googleCalendarPlaceholder)})(props),(({attributes:attributes,setiCalLabel:setiCalLabel})=>{const{hasiCal:hasiCal,hasGoogleCalendar:hasGoogleCalendar,hasOutlook365:hasOutlook365,hasOutlookLive:hasOutlookLive,iCalLabel:iCalLabel}=attributes;return hasGoogleCalendar||hasiCal||hasOutlook365||hasOutlookLive?hasiCal&&wp.element.createElement("li",{className:"tribe-events-c-subscribe-dropdown__list-item"},wp.element.createElement(AutosizeInput_default.a,{id:"tribe-event-ical",name:"tribe-event-ical",className:"tribe-editor__btn-input",value:iCalLabel,placeholder:iCalExportPlaceholder,onChange:setiCalLabel})):renderPlaceholder(iCalExportPlaceholder)})(props),(({attributes:attributes,setOutlook365Label:setOutlook365Label})=>{const{hasiCal:hasiCal,hasGoogleCalendar:hasGoogleCalendar,hasOutlook365:hasOutlook365,hasOutlookLive:hasOutlookLive,outlook365Label:outlook365Label}=attributes;return hasGoogleCalendar||hasiCal||hasOutlook365||hasOutlookLive?hasOutlook365&&wp.element.createElement("li",{className:"tribe-events-c-subscribe-dropdown__list-item"},wp.element.createElement(AutosizeInput_default.a,{id:"tribe-event-outlook-365",name:"tribe-event-outlook-365",className:"tribe-editor__btn-input",value:outlook365Label,placeholder:outlook365Placeholder,onChange:setOutlook365Label})):renderPlaceholder(outlook365Placeholder)})(props),(({attributes:attributes,setOutlookLiveLabel:setOutlookLiveLabel})=>{const{hasiCal:hasiCal,hasGoogleCalendar:hasGoogleCalendar,hasOutlook365:hasOutlook365,hasOutlookLive:hasOutlookLive,outlookLiveLabel:outlookLiveLabel}=attributes;return hasGoogleCalendar||hasiCal||hasOutlook365||hasOutlookLive?hasOutlookLive&&wp.element.createElement("li",{className:"tribe-events-c-subscribe-dropdown__list-item"},wp.element.createElement(AutosizeInput_default.a,{id:"tribe-event-outlook-live",name:"tribe-event-outlook-live",className:"tribe-editor__btn-input",value:outlookLiveLabel,placeholder:outlookLivePlaceholder,onChange:setOutlookLiveLabel})):renderPlaceholder(outlookLivePlaceholder)})(props))))))),renderControls=({attributes:attributes,isSelected:isSelected,toggleIcalLabel:toggleIcalLabel,toggleGoogleCalendar:toggleGoogleCalendar,toggleOutlook365Label:toggleOutlook365Label,toggleOutlookLiveLabel:toggleOutlookLiveLabel})=>{const{hasGoogleCalendar:hasGoogleCalendar,hasiCal:hasiCal,hasOutlook365:hasOutlook365,hasOutlookLive:hasOutlookLive}=attributes;return isSelected&&wp.element.createElement(event_links_template_InspectorControls,{key:"inspector"},wp.element.createElement(external_wp_components_.PanelBody,{title:Object(external_wp_i18n_.__)("Share Settings","the-events-calendar")},wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Google Calendar","the-events-calendar"),checked:hasGoogleCalendar,onChange:toggleGoogleCalendar,__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("iCalendar","the-events-calendar"),checked:hasiCal,onChange:toggleIcalLabel,__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Outlook 365","the-events-calendar"),checked:hasOutlook365,onChange:toggleOutlook365Label,__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.ToggleControl,{label:Object(external_wp_i18n_.__)("Outlook Live","the-events-calendar"),checked:hasOutlookLive,onChange:toggleOutlookLiveLabel,__nextHasNoMarginBottom:!0})))},EventLinks=props=>{const{setAttributes:setAttributes}=props,combinedProps=event_links_template_objectSpread(event_links_template_objectSpread({},props),{},{setiCalLabel:e=>setAttributes({iCalLabel:e.target.value}),setGoogleCalendarLabel:e=>setAttributes({googleCalendarLabel:e.target.value}),setOutlook365Label:e=>setAttributes({outlook365Label:e.target.value}),setOutlookLiveLabel:e=>setAttributes({outlookLiveLabel:e.target.value}),toggleIcalLabel:value=>setAttributes({hasiCal:value}),toggleGoogleCalendar:value=>setAttributes({hasGoogleCalendar:value}),toggleOutlook365Label:value=>setAttributes({hasOutlook365:value}),toggleOutlookLiveLabel:value=>setAttributes({hasOutlookLive:value})});return[renderButtons(combinedProps),renderControls(combinedProps)]};EventLinks.propTypes={hasGoogleCalendar:external_tribe_modules_propTypes_default.a.bool,hasiCal:external_tribe_modules_propTypes_default.a.bool,hasOutlook365:external_tribe_modules_propTypes_default.a.bool,hasOutlookLive:external_tribe_modules_propTypes_default.a.bool,isSelected:external_tribe_modules_propTypes_default.a.bool,googleCalendarLabel:external_tribe_modules_propTypes_default.a.string,iCalLabel:external_tribe_modules_propTypes_default.a.string,Outlook365Label:external_tribe_modules_propTypes_default.a.string,OutlookLiveLabel:external_tribe_modules_propTypes_default.a.string,setiCalLabel:external_tribe_modules_propTypes_default.a.func,setGoogleCalendarLabel:external_tribe_modules_propTypes_default.a.func,setOutlookLiveLabel:external_tribe_modules_propTypes_default.a.func,setOutlook365Label:external_tribe_modules_propTypes_default.a.func,toggleIcalLabel:external_tribe_modules_propTypes_default.a.func,toggleGoogleCalendar:external_tribe_modules_propTypes_default.a.func,toggleOutlook365Label:external_tribe_modules_propTypes_default.a.func,toggleOutlookLiveLabel:external_tribe_modules_propTypes_default.a.func};var event_links_template=EventLinks,event_links_container=Object(external_tribe_common_hoc_.withStore)()(event_links_template),event_links={id:"event-links",title:Object(external_wp_i18n_.__)("Event Sharing","the-events-calendar"),description:Object(external_wp_i18n_.__)("Encourage visitors to add your event to their calendars with handy sharing buttons.","the-events-calendar"),icon:wp.element.createElement(sharing,null),category:"tribe-events",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:{googleCalendarLabel:{type:"html",default:Object(external_wp_i18n_.__)("Google Calendar","the-events-calendar")},iCalLabel:{type:"html",default:Object(external_wp_i18n_.__)("iCalendar","the-events-calendar")},outlook365Label:{type:"html",default:Object(external_wp_i18n_.__)("Outlook 365","the-events-calendar")},outlookLiveLabel:{type:"html",default:Object(external_wp_i18n_.__)("Outlook Live","the-events-calendar")},hasiCal:{type:"html",default:!0},hasGoogleCalendar:{type:"html",default:!0},hasOutlook365:{type:"html",default:!0},hasOutlookLive:{type:"html",default:!0}},edit:event_links_container,save:()=>null};__webpack_require__("0gER");const{InspectorControls:event_price_template_InspectorControls}=external_tribe_common_utils_globals_.wpEditor,renderLabel=props=>{const{currencyPosition:currencyPosition,open:open}=props,containerClass=external_tribe_modules_classnames_default()("tribe-editor__event-price__price",`tribe-editor__event-price__price--${currencyPosition}`);return wp.element.createElement("div",{className:containerClass,onClick:open},(({showCurrencySymbol:showCurrencySymbol,currencySymbol:currencySymbol})=>showCurrencySymbol&&wp.element.createElement("span",{className:"tribe-editor__event-price__currency"},currencySymbol))(props),(({showCost:showCost,currencySymbol:currencySymbol,currencyPosition:currencyPosition})=>{let placeholder=Object(external_wp_i18n_.__)("Add Price","the-events-calendar");return placeholder="prefix"===currencyPosition?currencySymbol+" "+placeholder:placeholder+" "+currencySymbol,!showCost&&wp.element.createElement("span",{className:"tribe-editor__event-price__label"},placeholder)})(props),(({showCost:showCost,isFree:isFree,cost:cost})=>{let value=external_tribe_common_utils_.range.parser(cost);return isFree&&(value=Object(external_wp_i18n_.__)("Free","the-events-calendar")),showCost&&wp.element.createElement("span",{className:"tribe-editor__event-price__cost"},value)})(props),(({showCostDescription:showCostDescription,attributes:attributes})=>showCostDescription&&wp.element.createElement("span",{className:"tribe-editor__event-price__description"},attributes.costDescription))(props))},renderUI=props=>wp.element.createElement("section",{key:"event-price-box",className:"tribe-editor__block"},wp.element.createElement("div",{className:"tribe-editor__event-price"},renderLabel(props),(({isOpen:isOpen,cost:cost,setCost:setCost,attributes:attributes,setAttributes:setAttributes})=>wp.element.createElement(dashboard,{isOpen:isOpen},wp.element.createElement(external_React_.Fragment,null,wp.element.createElement("section",{className:"tribe-editor__event-price__dashboard"},wp.element.createElement("input",{className:external_tribe_modules_classnames_default()("tribe-editor__event-price__input","tribe-editor__event-price__input--price"),name:"description",type:"text",placeholder:Object(external_wp_i18n_.__)("Fixed Price or Range","the-events-calendar"),onChange:setCost,value:cost}),wp.element.createElement("input",{className:external_tribe_modules_classnames_default()("tribe-editor__event-price__input","tribe-editor__event-price__input--description"),name:"description",type:"text",placeholder:Object(external_wp_i18n_.__)("Description","the-events-calendar"),onChange:event=>setAttributes({costDescription:event.target.value}),value:attributes.costDescription})),wp.element.createElement("footer",{className:"tribe-editor__event-price__dashboard__footer"},Object(external_wp_i18n_.__)("Enter 0 as price for free events","the-events-calendar")))))(props))),template_renderControls=({isSelected:isSelected,currencySymbol:currencySymbol,currencyCode:currencyCode,currencyPosition:currencyPosition,setCurrencyPosition:setCurrencyPosition,setCode:setCode,setSymbol:setSymbol})=>isSelected&&wp.element.createElement(event_price_template_InspectorControls,{key:"inspector"},wp.element.createElement(external_wp_components_.PanelBody,{title:Object(external_wp_i18n_.__)("Price Settings","the-events-calendar")},wp.element.createElement(external_wp_components_.TextControl,{className:"tribe-editor__event-price__currency-symbol-setting",label:Object(external_wp_i18n_.__)(" Currency Symbol","the-events-calendar"),value:currencySymbol,placeholder:Object(external_wp_i18n_.__)("E.g.: $","the-events-calendar"),onChange:setSymbol,__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.TextControl,{className:"tribe-editor__event-price__currency-code-setting",label:Object(external_wp_i18n_.__)(" Currency Code","the-events-calendar"),value:currencyCode,placeholder:Object(external_wp_i18n_.__)("E.g.: USD","the-events-calendar"),onChange:setCode,__nextHasNoMarginBottom:!0}),wp.element.createElement(external_wp_components_.CheckboxControl,{label:Object(external_wp_i18n_.__)("Currency symbol follows price","the-events-calendar"),checked:"suffix"===currencyPosition,onChange:setCurrencyPosition,__nextHasNoMarginBottom:!0}))),EventPrice=props=>[renderUI(props),template_renderControls(props)];EventPrice.propTypes={isOpen:external_tribe_modules_propTypes_default.a.bool,cost:external_tribe_modules_propTypes_default.a.string,currencyPosition:external_tribe_modules_propTypes_default.a.oneOf(["prefix","suffix",""]),currencySymbol:external_tribe_modules_propTypes_default.a.string,currencyCode:external_tribe_modules_propTypes_default.a.string,showCurrencySymbol:external_tribe_modules_propTypes_default.a.bool,showCost:external_tribe_modules_propTypes_default.a.bool,showCostDescription:external_tribe_modules_propTypes_default.a.bool,isFree:external_tribe_modules_propTypes_default.a.bool,setCost:external_tribe_modules_propTypes_default.a.func,setSymbol:external_tribe_modules_propTypes_default.a.func,setCode:external_tribe_modules_propTypes_default.a.func,setCurrencyPosition:external_tribe_modules_propTypes_default.a.func,onKeyDown:external_tribe_modules_propTypes_default.a.func,onClick:external_tribe_modules_propTypes_default.a.func,open:external_tribe_modules_propTypes_default.a.func,attributes:external_tribe_modules_propTypes_default.a.object,setAttributes:external_tribe_modules_propTypes_default.a.func};var event_price_template=EventPrice;const showCurrencySymbol=cost=>{const parsed=external_tribe_common_utils_.range.parser(cost);return!external_lodash_isEmpty_default()(external_lodash_trim_default()(parsed))&&!external_tribe_common_utils_.range.isFree(cost)},container_showCost=cost=>{const parsed=external_tribe_common_utils_.range.parser(cost);return!external_lodash_isEmpty_default()(external_lodash_trim_default()(parsed))||external_tribe_common_utils_.range.isFree(cost)};var event_price_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)(((state,ownProps)=>({cost:price_selectors_namespaceObject.getPrice(state),currencyPosition:price_selectors_namespaceObject.getPosition(state),currencySymbol:price_selectors_namespaceObject.getSymbol(state),currencyCode:price_selectors_namespaceObject.getCode(state),showCurrencySymbol:showCurrencySymbol(price_selectors_namespaceObject.getPrice(state)),showCost:container_showCost(price_selectors_namespaceObject.getPrice(state)),showCostDescription:!external_lodash_isEmpty_default()(external_lodash_trim_default()(ownProps.attributes.costDescription)),isFree:external_tribe_common_utils_.range.isFree(price_selectors_namespaceObject.getPrice(state))})),((dispatch,ownProps)=>({setCost:event=>{ownProps.setAttributes({cost:event.target.value}),dispatch(price_actions_namespaceObject.setCost(event.target.value))},setSymbol:symbol=>{ownProps.setAttributes({currencySymbol:symbol}),dispatch(price_actions_namespaceObject.setSymbol(symbol))},setCode:code=>{ownProps.setAttributes({currencyCode:code}),dispatch(price_actions_namespaceObject.setCode(code))},setCurrencyPosition:value=>{const position=price_utils_namespaceObject.getPosition(!value);ownProps.setAttributes({currencyPosition:position}),dispatch(price_actions_namespaceObject.setPosition(position))}}))),external_tribe_common_hoc_.withBlockCloser)(event_price_template),event_price={id:"event-price",title:Object(external_wp_i18n_.__)("Event Price","the-events-calendar"),description:Object(external_wp_i18n_.__)("Let visitors know the cost of this event or if its free to attend.","the-events-calendar"),icon:wp.element.createElement(icons_price,null),category:"tribe-events",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:{cost:{type:"string",source:"meta",meta:"_EventCost"},costDescription:{type:"html",default:""},currencySymbol:{type:"string",source:"meta",meta:"_EventCurrencySymbol"},currencyCode:{type:"string",source:"meta",meta:"_EventCurrencyCode"},currencyPosition:{type:"string",source:"meta",meta:"_EventCurrencyPosition"}},edit:event_price_container,save:()=>null};__webpack_require__("cbOF");var event_category_block=()=>wp.element.createElement("section",{className:"tribe-editor__block"},wp.element.createElement("div",{className:"tribe-editor__event-category"},wp.element.createElement(terms_list,{slug:"tribe_events_cat",label:Object(external_wp_i18n_.__)("Event Category","the-events-calendar"),renderEmpty:Object(external_wp_i18n_.__)("Add Event Categories in document settings","the-events-calendar")}))),event_category={id:"event-category",title:Object(external_wp_i18n_.__)("Event Categories","the-events-calendar"),description:Object(external_wp_i18n_.__)("Show assigned event categories as links to their respective archives.","the-events-calendar"),icon:wp.element.createElement(categories,null),category:"tribe-events",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:{},edit:event_category_block,save:()=>null};__webpack_require__("E/Ph");var event_tags_block=()=>wp.element.createElement("section",{className:"tribe-editor__block"},wp.element.createElement("div",{className:"tribe-editor__event-tags"},wp.element.createElement(terms_list,{slug:"post_tag",label:Object(external_wp_i18n_.__)("Tags","the-events-calendar"),renderEmpty:Object(external_wp_i18n_.__)("Add tags in document settings","the-events-calendar")}))),event_tags={id:"event-tags",title:Object(external_wp_i18n_.__)("Tags","the-events-calendar"),description:Object(external_wp_i18n_.__)("Add keywords by displaying linked tags.","the-events-calendar"),icon:wp.element.createElement(tags,null),category:"common",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:{},edit:event_tags_block,save:()=>null};__webpack_require__("e71u");const{URLInput:URLInput}=external_tribe_common_utils_globals_.wpEditor,template_placeholder=Object(external_wp_i18n_.__)("Add Event Website","the-events-calendar"),buttonPlaceholder=Object(external_wp_i18n_.__)("Button text","the-events-calendar"),urlPlaceholder=Object(external_wp_i18n_.__)("Website URL","the-events-calendar"),renderUrlInput=({isSelected:isSelected,url:url,setWebsite:setWebsite})=>isSelected&&wp.element.createElement("div",{key:"tribe-events-website-url",className:"tribe-editor__event-website__url"},wp.element.createElement(external_wp_components_.Dashicon,{icon:"admin-links"}),wp.element.createElement(URLInput,{autoFocus:!1,value:url,onChange:setWebsite,placeholder:urlPlaceholder})),renderLabelInput=({isSelected:isSelected,attributes:attributes,setAttributes:setAttributes})=>{const isEmpty=""===attributes.urlLabel.trim(),containerClassNames=external_tribe_modules_classnames_default()({"tribe-editor__event-website__label":!0,"tribe-editor__event-website__label--selected":isSelected}),inputClassNames=external_tribe_modules_classnames_default()({"tribe-editor__event-website__label-text":!0,"tribe-editor__event-website__label-text--empty":isEmpty&&isSelected});return wp.element.createElement("div",{key:"tribe-events-website-label",className:containerClassNames},wp.element.createElement(AutosizeInput_default.a,{id:"tribe-events-website-link",className:inputClassNames,value:attributes.urlLabel,placeholder:isSelected?buttonPlaceholder:template_placeholder,onChange:event=>setAttributes({urlLabel:event.target.value})}))},EventWebsite=props=>{const{isSelected:isSelected,attributes:attributes}=props,eventWebsite=isSelected||attributes.urlLabel?[renderLabelInput(props),renderUrlInput(props)]:wp.element.createElement("button",{className:external_tribe_modules_classnames_default()(["tribe-editor__event-website__label","tribe-editor__event-website__label--placeholder"])},template_placeholder),blockContainerClassNames=external_tribe_modules_classnames_default()({"tribe-editor__block tribe-editor__event-website":!0,"tribe-editor__event-website--selected":isSelected});return wp.element.createElement("div",{className:blockContainerClassNames},eventWebsite)};EventWebsite.propTypes={isSelected:external_tribe_modules_propTypes_default.a.bool,url:external_tribe_modules_propTypes_default.a.string,setWebsite:external_tribe_modules_propTypes_default.a.func,attributes:external_tribe_modules_propTypes_default.a.object,setAttributes:external_tribe_modules_propTypes_default.a.func};var event_website_template=EventWebsite;var event_website_container=Object(external_tribe_modules_redux_.compose)(Object(external_tribe_common_hoc_.withStore)(),Object(external_tribe_modules_reactRedux_.connect)((state=>({url:getUrl(state)})),((dispatch,ownProps)=>({setWebsite:website=>{ownProps.setAttributes({url:website}),dispatch(actions_setWebsite(website))}}))))(event_website_template),event_website={id:"event-website",title:Object(external_wp_i18n_.__)("Event Website","the-events-calendar"),description:Object(external_wp_i18n_.__)("Is there another website for this event? Link to it with a button!","the-events-calendar"),icon:wp.element.createElement(icons_website,null),category:"tribe-events",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:{urlLabel:{type:"html",default:""},url:{type:"string",source:"meta",meta:"_EventURL"}},edit:event_website_container,save:()=>null};class block_FeaturedImage extends external_wp_element_.Component{constructor(){super(...arguments)}render(){return[this.renderUI()]}renderUI(){return wp.element.createElement("section",{key:"featured-image",className:"tribe-editor__block"},wp.element.createElement("div",{className:"tribe-editor__featured-image"},this.renderImage()))}renderImage(){const{image:image}=this.props;return null===image?this.renderPlaceholder():void 0===image?this.renderLoading():wp.element.createElement("img",{src:image.source_url,alt:Object(external_wp_i18n_.__)("Featured Image","the-events-calendar")})}renderPlaceholder(){return wp.element.createElement(external_wp_components_.Placeholder,{style:{minHeight:150},key:"placeholder",icon:"format-image",instructions:Object(external_wp_i18n_.__)("Add a Featured Image from the Document Settings sidebar","the-events-calendar")})}renderLoading(){return wp.element.createElement(external_wp_components_.Placeholder,{style:{minHeight:150},key:"placeholder",instructions:Object(external_wp_i18n_.__)("Loading the Image","the-events-calendar")},wp.element.createElement(external_wp_components_.Spinner,null))}}defineProperty_default()(block_FeaturedImage,"propTypes",{image:external_tribe_modules_propTypes_default.a.object});var featured_image_block=Object(external_wp_data_.withSelect)((select=>{const{getMedia:getMedia}=select("core"),{getEditedPostAttribute:getEditedPostAttribute}=select("core/editor"),featuredImageId=getEditedPostAttribute("featured_media");return{image:featuredImageId?getMedia(featuredImageId):null}}))(block_FeaturedImage),blocks_featured_image={id:"featured-image",title:Object(external_wp_i18n_.__)("Featured Image","the-events-calendar"),description:Object(external_wp_i18n_.__)("Display the featured image in the post content.","the-events-calendar"),icon:wp.element.createElement(featured_image,null),category:"common",keywords:["event","events-gutenberg","tribe"],supports:{html:!1},attributes:{},edit:featured_image_block,save:()=>null};const archive_events_excluded=["className"],{__:__}=wp.i18n,{useBlockProps:useBlockProps}=wp.blockEditor,EventItem=({width:width="40%"})=>wp.element.createElement("div",{style:{width:width,height:16,background:"#eee",margin:"18px 4px"}});EventItem.propTypes={width:external_tribe_modules_propTypes_default.a.string};var archive_events={id:"tec/archive-events",title:__("Archive Events","the-events-calendar"),icon:"calendar-alt",category:"tribe-events",keywords:[__("Archive Events","the-events-calendar"),__("The Events Calendar","the-events-calendar")],edit:props=>{const _useBlockProps=useBlockProps(),{className:className}=_useBlockProps,blockProps=objectWithoutProperties_default()(_useBlockProps,archive_events_excluded);return wp.element.createElement("div",extends_default()({className:`${className} ${props.className}`},blockProps),wp.element.createElement("h3",null,__("Archive Events","the-events-calendar")),wp.element.createElement("p",null,__("This block serves as a placeholder for your The Events Calendar archive events template. It will display the event search fields and event results.","the-events-calendar")),wp.element.createElement("div",null,wp.element.createElement("input",{type:"text",style:{height:22,width:"50%",margin:4,padding:4,borderRadius:4,maxWidth:400},disabled:!0})),wp.element.createElement(EventItem,{width:"40%"}),wp.element.createElement(EventItem,{width:"60%"}),wp.element.createElement(EventItem,{width:"35%"}),wp.element.createElement(EventItem,{width:"40%"}),wp.element.createElement(EventItem,{width:"55%"}))}};const single_event_excluded=["style"],single_event_excluded2=["className"];function single_event_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function single_event_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?single_event_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):single_event_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const{__:single_event_}=wp.i18n,{useBlockProps:single_event_useBlockProps}=wp.blockEditor,FauxLine=_ref=>{let{style:style={}}=_ref,props=objectWithoutProperties_default()(_ref,single_event_excluded);return wp.element.createElement("div",extends_default()({style:single_event_objectSpread(single_event_objectSpread({},{height:16,background:"#eee",margin:"18px 4px 18px 0"}),style)},props))};FauxLine.propTypes={style:external_tribe_modules_propTypes_default.a.object};var single_event={id:"tec/single-event",title:single_event_("Single Event","the-events-calendar"),icon:"calendar-alt",category:"tribe-events",keywords:[single_event_("Single Event","the-events-calendar"),single_event_("The Events Calendar","the-events-calendar")],edit:props=>{const _useBlockProps=single_event_useBlockProps(),{className:className}=_useBlockProps,blockProps=objectWithoutProperties_default()(_useBlockProps,single_event_excluded2);return wp.element.createElement("div",extends_default()({className:`${className} ${props.className}`},blockProps),wp.element.createElement("h3",null,single_event_("Event Title","the-events-calendar")),wp.element.createElement("p",null,wp.element.createElement("strong",null,single_event_("EVENT DATE/TIME","the-events-calendar"))),wp.element.createElement(FauxLine,{style:{marginLeft:34,marginRight:"25%"}}),wp.element.createElement(FauxLine,{style:{marginRight:"25%"}}),wp.element.createElement(FauxLine,{style:{marginRight:"25%"}}),wp.element.createElement("button",{type:"button",style:{border:"1px solid rgb(51, 74, 255)",borderRadius:4,backgroundColor:"#fff",color:"rgb(51, 74, 255)",fontSize:14,fontWeight:700,padding:"8px 12px",textAlign:"center",width:200,height:40,lineHeight:"22px",fontFamily:'"Helvetica Neue", Helvetica, -apple-system, BlinkMacSystemFont, Roboto, Arial, sans-serif'}},"Add to calendar"))}};function subscribers_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function subscribers_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?subscribers_ownKeys(Object(t),!0).forEach((function(r){defineProperty_default()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):subscribers_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const{select:wpSelect,dispatch:wpDispatch,subscribe:wpSubscribe}=external_tribe_common_utils_globals_.wpData,setBlockMeta=(blockToMapAndSelectorMap,blockKey)=>{const[map,selector]=blockToMapAndSelectorMap[blockKey];return Object.keys(map).reduce(((prevValue,mapKey)=>subscribers_objectSpread(subscribers_objectSpread({},prevValue),((map,mapKey,selector)=>{const metaKey=map[mapKey],blockState=selector(external_tribe_common_store_.store.getState());return{[metaKey]:blockState[mapKey]}})(map,mapKey,selector))),{})};var blocks_subscribers=()=>{if(!Object(external_tribe_common_utils_globals_.postObjects)().tribe_events.is_new_post)return;const unsubscribe=wpSubscribe((()=>{if(!wpSelect("core/editor").isEditedPostDirty())return;unsubscribe();const blockToMapAndSelectorMap={datetime:[reducer_namespaceObject.defaultStateToMetaMap,selectors_namespaceObject.datetimeSelector],price:[price_reducer_namespaceObject.defaultStateToMetaMap,price_selectors_namespaceObject.getPriceBlock],venue:[venue_selectors_namespaceObject.venueBlockSelector],website:[website_reducer_namespaceObject.defaultStateToMetaMap,website_selectors_namespaceObject.getWebsiteBlock]},blockKeys=Object.keys(blockToMapAndSelectorMap),postId=wpSelect("core/editor").getCurrentPostId(),meta=blockKeys.reduce(((prevValue,blockKey)=>subscribers_objectSpread(subscribers_objectSpread({},prevValue),setBlockMeta(blockToMapAndSelectorMap,blockKey))),{});wpDispatch("core").editEntityRecord("postType",external_tribe_common_data_.editor.EVENT,postId,{meta:meta})}))};const blocks_reducer_setInitialState=data=>{reducer_namespaceObject.setInitialState(data),organizers_reducer_namespaceObject.setInitialState(data),price_reducer_namespaceObject.setInitialState(data),website_reducer_namespaceObject.setInitialState(data)};var blocks_reducer=Object(external_tribe_modules_redux_.combineReducers)({datetime:datetime,venue:blocks_venue,organizers:blocks_organizers,price:price,website:blocks_website}),reducers=Object(external_tribe_modules_redux_.combineReducers)({blocks:blocks_reducer,search:data_search,details:data_details});const{actions:actions,constants:constants}=external_tribe_common_data_.plugins,initStore=()=>{const data=external_tribe_common_utils_.globals.postObjects().tribe_events;data.is_new_post||(data=>{blocks_reducer_setInitialState(data)})(data);const{dispatch:dispatch,injectReducers:injectReducers}=external_tribe_common_store_.store;[watchers].forEach((sagas=>external_tribe_common_store_.store.run(sagas))),subscribers(),venue_subscribers(),blocks_subscribers(),injectReducers({[constants.EVENTS_PLUGIN]:reducers}),dispatch(actions.addPlugin(constants.EVENTS_PLUGIN))},getStore=()=>external_tribe_common_store_.store;__webpack_require__("7jnD");const controls={EventDateTimeControls:controls_container},blocks_blocks=[classic_event_details,event_datetime,event_organizer,event_links,event_price,event_category,event_tags,event_website,blocks_featured_image,archive_events,single_event];blocks_blocks.forEach((block=>{const blockName=block.id.includes("/")?block.id:`tribe/${block.id}`;Object(external_wp_blocks_.registerBlockType)(blockName,block)})),initStore();var modules_blocks=blocks_blocks;__webpack_require__("Nr4Y")},ZNLL:function(module,exports){module.exports=tribe.common.data},aHF2:function(module,exports,__webpack_require__){},cDcd:function(module,exports){module.exports=React},cZoL:function(module,exports){module.exports=lodash.differenceBy},cbOF:function(module,exports,__webpack_require__){},dPZZ:function(module,exports,__webpack_require__){},dRht:function(module,exports){module.exports=tribe.common.store.middlewares.request},"df/k":function(module,exports){module.exports=lodash.identity},dm47:function(module,exports){module.exports=lodash.isInteger},e5yv:function(module,exports){module.exports=lodash.isArray},e71u:function(module,exports,__webpack_require__){},g56x:function(module,exports){module.exports=wp.hooks},g8L8:function(module,exports){module.exports=tribe.common.store},h74D:function(module,exports){module.exports=tribe.modules.reactRedux},hT6J:function(module,exports,__webpack_require__){},hkzn:function(module,exports,__webpack_require__){},kXZL:function(module,exports,__webpack_require__){},kczL:function(module,exports){module.exports=tribe.common.utils.globals},l3Sj:function(module,exports){module.exports=wp.i18n},lCf4:function(module,exports){module.exports=lodash.get},mXU7:function(module,exports,__webpack_require__){},oJLs:function(module,exports,__webpack_require__){},peom:function(module,exports){module.exports=lodash.isUndefined},qPgG:function(module,exports,__webpack_require__){},qnjl:function(module,exports,__webpack_require__){},rKB8:function(module,exports){module.exports=tribe.modules.redux},rf6O:function(module,exports){module.exports=tribe.modules.propTypes},"tI+e":function(module,exports){module.exports=wp.components},tOtL:function(module,exports,__webpack_require__){},tbMi:function(module,exports){module.exports=tribe.common.utils.date},tgsb:function(module,exports,__webpack_require__){},wLDe:function(module,exports){module.exports=tribe.modules.reactDayPicker},wy2R:function(module,exports){module.exports=moment},zCYh:function(module,exports){module.exports=tribe.common.utils.moment},zgRa:function(module,exports){module.exports=lodash.isEqual}});