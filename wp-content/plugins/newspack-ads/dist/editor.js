(()=>{var e={5366:(e,t,n)=>{"object"==typeof window&&window.Jetpack_Block_Assets_Base_Url&&(n.p=window.Jetpack_Block_Assets_Base_Url)},4981:e=>{"use strict";e.exports=window.wp.blocks},5609:e=>{"use strict";e.exports=window.wp.components},9307:e=>{"use strict";e.exports=window.wp.element},907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},2982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(907);var o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(907);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})();var r={};(()=>{"use strict";n(5366);var e=n(2982),t=n(9307),r=n(4981),o=n(5609);const a=function(e){var n=e.size,r=void 0===n?24:n;return(0,t.createElement)(o.SVG,{className:"newspack-logo",width:r,height:r,viewBox:"0 0 32 32"},(0,t.createElement)(o.Path,{d:"M16 32c8.836 0 16-7.164 16-16S24.836 0 16 0 0 7.164 0 16s7.163 16 16 16z",fill:"#36f"}),(0,t.createElement)(o.Path,{d:"M22.988 16.622h-1.72l-1.103-1.124h2.823v1.124zm0-3.31H18.02l-1.102-1.124h6.071v1.124zm0-3.31h-8.217l-1.103-1.125h9.32v1.125zm0 13.12L9.012 8.878v4.749l.069.071h-.07v9.426h3.451v-5.98l5.867 5.98h4.66z",fill:"#fff"}))};(0,r.setCategories)([].concat((0,e.Z)((0,r.getCategories)().filter((function(e){return"newspack"!==e.slug}))),[{slug:"newspack",title:"Newspack",icon:(0,t.createElement)(a,null)}]))})(),(()=>{"use strict";n.r(r);var e=n(4981),t=n(9307),o=n(5609);const a=window.wp.i18n;var i=n(181);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);_n=!0);}catch(c){i=!0,o=c}finally{try{_n||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=n(2982);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=window.wp.apiFetch;var b=n.n(w),__=a.__,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(f,e);var n,r,a,i=m(f);function f(){var e;return u(this,f),y(d(e=i.apply(this,arguments)),"adUnitsForSelect",(function(e){return[{label:__("Select an ad unit"),value:null}].concat((0,l.Z)(Object.values(e).map((function(e){return{label:e.name,value:e.id}}))))})),y(d(e),"activeAdDataForActiveAd",(function(t){var n=e.state.adUnits,r=n&&n.find((function(e){return parseInt(e.id)===parseInt(t)}));return e.dimensionsFromAd(r)})),y(d(e),"dimensionsFromAd",(function(e){var t=(e||{}).sizes,n=c(t&&t.length?t[0]:[320,240],2);return{width:n[0],height:n[1]}})),e.state={adUnits:null},e}return n=f,(r=[{key:"componentDidMount",value:function(){var e=this;b()({path:"/newspack/v1/wizard/advertising"}).then((function(t){return e.setState({adUnits:t.ad_units,initialUpdate:!0})}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.attributes,r=t.noticeOperations,o=n.activeAd;if(o!==e.attributes.activeAd){var a=this.activeAdDataForActiveAd(o),i=a.code,c=a.width,l=a.height;!i||c||l?r.removeAllNotices():r.createErrorNotice(__("Invalid ad unit code. No dimensions available"))}}},{key:"render",value:function(){var e=this.props,n=e.attributes,r=e.setAttributes,a=e.noticeUI,i=n.activeAd,c=this.state.adUnits,l=this.activeAdDataForActiveAd(i),u=l.width,s=void 0===u?100:u,d=l.height,p=void 0===d?75:d,f=Math.max(100,s),v={padding:"0 0 ".concat(Math.min(500,100*p/s),"%")};return(0,t.createElement)(t.Fragment,null,a,(0,t.createElement)("div",{className:"wp-block-newspack-ads-blocks-ad-unit"},(0,t.createElement)("div",{className:"newspack-ads-ad-unit"},(0,t.createElement)(o.Placeholder,{style:{width:"".concat(f,"px")}},(0,t.createElement)("div",{className:"newspack-ads-ad-unit__ratio",style:v}),!c&&(0,t.createElement)(o.Spinner,null),c&&!!c.length&&(0,t.createElement)(o.SelectControl,{label:__("Ad Unit"),value:i,options:this.adUnitsForSelect(c),onChange:function(e){return r({activeAd:e})}}),c&&!c.length&&(0,t.createElement)("div",{className:"components-base-control"},(0,t.createElement)("div",{className:"components-base-control__field"},__("No ad units have been created yet."),(0,t.createElement)(o.ExternalLink,{href:"/wp-admin/admin.php?page=newspack-google-ad-manager-wizard#/"},__("You can create ad units in the Ads wizard"))))))))}}])&&s(n.prototype,r),a&&s(n,a),Object.defineProperty(n,"prototype",{writable:!1}),f}(t.Component);const A=(0,o.withNotices)(g);var _=a.__,k={title:_("Ad Unit"),icon:{src:(0,t.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.createElement)(o.Path,{d:"M7 5.5h10V4H7zM17 20H7v-1.5h10zM17.75 9.75l-11.5 4.5v-4.5z"}),(0,t.createElement)(o.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M20 9.5a2 2 0 00-2-2H6a2 2 0 00-2 2v5a2 2 0 002 2h12a2 2 0 002-2zM18 9H6a.5.5 0 00-.5.5v5a.5.5 0 00.5.5h12a.5.5 0 00.5-.5v-5A.5.5 0 0018 9z"})),foreground:"#36f"},category:(0,e.getCategories)().some((function(e){return"newspack"===e.slug}))?"newspack":"common",keywords:[_("ad"),_("advert"),_("ads")],description:(0,t.createElement)(t.Fragment,null,(0,t.createElement)("p",null,_("A block for displaying ad inventory.","newspack")),(0,t.createElement)(o.ExternalLink,{href:"/wp-admin/admin.php?page=newspack-advertising-wizard#/google_ad_manager"},_("Manage ad units","newspack"))),attributes:{activeAd:{type:"string"}},supports:{html:!1,align:["left","center","right","wide","full"]},edit:A,save:function(){return null}};(0,e.registerBlockType)("newspack-ads/".concat("ad-unit"),k)})();var o=window;for(var a in r)o[a]=r[a];r.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();