(()=>{var e={2:(e,t,n)=>{var r=n(2199),a=n(4664),o=n(5950);e.exports=function(e){return r(e,o,a)}},79:(e,t,n)=>{var r=n(3702),a=n(80),o=n(4739),i=n(8655),s=n(1175);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},80:(e,t,n)=>{var r=n(6025),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},104:(e,t,n)=>{var r=n(3661);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},124:(e,t,n)=>{var r=n(9325);e.exports=function(){return r.Date.now()}},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},270:(e,t,n)=>{var r=n(7068),a=n(346);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,o,i,e,s))}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},583:(e,t,n)=>{var r=n(7237),a=n(7255),o=n(8586),i=n(7797);e.exports=function(e){return o(e)?r(i(e)):a(e)}},631:(e,t,n)=>{var r=n(8077),a=n(9326);e.exports=function(e,t){return null!=e&&a(e,t,r)}},641:(e,t,n)=>{var r=n(6649),a=n(5950);e.exports=function(e,t){return e&&r(e,t,a)}},659:(e,t,n)=>{var r=n(1873),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},689:(e,t,n)=>{var r=n(2),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,s){var c=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!c)return!1;for(var p=u;p--;){var d=l[p];if(!(c?d in t:a.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=c;++p<u;){var m=e[d=l[p]],w=t[d];if(o)var y=c?o(w,m,d,t,e,s):o(m,w,d,e,t,s);if(!(void 0===y?m===w||i(m,w,n,o,s):y)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var x=e.constructor,b=t.constructor;x==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b||(v=!1)}return s.delete(e),s.delete(t),v}},695:(e,t,n)=>{var r=n(8096),a=n(2428),o=n(6449),i=n(3656),s=n(361),c=n(7167),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),p=!n&&!u&&i(e),d=!n&&!u&&!p&&c(e),h=n||u||p||d,f=h?r(e.length,String):[],v=f.length;for(var g in e)!t&&!l.call(e,g)||h&&("length"==g||p&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||f.push(g);return f}},756:(e,t,n)=>{var r=n(3805);e.exports=function(e){return e==e&&!r(e)}},776:(e,t,n)=>{var r=n(756),a=n(5950);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,r(i)]}return t}},909:(e,t,n)=>{var r=n(641),a=n(8329)(r);e.exports=a},916:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n;return r(e,(function(e,r,a){return!(n=t(e,r,a))})),!!n}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},945:(e,t,n)=>{var r=n(79),a=n(8223),o=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},999:(e,t,n)=>{var r=n(9302),a=n(6800);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&a(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t}))}},1033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1331:(e,t,n)=>{var r=n(2552),a=n(8879),o=n(346),i=Function.prototype,s=Object.prototype,c=i.toString,l=s.hasOwnProperty,u=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==u}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1489:(e,t,n)=>{var r=n(7400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},1549:(e,t,n)=>{var r=n(2032),a=n(3862),o=n(6721),i=n(2749),s=n(5749);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1769:(e,t,n)=>{var r=n(6449),a=n(8586),o=n(1802),i=n(3222);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},1791:(e,t,n)=>{var r=n(6547),a=n(3360);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),i?a(n,l,u):r(n,l,u)}return n}},1799:(e,t,n)=>{var r=n(7217),a=n(270);e.exports=function(e,t,n,o){var i=n.length,s=i,c=!o;if(null==e)return!s;for(e=Object(e);i--;){var l=n[i];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var u=(l=n[i])[0],p=e[u],d=l[1];if(c&&l[2]){if(void 0===p&&!(u in e))return!1}else{var h=new r;if(o)var f=o(p,d,u,e,t,h);if(!(void 0===f?a(d,p,3,o,h):f))return!1}}return!0}},1800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1802:(e,t,n)=>{var r=n(2224),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)})),t}));e.exports=i},1811:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),o=16-(a-r);if(r=a,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},1961:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1986:(e,t,n)=>{var r=n(1873),a=n(7828),o=n(5288),i=n(5911),s=n(317),c=n(4247),l=r?r.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,p,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=c),e.size!=t.size&&!f)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var g=i(h(e),h(t),r,l,p,d);return d.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},2006:(e,t,n)=>{var r=n(5389),a=n(4894),o=n(5950);e.exports=function(e){return function(t,n,i){var s=Object(t);if(!a(t)){var c=r(n,3);t=o(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,i);return l>-1?s[c?t[l]:l]:void 0}}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2193:(e,t,n)=>{var r=n(8984),a=n(5861),o=n(2428),i=n(6449),s=n(4894),c=n(3656),l=n(5527),u=n(7167),p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||o(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},2199:(e,t,n)=>{var r=n(4528),a=n(6449);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},2224:(e,t,n)=>{var r=n(104);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},2426:(e,t,n)=>{var r=n(4248),a=n(5389),o=n(916),i=n(6449),s=n(6800);e.exports=function(e,t,n){var c=i(e)?r:o;return n&&s(e,t,n)&&(t=void 0),c(e,a(t,3))}},2428:(e,t,n)=>{var r=n(7534),a=n(346),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},2523:e=>{e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},2552:(e,t,n)=>{var r=n(1873),a=n(659),o=n(9350),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2694:(e,t,n)=>{"use strict";var r=n(6925);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2749:(e,t,n)=>{var r=n(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},2804:(e,t,n)=>{var r=n(6110)(n(9325),"Promise");e.exports=r},2824:(e,t,n)=>{var r=n(7805),a=n(3290),o=n(1961),i=n(3007),s=n(5529),c=n(2428),l=n(6449),u=n(3693),p=n(3656),d=n(9501),h=n(3805),f=n(1331),v=n(7167),g=n(4974),m=n(9884);e.exports=function(e,t,n,w,y,x,b){var _=g(e,n),k=g(t,n),j=b.get(k);if(j)r(e,n,j);else{var S=x?x(_,k,n+"",e,t,b):void 0,P=void 0===S;if(P){var O=l(k),C=!O&&p(k),N=!O&&!C&&v(k);S=k,O||C||N?l(_)?S=_:u(_)?S=i(_):C?(P=!1,S=a(k,!0)):N?(P=!1,S=o(k,!0)):S=[]:f(k)||c(k)?(S=_,c(_)?S=m(_):h(_)&&!d(_)||(S=s(k))):P=!1}P&&(b.set(k,S),y(S,k,w,x,b),b.delete(k)),r(e,n,S)}}},2865:(e,t,n)=>{var r=n(9570),a=n(1811)(r);e.exports=a},2903:(e,t,n)=>{var r=n(3805),a=n(5527),o=n(181),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},3007:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},3040:(e,t,n)=>{var r=n(1549),a=n(79),o=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case p:case o:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case v:case c:return e;default:return t}}case a:return t}}}function _(e){return b(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=a,t.Profiler=s,t.StrictMode=i,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||b(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===d},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===a},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===i},t.isSuspense=function(e){return b(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===s||e===i||e===h||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===w||e.$$typeof===y||e.$$typeof===x||e.$$typeof===m)},t.typeOf=b},3170:(e,t,n)=>{var r=n(6547),a=n(1769),o=n(361),i=n(3805),s=n(7797);e.exports=function(e,t,n,c){if(!i(e))return e;for(var l=-1,u=(t=a(t,e)).length,p=u-1,d=e;null!=d&&++l<u;){var h=s(t[l]),f=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(l!=p){var v=d[h];void 0===(f=c?c(v,h,d):void 0)&&(f=i(v)?v:o(t[l+1])?[]:{})}r(d,h,f),d=d[h]}return e}},3221:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,o=Object(t),i=r(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===n(o[c],c,o))break}return t}}},3222:(e,t,n)=>{var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},3243:(e,t,n)=>{var r=n(6110),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},3290:(e,t,n)=>{e=n.nmd(e);var r=n(9325),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},3345:e=>{e.exports=function(){return[]}},3360:(e,t,n)=>{var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},3488:e=>{e.exports=function(e){return e}},3560:(e,t,n)=>{var r=n(3170);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),a=n(9935),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c},3661:(e,t,n)=>{var r=n(3040),a=n(7670),o=n(289),i=n(4509),s=n(2949);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},3663:(e,t,n)=>{var r=n(1799),a=n(776),o=n(7197);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},3693:(e,t,n)=>{var r=n(4894),a=n(346);e.exports=function(e){return a(e)&&r(e)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},4128:(e,t,n)=>{var r=n(1800),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},4146:(e,t,n)=>{"use strict";var r=n(3404),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var l=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var a=h(n);a&&a!==f&&e(t,a,r)}var i=u(n);p&&(i=i.concat(p(n)));for(var s=c(t),v=c(n),g=0;g<i.length;++g){var m=i[g];if(!(o[m]||r&&r[m]||v&&v[m]||s&&s[m])){var w=d(n,m);try{l(t,m,w)}catch(e){}}}}return t}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},4248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4394:(e,t,n)=>{var r=n(2552),a=n(346);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},4528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},4664:(e,t,n)=>{var r=n(9770),a=n(3345),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},4713:(e,t,n)=>{var r=n(2523),a=n(5389),o=n(1489),i=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:o(n);return c<0&&(c=i(s+c,0)),r(e,a(t,3),c)}},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4894:(e,t,n)=>{var r=n(9501),a=n(294);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},4901:(e,t,n)=>{var r=n(2552),a=n(294),o=n(346),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},4912:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},4974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},5015:(e,t,n)=>{var r=n(2552),a=n(6449),o=n(346);e.exports=function(e){return"string"==typeof e||!a(e)&&o(e)&&"[object String]"==r(e)}},5083:(e,t,n)=>{var r=n(9501),a=n(7296),o=n(3805),i=n(7473),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,p=l.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?d:s).test(i(e))}},5250:(e,t,n)=>{var r=n(7217),a=n(7805),o=n(6649),i=n(2824),s=n(3805),c=n(7241),l=n(4974);e.exports=function e(t,n,u,p,d){t!==n&&o(n,(function(o,c){if(d||(d=new r),s(o))i(t,n,c,u,e,p,d);else{var h=p?p(l(t,c),o,c+"",t,n,d):void 0;void 0===h&&(h=o),a(t,c,h)}}),c)}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5389:(e,t,n)=>{var r=n(3663),a=n(7978),o=n(3488),i=n(6449),s=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):s(e)}},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5529:(e,t,n)=>{var r=n(9344),a=n(8879),o=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},5556:(e,t,n)=>{e.exports=n(2694)()},5580:(e,t,n)=>{var r=n(6110)(n(9325),"DataView");e.exports=r},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5861:(e,t,n)=>{var r=n(5580),a=n(8223),o=n(2804),i=n(6545),s=n(8303),c=n(2552),l=n(7473),u="[object Map]",p="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",v=l(r),g=l(a),m=l(o),w=l(i),y=l(s),x=c;(r&&x(new r(new ArrayBuffer(1)))!=f||a&&x(new a)!=u||o&&x(o.resolve())!=p||i&&x(new i)!=d||s&&x(new s)!=h)&&(x=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return f;case g:return u;case m:return p;case w:return d;case y:return h}return t}),e.exports=x},5911:(e,t,n)=>{var r=n(8859),a=n(4248),o=n(9219);e.exports=function(e,t,n,i,s,c){var l=1&n,u=e.length,p=t.length;if(u!=p&&!(l&&p>u))return!1;var d=c.get(e),h=c.get(t);if(d&&h)return d==t&&h==e;var f=-1,v=!0,g=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++f<u;){var m=e[f],w=t[f];if(i)var y=l?i(w,m,f,t,e,c):i(m,w,f,e,t,c);if(void 0!==y){if(y)continue;v=!1;break}if(g){if(!a(t,(function(e,t){if(!o(g,t)&&(m===e||s(m,e,n,i,c)))return g.push(t)}))){v=!1;break}}else if(m!==w&&!s(m,w,n,i,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},5950:(e,t,n)=>{var r=n(695),a=n(8984),o=n(4894);e.exports=function(e){return o(e)?r(e):a(e)}},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},6110:(e,t,n)=>{var r=n(5083),a=n(392);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},6139:(e,t,n)=>{var r=n(6547),a=n(1791),o=n(999),i=n(4894),s=n(5527),c=n(5950),l=Object.prototype.hasOwnProperty,u=o((function(e,t){if(s(t)||i(t))a(t,c(t),e);else for(var n in t)l.call(t,n)&&r(e,n,t[n])}));e.exports=u},6449:e=>{var t=Array.isArray;e.exports=t},6545:(e,t,n)=>{var r=n(6110)(n(9325),"Set");e.exports=r},6547:(e,t,n)=>{var r=n(3360),a=n(5288),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},6574:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n=[];return r(e,(function(e,r,a){t(e,r,a)&&n.push(e)})),n}},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},6721:(e,t,n)=>{var r=n(1042),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},6757:(e,t,n)=>{var r=n(1033),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),c=Array(s);++i<s;)c[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=n(c),r(e,this,l)}}},6800:(e,t,n)=>{var r=n(5288),a=n(4894),o=n(361),i=n(3805);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},6924:(e,t,n)=>{var r=n(5250),a=n(999)((function(e,t,n,a){r(e,t,n,a)}));e.exports=a},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},7068:(e,t,n)=>{var r=n(7217),a=n(5911),o=n(1986),i=n(689),s=n(5861),c=n(6449),l=n(3656),u=n(7167),p="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,m){var w=c(e),y=c(t),x=w?d:s(e),b=y?d:s(t),_=(x=x==p?h:x)==h,k=(b=b==p?h:b)==h,j=x==b;if(j&&l(e)){if(!l(t))return!1;w=!0,_=!1}if(j&&!_)return m||(m=new r),w||u(e)?a(e,t,n,v,g,m):o(e,t,x,n,v,g,m);if(!(1&n)){var S=_&&f.call(e,"__wrapped__"),P=k&&f.call(t,"__wrapped__");if(S||P){var O=S?e.value():e,C=P?t.value():t;return m||(m=new r),g(O,C,n,v,m)}}return!!j&&(m||(m=new r),i(e,t,n,v,g,m))}},7167:(e,t,n)=>{var r=n(4901),a=n(7301),o=n(6009),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},7197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},7217:(e,t,n)=>{var r=n(79),a=n(1420),o=n(938),i=n(3605),s=n(9817),c=n(945);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,e.exports=l},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7241:(e,t,n)=>{var r=n(695),a=n(2903),o=n(4894);e.exports=function(e){return o(e)?r(e,!0):a(e)}},7255:(e,t,n)=>{var r=n(7422);e.exports=function(e){return function(t){return r(t,e)}}},7296:(e,t,n)=>{var r,a=n(5481),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7309:(e,t,n)=>{var r=n(2006)(n(4713));e.exports=r},7334:e=>{e.exports=function(e){return function(){return e}}},7400:(e,t,n)=>{var r=n(9374),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7422:(e,t,n)=>{var r=n(1769),a=n(7797);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,t,n)=>{var r=n(2552),a=n(346);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},7556:(e,t,n)=>{var r=n(1873),a=n(4932),o=n(6449),i=n(4394),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7564:(e,t,n)=>{"use strict";n(4912)},7612:(e,t,n)=>{var r=n(9770),a=n(6574),o=n(5389),i=n(6449);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7797:(e,t,n)=>{var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7805:(e,t,n)=>{var r=n(3360),a=n(5288);e.exports=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},7978:(e,t,n)=>{var r=n(270),a=n(8156),o=n(631),i=n(8586),s=n(756),c=n(7197),l=n(7797);e.exports=function(e,t){return i(e)&&s(t)?c(l(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?o(n,e):r(t,i,3)}}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8156:(e,t,n)=>{var r=n(7422);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},8221:(e,t,n)=>{var r=n(3805),a=n(124),o=n(9374),i=Math.max,s=Math.min;e.exports=function(e,t,n){var c,l,u,p,d,h,f=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function w(t){var n=c,r=l;return c=l=void 0,f=t,p=e.apply(r,n)}function y(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-f>=u}function x(){var e=a();if(y(e))return b(e);d=setTimeout(x,function(e){var n=t-(e-h);return g?s(n,u-(e-f)):n}(e))}function b(e){return d=void 0,m&&c?w(e):(c=l=void 0,p)}function _(){var e=a(),n=y(e);if(c=arguments,l=this,h=e,n){if(void 0===d)return function(e){return f=e,d=setTimeout(x,t),v?w(e):p}(h);if(g)return clearTimeout(d),d=setTimeout(x,t),w(h)}return void 0===d&&(d=setTimeout(x,t)),p}return t=o(t)||0,r(n)&&(v=!!n.leading,u=(g="maxWait"in n)?i(o(n.maxWait)||0,t):u,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==d&&clearTimeout(d),f=0,c=h=l=d=void 0},_.flush=function(){return void 0===d?p:b(a())},_}},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},8303:(e,t,n)=>{var r=n(6110)(n(9325),"WeakMap");e.exports=r},8329:(e,t,n)=>{var r=n(4894);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&!1!==a(s[i],i,s););return n}}},8505:(e,t,n)=>{var r=n(9375);e.exports=function e(t,n,a){return r(n)||(a=n||a,n=[]),a=a||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(t,n):r(t)?function(t,n,r){for(var a=[],o=0;o<t.length;o++)a.push(e(t[o],n,r).source);return u(new RegExp("(?:"+a.join("|")+")",p(r)),n)}(t,n,a):function(e,t,n){return d(o(e,n),t,n)}(t,n,a)},e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,i=0,s="",u=t&&t.delimiter||"/";null!=(n=a.exec(e));){var p=n[0],d=n[1],h=n.index;if(s+=e.slice(i,h),i=h+p.length,d)s+=d[1];else{var f=e[i],v=n[2],g=n[3],m=n[4],w=n[5],y=n[6],x=n[7];s&&(r.push(s),s="");var b=null!=v&&null!=f&&f!==v,_="+"===y||"*"===y,k="?"===y||"*"===y,j=n[2]||u,S=m||w;r.push({name:g||o++,prefix:v||"",delimiter:j,optional:k,repeat:_,partial:b,asterisk:!!x,pattern:S?l(S):x?".*":"[^"+c(j)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"==typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",p(t)));return function(t,a){for(var o="",s=t||{},c=(a||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!=typeof u){var p,d=s[u.name];if(null==d){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(d)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(p=c(d[h]),!n[l].test(p))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(0===h?u.prefix:u.delimiter)+p}}else{if(p=u.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):c(d),!n[l].test(p))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+p+'"');o+=u.prefix+p}}else o+=u}return o}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)i+=c(l);else{var d=c(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+d+h+")*"),i+=h=l.optional?l.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var f=c(n.delimiter||"/"),v=i.slice(-f.length)===f;return a||(i=(v?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=o?"$":a&&v?"":"(?="+f+"|$)",u(new RegExp("^"+i,p(n)),t)}},8586:(e,t,n)=>{var r=n(6449),a=n(4394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},8859:(e,t,n)=>{var r=n(3661),a=n(1380),o=n(1459);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},8879:(e,t,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},8984:(e,t,n)=>{var r=n(5527),a=n(3650),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9302:(e,t,n)=>{var r=n(3488),a=n(6757),o=n(2865);e.exports=function(e,t){return o(a(e,t,r),e+"")}},9325:(e,t,n)=>{var r=n(4840),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},9326:(e,t,n)=>{var r=n(1769),a=n(2428),o=n(6449),i=n(361),s=n(294),c=n(7797);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,p=!1;++l<u;){var d=c(t[l]);if(!(p=null!=e&&n(e,d)))break;e=e[d]}return p||++l!=u?p:!!(u=null==e?0:e.length)&&s(u)&&i(d,u)&&(o(e)||a(e))}},9344:(e,t,n)=>{var r=n(3805),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:(e,t,n)=>{var r=n(4128),a=n(3805),o=n(4394),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):i.test(e)?NaN:+e}},9375:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9501:(e,t,n)=>{var r=n(2552),a=n(3805);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},9570:(e,t,n)=>{var r=n(7334),a=n(3243),o=n(3488),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},9653:(e,t,n)=>{var r=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},9770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9884:(e,t,n)=>{var r=n(1791),a=n(7241);e.exports=function(e){return r(e,a(e))}},9935:e=>{e.exports=function(){return!1}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{BrowserRouter:()=>Fe,HashRouter:()=>Be,Link:()=>qe,MemoryRouter:()=>J,NavLink:()=>Ke,Prompt:()=>X,Redirect:()=>ae,Route:()=>le,Router:()=>K,StaticRouter:()=>ve,Switch:()=>ge,generatePath:()=>re,matchPath:()=>ce,useHistory:()=>ye,useLocation:()=>xe,useParams:()=>be,useRouteMatch:()=>_e,withRouter:()=>me});const t=window.wp.hooks,r=window.wp.i18n,a=window.wp.element,o=window.wp.apiFetch;var i=n.n(o),s=n(6942),c=n.n(s);const l=window.ReactJSXRuntime,u=window.wp.components;var p=(0,a.forwardRef)((({icon:e,size:t=24,...n},r)=>(0,a.cloneElement)(e,{width:t,height:t,...n,ref:r})));const d=window.wp.primitives;var h=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})}),f=(0,l.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(d.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),v=(0,l.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(d.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),g=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"})});const m=({badge:e,badgeLevel:t="info",className:n,checkbox:o,children:i,collapse:s,disabled:d,title:m,description:w,handoff:y,editLink:x,href:b,notification:_,notificationLevel:k,notificationHTML:j,actionContent:S,actionText:P,secondaryActionText:O,secondaryDestructive:C,id:N,image:A,imageLink:T,indent:E,isSmall:M,isMedium:L,simple:I,onClick:R,onSecondaryActionClick:z,isWaiting:$,titleLink:D,toggleChecked:F=!1,toggleOnChange:B,hasGreyHeader:H,hasWhiteHeader:V,noBorder:U,isPending:W,expandable:G=!1,isButtonEnabled:q=!1,draggable:Z=!1,dragIndex:Q,dragWrapperRef:K,onDragCallback:J})=>{const[Y,X]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(!1),[ne,re]=(0,a.useState)(null),[ae,oe]=(0,a.useState)(null);(0,a.useEffect)((()=>{K&&!ae&&oe(K)}),[K?.current]),(0,a.useEffect)((()=>{s&&Y&&X(!1)}),[s]);const ie=_||i,se=c()("newspack-action-card",I&&"newspack-card--is-clickable",H&&"newspack-card--has-grey-header",V&&"newspack-card--has-white-header",ie&&"newspack-card--has-children",E&&"newspack-card--indent",M&&"is-small",L&&"is-medium",o&&"has-checkbox",G&&"is-expandable",Z&&"is-draggable",S&&"has-action-content",n),ce=!B||D||d?{}:{onClick:()=>B(!F),tabIndex:"0"},le=b&&0!==b.indexOf("http"),ue=O&&z,pe=!Array.isArray(e)&&e?[e]:e,de=()=>{return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"newspack-action-card__region newspack-action-card__region-top",children:[B&&(0,l.jsx)(u.ToggleControl,{checked:F,onChange:B,disabled:d}),A&&!B&&(0,l.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:(0,l.jsx)("a",{href:T,children:(0,l.jsx)("div",{className:"newspack-action-card__image",style:(e=A,e?{backgroundImage:`url(${e})`}:{})})})}),o&&!B&&(0,l.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:(0,l.jsx)("span",{className:c()("newspack-checkbox-icon","is-primary","checked"===o&&"newspack-checkbox-icon--checked",W&&"newspack-checkbox-icon--pending"),children:"checked"===o&&(0,l.jsx)(p,{icon:h})})}),(0,l.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-center",children:(0,l.jsxs)(Jt,{columns:1,gutter:8,noMargin:!0,children:[(0,l.jsxs)("h2",{children:[(0,l.jsxs)("span",{className:"newspack-action-card__title",...ce,children:[D&&(0,l.jsx)("a",{href:D,children:m}),!D&&G&&(0,l.jsx)(Xe,{isLink:!0,onClick:()=>X(!Y),children:m}),!D&&!G&&m]}),pe?.length&&pe.map(((e,n)=>(0,l.jsx)("span",{className:`newspack-action-card__badge newspack-action-card__badge-level-${t}`,children:e},`badge-${n}`)))]}),w&&(0,l.jsxs)("p",{children:["string"==typeof w&&w,"function"==typeof w&&w()]})]})}),!G&&(P||ue||S)&&(0,l.jsxs)("div",{className:"newspack-action-card__region newspack-action-card__region-right",children:[S&&S,P&&(y?(0,l.jsx)(qt,{plugin:y,editLink:x,compact:!0,isLink:!0,children:P}):R||le?(0,l.jsx)(Xe,{disabled:d&&!q,isLink:!0,href:b,onClick:R,className:"newspack-action-card__primary_button",children:P}):b?(0,l.jsx)(u.ExternalLink,{href:b,className:"newspack-action-card__primary_button",children:P}):(0,l.jsxs)("div",{className:"newspack-action-card__container",children:[P,$&&(0,l.jsx)(Tn,{isRight:!0})]})),ue&&(0,l.jsx)(Xe,{isLink:!0,onClick:z,className:"newspack-action-card__secondary_button",isDestructive:C,children:O})]}),G&&(0,l.jsx)(Xe,{onClick:()=>X(!Y),children:(0,l.jsx)(p,{icon:Y?f:v,height:24,width:24})})]}),_&&(0,l.jsxs)("div",{className:"newspack-action-card__notification newspack-action-card__region-children",children:["error"===k&&(0,l.jsx)(an,{noticeText:_,isError:!0,rawHTML:j}),"info"===k&&(0,l.jsx)(an,{noticeText:_,rawHTML:j}),"success"===k&&(0,l.jsx)(an,{noticeText:_,isSuccess:!0,rawHTML:j}),"warning"===k&&(0,l.jsx)(an,{noticeText:_,isWarning:!0,rawHTML:j})]}),i&&(G&&Y||!G)&&(0,l.jsx)("div",{className:"newspack-action-card__region-children",children:i})]});var e};if(Z&&ae?.current&&"number"==typeof Q&&J&&N){let e=ae.current.getBoundingClientRect(),t=Array.prototype.slice.call(ae.current.querySelectorAll(".newspack-action-card__draggable-wrapper"));const n=0===Q,a=Q===t.length-1,o=()=>{t=Array.prototype.slice.call(ae.current.querySelectorAll(".newspack-action-card__draggable-wrapper")),e=ae.current.getBoundingClientRect(),ee||(re(Q),te(!0))},i=()=>{null!==ne&&ne!==Q&&J(ne),re(null),te(!1)},s=n=>{const r=n.pageY<=e.top+window.scrollY,a=n.pageY>=e.bottom+window.scrollY,o=n.target.closest(".newspack-action-card__draggable-wrapper");(r||a||o)&&(re(t.indexOf(o)),(0>ne||ne===Q+1)&&re(Q),r&&re(0),a&&re(t.length))};return(0,l.jsx)("div",{className:"newspack-action-card__draggable-wrapper"+(ee?" is-dragging":""),id:`draggable-card-${N}`,children:(0,l.jsx)(u.Draggable,{elementId:`draggable-card-${N}`,transferData:{},onDragStart:o,onDragEnd:i,onDragOver:s,children:({onDraggableStart:e,onDraggableEnd:t})=>(0,l.jsxs)(tt,{className:se,onClick:I&&R,id:null!=N?N:null,noBorder:U,children:[(0,l.jsxs)("div",{className:"newspack-action-card__draggable-controls",children:[(0,l.jsx)("div",{className:"drag-handle",draggable:!0,onDragStart:e,onDragEnd:t,children:(0,l.jsx)(p,{icon:g,height:18,width:18})}),(0,l.jsxs)("div",{className:"movers",children:[(0,l.jsx)(Xe,{icon:f,onClick:()=>J(Q-1),disabled:n,label:(0,r.__)("Move one position up","newspack-plugin")}),(0,l.jsx)(Xe,{icon:v,onClick:()=>J(Q+1),disabled:a,label:(0,r.__)("Move one position down","newspack-plugin")})]})]}),(0,l.jsx)(de,{})]})})})}return(0,l.jsx)(tt,{className:se,onClick:I&&R,id:null!=N?N:null,noBorder:U,children:(0,l.jsx)(de,{})})};var w=n(8221),y=n.n(w);a.Component,window.wp.htmlEntities;const x=window.wp.url;function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}const k=window.React;var j=n.n(k),S=n(5556),P=n.n(S);function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(null,arguments)}function C(e){return"/"===e.charAt(0)}function N(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}const A=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&C(e),i=t&&C(t),s=o||i;if(e&&C(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var c=a[a.length-1];n="."===c||".."===c||""===c}else n=!1;for(var l=0,u=a.length;u>=0;u--){var p=a[u];"."===p?N(a,u):".."===p?(N(a,u),l++):l&&(N(a,u),l--)}if(!s)for(;l--;l)a.unshift("..");!s||""===a[0]||a[0]&&C(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function T(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const E=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=T(t),a=T(n);return r!==t||a!==n?e(r,a):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};function M(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function L(e,t,n,r){var a;"string"==typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=O({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=A(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function I(e,t,n){return Math.min(Math.max(e,t),n)}"undefined"==typeof window||!window.document||window.document.createElement;var R=!0,z="Invariant failed";function $(e,t){if(!e){if(R)throw new Error(z);var n="function"==typeof t?t():t,r=n?"".concat(z,": ").concat(n):z;throw new Error(r)}}var D=n(8505),F=n.n(D);function B(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n(7564);var H=n(4146),V=n.n(H),U=1073741823,W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},G=j().createContext||function(e,t){var n,r,a,o="__create-react-context-"+((W[a="__global_unique_id__"]=(W[a]||0)+1)+"__"),i=function(e){function n(){for(var t,n,r,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}_(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,a=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,a)?(n="function"==typeof t?t(r,a):U,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(j().Component);i.childContextTypes=((n={})[o]=P().object.isRequired,n);var s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){e.observedBits&n&&e.setState({value:e.getValue()})},e}_(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?U:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?U:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(j().Component);return s.contextTypes=((r={})[o]=P().object,r),{Provider:i,Consumer:s}},q=function(e){var t=G();return t.displayName=e,t},Z=q("Router-History"),Q=q("Router"),K=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}_(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return j().createElement(Q.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},j().createElement(Z.Provider,{children:this.props.children||null,value:this.props.history}))},t}(j().Component),J=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={});var t,n,r=e,a=r.getUserConfirmation,o=r.initialEntries,i=void 0===o?["/"]:o,s=r.initialIndex,c=void 0===s?0:s,l=r.keyLength,u=void 0===l?6:l,p=(t=null,n=[],{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,a){if(null!=t){var o="function"==typeof t?t(e,n):t;"string"==typeof o?"function"==typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var t=!0;function r(){t&&e.apply(void 0,arguments)}return n.push(r),function(){t=!1,n=n.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach((function(e){return e.apply(void 0,t)}))}});function d(e){O(w,e),w.length=w.entries.length,p.notifyListeners(w.location,w.action)}function h(){return Math.random().toString(36).substr(2,u)}var f=I(c,0,i.length-1),v=i.map((function(e){return L(e,void 0,"string"==typeof e?h():e.key||h())})),g=M;function m(e){var t=I(w.index+e,0,w.entries.length-1),n=w.entries[t];p.confirmTransitionTo(n,"POP",a,(function(e){e?d({action:"POP",location:n,index:t}):d()}))}var w={length:v.length,action:"POP",location:v[f],index:f,entries:v,createHref:g,push:function(e,t){var n="PUSH",r=L(e,t,h(),w.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=w.index+1,a=w.entries.slice(0);a.length>t?a.splice(t,a.length-t,r):a.push(r),d({action:n,location:r,index:t,entries:a})}}))},replace:function(e,t){var n="REPLACE",r=L(e,t,h(),w.location);p.confirmTransitionTo(r,n,a,(function(e){e&&(w.entries[w.index]=r,d({action:n,location:r}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=w.index+e;return t>=0&&t<w.entries.length},block:function(e){return void 0===e&&(e=!1),p.setPrompt(e)},listen:function(e){return p.appendListener(e)}};return w}(t.props),t}return _(t,e),t.prototype.render=function(){return j().createElement(K,{history:this.history,children:this.props.children})},t}(j().Component),Y=function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(j().Component);function X(e){var t=e.message,n=e.when,r=void 0===n||n;return j().createElement(Q.Consumer,null,(function(e){if(e||$(!1),!r||e.staticContext)return null;var n=e.history.block;return j().createElement(Y,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var ee={},te=1e4,ne=0;function re(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ee[e])return ee[e];var t=F().compile(e);return ne<te&&(ee[e]=t,ne++),t}(e)(t,{pretty:!0})}function ae(e){var t=e.computedMatch,n=e.to,r=e.push,a=void 0!==r&&r;return j().createElement(Q.Consumer,null,(function(e){e||$(!1);var r=e.history,o=e.staticContext,i=a?r.push:r.replace,s=L(t?"string"==typeof n?re(n,t.params):O({},n,{pathname:re(n.pathname,t.params)}):n);return o?(i(s),null):j().createElement(Y,{onMount:function(){i(s)},onUpdate:function(e,t){var n=L(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&E(e.state,t.state)})(n,O({},s,{key:n.key}))||i(s)},to:n})}))}var oe={},ie=1e4,se=0;function ce(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,o=void 0!==a&&a,i=n.strict,s=void 0!==i&&i,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=oe[n]||(oe[n]={});if(r[e])return r[e];var a=[],o={regexp:F()(e,a,t),keys:a};return se<ie&&(r[e]=o,se++),o}(n,{end:o,strict:s,sensitive:l}),a=r.regexp,i=r.keys,c=a.exec(e);if(!c)return null;var u=c[0],p=c.slice(1),d=e===u;return o&&!d?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:d,params:i.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var le=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.render=function(){var e=this;return j().createElement(Q.Consumer,null,(function(t){t||$(!1);var n=e.props.location||t.location,r=O({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ce(n.pathname,e.props):t.match}),a=e.props,o=a.children,i=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===j().Children.count(e)}(o)&&(o=null),j().createElement(Q.Provider,{value:r},r.match?o?"function"==typeof o?o(r):o:i?j().createElement(i,r):s?s(r):null:"function"==typeof o?o(r):null)}))},t}(j().Component);function ue(e){return"/"===e.charAt(0)?e:"/"+e}function pe(e,t){if(!e)return t;var n=ue(e);return 0!==t.pathname.indexOf(n)?t:O({},t,{pathname:t.pathname.substr(n.length)})}function de(e){return"string"==typeof e?e:M(e)}function he(e){return function(){$(!1)}}function fe(){}var ve=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return fe},t.handleBlock=function(){return fe},t}_(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,a=void 0===r?"":r,o=n.context,i=void 0===o?{}:o;i.action=t,i.location=function(e,t){return e?O({},t,{pathname:ue(e)+t.pathname}):t}(a,L(e)),i.url=de(i.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,a=void 0===r?{}:r,o=e.location,i=void 0===o?"/":o,s=B(e,["basename","context","location"]),c={createHref:function(e){return ue(n+de(e))},action:"POP",location:pe(n,L(i)),push:this.handlePush,replace:this.handleReplace,go:he(),goBack:he(),goForward:he(),listen:this.handleListen,block:this.handleBlock};return j().createElement(K,O({},s,{history:c,staticContext:a}))},t}(j().Component),ge=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.render=function(){var e=this;return j().createElement(Q.Consumer,null,(function(t){t||$(!1);var n,r,a=e.props.location||t.location;return j().Children.forEach(e.props.children,(function(e){if(null==r&&j().isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?ce(a.pathname,O({},e.props,{path:o})):t.match}})),r?j().cloneElement(n,{location:a,computedMatch:r}):null}))},t}(j().Component);function me(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=B(t,["wrappedComponentRef"]);return j().createElement(Q.Consumer,null,(function(t){return t||$(!1),j().createElement(e,O({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,V()(n,e)}var we=j().useContext;function ye(){return we(Z)}function xe(){return we(Q).location}function be(){var e=we(Q).match;return e?e.params:{}}function _e(e){var t=xe(),n=we(Q).match;return e?ce(t.pathname,e):n}function ke(e){return"/"===e.charAt(0)?e:"/"+e}function je(e){return"/"===e.charAt(0)?e.substr(1):e}function Se(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Pe(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Oe(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function Ce(e,t,n,r){var a;"string"==typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=O({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=A(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function Ne(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o="function"==typeof e?e(t,n):e;"string"==typeof o?"function"==typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Ae=!("undefined"==typeof window||!window.document||!window.document.createElement);function Te(e,t){t(window.confirm(e))}var Ee="popstate",Me="hashchange";function Le(){try{return window.history.state||{}}catch(e){return{}}}var Ie="hashchange",Re={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+je(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:je,decodePath:ke},slash:{encodePath:ke,decodePath:ke}};function ze(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function $e(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function De(e){window.location.replace(ze(window.location.href)+"#"+e)}var Fe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={}),Ae||$(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,a=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,i=o.forceRefresh,s=void 0!==i&&i,c=o.getUserConfirmation,l=void 0===c?Te:c,u=o.keyLength,p=void 0===u?6:u,d=e.basename?Pe(ke(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,a=window.location,o=a.pathname+a.search+a.hash;return d&&(o=Se(o,d)),Ce(o,r,n)}function f(){return Math.random().toString(36).substr(2,p)}var v=Ne();function g(e){O(N,e),N.length=n.length,v.notifyListeners(N.location,N.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||x(h(e.state))}function w(){x(h(Le()))}var y=!1;function x(e){y?(y=!1,g()):v.confirmTransitionTo(e,"POP",l,(function(t){t?g({action:"POP",location:e}):function(e){var t=N.location,n=_.indexOf(t.key);-1===n&&(n=0);var r=_.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(y=!0,j(a))}(e)}))}var b=h(Le()),_=[b.key];function k(e){return d+Oe(e)}function j(e){n.go(e)}var S=0;function P(e){1===(S+=e)&&1===e?(window.addEventListener(Ee,m),a&&window.addEventListener(Me,w)):0===S&&(window.removeEventListener(Ee,m),a&&window.removeEventListener(Me,w))}var C=!1,N={length:n.length,action:"POP",location:b,createHref:k,push:function(e,t){var a="PUSH",o=Ce(e,t,f(),N.location);v.confirmTransitionTo(o,a,l,(function(e){if(e){var t=k(o),i=o.key,c=o.state;if(r)if(n.pushState({key:i,state:c},null,t),s)window.location.href=t;else{var l=_.indexOf(N.location.key),u=_.slice(0,l+1);u.push(o.key),_=u,g({action:a,location:o})}else window.location.href=t}}))},replace:function(e,t){var a="REPLACE",o=Ce(e,t,f(),N.location);v.confirmTransitionTo(o,a,l,(function(e){if(e){var t=k(o),i=o.key,c=o.state;if(r)if(n.replaceState({key:i,state:c},null,t),s)window.location.replace(t);else{var l=_.indexOf(N.location.key);-1!==l&&(_[l]=o.key),g({action:a,location:o})}else window.location.replace(t)}}))},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return C||(P(1),C=!0),function(){return C&&(C=!1,P(-1)),t()}},listen:function(e){var t=v.appendListener(e);return P(1),function(){P(-1),t()}}};return N}(t.props),t}return _(t,e),t.prototype.render=function(){return j().createElement(K,{history:this.history,children:this.props.children})},t}(j().Component),Be=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={}),Ae||$(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,a=void 0===r?Te:r,o=n.hashType,i=void 0===o?"slash":o,s=e.basename?Pe(ke(e.basename)):"",c=Re[i],l=c.encodePath,u=c.decodePath;function p(){var e=u($e());return s&&(e=Se(e,s)),Ce(e)}var d=Ne();function h(e){O(S,e),S.length=t.length,d.notifyListeners(S.location,S.action)}var f=!1,v=null;function g(){var e=$e(),t=l(e);if(e!==t)De(t);else{var n=p(),r=S.location;if(!f&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(v===Oe(n))return;v=null,function(e){f?(f=!1,h()):d.confirmTransitionTo(e,"POP",a,(function(t){t?h({action:"POP",location:e}):function(e){var t=S.location,n=x.lastIndexOf(Oe(t));-1===n&&(n=0);var r=x.lastIndexOf(Oe(e));-1===r&&(r=0);var a=n-r;a&&(f=!0,b(a))}(e)}))}(n)}}var m=$e(),w=l(m);m!==w&&De(w);var y=p(),x=[Oe(y)];function b(e){t.go(e)}var _=0;function k(e){1===(_+=e)&&1===e?window.addEventListener(Ie,g):0===_&&window.removeEventListener(Ie,g)}var j=!1,S={length:t.length,action:"POP",location:y,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=ze(window.location.href)),n+"#"+l(s+Oe(e))},push:function(e,t){var n="PUSH",r=Ce(e,void 0,void 0,S.location);d.confirmTransitionTo(r,n,a,(function(e){if(e){var t=Oe(r),a=l(s+t);if($e()!==a){v=t,function(e){window.location.hash=e}(a);var o=x.lastIndexOf(Oe(S.location)),i=x.slice(0,o+1);i.push(t),x=i,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=Ce(e,void 0,void 0,S.location);d.confirmTransitionTo(r,n,a,(function(e){if(e){var t=Oe(r),a=l(s+t);$e()!==a&&(v=t,De(a));var o=x.indexOf(Oe(S.location));-1!==o&&(x[o]=t),h({action:n,location:r})}}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return j||(k(1),j=!0),function(){return j&&(j=!1,k(-1)),t()}},listen:function(e){var t=d.appendListener(e);return k(1),function(){k(-1),t()}}};return S}(t.props),t}return _(t,e),t.prototype.render=function(){return j().createElement(K,{history:this.history,children:this.props.children})},t}(j().Component),He=function(e,t){return"function"==typeof e?e(t):e},Ve=function(e,t){return"string"==typeof e?Ce(e,null,null,t):e},Ue=function(e){return e},We=j().forwardRef;void 0===We&&(We=Ue);var Ge=We((function(e,t){var n=e.innerRef,r=e.navigate,a=e.onClick,o=B(e,["innerRef","navigate","onClick"]),i=o.target,s=O({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return s.ref=Ue!==We&&t||n,j().createElement("a",s)})),qe=We((function(e,t){var n=e.component,r=void 0===n?Ge:n,a=e.replace,o=e.to,i=e.innerRef,s=B(e,["component","replace","to","innerRef"]);return j().createElement(Q.Consumer,null,(function(e){e||$(!1);var n=e.history,c=Ve(He(o,e.location),e.location),l=c?n.createHref(c):"",u=O({},s,{href:l,navigate:function(){var t=He(o,e.location),r=Oe(e.location)===Oe(Ve(t));(a||r?n.replace:n.push)(t)}});return Ue!==We?u.ref=t||i:u.innerRef=i,j().createElement(r,u)}))})),Ze=function(e){return e},Qe=j().forwardRef;void 0===Qe&&(Qe=Ze);var Ke=Qe((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,a=e.activeClassName,o=void 0===a?"active":a,i=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,u=e.location,p=e.sensitive,d=e.strict,h=e.style,f=e.to,v=e.innerRef,g=B(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return j().createElement(Q.Consumer,null,(function(e){e||$(!1);var n=u||e.location,a=Ve(He(f,n),n),m=a.pathname,w=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),y=w?ce(n.pathname,{path:w,exact:c,sensitive:p,strict:d}):null,x=!!(l?l(y,n):y),b="function"==typeof s?s(x):s,_="function"==typeof h?h(x):h;x&&(b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(b,o),_=O({},_,i));var k=O({"aria-current":x&&r||null,className:b,style:_,to:a},g);return Ze!==Qe?k.ref=t||v:k.innerRef=v,j().createElement(qe,k)}))}));const Je=e,{useHistory:Ye}=Je,Xe=({href:e,onClick:t,...n})=>{const r=Ye(),[o,i]=(0,a.useState)(!1);return e&&t?n.onClick=async()=>{i(!0),await t(),i(!1),r.push((e||"").replace("#",""))}:(n.href=e,n.onClick=t),o&&(n.disabled=!0),(0,l.jsx)(u.Button,{...n})};class et extends a.Component{render(){const{buttonsCard:e,className:t,headerActions:n,isNarrow:r,isMedium:a,isSmall:o,isWhite:i,noBorder:s,...u}=this.props,p=c()("newspack-card",t,e&&"newspack-card__buttons-card",n&&"newspack-card__header-actions",a&&"newspack-card__is-medium",r&&"newspack-card__is-narrow",o&&"newspack-card__is-small",i&&"newspack-card__is-white",s&&"newspack-card__no-border");return(0,l.jsx)("div",{className:p,...u})}}const tt=et;var nt=n(7309),rt=n.n(nt),at=n(7612),ot=n.n(at);class it extends a.Component{state={suggestions:{},allCategories:{},isLoading:!1};constructor(e){super(e),this.debouncedUpdateSuggestions=y()(this.updateSuggestions,100)}componentDidMount(){this.setState({isLoading:!0}),i()({path:(0,x.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{per_page:-1,_fields:"id,name"})}).then((e=>this.setState({allCategories:e}))).finally((()=>this.setState({isLoading:!1})))}componentWillUnmount(){this.debouncedUpdateSuggestions.cancel()}updateSuggestions(e){this.setState({isLoading:!0}),i()({path:(0,x.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then((e=>{this.setState({suggestions:e.reduce(((e,t)=>({...e,[t.name]:t})),{})})})).finally((()=>this.setState({isLoading:!1})))}handleOnChange=e=>{const{onChange:t}=this.props,{suggestions:n}=this.state;t(e.filter((e=>void 0!==e)).map((e=>"string"==typeof e?n[e]:e)).filter(Boolean))};getAvailableSuggestions=()=>{const{value:e}=this.props,{suggestions:t}=this.state,n=e.reduce(((e,t)=>(t?.id&&e.push(t.id),e)),[]);return ot()(t,(({id:e})=>-1===n.indexOf(e))).map((e=>e.name))};render(){const{className:e,disabled:t,description:n,hideHelpFromVision:r,hideLabelFromVision:a,label:o,value:i}=this.props,{allCategories:s,isLoading:p}=this.state,d=c()("newspack-category-autocomplete",e);return(0,l.jsxs)("div",{className:d,children:[(0,l.jsx)(Ht,{onInputChange:e=>this.debouncedUpdateSuggestions(e),value:i.reduce(((e,t)=>{const n="number"==typeof t?rt()(s,["id",t]):t;return n&&e.push({id:n.term_id||n.id,value:n.value||n.name}),e}),[]),suggestions:this.getAvailableSuggestions(),onChange:this.handleOnChange,label:o,disabled:t,description:n,hideHelpFromVision:r,hideLabelFromVision:a}),p?(0,l.jsx)("span",{className:"newspack-category-autocomplete__suggestions-spinner",children:(0,l.jsx)(u.Spinner,{})}):null]})}}it.defaultProps={taxonomy:"categories"};var st={grad:.9,turn:360,rad:360/(2*Math.PI)},ct=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},lt=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},ut=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},pt=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},dt=function(e){return{r:ut(e.r,0,255),g:ut(e.g,0,255),b:ut(e.b,0,255),a:ut(e.a)}},ht=function(e){return{r:lt(e.r),g:lt(e.g),b:lt(e.b),a:lt(e.a,3)}},ft=/^#([0-9a-f]{3,8})$/i,vt=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},gt=function(e){var t=e.r,n=e.g,r=e.b,a=e.a,o=Math.max(t,n,r),i=o-Math.min(t,n,r),s=i?o===t?(n-r)/i:o===n?2+(r-t)/i:4+(t-n)/i:0;return{h:60*(s<0?s+6:s),s:o?i/o*100:0,v:o/255*100,a}},mt=function(e){var t=e.h,n=e.s,r=e.v,a=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),i=r*(1-n),s=r*(1-(t-o)*n),c=r*(1-(1-t+o)*n),l=o%6;return{r:255*[r,s,i,i,c,r][l],g:255*[c,r,r,s,i,i][l],b:255*[i,i,c,r,r,s][l],a}},wt=function(e){return{h:pt(e.h),s:ut(e.s,0,100),l:ut(e.l,0,100),a:ut(e.a)}},yt=function(e){return{h:lt(e.h),s:lt(e.s),l:lt(e.l),a:lt(e.a,3)}},xt=function(e){return mt((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},bt=function(e){return{h:(t=gt(e)).h,s:(a=(200-(n=t.s))*(r=t.v)/100)>0&&a<200?n*r/100/(a<=100?a:200-a)*100:0,l:a/2,a:t.a};var t,n,r,a},_t=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,kt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,St=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pt={string:[[function(e){var t=ft.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?lt(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?lt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=jt.exec(e)||St.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:dt({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=_t.exec(e)||kt.exec(e);if(!t)return null;var n,r,a=wt({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(st[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return xt(a)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,a=e.a,o=void 0===a?1:a;return ct(t)&&ct(n)&&ct(r)?dt({r:Number(t),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,a=e.a,o=void 0===a?1:a;if(!ct(t)||!ct(n)||!ct(r))return null;var i=wt({h:Number(t),s:Number(n),l:Number(r),a:Number(o)});return xt(i)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,a=e.a,o=void 0===a?1:a;if(!ct(t)||!ct(n)||!ct(r))return null;var i=function(e){return{h:pt(e.h),s:ut(e.s,0,100),v:ut(e.v,0,100),a:ut(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(o)});return mt(i)},"hsv"]]},Ot=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Ct=function(e,t){var n=bt(e);return{h:n.h,s:ut(n.s+100*t,0,100),l:n.l,a:n.a}},Nt=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},At=function(e,t){var n=bt(e);return{h:n.h,s:n.s,l:ut(n.l+100*t,0,100),a:n.a}},Tt=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Ot(e.trim(),Pt.string):"object"==typeof e&&null!==e?Ot(e,Pt.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return lt(Nt(this.rgba),2)},e.prototype.isDark=function(){return Nt(this.rgba)<.5},e.prototype.isLight=function(){return Nt(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=ht(this.rgba)).r,n=e.g,r=e.b,o=(a=e.a)<1?vt(lt(255*a)):"","#"+vt(t)+vt(n)+vt(r)+o;var e,t,n,r,a,o},e.prototype.toRgb=function(){return ht(this.rgba)},e.prototype.toRgbString=function(){return t=(e=ht(this.rgba)).r,n=e.g,r=e.b,(a=e.a)<1?"rgba("+t+", "+n+", "+r+", "+a+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,a},e.prototype.toHsl=function(){return yt(bt(this.rgba))},e.prototype.toHslString=function(){return t=(e=yt(bt(this.rgba))).h,n=e.s,r=e.l,(a=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+a+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,a},e.prototype.toHsv=function(){return e=gt(this.rgba),{h:lt(e.h),s:lt(e.s),v:lt(e.v),a:lt(e.a,3)};var e},e.prototype.invert=function(){return Et({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Et(Ct(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Et(Ct(this.rgba,-e))},e.prototype.grayscale=function(){return Et(Ct(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Et(At(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Et(At(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Et({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):lt(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=bt(this.rgba);return"number"==typeof e?Et({h:e,s:t.s,l:t.l,a:t.a}):lt(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Et(e).toHex()},e}(),Et=function(e){return e instanceof Tt?e:new Tt(e)},Mt=[],Lt=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},It=function(e){return.2126*Lt(e.r)+.7152*Lt(e.g)+.0722*Lt(e.b)};const{useHistory:Rt}=Je;n(6449),n(6924);const zt=e=>(0,a.useRef)(`${e}-${Math.round(99999*Math.random())}`).current,$t=window.wp.keycodes,Dt={InteractiveDiv:({style:e={},...t})=>(0,l.jsx)("div",{tabIndex:"0",role:"button",onKeyDown:e=>$t.ENTER===e.keyCode&&t.onClick(),style:{cursor:"pointer",...e},...t}),confirmAction:e=>!!confirm(e)};!function(e){e.forEach((function(e){Mt.indexOf(e)<0&&(e(Tt,Pt),Mt.push(e))}))}([function(e){e.prototype.luminance=function(){return e=It(this.rgba),void 0===(t=2)&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var n,r,a,o,i,s,c,l=t instanceof e?t:new e(t);return o=this.rgba,i=l.toRgb(),n=(s=It(o))>(c=It(i))?(s+.05)/(c+.05):(c+.05)/(s+.05),void 0===(r=2)&&(r=0),void 0===a&&(a=Math.pow(10,r)),Math.floor(a*n)/a+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(i=void 0===(o=(n=t).size)?"normal":o,"AAA"===(a=void 0===(r=n.level)?"AA":r)&&"normal"===i?7:"AA"===a&&"large"===i?3:4.5);var n,r,a,o,i}}]);const{InteractiveDiv:Ft}=Dt;class Bt extends a.Component{render(){const{className:e,description:t,hideHelpFromVision:n,hideLabelFromVision:r,...a}=this.props,o=c()("newspack-form-token-field__input-container",e);return(0,l.jsxs)("div",{className:c()({"newspack-form-token-field--label-hidden":r,"newspack-form-token-field--help-hidden":n},"newspack-form-token-field"),children:[(0,l.jsx)(u.FormTokenField,{className:o,...a}),t&&(0,l.jsx)("p",{className:"newspack-form-token-field__help",children:t})]})}}const Ht=Bt,Vt=({simple:e})=>{const{components_demo:t=!1,support:n=!1,setup_wizard:a=!1,reset_url:o=!1,plugin_version:i={label:"Newspack"},remove_starter_content:s=!1,support_email:c}=window.newspack_urls||{},p=[{label:i.label,url:"https://newspack.com/category/release-notes/",external:!0},{label:(0,r.__)("About","newspack-plugin"),url:"https://newspack.com/",external:!0},{label:(0,r.__)("Documentation","newspack-plugin"),url:n,external:!0}];return t&&p.push({label:(0,r.__)("Components Demo","newspack-plugin"),url:t}),a&&p.push({label:(0,r.__)("Setup Wizard","newspack-plugin"),url:a}),o&&p.push({label:(0,r.__)("Reset Newspack","newspack-plugin"),url:o}),s&&p.push({label:(0,r.__)("Remove Starter Content","newspack-plugin"),url:s}),c&&p.push({label:(0,r.__)("Contact Support","newspack-plugin"),url:`mailto:${c}`}),(0,l.jsx)("div",{className:"newspack-footer",children:!e&&(0,l.jsx)("ul",{children:p.map((({url:e,label:t,external:n},r)=>(0,l.jsx)("li",{children:n?(0,l.jsx)(u.ExternalLink,{href:e,children:t}):(0,l.jsx)("a",{href:e,children:t})},r)))})})};var Ut=n(6139),Wt=n.n(Ut);class Gt extends a.Component{constructor(){super(...arguments),this.state={pluginInfo:[],showModal:!1}}componentDidMount=()=>{this._isMounted=!0;const{plugin:e}=this.props;this.retrievePluginInfo(e)};componentWillUnmount=()=>{this._isMounted=!1};retrievePluginInfo=e=>{const{onReady:t}=this.props;i()({path:"/newspack/v1/plugins/"+e}).then((e=>{this._isMounted&&(t(e),this.setState({pluginInfo:e}))}))};textForPlugin=e=>{const t={modalBody:null,modalTitle:e.Name&&`${(0,r.__)("Manage","newspack-plugin")} ${e.Name}`,primaryButton:e.Name&&`${(0,r.__)("Manage","newspack-plugin")} ${e.Name}`,primaryModalButton:(0,r.__)("Manage","newspack-plugin"),dismissModalButton:(0,r.__)("Dismiss","newspack-plugin")};return Wt()(t,this.props)};goToPlugin=e=>{const{editLink:t,showOnBlockEditor:n}=this.props;i()({path:"/newspack/v1/plugins/"+e+"/handoff",method:"POST",data:{editLink:t,handoffReturnUrl:window&&window.location.href,showOnBlockEditor:!!n}}).then((e=>{window.location.href=e.HandoffLink}))};render(){const{className:e,children:t,compact:n,useModal:o,modalTitle:i,modalBody:s,onReady:u,editLink:p,...d}=this.props,{pluginInfo:h,showModal:f}=this.state,{modalBody:v,modalTitle:g,primaryButton:m,primaryModalButton:w,dismissModalButton:y}=this.textForPlugin(h),{Configured:x,Name:b,Slug:_,Status:k}=h,j=c()(x&&"is-configured",e);return(0,l.jsxs)(a.Fragment,{children:[b&&"active"===k&&(0,l.jsx)(Xe,{className:j,isSecondary:!d.isPrimary&&!d.isTertiary&&!d.isLink,...d,onClick:()=>o?this.setState({showModal:!0}):this.goToPlugin(_),children:t||m}),b&&"active"!==k&&(0,l.jsx)(Xe,{className:j,variant:"secondary",disabled:!0,...d,children:b+(0,r.__)(" not installed","newspack-plugin")}),!b&&(0,l.jsx)(Xe,{className:j,isSecondary:!d.isPrimary&&!d.isTertiary&&!d.isLink,...d,children:(0,l.jsxs)(a.Fragment,{children:[!n&&(0,l.jsx)(Tn,{isLeft:!0}),(0,r.__)("Retrieving Plugin Info","newspack-plugin")]})}),f&&(0,l.jsxs)(Yt,{title:g,onRequestClose:()=>this.setState({showModal:!1}),children:[(0,l.jsx)("p",{children:v}),(0,l.jsxs)(tt,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:[(0,l.jsx)(Xe,{variant:"secondary",onClick:()=>this.setState({showModal:!1}),children:y}),(0,l.jsx)(Xe,{variant:"primary",onClick:()=>this.goToPlugin(_),children:w})]})]})]})}}Gt.defaultProps={onReady:()=>{}};const qt=Gt,Zt="newspack_wizard_handoff_message";function Qt(){const[e,t]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{setTimeout((()=>{const e=JSON.parse(localStorage.getItem(Zt));t(!!e?.message&&e.message),e?.url&&-1===window.location.href.indexOf(e.url)&&(window.localStorage.removeItem(Zt),t(!1))}),100)}),[]),e?(0,l.jsx)(an,{isHandoff:!0,isDismissible:!1,rawHTML:!0,noticeText:e}):null}var Kt=(0,l.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(d.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z"})});a.Component,a.Component;const Jt=({className:e="",columns:t=2,gutter:n=32,noMargin:r=!1,rowGap:a=0,...o})=>{const i=c()("newspack-grid",r&&"newspack-grid--no-margin",t&&"newspack-grid__columns-"+t,n&&"newspack-grid__gutter-"+n,a&&"newspack-grid__row-gap-"+a,e);return(0,l.jsx)("div",{className:i,...o})},Yt=(0,a.forwardRef)((function({className:e,isWide:t,isNarrow:n,hideTitle:r,...a},o){const i=c()("newspack-modal",t&&"newspack-modal--wide",n&&"newspack-modal--narrow",r&&"newspack-modal--hide-title",e);return(0,l.jsx)(u.Modal,{className:i,...a,ref:o})}));class Xt extends a.Component{render(){const{className:e,simple:t,size:n,white:r}=this.props,a=c()("newspack-icon",t&&"newspack-icon--simple",r&&"newspack-icon--white",e);return(0,l.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",height:n,width:n,viewBox:"0 0 24 24",className:a,children:(0,l.jsx)(u.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6271 18.6271 24 12 24C5.37213 24 0 18.6271 0 12C0 5.3729 5.3729 0 12 0C18.6271 0 24 5.3729 24 12ZM17.4545 17.4546L6.54545 6.54545V17.4545H8.72727V11.8182L14.3636 17.4546H17.4545ZM11.2727 8.18182H17.4545V6.54545H9.63636L11.2727 8.18182ZM17.4545 11.2727H14.3636L12.7273 9.63636H17.4545V11.2727ZM17.4545 12.7273V14.3636L15.8182 12.7273H17.4545Z"})})}}Xt.defaultProps={size:32};const en=Xt;var tn=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z"})}),nn=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M6.13 5.5l1.926 1.927A4.975 4.975 0 007.025 10H5v1.5h2V13H5v1.5h2.1a5.002 5.002 0 009.8 0H19V13h-2v-1.5h2V10h-2.025a4.979 4.979 0 00-1.167-2.74l1.76-1.76-1.061-1.06-1.834 1.834A4.977 4.977 0 0012 5.5c-1.062 0-2.046.33-2.855.895L7.19 4.44 6.13 5.5zm2.37 5v3a3.5 3.5 0 107 0v-3a3.5 3.5 0 10-7 0z",fillRule:"evenodd",clipRule:"evenodd"})});class rn extends a.Component{render(){const{className:e,debugMode:t,isError:n,isHandoff:r,isHelp:o,isSuccess:i,isWarning:s,noticeText:u,rawHTML:d,style:f={},children:v=null}=this.props,g=c()("newspack-notice",e,t&&"newspack-notice__is-debug",n&&"newspack-notice__is-error",r&&"newspack-notice__is-handoff",o&&"newspack-notice__is-help",i&&"newspack-notice__is-success",s&&"newspack-notice__is-warning");let m;return m=o?tn:i?h:t?nn:Kt,(0,l.jsxs)("div",{className:g,style:f,children:[(0,l.jsx)(p,{icon:m}),(0,l.jsxs)("div",{className:"newspack-notice__content",children:[d?(0,l.jsx)(a.RawHTML,{children:u}):u,v||null]})]})}}const an=rn;class on extends a.Component{constructor(){super(...arguments),this.state={pluginInfo:{},installationInitialized:!1}}componentDidMount=()=>{const{plugins:e}=this.props;this.retrievePluginInfo(e).then((()=>{this.props.autoInstall&&this.installAllPlugins()}))};componentDidUpdate=e=>{const{autoInstall:t,plugins:n}=this.props,{installationInitialized:r}=this.state;n!==e.plugins&&this.retrievePluginInfo(n),t&&!r&&this.installAllPlugins()};retrievePluginInfo=e=>new Promise((t=>{i()({path:"/newspack/v1/plugins/"}).then((n=>{const r=Object.keys(n).reduce(((t,r)=>(-1===e.indexOf(r)||(t[r]={...n[r],installationStatus:"active"===n[r].Status?1:0}),t)),{});this.updatePluginInfo(r).then((()=>t()))}))}));installAllPlugins=()=>{const{pluginInfo:e}=this.state;this.setState({installationInitialized:!0}),Object.keys(e).filter((t=>"active"!==e[t].Status)).map((e=>()=>this.installPlugin(e))).reduce(((e,t)=>e.then((e=>t().then(Array.prototype.concat.bind(e))))),Promise.resolve([]))};installPlugin=e=>{this.setInstallationStatus(e,2);const t={path:`/newspack/v1/plugins/${e}/configure/`,method:"post"};return i()(t).then((t=>{const{pluginInfo:n}=this.state;this.props.onInstalled(e),this.updatePluginInfo({...n,[e]:{...t,installationStatus:1}})})).catch((t=>{this.setInstallationStatus(e,3,t.message)}))};setChecked=(e,t)=>{const{pluginInfo:n}=this.state;this.updatePluginInfo({...n,[e]:{...n[e],checked:t}})};setInstallationStatus=(e,t,n=null)=>{const{pluginInfo:r}=this.state;this.updatePluginInfo({...r,[e]:{...r[e],installationStatus:t,notification:n}})};updatePluginInfo=e=>new Promise((t=>{const{onStatus:n}=this.props;this.setState({pluginInfo:e},(()=>{const r=Object.values(e).every((e=>"active"===e.Status));n({complete:r,pluginInfo:e}),t()}))}));classForInstallationStatus=e=>{switch(e){case 1:return"newspack-plugin-installer__status-active";case 2:return"newspack-plugin-installer__status-installing";case 3:return"newspack-plugin-installer__status-error";default:return"newspack-plugin-installer__status-none"}};render(){const{autoInstall:e,isSmall:t,withoutFooterButton:n}=this.props,{pluginInfo:a}=this.state,{is_managed:o}=window.newspack_aux_data||{},i=Object.keys(a),s=[];i.forEach((e=>{const t=a[e];s.push(t.Status)}));const u=e=>"active"===e||"inactive"===e,d=s.every(u)?(0,r.__)("Activate","newspack-plugin"):(0,r.__)("Install","newspack-plugin"),f=i.some((e=>{const t=a[e];return"active"!==t.Status&&0===t.installationStatus}));return(0,l.jsxs)(l.Fragment,{children:[(!a||!Object.keys(a).length)&&(0,l.jsxs)("div",{className:"newspack-plugin-installer_is-waiting",children:[(0,l.jsx)(Tn,{isLeft:!0}),(0,r.__)("Retrieving plugin information","newspack-plugin")]}),a&&i.length>0&&i.map((e=>{const n=a[e],{Name:i,Description:s,Download:d,Status:f,installationStatus:v,notification:g}=n,w=2===v,y=!w&&"active"!==f,x=d||u(f);let b;2===v?b="inactive"===f?(0,r.__)("Activating"):(0,r.__)("Installing"):x?"uninstalled"===f?b=(0,l.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,r.__)("Install","newspack"),(0,l.jsx)("span",{className:"newspack-checkbox-icon"})]}):"inactive"===f?b=(0,l.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,r.__)("Activate","newspack-plugin"),(0,l.jsx)("span",{className:"newspack-checkbox-icon"})]}):"active"===f&&(b=(0,l.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,r.__)("Installed","newspack-plugin"),(0,l.jsx)("span",{className:"newspack-checkbox-icon newspack-checkbox-icon--checked",children:(0,l.jsx)(p,{icon:h})})]})):b=(0,l.jsxs)("span",{className:"newspack-plugin-installer__status",children:[o?(0,r.__)("Contact Newspack support to install","newspack-plugin"):(0,r.__)("Plugin must be installed manually","newspack-plugin"),(0,l.jsx)("span",{className:"newspack-checkbox-icon"})]});const _=c()("newspack-action-card__plugin-installer",this.classForInstallationStatus(v)),k=y?()=>this.installPlugin(e):null;return(0,l.jsx)(m,{title:i,description:s,disabled:!x,actionText:b,isSmall:t,isWaiting:w,onClick:k,notification:g,notificationLevel:"error",notificationHTML:!0,className:_},e)})),!n&&!e&&a&&i.length>0&&(0,l.jsx)("div",{className:"newspack-buttons-card",children:(0,l.jsx)(Xe,{disabled:!f,isPrimary:!0,onClick:this.installAllPlugins,children:d})})]})}}on.defaultProps={onStatus:()=>{},onInstalled:()=>{}};const sn=on,cn=e=>Array.isArray(e.options)&&e.options.length,ln=e=>{switch(e.type){case"int":case"integer":case"float":case"number":return"number";case"string":case"text":return"text";case"password":return"password";case"boolean":case"checkbox":return"checkbox";default:return null}},un=e=>{var n;const[o,i]=(0,a.useState)(!0),{error:s,sectionKey:c,active:p,title:d,description:h,fields:f,disabled:v,onChange:g,onUpdate:w}=e,y=e=>({disabled:v,name:`${e.section}_${e.key}`,type:ln(e),label:e.description,help:e.help||null,options:e.options?.map((e=>({value:e.value,label:e.name||e.label})))||null,value:e.value,multiple:!(!cn(e)||!e.multiple)||null,checked:"boolean"===e.type?!!e.value:null,onChange:t=>{g(e.key,t),i(!1)}}),x=(n,r=null)=>(0,t.applyFilters)(`newspack.settingSection.${c}.${n}`,r,e);let b=2;return f.length%3==0?b=3:1===f.length&&(b=1),(0,l.jsx)(m,{id:null!==(n=e.id)&&void 0!==n?n:null,isMedium:!0,disabled:v,title:d,description:h,toggleChecked:p,hasGreyHeader:p||null===p,toggleOnChange:null!==p?e=>w({active:e}):null,actionContent:(p||null===p)&&x("buttons",(0,l.jsx)(Xe,{variant:"primary",disabled:v||o,onClick:()=>{w(),i(!0)},children:(0,r.__)("Save Settings","newspack")})),children:(p||null===p)&&(0,l.jsxs)(a.Fragment,{children:[s?.message&&(0,l.jsx)(an,{noticeText:s.message,isError:!0}),x("beforeControls"),(0,l.jsx)(Jt,{columns:b,gutter:32,children:f.map((e=>{const n=(e=>{if(cn(e))return kn;switch(e.type){case"checkbox":case"boolean":return u.CheckboxControl;default:return Nn}})(e);return(0,t.applyFilters)(`newspack.settingsSection.${c}.control`,(0,l.jsx)(n,{...y(e)},e.key),{sectionKey:c,setting:e,onChange:g})}))})]})})};class pn extends a.Component{constructor(){super(...arguments),this.state={inFlight:!1,settings:{},error:null}}fetchSettings=()=>{const{afterFetch:e,pluginSlug:t,isWizard:n}=this.props;this.setState({inFlight:!0}),i()({path:n?`/newspack/v1/wizard/${t}/settings`:`/${t}/v1/settings`}).then((t=>{this.setState({settings:t,error:null}),"function"==typeof e&&e(t)})).catch((e=>{this.setState({error:e})})).finally((()=>{this.setState({inFlight:!1})}))};componentDidMount(){this.fetchSettings()}getSettingsValues=e=>this.state.settings[e]?.reduce(((e,t)=>(e[t.key]=t.value,e)),{})||{};handleSettingChange=e=>(t,n)=>{const r=[...this.state.settings[e]];r.forEach((e=>{e.key===t&&(e.value=n)})),this.setState({settings:{...this.state.settings,[e]:r}})};handleSectionUpdate=e=>t=>{const{afterUpdate:n,pluginSlug:r,isWizard:a}=this.props;this.setState({inFlight:!0}),i()({path:a?`/newspack/v1/wizard/${r}/settings`:`/${r}/v1/settings`,method:"POST",data:{section:e,settings:t||this.getSettingsValues(e)}}).then((t=>{this.setState({settings:{...this.state.settings,[e]:t[e]},error:null}),"function"==typeof n&&n(t)})).catch((e=>{this.setState({error:e})})).finally((()=>{this.setState({inFlight:!1})}))};getSectionInfo=e=>this.state.settings[e]?.find((e=>!e.key||"active"===e.key));getSectionTitle=e=>this.getSectionInfo(e)?.description;getSectionDescription=e=>this.getSectionInfo(e)?.help;isSectionActive=e=>{const{settings:t}=this.state,n=t[e]?.find((e=>"active"===e.key));return n?n.value:null};getSectionFields=e=>this.state.settings[e]?.filter((e=>e.key&&"active"!==e.key));render(){const{title:e,description:t,hasGreyHeader:n,children:r,titleLevel:o=1}=this.props,{settings:i,inFlight:s,error:u}=this.state;return(0,l.jsxs)(a.Fragment,{children:[e&&(0,l.jsx)(gn,{title:e,heading:o,description:t}),u&&(0,l.jsx)(an,{isError:!0,noticeText:u.message}),(0,l.jsxs)("div",{className:c()("newspack-plugin-settings",{"newspack-wizard-section__is-loading":s&&!Object.keys(i).length}),children:[Object.keys(i).map((e=>(0,l.jsx)(un,{disabled:s,id:`plugin-settings-${e}`,sectionKey:e,title:this.getSectionTitle(e),description:this.getSectionDescription(e),active:this.isSectionActive(e),fields:this.getSectionFields(e),onChange:this.handleSettingChange(e),onUpdate:this.handleSectionUpdate(e),hasGreyHeader:n},e))),r]})]})}}pn.defaultProps={title:(0,r.__)("General Settings","newspack-plugin")},pn.Section=un;class dn extends a.Component{render(){const{className:e,padding:t,...n}=this.props,r=c()("newspack-popover",t&&"newspack-popover__padding-"+t,e);return(0,l.jsx)(u.Popover,{className:r,...n})}}dn.defaultProps={padding:!1};const hn=dn;class fn extends a.Component{getCompletionPercentage(e,t){return t?Math.max(Math.min(Math.round(e/t*100),100),0):100}render(){const{label:e,completed:t,total:n,displayFraction:r}=this.props,a=Math.max(0,parseInt(n)||0),o=Math.max(0,Math.min(parseInt(t)||0,parseInt(a))),i={width:this.getCompletionPercentage(o,a)+"%"};return(0,l.jsxs)("div",{className:"newspack-progress-bar",children:[(e||r)&&(0,l.jsxs)("div",{className:"newspack-progress-bar__headings",children:[e&&(0,l.jsx)("h2",{children:e}),r&&(0,l.jsx)("p",{className:"is-dark",children:(0,l.jsxs)("strong",{children:[o,"/",a]})})]}),(0,l.jsx)("div",{className:"newspack-progress-bar__container",children:(0,l.jsx)("div",{className:"newspack-progress-bar__bar",style:i,"data-testid":"progress-bar-indicator"})})]})}}const vn=fn,gn=({centered:e=!1,className:t=null,description:n="",heading:r=2,isWhite:o=!1,noMargin:i=!1,title:s,id:u=null})=>{const p=(0,a.useRef)();(0,a.useEffect)((()=>{const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}).scrollTo;e&&e===u&&window.setTimeout((()=>p.current.scrollIntoView({behavior:"smooth"})),250)}),[]);const d=c()("newspack-section-header",e&&"newspack-section-header--is-centered",o&&"newspack-section-header--is-white",i&&"newspack-section-header--no-margin",t),h=`h${r}`;return(0,l.jsx)("div",{id:u,className:"newspack-section-header__container",ref:p,children:(0,l.jsxs)(Jt,{columns:1,gutter:8,className:d,children:["string"==typeof s&&(0,l.jsx)(h,{children:s}),"function"==typeof s&&(0,l.jsx)(h,{children:s()}),n&&"string"==typeof n&&(0,l.jsx)("p",{children:n}),"function"==typeof n&&(0,l.jsx)("p",{children:n()}),n&&"string"!=typeof n&&"function"!=typeof n&&(0,l.jsx)("p",{children:n})]})})};var mn=n(2426),wn=n.n(mn);function yn({help:e,label:t,onChange:n,optgroups:a=[],className:o,hideLabelFromVision:i,...s}){const d=zt("group-select");return(0,l.jsx)(u.BaseControl,{label:t,hideLabelFromVision:i,id:d,help:e,className:c()(o,"components-select-control"),children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("select",{id:d,className:"components-select-control__input",onChange:e=>{const{value:t}=e.target,r=rt()(a,(e=>wn()(e.options,["value",t])));n(t,r)},"aria-describedby":e?`${d}__help`:void 0,...s,children:[(0,l.jsx)("option",{value:"",children:(0,r.__)("-- Select --","newspack-plugin")}),a.map((({label:e,options:t},n)=>(0,l.jsx)("optgroup",{label:e,children:t.map(((e,t)=>(0,l.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},`${e.label}-${e.value}-${t}`)))},n)))]}),(0,l.jsx)("div",{className:"components-select-control__arrow-wrapper",children:(0,l.jsx)(p,{icon:v,size:18})})]})})}const xn=({buttonOptions:e,buttonSmall:t,className:n,help:r,hideLabelFromVision:a,label:o,onChange:i,value:s})=>{const d=zt("button-group");return(0,l.jsx)(u.BaseControl,{label:o,help:r,hideLabelFromVision:a,id:d.current,className:c()(n,"components-select-control"),children:(0,l.jsx)(u.ButtonGroup,{children:e.map((e=>{const n=s===e.value;let r=()=>e.label;return e.icon&&(r=()=>(0,l.jsx)(p,{icon:e.icon})),(0,l.jsx)(u.Button,{variant:n?"primary":null,isPressed:n,onClick:()=>i(e.value),isSmall:t,children:(0,l.jsx)(r,{})},e.value)}))})})};class bn extends a.Component{render(){const{className:e,optgroups:t,buttonOptions:n,buttonSmall:r,...a}=this.props,o=c()("newspack-select-control",t&&"newspack-grouped-select-control",n&&"newspack-buttons-select-control",e);return(0,l.jsx)("div",{className:o,children:t?(0,l.jsx)(yn,{optgroups:t,...a}):n?(0,l.jsx)(xn,{buttonOptions:n,buttonSmall:r,...a}):(0,l.jsx)(u.SelectControl,{...a})})}}const kn=bn;var jn=n(4713),Sn=n.n(jn);const{NavLink:Pn,useHistory:On}=Je,Cn=({items:e,className:t,disableUpcoming:n,children:r=null})=>{const a=e.filter((e=>!e.isHiddenInTabbedNavigation)),{location:o}=On(),i=Sn()(a,["path",o.pathname]);return(0,l.jsxs)("div",{className:c()("newspack-tabbed-navigation",t),children:[(0,l.jsx)("ul",{children:a.map(((e,t)=>(0,l.jsx)("li",{children:(0,l.jsx)(Pn,{to:e.path,isActive:(t,{pathname:n})=>function(e,t,n){return e.path===n||(Array.isArray(e?.activeTabPaths)?e.activeTabPaths.some((t=>{if(t.endsWith("*")){const e=t.slice(0,-1);return n.startsWith(e)}return e.activeTabPaths.includes(n)})):t)}(e,t,n),exact:!e.hasOwnProperty("exact")||e.exact,activeClassName:"selected",className:c()({disabled:n&&t>i}),children:e.label})},t)))}),r]})},Nn=({className:e="",required:t=!1,isWide:n=!1,withMargin:o=!0,...i})=>{const s=(0,a.useRef)(null);(0,a.useEffect)((()=>{if(null===s.current)return;const e=s.current.querySelector("label");e&&e.setAttribute("data-required-text",(0,r.__)("(required)","newspack-plugin"))}),[s.current]);const p=c()("newspack-text-control",{"newspack-text-control--wide":n,"newspack-text-control--with-margin":o},e);return t?(0,l.jsx)("div",{ref:s,className:"newspack-text-control--required",children:(0,l.jsx)(u.TextControl,{className:p,required:t,...i})}):(0,l.jsx)(u.TextControl,{className:p,...i})};class An extends a.Component{render(){const{className:e,isRight:t,isLeft:n,isCenter:r,...a}=this.props,o=c()("newspack-waiting",e,{"is-right":t,"is-left":n,"is-center":r});return(0,l.jsx)(u.Spinner,{className:o,...a})}}const Tn=An;var En=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),Mn=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),Ln=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),In=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});const Rn="newspack-components-web-preview-wrapper";class zn extends a.Component{state={device:"desktop",loaded:!1,isPreviewVisible:!1};constructor(e){super(e),this.iframeRef=(0,a.createRef)()}componentDidMount(){const e=document.getElementById(Rn);this.modalDOMElement=e||document.createElement("div"),e||(this.modalDOMElement.id=Rn,document.body.appendChild(this.modalDOMElement))}componentDidUpdate(){!0===this.state.isPreviewVisible?document.body.classList.add("newspack-web-preview--open"):document.body.classList.remove("newspack-web-preview--open")}getWebPreviewModal=()=>{const{beforeLoad:e=(()=>{}),onClose:t=(()=>{}),url:n}=this.props,{device:o,loaded:i,isPreviewVisible:s}=this.state;if(!this.modalDOMElement||!s)return null;const p=c()("newspack-web-preview",o,i&&"is-loaded");return e(),(0,a.createPortal)((0,l.jsx)("div",{className:p,children:(0,l.jsxs)("div",{className:"newspack-web-preview__interior",children:[(0,l.jsxs)("div",{className:"newspack-web-preview__toolbar",children:[(0,l.jsx)("div",{className:"newspack-web-preview__toolbar-left",children:(0,l.jsxs)(u.ButtonGroup,{children:[(0,l.jsx)(u.Button,{onClick:()=>this.setState({device:"desktop"}),variant:"desktop"===o&&"primary",icon:En,label:(0,r.__)("Preview Desktop Size","newspack-plugin")}),(0,l.jsx)(u.Button,{onClick:()=>this.setState({device:"tablet"}),variant:"tablet"===o&&"primary",icon:Mn,label:(0,r.__)("Preview Tablet Size","newspack-plugin")}),(0,l.jsx)(u.Button,{onClick:()=>this.setState({device:"phone"}),variant:"phone"===o&&"primary",icon:Ln,label:(0,r.__)("Preview Phone Size","newspack-plugin")})]})}),(0,l.jsx)("div",{className:"newspack-web-preview__toolbar-right",children:(0,l.jsx)(u.Button,{onClick:()=>{t(),this.setState({isPreviewVisible:!1,loaded:!1})},icon:In,label:(0,r.__)("Close Preview","newspack-plugin")})})]}),(0,l.jsxs)("div",{className:"newspack-web-preview__content",children:[!i&&(0,l.jsxs)("div",{className:"newspack-web-preview__is-waiting",children:[(0,l.jsx)(Tn,{isLeft:!0}),(0,r.__)("Loading","newspack-plugin")]}),(0,l.jsx)("iframe",{ref:this.iframeRef,title:"web-preview",src:n,onLoad:()=>{this.setState({loaded:!0}),this.props.onLoad(this.iframeRef.current)}})]})]})}),this.modalDOMElement)};showPreview=()=>{this.setState({isPreviewVisible:!0})};render(){const{label:e,variant:t,renderButton:n}=this.props;return(0,l.jsxs)(a.Fragment,{children:[n?n({showPreview:this.showPreview}):(0,l.jsx)(u.Button,{variant:t,onClick:this.showPreview,tabIndex:"0",children:e}),this.getWebPreviewModal()]})}}zn.defaultProps={url:"//newspack.com",label:(0,r.__)("Preview","newspack-plugin"),onLoad:()=>{}};const $n=window.wp.data;var Dn=(0,l.jsx)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(d.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),Fn=n(3560),Bn=n.n(Fn),Hn=n(8156),Vn=n.n(Hn),Un=n(2193),Wn=n.n(Un);const Gn=e=>t=>({type:e,payload:t}),qn="newspack/wizards",Zn={isLoading:!1,isQuietLoading:!1,apiData:{},error:null},Qn=e=>JSON.parse(JSON.stringify(e)),Kn={startLoadingData:Gn("START_LOADING_DATA"),finishLoadingData:Gn("FINISH_LOADING_DATA"),fetchFromAPI:Gn("FETCH_FROM_API"),setAPIDataForWizard:Gn("SET_API_DATA"),updateWizardSettings:Gn("UPDATE_WIZARD_SETTINGS"),setError:Gn("SET_ERROR"),*saveWizardSettings({slug:e,section:t="",payloadPath:n=!1,auxData:r={},updatePayload:a=null}){a&&(yield Kn.updateWizardSettings({slug:e,...a}));const o=(0,$n.select)(qn).getWizardAPIData(e),i=n?Vn()(o,n):o,s=yield Kn.fetchFromAPI({path:`/newspack/v1/wizard/${e}/${t}`,method:"POST",data:{...i,...r},isQuietFetch:!0});if(!Wn()(s)&&!s.error)return Kn.setAPIDataForWizard({slug:e,data:s})},*wizardApiFetch(e){return yield Kn.fetchFromAPI(e)}},Jn=(0,$n.createReduxStore)(qn,{reducer:(e=Zn,{type:t,payload:n={}})=>{switch(t){case"START_LOADING_DATA":return n.isQuietLoading?{...e,isQuietLoading:!0}:{...e,isLoading:!0};case"FINISH_LOADING_DATA":return{...e,isLoading:!1,isQuietLoading:!1};case"SET_API_DATA":return Bn()(Qn(e),["apiData",n.slug],n.data);case"UPDATE_WIZARD_SETTINGS":return Bn()(Qn(e),["apiData",n.slug,...n.path],n.value);case"SET_ERROR":return{...e,error:n};default:return e}},actions:Kn,selectors:{isLoading:e=>e.isLoading,isQuietLoading:e=>e.isQuietLoading,getWizardAPIData:(e,t)=>e.apiData[t]||{},getWizardData:(e,t)=>{var n;return null!==(n=e.apiData[t])&&void 0!==n?n:{}},getError:e=>e.error},controls:{FETCH_FROM_API:e=>{const{isLocalError:t=!1,isQuietFetch:n=!1}=e.payload;return(0,$n.dispatch)(qn).startLoadingData({isQuietLoading:Boolean(n)}),i()(e.payload).then((e=>((0,$n.dispatch)(qn).setError(null),e))).catch((e=>{if(t)throw e;(0,$n.dispatch)(qn).setError(e)})).finally((e=>((0,$n.dispatch)(qn).finishLoadingData(),e)))}},resolvers:{*getWizardAPIData(e){if(e){const t=yield Kn.fetchFromAPI({path:`/newspack/v1/wizard/${e}`});return Kn.setAPIDataForWizard({slug:e,data:t})}return Kn.finishLoadingData()}}}),Yn=()=>{const e=(0,$n.useSelect)((e=>e(qn).getError()));if(!e)return null;const{level:t,message:n}=(({data:e,message:t,code:n})=>{let r="fatal";return e&&"level"in e?r=e.level:"rest_invalid_param"===n&&(r="notice"),{message:t,level:r}})(e);if("fatal"===t){const e="undefined"!=typeof newspack_urls&&newspack_urls.dashboard;return(0,l.jsxs)(Yt,{title:(0,r.__)("Unrecoverable error"),onRequestClose:e?()=>window.location=e:void 0,children:[(0,l.jsx)(an,{noticeText:n,isError:!0,rawHTML:!0}),e&&(0,l.jsx)(tt,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:(0,l.jsx)(Xe,{isPrimary:!0,href:e,children:(0,r.__)("Return to Dashboard","newspack-plugin")})})]})}return(0,l.jsx)(an,{isError:!0,className:"newspack-wizard__above-header",noticeText:n,rawHTML:!0})};(0,$n.register)(Jn);const{HashRouter:Xn,Redirect:er,Route:tr,Switch:nr}=Je,{Redirect:rr,Route:ar}=((0,a.forwardRef)((({sections:e=[],headerText:t,apiSlug:n,subHeaderText:o,hasSimpleFooter:i,className:s,renderAboveSections:u,requiredPlugins:p=[],isInitialFetchTriggered:d=!0},h)=>{const f=(0,$n.useSelect)((e=>e(qn).isLoading())),v=(0,$n.useSelect)((e=>e(qn).isQuietLoading()));(0,$n.useSelect)((e=>d&&e(qn).getWizardAPIData(n)));let g=e.filter((e=>!e.isHidden));const[m,w]=(0,a.useState)(0===p.length);m||(t=p.length>1?(0,r.__)("Required plugins","newspack-plugin"):(0,r.__)("Required plugin","newspack-plugin"),g=[{path:"/",render:()=>(0,l.jsx)(sn,{plugins:p,onStatus:({complete:e})=>w(e)})}]);const y=window.location.href.split("#")[0];return(0,l.jsxs)("div",{ref:h,children:[(0,l.jsx)("div",{className:c()(f?"newspack-wizard__is-loading":"newspack-wizard__is-loaded",{"newspack-wizard__is-loading-quiet":v}),children:(0,l.jsxs)(Xn,{hashType:"slash",children:[newspack_aux_data.is_debug_mode&&(0,l.jsx)(an,{debugMode:!0}),(0,l.jsx)("div",{className:"bg-white",children:(0,l.jsx)("div",{className:"newspack-wizard__header__inner",children:(0,l.jsxs)("div",{className:"newspack-wizard__title",children:[newspack_urls.dashboard!==y?(0,l.jsx)(Xe,{isLink:!0,href:newspack_urls.dashboard,label:(0,r.__)("Return to Dashboard","newspack-plugin"),showTooltip:!0,icon:Dn,iconSize:36,children:(0,l.jsx)(en,{size:36})}):(0,l.jsx)(en,{size:36}),(0,l.jsxs)("div",{children:[t&&(0,l.jsx)("h2",{children:t}),o&&(0,l.jsx)("span",{children:o})]})]})})}),g.length>1&&(0,l.jsx)(Cn,{items:g,children:(0,l.jsx)(Yn,{})}),(0,l.jsx)(Qt,{}),(0,l.jsxs)(nr,{children:[g.map(((e,t)=>{var n;const r=e.render;return(0,l.jsx)(tr,{exact:null!==(n=e.exact)&&void 0!==n&&n,path:e.path,children:(0,l.jsxs)("div",{className:c()("newspack-wizard__content",s),children:["function"==typeof u?u():null,(0,l.jsx)(r,{})]})},t)})),(0,l.jsx)(er,{to:g[0].path})]})]})}),!f&&(0,l.jsx)(Vt,{simple:i})]})})),Je);n(9501),n(3805),n(5015);const{lica_batch_size:or}=window.newspack_ads_bidding_gam,ir=({orderId:e=null,defaultName:t="",onPending:n=(()=>{}),onError:o,onSuccess:s,onUnrecoverable:c,onCancel:u,...p})=>{const[d,h]=(0,a.useState)(!1),[f,v]=(0,a.useState)(p.bidders||{}),[g,m]=(0,a.useState)(null),[w,y]=(0,a.useState)(null),[x,b]=(0,a.useState)(0),[_,k]=(0,a.useState)(1),[j,S]=(0,a.useState)(4),[P,O]=(0,a.useState)(!1),[C,N]=(0,a.useState)({orderId:e,name:e?"":t,revenueShare:0,bidders:[]}),A=()=>w?.order_id&&(!w?.line_item_ids?.length||_>(w?.lica_batch_count||0)),T=async e=>await i()({path:`/newspack-ads/v1/bidding/gam/lica_config?id=${e}`});(0,a.useEffect)((()=>{(async()=>{h(!0);try{v(await i()({path:"/newspack-ads/v1/bidders"}))}catch(e){m(e)}if(e){try{const t=await i()({path:`/newspack-ads/v1/bidding/gam/order?id=${e}`,method:"GET"});N({orderId:t.order_id,name:t.order_name,revenueShare:t.revenue_share,bidders:t.bidders}),y(t)}catch(e){m(e)}try{const t=await T(e),n=Math.ceil(t.length/or);k(n),S(3+n)}catch(e){m(e)}}else N({orderId:null,name:t,revenueShare:0,bidders:[]});h(!1)})()}),[e]),(0,a.useEffect)((()=>{n(d)}),[d]);const E=async(e,t={batch:0,fixing:!1})=>await i()({path:"/newspack-ads/v1/bidding/gam/create",method:"POST",data:{...t,id:C?.orderId||t.id||null,type:e,config:{order_name:C?.name,revenue_share:C?.revenueShare,bidders:C?.bidders}}}),M=(()=>{switch(x){case 0:return"";case 1:return(0,r.__)("Creating Order","newspack-ads");case 2:return(0,r.__)("Creating Line Items","newspack-ads");default:return(0,r.__)("Associating Creatives","newspack-ads")}})();return(0,l.jsxs)(tt,{noBorder:!0,children:[!e&&(0,l.jsx)("p",{children:(0,r.__)("Create the order and line items on your Google Ad Manager network according to the pre-defined price bucket settings.","newspack-ads")}),g&&"404"!==g.data?.status&&(0,l.jsx)(an,{isError:!0,noticeText:g.message}),(0,l.jsx)(Nn,{label:(0,r.__)("Order name","newspack-ads"),disabled:d||w?.order_name,value:w?.order_name?w.order_name:C.name,onChange:e=>N({...C,name:e})}),(0,l.jsx)(Nn,{type:"number",min:"0",max:"100",label:(0,r.__)("Bidder Revenue Share","newspack-ads"),help:(0,r.__)("This is agreed upon revenue share between you and the bid partner. Input the percentage that goes to the bidder, i.e. 20 for 20%.","newspack-ads"),disabled:d,value:C.revenueShare,onChange:e=>N({...C,revenueShare:e})}),(0,l.jsx)(kn,{label:(0,r.__)("Bidders","newspack-ads"),disabled:d,value:C.bidders,help:(0,r.__)("Which bidders to include in this order. Select bidders that all have the same revenue share and make sure to not include the same bidder in more than one header bidding order.","newspack-ads"),options:Object.keys(f).map((e=>({value:e,label:f[e].name}))),multiple:!0,onChange:e=>N({...C,bidders:e})}),!d&&A()&&(0,l.jsx)(an,{isWarning:!0,noticeText:(0,r.__)("Order exists but it's misconfigured.","newspack-ads")}),x&&M?(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(an,{isWarning:!0,noticeText:(0,r.__)("This may take up to 15 minutes, please do not close the window.","newspack-ads")}),(0,l.jsx)(vn,{completed:x,total:j,label:M})]}):null,(0,l.jsxs)(tt,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:["function"==typeof u&&(0,l.jsx)(Xe,{isSecondary:!0,disabled:d,onClick:()=>{u()},children:(0,r.__)("Cancel","newspack-ads")}),(0,l.jsx)(Xe,{isPrimary:!0,disabled:!(A()||!e||parseInt(C.revenueShare)!==parseInt(w?.revenue_share)||JSON.stringify(C.bidders)!==JSON.stringify(w?.bidders))||!C.name||d,onClick:()=>{const t=A();t||!C.orderId?(async(t=!1)=>{m(null),h(!0);let n={...w};try{n&&n.order_id||(b(1),n=await E("order",{fixing:t}),y(n),N({...C,orderId:n.order_id})),n?.line_item_ids?.length||(b(2),n=await E("line_items",{id:n.order_id,fixing:t}),y(n));const e=await T(n.order_id),r=Math.ceil(e.length/or);k(r),S(3+r);const a=n?.lica_batch_count||0;if(r>a)for(let e=a;e<r;e++){const r=e+1;b(2+r),n=await E("creatives",{id:n.order_id,batch:r,fixing:t}),y(n)}b(3+r),"function"==typeof s&&await s(n)}catch(t){e||P?(O(!1),y(null),N({...C,orderId:null}),"function"==typeof c&&await c(n,t)):(n?.order_id&&O(!0),m(t),"function"==typeof o&&await o(t))}finally{b(0),h(!1)}})(t):(async()=>{let t;m(null),h(!0);try{t=await i()({path:"/newspack-ads/v1/bidding/gam/order",method:"PUT",data:{id:e,config:{revenue_share:C?.revenueShare,bidders:C?.bidders}}}),y(t)}catch(e){m(e),"function"==typeof o&&await o(e)}finally{"function"==typeof s&&await s(t),h(!1)}})()},children:A()?(0,r.__)("Fix issues","newspack-ads"):e?(0,r.__)("Update Order","newspack-ads"):(0,r.__)("Create Order","newspack-ads")})]})]})};var sr=(0,l.jsx)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(d.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"})});const cr=({disabled:e=!1,isDraft:t,onEdit:n,onArchive:o,gamLink:i})=>{const[s,c]=(0,a.useState)(!1),p=()=>c((e=>!e));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Xe,{isQuaternary:!0,isSmall:!0,disabled:e,className:s&&"popover-active",onClick:p,icon:sr,label:(0,r.__)("More options","newspack"),tooltipPosition:"bottom center"}),!e&&s&&(0,l.jsxs)(hn,{position:"bottom left",onFocusOutside:p,onKeyDown:e=>$t.ESCAPE===e.keyCode&&p,children:[(0,l.jsx)(u.MenuItem,{onClick:p,className:"screen-reader-text",children:(0,r.__)("Close Popover","newspack-ads")}),(0,l.jsx)(u.MenuItem,{onClick:()=>{"function"==typeof n&&n()},className:"newspack-button",children:(0,r.__)("Edit","newspack-ads")}),t&&(0,l.jsx)(u.MenuItem,{onClick:()=>{"function"==typeof o&&o()},className:"newspack-button",children:(0,r.__)("Archive","newspack-ads")}),(0,l.jsx)(u.MenuItem,{className:"newspack-button",children:(0,l.jsx)(u.ExternalLink,{href:i,children:(0,r.__)("GAM Dashboard","newspack-ads")})})]})]})},{network_code:lr}=window.newspack_ads_bidding_gam,ur=()=>{const[e,t]=(0,a.useState)(!0),[n,o]=(0,a.useState)({}),[s,c]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),[d,h]=(0,a.useState)(!1),[f,v]=(0,a.useState)("Newspack Header Bidding"),[g,w]=(0,a.useState)(null),[y,x]=(0,a.useState)(null),b=async()=>{let e;t(!0);try{e=await i()({path:"/newspack-ads/v1/bidding/gam/orders",method:"GET"}),w(e),x(null)}catch(e){x(e)}finally{t(!1)}return e},_=()=>g?.filter((e=>!1===e.is_archived))||[],k=async e=>await i()({path:"/newspack-ads/v1/bidding/gam/order",method:"DELETE",data:{id:e}});(0,a.useEffect)((()=>{(async()=>{await b();try{o(await i()({path:"/newspack-ads/v1/bidders"}))}catch(e){x(e)}})()}),[]),(0,a.useEffect)((()=>{v(g?.length?`Newspack Header Bidding v${g.length+1}`:"Newspack Header Bidding"),!_().length&&u&&(p(!1),h(0))}),[g]),(0,a.useEffect)((()=>{window.onbeforeunload=!1!==d?()=>(0,r.__)("Are you sure you want to leave this page?","newspack-ads"):null}),[d]);const j=_(),S=j.length?(0,r.__)("Manage Orders","newspack-ads"):(0,r.__)("Create Order","newspack-ads");return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(m,{className:"newspack-header-bidding-gam-action-card",title:(0,r.__)("Google Ad Manager Integration","newspack-ads"),description:()=>(0,l.jsx)(a.Fragment,{children:y?y.message:(0,l.jsx)("span",{className:"newspack-ads__header-bidding-gam__order-description",children:j.length?(0,r.sprintf)(
// translators: %s: Number of line items in the order.
// translators: %s: Number of line items in the order.
(0,r._n)("There is %s available order.","There are %s available orders.",j.length,"newspack-ads"),j.length):e?(0,r.__)("Loading","newspack-ads"):(0,r.__)("There are no orders configured.","newspack-ads")})}),actionText:e||u||"500"===y?.data?.status?null:S,onClick:()=>j.length?p(!0):h(0)}),u&&!1===d&&(0,l.jsx)(Yt,{title:(0,r.__)("Manage Orders","newspack-ads"),onRequestClose:()=>!e&&p(!1),children:j.length&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(tt,{noBorder:!0,children:j.map((a=>{return(0,l.jsx)(m,{title:a.name,badge:a.status,description:()=>(0,l.jsxs)("span",{children:[(0,r.sprintf)(
// translators: %1$d: the bidder revenue share for this order.
// translators: %1$d: the bidder revenue share for this order.
(0,r.__)("Bidder Revenue Share: %1$d%%","newspack-ads"),a.revenue_share||0)," ","|"," ",(0,r.sprintf)(
// translators: %s: comma-separated list of adapters for the order or "any" if undefined.
// translators: %s: comma-separated list of adapters for the order or "any" if undefined.
(0,r.__)("Bidders: %s","newspack-ads"),a.bidders?.length?a.bidders.map((e=>n[e]?.name||e)).join(", "):(0,r.__)("any","newspack-ads"))]}),actionText:(0,l.jsx)(cr,{isDraft:"DRAFT"===a.status,disabled:e,onArchive:async()=>{confirm((0,r.__)("Are you sure you'd like to archive this order?","newspack-ads"))&&(t(!0),await k(a.id),t(!1),await b())},onEdit:()=>h(a.id),gamLink:(o=a.id,`https://admanager.google.com/${lr}#delivery/order/order_overview/order_id=${o}`)}),className:"mv0",isSmall:!0},a.id);var o}))}),Object.keys(n).map((e=>{const t=j.filter((t=>t.bidders?.includes(e)||!t.bidders||!t.bidders.length));return t.length>1&&(0,l.jsx)(an,{isWarning:!0,noticeText:(0,r.sprintf)(
// Translators: %1 The name of the bidder. %2 The number of orders for the bidder.
// Translators: %1 The name of the bidder. %2 The number of orders for the bidder.
(0,r.__)("%1$s is being targeted by %2$d orders.","newspack-ads"),n[e].name,t.length)},e)})),(0,l.jsxs)(tt,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:[(0,l.jsx)(Xe,{isSecondary:!0,disabled:e,onClick:()=>p(!1),children:(0,r.__)("Cancel","newspack-ads")}),(0,l.jsx)(Xe,{isPrimary:!0,disabled:e,onClick:()=>h(0),children:"Create new order"})]})]})}),!1!==d&&(0,l.jsxs)(Yt,{title:d?(0,r.__)("Edit Order","newspack-ads"):(0,r.__)("Create Order","newspack-ads"),onRequestClose:()=>!e&&h(!1),children:[s&&(0,l.jsx)(an,{isError:!0,noticeText:(0,r.__)("We were unable to fix the issues with this order and have archived it. Please create a new order below.","newspack-ads")}),(0,l.jsx)(ir,{bidders:n,orderId:d,defaultName:f,onPending:e=>{t(e)},onUnrecoverable:async({order_id:e},t)=>{await k(e),await b(),c(t),h(0)},onSuccess:async()=>{await b(),c(!1),h(!1),p(!0)},onError:async e=>{await b(),x(e)},onCancel:()=>!e&&h(!1)})]})]})};(0,t.addFilter)("newspack.settingSection.bidding.beforeControls","newspack-ads/header-bidding-gam",((e,t)=>"bidding"===t.sectionKey?(0,l.jsx)(ur,{...t}):e))})()})();