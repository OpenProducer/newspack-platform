(()=>{var e={1432:e=>{
/*
* @license MIT
* Fun Hooks v0.9.10
* (c) @snapwich
*/
a.SYNC=1,a.ASYNC=2,a.QUEUE=4;var t=Object.freeze({useProxy:!0,ready:0}),n=new WeakMap,r="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,o=0;if(t)n=t;else{for(;o<i&&!(o in r);)o++;n=r[o++]}for(;o<i;)o in r&&(n=e(n,r[o],o,r)),o++;return n};function i(e,t){return Array.prototype.slice.call(e,t)}var o=Object.assign||function(e){return r.call(i(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function a(e){var s,c={},u=[];function d(e,t){return"function"==typeof e?g.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?g.apply(null,arguments):"object"==typeof e?l.apply(null,arguments):void 0}function l(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);var i={},o=["constructor"];do{(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==o.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r=t.split(":"),o=r[0],a=r[1]||"sync";if(!i[o]){var s=e[o];i[o]=e[o]=g(a,s,n?[n,o]:void 0)}})),e=Object.getPrototypeOf(e)}while(r&&e);return i}function f(e){var t=Array.isArray(e)?e:e.split(".");return r.call(t,(function(n,r,i){var o=n[r],a=!1;return o||(i===t.length-1?(s||u.push((function(){a||console.warn("fun-hooks: referenced '"+e+"' but it was never created")})),n[r]=p((function(e){n[r]=e,a=!0}))):n[r]={})}),c)}function p(e){var t=[],r=[],i=function(){},a={before:function(e,n){return c.call(this,t,"before",e,n)},after:function(e,t){return c.call(this,r,"after",e,t)},getHooks:function(e){var n=t.concat(r);"object"==typeof e&&(n=n.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{o(n,{remove:function(){return n.forEach((function(e){e.remove()})),this}})}catch(i){console.error("error adding `remove` to array, did you modify Array.prototype?")}return n},removeAll:function(){return this.getHooks().remove()}},s={install:function(n,o,a){this.type=n,i=a,a(t,r),e&&e(o)}};return n.set(a.after,s),a;function c(e,n,o,a){var s={hook:o,type:n,priority:a||10,remove:function(){var n=e.indexOf(s);-1!==n&&(e.splice(n,1),i(t,r))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),i(t,r),this}}function g(t,r,c){var d=r.after&&n.get(r.after);if(d){if(d.type!==t)throw"fun-hooks: recreated hookable with different type";return r}var l,g,m=c?f(c):p(),v={get:function(e,t){return m[t]||Reflect.get.apply(Reflect,arguments)}};return s||u.push(h),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?g=new Proxy(r,v):(g=function(){return v.apply?v.apply(r,this,i(arguments)):r.apply(this,arguments)},o(g,m)),n.get(g.after).install(t,g,(function(e,n){var r,o=[];e.length||n.length?(e.forEach(a),r=o.push(void 0)-1,n.forEach(a),l=function(e,n,a){var s,c=0,u="async"===t&&"function"==typeof a[a.length-1]&&a.pop();function d(e){"sync"===t?s=e:u&&u.apply(null,arguments)}function l(e){if(o[c]){var r=i(arguments);return l.bail=d,r.unshift(l),o[c++].apply(n,r)}"sync"===t?s=e:u&&u.apply(null,arguments)}return o[r]=function(){var r=i(arguments,1);"async"===t&&u&&(delete l.bail,r.push(l));var o=e.apply(n,r);"sync"===t&&l(o)},l.apply(null,a),s}):l=void 0;function a(e){o.push(e.hook)}h()})),g;function h(){!s&&("sync"!==t||e.ready&a.SYNC)&&("async"!==t||e.ready&a.ASYNC)?"sync"!==t&&e.ready&a.QUEUE?v.apply=function(){var e=arguments;u.push((function(){g.apply(e[1],e[2])}))}:v.apply=function(){throw"fun-hooks: hooked function not ready"}:v.apply=l}}return(e=o({},t,e)).ready?d.ready=function(){s=!0,function(e){for(var t;t=e.shift();)t()}(u)}:s=!0,d.get=f,d}e.exports=a},7079:e=>{e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==typeof i?e(i):i}return n}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,_x,o,a=[],_n=!0,s=!1;try{if(_x=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;_n=!1}else for(;!(_n=(r=_x.call(n)).done)&&(a.push(r.value),a.length!==t);_n=!0);}catch(c){s=!0,i=c}finally{try{if(!_n&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw i}}return a}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(r);var c=window,u=c.pbjs=c.pbjs||{};function d(){return u}function l(e){u.installedModules.push(e)}function f(n){return function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t,n){return e&&e.includes(t,n)||!1}function g(e,t,n){return e&&e.find(t,n)}u.cmd=u.cmd||[],u.que=u.que||[],c===window&&(c._pbjsGlobals=c._pbjsGlobals||[],c._pbjsGlobals.push("pbjs"));var m={buckets:[{max:5,increment:.5}]},v={buckets:[{max:20,increment:.1}]},h={buckets:[{max:20,increment:.01}]},b={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},y={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":O(e,m,n),med:""===r?"":O(e,v,n),high:""===r?"":O(e,h,n),auto:""===r?"":O(e,y,n),dense:""===r?"":O(e,b,n),custom:""===r?"":O(e,t,n)}}function O(e,t,n){var r="";if(!T(t))return r;var i=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),o=0,a=g(t.buckets,(function(t){if(e>i.max*n){var a=t.precision;void 0===a&&(a=2),r=(t.max*n).toFixed(a)}else{if(e<=t.max*n&&e>=o*n)return t.min=o,t;o=t.max}}));return a&&(r=C(e,a,n)),r}function T(e){if(qe(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}function C(e,t,n){var r=void 0!==t.precision?t.precision:2,i=t.increment*n,o=t.min*n,a=Math.floor,s=U.getConfig("cpmRoundingFunction");"function"==typeof s&&(a=s);var c,u,d=Math.pow(10,r+2),l=(e*d-o*d)/(i*d);try{c=a(l)*i+o}catch(f){u=!0}return(u||"number"!=typeof c)&&(Ce("Invalid rounding function passed in config"),c=Math.floor(l)*i+o),(c=Number(c.toFixed(10))).toFixed(r)}function I(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}const E=JSON.parse('{"k2":{"xn":"adserverTargeting","zF":"standard"},"f":"pbjs_debug","Q_":{"Q":1,"H":2},"FP":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","SEAT_NON_BID":"seatNonBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"q_":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"aI":{"bidWon":"adUnitCode"},"Ql":{"yE":"low","M2":"medium","lj":"high","B7":"auto","uN":"dense","qN":"custom"},"TD":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat"},"kF":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"FY":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"os":{"YZ":"s2s"},"UE":{"CK":"targetingSet","fe":"rendered","G9":"bidRejected"},"Gw":{"UI":"Bid has missing or invalid properties","Gp":"Invalid request ID","Dg":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes"},"V1":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"s$":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"oF":{"ICON":1,"MAIN":3},"zA":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}');function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var k,S="TRUE"===(k=E.f,Ct(we().search)[k]||"").toUpperCase(),j="random",x={random:!0,fixed:!0},B={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},R="*";var U=function(){var e,t,n,r=[],a=null;function c(){function r(e){return a[e].val}function o(e,t){a[e].val=t}e={};var a={publisherDomain:{set:function(e){null!=e&&Ce("publisherDomain is deprecated and has no effect since v7 - use pageUrl instead"),o("publisherDomain",e)}},priceGranularity:{val:B.MEDIUM,set:function(e){u(e)&&("string"==typeof e?o("priceGranularity",c(e)?e:B.MEDIUM):Pe(e)&&(o("customPriceBucket",e),o("priceGranularity",B.CUSTOM),Oe("Using custom price granularity")))}},customPriceBucket:{val:{},set:function(){}},mediaTypePriceGranularity:{val:{},set:function(e){null!=e&&o("mediaTypePriceGranularity",Object.keys(e).reduce((function(t,n){return u(e[n])?"string"==typeof e?t[n]=c(e[n])?e[n]:r("priceGranularity"):Pe(e)&&(t[n]=e[n],Oe("Using custom price granularity for ".concat(n))):Ce("Invalid price granularity for media type: ".concat(n)),t}),{}))}},bidderSequence:{val:"random",set:function(e){x[e]?o("bidderSequence",e):Ce("Invalid order: ".concat(e,". Bidder Sequence was not set."))}},auctionOptions:{val:{},set:function(e){(function(e){if(!Pe(e))return Ce("Auction Options must be an object"),!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("secondaryBidders"!==r&&"suppressStaleRender"!==r)return Ce("Auction Options given an incorrect param: ".concat(r)),!1;if("secondaryBidders"===r){if(!Re(e[r]))return Ce("Auction Options ".concat(r," must be of type Array")),!1;if(!e[r].every(Be))return Ce("Auction Options ".concat(r," must be only string")),!1}else if("suppressStaleRender"===r&&!_e(e[r]))return Ce("Auction Options ".concat(r," must be of type boolean")),!1}return!0})(e)&&o("auctionOptions",e)}}},s={debug:S,bidderTimeout:3e3,enableSendAllBids:true,useBidCache:false,deviceAccess:true,timeoutBuffer:400,disableAjaxTimeout:false,maxNestedIframes:10};function c(e){return g(Object.keys(B),(function(t){return e===B[t]}))}function u(e){if(!e)return Ie("Prebid Error: no value passed to `setPriceGranularity()`"),!1;if("string"==typeof e)c(e)||Ce("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(Pe(e)&&!T(e))return Ie("Invalid custom price value passed to `setPriceGranularity()`"),!1;return!0}Object.defineProperties(s,Object.fromEntries(Object.entries(a).map((function(e){var t=i(e,2),n=t[0],a=t[1];return[n,Object.assign({get:r.bind(null,n),set:o.bind(null,n),enumerable:!0},a)]})))),t&&C(Object.keys(t).reduce((function(e,n){return t[n]!==s[n]&&(e[n]=s[n]||{}),e}),{})),t=s,n={}}function u(){if(a&&n&&Pe(n[a])){var e=n[a];return function(){return Array.from.apply(Array,arguments)}(new Set(Object.keys(t).concat(Object.keys(e)))).reduce((function(n,r){return void 0===e[r]?n[r]=t[r]:void 0===t[r]?n[r]=e[r]:Pe(e[r])?n[r]=kt({},t[r],e[r]):n[r]=e[r],n}),{})}return Object.assign({},t)}var d=[u,function(){var e=u();return Object.defineProperty(e,"ortb2",{get:function(){throw new Error("invalid access to 'orbt2' config - use request parameters instead")}}),e}].map((function(e){return function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var t=arguments.length<=0?void 0:arguments[0];return t?I(e(),t):u()}return O.apply(void 0,arguments)}})),l=i(d,2),f=l[0],m=l[1],v=[m,f].map((function(e){return function(){var t=e.apply(void 0,arguments);return t&&"object"===o(t)&&(t=ot(t)),t}})),h=i(v,2),b=h[0],y=h[1];function w(n){if(Pe(n)){var r=Object.keys(n),i={};r.forEach((function(r){var o=n[r];Pe(e[r])&&Pe(o)&&(o=Object.assign({},e[r],o));try{i[r]=t[r]=o}catch(a){Ce("Cannot set config for property ".concat(r," : "),a)}})),C(i)}else Ie("setConfig options must be an object")}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t;if("string"!=typeof e&&(i=e,e=R,n=t||{}),"function"==typeof i){var o={topic:e,callback:i};return r.push(o),n.init&&i(e===R?m():s({},e,m(e))),function(){r.splice(r.indexOf(o),1)}}Ie("listener must be a function")}function C(e){var t=Object.keys(e);r.filter((function(e){return p(t,e.topic)})).forEach((function(t){t.callback(s({},t.topic,e[t.topic]))})),r.filter((function(e){return e.topic===R})).forEach((function(t){return t.callback(e)}))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{r(e),e.bidders.forEach((function(r){n[r]||(n[r]={}),Object.keys(e.config).forEach((function(i){var o=e.config[i];if(Pe(o)){var a=t?kt:Object.assign;n[r][i]=a({},n[r][i]||{},o)}else n[r][i]=o}))}))}catch(i){Ie(i)}function r(e){if(!Pe(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!Pe(e.config))throw"setBidderConfig bidder options must contain a config object"}}function k(e,t){a=e;try{return t()}finally{j()}}function j(){a=null}return c(),{getCurrentBidder:function(){return a},resetBidder:j,getConfig:m,getAnyConfig:f,readConfig:b,readAnyConfig:y,setConfig:w,mergeConfig:function(e){if(Pe(e)){var t=kt(u(),e);return w(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),t}Ie("mergeConfig input must be an object")},setDefaults:function(n){Pe(e)?(Object.assign(e,n),Object.assign(t,n)):Ie("defaults must be an object")},resetConfig:c,runWithBidder:k,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return k(e,ue.call.apply(ue,[t,this].concat(r)))}Ce("config.callbackWithBidder callback is not a function")}}},setBidderConfig:E,getBidderConfig:function(){return n},mergeBidderConfig:function(e){return E(e,!0)}}}(),P=n(7079),_=n.n(P);function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function N(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function z(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,M(e,t,"get"))}function F(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,M(e,t,"set"),n),n}function W(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function L(e,t,n){return function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(e,t),n}var G=0,H=1,V=new WeakMap,K=new WeakMap,J=function(){function e(t){if(q(this,e),W(this,V,{writable:!0,value:void 0}),W(this,K,{writable:!0,value:void 0}),"function"!=typeof t)throw new Error("resolver not a function");var n=[],r=[],o=i([G,H].map((function(e){return function(t){if(e===G&&"function"==typeof(null==t?void 0:t.then))t.then(a,s);else if(!n.length)for(n.push(e,t);r.length;)r.shift()()}})),2),a=o[0],s=o[1];try{t(a,s)}catch(c){s(c)}F(this,V,n),F(this,K,r)}return N(e,[{key:"then",value:function(e,t){var n=this,r=z(this,V);return new this.constructor((function(o,a){var s=function(){var n=r[1],s=i(r[0]===G?[e,o]:[t,a],2),c=s[0],u=s[1];if("function"==typeof c){try{n=c(n)}catch(d){return void a(d)}u=o}u(n)};r.length?s():z(n,K).push(s)}))}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"finally",value:function(e){var t,n=this;return this.then((function(n){return t=n,e()}),(function(r){return t=n.constructor.reject(r),e()})).then((function(){return t}))}}],[{key:"timeout",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e((function(e){0===t?e():setTimeout(e,t)}))}},{key:"race",value:function(t){var n=this;return new this((function(r,i){L(n,e,Q).call(n,t,(function(e,t){return e?r(t):i(t)}))}))}},{key:"all",value:function(t){var n=this;return new this((function(r,i){var o=[];L(n,e,Q).call(n,t,(function(e,t,n){return e?o[n]=t:i(t)}),(function(){return r(o)}))}))}},{key:"allSettled",value:function(t){var n=this;return new this((function(r){var i=[];L(n,e,Q).call(n,t,(function(e,t,n){return i[n]=e?{status:"fulfilled",value:t}:{status:"rejected",reason:t}}),(function(){return r(i)}))}))}},{key:"resolve",value:function(e){return new this((function(t){return t(e)}))}},{key:"reject",value:function(e){return new this((function(t,n){return n(e)}))}}]),e}();function Q(e,t,n){var r=this,i=e.length;function o(){t.apply(this,arguments),--i<=0&&n&&n()}0===e.length&&n?n():e.forEach((function(e,t){return r.resolve(e).then((function(e){return o(!0,e,t)}),(function(e){return o(!1,e,t)}))}))}function Y(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.promiseFactory,i=void 0===r?function(e){return new J(e)}:r;function o(e){return function(t){return e(t)}}return{promise:i((function(n,r){e=n,t=r})),resolve:o(e),reject:o(t)}}var X,$=Object.prototype.toString,Z=Boolean(window.console),ee=Boolean(Z&&window.console.log),te=Boolean(Z&&window.console.info),ne=Boolean(Z&&window.console.warn),re=Boolean(Z&&window.console.error),ie=d();function oe(){null!=X&&X.apply(void 0,arguments)}var ae={checkCookieSupport:lt,createTrackPixelIframeHtml:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return"";t&&(e=encodeURI(e));n&&(n='sandbox="'.concat(n,'"'));return"<iframe ".concat(n,' id="').concat(le(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')},getWindowSelf:ye,getWindowTop:be,getWindowLocation:we,insertUserSyncIframe:Ke,insertElement:We,isFn:xe,triggerPixel:Ge,logError:Ie,logWarn:Ce,logMessage:Oe,logInfo:Te,parseQS:Ct,formatQS:function(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")},deepEqual:At};var se,ce={},ue=function(e,t){return t}.bind(null,1,ce)()===ce?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},de=(se=0,function(){return++se});function le(){return de()+Math.random().toString(16).substr(2)}function fe(e){return e?(e^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,fe)}function pe(e,t){return t&&t[e]?t[e]:""}function ge(e){return e&&Object.getOwnPropertyNames(e).length>0?(t=e,Object.keys(t)).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(Xe(e,t)))})).join("&"):"";var t}function me(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)Fe(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"===o(e)){var a=e.length;if(a>0)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(ve(e));else for(var s=0;s<a;s++)t.push(ve(e[s]))}return t}function ve(e){if(he(e))return e[0]+"x"+e[1]}function he(e){return Re(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function be(){return window.top}function ye(){return window.self}function we(){return window.location}function Oe(){ke()&&ee&&console.log.apply(console,Ae(arguments,"MESSAGE:"))}function Te(){ke()&&te&&console.info.apply(console,Ae(arguments,"INFO:"))}function Ce(){ke()&&ne&&console.warn.apply(console,Ae(arguments,"WARNING:")),oe(E.FP.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function Ie(){ke()&&re&&console.error.apply(console,Ae(arguments,"ERROR:")),oe(E.FP.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function Ee(e){function t(t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(void 0,[e].concat(r))}}return{logError:t(Ie),logWarn:t(Ce),logMessage:t(Oe),logInfo:t(Te)}}function Ae(e,t){e=[].slice.call(e);var n=U.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(r("#aaa")),e.unshift(r("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function r(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function ke(){return!!U.getConfig("debug")}function Se(){var e=document.createElement("iframe");return e.id=le(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e}function je(e,t){return $.call(e)==="[object "+t+"]"}function xe(e){return je(e,"Function")}function Be(e){return je(e,"String")}function Re(e){return je(e,"Array")}function Ue(e){return je(e,"Number")}function Pe(e){return je(e,"Object")}function _e(e){return je(e,"Boolean")}function qe(e){if(!e)return!0;if(Re(e)||Be(e))return!(e.length>0);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function De(e){return Be(e)&&(!e||0===e.length)}function Ne(e,t){if(!qe(e)){if(xe(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(r>0)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function Me(e,t){if(qe(e))return!1;if(xe(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}function ze(e,t){if(qe(e))return[];if(xe(e.map))return e.map(t);var n=[];return Ne(e,(function(r,i){n.push(t(r,i,e))})),n}function Fe(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function We(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var o=r?null:i.firstChild;return i.insertBefore(e,o)}}catch(a){}}function Le(e,t){var n=null;return new J((function(r){var i=function t(){e.removeEventListener("load",t),e.removeEventListener("error",t),null!=n&&window.clearTimeout(n),r()};e.addEventListener("load",i),e.addEventListener("error",i),null!=t&&(n=window.setTimeout(i,t))}))}function Ge(e,t,n){var r=new Image;t&&ae.isFn(t)&&Le(r,n).then(t),r.src=e}function He(e){var t=e.source,n=e.burl;t===E.os.YZ&&n&&ae.triggerPixel(n)}function Ve(e){if(e){var t=document.createElement("iframe");t.id=le(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",ae.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}}function Ke(e,t,n){var r=ae.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),i=document.createElement("div");i.innerHTML=r;var o=i.firstChild;t&&ae.isFn(t)&&Le(o,n).then(t),ae.insertElement(o,document,"html",!0)}function Je(e){if(!e)return"";var t='<div style="position:absolute;left:0px;top:0px;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'}function Qe(e,t,n){return n.indexOf(e)===t}function Ye(e,t){return e.concat(t)}function Xe(e,t){return e[t]}function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie.adUnits;return e.map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(Ye,[])})).reduce(Ye,[]).filter((function(e){return void 0!==e})).filter(Qe)}function Ze(){if(window.googletag&&xe(window.googletag.pubads)&&xe(window.googletag.pubads().getSlots))return!0}var et=nt("timeToRespond",(function(e,t){return e>t})),tt=nt("responseTimestamp",(function(e,t){return e>t}));nt("responseTimestamp",(function(e,t){return e<t}));function nt(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function rt(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e}function it(e,t){return p(e,t&&t.adUnitCode)}function ot(e){return _()(e)}function at(){try{return ae.getWindowSelf()!==ae.getWindowTop()}catch(e){return!0}}function st(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)}function ct(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)}function ut(){return(new Date).getTime()}function dt(){return!1!==U.getConfig("deviceAccess")}function lt(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}function ft(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}function pt(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return Object.assign(t,s({},n,e[n]))}),{})}function gt(e,t,n){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(Ye,[]).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))}var mt=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function vt(e){var t;return Ze()&&(t=g(window.googletag.pubads().getSlots(),function(e){return function(t){return mt(t,e)}}(e))),t}function ht(e){var t=vt(e);return t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}}function bt(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")}function yt(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function wt(e,t){return"object"!==o(e)?{}:t.reduce((function(n,r,i){if("function"==typeof r)return n;var o=r,a=r.match(/^(.+?)\sas\s(.+?)$/i);a&&(r=a[1],o=a[2]);var s=e[r];return"function"==typeof t[i+1]&&(s=t[i+1](s,n)),void 0!==s&&(n[o]=s),n}),{})}function Ot(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(xe(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t}function Tt(e,t){return Re(e)&&(!t||e.length===t)&&e.every((function(e){return yt(e)}))}function Ct(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=i(t.split("="),2),r=n[0],o=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(o)):e[r]=o||"",e}),{}):{}}function It(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:ae.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}}function Et(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(ae.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}function At(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkTypes,i=void 0!==r&&r;if(e===t)return!0;if("object"!==o(e)||null===e||"object"!==o(t)||null===t||i&&e.constructor!==t.constructor)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var a in e){if(!t.hasOwnProperty(a))return!1;if(!At(e[a],t[a],{checkTypes:i}))return!1}return!0}function kt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;var i=n.shift();if(Pe(e)&&Pe(i)){var o=function(t){Pe(i[t])?(e[t]||Object.assign(e,s({},t,{})),kt(e[t],i[t])):Re(i[t])?e[t]?Re(e[t])&&i[t].forEach((function(n){for(var r=1,i=0;i<e[t].length;i++)if(At(e[t][i],n)){r=0;break}r&&e[t].push(n)})):Object.assign(e,s({},t,f(i[t]))):Object.assign(e,s({},t,i[t]))};for(var a in i)o(a)}return kt.apply(void 0,[e].concat(n))}function St(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new Map,r=function(){var r=t.apply(this,arguments);return n.has(r)||n.set(r,e.apply(this,arguments)),n.get(r)};return r.clear=n.clear.bind(n),r}var jt;jt={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};function xt(e,t,n){t.split&&(t=t.split("."));for(var r,i,o=0,a=t.length,s=e;o<a&&"__proto__"!==(i=t[o++])&&"constructor"!==i&&"prototype"!==i;)s=s[i]=o===a?n:typeof(r=s[i])==typeof t?r:0*t[o]!=0||~(""+t[o]).indexOf(".")?{}:[]}var Bt,Rt=Array.prototype.slice,Ut=Array.prototype.push,Pt=ze(E.FP,(function(e){return e})),_t=E.aI,qt=[],Dt=function(){var e={},t={};function n(t,n){Oe("Emitting event for: "+t);var r=n[0]||{},i=r[_t[t]],o=e[t]||{que:[]},a=ze(o,(function(e,t){return t})),s=[];qt.push({eventType:t,args:r,id:i,elapsedTime:window.performance&&window.performance.now&&window.performance.now()||0}),i&&Me(a,i)&&Ut.apply(s,o[i].que),Ut.apply(s,o.que),Ne(s,(function(e){if(e)try{e.apply(null,n)}catch(t){Ie("Error executing handler:","events.js",t)}}))}return t.on=function(t,n,r){if(function(e){return Me(Pt,e)}(t)){var i=e[t]||{que:[]};r?(i[r]=i[r]||{que:[]},i[r].que.push(n)):i.que.push(n),e[t]=i}else Ie("Wrong event name : "+t+" Valid event names :"+Pt)},t.emit=function(e){var t=Rt.call(arguments,1);n(e,t)},t.off=function(t,n,r){var i=e[t];qe(i)||qe(i.que)&&qe(i[r])||r&&(qe(i[r])||qe(i[r].que))||(r?Ne(i[r].que,(function(e){var t=i[r].que;e===n&&t.splice(t.indexOf(e),1)})):Ne(i.que,(function(e){var t=i.que;e===n&&t.splice(t.indexOf(e),1)})),e[t]=i)},t.get=function(){return e},t.addEvents=function(e){Pt=Pt.concat(e)},t.getEvents=function(){var e=[];return Ne(qt,(function(t){var n=Object.assign({},t);e.push(n)})),e},t}();Bt=Dt.emit.bind(Dt),X=Bt;var Nt=Dt.on,Mt=Dt.off,zt=(Dt.get,Dt.getEvents),Ft=Dt.emit;Dt.addEvents;var Wt=Lt();function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.request,r=t.done;return function(t,i,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{var c,u=s.method||(a?"POST":"GET"),d=document.createElement("a");d.href=t;var l="object"===o(i)&&null!==i?i:{success:function(){Oe("xhr success")},error:function(e){Ie("xhr error",null,e)}};if("function"==typeof i&&(l.success=i),(c=new window.XMLHttpRequest).onreadystatechange=function(){if(4===c.readyState){"function"==typeof r&&r(d.origin);var e=c.status;e>=200&&e<300||304===e?l.success(c.responseText,c):l.error(c.statusText,c)}},U.getConfig("disableAjaxTimeout")||(c.ontimeout=function(){Ie("  xhr timeout after ",c.timeout,"ms")}),"GET"===u&&a){var f=It(t,s);Object.assign(f.search,a),t=Et(f)}c.open(u,t,!0),U.getConfig("disableAjaxTimeout")||(c.timeout=e),s.withCredentials&&(c.withCredentials=!0),Ne(s.customHeaders,(function(e,t){c.setRequestHeader(t,e)})),s.preflight&&c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-Type",s.contentType||"text/plain"),"function"==typeof n&&n(d.origin),"POST"===u&&a?c.send(a):c.send()}catch(p){Ie("xhr construction",p),"object"===o(i)&&null!==i&&i.error(p)}}}function Gt(e,t){var n=t?"<![CDATA[".concat(t,"]]>"):"";return'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(e,"]]></VASTAdTagURI>\n        <Impression>").concat(n,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?Di.index:n,i=e.vastXml?e.vastXml:Gt(e.vastUrl,e.vastImpUrl),o=r.getAuction(e),a=Number(e.ttl)+15,s={type:"xml",value:i,ttlseconds:a};return U.getConfig("cache.vasttrack")&&(s.bidder=e.bidder,s.bidid=e.requestId,s.aid=e.auctionId),null!=o&&(s.timestamp=o.getAuctionStart()),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(s.key=e.customCacheKey),s}function Vt(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(r){return void e(r,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}}var Kt=new WeakMap,Jt=["debugging","adloox","criteo","outstream","adagio","spotx","browsi","brandmetrics","justtag","tncId","akamaidap","ftrackId","inskin","hadron","medianet","improvedigital","aaxBlockmeter","confiant","arcspan"];function Qt(e,t,n,r,i){if(t&&e){if(p(Jt,t)){r||(r=document);var o=c(r,e);if(o)return n&&"function"==typeof n&&(o.loaded?n():o.callbacks.push(n)),o.tag;var a=Kt.get(r)||{},s={loaded:!1,tag:null,callbacks:[]};return a[e]=s,Kt.set(r,a),n&&"function"==typeof n&&s.callbacks.push(n),Ce("module ".concat(t," is loading external JavaScript")),function(t,n,r,i){r||(r=document);var o=r.createElement("script");o.type="text/javascript",o.async=!0;var a=c(r,e);a&&(a.tag=o);o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,n())}:o.onload=function(){n()};o.src=t,i&&function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}(o,i);return We(o,r),o}(e,(function(){s.loaded=!0;try{for(var e=0;e<s.callbacks.length;e++)s.callbacks[e]()}catch(t){Ie("Error executing callback","adloader.js:loadExternalScript",t)}}),r,i)}Ie("".concat(t," not whitelisted for loading external JavaScript"))}else Ie("cannot load external script without url and moduleCode");function c(e,t){var n=Kt.get(e);return n&&n[t]?n[t]:null}}var Yt=d(),Xt="outstream";function $t(e){var t=this,n=e.url,r=e.config,i=e.id,o=e.callback,a=e.loaded,s=e.adUnitCode,c=e.renderNow;this.url=n,this.config=r,this.handlers={},this.id=i,this.renderNow=c,this.loaded=a,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):Ie("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},this.render=function(){var e=this,t=arguments,r=function(){e._render?e._render.apply(e,t):Ce("No render function was provided, please use .setRender on the renderer")};tn(s)?(Ce("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(s)),r()):c?r():(this.cmd.unshift(r),Qt(n,Xt,this.callback,this.documentContext))}.bind(this)}function Zt(e){return!(!e||!e.url&&!e.renderNow)}function en(e,t,n){var r=null;e.config&&e.config.documentResolver&&(r=e.config.documentResolver(t,document,n)),r||(r=document),e.documentContext=r,e.render(t,e.documentContext)}function tn(e){var t=g(Yt.adUnits,(function(t){return t.code===e}));if(!t)return!1;var n=I(t,"renderer"),r=!!(n&&n.url&&n.render),i=I(t,"mediaTypes.video.renderer"),o=!!(i&&i.url&&i.render);return!!(r&&!0!==n.backupOnly||o&&!0!==i.backupOnly)}$t.install=function(e){return new $t({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode,renderNow:e.renderNow})},$t.prototype.getConfig=function(){return this.config},$t.prototype.setRender=function(e){this._render=e},$t.prototype.setEventHandlers=function(e){this.handlers=e},$t.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),Oe("Prebid Renderer event for id ".concat(t," type ").concat(n))},$t.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){Ie("Error processing Renderer command: ",e)}};var nn=n(1432),rn=n.n(nn),on=rn()({ready:rn().SYNC|rn().ASYNC|rn().QUEUE}),an=Y();on.ready=function(){var e=on.ready;return function(){try{return e.apply(on,arguments)}finally{an.resolve()}}}();an.promise;var sn=on.get;var cn={};function un(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function dn(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}var ln=new WeakSet,fn=function(){function e(t,n){q(this,e),un(this,ln),this.getSettings=t,this.defaultScope=n}return N(e,[{key:"get",value:function(e,t){var n=this.getOwn(e,t);return void 0===n&&(n=this.getOwn(null,t)),n}},{key:"getOwn",value:function(e,t){return e=dn(this,ln,pn).call(this,e),I(this.getSettings(),"".concat(e,".").concat(t))}},{key:"getScopes",value:function(){var e=this;return Object.keys(this.getSettings()).filter((function(t){return t!==e.defaultScope}))}},{key:"settingsFor",value:function(e){return kt({},this.ownSettingsFor(null),this.ownSettingsFor(e))}},{key:"ownSettingsFor",value:function(e){return e=dn(this,ln,pn).call(this,e),this.getSettings()[e]||{}}}]),e}();function pn(e){return null==e?this.defaultScope:e}var gn=new fn((function(){return d().bidderSettings||{}}),E.k2.zF),mn="bidder",vn="html5",hn="cookie",bn=[];function yn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.moduleName,n=e.moduleType,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.bidderSettings,o=void 0===i?gn:i;function a(e){if(n!==mn)return!0;var r=o.get(t,"storageAllowed");return r&&!0!==r?Array.isArray(r)?r.some((function(t){return t===e})):r===e:!!r}function s(e,r){if(a(r)){var i;return wn(n,t,{hasEnforcementHook:!1},(function(t){if(t&&t.hasEnforcementHook)i=e(t);else{var n={hasEnforcementHook:!1,valid:dt()};i=e(n)}})),i}Te("bidderSettings denied access to device storage for bidder '".concat(t,"'"));return e({valid:!1})}function c(e,t,n){if(!n||"function"!=typeof n)return s(e,t);bn.push((function(){var r=s(e,t);n(r)}))}var u=function(e,t,n,r,i,o){return c((function(o){if(o&&o.valid){var a=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=n&&""!==n?" ;expires=".concat(n):"",c=null!=r&&"none"==r.toLowerCase()?"; Secure":"";document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(a).concat(r?"; SameSite=".concat(r):"").concat(c)}}),hn,o)},d=function(e,t){return c((function(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null}),hn,t)},l=function(e){return c((function(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(t){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(t){}}return!1}),vn,e)},f=function(e){return c((function(e){return!(!e||!e.valid)&&lt()}),hn,e)},p=function(e,t,n){return c((function(n){n&&n.valid&&v()&&window.localStorage.setItem(e,t)}),vn,n)},g=function(e,t){return c((function(t){return t&&t.valid&&v()?window.localStorage.getItem(e):null}),vn,t)},m=function(e,t){return c((function(t){t&&t.valid&&v()&&window.localStorage.removeItem(e)}),vn,t)},v=function(e){return c((function(e){if(e&&e.valid)try{return!!window.localStorage}catch(t){Ie("Local storage api disabled")}return!1}),vn,e)},h=function(e,t){return c((function(t){if(t&&t.valid){var n=[];if(dt())for(var r=document.cookie.split(";");r.length;){var i=r.pop(),o=i.indexOf("=");o=o<0?i.length:o,decodeURIComponent(i.slice(0,o).replace(/^\s+/,"")).indexOf(e)>=0&&n.push(decodeURIComponent(i.slice(o+1)))}return n}}),hn,t)};return{setCookie:u,getCookie:d,localStorageIsEnabled:l,cookiesAreEnabled:f,setDataInLocalStorage:p,getDataFromLocalStorage:g,removeDataFromLocalStorage:m,hasLocalStorage:v,findSimilarCookies:h}}var wn=on("async",(function(e,t,n,r){r(n)}),"validateStorageEnforcement");function On(e){return yn({moduleName:e,moduleType:"core"})}U.setDefaults({userSync:ot({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var Tn=On("usersync");var Cn=function(e){var t={},n={image:[],iframe:[]},r=new Set,o={},a={image:!0,iframe:!1},s=e.config;function c(){if(s.syncEnabled&&e.browserSupportsCookies){try{!function(){if(!a.iframe)return;u(n.iframe,(function(e){var t=i(e,2),r=t[0],o=t[1];Oe("Invoking iframe user sync for bidder: ".concat(r)),Ke(o),function(e,t){e.image=e.image.filter((function(e){return e[0]!==t}))}(n,r)}))}(),function(){if(!a.image)return;u(n.image,(function(e){var t=i(e,2),n=t[0],r=t[1];Oe("Invoking image pixel user sync for bidder: ".concat(n)),Ge(r)}))}()}catch(t){return Ie("Error firing user syncs",t)}n={image:[],iframe:[]}}}function u(e,t){rt(e).forEach(t)}function d(e,t){var n=s.filterSettings;if(function(e,t){if(e.all&&e[t])return Ce('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],r=e.all?"all":t;if(!n)return!1;var i=n.filter,o=n.bidders;if(i&&"include"!==i&&"exclude"!==i)return Ce('UserSync "filterSettings.'.concat(r,".filter\" setting '").concat(i,"' is not a valid option; use either 'include' or 'exclude'.")),!1;if("*"!==o&&!(Array.isArray(o)&&o.length>0&&o.every((function(e){return Be(e)&&"*"!==e}))))return Ce('Detected an invalid setup in userSync "filterSettings.'.concat(r,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1;return!0}(n,e)){a[e]=!0;var r=n.all?n.all:n[e],i="*"===r.bidders?[t]:r.bidders,o={include:function(e,t){return!p(e,t)},exclude:function(e,t){return p(e,t)}};return o[r.filter||"include"](i,t)}return!a[e]}return U.getConfig("userSync",(function(e){if(e.userSync){var t=e.userSync.filterSettings;Pe(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))}s=Object.assign(s,e.userSync)})),t.registerSync=function(e,i,a){return r.has(i)?Oe('already fired syncs for "'.concat(i,'", ignoring registerSync call')):s.syncEnabled&&Re(n[e])?i?0!==s.syncsPerBidder&&Number(o[i])>=s.syncsPerBidder?Ce('Number of user syncs exceeded for "'.concat(i,'"')):t.canBidderRegisterSync(e,i)?(n[e].push([i,a]),void(o=function(e,t){return e[t]?e[t]+=1:e[t]=1,e}(o,i))):Ce('Bidder "'.concat(i,'" not permitted to register their "').concat(e,'" userSync pixels.')):Ce("Bidder is required for registering sync"):Ce('User sync type "'.concat(e,'" not supported'))},t.bidderDone=r.add.bind(r),t.syncUsers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(c,Number(e));c()},t.triggerUserSyncs=function(){s.enableOverride&&t.syncUsers()},t.canBidderRegisterSync=function(e,t){return!s.filterSettings||!d(e,t)},t}(Object.defineProperties({config:U.getConfig("userSync")},{browserSupportsCookies:{get:function(){return!/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)&&Tn.cookiesAreEnabled()}}})),In="outstream";function En(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?Di.index:n,i=I(r.getMediaTypes(e),"video"),o=i&&I(i,"context"),a=i&&I(i,"useCacheKey"),s=r.getAdUnit(e);return An(e,s,i,o,a)}var An=on("sync",(function(e,t,n,r,i){return n&&(i||r!==In)?U.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Ie('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):!(r===In&&!i)||!!(e.renderer||t&&t.renderer||n.renderer)}),"checkVideoBidSetup"),kn="native",Sn="video",jn="banner",xn="adpod",Bn=[];function Rn(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}}function Un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,i=void 0!==r&&r,o=e.activeLabels,a=void 0===o?[]:o,s=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Bn,d=Pn(u);Pe(s)||(s=c?{banner:{sizes:c}}:{});var l=I(s,"banner.sizes");d.shouldFilter&&l&&((s=ot(s)).banner.sizes=l.filter((function(e){return d.sizesSupported[e]})));var f={active:!s.hasOwnProperty(jn)||I(s,"banner.sizes.length")>0&&(0===n.length||!i&&(n.some((function(e){return d.labels[e]}))||n.some((function(e){return p(a,e)})))||i&&n.reduce((function(e,t){return e?d.labels[t]||p(a,t):e}),!0)),mediaTypes:s};return l&&l.length!==s.banner.sizes.length&&(f.filterResults={before:l,after:s.banner.sizes}),f}function Pn(e){return e.reduce((function(e,t){if("object"===o(t)&&"string"==typeof t.mediaQuery&&t.mediaQuery.length>0){var n=!1;try{n=be().matchMedia(t.mediaQuery).matches}catch(r){Ce("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(n){return(t[n]||[]).forEach((function(t){return e[n][t]=!0}))})))}else Ce('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}function qn(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.src,r=void 0===n?"client":n,i=t.bidder,o=void 0===i?"":i,a=t.bidId,s=t.transactionId,c=t.auctionId,u=r,d=e||0;function l(){switch(d){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}this.bidderCode=o,this.width=0,this.height=0,this.statusMessage=l(),this.adId=le(),this.requestId=a,this.transactionId=s,this.auctionId=c,this.mediaType="banner",this.source=u,this.getStatusCode=function(){return d},this.getSize=function(){return this.width+"x"+this.height},this.getIdentifiers=function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function Nn(e,t){return new Dn(e,t)}function Mn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zn(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}U.getConfig("sizeConfig",(function(e){return function(e){Bn=e}(e.sizeConfig)}));var Fn="performanceMetrics",Wn=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return Date.now()},Ln=new WeakMap;function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.now,n=void 0===t?Wn:t,r=e.mkNode,i=void 0===r?Kn:r,o=e.mkTimer,a=void 0===o?Vn:o,s=e.mkRenamer,c=void 0===s?function(e){return e}:s,u=e.nodes,d=void 0===u?Ln:u;return function(){return function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return{forEach:function(t){t(e)}}};function o(e){return function(n){return t.dfWalk({visit:function(t,r){var i=r[e];if(i.hasOwnProperty(n))return i[n]}})}}r=c(r);var s=o("timestamps");function u(e,n){var i=r(e);t.dfWalk({follow:function(e,t){return t.propagate&&(!e||!e.stopPropagation)},visit:function(e,t){i.forEach((function(r){null==e?t.metrics[r]=n:(t.groups.hasOwnProperty(r)||(t.groups[r]=[]),t.groups[r].push(n))}))}})}function l(e){t.timestamps[e]=n()}function f(e,t){var r=s(e),i=null!=r?n()-r:null;return null!=t&&u(t,i),i}function p(e,t,n){var r=s(e),i=s(t),o=null!=r&&null!=i?i-r:null;return null!=n&&u(n,o),o}function g(e){return a(n,(function(t){return u(e,t)}))}function m(e,t){return g(e).stopAfter(t)()}function v(e,t,n){var r=g(e);return n(function(e){var t=r.stopBefore(e);return t.bail=e.bail&&r.stopBefore(e.bail),t.stopTiming=r,t.untimed=e,t}(t))}function h(){var e={};return t.dfWalk({visit:function(t,n){e=Object.assign({},!t||t.includeGroups?n.groups:null,n.metrics,e)}}),e}function b(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.propagate,a=void 0===o||o,s=n.stopPropagation,c=void 0!==s&&s,u=n.includeGroups,d=void 0!==u&&u;return e(i([[t,{propagate:a,stopPropagation:c,includeGroups:d}]]),r)}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.propagate,i=void 0===r||r,o=n.stopPropagation,a=void 0!==o&&o,s=n.includeGroups,c=void 0!==s&&s,u=d.get(e);null!=u&&u.addParent(t,{propagate:i,stopPropagation:a,includeGroups:c})}function w(n){return e(t,n)}function O(){return e(t.newSibling(),r)}var T={startTiming:g,measureTime:m,measureHookTime:v,checkpoint:l,timeSince:f,timeBetween:p,setMetric:u,getMetrics:h,fork:b,join:y,newMetrics:O,renameWith:w,toJSON:function(){return h()}};return d.set(T,t),T}(i([]))}}function Hn(e,t,n){return function(){t&&t();try{return e.apply(this,arguments)}finally{n&&n()}}}function Vn(e,t){var n=e(),r=!1;function i(){r||(t(e()-n),r=!0)}return i.stopBefore=function(e){return Hn(e,i)},i.stopAfter=function(e){return Hn(e,null,i)},i}function Kn(e){return{metrics:{},timestamps:{},groups:{},addParent:function(t,n){e.push([t,n])},newSibling:function(){return Kn(e.slice())},dfWalk:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.visit,o=n.follow,a=void 0===o?function(){return!0}:o,s=n.visited,c=void 0===s?new Set:s,u=n.inEdge;if(!c.has(this)){if(c.add(this),null!=(t=r(u,this)))return t;var d,l=Mn(e);try{for(l.s();!(d=l.n()).done;){var f=i(d.value,2),p=f[0],g=f[1];if(a(u,g)&&null!=(t=p.dfWalk({visit:r,follow:a,visited:c,inEdge:g})))return t}}catch(m){l.e(m)}finally{l.f()}}}}}var Jn=function(){var e=function(){},t=function(){return{}},n={forEach:e},r=function(){return null};r.stopBefore=function(e){return e},r.stopAfter=function(e){return e};var i=Object.defineProperties({dfWalk:e,newSibling:function(){return i},addParent:e},Object.fromEntries(["metrics","timestamps","groups"].map((function(e){return[e,{get:t}]}))));return Gn({now:function(){return 0},mkNode:function(){return i},mkRenamer:function(){return function(){return n}},mkTimer:function(){return r},nodes:{get:e,set:e}})()}(),Qn=!0;function Yn(e){return Qn&&e||Jn}U.getConfig(Fn,(function(e){Qn=!!e[Fn]}));var Xn,$n=(Xn=Gn(),function(){return Qn?Xn():Jn});function Zn(e,t){return function(n,r){return function(i){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var c=this;return Yn(t.apply(c,a)).measureHookTime(e+n,i,(function(e){return r.call.apply(r,[c,e].concat(a))}))}}}Zn("requestBids.",(function(e){return e.metrics})),Zn("addBidResponse.",(function(e,t){return t.metrics}));var er=On("bidderFactory"),tr=["cpm","ttl","creativeId","netRevenue","currency"];function nr(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=rr(e);ci.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,i,o=t;Pe(t)&&(o=t.code,r=t.gvlid,i=t.skipPbsAliasing),ci.aliasRegistry[o]=e.code,n(Object.assign({},e,{code:o,gvlid:r,skipPbsAliasing:i}))}))}function rr(e){return Object.assign(new qn(e.code),{getSpec:function(){return Object.freeze(Object.assign({},e))},registerSyncs:t,callBids:function(r,i,o,a,s,c){if(Array.isArray(r.bids)){var u={},d=[],l=cr(r).measureTime("validate",(function(){return r.bids.filter(n)}));if(0!==l.length){var f={};l.forEach((function(e){f[e.bidId]=e,e.adUnitCode||(e.adUnitCode=e.placementCode)})),ir(e,l,r,a,c,{onRequest:function(e){return Ft(E.FP.BEFORE_BIDDER_HTTP,r,e)},onResponse:function(t){s(e.code),d.push(t)},onFledgeAuctionConfigs:function(e){e.forEach((function(e){var t=f[e.bidId];t?ar(t.adUnitCode,e.config):Ce("Received fledge auction configuration for an unknown bidId",e)}))},onError:function(t,n){s(e.code),ci.callBidderError(e.code,n,r),Ft(E.FP.BIDDER_ERROR,{error:n,bidderRequest:r}),Ie("Server call for ".concat(e.code," failed: ").concat(t," ").concat(n.status,". Continuing without bids."))},onBid:function(t){var n=f[t.requestId];if(n){if(t.adapterCode=n.bidder,function(e,t){var n=gn.get(t,"allowAlternateBidderCodes")||!1,r=gn.get(t,"allowedAlternateBidderCodes");if(e&&t&&t!==e&&(r=Re(r)?r.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(Qe):r,!n||Re(r)&&"*"!==r[0]&&!r.includes(e)))return!0;return!1}(t.bidderCode,n.bidder))return Ce("".concat(t.bidderCode," is not a registered partner or known bidder of ").concat(n.bidder,", hence continuing without bid. If you wish to support this bidder, please mark allowAlternateBidderCodes as true in bidderSettings.")),void i.reject(n.adUnitCode,t,E.Gw.Dg);t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||Object.assign({},t[n.bidder]);var r=Object.assign(Nn(E.Q_.Q,n),t);g(n.adUnitCode,r)}else Ce("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring.")),i.reject(null,t,E.Gw.Gp)},onCompletion:m})}else m()}function g(e,t){var n=Yn(t.metrics);n.checkpoint("addBidResponse"),u[e]=!0,n.measureTime("addBidResponse.validate",(function(){return function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?Di.index:n;function i(){var e=Object.keys(t);return tr.every((function(n){return p(e,n)&&!p([void 0,null],t[n])}))}function o(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}if(!e)return Ce("No adUnitCode was supplied to addBidResponse."),!1;if(!t)return Ce("Some adapter tried to add an undefined bid for ".concat(e,".")),!1;if(!i())return Ie(o("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1;if("native"===t.mediaType&&!ro(t,{index:r}))return Ie(o("Native bid missing some required properties.")),!1;if("video"===t.mediaType&&!En(t,{index:r}))return Ie(o("Video bid does not have required vastUrl or renderer property")),!1;if("banner"===t.mediaType&&!sr(e,t,{index:r}))return Ie(o("Banner bids require a width and height")),!1;return!0}(e,t)}))?i(e,t):i.reject(e,t,E.Gw.UI)}function m(){o(),U.runWithBidder(e.code,(function(){Ft(E.FP.BIDDER_DONE,r),t(d,r.gdprConsent,r.uspConsent,r.gppConsent)}))}}});function t(t,n,r,i){or(e,t,n,r,i)}function n(t){return!!e.isBidRequestValid(t)||(Ce("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var ir=on("sync",(function(e,t,n,r,i,a){var s=a.onRequest,c=a.onResponse,u=a.onFledgeAuctionConfigs,d=a.onError,l=a.onBid,f=a.onCompletion,p=cr(n);f=p.startTiming("total").stopBefore(f);var g=p.measureTime("buildRequests",(function(){return e.buildRequests(t,n)}));if(g&&0!==g.length){Array.isArray(g)||(g=[g]);var m=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}}(f,g.length);g.forEach((function(t){var n=p.fork();function a(e){null!=e&&(e.metrics=n.fork().renameWith()),l(e)}var f=i((function(r,i){v();try{r=JSON.parse(r)}catch(s){}r={body:r,headers:{get:i.getResponseHeader.bind(i)}},c(r);try{r=n.measureTime("interpretResponse",(function(){return e.interpretResponse(r,t)}))}catch(d){return Ie("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,d),void m()}var o;r&&Re(r.fledgeAuctionConfigs)?(u(r.fledgeAuctionConfigs),o=r.bids):o=r,o&&(Re(o)?o.forEach(a):a(o)),m()})),g=i((function(e,t){v(),d(e,t),m()}));s(t);var v=n.startTiming("net");switch(t.method){case"GET":r("".concat(t.url).concat(function(e){if(e)return"?".concat("object"===o(e)?function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")}(e):e);return""}(t.data)),{success:f,error:g},void 0,Object.assign({method:"GET",withCredentials:!0},t.options));break;case"POST":r(t.url,{success:f,error:g},"string"==typeof t.data?t.data:JSON.stringify(t.data),Object.assign({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Ce("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),m()}}))}else f()}),"processBidderRequests"),or=on("async",(function(e,t,n,r,i){var o=U.getConfig("userSync.aliasSyncEnabled");if(e.getUserSyncs&&(o||!ci.aliasRegistry[e.code])){var a=U.getConfig("userSync.filterSettings"),s=e.getUserSyncs({iframeEnabled:!(!a||!a.iframe&&!a.all),pixelEnabled:!(!a||!a.image&&!a.all)},t,n,r,i);s&&(Array.isArray(s)||(s=[s]),s.forEach((function(t){Cn.registerSync(t.type,e.code,t.url)})),Cn.bidderDone(e.code))}}),"registerSyncs"),ar=on("sync",(function(e,t){}),"addComponentAuction");function sr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,o=void 0===r?Di.index:r;if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),!0;var a=o.getBidRequest(t),s=o.getMediaTypes(t),c=a&&a.sizes||s&&s.banner&&s.banner.sizes,u=me(c);if(1===u.length){var d=u[0].split("x"),l=i(d,2),f=l[0],p=l[1];return t.width=parseInt(f,10),t.height=parseInt(p,10),!0}return!1}function cr(e){return Yn(e.metrics).renameWith((function(t){return["adapter.client.".concat(t),"adapters.client.".concat(e.bidderCode,".").concat(t)]}))}sn("checkAdUnitSetup").before((function(e,t){if(!U.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return I(e,"mediaTypes.video.context")===xn})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(Ye,[]).filter(Qe).forEach((function(e){var t=ci.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:1,i=n.localStorageKey?n.localStorageKey:t.getSpec().code,o=er.getDataFromLocalStorage(i);try{(!(o=o?JSON.parse(o):void 0)||ut()>o.lastUpdated+24*r*60*60*1e3)&&Wt(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:ut(),mapping:t.mapping};er.setDataInLocalStorage(i,JSON.stringify(n))}catch(r){Ie("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){Ie("Failed to load ".concat(e," bidder translation file"))}})}catch(a){Ie("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}));var ur={};function dr(e,t,n){var r=function(e,t){var n=ur[e]=ur[e]||{bidders:{}};return t?n.bidders[t]=n.bidders[t]||{}:n}(e,n);return r[t]=(r[t]||0)+1,r[t]}var lr={incrementRequestsCounter:function(e){return dr(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return dr(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return dr(e,"winsCounter",t)},getRequestsCounter:function(e){return I(ur,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return I(ur,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return I(ur,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}};function fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e)return e;if(/\w+:\/\//.exec(e))return e;var n=t.location.protocol;try{n=t.top.location.protocol}catch(r){}return/^\/\//.exec(e)?n+e:"".concat(n,"//").concat(e)}function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.noLeadingWww,r=void 0!==n&&n,i=t.noPort,o=void 0!==i&&i;try{e=new URL(fr(e))}catch(a){return}return e=o?e.hostname:e.host,r&&e.startsWith("www.")&&(e=e.substring(4)),e}function gr(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(n){}return null}var mr,vr=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return i.top!==i?e:function(){var o=gr(i.document),a=i.location.href;return t===o&&a===n||(t=o,n=a,r=e()),r}}((mr=window,function(){var e,t,n,r,i=[],o=function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(t){}}(mr),a=U.getConfig("maxNestedIframes"),s=!1,c=0,u=!1,d=!1,l=!1;do{var f=e,p=d,g=void 0,m=!1,v=null;d=!1,e=e?e.parent:mr;try{g=e.location.href||null}catch(C){m=!0}if(m)if(p){var h=f.context;try{t=v=h.sourceUrl,l=!0,u=!0,e===mr.top&&(s=!0),h.canonicalUrl&&(n=h.canonicalUrl)}catch(C){}}else{Ce("Trying to access cross domain iframe. Continuing without referrer and location");try{var b=f.document.referrer;b&&(v=b,e===mr.top&&(s=!0))}catch(C){}!v&&o&&o[c-1]&&(v=o[c-1],e===mr.top&&(l=!0)),v&&!u&&(t=v)}else{if(g&&(t=v=g,u=!1,e===mr.top)){s=!0;var y=gr(e.document);y&&(n=y)}e.context&&e.context.sourceUrl&&(d=!0)}i.push(v),c++}while(e!==mr.top&&c<a);i.reverse();try{r=mr.top.document.referrer}catch(C){}var w=s||l?t:null,O=U.getConfig("pageUrl")||n||null,T=U.getConfig("pageUrl")||w||fr(O,mr);return w&&w.indexOf("?")>-1&&-1===T.indexOf("?")&&(T="".concat(T).concat(w.substring(w.indexOf("?")))),{reachedTop:s,isAmp:u,numIframes:c-1,stack:i,topmostLocation:t||null,location:w,canonicalUrl:O,page:T,domain:pr(T)||null,ref:r||null,legacy:{reachedTop:s,isAmp:u,numIframes:c-1,stack:i,referer:t||null,canonicalUrl:O}}}));function hr(e,t){return hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hr(e,t)}function br(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hr(e,t)}function yr(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wr(e)}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wr(e);if(t){var i=wr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yr(this,n)}}function Tr(e,t,n){Cr(e,t),t.set(e,n)}function Cr(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ir(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}Object.freeze({});var Er=new WeakMap,Ar=new WeakMap,kr=new WeakMap,Sr=new WeakMap,jr=new WeakSet,xr=function(){function e(){var t,n;q(this,e),Cr(t=this,n=jr),n.add(t),Tr(this,Er,{writable:!0,value:void 0}),Tr(this,Ar,{writable:!0,value:void 0}),Tr(this,kr,{writable:!0,value:void 0}),Tr(this,Sr,{writable:!0,value:void 0}),s(this,"generatedTime",void 0),this.reset()}return N(e,[{key:"reset",value:function(){F(this,kr,Y()),F(this,Er,!1),F(this,Ar,null),F(this,Sr,!1),this.generatedTime=null}},{key:"enable",value:function(){F(this,Er,!0)}},{key:"enabled",get:function(){return z(this,Er)}},{key:"ready",get:function(){return z(this,Sr)}},{key:"promise",get:function(){return z(this,Sr)?J.resolve(z(this,Ar)):(z(this,Er)||Ir(this,jr,Br).call(this,null),z(this,kr).promise)}},{key:"setConsentData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut();this.generatedTime=t,Ir(this,jr,Br).call(this,e)}},{key:"getConsentData",value:function(){return z(this,Ar)}}]),e}();function Br(e){F(this,Sr,!0),F(this,Ar,e),z(this,kr).resolve(e)}var Rr=function(e){br(n,e);var t=Or(n);function n(){return q(this,n),t.apply(this,arguments)}return N(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&this.generatedTime)return{usp:e,generatedAt:this.generatedTime}}}]),n}(xr),Ur=function(e){br(n,e);var t=Or(n);function n(){return q(this,n),t.apply(this,arguments)}return N(n,[{key:"getConsentMeta",value:function(){var e=this.getConsentData();if(e&&e.vendorData&&this.generatedTime)return{gdprApplies:e.gdprApplies,consentStringSize:Be(e.vendorData.tcString)?e.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:e.apiVersion}}}]),n}(xr),Pr=function(e){br(n,e);var t=Or(n);function n(){return q(this,n),t.apply(this,arguments)}return N(n,[{key:"getConsentMeta",value:function(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}]),n}(xr);var _r,qr,Dr,Nr=(_r={},qr={},Dr={},{register:function(e,t,n){n&&((_r[t]=_r[t]||{})[e]=n,qr.hasOwnProperty(t)?qr[t]!==n&&(qr[t]=Dr):qr[t]=n)},get:function(e){var t={modules:_r[e]||{}};return qr.hasOwnProperty(e)&&qr[e]!==Dr&&(t.gvlid=qr[e]),t}});function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fr="client",Wr="server",Lr={},Gr=Lr.bidderRegistry={},Hr=Lr.aliasRegistry={},Vr=[];U.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(Vr=Re(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var Kr={};var Jr=on("sync",(function(e){var t=e.bidderCode,n=e.auctionId,r=e.bidderRequestId,i=e.adUnits,o=e.src,a=e.metrics;return i.reduce((function(e,i){var s=i.bids.filter((function(e){return e.bidder===t}));return null==t&&0===s.length&&null!=i.s2sBid&&s.push({bidder:null}),e.push(s.reduce((function(e,t){var s=null==(t=Object.assign({},t,{ortb2Imp:kt({},i.ortb2Imp,t.ortb2Imp)},pt(i,["nativeParams","nativeOrtbRequest","mediaType","renderer"]))).mediaTypes?i.mediaTypes:t.mediaTypes;return!function(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return p(t,e)}))&&(!e.video||!e.video.context||p(["instream","outstream","adpod"],e.video.context))}(s)?Ie("mediaTypes is not correctly configured for adunit ".concat(i.code)):t=Object.assign({},t,{mediaTypes:s}),e.push(Object.assign({},t,{adUnitCode:i.code,transactionId:i.transactionId,sizes:I(s,"banner.sizes")||I(s,"video.playerSize")||[],bidId:t.bid_id||le(),bidderRequestId:r,auctionId:n,src:o,metrics:a,bidRequestsCount:lr.getRequestsCounter(i.code),bidderRequestsCount:lr.getBidderRequestsCounter(i.code,t.bidder),bidderWinsCount:lr.getBidderWinsCounter(i.code,t.bidder)})),e}),[])),e}),[]).reduce(Ye,[]).filter((function(e){return""!==e}))}),"getBids");var Qr=on("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getS2SBidders,i=void 0===r?ni:r;if(null==t)return e;var o=i(t);return e.filter((function(e){return o.has(e.bidder)}))}),"filterBidsForAdUnit");function Yr(e,t){var n=ot(e),r=!1;return n.forEach((function(e){var n=e.bids.filter((function(e){var n;return"pbsBidAdapter"===e.module&&(null===(n=e.params)||void 0===n?void 0:n.configName)===t.configName}));1===n.length?(e.s2sBid=n[0],r=!0,e.ortb2Imp=kt({},e.s2sBid.ortb2Imp,e.ortb2Imp)):n.length>1&&Ce('Multiple "module" bids for the same s2s configuration; all will be ignored',n),e.bids=Qr(e.bids,t).map((function(e){return e.bid_id=le(),e}))})),{adUnits:n=n.filter((function(e){return 0!==e.bids.length||null!=e.s2sBid})),hasModuleBids:r}}function Xr(e){var t=ot(e);return t.forEach((function(e){e.bids=Qr(e.bids,null)})),t=t.filter((function(e){return 0!==e.bids.length}))}var $r=new Ur,Zr=new Rr,ei=new Pr,ti=on("sync",(function(e,t){return function(e,t){return e.reduce((function(e,n){var r=Un(Rn(n,t),n.mediaTypes,n.sizes),i=r.active,o=r.mediaTypes,a=r.filterResults;return i?(a&&Te('Size mapping filtered adUnit "'.concat(n.code,'" banner sizes from '),a.before,"to ",a.after),n.mediaTypes=o,n.bids=n.bids.reduce((function(e,r){var i=Un(Rn(r,t),n.mediaTypes),o=i.active,a=i.mediaTypes,s=i.filterResults;return o?(s&&(Te('Size mapping filtered adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'" banner sizes from '),s.before,"to ",s.after),r.mediaTypes=a),e.push(r)):Te('Size mapping deactivated adUnit "'.concat(n.code,'" bidder "').concat(r.bidder,'"')),e}),[]),e.push(n)):Te('Size mapping disabled adUnit "'.concat(n.code,'"')),e}),[])}(e,t)}),"setupAdUnitMediaTypes");function ni(e){Re(e)||(e=[e]);var t=new Set([null]);return e.filter((function(e){return e&&e.enabled})).flatMap((function(e){return e.bidders})).forEach((function(e){return t.add(e)})),t}var ri=on("sync",(function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.getS2SBidders,o=void 0===i?ni:i,a=o(t);return $e(e).reduce((function(e,t){return e[a.has(t)?Wr:Fr].push(t),e}),(s(n={},Fr,[]),s(n,Wr,[]),n))}),"partitionBidders");function ii(e,t){var n=Gr[e],r=(null==n?void 0:n.getSpec)&&n.getSpec();if(r&&r[t]&&"function"==typeof r[t])return[r,r[t]]}function oi(e,t,n,r){try{Te("Invoking ".concat(e,".").concat(t));for(var i=arguments.length,o=new Array(i>4?i-4:0),a=4;a<i;a++)o[a-4]=arguments[a];U.runWithBidder(e,r.bind.apply(r,[n].concat(o)))}catch(s){Ce("Error calling ".concat(t," of ").concat(e))}}function ai(e,t,n){var r=ii(e,t);null!=r&&oi.apply(void 0,[e,t].concat(f(r),[n]))}function si(e){for(var t=new Set;Hr.hasOwnProperty(e)&&!t.has(e);)t.add(e),e=Hr[e];return e}Lr.makeBidRequests=on("sync",(function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6?arguments[6]:void 0;a=Yn(a),Ft(E.FP.BEFORE_REQUEST_BIDS,e),to(e),e=ti(e,i);var s=ri(e,Vr),c=s[Fr],u=s[Wr];U.getConfig("bidderSequence")===j&&(c=rt(c));var d=vr(),l=[],f=o.global||{},p=o.bidder||{};function m(e){var t=Object.freeze(kt({},f,p[e.bidderCode]));return e.ortb2=t,e.bids.forEach((function(e){return e.ortb2=t})),e}Vr.forEach((function(r){if(r&&r.enabled){var i=Yr(e,r),o=i.adUnits,s=i.hasModuleBids,c=fe();(0===u.length&&s?[null]:u).forEach((function(e){var i=le(),s=a.fork(),u=m({bidderCode:e,auctionId:n,bidderRequestId:i,uniquePbsTid:c,bids:Jr({bidderCode:e,auctionId:n,bidderRequestId:i,adUnits:ot(o),src:E.os.YZ,metrics:s}),auctionStart:t,timeout:r.timeout,src:E.os.YZ,refererInfo:d,metrics:s});0!==u.bids.length&&l.push(u)})),o.forEach((function(e){var t=e.bids.filter((function(e){return g(l,(function(t){return g(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),l.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=o.filter((function(e){return e.bids.length>0||null!=e.s2sBid})))}))}}));var v=Xr(e);return c.forEach((function(e){var o=le(),s=a.fork(),c=m({bidderCode:e,auctionId:n,bidderRequestId:o,bids:Jr({bidderCode:e,auctionId:n,bidderRequestId:o,adUnits:ot(v),labels:i,src:"client",metrics:s}),auctionStart:t,timeout:r,refererInfo:d,metrics:s}),u=Gr[e];u||Ie("Trying to make a request for bidder that does not exist: ".concat(e)),u&&c.bids&&0!==c.bids.length&&l.push(c)})),l.forEach((function(e){$r.getConsentData()&&(e.gdprConsent=$r.getConsentData()),Zr.getConsentData()&&(e.uspConsent=Zr.getConsentData()),ei.getConsentData()&&(e.gppConsent=ei.getConsentData())})),l}),"makeBidRequests"),Lr.callBids=function(e,t,n,r,o,a,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};if(t.length){var u=t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===E.os.YZ)].push(t),e}),[[],[]]),d=i(u,2),l=d[0],f=d[1],p=[];f.forEach((function(e){for(var t=-1,n=0;n<p.length;++n)if(e.uniquePbsTid===p[n].uniquePbsTid){t=n;break}t<=-1&&p.push(e)}));var g=0;Vr.forEach((function(e){if(e&&p[g]&&ni(e).has(p[g].bidderCode)){var t=Lt(a,o?{request:o.request.bind(null,"s2s"),done:o.done}:void 0),i=e.bidders,s=Gr[e.adapter],u=p[g].uniquePbsTid,d=p[g].adUnitsS2SCopy,l=f.filter((function(e){return e.uniquePbsTid===u}));if(s){var m={ad_units:d,s2sConfig:e,ortb2Fragments:c};if(m.ad_units.length){var v=l.map((function(e){return e.start=ut(),r.bind(e)})),h=$e(m.ad_units).filter((function(e){return i.includes(e)}));Oe("CALLING S2S HEADER BIDDERS ==== ".concat(h.length>0?h.join(", "):'No bidder specified, using "ortb2Imp" definition(s) only')),l.forEach((function(e){Ft(E.FP.BID_REQUESTED,zr(zr({},e),{},{tid:e.auctionId}))})),s.callBids(m,f,n,(function(){return v.forEach((function(e){return e()}))}),t)}}else Ie("missing "+e.adapter);g++}})),l.forEach((function(e){e.start=ut();var t=Gr[e.bidderCode];U.runWithBidder(e.bidderCode,(function(){Oe("CALLING BIDDER"),Ft(E.FP.BID_REQUESTED,e)}));var i=Lt(a,o?{request:o.request.bind(null,e.bidderCode),done:o.done}:void 0),c=r.bind(e);try{U.runWithBidder(e.bidderCode,ue.call(t.callBids,t,e,n,c,i,s,U.callbackWithBidder(e.bidderCode)))}catch(u){Ie("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:u,bidRequest:e}),c()}}))}else Ce("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},Lr.videoAdapters=[],Lr.registerBidAdapter=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.supportedMediaTypes,o=void 0===i?[]:i;e&&t?"function"==typeof e.callBids?(Gr[t]=e,Nr.register(mn,t,null===(n=e.getSpec)||void 0===n?void 0:n.call(e).gvlid),p(o,"video")&&Lr.videoAdapters.push(t),p(o,"native")&&Wi.push(t)):Ie("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):Ie("bidAdapter or bidderCode not specified")},Lr.aliasBidAdapter=function(e,t,n){if(void 0===Gr[t]){var r=Gr[e];if(void 0===r){var i=[];Vr.forEach((function(n){if(n.bidders&&n.bidders.length){var r=n&&n.bidders;n&&p(r,t)?Hr[t]=e:i.push(e)}})),i.forEach((function(e){Ie('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var o,a=function(e){var t=[];return p(Lr.videoAdapters,e)&&t.push("video"),p(Wi,e)&&t.push("native"),t}(e);if(r.constructor.prototype!=Object.prototype)(o=new r.constructor).setBidderCode(t);else{var s=r.getSpec(),c=n&&n.gvlid,u=n&&n.skipPbsAliasing;o=rr(Object.assign({},s,{code:t,gvlid:c,skipPbsAliasing:u})),Hr[t]=e}Lr.registerBidAdapter(o,t,{supportedMediaTypes:a})}catch(d){Ie(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else Oe('alias name "'+t+'" has been already specified.')},Lr.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,r=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,Kr[n]={adapter:t,gvlid:r},Nr.register("analytics",n,r)):Ie('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):Ie("Prebid Error: analyticsAdapter or analyticsCode not specified")},Lr.enableAnalytics=function(e){Re(e)||(e=[e]),Ne(e,(function(e){var t=Kr[e.provider];t&&t.adapter?t.adapter.enableAnalytics(e):Ie("Prebid Error: no analytics adapter found in registry for '".concat(e.provider,"'."))}))},Lr.getBidAdapter=function(e){return Gr[e]},Lr.getAnalyticsAdapter=function(e){return Kr[e]},Lr.callTimedOutBidders=function(e,t,n){t=ft(t=t.map((function(t){return t.params=gt(e,t.adUnitCode,t.bidder),t.timeout=n,t})),"bidder"),Object.keys(t).forEach((function(e){ai(e,"onTimeout",t[e])}))},Lr.callBidWonBidder=function(e,t,n){t.params=gt(n,t.adUnitCode,t.bidder),lr.incrementBidderWinsCounter(t.adUnitCode,t.bidder),ai(e,"onBidWon",t)},Lr.callSetTargetingBidder=function(e,t){ai(e,"onSetTargeting",t)},Lr.callBidViewableBidder=function(e,t){ai(e,"onBidViewable",t)},Lr.callBidderError=function(e,t,n){ai(e,"onBidderError",{error:t,bidderRequest:n})},Lr.callDataDeletionRequest=on("sync",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="onDataDeletionRequest";Object.keys(Gr).filter((function(e){return!Hr.hasOwnProperty(e)})).forEach((function(e){var n=ii(e,r);if(null!=n){var i=Di.getBidsRequested().filter((function(t){return si(t.bidderCode)===e}));oi.apply(void 0,[e,r].concat(f(n),[i],t))}})),Object.entries(Kr).forEach((function(e){var n,o=i(e,2),a=o[0],s=o[1],c=null==s||null===(n=s.adapter)||void 0===n?void 0:n[r];if("function"==typeof c)try{c.apply(s.adapter,t)}catch(u){Ie("error calling ".concat(r," of ").concat(a),u)}}))}));const ci=Lr;var ui=Cn.syncUsers,di="completed";Nt(E.FP.BID_ADJUSTMENT,(function(e){!function(e){var t=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.index,a=void 0===o?Di.index:o,s=i.bs,c=void 0===s?gn:s;n=n||a.getBidRequest(t);var u=c.get((null==t?void 0:t.bidderCode)||(null===(r=n)||void 0===r?void 0:r.bidder),"bidCpmAdjustment");if(u&&"function"==typeof u)try{return u(e,Object.assign({},t),n)}catch(d){Ie("Error during bid adjustment",d)}return e}(e.cpm,e);t>=0&&(e.cpm=t)}(e)}));var li={},fi={},pi=[],gi=d();function mi(e){var t=e.adUnits,n=e.adUnitCodes,r=e.callback,a=e.cbTimeout,s=e.labels,c=e.auctionId,u=e.ortb2Fragments,d=e.metrics;d=Yn(d);var l,f,g,m,v=t,h=s,b=n,y=c||fe(),w=a,O=new Set,T=[],C=r,I=[],A=[],k=[],S=[],j=[];function x(){return{auctionId:y,timestamp:l,auctionEnd:f,auctionStatus:m,adUnits:v,adUnitCodes:b,labels:h,bidderRequests:I,noBids:k,bidsReceived:A,bidsRejected:T,winningBids:S,timeout:w,metrics:d,seatNonBids:j}}function B(e,n){if(n&&clearTimeout(g),void 0===f){var r=[];e&&(Oe("Auction ".concat(y," timedOut")),i=O,(r=I.map((function(e){return(e.bids||[]).filter((function(e){return!i.has(e.bidder)}))})).reduce(Ye,[])).length&&Ft(E.FP.BID_TIMEOUT,r)),m=di,f=Date.now(),d.checkpoint("auctionEnd"),d.timeBetween("requestBids","auctionEnd","requestBids.total"),d.timeBetween("callBids","auctionEnd","requestBids.callBids"),Ft(E.FP.AUCTION_END,x()),bi(v,(function(){try{if(null!=C){var n=b,i=A.filter(ue.call(it,this,n)).reduce(_i,{});C.apply(gi,[i,e,y]),C=null}}catch(a){Ie("Error executing bidsBackHandler",null,a)}finally{r.length&&ci.callTimedOutBidders(t,r,w);var o=U.getConfig("userSync")||{};o.enableOverride||ui(o.syncDelay)}}))}var i}function R(){U.resetBidder(),Te("Bids Received for Auction with id: ".concat(y),A),m=di,B(!1,!0)}function P(e){O.add(e)}function _(e){var t=this;e.forEach((function(e){var t;t=e,I=I.concat(t)}));var n={},r={bidRequests:e,run:function(){var r,c;r=B.bind(null,!0),c=setTimeout(r,w),g=c,m="inProgress",Ft(E.FP.AUCTION_INIT,x());var d=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?Di.index:n,a=0,s=!1,c=new Set,u={},d={};function l(e,t){null==d[e]&&(d[e]=J.resolve()),d[e]=d[e].then((function(){return J.resolve(t).catch((function(){}))}))}function f(e,n){var r=e.timeout;(null==r||r>t.getTimeout())&&(r=t.getTimeout());var i=t.getAuctionStart()+r-Date.now(),o=d[e.bidderRequestId],a=d[""];(null!=o||null!=a)&&i>0?J.race([J.timeout(i),J.resolve(a).then((function(){return o}))]).then(n):n()}function g(){a--,s&&0===a&&e()}function m(e,t,n){return u[t.requestId]=!0,Si(t,e),a++,n(g)}function v(e,n){m(e,n,(function(e){var r=ji(n);r.mediaType===Sn?Oi(t,r,e):(null!=r.native&&"object"===o(r.native)&&Ii(r),wi(t,r),e())}))}function h(e,n,r){return m(e,n,(function(e){var o,a=Nn(E.Q_.H,null===(o=n.getIdentifiers)||void 0===o?void 0:o.call(n));return Object.assign(a,Object.fromEntries(Object.entries(n).filter((function(e){var t=i(e,1)[0];return!a.hasOwnProperty(t)&&!["ad","adUrl","vastXml","vastUrl","native"].includes(t)})))),a.status=E.UE.G9,a.cpm=0,n.rejectionReason=r,Ce("Bid from ".concat(n.bidder||"unknown bidder"," was rejected: ").concat(r),n),Ft(E.FP.BID_REJECTED,n),t.addBidRejected(n),e(),a}))}function b(){var n=this,r=t.getBidRequests(),i=U.getConfig("auctionOptions");if(c.add(n),i&&!qe(i)){var o=i.secondaryBidders;o&&!r.every((function(e){return p(o,e.bidderCode)}))&&(r=r.filter((function(e){return!p(o,e.bidderCode)})))}s=r.every((function(e){return c.has(e)})),n.bids.forEach((function(e){u[e.bidId]||(t.addNoBid(e),Ft(E.FP.NO_BID,e))})),s&&0===a&&e()}return{addBidResponse:function(){function e(e,t){var n,i=r.getBidderRequest(t);l(i&&i.bidderRequestId||"",vi.call({dispatch:v},e,t,(function(r){return null==n&&(n=h(e,t,r)),n})))}return e.reject=h,e}(),adapterDone:function(){f(this,b.bind(this))}}}(R,t);ci.callBids(v,e,d.addBidResponse,d.adapterDone,{request:function(e,t){s(li,t),s(n,e),fi[e]||(fi[e]={SRA:!0,origin:t}),n[e]>1&&(fi[e].SRA=!1)},done:function(e){li[e]--,pi[0]&&a(pi[0])&&pi.shift()}},w,P,u)}};function a(e){var t=!0,n=U.getConfig("maxRequestsPerOrigin")||4;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===E.os.YZ?"s2s":e.bidderCode;return fi[i]&&(!1===fi[i].SRA&&(r=Math.min(e.bids.length,n)),li[fi[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function s(e,t){void 0===e[t]?e[t]=1:e[t]++}a(r)||(Ce("queueing auction due to limited endpoint capacity"),pi.push(r))}return Nt(E.FP.SEAT_NON_BID,(function(e){var t;e.auctionId===y&&(t=e.seatnonbid,j=j.concat(t))})),{addBidReceived:function(e){A=A.concat(e)},addBidRejected:function(e){T=T.concat(e)},addNoBid:function(e){k=k.concat(e)},executeCallback:B,callBids:function(){m="started",l=Date.now();var e=d.measureTime("requestBids.makeRequests",(function(){return ci.makeBidRequests(v,l,y,w,h,u,d)}));Te("Bids Requested for Auction with id: ".concat(y),e),d.checkpoint("callBids"),e.length<1?(Ce("No valid bid requests returned for auction"),R()):hi.call({dispatch:_,context:this},e)},addWinningBid:function(e){S=S.concat(e),ci.callBidWonBidder(e.adapterCode||e.bidder,e,t)},setBidTargeting:function(e){ci.callSetTargetingBidder(e.adapterCode||e.bidder,e)},getWinningBids:function(){return S},getAuctionStart:function(){return l},getTimeout:function(){return w},getAuctionId:function(){return y},getAuctionStatus:function(){return m},getAdUnits:function(){return v},getAdUnitCodes:function(){return b},getBidRequests:function(){return I},getBidsReceived:function(){return A},getNoBids:function(){return k},getNonBids:function(){return j},getFPD:function(){return u},getMetrics:function(){return d}}}var vi=on("sync",(function(e,t,n){this.dispatch.call(null,e,t)}),"addBidResponse"),hi=on("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),bi=on("async",(function(e,t){t&&t()}),"bidsBackCallback");function yi(e,t){t.timeToRespond>e.getTimeout()+U.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function wi(e,t){!function(e){var t,n=!0===gn.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0;e.bidderCode&&(n||e.dealId)&&(t=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).index,r=void 0===n?Di.index:n;if(!t)return{};var i=r.getBidRequest(t),o={},a=Ui(t.mediaType,e);Pi(o,a,t,i),e&&gn.getOwn(e,E.k2.xn)&&(Pi(o,gn.ownSettingsFor(e),t,i),t.sendStandardTargeting=gn.get(e,"sendStandardTargeting"));t.native&&(o=Object.assign({},o,ao(t)));return o}(e.bidderCode,e));e.adserverTargeting=Object.assign(e.adserverTargeting||{},t)}(t),Yn(t.metrics).timeSince("addBidResponse","addBidResponse.total"),Ft(E.FP.BID_RESPONSE,t),e.addBidReceived(t),yi(e,t)}function Oi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.index,o=void 0===i?Di.index:i,a=!0,s=I(o.getMediaTypes({requestId:t.originalRequestId||t.requestId,transactionId:t.transactionId}),"video"),c=s&&I(s,"context"),u=s&&I(s,"useCacheKey");U.getConfig("cache.url")&&(u||c!==In)&&(!t.videoCacheKey||U.getConfig("cache.ignoreBidderCacheKey")?(a=!1,ki(e,t,n,s)):t.vastUrl||(Ie("videoCacheKey specified but not required vastUrl for video bid"),a=!1)),a&&(wi(e,t),n())}var Ti,Ci,Ii=function(e){var t,n,r=null===(t=Di.index.getAdUnit(e))||void 0===t?void 0:t.nativeOrtbRequest,i=null===(n=e.native)||void 0===n?void 0:n.ortb;if(r&&i){var o=function(e,t){var n={},r=(null==t?void 0:t.assets)||[];n.clickUrl=e.link.url,n.privacyLink=e.privacy;var i,o=Ni((null==e?void 0:e.assets)||[]);try{var a=function(){var e=i.value,t=r.find((function(t){return e.id===t.id}));e.title?n.title=e.title.text:e.img?n[t.img.type===Vi.MAIN?"image":"icon"]={url:e.img.url,width:e.img.w,height:e.img.h}:e.data&&(n[Yi[Xi[t.data.type]]]=e.data.value)};for(o.s();!(i=o.n()).done;)a()}catch(p){o.e(p)}finally{o.f()}n.impressionTrackers=[];var s,c=[];null!=t&&t.imptrackers&&(s=n.impressionTrackers).push.apply(s,f(t.imptrackers));var u,d=Ni((null==e?void 0:e.eventtrackers)||[]);try{for(d.s();!(u=d.n()).done;){var l=u.value;l.event===Zi&&l.method===$i.img&&n.impressionTrackers.push(l.url),l.event===Zi&&l.method===$i.js&&c.push(l.url)}}catch(p){d.e(p)}finally{d.f()}c=c.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),null!=e&&e.jstracker&&c.push(e.jstracker);c.length&&(n.javascriptTrackers=c.join("\n"));return n}(i,r);Object.assign(e.native,o)}},Ei=function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Lt,r={puts:e.map(Ht)};n(U.getConfig("cache.timeout"))(U.getConfig("cache.url"),Vt(t),JSON.stringify(r),{contentType:"text/plain",withCredentials:!0})}(e.map((function(e){return e.bidResponse})),(function(t,n){n.forEach((function(n,r){var i,o=e[r],a=o.auctionInstance,s=o.bidResponse,c=o.afterBidAdded;t?(Ce("Failed to save to the video cache: ".concat(t,". Video bid must be discarded.")),yi(a,s)):""===n.uuid?(Ce("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),yi(a,s)):(s.videoCacheKey=n.uuid,s.vastUrl||(s.vastUrl=(i=s.videoCacheKey,"".concat(U.getConfig("cache.url"),"?uuid=").concat(i))),wi(a,s),c())}))}))};U.getConfig("cache",(function(e){Ti="number"==typeof e.cache.batchSize&&e.cache.batchSize>0?e.cache.batchSize:1,Ci="number"==typeof e.cache.batchTimeout&&e.cache.batchTimeout>0?e.cache.batchTimeout:0}));var Ai=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:setTimeout,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ei,n=[[]],r=!1,i=function(e){return e()};return function(o,a,s){var c=Ci>0?e:i;n[n.length-1].length>=Ti&&n.push([]),n[n.length-1].push({auctionInstance:o,bidResponse:a,afterBidAdded:s}),r||(r=!0,c((function(){n.forEach(t),n=[[]],r=!1}),Ci))}}(),ki=on("async",(function(e,t,n,r){Ai(e,t,n)}),"callPrebidCache");function Si(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.index,i=void 0===r?Di.index:r,o=i.getBidderRequest(e),a=i.getAdUnit(e),s=o&&o.start||e.requestTimestamp;Object.assign(e,{responseTimestamp:e.responseTimestamp||ut(),requestTimestamp:e.requestTimestamp||s,cpm:parseFloat(e.cpm)||0,bidder:e.bidder||e.bidderCode,adUnitCode:t}),null!=(null==a?void 0:a.ttlBuffer)&&(e.ttlBuffer=a.ttlBuffer),e.timeToRespond=e.responseTimestamp-e.requestTimestamp}function ji(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.index,i=void 0===r?Di.index:r;Ft(E.FP.BID_ADJUSTMENT,e);var a=(null===(t=i.getBidRequest(e))||void 0===t?void 0:t.renderer)||i.getAdUnit(e).renderer,s=e.mediaType,c=i.getMediaTypes(e),u=c&&c[s],d=u&&u.renderer,l=null;d&&d.url&&d.render&&(!0!==d.backupOnly||!e.renderer)?l=d:a&&a.url&&a.render&&(!0!==a.backupOnly||!e.renderer)&&(l=a),l&&(e.renderer=$t.install({url:l.url,config:l.options}),e.renderer.setRender(l.render));var f=xi(e.mediaType,c,U.getConfig("mediaTypePriceGranularity")),p=w(e.cpm,"object"===o(f)?f:U.getConfig("customPriceBucket"),U.getConfig("currency.granularityMultiplier"));return e.pbLg=p.low,e.pbMg=p.med,e.pbHg=p.high,e.pbAg=p.auto,e.pbDg=p.dense,e.pbCg=p.custom,e}function xi(e,t,n){if(e&&n){if(e===Sn){var r=I(t,"".concat(Sn,".context"),"instream");if(n["".concat(Sn,"-").concat(r)])return n["".concat(Sn,"-").concat(r)]}return n[e]}}var Bi=function(e){return function(t){var n=e||function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).index,n=void 0===t?Di.index:t,r=xi(e.mediaType,n.getMediaTypes(e),U.getConfig("mediaTypePriceGranularity"));return"string"==typeof e.mediaType&&r?"string"==typeof r?r:"custom":U.getConfig("priceGranularity")}(t);return n===E.Ql.B7?t.pbAg:n===E.Ql.uN?t.pbDg:n===E.Ql.yE?t.pbLg:n===E.Ql.M2?t.pbMg:n===E.Ql.lj?t.pbHg:n===E.Ql.qN?t.pbCg:void 0}};function Ri(e,t){return{key:e,val:"function"==typeof t?function(e,n){return t(e,n)}:function(e){return Xe(e,t)}}}function Ui(e,t){var n=E.TD,r=Object.assign({},gn.settingsFor(null));if(r[E.k2.xn]||(r[E.k2.xn]=function(){var e=E.TD;return[Ri(e.BIDDER,"bidderCode"),Ri(e.AD_ID,"adId"),Ri(e.PRICE_BUCKET,Bi()),Ri(e.SIZE,"size"),Ri(e.DEAL,"dealId"),Ri(e.SOURCE,"source"),Ri(e.FORMAT,"mediaType"),Ri(e.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&e.meta.advertiserDomains.length>0?[e.meta.advertiserDomains].flat()[0]:""})),Ri(e.ACAT,(function(e){return e.meta&&e.meta.primaryCatId?e.meta.primaryCatId:""}))]}()),"video"===e){var i=r[E.k2.xn].slice();if(r[E.k2.xn]=i,[n.UUID,n.CACHE_ID].forEach((function(e){void 0===g(i,(function(t){return t.key===e}))&&i.push(Ri(e,"videoCacheKey"))})),U.getConfig("cache.url")&&(!t||!1!==gn.get(t,"sendStandardTargeting"))){var o=It(U.getConfig("cache.url"));void 0===g(i,(function(e){return e.key===n.CACHE_HOST}))&&i.push(Ri(n.CACHE_HOST,(function(e){return I(e,"adserverTargeting.".concat(n.CACHE_HOST))?e.adserverTargeting[n.CACHE_HOST]:o.hostname})))}}return r}function Pi(e,t,n,r){var i=t[E.k2.xn];return n.size=n.getSize(),Ne(i,(function(i){var o=i.key,a=i.val;if(e[o]&&Ce("The key: "+o+" is being overwritten"),xe(a))try{a=a(n,r)}catch(s){Ie("bidmanager","ERROR",s)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&o!==E.TD.DEAL&&o!==E.TD.ACAT||!De(a)&&null!=a?e[o]=a:Te("suppressing empty key '"+o+"' from adserver targeting")})),e}function _i(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}function qi(e){Object.assign(this,{getAuction:function(t){var n=t.auctionId;if(null!=n)return e().find((function(e){return e.getAuctionId()===n}))},getAdUnit:function(t){var n=t.transactionId;if(null!=n)return e().flatMap((function(e){return e.getAdUnits()})).find((function(e){return e.transactionId===n}))},getMediaTypes:function(e){var t=e.transactionId,n=e.requestId;if(null!=n){var r=this.getBidRequest({requestId:n});if(null!=r&&(null==t||r.transactionId===t))return r.mediaTypes}else if(null!=t){var i=this.getAdUnit({transactionId:t});if(null!=i)return i.mediaTypes}},getBidderRequest:function(t){var n=t.requestId,r=t.bidderRequestId;if(null!=n||null!=r){var i=e().flatMap((function(e){return e.getBidRequests()}));return null!=r&&(i=i.filter((function(e){return e.bidderRequestId===r}))),null==n?i[0]:i.find((function(e){return e.bids&&null!=e.bids.find((function(e){return e.bidId===n}))}))}},getBidRequest:function(t){var n=t.requestId;if(null!=n)return e().flatMap((function(e){return e.getBidRequests()})).flatMap((function(e){return e.bids})).find((function(e){return e&&e.bidId===n}))}})}var Di=function(){var e=[],t={};return t.addWinningBid=function(t){var n=Yn(t.metrics);n.checkpoint("bidWon"),n.timeBetween("auctionEnd","bidWon","render.pending"),n.timeBetween("requestBids","bidWon","render.e2e");var r=g(e,(function(e){return e.getAuctionId()===t.auctionId}));r?(t.status=E.UE.fe,r.addWinningBid(t)):Ce("Auction not found when adding winning bid")},t.getAllWinningBids=function(){return e.map((function(e){return e.getWinningBids()})).reduce(Ye,[])},t.getBidsRequested=function(){return e.map((function(e){return e.getBidRequests()})).reduce(Ye,[])},t.getNoBids=function(){return e.map((function(e){return e.getNoBids()})).reduce(Ye,[])},t.getBidsReceived=function(){return e.map((function(e){if(e.getAuctionStatus()===di)return e.getBidsReceived()})).reduce(Ye,[]).filter((function(e){return e}))},t.getAllBidsForAdUnitCode=function(t){return e.map((function(e){return e.getBidsReceived()})).reduce(Ye,[]).filter((function(e){return e&&e.adUnitCode===t}))},t.getAdUnits=function(){return e.map((function(e){return e.getAdUnits()})).reduce(Ye,[])},t.getAdUnitCodes=function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(Ye,[]).filter(Qe)},t.createAuction=function(t){var n=mi(t);return function(t){e.push(t)}(n),n},t.findBidByAdId=function(t){return g(e.map((function(e){return e.getBidsReceived()})).reduce(Ye,[]),(function(e){return e.adId===t}))},t.getStandardBidderAdServerTargeting=function(){return Ui()[E.k2.xn]},t.setStatusForBids=function(n,r){var i=t.findBidByAdId(n);if(i&&(i.status=r),i&&r===E.UE.CK){var o=g(e,(function(e){return e.getAuctionId()===i.auctionId}));o&&o.setBidTargeting(i)}},t.getLastAuctionId=function(){return e.length&&e[e.length-1].getAuctionId()},t.clearAllAuctions=function(){e.length=0},t.index=new qi((function(){return e})),t}();function Ni(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Mi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wi=[],Li=Object.keys(E.FY).map((function(e){return E.FY[e]})),Gi={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},Hi=E.s$,Vi=E.oF,Ki=E.V1,Ji=E.zA,Qi=E.FY,Yi=go(Ki),Xi=go(Hi),$i={img:1,js:2,1:"img",2:"js"},Zi=1;function eo(e){if(e&&e.type&&function(e){if(!e||!p(Object.keys(Gi),e))return Ie("".concat(e," nativeParam is not supported")),!1;return!0}(e.type)&&(e=Gi[e.type]),!e||!e.ortb||no(e.ortb))return e}function to(e){e.forEach((function(e){var t=e.nativeParams||I(e,"mediaTypes.native");t&&(e.nativeParams=eo(t)),e.nativeParams&&(e.nativeOrtbRequest=e.nativeParams.ortb||function(e){if(!e&&!Pe(e))return void Ie("Native assets object is empty or not an object: ",e);var t={ver:"1.2",assets:[]};for(var n in e)if(!Ji.includes(n))if(Qi.hasOwnProperty(n)){var r=e[n],i=0;r.required&&_e(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in Ki)o.data={type:Hi[Ki[n]]},r.len&&(o.data.len=r.len);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?Vi.ICON:Vi.MAIN},r.aspect_ratios)if(Re(r.aspect_ratios))if(r.aspect_ratios.length){var a=r.aspect_ratios[0],s=a.min_width,c=a.min_height;yt(s)&&yt(c)?(o.img.wmin=s,o.img.hmin=c):Ie("image.aspect_ratios min_width or min_height are invalid: ",s,c);var u=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else Ie("image.aspect_ratios was passed, but it's empty:",r.aspect_ratios);else Ie("image.aspect_ratios was passed, but it's not a an array:",r.aspect_ratios);r.sizes&&(2===r.sizes.length&&yt(r.sizes[0])&&yt(r.sizes[1])?(o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):Ie("image.sizes was passed, but its value is not an array of integers:",r.sizes))}else"title"===n?o.title={len:r.len||140}:"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else Ie("Unrecognized native asset code: ".concat(n,". Asset will be ignored."));return t}(e.nativeParams))}))}function no(e){var t=e.assets;if(!Array.isArray(t)||0===t.length)return Ie("assets in mediaTypes.native.ortb is not an array, or it's empty. Assets: ",t),!1;var n=t.map((function(e){return e.id}));return t.length!==new Set(n).size||n.some((function(e){return e!==parseInt(e,10)}))?(Ie("each asset object must have 'id' property, it must be unique and it must be an integer"),!1):e.hasOwnProperty("eventtrackers")&&!Array.isArray(e.eventtrackers)?(Ie("ortb.eventtrackers is not an array. Eventtrackers: ",e.eventtrackers),!1):t.every((function(e){return function(e){if(!Pe(e))return Ie("asset must be an object. Provided asset: ",e),!1;if(e.img){if(!Ue(e.img.w)&&!Ue(e.img.wmin))return Ie("for img asset there must be 'w' or 'wmin' property"),!1;if(!Ue(e.img.h)&&!Ue(e.img.hmin))return Ie("for img asset there must be 'h' or 'hmin' property"),!1}else if(e.title){if(!Ue(e.title.len))return Ie("for title asset there must be 'len' property defined"),!1}else if(e.data){if(!Ue(e.data.type))return Ie("for data asset 'type' property must be a number"),!1}else if(e.video&&!(Array.isArray(e.video.mimes)&&Array.isArray(e.video.protocols)&&Ue(e.video.minduration)&&Ue(e.video.maxduration)))return Ie("video asset is not properly configured"),!1;return!0}(e)}))}function ro(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.index,i=void 0===r?Di.index:r,o=i.getAdUnit(e);if(!o)return!1;var a=o.nativeOrtbRequest,s=(null===(t=e.native)||void 0===t?void 0:t.ortb)||po(e.native,a);return io(s,a)}function io(e,t){if(!I(e,"link.url"))return Ie("native response doesn't have 'link' property. Ortb response: ",e),!1;var n=t.assets.filter((function(e){return 1===e.required})).map((function(e){return e.id})),r=e.assets.map((function(e){return e.id})),i=n.every((function(e){return p(r,e)}));return i||Ie("didn't receive a bid with all required assets. Required ids: ".concat(n,", but received ids in response: ").concat(r)),i}function oo(e,t){var n=t.native.ortb||fo(t.native);return"click"===e.action?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).fetchURL,r=void 0===n?Ge:n;if(t){var i,o=(e.assets||[]).filter((function(e){return e.link})).reduce((function(e,t){return e[t.id]=t.link,e}),{}),a=(null===(i=e.link)||void 0===i?void 0:i.clicktrackers)||[],s=o[t],c=a;s&&(c=s.clicktrackers||[]),c.forEach((function(e){return r(e)}))}else{var u;((null===(u=e.link)||void 0===u?void 0:u.clicktrackers)||[]).forEach((function(e){return r(e)}))}}(n,null==e?void 0:e.assetId):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.runMarkup,r=void 0===n?function(e){return Ve(e)}:n,i=t.fetchURL,o=void 0===i?Ge:i,a=(e.eventtrackers||[]).filter((function(e){return e.event===Zi})).reduce((function(e,t){return $i.hasOwnProperty(t.method)&&e[$i[t.method]].push(t.url),e}),{img:[],js:[]}),s=a.img,c=a.js;e.imptrackers&&(s=s.concat(e.imptrackers));s.forEach((function(e){return o(e)})),c=c.map((function(e){return'<script async src="'.concat(e,'"><\/script>')})),e.jstracker&&(c=c.concat([e.jstracker]));c.length&&r(c.join("\n"))}(n),e.action}function ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index,r=void 0===n?Di.index:n,i={},o=r.getAdUnit(e);I(o,"nativeParams.rendererUrl")?e.native.rendererUrl=co(o.nativeParams.rendererUrl):I(o,"nativeParams.adTemplate")&&(e.native.adTemplate=co(o.nativeParams.adTemplate));var a=!1!==I(o,"nativeParams.sendTargetingKeys"),s=uo(o),c=Fi(Fi({},e.native),e.native.ext);return delete c.ext,Object.keys(c).forEach((function(t){var n=s[t],r=co(e.native[t])||co(I(e,"native.ext.".concat(t)));if("adTemplate"!==t&&n&&r){var c=I(o,"nativeParams.".concat(t,".sendId"));if("boolean"!=typeof c&&(c=I(o,"nativeParams.ext.".concat(t,".sendId"))),c)r="".concat(n,":").concat(e.adId);var u=I(o,"nativeParams.".concat(t,".sendTargetingKeys"));"boolean"!=typeof u&&(u=I(o,"nativeParams.ext.".concat(t,".sendTargetingKeys"))),("boolean"==typeof u?u:a)&&(i[n]=r)}})),i}function so(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.index,s=void 0===a?Di.index:a,c={message:"assetResponse",adId:e.adId},u=s.getAdUnit(t),d=t.native;return t.native.ortb?c.ortb=t.native.ortb:null!==(r=u.mediaTypes)&&void 0!==r&&null!==(i=r.native)&&void 0!==i&&i.ortb&&(c.ortb=po(t.native,u.nativeOrtbRequest)),c.assets=[],(null==n?Object.keys(d):n).forEach((function(e){if("adTemplate"===e&&d[e])c.adTemplate=co(d[e]);else if("rendererUrl"===e&&d[e])c.rendererUrl=co(d[e]);else if("ext"===e)Object.keys(d[e]).forEach((function(t){if(d[e][t]){var n=co(d[e][t]);c.assets.push({key:t,value:n})}}));else if(d[e]&&E.FY.hasOwnProperty(e)){var t=co(d[e]);c.assets.push({key:e,value:t})}})),c}function co(e){return(null==e?void 0:e.url)||e}function uo(e){var t={};return I(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),Fi(Fi({},E.FY),t)}function lo(e){if(no(e)){var t,n={},r=Ni(e.assets);try{var i=function(){var e=t.value;if(e.title){var r={required:!!e.required&&Boolean(e.required),len:e.title.len};n.title=r}else if(e.img){var i={required:!!e.required&&Boolean(e.required)};e.img.w&&e.img.h?i.sizes=[e.img.w,e.img.h]:e.img.wmin&&e.img.hmin&&(i.aspect_ratios={min_width:e.img.wmin,min_height:e.img.hmin,ratio_width:e.img.wmin,ratio_height:e.img.hmin}),e.img.type===Vi.MAIN?n.image=i:n.icon=i}else if(e.data){var o=Object.keys(Hi).find((function(t){return Hi[t]===e.data.type})),a=Object.keys(Ki).find((function(e){return Ki[e]===o}));n[a]={required:!!e.required&&Boolean(e.required)},e.data.len&&(n[a].len=e.data.len)}};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}}function fo(e){var t={link:{},eventtrackers:[]};return Object.entries(e).forEach((function(e){var n=i(e,2),r=n[0],o=n[1];switch(r){case"clickUrl":t.link.url=o;break;case"clickTrackers":t.link.clicktrackers=Array.isArray(o)?o:[o];break;case"impressionTrackers":(Array.isArray(o)?o:[o]).forEach((function(e){t.eventtrackers.push({event:Zi,method:$i.img,url:e})}));break;case"javascriptTrackers":t.jstracker=Array.isArray(o)?o.join(""):o}})),t}function po(e,t){var n=Fi(Fi({},fo(e)),{},{assets:[]});function r(e,r){var i=t.assets.find(e);null!=i&&(r(i=ot(i)),n.assets.push(i))}return Object.keys(e).filter((function(t){return!!e[t]})).forEach((function(t){var n=co(e[t]);switch(t){case"title":r((function(e){return null!=e.title}),(function(e){e.title={text:n}}));break;case"image":case"icon":var i="image"===t?Vi.MAIN:Vi.ICON;r((function(e){return null!=e.img&&e.img.type===i}),(function(e){e.img={url:n}}));break;default:t in Ki&&r((function(e){return null!=e.data&&e.data.type===Hi[Ki[t]]}),(function(e){e.data={value:n}}))}})),n}function go(e){var t={};for(var n in e)t[e[n]]=n;return t}var mo=E.FP,vo=mo.AD_RENDER_FAILED,ho=mo.AD_RENDER_SUCCEEDED;function bo(e){var t=e.reason,n=e.message,r=e.bid,i=e.id,o={reason:t,message:n};r&&(o.bid=r),i&&(o.adId=i),Ie(n),Ft(vo,o)}function yo(e){var t=e.doc,n=e.bid,r=e.id,i={doc:t};n&&(i.bid=n),r&&(i.adId=r),Ft(ho,i)}var wo=E.FP.BID_WON,Oo=E.FP.STALE_RENDER,To=new WeakSet,Co={"Prebid Request":function(e,t,n){if(null==n)return void bo({reason:E.q_.CANNOT_FIND_AD,message:"Cannot find ad for cross-origin render request: '".concat(t.adId,"'"),id:t.adId});if(n.status===E.UE.fe&&(Ce("Ad id ".concat(n.adId," has been rendered before")),Ft(Oo,n),I(U.getConfig("auctionOptions"),"suppressStaleRender")))return;try{!function(e,t){var n=e.adId,r=e.ad,i=e.adUrl,o=e.width,a=e.height,s=e.renderer,c=e.cpm,u=e.originalCpm;Zt(s)?en(s,e):n&&(Eo(e),t({message:"Prebid Response",ad:st(r,u||c),adUrl:st(i,u||c),adId:n,width:o,height:a}))}(n,e)}catch(r){return void bo({reason:E.q_.EXCEPTION,message:r.message,id:t.adId,bid:n})}Di.addWinningBid(n),Ft(wo,n)},"Prebid Event":function(e,t,n){if(null==n)return void Ie("Cannot find ad '".concat(t.adId,"' for x-origin event request"));if(n.status!==E.UE.fe)return void Ce("Received x-origin event request without corresponding render request for ad '".concat(t.adId,"'"));switch(t.event){case E.FP.AD_RENDER_FAILED:bo({bid:n,id:t.adId,reason:t.info.reason,message:t.info.message});break;case E.FP.AD_RENDER_SUCCEEDED:yo({doc:null,bid:n,id:t.adId});break;default:Ie("Received x-origin event request for unsupported event: '".concat(t.event,"' (adId: '").concat(t.adId,"')"))}}};function Io(e){var t=e.message?"message":"data",n={};try{n=JSON.parse(e[t])}catch(i){return}if(n&&n.adId&&n.message){var r=g(Di.getBidsReceived(),(function(e){return e.adId===n.adId}));Co.hasOwnProperty(n.message)&&Co[n.message](function(e){return null==e.origin&&0===e.ports.length?function(){var e="Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870";throw Ie(e),new Error(e)}:e.ports.length>0?function(t){e.ports[0].postMessage(JSON.stringify(t))}:function(t){e.source.postMessage(JSON.stringify(t),e.origin)}}(e),n,r)}}function Eo(e){var t=e.adId,n=e.adUnitCode,r=e.width,i=e.height;["div","iframe"].forEach((function(e){var o=function(e){var r=function(e,t){return Ze()?function(e){var t=g(window.googletag.pubads().getSlots(),(function(t){return g(t.getTargetingKeys(),(function(n){return p(t.getTargeting(n),e)}))}));return t?t.getSlotElementId():null}(e):function(){if(window.apntag&&xe(window.apntag.getTag))return!0}()?function(e){var t=window.apntag.getTag(e);return t&&t.targetId}(t):t}(t,n),i=document.getElementById(r);return i&&i.querySelector(e)}(e+':not([style*="display: none"])');if(o){var a=o.style;a.width=r?r+"px":"100%",a.height=i+"px"}else Ce("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))}))}Object.assign(Co,{"Prebid Native":function(e,t,n){if(null==n)return void Ie("Cannot find ad for x-origin event request: '".concat(t.adId,"'"));To.has(n)||(To.add(n),Di.addWinningBid(n),Ft(wo,n));switch(t.action){case"assetRequest":e(function(e,t){var n=e.assets.map((function(e){return function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n}(E.FY,e)}));return so(e,t,n)}(t,n));break;case"allAssetRequest":e(function(e,t){return so(e,t,null)}(t,n));break;case"resizeNativeHeight":n.height=t.height,n.width=t.width,Eo(n);break;default:oo(t,n)}}});var Ao=[],ko=1;U.getConfig("ttlBuffer",(function(e){"number"==typeof e.ttlBuffer?ko=e.ttlBuffer:Ie("Invalid value for ttlBuffer",e.ttlBuffer)}));var So="targetingControls.allowTargetingKeys",jo="targetingControls.addTargetingKeys",xo='Only one of "'.concat(So,'" or "').concat(jo,'" can be set'),Bo=Object.keys(E.TD).map((function(e){return E.TD[e]})),Ro={isActualBid:function(e){return e.getStatusCode()===E.Q_.Q},isBidNotExpired:function(e){return e.responseTimestamp+1e3*(e.ttl-(e.hasOwnProperty("ttlBuffer")?e.ttlBuffer:ko))>ut()},isUnusedBid:function(e){return e&&(e.status&&!p([E.UE.fe],e.status)||!e.status)}};function Uo(e){return!Object.values(Ro).some((function(t){return!t(e)}))}var Po=on("sync",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r){var i=[],o=U.getConfig("sendBidsControl.dealPrioritization"),a=ft(e,"adUnitCode");return Object.keys(a).forEach((function(e){var r=[],s=ft(a[e],"bidderCode");Object.keys(s).forEach((function(e){return r.push(s[e].reduce(t))})),n>0?(r=o?r.sort(_o(!0)):r.sort((function(e,t){return t.cpm-e.cpm})),i.push.apply(i,f(r.slice(0,n)))):i.push.apply(i,f(r))})),i}return e}));function _o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var qo=function(e){var t={},n={};function r(e,t){return e.adserverTargeting&&t&&(Re(t)&&p(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function i(e,t){if(!0===U.getConfig("targetingControls.alwaysIncludeDeals")){var n=Bo.concat(Li);return Po(t,et).map((function(t){if(t.dealId&&r(t,e))return s({},t.adUnitCode,O(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function o(e,t){var n=Object.assign({},E.TD,E.FY),r=Object.keys(n),i={};Te("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return n[e]})).join(", ")," ]")),e.map((function(e){var o=Object.keys(e)[0],a=e[o].filter((function(e){var o=Object.keys(e)[0],a=0===r.filter((function(e){return 0===o.indexOf(n[e])})).length||g(t,(function(e){var t=n[e];return 0===o.indexOf(t)}));return i[o]=!a,a}));e[o]=a}));var o=Object.keys(i).filter((function(e){return i[e]}));return Te("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((function(e){return e[Object.keys(e)[0]].length>0}))}function a(e,t){var n=ot(e);return Object.keys(n).map((function(e){return{adUnitCode:e,adserverTargeting:n[e]}})).sort(_o()).reduce((function(e,r,i,o){var a,s=(a=r.adserverTargeting,Object.keys(a).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(a[t]),"%26")}),""));i+1===o.length&&(s=s.slice(0,-3));var c=r.adUnitCode,u=s.length;return u<=t?(t-=u,Te("AdUnit '".concat(c,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(t),n[c]),e[c]=n[c]):Ce("The following keys for adUnitCode '".concat(c,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(t,".\n"),n[c]),i+1===o.length&&0===Object.keys(e).length&&Ie("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function c(e){var t=e.map((function(e){return s({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return s({},Object.keys(e)[0],e[Object.keys(e)[0]].join(","))})).reduce((function(e,t){return Object.assign(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=Object.assign({},e[n],t[n]),e}),{});return t}function u(t){return"string"==typeof t?[t]:Re(t)?t:e.getAdUnitCodes()||[]}function d(){var t=e.getBidsReceived();if(U.getConfig("useBidCache")){var r=U.getConfig("bidCacheFilterFunction");"function"==typeof r&&(t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId||!!r(e)})))}else t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId}));return t=t.filter((function(e){return I(e,"video.context")!==xn})).filter(Uo),Po(t,tt)}function l(e,n){var r=t.getWinningBids(e,n),i=m();return r=r.map((function(e){return s({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=s({},n.substring(0,20),r);if(n===E.TD.DEAL){var o=s({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(f(t),[i,o])}return[].concat(f(t),[i])}),[]))})),r}function m(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(Bo).filter(Qe)}function v(e,t,n,r){return Object.keys(t.adserverTargeting).filter(h()).forEach((function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){Re(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(Qe),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function h(){var e=m();return e=e.concat(Li),function(t){return-1===e.indexOf(t)}}function b(e){return s({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(h()).map((function(t){return s({},t.substring(0,20),[e.adserverTargeting[t]])})))}function y(e,t){return t.filter((function(t){return p(e,t.adUnitCode)})).map((function(e){return Object.assign({},e)})).reduce(v,[]).map(b).filter((function(e){return e}))}function w(e,t){var n=Bo.concat(Li),i=U.getConfig("sendBidsControl.bidLimit"),o=Po(t,et,i),a=U.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),c=a?a.map((function(e){return E.TD[e]})):n;return o.map((function(t){if(r(t,e))return s({},t.adUnitCode,O(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]&&-1!==c.indexOf(e)}))))})).filter((function(e){return e}))}function O(e,t){return t.map((function(t){return s({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}function T(t){function n(e){return I(e,E.k2.xn)}return e.getAdUnits().filter((function(e){return p(t,e.code)&&n(e)})).map((function(e){return s({},e.code,function(e){var t=n(e);return Object.keys(t).map((function(e){return Be(t[e])&&(t[e]=t[e].split(",").map((function(e){return e.trim()}))),Re(t[e])||(t[e]=[t[e]]),s({},e,t[e])}))}(e))}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t,n){if(Ze()){var r=u(t),i=e.getAdUnits().filter((function(e){return p(r,e.code)})),o=Ao.reduce((function(e,t){return e[t]=null,e}),{});window.googletag.pubads().getSlots().forEach((function(e){var t=xe(n)&&n(e);i.forEach((function(n){(n.code===e.getAdUnitPath()||n.code===e.getSlotElementId()||xe(t)&&t(n.code))&&e.updateTargetingFromMap(o)}))}))}},t.resetPresetTargetingAST=function(e){u(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){p(Ao,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d(),n=u(e),r=l(n,t).concat(y(n,t)).concat(U.getConfig("enableSendAllBids")?w(n,t):i(n,t)).concat(T(n));r.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===Ao.indexOf(Object.keys(e)[0])&&(Ao=Object.keys(e).concat(Ao))}))}))}));var s=Object.keys(Object.assign({},E.kF,E.FY)),f=U.getConfig(So),p=U.getConfig(jo);if(null!=p&&null!=f)throw new Error(xo);f=null!=p?s.concat(p):f||s,Array.isArray(f)&&f.length>0&&(r=o(r,f)),r=c(r);var g=U.getConfig("targetingControls.auctionKeyMaxChars");return g&&(Te("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(g," characters.  Running checks on auction keys...")),r=a(r,g)),n.forEach((function(e){r[e]||(r[e]={})})),r},U.getConfig("targetingControls",(function(e){null!=I(e,So)&&null!=I(e,jo)&&Ie(xo)})),t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(t?t(n):function(e){return function(t){return mt(e,t)}}(n)).forEach((function(t){Object.keys(e[t]).forEach((function(n){var r=e[t][n];"string"==typeof r&&-1!==r.indexOf(",")&&(r=r.split(",")),e[t][n]=r})),Oe("Attempting to set targeting-map for slot: ".concat(n.getSlotElementId()," with targeting-map:"),e[t]),n.updateTargetingFromMap(e[t])}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d(),n=u(e);return t.filter((function(e){return p(n,e.adUnitCode)})).filter((function(e){return!0===gn.get(e.bidderCode,"allowZeroCpmBids")?e.cpm>=0:e.cpm>0})).map((function(e){return e.adUnitCode})).filter(Qe).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(et)}))},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(r){Ie("unable to reset targeting for AST"+r)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(t){if(Oe("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),Be(n[e][t])||Re(n[e][t])){var r={};t.search(/pt[0-9]/)<0?r[t.toUpperCase()]=n[e][t]:r[t]=n[e][t],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&xe(window.apntag.setKeywords))return!0},t}(Di),Do="__pbjs_debugging__";function No(){return d().installedModules.includes("debugging")}function Mo(e){return new J((function(t){Qt(e,"debugging",t)}))}function zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alreadyInstalled,n=void 0===t?No:t,r=e.script,i=void 0===r?Mo:r,o=null;return function(){return null==o&&(o=new J((function(e,t){setTimeout((function(){if(n())e();else{var r="https://cdn.jsdelivr.net/npm/prebid.js@7.46.0/dist/debugging-standalone.js";Oe('Debugging module not installed, loading it from "'.concat(r,'"...')),d()._installDebugging=!0,i(r).then((function(){d()._installDebugging({DEBUG_KEY:Do,hook:on,config:U,createBid:Nn,logger:Ee("DEBUG:")})})).then(e,t)}}))}))),o}}var Fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.load,n=void 0===t?zo():t,r=e.hook,i=void 0===r?sn("requestBids"):r,o=null,a=!1;function s(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(o||J.resolve()).then((function(){return e.apply(t,r)}))}function c(){a||(o=n(),i.before(s,99),a=!0)}function u(){i.getHooks({hook:s}).remove(),a=!1}function d(){o=null,u()}return{enable:c,disable:u,reset:d}}();Fo.reset;U.getConfig("debugging",(function(e){var t=e.debugging;null!=t&&t.enabled?Fo.enable():Fo.disable()}));var Wo=On(),Lo=St((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.host;if(!Wo.cookiesAreEnabled())return e;var t,n,r=e.split(".");if(2===r.length)return e;var i=-2,o="_rdc".concat(Date.now()),a="writeable";do{t=r.slice(i).join(".");var s=new Date(ut()+1e4).toUTCString();Wo.setCookie(o,a,s,"Lax",t,void 0);var c=Wo.getCookie(o,void 0);c===a?(n=!1,Wo.setCookie(o,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(i+=-1,n=Math.abs(i)<=r.length)}while(n);return t})),Go=["architecture","bitness","model","platformVersion","fullVersionList"],Ho=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n=qe(t)?null:Object.freeze(Ko(1,t));return function(){return n}}(),Vo=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.navigator)||void 0===e?void 0:e.userAgentData,n={},r=new WeakMap;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Go;if(!r.has(e)){var i=Array.from(e);i.sort(),r.set(e,i.join("|"))}var o=r.get(e);if(!n.hasOwnProperty(o))try{n[o]=t.getHighEntropyValues(e).then((function(e){return qe(e)?null:Object.freeze(Ko(2,e))})).catch((function(){return null}))}catch(a){n[o]=J.resolve(null)}return n[o]}}();function Ko(e,t){function n(e,t){var n={brand:e};return Be(t)&&!De(t)&&(n.version=t.split(".")),n}var r={source:e};return t.platform&&(r.platform=n(t.platform,t.platformVersion)),(t.fullVersionList||t.brands)&&(r.browsers=(t.fullVersionList||t.brands).map((function(e){return n(e.brand,e.version)}))),t.hasOwnProperty("mobile")&&(r.mobile=t.mobile?1:0),["model","bitness","architecture"].forEach((function(e){var n=t[e];Be(n)&&(r[e]=n)})),r}var Jo=["dooh","app","site"];function Qo(e){return function(t){return Jo.reduce((function(n,r){return Yo(t,r)&&(null!=n?(Ce("".concat(e," specifies both '").concat(n,"' and '").concat(r,"'; dropping the latter.")),delete t[r]):n=r),n}),null),t}}function Yo(e,t){return null!=e[t]&&Object.keys(e[t]).length>0}function Xo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return $o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zo={getRefererInfo:vr,findRootDomain:Lo,getWindowTop:be,getWindowSelf:ye,getHighEntropySUA:Vo,getLowEntropySUA:Ho},ea=Qo("FPD"),ta=on("sync",(function(e){return J.all([e,(t=U.getConfig("firstPartyData.uaHints"),Array.isArray(t)&&0!==t.length?Zo.getHighEntropySUA(t):J.resolve(Zo.getLowEntropySUA())).catch((function(){return null}))]).then((function(e){var t=i(e,2),n=t[0],r=t[1],o=Zo.getRefererInfo();!function(e){["app","site","device"].forEach((function(t){var n=U.getConfig(t);null!=n&&(e[t]=kt({},n,e[t]))}))}(n),Object.entries(ia).forEach((function(e){var t=i(e,2),r=t[0],a=(0,t[1])(n,o);a&&Object.keys(a).length>0&&(n[r]=kt({},a,n[r]))})),r&&xt(n,"device.sua",Object.assign({},r,n.device.sua)),n=ea(n);var a,s=Xo(Jo);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(Yo(n,c)){n[c]=kt({},oa(n,o),n[c]);break}}}catch(u){s.e(u)}finally{s.f()}return n}));var t}));function na(e){try{return e(Zo.getWindowTop())}catch(t){return e(Zo.getWindowSelf())}}function ra(e){return pt(e,Object.keys(e))}var ia={site:function(e,t){if(!Jo.filter((function(e){return"site"!==e})).some(Yo.bind(null,e)))return ra({page:t.page,ref:t.ref})},device:function(){return na((function(e){return{w:e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth,h:e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight,dnt:"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack?1:0,ua:e.navigator.userAgent,language:e.navigator.language.split("-").shift()}}))},regs:function(){var e={};na((function(e){return e.navigator.globalPrivacyControl}))&&xt(e,"ext.gpc",1);var t=U.getConfig("coppa");return"boolean"==typeof t&&(e.coppa=t?1:0),e}};function oa(e,t){var n,r,i,o=pr(t.page,{noLeadingWww:!0}),a=null===(n=na((function(e){return e.document.querySelector("meta[name='keywords']")})))||void 0===n||null===(r=n.content)||void 0===r||null===(i=r.replace)||void 0===i?void 0:i.call(r,/\s/g,"");return ra({domain:o,keywords:a,publisher:ra({domain:Zo.findRootDomain(o)})})}var aa=d(),sa=Cn.triggerUserSyncs,ca=E.FP,ua=ca.ADD_AD_UNITS,da=ca.BID_WON,la=ca.REQUEST_BIDS,fa=ca.SET_TARGETING,pa=ca.STALE_RENDER,ga=E.q_,ma=ga.PREVENT_WRITING_ON_MAIN_DOCUMENT,va=ga.NO_AD,ha=ga.EXCEPTION,ba=ga.CANNOT_FIND_AD,ya=ga.MISSING_DOC_OR_ADID,wa={bidWon:function(e){if(!Me(Di.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(Ye).filter(Qe),e))return void Ie('The "'+e+'" placement is not defined.');return!0}};function Oa(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function Ta(e,t){var n=[];return Re(e)&&(t?e.length===t:e.length>0)&&(e.every((function(e){return Tt(e,2)}))?n=e:Tt(e,2)&&n.push(e)),n}function Ca(e){var t=ot(e),n=t.mediaTypes.banner,r=Ta(n.sizes);return r.length>0?(n.sizes=r,t.sizes=r):(Ie("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function Ia(e){var t=ot(e),n=t.mediaTypes.video;if(n.playerSize){var r="number"==typeof n.playerSize[0]?2:1,i=Ta(n.playerSize,r);i.length>0?(2===r&&Te("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),n.playerSize=i,t.sizes=i):(Ie("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete t.mediaTypes.video.playerSize)}return t}function Ea(e){var t=ot(e),n=t.mediaTypes.native;if(n.ortb){var r=Object.keys(E.FY).filter((function(e){return E.FY[e].includes("hb_native_")})),i=Object.keys(n).filter((function(e){return r.includes(e)}));i.length>0&&(Ie("when using native OpenRTB format, you cannot use legacy native properties. Deleting ".concat(i," keys from request.")),i.forEach((function(e){return delete t.mediaTypes.native[e]})))}return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(Ie("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(Ie("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(Ie("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}function Aa(e,t){var n=I(e,"mediaTypes.".concat(t,".pos"));if(!Ue(n)||isNaN(n)||!isFinite(n)){var r="Value of property 'pos' on ad unit ".concat(e.code," should be of type: Number");Ce(r),Ft(E.FP.AUCTION_DEBUG,{type:"WARNING",arguments:r}),delete e.mediaTypes[t].pos}return e}function ka(e){var t=function(t){return"adUnit.code '".concat(e.code,"' ").concat(t)},n=e.mediaTypes,r=e.bids;return null==r||Re(r)?null==r&&null==e.ortb2Imp?(Ie(t("has no 'adUnit.bids' and no 'adUnit.ortb2Imp'. Removing adUnit from auction")),null):n&&0!==Object.keys(n).length?(null==e.ortb2Imp||null!=r&&0!==r.length||(e.bids=[{bidder:null}],Oe(t("defines 'adUnit.ortb2Imp' with no 'adUnit.bids'; it will be seen only by S2S adapters"))),e):(Ie(t("does not define a 'mediaTypes' object.  This is a required field for the auction, so this adUnit has been removed.")),null):(Ie(t("defines 'adUnit.bids' that is not an array. Removing adUnit from auction")),null)}!function(){var e=null;try{e=window.sessionStorage}catch(r){}if(null!==e){var t=Fo,n=null;try{n=e.getItem(Do)}catch(r){}null!==n&&t.enable()}}(),aa.bidderSettings=aa.bidderSettings||{},aa.libLoaded=!0,aa.version="v7.46.0",Te("Prebid.js v7.46.0 loaded"),aa.installedModules=aa.installedModules||[],aa.adUnits=aa.adUnits||[],aa.triggerUserSyncs=sa;var Sa={validateAdUnit:ka,validateBannerMediaType:Ca,validateSizes:Ta};Object.assign(Sa,{validateNativeMediaType:Ea}),Object.assign(Sa,{validateVideoMediaType:Ia});var ja,xa=on("sync",(function(e){var t=[];return e.forEach((function(e){if(null!=(e=ka(e))){var n,r,i,o=e.mediaTypes;o.banner&&(n=Ca(e),o.banner.hasOwnProperty("pos")&&(n=Aa(n,"banner"))),o.video&&(r=Ia(n||e),o.video.hasOwnProperty("pos")&&(r=Aa(r,"video"))),o.native&&(i=Ea(r||(n||e)));var a=Object.assign({},n,r,i);t.push(a)}})),t}),"checkAdUnitSetup");function Ba(e){var t=Di[e]().filter(ue.call(it,this,Di.getAdUnitCodes())),n=Di.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(Qe).map((function(e){return t.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return s({},e[0].adUnitCode,{bids:e})})).reduce((function(e,t){return Object.assign(e,t)}),{})}function Ra(e,t,n){var r=t.querySelector(n);e.parentNode&&e.parentNode===r||We(e,t,n)}aa.getAdserverTargetingForAdUnitCodeStr=function(e){if(Te("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=aa.getAdserverTargetingForAdUnitCode(e);return ge(t)}Oe("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},aa.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=Di.getAllBidsForAdUnitCode(e).filter(Uo);return t.length?t.reduce(et):{}}Oe("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},aa.getAdserverTargetingForAdUnitCode=function(e){return aa.getAdserverTargeting(e)[e]},aa.getAdserverTargeting=function(e){return Te("Invoking pbjs.getAdserverTargeting",arguments),qo.getAllTargeting(e)},aa.getConsentMetadata=function(){return Te("Invoking pbjs.getConsentMetadata"),{gdpr:$r.getConsentMeta(),usp:Zr.getConsentMeta(),gpp:ei.getConsentMeta(),coppa:!!U.getConfig("coppa")}},aa.getNoBids=function(){return Te("Invoking pbjs.getNoBids",arguments),Ba("getNoBids")},aa.getNoBidsForAdUnitCode=function(e){return{bids:Di.getNoBids().filter((function(t){return t.adUnitCode===e}))}},aa.getBidResponses=function(){return Te("Invoking pbjs.getBidResponses",arguments),Ba("getBidsReceived")},aa.getBidResponsesForAdUnitCode=function(e){return{bids:Di.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},aa.setTargetingForGPTAsync=function(e,t){if(Te("Invoking pbjs.setTargetingForGPTAsync",arguments),Ze()){var n=qo.getAllTargeting(e);qo.resetPresetTargeting(e,t),qo.setTargetingForGPT(n,t),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&Di.setStatusForBids(n[e][t],E.UE.CK)}))})),Ft(fa,n)}else Ie("window.googletag is not defined on the page")},aa.setTargetingForAst=function(e){Te("Invoking pbjs.setTargetingForAn",arguments),qo.isApntagDefined()?(qo.setTargetingForAst(e),Ft(fa,qo.getAllTargeting())):Ie("window.apntag is not defined on the page")},aa.renderAd=on("async",(function(e,t,n){if(Te("Invoking pbjs.renderAd",arguments),Oe("Calling renderAd with adId :"+t),t)try{var r=Di.findBidByAdId(t);if(!r){var i="Error trying to write ad. Cannot find ad by given id : ".concat(t);return void bo({reason:ba,message:i,id:t})}if(r.status===E.UE.fe&&(Ce("Ad id ".concat(r.adId," has been rendered before")),Ft(pa,r),I(U.getConfig("auctionOptions"),"suppressStaleRender")))return;if(r.ad=st(r.ad,r.originalCpm||r.cpm),r.adUrl=st(r.adUrl,r.originalCpm||r.cpm),n&&n.clickThrough){var o=n.clickThrough;r.ad=ct(r.ad,o),r.adUrl=ct(r.adUrl,o)}Di.addWinningBid(r),Ft(da,r);var a=r.height,s=r.width,c=r.ad,u=r.mediaType,d=r.adUrl,l=r.renderer,f=r.adUnitCode,p=aa.adUnits.filter((function(e){return e.code===f})),g=aa.videoModule;if(p.video&&g)return void g.renderBid(p.video.divId,r);if(!e){var m="Error trying to write ad Id :".concat(t," to the page. Missing document");return void bo({reason:ya,message:m,id:t})}var v=document.createComment("Creative ".concat(r.creativeId," served by ").concat(r.bidder," Prebid.js Header Bidding"));if(We(v,e,"html"),Zt(l))en(l,r,e),Ra(v,e,"html"),yo({doc:e,bid:r,id:t});else if(e===document&&!at()||"video"===u){var h="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document.");bo({reason:ma,message:h,bid:r,id:t})}else if(c)e.write(c),e.close(),Oa(e,s,a),Ra(v,e,"html"),He(r),yo({doc:e,bid:r,id:t});else if(d){var b=Se();b.height=a,b.width=s,b.style.display="inline",b.style.overflow="hidden",b.src=d,We(b,e,"body"),Oa(e,s,a),Ra(v,e,"html"),He(r),yo({doc:e,bid:r,id:t})}else{var y="Error trying to write ad. No ad for bid response id: ".concat(t);bo({reason:va,message:y,bid:r,id:t})}}catch(T){var w="Error trying to write ad Id :".concat(t," to the page:").concat(T.message);bo({reason:ha,message:w,id:t})}else{var O="Error trying to write ad Id :".concat(t," to the page. Missing adId");bo({reason:ya,message:O,id:t})}})),aa.removeAdUnit=function(e){(Te("Invoking pbjs.removeAdUnit",arguments),e)?(Re(e)?e:[e]).forEach((function(e){for(var t=aa.adUnits.length-1;t>=0;t--)aa.adUnits[t].code===e&&aa.adUnits.splice(t,1)})):aa.adUnits=[]},aa.requestBids=(ja=on("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,o=e.adUnitCodes,a=e.labels,s=e.auctionId,c=e.ttlBuffer,u=e.ortb2,d=e.metrics,l=e.defer;Ft(la);var f=n||U.getConfig("bidderTimeout");Te("Invoking pbjs.requestBids",arguments),o&&o.length?r=r.filter((function(e){return p(o,e.code)})):o=r&&r.map((function(e){return e.code}));var g={global:kt({},U.getAnyConfig("ortb2")||{},u||{}),bidder:Object.fromEntries(Object.entries(U.getBidderConfig()).map((function(e){var t=i(e,2);return[t[0],t[1].ortb2]})).filter((function(e){var t=i(e,2);return t[0],null!=t[1]})))};return ta(J.resolve(g.global)).then((function(e){return g.global=e,Ua({bidsBackHandler:t,timeout:f,adUnits:r,adUnitCodes:o,labels:a,auctionId:s,ttlBuffer:c,ortb2Fragments:g,metrics:d,defer:l})}))}),"requestBids"),function(e,t){return Object.defineProperties(t,Object.fromEntries(["before","after","getHooks","removeAll"].map((function(t){return[t,{get:function(){return e[t]}}]})))),t}(ja,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adUnits||aa.adUnits;return e.adUnits=Re(t)?t.slice():[t],e.metrics=$n(),e.metrics.checkpoint("requestBids"),e.defer=Y({promiseFactory:function(e){return new Promise(e)}}),ja.call(this,e),e.defer.promise})));var Ua=on("async",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.ttlBuffer,o=e.adUnitCodes,a=e.labels,s=e.auctionId,c=e.ortb2Fragments,u=e.metrics,d=e.defer,l=ni(U.getConfig("s2sConfig")||[]);function f(e,n,r){if("function"==typeof t)try{t(e,n,r)}catch(i){Ie("Error executing bidsBackHandler",null,i)}d.resolve({bids:e,timedOut:n,auctionId:r})}if((r=Yn(u).measureTime("requestBids.validate",(function(){return xa(r)}))).forEach((function(e){var t,n,r=Object.keys(e.mediaTypes||{banner:"banner"}),o=e.bids.map((function(e){return e.bidder})),a=ci.bidderRegistry,s=o.filter((function(e){return!l.has(e)})),c=(null===(t=e.ortb2Imp)||void 0===t||null===(n=t.ext)||void 0===n?void 0:n.tid)||fe();e.transactionId=c,null==i||e.hasOwnProperty("ttlBuffer")||(e.ttlBuffer=i),xt(e,"ortb2Imp.ext.tid",c),s.forEach((function(t){var n=a[t],i=n&&n.getSpec&&n.getSpec(),o=i&&i.supportedMediaTypes||["banner"];r.some((function(e){return p(o,e)}))?lr.incrementBidderRequestsCounter(e.code,t):(Ce(bt(e,t)),e.bids=e.bids.filter((function(e){return e.bidder!==t})))})),lr.incrementRequestsCounter(e.code)})),r&&0!==r.length){var g=Di.createAuction({adUnits:r,adUnitCodes:o,callback:f,cbTimeout:n,labels:a,auctionId:s,ortb2Fragments:c,metrics:u}),m=r.length;m>15&&Te("Current auction ".concat(g.getAuctionId()," contains ").concat(m," adUnits."),r),o.forEach((function(e){return qo.setLatestAuctionForAdUnit(e,g.getAuctionId())})),g.callBids()}else Oe("No adUnits configured. No bids requested."),f()}),"startAuction");aa.requestBids.before((function(e,t){function n(e){for(var t;t=e.shift();)t()}n(bn),n(Pa),e.call(this,t)}),49),aa.addAdUnits=function(e){Te("Invoking pbjs.addAdUnits",arguments),aa.adUnits.push.apply(aa.adUnits,Re(e)?e:[e]),Ft(ua)},aa.onEvent=function(e,t,n){Te("Invoking pbjs.onEvent",arguments),xe(t)?!n||wa[e].call(null,n)?Nt(e,t,n):Ie('The id provided is not valid for event "'+e+'" and no handler was set.'):Ie('The event handler provided is not a function and was not set on event "'+e+'".')},aa.offEvent=function(e,t,n){Te("Invoking pbjs.offEvent",arguments),n&&!wa[e].call(null,n)||Mt(e,t,n)},aa.getEvents=function(){return Te("Invoking pbjs.getEvents"),zt()},aa.registerBidAdapter=function(e,t){Te("Invoking pbjs.registerBidAdapter",arguments);try{ci.registerBidAdapter(e(),t)}catch(n){Ie("Error registering bidder adapter : "+n.message)}},aa.registerAnalyticsAdapter=function(e){Te("Invoking pbjs.registerAnalyticsAdapter",arguments);try{ci.registerAnalyticsAdapter(e)}catch(t){Ie("Error registering analytics adapter : "+t.message)}},aa.createBid=function(e){return Te("Invoking pbjs.createBid",arguments),Nn(e)};var Pa=[],_a=on("async",(function(e){e&&!qe(e)?(Te("Invoking pbjs.enableAnalytics for: ",e),ci.enableAnalytics(e)):Ie("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function qa(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(t){Ie("Error processing command :","prebid.js",t)}}))}aa.enableAnalytics=function(e){Pa.push(_a.bind(this,e))},aa.aliasBidder=function(e,t,n){Te("Invoking pbjs.aliasBidder",arguments),e&&t?ci.aliasBidAdapter(e,t,n):Ie("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},aa.aliasRegistry=ci.aliasRegistry,U.getConfig("aliasRegistry",(function(e){"private"===e.aliasRegistry&&delete aa.aliasRegistry})),aa.getAllWinningBids=function(){return Di.getAllWinningBids()},aa.getAllPrebidWinningBids=function(){return Di.getBidsReceived().filter((function(e){return e.status===E.UE.CK}))},aa.getHighestCpmBids=function(e){return qo.getWinningBids(e)},aa.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=Di.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=qo.getWinningBids(e.adUnitCode):e.adId?t=Di.getBidsReceived().filter((function(t){return t.adId===e.adId})):Ce("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),t.length>0&&(t[0].status=E.UE.fe)},aa.getConfig=U.getAnyConfig,aa.readConfig=U.readAnyConfig,aa.mergeConfig=U.mergeConfig,aa.mergeBidderConfig=U.mergeBidderConfig,aa.setConfig=U.setConfig,aa.setBidderConfig=U.setBidderConfig,aa.que.push((function(){window.addEventListener("message",Io,!1)})),aa.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(t){Ie("Error processing command :",t.message,t.stack)}else Ie("Commands written into pbjs.cmd.push must be wrapped in a function")},aa.que.push=aa.cmd.push,aa.processQueue=function(){on.ready(),qa(aa.que),qa(aa.cmd)};const Da=aa;l("enrichmentFpdModule");var Na="express",Ma=d();Ma.express=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ma.adUnits;Oe("loading express"),0===e.length&&Ce("no valid adUnits found, not loading express");var t={},n=e.reduce((function(e,t){return t.code&&t.bids?e[t.code]=t:Ie("misconfigured adUnit",null,t),e}),{});window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){var e=window.googletag,r=e.pubads;if(e.display&&e.enableServices&&"function"==typeof r&&r().refresh&&r().disableInitialLoad&&r().getSlots&&r().enableSingleRequest){Oe("running");var i=e.display,o=e.enableServices,a=r().refresh,s=r().disableInitialLoad,c=r().enableSingleRequest;e.enableServices=function(){return u||s.apply(r()),o.apply(e,arguments)},e.display=function(n){var o;Te("display:",n),i.apply(e,arguments),d||(o=googletag.pubads().getSlots().filter((function(e){return e.getSlotElementId()===n}))),(o=f(o).filter((function(e){return!e._displayed}))).forEach((function(e){e._displayed=!0}));var s=p(o);u||(o.length&&a.apply(r(),[o]),s.length&&Ma.requestBids({adUnits:s,bidsBackHandler:function(){Ma.setTargetingForGPTAsync(),a.apply(r(),[s.map((function(e){return t[e.code]}))])}}))},r().refresh=function(e,n){Te("refresh:",e);var i=p(e=f(e)).filter((function(e){return t[e.code]._displayed}));e.length&&a.apply(r(),[e,n]),i.length&&Ma.requestBids({adUnits:i,bidsBackHandler:function(){Ma.setTargetingForGPTAsync(),a.apply(r(),[i.map((function(e){return t[e.code]})),n])}})};var u=!1;r().disableInitialLoad=function(){return u=!0,s.apply(window.googletag.pubads(),arguments)};var d=!1;r().enableSingleRequest=function(){return d=!0,c.apply(window.googletag.pubads(),arguments)}}else Ie("could not bind to gpt googletag api");function l(e){for(var t=[],n=0;n<e.length;n++)try{t.push([e[n].getWidth(),e[n].getHeight()])}catch(r){Ce("slot size "+e[n].toString()+" not supported by"+Na)}return t}function f(e){return Array.isArray(e)?e.slice():googletag.pubads().getSlots().slice()}function p(e){for(var r=[],i=e.length-1;i>-1;i--){var o=e[i],a=o.getSlotElementId(),s=n[a];s&&(t[a]=o,s.sizes=s.sizes||l(o.getSizes()),r.push(s),e.splice(i,1))}return r}}))},l("express");var za="medianet",Fa="https://prebid.media.net/video/bundle.js",Wa=0,La=1,Ga=2,Ha="client_timeout",Va="client_bid_won",Ka=vr(),Ja={};window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],Ja.urlData={domain:Ka.domain,page:Ka.page,isTop:Ka.reachedTop};function Qa(){try{return window.top.document.referrer}catch(e){return document.referrer}}function Ya(e,t){var n=t.refererInfo,r={domain:(e=e||{}).domain||n.domain,page:e.page||n.page,ref:e.ref||Qa(),topMostLocation:n.topmostLocation,isTop:e.isTop||n.reachedTop};return Object.assign(r,function(){if(Ja.pageMeta)return Ja.pageMeta;var e=Xa('link[rel="canonical"]',"href"),t=Xa('meta[property="og:url"]',"content"),n=Xa('meta[name="twitter:url"]',"content");return Ja.pageMeta=Object.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),Ja.pageMeta}())}function Xa(e,t){var n,r,i=function(e,t){try{var n=be().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(r){}}(e,t);return i&&(n=i,(r=be().document.createElement("a")).href=n,r.href)}function $a(e,t){return e.filter((function(e){return e.type===t}))}function Za(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function es(e,t){var n=I(e,"params"),r=I(t,"gdprConsent"),i=I(t,"uspConsent"),o=I(e,"userId"),a=I(e,"schain")||{},s=cs.getWindowSize(),c=!(!r||!r.gdprApplies),u=!!i,l=!!U.getConfig("coppa");return Object.assign({},{customer_id:n.cid},{prebid_version:d().version},{gdpr_applies:c},c&&{gdpr_consent_string:r.consentString||""},{usp_applies:u},u&&{usp_consent_string:i||""},{coppa_applies:l},-1!==s.w&&-1!==s.h&&{screen:s},o&&{user_id:o},d().medianetGlobals.analyticsEnabled&&{analytics:!0},!qe(a)&&{schain:a})}function ts(e){var t={id:e.bidId,transactionId:e.transactionId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params};e.ortb2Imp&&(t.ortb2Imp=e.ortb2Imp);var n,r=I(e,"mediaTypes.banner.sizes")||[],i=I(e,"mediaTypes.video")||{},o=I(e,"params.video")||{},a=Object.assign({},o,i);if(qe(a)||(t.video=a),r.length>0&&(t.banner=Re(n=r)&&2===n.length&&!Re(n[0])?[Za(n)]:n.map((function(e){return Za(e)}))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(l){Ie("".concat(za," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());var s=parseFloat(e.params.bidfloor||e.params.bidFloor);s&&(t.bidfloor=s);var c=function(e){var t=document.getElementById(e);if(!t&&-1!==e.indexOf("/")){var n=ht(e).divId;Be(n)&&(t=document.getElementById(n))}if(t&&t.getBoundingClientRect){var r=t.getBoundingClientRect(),i={};return i.top_left={y:r.top,x:r.left},i.bottom_right={y:r.bottom,x:r.right},i}return null}(e.adUnitCode);if(c&&t.banner&&0!==t.banner.length){var u=function(e){return{top_left:{x:e.top_left.x+window.pageXOffset,y:e.top_left.y+window.pageYOffset},bottom_right:{x:e.bottom_right.x+window.pageXOffset,y:e.bottom_right.y+window.pageYOffset}}}(c);t.ext.coordinates=u,t.ext.viewability=is(c.top_left,rs(t.banner)),is(u.top_left,rs(t.banner))>.5?t.ext.visibility=La:t.ext.visibility=Ga}else t.ext.visibility=Wa;var d=function(e){var t=[];"function"==typeof e.getFloor&&[jn,Sn,kn].forEach((function(n){e.mediaTypes.hasOwnProperty(n)&&(n==jn?e.mediaTypes.banner.sizes.forEach((function(r){ns(e,n,r,t)})):ns(e,n,"*",t))}));return t}(e);return d&&d.length>0&&(t.bidfloors=d),t}function ns(e,t,n,r){var i=e.getFloor({currency:"USD",mediaType:t,size:n});n.length>1&&(i.size=n),i.mediaType=t,r.push(i)}function rs(e){return e.reduce((function(e,t){return t.h*t.w<e.h*e.w?t:e}))}function is(e,t){var n=t.w*t.h,r=cs.getWindowSize(),i={x:e.x+t.w,y:e.y+t.h};return 0===n||-1===r.w||-1===r.h?0:function(e,t,n,r){if(e.x>r.x||t.x<n.x||e.y>r.y||t.y<n.y)return 0;return(Math.min(t.x,r.x)-Math.max(e.x,n.x))*(Math.min(t.y,r.y)-Math.max(e.y,n.y))}(e,i,{x:0,y:0},{x:r.w,y:r.h})/n}function os(e,t){t=Re(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=I(t,"0.auctionId")||"",n.cid=d().medianetGlobals.cid||"",n.crid=t.map((function(e){return I(e,"params.0.crid")||e.adUnitCode})).join("|"),n.adunit_count=t.length||0,n.dn=Ja.urlData.domain||"",n.requrl=Ja.urlData.page||"",n.istop=Ja.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}function as(e,t){Ge(Et({protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:os(e,t)}))}function ss(e){var t,n=I(e,"context")||"",r=I(e,"vto");"outstream"==n&&r&&(e.renderer=((t=$t.install({url:Fa})).setRender((function(e){window.mnet.queue.push((function(){var t={width:e.width,height:e.height,vastTimeout:e.vto,maxAllowedVastTagRedirects:e.mavtr,allowVpaid:e.avp,autoPlay:e.ap,preload:e.pl,mute:e.mt},n=e.dfp_id,r=ht(n).divId||n;window.mnet.mediaNetoutstreamPlayer(e,r,t)}))})),t))}d().medianetGlobals=d().medianetGlobals||{};var cs={code:za,gvlid:142,aliases:[{code:"aax",gvlid:720}],supportedMediaTypes:[jn,kn,Sn],isBidRequestValid:function(e){return e.params?e.params.cid&&Be(e.params.cid)&&!De(e.params.cid)?(Object.assign(d().medianetGlobals,!d().medianetGlobals.cid&&{cid:e.params.cid}),!0):(Ie("".concat(za," : cid should be a string")),!1):(Ie("".concat(za," : Missing bid parameters")),!1)},buildRequests:function(e,t){var n,r=function(e,t){return{site:Ya(e[0].params.site,t),ext:es(e[0],t),id:e[0].auctionId,imp:e.map((function(e){return ts(e)})),ortb2:t.ortb2,tmax:t.timeout}}(e=function(e){if(!e||!Re(e))return e;if(!e.some((function(e){var t;return null===(t=((null==e?void 0:e.mediaTypes)||{})[kn])||void 0===t?void 0:t.ortb})))return e;var t,n=ot(e),r=Ni(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.mediaTypes&&i.mediaTypes[kn]&&i.mediaTypes[kn].ortb&&(i.mediaTypes[kn]=Object.assign(wt(i.mediaTypes[kn],Ji),lo(i.mediaTypes[kn].ortb)),i.nativeParams=eo(i.mediaTypes[kn]))}}catch(o){r.e(o)}finally{r.f()}return n}(e),t);return{method:"POST",url:(n=r.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(n)),data:JSON.stringify(r)}},interpretResponse:function(e,t){var n=[];if(!e||!e.body)return Te("".concat(za," : response is empty")),n;var r=e.body.bidList;return Re(r)&&0!==r.length?((n=r.filter((function(e){return function(e){return!1===e.no_bid&&parseFloat(e.cpm)>0}(e)}))).forEach(ss),n):(Te("".concat(za," : no bids")),n)},getUserSyncs:function(e,t){var n,r=!qe(n=t)&&n[0].body&&n[0].body.ext&&Re(n[0].body.ext.csUrl)?n[0].body.ext.csUrl:[];return e.iframeEnabled?$a(r,"iframe"):e.pixelEnabled?$a(r,"image"):void 0},onTimeout:function(e){try{as({name:Ha,value:e.length,related_data:e[0].timeout||U.getConfig("bidderTimeout")},e)}catch(t){}},onBidWon:function(e){try{as({name:Va,value:e.cpm},[e])}catch(t){}},clearMnData:function(){Ja={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};function us(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}nr(cs),l("medianetBidAdapter");var ds="medianet",ls="medianetrtd";function fs(e){window.mnjs.que.push(e)}function ps(e,t){return e=e||d().adUnits||[],t&&t.length&&(e=e.filter((function(e){return p(t,e.code)}))),e}window.mnjs=window.mnjs||{},window.mnjs.que=window.mnjs.que||[];var gs={name:ds,init:function(e){var t=e.params&&e.params.cid;return t&&Be(t)&&!De(t)?(function(e){Qt(function(e,t){return"https://warp.media.net/js/tags/prebidrtdclient.js?cid=".concat(e,"&dn=").concat(t)}(e,window.location.hostname),ds)}(t),fs((function(){return window.mnjs.setData({module:"iref",name:"initIRefresh",data:{config:e,prebidGlobal:d()}},ls)})),!0):(Ie("".concat(ls,": cid should be a string")),!1)},getBidRequestData:function(e,t,n,r){fs((function(){var i=ps(e.adUnits,e.adUnitCodes),o=window.mnjs.onPrebidRequestBid({requestBidsProps:e,config:n,userConsent:r});if(o){o.onComplete((function(){return t()}),(function(e,n){i.forEach((function(t){t.ortb2Imp=t.ortb2Imp||{},kt(t.ortb2Imp,n[t.code]),kt(t,e[t.code])})),t()}))}else t()}))},onAuctionInitEvent:function(e){fs((function(){return window.mnjs.setData({module:"iref",name:"auctionInit",data:{auction:e}},ls)}))},getTargetingData:function(e,t,n,r){var i=ps(r.adUnits,e),o={};window.mnjs.loaded&&xe(window.mnjs.getTargetingData)&&(o=window.mnjs.getTargetingData(e,i,ls)||{});var a={};return e.forEach((function(e){a[e]=a[e]||{},o[e]=o[e]||{},a[e]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?us(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):us(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(s({},"mnadc",e),o[e])})),a}};!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=cn[e];if(i)return i.apply(void 0,n);sn(e).before((function(e,t){t.push(n),e(t)}))}("realTimeData",gs),l("medianetRtdProvider");var ms=new WeakMap;function vs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ms.has(e)){var n=Object.entries(e);n.sort((function(e,t){return(e=e[1].priority||0)===(t=t[1].priority||0)?0:e>t?-1:1})),ms.set(e,n.map((function(e){var t=i(e,2);return[t[0],t[1].fn]})))}var r=ms.get(e).filter((function(e){var n=i(e,1)[0];return!t.hasOwnProperty(n)||t[n]})).map((function(e){var n=i(e,2),r=n[0],o=n[1];return t.hasOwnProperty(r)?t[r].bind(this,o):o}));return function(){var e=this,t=Array.from(arguments);r.forEach((function(n){n.apply(e,t)}))}}function hs(e){return(e=me(e)).map((function(e){var t=i(e.split("x"),2),n=t[0],r=t[1];return{w:parseInt(n,10),h:parseInt(r,10)}}))}var bs=new Set(["pos","placement","plcmt","api","mimes","protocols","playbackmethod","minduration","maxduration","w","h","startdelay","placement","linearity","skip","skipmin","skipafter","minbitrate","maxbitrate","delivery","playbackend"]),ys={instream:1};var ws={1:jn,2:Sn,4:kn};var Os=["request","imp","bidResponse","response"],Ts=["default","pbs"],Cs=Os[0],Is=Os[1],Es=Os[2],As=Os[3],ks=Ts[0],Ss=new Set(Os);var js,xs,Bs=(js={},{registerOrtbProcessor:function(e){var t=e.type,n=e.name,r=e.fn,i=e.priority,o=void 0===i?0:i,a=e.dialects,s=void 0===a?[ks]:a;if(!Ss.has(t))throw new Error("ORTB processor type must be one of: ".concat(Os.join(", ")));s.forEach((function(e){js.hasOwnProperty(e)||(js[e]={}),js[e].hasOwnProperty(t)||(js[e][t]={}),js[e][t][n]={priority:o,fn:r}}))},getProcessors:function(e){return js[e]||{}}}),Rs=Bs.getProcessors,Us=(s(xs={},Cs,{fpd:{priority:99,fn:function(e,t){kt(e,t.ortb2)}},onlyOneClient:{priority:-99,fn:Qo("ORTB request")},props:{fn:function(e,t){var n;Object.assign(e,{id:e.id||t.auctionId,test:e.test||0});var r=parseInt(t.timeout,10);isNaN(r)||(e.tmax=r),xt(e,"source.tid",(null===(n=e.source)||void 0===n?void 0:n.tid)||t.auctionId)}}}),s(xs,Is,{fpd:{priority:99,fn:function(e,t){kt(e,t.ortb2Imp)}},id:{fn:function(e,t){e.id=t.bidId}},banner:{fn:function(e,t,n){if(!n.mediaType||n.mediaType===jn){var r=I(t,"mediaTypes.banner");if(r){var i={topframe:!0===at()?0:1};r.sizes&&(i.format=hs(r.sizes)),r.hasOwnProperty("pos")&&(i.pos=r.pos),e.banner=kt(i,e.banner)}}}},pbadslot:{fn:function(e){var t,n,r,i,o=null===(t=e.ext)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.pbadslot;o&&"string"==typeof o||(null===(r=e.ext)||void 0===r||(null===(i=r.data)||void 0===i||delete i.pbadslot))}}}),s(xs,Es,{mediaType:{priority:99,fn:function(e,t,n){if(!e.mediaType){var r=n.mediaType;if(!r&&!ws.hasOwnProperty(t.mtype))throw new Error("Cannot determine mediaType for response");e.mediaType=r||ws[t.mtype]}}},banner:{fn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createPixel,n=void 0===t?function(e){return Je(decodeURIComponent(e))}:t;return function(e,t){e.mediaType===jn&&(t.adm&&t.nurl?(e.ad=t.adm,e.ad+=n(t.nurl)):t.adm?e.ad=t.adm:t.nurl&&(e.adUrl=t.nurl))}}()},props:{fn:function(e,t,n){var r;Object.entries({requestId:null===(r=n.bidRequest)||void 0===r?void 0:r.bidId,seatBidId:t.id,cpm:t.price,currency:n.ortbResponse.cur||n.currency,width:t.w,height:t.h,dealId:t.dealid,creative_id:t.crid,creativeId:t.crid,burl:t.burl,ttl:t.exp||n.ttl,netRevenue:n.netRevenue}).filter((function(e){var t=i(e,2);t[0];return void 0!==t[1]})).forEach((function(t){var n=i(t,2),r=n[0],o=n[1];return e[r]=o})),e.meta||(e.meta={}),t.adomain&&(e.meta.advertiserDomains=t.adomain)}}}),xs);function Ps(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),i=t.length>1?Ps.apply(void 0,t):t[0];return Object.fromEntries(Os.map((function(e){return[e,Object.assign({},r[e],i[e])]})))}Us[Is].native={fn:function(e,t,n){if(!n.mediaType||n.mediaType===kn){var r,i=t.nativeOrtbRequest;i&&(null!==(r=(i=Object.assign({},n.nativeRequest,i)).assets)&&void 0!==r&&r.length?e.native=kt({},{request:JSON.stringify(i),ver:i.ver},e.native):Ce("mediaTypes.native is set, but no assets were specified. Native request skipped.",t))}}},Us[Es].native={fn:function(e,t){if(e.mediaType===kn){var n;if(!Pe(n="string"==typeof t.adm?JSON.parse(t.adm):t.adm)||!Array.isArray(n.assets))throw new Error("ORTB native response contained no assets");e.native={ortb:n}}}},Us[Is].video={fn:function(e,t,n){if(!n.mediaType||n.mediaType===Sn){var r=I(t,"mediaTypes.video");if(!qe(r)){var o=Object.fromEntries(Object.entries(r).filter((function(e){var t=i(e,1)[0];return bs.has(t)})));if(r.playerSize){var a=hs(r.playerSize);a.length>1&&Ce("video request specifies more than one playerSize; all but the first will be ignored"),Object.assign(o,a[0])}var s=ys[r.context];null!=s&&(o.placement=s),e.video=kt(o,e.video)}}}},Us[Es].video={fn:function(e,t,n){if(e.mediaType===Sn){if(I(n.imp,"video.w")&&I(n.imp,"video.h")){var r=[n.imp.video.w,n.imp.video.h];e.playerWidth=r[0],e.playerHeight=r[1]}t.adm&&(e.vastXml=t.adm),t.nurl&&(e.vastUrl=t.nurl)}}};var _s=St((function(){return Ps(Us,Rs(ks))}));function qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qs(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}nr({code:"openx",supportedMediaTypes:[jn,Sn],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;if(I(e,"mediaTypes.banner")&&t)return!!e.params.unit||I(e,"mediaTypes.banner.sizes.length")>0;return!(!e.params.unit||!t)},buildRequests:function(e,t){var n=e.filter((function(e){return zs(e)})),r=e.filter((function(e){return function(e){return I(e,"mediaTypes.banner")||!zs(e)}(e)})),i=r.length?[Ms(r,t,jn)]:[];return n.forEach((function(e){i.push(Ms([e],t,Sn))})),i},interpretResponse:function(e,t){e.body||(e.body={nbr:0});return Ns.fromORTB({request:t.data,response:e.body})},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled){var i=e.iframeEnabled?"iframe":"image",o=[],a="https://u.openx.net/w/1.0/pd";if(n&&(o.push("gdpr="+(n.gdprApplies?1:0)),o.push("gdpr_consent="+encodeURIComponent(n.consentString||""))),r&&o.push("us_privacy="+encodeURIComponent(r)),t.length>0&&t[0].body&&t[0].body.ext){var s=t[0].body.ext;s.delDomain?a="https://".concat(s.delDomain,"/w/1.0/pd"):s.platform&&o.push("ph="+s.platform)}else o.push("ph=2d1251ae-7f3a-47cf-bd2a-2f288854a0ba");return[{type:i,url:"".concat(a).concat(o.length>0?"?"+o.join("&"):"")}]}},transformBidParams:function(e,t){return Ot({unit:"string",customFloor:"number"},e)}});var Ns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=void 0===t?{}:t,r=e.processors,i=void 0===r?_s:r,o=e.overrides,a=void 0===o?{}:o,s=e.imp,c=e.request,u=e.bidResponse,d=e.response,l=new WeakMap;function f(e,t,n,r){var o;return function(){return null==o&&(o=function(){var o=n.bind(this,vs(i()[e]||{},a[e]||{}));return t&&(o=t.bind(this,o)),function(){try{return o.apply(this,arguments)}catch(e){r.call.apply(r,[this,e].concat(Array.prototype.slice.call(arguments)))}}}()),o.apply(this,arguments)}}var p=f(Is,s,(function(e,t,n){var r={};return e(r,t,n),r}),(function(e,t,n){Ie("Error while converting bidRequest to ORTB imp; request skipped.",{error:e,bidRequest:t,context:n})})),g=f(Cs,c,(function(e,t,n,r){var i={imp:t};return e(i,n,r),i}),(function(e,t,n,r){throw Ie("Error while converting to ORTB request",{error:e,imps:t,bidderRequest:n,context:r}),e})),m=f(Es,u,(function(e,t,n){var r={};return e(r,t,n),r}),(function(e,t,n){Ie("Error while converting ORTB seatbid.bid to bidResponse; bid skipped.",{error:e,bid:t,context:n})})),v=f(As,d,(function(e,t,n,r){var i={bids:t};return e(i,n,r),i}),(function(e,t,n,r){throw Ie("Error while converting from ORTB response",{error:e,bidResponses:t,ortbResponse:n,context:r}),e}));return{toORTB:function(e){var t=e.bidderRequest,r=e.bidRequests,i=e.context,o=void 0===i?{}:i;r=r||t.bids;var a={req:Object.assign({bidRequests:r},n,o),imp:{}};a.req.impContext=a.imp;var s=r.map((function(e){var r=Object.assign({bidderRequest:t,reqContext:a.req},n,o),i=p(e,r);if(null!=i){if(i.hasOwnProperty("id"))return Object.assign(r,{bidRequest:e,imp:i}),a.imp[i.id]=r,i;Ie("Converted ORTB imp does not specify an id, ignoring bid request",e,i)}})).filter(Boolean),c=g(s,t,a.req);return a.req.bidderRequest=t,null!=c&&l.set(c,a),c},fromORTB:function(e){var t=e.request,n=e.response,r=l.get(t);if(null==r)throw new Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,{ortbRequest:t},n,e)}var o=Object.fromEntries((t.imp||[]).map((function(e){return[e.id,e]}))),a=(n.seatbid||[]).flatMap((function(e){return(e.bid||[]).map((function(t){if(o.hasOwnProperty(t.impid)&&r.imp.hasOwnProperty(t.impid))return m(t,i(r.imp[t.impid],{imp:o[t.impid],seatbid:e,ortbResponse:n}));Ie("ORTB response seatbid[].bid[].impid does not match any imp in request; ignoring bid",t)}))})).filter(Boolean);return v(a,n,i(r.req))}}}({context:{netRevenue:!0,ttl:300},imp:function(e,t,n){var r=e(t,n);return kt(r,{tagid:t.params.unit,ext:{divid:t.adUnitCode}}),t.params.customParams&&xt(r,"ext.customParams",t.params.customParams),t.params.customFloor&&!r.bidfloor&&(r.bidfloor=t.params.customFloor),r},request:function(e,t,n,r){var i=e(t,n,r);kt(i,{at:1,ext:{bc:"".concat("hb_pb_ortb","_").concat("2.0")}});var o=r.bidRequests[0];return o.params.coppa&&xt(i,"regs.coppa",1),o.params.doNotTrack&&xt(i,"device.dnt",1),o.params.platform&&xt(i,"ext.platform",o.params.platform),o.params.delDomain&&xt(i,"ext.delDomain",o.params.delDomain),o.params.response_template_name&&xt(i,"ext.response_template_name",o.params.response_template_name),o.params.test&&(i.test=1),i},bidResponse:function(e,t,n){var r=e(t,n);t.ext&&(r.meta.networkId=t.ext.dsp_id,r.meta.advertiserId=t.ext.buyer_id,r.meta.brandId=t.ext.brand_id);var i=n.ortbResponse;return i.ext&&i.ext.paf&&(r.meta.paf=Object.assign({},i.ext.paf),r.meta.paf.content_id=I(t,"ext.paf.content_id")),r},response:function(e,t,n,r){var o=r.ortbRequest;o.ext&&(o.ext.delDomain&&xt(n,"ext.delDomain",o.ext.delDomain),o.ext.platform&&xt(n,"ext.platform",o.ext.platform));var a=e(t,n,r),s=I(n,"ext.fledge_auction_configs");return s?(s=Object.entries(s).map((function(e){var t=i(e,2),n=t[0],r=t[1];return{bidId:n,config:Object.assign({auctionSignals:{}},r)}})),{bids:a.bids,fledgeAuctionConfigs:s}):a.bids},overrides:{imp:{bidfloor:function(e,t,n,r){var i={};e(i,n,Ds(Ds({},r),{},{currency:"USD"})),"USD"===i.bidfloorcur&&Object.assign(t,i)},video:function(e,t,n,r){var i,o=n.mediaTypes[Sn];o&&(o=Object.assign({},o,n.params.video),n=Ds(Ds({},n),{},{mediaTypes:s({},Sn,o)})),e(t,n,r),t.video&&"outstream"===(null===(i=o)||void 0===i?void 0:i.context)&&(t.video.placement=t.video.placement||4)}}}});function Ms(e,t,n){return{method:"POST",url:U.getConfig("openxOrtbUrl")||"https://rtb.openx.net/openrtbb/prebidjs",data:Ns.toORTB({bidRequests:e,bidderRequest:t,context:{mediaType:n}})}}function zs(e){return I(e,"mediaTypes.video")}function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}l("openxBidAdapter");var Ls="pubmatic",Gs="PubMatic: ",Hs="USD",Vs=void 0,Ks="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),Js={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},Qs="number",Ys="string",Xs="boolean",$s="array",Zs={mimes:$s,minduration:Qs,maxduration:Qs,startdelay:Qs,playbackmethod:$s,api:$s,protocols:$s,w:Qs,h:Qs,battr:$s,linearity:Qs,placement:Qs,minbitrate:Qs,maxbitrate:Qs,skip:Qs},ec=1,tc=3,nc={1:"PMP",5:"PREF",6:"PMPG"},rc={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,r=rc.getRendererId("pubmatic",e.rendererCode),i=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===r){n=window.bluebillywig.renderers[o];break}n?n.bootstrap(t,i):Ce("".concat(Gs,": Couldn't find a renderer with ").concat(r))}else Ce("".concat(Gs,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var n=Ks.replace("$RENDERER",e),r=$t.install({url:n,loaded:!1,adUnitCode:t});try{r.setRender(rc.outstreamRender)}catch(i){Ce("".concat(Gs,": Error tying to setRender on renderer"),i)}return r},outstreamRender:function(e){e.renderer.push((function(){rc.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},ic=[jn,Sn,kn],oc=0,ac=!1,sc=["pubmatic"],cc=["all"];function uc(e,t){if(!Be(t))return t&&Ce("PubMatic: Ignoring param key: "+e+", expects string-value, found "+o(t)),Vs;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||Vs;case"yob":return parseInt(t)||Vs;default:return t}}function dc(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=Be(t=e.params.adSlot)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&Ce("pubmatic: adSlot must be a string. Ignoring adSlot"),"");var n=e.params.adSlot,r=n.split(":");if(n=r[0],2==r.length&&(e.params.adUnitIndex=r[1]),r=n.split("@"),e.params.adUnit=r[0],r.length>1){if(2!=(r=r[1].split("x")).length)return void Ce("PubMatic: AdSlot Error: adSlot not in required format");e.params.width=parseInt(r[0],10),e.params.height=parseInt(r[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(jn)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var i=0,o=[];i<e.mediaTypes.banner.sizes.length;i++)2===e.mediaTypes.banner.sizes[i].length&&o.push(e.mediaTypes.banner.sizes[i]);e.mediaTypes.banner.sizes=o,e.mediaTypes.banner.sizes.length>=1&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function lc(e,t,n){var r,i="Ignoring param key: "+e+", expects "+n+", found "+o(t);switch(n){case Xs:r=_e;break;case Qs:r=Ue;break;case Ys:r=Be;break;case $s:r=Re}return r(t)?t:(Ce(Gs+i),Vs)}var fc={desc:"desc",desc2:"desc2",body:"desc",body2:"desc2",sponsoredBy:"sponsored",cta:"ctatext",rating:"rating",address:"address",downloads:"downloads",likes:"likes",phone:"phone",price:"price",salePrice:"saleprice",displayUrl:"displayurl",saleprice:"saleprice",displayurl:"displayurl"},pc=E.oF,gc=E.zA,mc=E.FY,vc=E.s$,hc=Object.values(fc);function bc(e){var t;if(e.ortb){e=e.ortb,t=Ws(Ws({ver:"1.2"},e),{},{assets:[]});var n=e.assets,r=function(e){return e.title||e.img||e.data||e.video};if(n.length<1||!n.some((function(e){return r(e)})))return Ce("".concat(Gs,": Native assets object is empty or contains some invalid object")),ac=!0,t;n.forEach((function(e){var n=e;n.img&&(n.img.type==tc?(n.w=n.w||n.width||(n.sizes?n.sizes[0]:Vs),n.h=n.h||n.height||(n.sizes?n.sizes[1]:Vs),n.wmin=n.wmin||n.minimumWidth||(n.minsizes?n.minsizes[0]:Vs),n.hmin=n.hmin||n.minimumHeight||(n.minsizes?n.minsizes[1]:Vs)):n.img.type==ec&&(n.w=n.w||n.width||(n.sizes?n.sizes[0]:Vs),n.h=n.h||n.height||(n.sizes?n.sizes[1]:Vs))),n&&void 0!==n.id&&r(n)&&t.assets.push(n)}))}else t=function(e){if(!e&&!Pe(e))return Ce("".concat(Gs,": Native assets object is empty or not an object: ").concat(e)),void(ac=!0);var t={ver:"1.2",assets:[]};for(var n in e)if(!gc.includes(n))if(mc.hasOwnProperty(n)||hc.includes(n)){var r=e[n],i=0;r.required&&_e(r.required)&&(i=Number(r.required));var o={id:t.assets.length,required:i};if(n in fc)o.data={type:vc[fc[n]]},(r.len||r.length)&&(o.data.len=r.len||r.length),r.ext&&(o.data.ext=r.ext);else if("icon"===n||"image"===n){if(o.img={type:"icon"===n?pc.ICON:pc.MAIN},r.aspect_ratios)if(Re(r.aspect_ratios))if(r.aspect_ratios.length){var a=r.aspect_ratios[0],s=a.min_width,c=a.min_height;yt(s)&&yt(c)?(o.img.wmin=s,o.img.hmin=c):Ce("".concat(Gs,": image.aspect_ratios min_width or min_height are invalid: ").concat(s,", ").concat(c));var u=r.aspect_ratios.filter((function(e){return e.ratio_width&&e.ratio_height})).map((function(e){return"".concat(e.ratio_width,":").concat(e.ratio_height)}));u.length>0&&(o.img.ext={aspectratios:u})}else Ce("".concat(Gs,": image.aspect_ratios was passed, but it's empty: ").concat(r.aspect_ratios));else Ce("".concat(Gs,": image.aspect_ratios was passed, but it's not a an array: ").concat(r.aspect_ratios));o.img.w=r.w||r.width,o.img.h=r.h||r.height,o.img.wmin=r.wmin||r.minimumWidth||(r.minsizes?r.minsizes[0]:Vs),o.img.hmin=r.hmin||r.minimumHeight||(r.minsizes?r.minsizes[1]:Vs),r.sizes&&(2===r.sizes.length&&yt(r.sizes[0])&&yt(r.sizes[1])?(Te("".concat(Gs,": if asset.sizes exist, by OpenRTB spec we should remove wmin and hmin")),o.img.w=r.sizes[0],o.img.h=r.sizes[1],delete o.img.hmin,delete o.img.wmin):Ce("".concat(Gs,": image.sizes was passed, but its value is not an array of integers: ").concat(r.sizes))),r.ext&&(o.img.ext=r.ext),r.mimes&&(o.img.mimes=r.mimes)}else"title"===n?(o.title={len:r.len||r.length||140},r.ext&&(o.title.ext=r.ext)):"ext"===n&&(o.ext=r,delete o.required);t.assets.push(o)}else Ce("".concat(Gs,": Unrecognized native asset code: ").concat(n,". Asset will be ignored."));return t.assets.length<1?(Ce("".concat(Gs,": Could not find any valid asset")),void(ac=!0)):t}(e);return t}function yc(e){var t,n=e.mediaTypes.banner.sizes,r=[];if(n!==Vs&&Re(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=Vs,Ce("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}n.length>0&&(r=[],n.forEach((function(e){e.length>1&&r.push({w:e[0],h:e[1]})})),r.length>0&&(t.format=r)),t.pos=0,t.topframe=at()?0:1}else Ce("PubMatic: Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=Vs;return t}function wc(e){var t,n=kt(I(e.mediaTypes,"video"),e.params.video);if(n!==Vs){for(var r in t={},function(e,t){I(e,"placement")||Ce("Video.Placement param missing for "+t)}(n,e.adUnitCode),Zs)n.hasOwnProperty(r)&&(t[r]=lc(r,n[r],Zs[r]));Re(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):Ue(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=Vs,Ce("PubMatic: Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function Oc(e){var t,n,r={},i={},a=e.hasOwnProperty("sizes")?e.sizes:[],s="",c=[];if(function(e,t){t.params.deals&&(Re(t.params.deals)?t.params.deals.forEach((function(t){Be(t)&&t.length>3?(e.pmp||(e.pmp={private_auction:0,deals:[]}),e.pmp.deals.push({id:t})):Ce("PubMatic: Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+t)})):Ce("PubMatic: Error: bid.params.deals should be an array of strings."))}(r={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:uc("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:uc("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?uc("currency",e.params.currency):Hs},e),function(e,t){var n,r="";if(t.params.dctr)if(Be(r=t.params.dctr)&&r.length>0){var i=r.split("|");r="",i.forEach((function(e){r+=e.length>0?e.trim()+"|":""})),n=r.length,"|"===r.substring(n,n-1)&&(r=r.substring(0,n-1)),e.ext.key_val=r.trim()}else Ce("PubMatic: Ignoring param : dctr with value : "+r+", expects string-value, found empty or non-string value")}(r,e),function(e,t){var n=t.rtd&&t.rtd.jwplayer&&t.rtd.jwplayer.targeting||void 0,r="";if(void 0!==n&&""!==n&&n.hasOwnProperty("segments")){var i,o=n.segments.length;r+="jw-id="+n.content.id;for(var a=0;a<o;a++)r+="|jw-"+n.segments[a]+"=1";(i=e.ext)&&void 0===i.key_val?i.key_val=r:i.key_val+="|"+r}}(r,e),e.hasOwnProperty("mediaTypes"))for(s in e.mediaTypes)switch(s){case jn:(t=yc(e))!==Vs&&(r.banner=t);break;case kn:i.request=JSON.stringify(bc(e.nativeParams)),ac?(Ce("PubMatic: Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."),ac=!1):r.native=i;break;case Sn:(n=wc(e))!==Vs&&(r.video=n)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:at()?0:1},Re(a)&&a.length>1&&((a=a.splice(1,a.length-1)).forEach((function(e){c.push({w:e[0],h:e[1]})})),t.format=c),r.banner=t;return function(e,t){var n=Ws({},I(t,"ortb2Imp.ext.data"));Object.keys(n).forEach((function(t){"pbadslot"===t?"string"==typeof n[t]&&n[t]&&xt(e,"ext.data.pbadslot",n[t]):"adserver"===t?["name","adslot"].forEach((function(t){var r=I(n,"adserver.".concat(t));"string"==typeof r&&r&&(xt(e,"ext.data.adserver.".concat(t.toLowerCase()),r),"adslot"===t&&xt(e,"ext.dfp_ad_unit_code",r))})):xt(e,"ext.data.".concat(t),n[t])}))}(r,e),function(e,t){var n=-1;"function"!=typeof t.getFloor||U.getConfig("pubmatic.disableFloors")||[jn,Sn,kn].forEach((function(r){if(e.hasOwnProperty(r)){var i=[];"banner"===r&&(e[r].w&&e[r].h&&i.push([e[r].w,e[r].h]),Re(e[r].format)&&e[r].format.forEach((function(e){return i.push([e.w,e.h])}))),0===i.length&&i.push("*"),i.forEach((function(i){var a=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:i});if(Te(Gs,"floor from floor module returned for mediatype:",r," and size:",i," is: currency",a.currency,"floor",a.floor),"object"===o(a)&&a.currency===e.bidfloorcur&&!isNaN(parseInt(a.floor))){var s=parseFloat(a.floor);Te(Gs,"floor from floor module:",s,"previous floor value",n,"Min:",Math.min(s,n)),n=-1===n?s:Math.min(s,n),Te(Gs,"new floor value:",n)}}))}}));e.bidfloor&&(Te(Gs,"floor from floor module:",n,"impObj.bidfloor",e.bidfloor,"Max:",Math.max(n,e.bidfloor)),n=Math.max(n,e.bidfloor));e.bidfloor=!isNaN(n)&&n>0?n:Vs,Te(Gs,"new impObj.bidfloor value:",e.bidfloor)}(r,e),r.hasOwnProperty(jn)||r.hasOwnProperty(kn)||r.hasOwnProperty(Sn)?r:Vs}function Tc(e,t){(t=t.filter((function(e){return"string"==typeof e||(Ce("PubMatic: acat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){return n.indexOf(e)===t}))).length>0&&(Ce("PubMatic: acat: Selected: ",t),e.ext.acat=t)}function Cc(e,t,n){var r,i,o;if(null!=t&&null!==(r=t.ext)&&void 0!==r&&r.prebiddealpriority){var a=function(e,t){var n;if(e)return t.some((function(t){var r=g(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}));return r&&(n=r),r})),n}(e.requestId,[n.bidderRequest]),s=I(a,"mediaTypes.video");if((null==s?void 0:s.context)==xn){var c=(null==t||null===(i=t.ext)||void 0===i||null===(o=i.video)||void 0===o?void 0:o.duration)||(null==s?void 0:s.maxduration);e.video={context:xn,durationSeconds:c,dealTier:t.ext.prebiddealpriority}}}}function Ic(e){return!0===Re(e)&&e.length>0}var Ec={code:Ls,gvlid:76,supportedMediaTypes:[jn,Sn,kn],isBidRequestValid:function(e){if(e&&e.params){if(!Be(e.params.publisherId))return Ce("PubMatic: Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(Sn)){var t=I(e.mediaTypes,"video.mimes"),n=I(e,"params.video.mimes");if(!1===Ic(t)&&!1===Ic(n))return Ce("PubMatic: Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[Sn].hasOwnProperty("context"))return Ie("".concat(Gs,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[Sn].context&&!Be(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[Sn].hasOwnProperty("renderer"))return e.mediaTypes.hasOwnProperty(jn)||e.mediaTypes.hasOwnProperty(kn)?(delete e.mediaTypes[Sn],Ce("".concat(Gs,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting mediatype Video of bid: '),e),!0):(Ie("".concat(Gs,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1)}return!0}return!1},buildRequests:function(e,t){var n,r,i,a,s,c;t&&t.refererInfo&&(c=t.refererInfo);var u,d=function(e){return{pageURL:(null==e?void 0:e.page)||window.location.href,refURL:(null==e?void 0:e.ref)||window.document.referrer}}(c),l=function(e){return{id:""+(new Date).getTime(),at:1,cur:[Hs],imp:[],site:{page:e.pageURL,ref:e.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}}(d),p="",g=[],m=[],v=[];if(e.forEach((function(e){if((u=ot(e)).params.adSlot=u.params.adSlot||"",dc(u),u.mediaTypes&&u.mediaTypes.hasOwnProperty("video")||u.params.hasOwnProperty("video"));else if(!(u.hasOwnProperty("mediaTypes")&&u.mediaTypes.hasOwnProperty(kn)||0!==u.params.width||0!==u.params.height))return void Ce("PubMatic: Skipping the non-standard adslot: ",u.params.adSlot,JSON.stringify(u));d.pubId=d.pubId||u.params.publisherId,(d=function(e,t){var n,r,i;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),Js)Js.hasOwnProperty(n)&&(r=e[n])&&("object"===o(i=Js[n])&&(r=i.f(r,t)),Be(r)?t[n]=r:Ce("PubMatic: Ignoring param : "+n+" with value : "+Js[n]+", expects string-value, found "+o(r)));return t}(u.params,d)).transactionId=u.transactionId,""===p?p=u.params.currency||Vs:u.params.hasOwnProperty("currency")&&p!==u.params.currency&&Ce("PubMatic: Currency specifier ignored. Only one currency permitted."),u.params.currency=p,u.params.hasOwnProperty("dctr")&&Be(u.params.dctr)&&g.push(u.params.dctr),u.params.hasOwnProperty("bcat")&&Re(u.params.bcat)&&(m=m.concat(u.params.bcat)),u.params.hasOwnProperty("acat")&&Re(u.params.acat)&&(v=v.concat(u.params.acat));var t=Oc(u);t&&l.imp.push(t)})),0!=l.imp.length){l.site.publisher.id=d.pubId.trim(),oc=d.pubId.trim(),l.ext.wrapper={},l.ext.wrapper.profile=parseInt(d.profId)||Vs,l.ext.wrapper.version=parseInt(d.verId)||Vs,l.ext.wrapper.wiid=d.wiid||t.auctionId,l.ext.wrapper.wv="prebid_prebid_7.46.0",l.ext.wrapper.transactionId=d.transactionId,l.ext.wrapper.wp="pbjs";var h,b,y=t?gn.get(t.bidderCode,"allowAlternateBidderCodes"):void 0;if(void 0!==y){if(l.ext.marketplace={},t&&1==y){var w=gn.get(t.bidderCode,"allowedAlternateBidderCodes");Re(w)?(w=w.map((function(e){return e.trim().toLowerCase()})).filter((function(e){return!!e})).filter(Qe),sc=w.includes("*")?cc:[].concat(f(sc),f(w))):sc=cc}l.ext.marketplace.allowedbidders=sc.filter(Qe)}l.user.gender=d.gender?d.gender.trim():Vs,l.user.geo={},l.user.geo.lat=uc("lat",d.lat),l.user.geo.lon=uc("lon",d.lon),l.user.yob=uc("yob",d.yob),l.device.geo=l.user.geo,l.site.page=d.kadpageurl.trim()||l.site.page.trim(),l.site.domain=(h=l.site.page,(b=document.createElement("a")).href=h,b.hostname),"object"===o(U.getConfig("content"))&&(l.site.content=U.getConfig("content")),"object"===o(U.getConfig("device"))&&(l.device=Object.assign(l.device,U.getConfig("device"))),l.device.language=l.device.language&&l.device.language.split("-")[0],xt(l,"source.tid",d.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(l.test=1),e[0].schain&&xt(l,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(xt(l,"user.ext.consent",t.gdprConsent.consentString),xt(l,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&xt(l,"regs.ext.us_privacy",t.uspConsent),!0===U.getConfig("coppa")&&xt(l,"regs.coppa",1),function(e,t){var n=I(t,"0.userIdAsEids");Re(n)&&n.length>0&&xt(e,"user.eids",n)}(l,e);var O,T,C,E,A=t&&t.ortb2||{};if(A.site){var k=l.site,S=k.page,j=k.domain,x=k.ref;kt(l,{site:A.site}),l.site.page=S,l.site.domain=j,l.site.ref=x}if(A.user&&kt(l,{user:A.user}),A.bcat&&(m=m.concat(A.bcat)),null!==(n=A.device)&&void 0!==n&&n.sua)l.device.sua=null===(O=A.device)||void 0===O?void 0:O.sua;if(null!==(r=A.ext)&&void 0!==r&&null!==(i=r.prebid)&&void 0!==i&&null!==(a=i.bidderparams)&&void 0!==a&&null!==(s=a[t.bidderCode])&&void 0!==s&&s.acat){var B=A.ext.prebid.bidderparams[t.bidderCode].acat;Tc(l,B)}else v.length&&Tc(l,v);if(function(e,t){(t=t.filter((function(e){return"string"==typeof e||(Ce("PubMatic: bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){if(e.length>3)return n.indexOf(e)===t;Ce("PubMatic: bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length>0&&(Ce("PubMatic: bcat: Selected: ",t),e.bcat=t)}(l,m),null!=t&&t.timeout)l.tmax=t.timeout;else l.tmax=null===(T=window)||void 0===T||null===(C=T.PWT)||void 0===C||null===(E=C.versionDetails)||void 0===E?void 0:E.timeout;return l.ext.epoch=(new Date).getTime(),"object"===o(U.getConfig("app"))&&(l.app=U.getConfig("app"),l.app.publisher=l.site.publisher,l.app.ext=l.site.ext||Vs,"object"!==o(l.app.content)&&(l.app.content=l.site.content||Vs),delete l.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(l),bidderRequest:t}}},interpretResponse:function(e,t){var n=[],r=Hs,i=JSON.parse(t.data),o=i.site&&i.site.ref?i.site.ref:"";try{e.body&&e.body.seatbid&&Re(e.body.seatbid)&&(r=e.body.cur||r,e.body.seatbid.forEach((function(e){e.bid&&Re(e.bid)&&e.bid.forEach((function(a){var s={requestId:a.impid,cpm:parseFloat((a.price||0).toFixed(2)),width:a.w,height:a.h,creativeId:a.crid||a.id,dealId:a.dealid,currency:r,netRevenue:true,ttl:300,referrer:o,ad:a.adm,pm_seat:e.seat||null,pm_dspid:a.ext&&a.ext.dspid?a.ext.dspid:null,partnerImpId:a.id||""};i.imp&&i.imp.length>0&&i.imp.forEach((function(e){if(a.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.bidtype)t.mediaType=ic[e.ext.bidtype];else{Te("PubMatic: bid.ext.bidtype does not exist, checking alternatively for mediaType");var n=e.adm,r="",i=new RegExp(/VAST\s+version/);if(n.indexOf('span class="PubAPIAd"')>=0)t.mediaType=jn;else if(i.test(n))t.mediaType=Sn;else try{(r=JSON.parse(n.replace(/\\/g,"")))&&r.native&&(t.mediaType=kn)}catch(o){Ce("PubMatic: Error: Cannot parse native reponse for ad response: "+n)}}}(a,s),s.mediaType){case jn:break;case Sn:s.width=a.hasOwnProperty("w")?a.w:e.video.w,s.height=a.hasOwnProperty("h")?a.h:e.video.h,s.vastXml=a.adm,function(e,t){var n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(n=t.bidderRequest.bids[o].params,r=t.bidderRequest.bids[o].mediaTypes[Sn].context,i=t.bidderRequest.bids[o].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=rc.newRenderer(e.rendererCode,i))}}(s,t),Cc(s,a,t);break;case kn:!function(e,t){if(e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(r){return void Ce("PubMatic: Error: Cannot parse native reponse for ad response: "+t.adm)}t.native={ortb:Ws({},n.native)},t.mediaType=kn,t.width||(t.width=0),t.height||(t.height=0)}}(a,s)}})),a.ext&&a.ext.deal_channel&&(s.dealChannel=nc[a.ext.deal_channel]||null),function(e,t,n){e.meta={},t.ext&&t.ext.dspid&&(e.meta.networkId=t.ext.dspid,e.meta.demandSource=t.ext.dspid),t.ext&&t.ext.dchain&&(e.meta.dchain=t.ext.dchain);var r=n||t.ext&&t.ext.advid;r&&(e.meta.advertiserId=r,e.meta.agencyId=r,e.meta.buyerId=r),t.adomain&&Ic(t.adomain)&&(e.meta.advertiserDomains=t.adomain,e.meta.clickUrl=t.adomain[0],e.meta.brandId=t.adomain[0]),t.cat&&Ic(t.cat)&&(e.meta.secondaryCatIds=t.cat,e.meta.primaryCatId=t.cat[0])}(s,a,e.seat),e.ext&&e.ext.buyid&&(s.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),a.ext&&a.ext.marketplace&&(s.bidderCode=a.ext.marketplace),n.push(s)}))})))}catch(a){Ie(a)}return n},getUserSyncs:function(e,t,n,r){var i=""+oc;return n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(i+="&us_privacy="+encodeURIComponent(r)),!0===U.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e,t,n,r){return Ot({publisherId:"string",adSlot:"string"},e)}};function Ac(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ac(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ac(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}nr(Ec),l("pubmaticBidAdapter");var Sc={mimes:function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return"string"==typeof e}))},minduration:function(e){return yt(e)},maxduration:function(e){return yt(e)},protocols:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=10}))},w:function(e){return yt(e)},h:function(e){return yt(e)},startdelay:function(e){return yt(e)},placement:function(e){return yt(e)&&e>=1&&e<=5},linearity:function(e){return-1!==[1,2].indexOf(e)},skip:function(e){return-1!==[0,1].indexOf(e)},skipmin:function(e){return yt(e)},skipafter:function(e){return yt(e)},sequence:function(e){return yt(e)},battr:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=17}))},maxextended:function(e){return yt(e)},minbitrate:function(e){return yt(e)},maxbitrate:function(e){return yt(e)},boxingallowed:function(e){return-1!==[0,1].indexOf(e)},playbackmethod:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))},playbackend:function(e){return-1!==[1,2,3].indexOf(e)},delivery:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=3}))},pos:function(e){return yt(e)&&e>=1&&e<=7},api:function(e){return Array.isArray(e)&&e.every((function(e){return e>=1&&e<=6}))}},jc={context:function(e){return e!==xn},mimes:Sc.mimes,minduration:Sc.minduration,maxduration:Sc.maxduration,protocols:Sc.protocols};nr({code:"sovrn",supportedMediaTypes:[jn,Sn],gvlid:13,isBidRequestValid:function(e){var t,n=null==e||null===(t=e.mediaTypes)||void 0===t?void 0:t.video;return!(!e.params.tagid||isNaN(parseFloat(e.params.tagid))||!isFinite(e.params.tagid)||n&&!Object.keys(jc).every((function(e){return jc[e](n[e])})))},buildRequests:function(e,t){try{var n,r,i,o,a=[];Ne(e,(function(e){!i&&e.userIdAsEids&&(i=e.userIdAsEids).forEach((function(e){e.uids&&e.uids[0]&&"criteo.com"===e.source&&(o=e.uids[0].id)})),e.schain&&(r=r||e.schain),n=n||pe("iv",e.params);var t=e.getFloor&&"function"==typeof e.getFloor?e.getFloor({currency:"USD",mediaType:e.mediaTypes&&e.mediaTypes.banner?"banner":"video",size:"*"}):{};t.floor=t.floor||pe("bidfloor",e.params);var s={adunitcode:e.adUnitCode,id:e.bidId,tagid:String(pe("tagid",e.params)),bidfloor:t.floor};if(I(e,"mediaTypes.banner")){var c=I(e,"mediaTypes.banner.sizes")||e.sizes,u=(c=(c=Re(c)&&Re(c[0])?c:[c]).filter((function(e){return Re(e)}))).map((function(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}));s.banner={format:u,w:1,h:1}}I(e,"mediaTypes.video")&&(s.video=function(e){var t={},n=I(e,"sizes"),r=I(e,"mediaTypes.video",{}),i=I(e,"params.video",{}),o={};if(n){var a=Array.isArray(n[0])?n[0]:n;o.w=a[0],o.h=a[1]}else if(Array.isArray(r.playerSize)){var s=Array.isArray(r.playerSize[0])?r.playerSize[0]:r.playerSize;o.w=s[0],o.h=s[1]}var c=kc(kc(kc({},o),r),i);return Object.keys(Sc).forEach((function(e){c.hasOwnProperty(e)&&(Sc[e](c[e])?t[e]=c[e]:Ce("The OpenRTB video param ".concat(e," has been skipped due to misformating. Please refer to OpenRTB 2.5 spec.")))})),t}(e)),s.ext=pe("ext",e.ortb2Imp)||void 0;var d=pe("segments",e.params);d&&(s.ext=s.ext||{},s.ext.deals=d.split(",").map((function(e){return e.trim()}))),a.push(s)}));var s=t.ortb2||{},c=s.site||{};c.page=t.refererInfo.page,c.domain=t.refererInfo.domain;var u={id:le(),imp:a,site:c,user:s.user||{}};r&&(u.source={ext:{schain:r}}),t.gdprConsent&&(xt(u,"regs.ext.gdpr",+t.gdprConsent.gdprApplies),xt(u,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&xt(u,"regs.ext.us_privacy",t.uspConsent),i&&(xt(u,"user.ext.eids",i),o&&xt(u,"user.ext.prebid_criteoid",o));var d="https://ap.lijit.com/rtb/bid?src=prebid_prebid_7.46.0";return n&&(d+="&iv=".concat(n)),{method:"POST",url:d,data:JSON.stringify(u),options:{contentType:"text/plain"}}}catch(l){Ie("Could not build bidrequest, error deatils:",l)}},interpretResponse:function(e){var t=e.body,n=t.id,r=t.seatbid;if(!n||!r||!Array.isArray(r))return[];try{return r.filter((function(e){return e})).map((function(e){return e.bid.map((function(e){var t,n={requestId:e.impid,cpm:parseFloat(e.price),width:parseInt(e.w),height:parseInt(e.h),creativeId:e.crid||e.id,dealId:e.dealid||null,currency:"USD",netRevenue:!0,mediaType:e.nurl?jn:Sn,ttl:(null===(t=e.ext)||void 0===t?void 0:t.ttl)||90,meta:{advertiserDomains:e&&e.adomain?e.adomain:[]}};return e.nurl?n.ad=decodeURIComponent("".concat(e.adm,'<img src="').concat(e.nurl,'">')):n.vastXml=decodeURIComponent(e.adm),n}))})).flat()}catch(i){return Ie("Could not interpret bidresponse, error details:",i),i}},getUserSyncs:function(e,t,n,r){try{var i=[];if(t&&0!==t.length){if(e.iframeEnabled){var o=t.filter((function(e){return I(e,"body.ext.iid")})).map((function(e){return e.body.ext.iid})),a=[];n&&n.gdprApplies&&"string"==typeof n.consentString&&a.push(["gdpr_consent",n.consentString]),r&&a.push(["us_privacy",r]),o[0]&&(a.push(["informer",o[0]]),i.push({type:"iframe",url:"https://ap.lijit.com/beacon?"+a.map((function(e){return e.join("=")})).join("&")}))}e.pixelEnabled&&t.filter((function(e){return I(e,"body.ext.sync.pixels")})).reduce((function(e,t){return e.concat(t.body.ext.sync.pixels)}),[]).map((function(e){return e.url})).forEach((function(e){return i.push({type:"image",url:e})}))}return i}catch(s){return[]}}}),l("sovrnBidAdapter"),Da.processQueue()})();var i=window;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();