(()=>{var e={2137:(e,t)=>{t.version="0.1.0";var n=function(e){this.message=e,this.toString=function(){return this.constructor.name+": "+this.message}},r=function(e){this.firstWeekDay=e||0};r.prototype={constructor:r,weekStartDate:function(e){for(var t=new Date(e.getTime());t.getDay()!==this.firstWeekDay;)t.setDate(t.getDate()-1);return t},monthDates:function(e,t,r,i){if("number"!=typeof e||e<1970)throw new n("year must be a number >= 1970");if("number"!=typeof t||t<0||t>11)throw new n("month must be a number (Jan is 0)");var s=[],a=[],o=0,l=this.weekStartDate(new Date(e,t,1));do{for(o=0;o<7;o++)a.push(r?r(l):l),(l=new Date(l.getTime())).setDate(l.getDate()+1);s.push(i?i(a):a),a=[]}while(l.getMonth()<=t&&l.getFullYear()===e);return s},monthDays:function(e,t){return this.monthDates(e,t,(function(e){return e.getMonth()===t?e.getDate():0}))},monthText:function(e,t){if(void 0===e){var n=new Date;e=n.getFullYear(),t=n.getMonth()}return this.monthDates(e,t,(function(e){for(var n=e.getMonth()===t?e.getDate().toString():"  ";n.length<2;)n=" "+n;return n}),(function(e){return e.join(" ")})).join("\n")}};for(var i="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),s=0;s<i.length;s++)r[i[s]]=s;t.Calendar=r},1804:(e,t,n)=>{"use strict";var r=n(5228),i={};function s(e,t,n,r,i,s,a,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,a,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}var a="mixins";e.exports=function(e,t,n){var o=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)h(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(s(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return s("DEFINE_MANY_MERGED"===(c.hasOwnProperty(n)?c[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=f(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function p(e,t){var n=l.hasOwnProperty(t)?l[t]:null;y.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function h(e,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var o in n.hasOwnProperty(a)&&u.mixins(e,n.mixins),n)if(n.hasOwnProperty(o)&&o!==a){var c=n[o],h=r.hasOwnProperty(o);if(p(h,o),u.hasOwnProperty(o))u[o](e,c);else{var d=l.hasOwnProperty(o);if("function"!=typeof c||d||h||!1===n.autobind)if(h){var v=l[o];s(d&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,o),"DEFINE_MANY_MERGED"===v?r[o]=f(r[o],c):"DEFINE_MANY"===v&&(r[o]=g(r[o],c))}else r[o]=c;else i.push(o,c),r[o]=c}}}}function d(e,t){for(var n in s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return d(i,n),d(i,r),i}}function g(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,t){return t.bind(e)}var _={componentDidMount:function(){this.__isMounted=!0}},m={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},w=function(){};return r(w.prototype,e.prototype,y),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=v(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var o=this.getInitialState?this.getInitialState():null;s("object"==typeof o&&!Array.isArray(o),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=o};for(var r in t.prototype=new w,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],o.forEach(h.bind(null,t)),h(t,_),h(t,e),h(t,m),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[r]||(t.prototype[r]=null);return t}}},2306:(e,t,n)=>{"use strict";var r=n(1609),i=n(1804);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var s=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,s)},4146:(e,t,n)=>{"use strict";var r=n(3404),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?a:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=d(n);i&&i!==f&&e(t,i,r)}var a=u(n);p&&(a=a.concat(p(n)));for(var o=l(t),g=l(n),v=0;v<a.length;++v){var _=a[v];if(!(s[_]||r&&r[_]||g&&g[_]||o&&o[_])){var m=h(n,_);try{c(t,_,m)}catch(e){}}}}return t}},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case p:case s:case o:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case g:case l:return e;default:return t}}case i:return t}}}function x(e){return b(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=o,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===s},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===o},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===p||e===o||e===a||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===m||e.$$typeof===y||e.$$typeof===w||e.$$typeof===_)},t.typeOf=b},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},9404:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return a(e)?e:Y(e)}function r(e){return o(e)?e:K(e)}function i(e){return l(e)?e:G(e)}function s(e){return a(e)&&!c(e)?e:J(e)}function a(e){return!(!e||!e[p])}function o(e){return!(!e||!e[h])}function l(e){return!(!e||!e[d])}function c(e){return o(e)||l(e)}function u(e){return!(!e||!e[f])}t(r,n),t(i,n),t(s,n),n.isIterable=a,n.isKeyed=o,n.isIndexed=l,n.isAssociative=c,n.isOrdered=u,n.Keyed=r,n.Indexed=i,n.Set=s;var p="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",g="delete",v=5,_=1<<v,m=_-1,y={},w={value:!1},b={value:!1};function x(e){return e.value=!1,e}function k(e){e&&(e.value=!0)}function S(){}function j(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function M(e){return void 0===e.size&&(e.size=e.__iterate(O)),e.size}function D(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?M(e)+t:t}function O(){return!0}function E(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function C(e,t){return I(e,t,0)}function P(e,t){return I(e,t,t)}function I(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var N=0,z=1,A=2,R="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",L=R||T;function B(e){this.next=e}function F(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function q(){return{value:void 0,done:!0}}function H(e){return!!$(e)}function U(e){return e&&"function"==typeof e.next}function V(e){var t=$(e);return t&&t.call(e)}function $(e){var t=e&&(R&&e[R]||e[T]);if("function"==typeof t)return t}function W(e){return e&&"number"==typeof e.length}function Y(e){return null==e?ae():a(e)?e.toSeq():function(e){var t=ce(e)||"object"==typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function K(e){return null==e?ae().toKeyedSeq():a(e)?o(e)?e.toSeq():e.fromEntrySeq():oe(e)}function G(e){return null==e?ae():a(e)?o(e)?e.entrySeq():e.toIndexedSeq():le(e)}function J(e){return(null==e?ae():a(e)?o(e)?e.entrySeq():e:le(e)).toSetSeq()}B.prototype.toString=function(){return"[Iterator]"},B.KEYS=N,B.VALUES=z,B.ENTRIES=A,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[L]=function(){return this},t(Y,n),Y.of=function(){return Y(arguments)},Y.prototype.toSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq {","}")},Y.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Y.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},Y.prototype.__iterator=function(e,t){return pe(this,e,t,!0)},t(K,Y),K.prototype.toKeyedSeq=function(){return this},t(G,Y),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq [","]")},G.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},G.prototype.__iterator=function(e,t){return pe(this,e,t,!1)},t(J,Y),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},Y.isSeq=se,Y.Keyed=K,Y.Set=J,Y.Indexed=G;var Q,Z,X,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function ie(e){this._iterator=e,this._iteratorCache=[]}function se(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function oe(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():U(e)?new ie(e).fromEntrySeq():H(e)?new re(e).fromEntrySeq():"object"==typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function le(e){var t=ce(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ce(e){return W(e)?new te(e):U(e)?new ie(e):H(e)?new re(e):void 0}function ue(e,t,n,r){var i=e._cache;if(i){for(var s=i.length-1,a=0;a<=s;a++){var o=i[n?s-a:a];if(!1===t(o[1],r?o[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function pe(e,t,n,r){var i=e._cache;if(i){var s=i.length-1,a=0;return new B((function(){var e=i[n?s-a:a];return a++>s?{value:void 0,done:!0}:F(t,r?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,n)}function he(e,t){return t?de(t,e,"",{"":e}):fe(e)}function de(e,t,n,r){return Array.isArray(t)?e.call(r,n,G(t).map((function(n,r){return de(e,n,r,t)}))):ge(t)?e.call(r,n,K(t).map((function(n,r){return de(e,n,r,t)}))):t}function fe(e){return Array.isArray(e)?G(e).map(fe).toList():ge(e)?K(e).map(fe).toMap():e}function ge(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ve(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function _e(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||o(e)!==o(t)||l(e)!==l(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var i=r.next().value;return i&&ve(i[1],e)&&(n||ve(i[0],t))}))&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var s=e;e=t,t=s}var p=!0,h=t.__iterate((function(t,r){if(n?!e.has(t):i?!ve(t,e.get(r,y)):!ve(e.get(r,y),t))return p=!1,!1}));return p&&e.size===h}function me(e,t){if(!(this instanceof me))return new me(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function ye(e,t){if(!e)throw new Error(t)}function we(e,t,n){if(!(this instanceof we))return new we(e,t,n);if(ye(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(X)return X;X=this}}function be(){throw TypeError("Abstract")}function xe(){}function ke(){}function Se(){}Y.prototype[ee]=!0,t(te,G),te.prototype.get=function(e,t){return this.has(e)?this._array[D(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new B((function(){return i>r?{value:void 0,done:!0}:F(e,i,n[t?r-i++:i++])}))},t(ne,K),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,s=0;s<=i;s++){var a=r[t?i-s:s];if(!1===e(n[a],a,this))return s+1}return s},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,s=0;return new B((function(){var a=r[t?i-s:s];return s++>i?{value:void 0,done:!0}:F(e,a,n[a])}))},ne.prototype[f]=!0,t(re,G),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=V(this._iterable),r=0;if(U(n))for(var i;!(i=n.next()).done&&!1!==e(i.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=V(this._iterable);if(!U(n))return new B(q);var r=0;return new B((function(){var t=n.next();return t.done?t:F(e,r++,t.value)}))},t(ie,G),ie.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,i=this._iteratorCache,s=0;s<i.length;)if(!1===e(i[s],s++,this))return s;for(;!(n=r.next()).done;){var a=n.value;if(i[s]=a,!1===e(a,s++,this))break}return s},ie.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new B((function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return F(e,i,r[i++])}))},t(me,G),me.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},me.prototype.get=function(e,t){return this.has(e)?this._value:t},me.prototype.includes=function(e){return ve(this._value,e)},me.prototype.slice=function(e,t){var n=this.size;return E(e,t,n)?this:new me(this._value,P(t,n)-C(e,n))},me.prototype.reverse=function(){return this},me.prototype.indexOf=function(e){return ve(this._value,e)?0:-1},me.prototype.lastIndexOf=function(e){return ve(this._value,e)?this.size:-1},me.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},me.prototype.__iterator=function(e,t){var n=this,r=0;return new B((function(){return r<n.size?F(e,r++,n._value):{value:void 0,done:!0}}))},me.prototype.equals=function(e){return e instanceof me?ve(this._value,e._value):_e(e)},t(we,G),we.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},we.prototype.get=function(e,t){return this.has(e)?this._start+D(this,e)*this._step:t},we.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},we.prototype.slice=function(e,t){return E(e,t,this.size)?this:(e=C(e,this.size),(t=P(t,this.size))<=e?new we(0,0):new we(this.get(e,this._end),this.get(t,this._end),this._step))},we.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},we.prototype.lastIndexOf=function(e){return this.indexOf(e)},we.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,s=0;s<=n;s++){if(!1===e(i,s,this))return s+1;i+=t?-r:r}return s},we.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,s=0;return new B((function(){var a=i;return i+=t?-r:r,s>n?{value:void 0,done:!0}:F(e,s++,a)}))},we.prototype.equals=function(e){return e instanceof we?this._start===e._start&&this._end===e._end&&this._step===e._step:_e(this,e)},t(be,n),t(xe,be),t(ke,be),t(Se,be),be.Keyed=xe,be.Indexed=ke,be.Set=Se;var je="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Me(e){return e>>>1&1073741824|3221225471&e}function De(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Me(n)}if("string"===t)return e.length>Ae?function(e){var t=Le[e];return void 0===t&&(t=Oe(e),Te===Re&&(Te=0,Le={}),Te++,Le[e]=t),t}(e):Oe(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Ie&&void 0!==(t=Pe.get(e)))return t;if(void 0!==(t=e[ze]))return t;if(!Ce){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[ze]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++Ne,1073741824&Ne&&(Ne=0),Ie)Pe.set(e,t);else{if(void 0!==Ee&&!1===Ee(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ce)Object.defineProperty(e,ze,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[ze]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[ze]=t}}return t}(e);if("function"==typeof e.toString)return Oe(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Oe(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Me(t)}var Ee=Object.isExtensible,Ce=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var Pe,Ie="function"==typeof WeakMap;Ie&&(Pe=new WeakMap);var Ne=0,ze="__immutablehash__";"function"==typeof Symbol&&(ze=Symbol(ze));var Ae=16,Re=255,Te=0,Le={};function Be(e){ye(e!==1/0,"Cannot perform this action with an infinite size.")}function Fe(e){return null==e?et():qe(e)&&!u(e)?e:et().withMutations((function(t){var n=r(e);Be(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function qe(e){return!(!e||!e[Ue])}t(Fe,xe),Fe.of=function(){var t=e.call(arguments,0);return et().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Fe.prototype.toString=function(){return this.__toString("Map {","}")},Fe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Fe.prototype.set=function(e,t){return tt(this,e,t)},Fe.prototype.setIn=function(e,t){return this.updateIn(e,y,(function(){return t}))},Fe.prototype.remove=function(e){return tt(this,e,y)},Fe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return y}))},Fe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Fe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=ct(this,an(e),t,n);return r===y?void 0:r},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):et()},Fe.prototype.merge=function(){return st(this,void 0,arguments)},Fe.prototype.mergeWith=function(t){return st(this,t,e.call(arguments,1))},Fe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,et(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Fe.prototype.mergeDeep=function(){return st(this,at,arguments)},Fe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return st(this,ot(t),n)},Fe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,et(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Fe.prototype.sort=function(e){return It(Kt(this,e))},Fe.prototype.sortBy=function(e,t){return It(Kt(this,t,e))},Fe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},Fe.prototype.asImmutable=function(){return this.__ensureOwner()},Fe.prototype.wasAltered=function(){return this.__altered},Fe.prototype.__iterator=function(e,t){return new Je(this,e,t)},Fe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Fe.isMap=qe;var He,Ue="@@__IMMUTABLE_MAP__@@",Ve=Fe.prototype;function $e(e,t){this.ownerID=e,this.entries=t}function We(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ye(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ke(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function Je(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Ze(e._root)}function Qe(e,t){return F(e,t[0],t[1])}function Ze(e,t){return{node:e,index:0,__prev:t}}function Xe(e,t,n,r){var i=Object.create(Ve);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function et(){return He||(He=Xe(0))}function tt(e,t,n){var r,i;if(e._root){var s=x(w),a=x(b);if(r=nt(e._root,e.__ownerID,0,void 0,t,n,s,a),!a.value)return e;i=e.size+(s.value?n===y?-1:1:0)}else{if(n===y)return e;i=1,r=new $e(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Xe(i,r):et()}function nt(e,t,n,r,i,s,a,o){return e?e.update(t,n,r,i,s,a,o):s===y?e:(k(o),k(a),new Ge(t,r,[i,s]))}function rt(e){return e.constructor===Ge||e.constructor===Ke}function it(e,t,n,r,i){if(e.keyHash===r)return new Ke(t,r,[e.entry,i]);var s,a=(0===n?e.keyHash:e.keyHash>>>n)&m,o=(0===n?r:r>>>n)&m;return new We(t,1<<a|1<<o,a===o?[it(e,t,n+v,r,i)]:(s=new Ge(t,r,i),a<o?[e,s]:[s,e]))}function st(e,t,n){for(var i=[],s=0;s<n.length;s++){var o=n[s],l=r(o);a(o)||(l=l.map((function(e){return he(e)}))),i.push(l)}return lt(e,t,i)}function at(e,t,n){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):ve(e,t)?e:t}function ot(e){return function(t,n,r){if(t&&t.mergeDeepWith&&a(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return ve(t,i)?t:i}}function lt(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,y,(function(e){return e===y?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)})):e.constructor(n[0])}function ct(e,t,n,r){var i=e===y,s=t.next();if(s.done){var a=i?n:e,o=r(a);return o===a?e:o}ye(i||e&&e.set,"invalid keyPath");var l=s.value,c=i?y:e.get(l,y),u=ct(c,t,n,r);return u===c?e:u===y?e.remove(l):(i?et():e).set(l,u)}function ut(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function pt(e,t,n,r){var i=r?e:j(e);return i[t]=n,i}Ve[Ue]=!0,Ve[g]=Ve.remove,Ve.removeIn=Ve.deleteIn,$e.prototype.get=function(e,t,n,r){for(var i=this.entries,s=0,a=i.length;s<a;s++)if(ve(n,i[s][0]))return i[s][1];return r},$e.prototype.update=function(e,t,n,r,i,s,a){for(var o=i===y,l=this.entries,c=0,u=l.length;c<u&&!ve(r,l[c][0]);c++);var p=c<u;if(p?l[c][1]===i:o)return this;if(k(a),(o||!p)&&k(s),!o||1!==l.length){if(!p&&!o&&l.length>=ht)return function(e,t,n,r){e||(e=new S);for(var i=new Ge(e,De(n),[n,r]),s=0;s<t.length;s++){var a=t[s];i=i.update(e,0,void 0,a[0],a[1])}return i}(e,l,r,i);var h=e&&e===this.ownerID,d=h?l:j(l);return p?o?c===u-1?d.pop():d[c]=d.pop():d[c]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new $e(e,d)}},We.prototype.get=function(e,t,n,r){void 0===t&&(t=De(n));var i=1<<((0===e?t:t>>>e)&m),s=this.bitmap;return s&i?this.nodes[ut(s&i-1)].get(e+v,t,n,r):r},We.prototype.update=function(e,t,n,r,i,s,a){void 0===n&&(n=De(r));var o=(0===t?n:n>>>t)&m,l=1<<o,c=this.bitmap,u=!!(c&l);if(!u&&i===y)return this;var p=ut(c&l-1),h=this.nodes,d=u?h[p]:void 0,f=nt(d,e,t+v,n,r,i,s,a);if(f===d)return this;if(!u&&f&&h.length>=dt)return function(e,t,n,r,i){for(var s=0,a=new Array(_),o=0;0!==n;o++,n>>>=1)a[o]=1&n?t[s++]:void 0;return a[r]=i,new Ye(e,s+1,a)}(e,h,c,o,f);if(u&&!f&&2===h.length&&rt(h[1^p]))return h[1^p];if(u&&f&&1===h.length&&rt(f))return f;var g=e&&e===this.ownerID,w=u?f?c:c^l:c|l,b=u?f?pt(h,p,f,g):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),s=0,a=0;a<r;a++)a===t&&(s=1),i[a]=e[a+s];return i}(h,p,g):function(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var s=new Array(i),a=0,o=0;o<i;o++)o===t?(s[o]=n,a=-1):s[o]=e[o+a];return s}(h,p,f,g);return g?(this.bitmap=w,this.nodes=b,this):new We(e,w,b)},Ye.prototype.get=function(e,t,n,r){void 0===t&&(t=De(n));var i=(0===e?t:t>>>e)&m,s=this.nodes[i];return s?s.get(e+v,t,n,r):r},Ye.prototype.update=function(e,t,n,r,i,s,a){void 0===n&&(n=De(r));var o=(0===t?n:n>>>t)&m,l=i===y,c=this.nodes,u=c[o];if(l&&!u)return this;var p=nt(u,e,t+v,n,r,i,s,a);if(p===u)return this;var h=this.count;if(u){if(!p&&--h<ft)return function(e,t,n,r){for(var i=0,s=0,a=new Array(n),o=0,l=1,c=t.length;o<c;o++,l<<=1){var u=t[o];void 0!==u&&o!==r&&(i|=l,a[s++]=u)}return new We(e,i,a)}(e,c,h,o)}else h++;var d=e&&e===this.ownerID,f=pt(c,o,p,d);return d?(this.count=h,this.nodes=f,this):new Ye(e,h,f)},Ke.prototype.get=function(e,t,n,r){for(var i=this.entries,s=0,a=i.length;s<a;s++)if(ve(n,i[s][0]))return i[s][1];return r},Ke.prototype.update=function(e,t,n,r,i,s,a){void 0===n&&(n=De(r));var o=i===y;if(n!==this.keyHash)return o?this:(k(a),k(s),it(this,e,t,n,[r,i]));for(var l=this.entries,c=0,u=l.length;c<u&&!ve(r,l[c][0]);c++);var p=c<u;if(p?l[c][1]===i:o)return this;if(k(a),(o||!p)&&k(s),o&&2===u)return new Ge(e,this.keyHash,l[1^c]);var h=e&&e===this.ownerID,d=h?l:j(l);return p?o?c===u-1?d.pop():d[c]=d.pop():d[c]=[r,i]:d.push([r,i]),h?(this.entries=d,this):new Ke(e,this.keyHash,d)},Ge.prototype.get=function(e,t,n,r){return ve(n,this.entry[0])?this.entry[1]:r},Ge.prototype.update=function(e,t,n,r,i,s,a){var o=i===y,l=ve(r,this.entry[0]);return(l?i===this.entry[1]:o)?this:(k(a),o?void k(s):l?e&&e===this.ownerID?(this.entry[1]=i,this):new Ge(e,this.keyHash,[r,i]):(k(s),it(this,e,t,De(r),[r,i])))},$e.prototype.iterate=Ke.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},We.prototype.iterate=Ye.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var s=n[t?i-r:r];if(s&&!1===s.iterate(e,t))return!1}},Ge.prototype.iterate=function(e,t){return e(this.entry)},t(Je,B),Je.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return Qe(e,r.entry)}else if(r.entries){if(i<=(n=r.entries.length-1))return Qe(e,r.entries[this._reverse?n-i:i])}else if(i<=(n=r.nodes.length-1)){var s=r.nodes[this._reverse?n-i:i];if(s){if(s.entry)return Qe(e,s.entry);t=this._stack=Ze(s,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var ht=_/4,dt=_/2,ft=_/4;function gt(e){var t=jt();if(null==e)return t;if(vt(e))return e;var n=i(e),r=n.size;return 0===r?t:(Be(r),r>0&&r<_?St(0,r,v,null,new yt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function vt(e){return!(!e||!e[_t])}t(gt,ke),gt.of=function(){return this(arguments)},gt.prototype.toString=function(){return this.__toString("List [","]")},gt.prototype.get=function(e,t){if((e=D(this,e))>=0&&e<this.size){var n=Ot(this,e+=this._origin);return n&&n.array[e&m]}return t},gt.prototype.set=function(e,t){return function(e,t,n){if((t=D(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Et(e,t).set(0,n):Et(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,i=e._root,s=x(b);return t>=Pt(e._capacity)?r=Mt(r,e.__ownerID,0,t,n,s):i=Mt(i,e.__ownerID,e._level,t,n,s),s.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):St(e._origin,e._capacity,e._level,i,r):e}(this,e,t)},gt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},gt.prototype.insert=function(e,t){return this.splice(e,0,t)},gt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):jt()},gt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){Et(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},gt.prototype.pop=function(){return Et(this,0,-1)},gt.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Et(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},gt.prototype.shift=function(){return Et(this,1)},gt.prototype.merge=function(){return Ct(this,void 0,arguments)},gt.prototype.mergeWith=function(t){return Ct(this,t,e.call(arguments,1))},gt.prototype.mergeDeep=function(){return Ct(this,at,arguments)},gt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ct(this,ot(t),n)},gt.prototype.setSize=function(e){return Et(this,0,e)},gt.prototype.slice=function(e,t){var n=this.size;return E(e,t,n)?this:Et(this,C(e,n),P(t,n))},gt.prototype.__iterator=function(e,t){var n=0,r=kt(this,t);return new B((function(){var t=r();return t===xt?{value:void 0,done:!0}:F(e,n++,t)}))},gt.prototype.__iterate=function(e,t){for(var n,r=0,i=kt(this,t);(n=i())!==xt&&!1!==e(n,r++,this););return r},gt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?St(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},gt.isList=vt;var _t="@@__IMMUTABLE_LIST__@@",mt=gt.prototype;function yt(e,t){this.array=e,this.ownerID=t}mt[_t]=!0,mt[g]=mt.remove,mt.setIn=Ve.setIn,mt.deleteIn=mt.removeIn=Ve.removeIn,mt.update=Ve.update,mt.updateIn=Ve.updateIn,mt.mergeIn=Ve.mergeIn,mt.mergeDeepIn=Ve.mergeDeepIn,mt.withMutations=Ve.withMutations,mt.asMutable=Ve.asMutable,mt.asImmutable=Ve.asImmutable,mt.wasAltered=Ve.wasAltered,yt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&m;if(r>=this.array.length)return new yt([],e);var i,s=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-v,n))===a&&s)return this}if(s&&!i)return this;var o=Dt(this,e);if(!s)for(var l=0;l<r;l++)o.array[l]=void 0;return i&&(o.array[r]=i),o},yt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,i=n-1>>>t&m;if(i>=this.array.length)return this;if(t>0){var s=this.array[i];if((r=s&&s.removeAfter(e,t-v,n))===s&&i===this.array.length-1)return this}var a=Dt(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var wt,bt,xt={};function kt(e,t){var n=e._origin,r=e._capacity,i=Pt(r),s=e._tail;return a(e._root,e._level,0);function a(e,o,l){return 0===o?function(e,a){var o=a===i?s&&s.array:e&&e.array,l=a>n?0:n-a,c=r-a;return c>_&&(c=_),function(){if(l===c)return xt;var e=t?--c:l++;return o&&o[e]}}(e,l):function(e,i,s){var o,l=e&&e.array,c=s>n?0:n-s>>i,u=1+(r-s>>i);return u>_&&(u=_),function(){for(;;){if(o){var e=o();if(e!==xt)return e;o=null}if(c===u)return xt;var n=t?--u:c++;o=a(l&&l[n],i-v,s+(n<<i))}}}(e,o,l)}}function St(e,t,n,r,i,s,a){var o=Object.create(mt);return o.size=t-e,o._origin=e,o._capacity=t,o._level=n,o._root=r,o._tail=i,o.__ownerID=s,o.__hash=a,o.__altered=!1,o}function jt(){return wt||(wt=St(0,0,v))}function Mt(e,t,n,r,i,s){var a,o=r>>>n&m,l=e&&o<e.array.length;if(!l&&void 0===i)return e;if(n>0){var c=e&&e.array[o],u=Mt(c,t,n-v,r,i,s);return u===c?e:((a=Dt(e,t)).array[o]=u,a)}return l&&e.array[o]===i?e:(k(s),a=Dt(e,t),void 0===i&&o===a.array.length-1?a.array.pop():a.array[o]=i,a)}function Dt(e,t){return t&&e&&t===e.ownerID?e:new yt(e?e.array.slice():[],t)}function Ot(e,t){if(t>=Pt(e._capacity))return e._tail;if(t<1<<e._level+v){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&m],r-=v;return n}}function Et(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new S,i=e._origin,s=e._capacity,a=i+t,o=void 0===n?s:n<0?s+n:i+n;if(a===i&&o===s)return e;if(a>=o)return e.clear();for(var l=e._level,c=e._root,u=0;a+u<0;)c=new yt(c&&c.array.length?[void 0,c]:[],r),u+=1<<(l+=v);u&&(a+=u,i+=u,o+=u,s+=u);for(var p=Pt(s),h=Pt(o);h>=1<<l+v;)c=new yt(c&&c.array.length?[c]:[],r),l+=v;var d=e._tail,f=h<p?Ot(e,o-1):h>p?new yt([],r):d;if(d&&h>p&&a<s&&d.array.length){for(var g=c=Dt(c,r),_=l;_>v;_-=v){var y=p>>>_&m;g=g.array[y]=Dt(g.array[y],r)}g.array[p>>>v&m]=d}if(o<s&&(f=f&&f.removeAfter(r,0,o)),a>=h)a-=h,o-=h,l=v,c=null,f=f&&f.removeBefore(r,0,a);else if(a>i||h<p){for(u=0;c;){var w=a>>>l&m;if(w!==h>>>l&m)break;w&&(u+=(1<<l)*w),l-=v,c=c.array[w]}c&&a>i&&(c=c.removeBefore(r,l,a-u)),c&&h<p&&(c=c.removeAfter(r,l,h-u)),u&&(a-=u,o-=u)}return e.__ownerID?(e.size=o-a,e._origin=a,e._capacity=o,e._level=l,e._root=c,e._tail=f,e.__hash=void 0,e.__altered=!0,e):St(a,o,l,c,f)}function Ct(e,t,n){for(var r=[],s=0,o=0;o<n.length;o++){var l=n[o],c=i(l);c.size>s&&(s=c.size),a(l)||(c=c.map((function(e){return he(e)}))),r.push(c)}return s>e.size&&(e=e.setSize(s)),lt(e,t,r)}function Pt(e){return e<_?0:e-1>>>v<<v}function It(e){return null==e?At():Nt(e)?e:At().withMutations((function(t){var n=r(e);Be(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Nt(e){return qe(e)&&u(e)}function zt(e,t,n,r){var i=Object.create(It.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function At(){return bt||(bt=zt(et(),jt()))}function Rt(e,t,n){var r,i,s=e._map,a=e._list,o=s.get(t),l=void 0!==o;if(n===y){if(!l)return e;a.size>=_&&a.size>=2*s.size?(r=(i=a.filter((function(e,t){return void 0!==e&&o!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=s.remove(t),i=o===a.size-1?a.pop():a.set(o,void 0))}else if(l){if(n===a.get(o)[1])return e;r=s,i=a.set(o,[t,n])}else r=s.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):zt(r,i)}function Tt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Lt(e){this._iter=e,this.size=e.size}function Bt(e){this._iter=e,this.size=e.size}function Ft(e){this._iter=e,this.size=e.size}function qt(e){var t=nn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=rn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(t===A){var r=e.__iterator(t,n);return new B((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===z?N:z,n)},t}function Ht(e,t,n){var r=nn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var s=e.get(r,y);return s===y?i:t.call(n,s,r,e)},r.__iterateUncached=function(r,i){var s=this;return e.__iterate((function(e,i,a){return!1!==r(t.call(n,e,i,a),i,s)}),i)},r.__iteratorUncached=function(r,i){var s=e.__iterator(A,i);return new B((function(){var i=s.next();if(i.done)return i;var a=i.value,o=a[0];return F(r,o,t.call(n,a[1],o,e),i)}))},r}function Ut(e,t){var n=nn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=qt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=rn,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function Vt(e,t,n,r){var i=nn(e);return r&&(i.has=function(r){var i=e.get(r,y);return i!==y&&!!t.call(n,i,r,e)},i.get=function(r,i){var s=e.get(r,y);return s!==y&&t.call(n,s,r,e)?s:i}),i.__iterateUncached=function(i,s){var a=this,o=0;return e.__iterate((function(e,s,l){if(t.call(n,e,s,l))return o++,i(e,r?s:o-1,a)}),s),o},i.__iteratorUncached=function(i,s){var a=e.__iterator(A,s),o=0;return new B((function(){for(;;){var s=a.next();if(s.done)return s;var l=s.value,c=l[0],u=l[1];if(t.call(n,u,c,e))return F(i,r?c:o++,u,s)}}))},i}function $t(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),E(t,n,i))return e;var s=C(t,i),a=P(n,i);if(s!=s||a!=a)return $t(e.toSeq().cacheResult(),t,n,r);var o,l=a-s;l==l&&(o=l<0?0:l);var c=nn(e);return c.size=0===o?o:e.size&&o||void 0,!r&&se(e)&&o>=0&&(c.get=function(t,n){return(t=D(this,t))>=0&&t<o?e.get(t+s,n):n}),c.__iterateUncached=function(t,n){var i=this;if(0===o)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,c=0;return e.__iterate((function(e,n){if(!l||!(l=a++<s))return c++,!1!==t(e,r?n:c-1,i)&&c!==o})),c},c.__iteratorUncached=function(t,n){if(0!==o&&n)return this.cacheResult().__iterator(t,n);var i=0!==o&&e.__iterator(t,n),a=0,l=0;return new B((function(){for(;a++<s;)i.next();if(++l>o)return{value:void 0,done:!0};var e=i.next();return r||t===z?e:F(t,l-1,t===N?void 0:e.value[1],e)}))},c}function Wt(e,t,n,r){var i=nn(e);return i.__iterateUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterate(i,s);var o=!0,l=0;return e.__iterate((function(e,s,c){if(!o||!(o=t.call(n,e,s,c)))return l++,i(e,r?s:l-1,a)})),l},i.__iteratorUncached=function(i,s){var a=this;if(s)return this.cacheResult().__iterator(i,s);var o=e.__iterator(A,s),l=!0,c=0;return new B((function(){var e,s,u;do{if((e=o.next()).done)return r||i===z?e:F(i,c++,i===N?void 0:e.value[1],e);var p=e.value;s=p[0],u=p[1],l&&(l=t.call(n,u,s,a))}while(l);return i===A?e:F(i,s,u,e)}))},i}function Yt(e,t,n){var r=nn(e);return r.__iterateUncached=function(r,i){var s=0,o=!1;return function e(l,c){var u=this;l.__iterate((function(i,l){return(!t||c<t)&&a(i)?e(i,c+1):!1===r(i,n?l:s++,u)&&(o=!0),!o}),i)}(e,0),s},r.__iteratorUncached=function(r,i){var s=e.__iterator(r,i),o=[],l=0;return new B((function(){for(;s;){var e=s.next();if(!1===e.done){var c=e.value;if(r===A&&(c=c[1]),t&&!(o.length<t)||!a(c))return n?e:F(r,l++,c,e);o.push(s),s=c.__iterator(r,i)}else s=o.pop()}return{value:void 0,done:!0}}))},r}function Kt(e,t,n){t||(t=sn);var r=o(e),i=0,s=e.toSeq().map((function(t,r){return[r,t,i++,n?n(t,r,e):t]})).toArray();return s.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){s[t].length=2}:function(e,t){s[t]=e[1]}),r?K(s):l(e)?G(s):J(s)}function Gt(e,t,n){if(t||(t=sn),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return Jt(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return Jt(t,e,n)?n:e}))}function Jt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function Qt(e,t,r){var i=nn(e);return i.size=new te(r).map((function(e){return e.size})).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(z,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var s=r.map((function(e){return e=n(e),V(i?e.reverse():e)})),a=0,o=!1;return new B((function(){var n;return o||(n=s.map((function(e){return e.next()})),o=n.some((function(e){return e.done}))),o?{value:void 0,done:!0}:F(e,a++,t.apply(null,n.map((function(e){return e.value}))))}))},i}function Zt(e,t){return se(e)?t:e.constructor(t)}function Xt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function en(e){return Be(e.size),M(e)}function tn(e){return o(e)?r:l(e)?i:s}function nn(e){return Object.create((o(e)?K:l(e)?G:J).prototype)}function rn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function sn(e,t){return e>t?1:e<t?-1:0}function an(e){var t=V(e);if(!t){if(!W(e))throw new TypeError("Expected iterable or array-like: "+e);t=V(n(e))}return t}function on(e,t){var n,r=function(s){if(s instanceof r)return s;if(!(this instanceof r))return new r(s);if(!n){n=!0;var a=Object.keys(e);(function(e,t){try{t.forEach(pn.bind(void 0,e))}catch(e){}})(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=Fe(s)},i=r.prototype=Object.create(ln);return i.constructor=r,r}t(It,Fe),It.of=function(){return this(arguments)},It.prototype.toString=function(){return this.__toString("OrderedMap {","}")},It.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},It.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):At()},It.prototype.set=function(e,t){return Rt(this,e,t)},It.prototype.remove=function(e){return Rt(this,e,y)},It.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},It.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},It.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},It.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?zt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},It.isOrderedMap=Nt,It.prototype[f]=!0,It.prototype[g]=It.prototype.remove,t(Tt,K),Tt.prototype.get=function(e,t){return this._iter.get(e,t)},Tt.prototype.has=function(e){return this._iter.has(e)},Tt.prototype.valueSeq=function(){return this._iter.valueSeq()},Tt.prototype.reverse=function(){var e=this,t=Ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Tt.prototype.map=function(e,t){var n=this,r=Ht(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Tt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?en(this):0,function(i){return e(i,t?--n:n++,r)}),t)},Tt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(z,t),r=t?en(this):0;return new B((function(){var i=n.next();return i.done?i:F(e,t?--r:r++,i.value,i)}))},Tt.prototype[f]=!0,t(Lt,G),Lt.prototype.includes=function(e){return this._iter.includes(e)},Lt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Lt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(z,t),r=0;return new B((function(){var t=n.next();return t.done?t:F(e,r++,t.value,t)}))},t(Bt,J),Bt.prototype.has=function(e){return this._iter.includes(e)},Bt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Bt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(z,t);return new B((function(){var t=n.next();return t.done?t:F(e,t.value,t.value,t)}))},t(Ft,K),Ft.prototype.entrySeq=function(){return this._iter.toSeq()},Ft.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Xt(t);var r=a(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Ft.prototype.__iterator=function(e,t){var n=this._iter.__iterator(z,t);return new B((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Xt(r);var i=a(r);return F(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}}))},Lt.prototype.cacheResult=Tt.prototype.cacheResult=Bt.prototype.cacheResult=Ft.prototype.cacheResult=rn,t(on,xe),on.prototype.toString=function(){return this.__toString(un(this)+" {","}")},on.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},on.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},on.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=cn(this,et()))},on.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+un(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:cn(this,n)},on.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:cn(this,t)},on.prototype.wasAltered=function(){return this._map.wasAltered()},on.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},on.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},on.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?cn(this,t,e):(this.__ownerID=e,this._map=t,this)};var ln=on.prototype;function cn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function un(e){return e._name||e.constructor.name||"Record"}function pn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ye(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function hn(e){return null==e?wn():dn(e)&&!u(e)?e:wn().withMutations((function(t){var n=s(e);Be(n.size),n.forEach((function(e){return t.add(e)}))}))}function dn(e){return!(!e||!e[gn])}ln[g]=ln.remove,ln.deleteIn=ln.removeIn=Ve.removeIn,ln.merge=Ve.merge,ln.mergeWith=Ve.mergeWith,ln.mergeIn=Ve.mergeIn,ln.mergeDeep=Ve.mergeDeep,ln.mergeDeepWith=Ve.mergeDeepWith,ln.mergeDeepIn=Ve.mergeDeepIn,ln.setIn=Ve.setIn,ln.update=Ve.update,ln.updateIn=Ve.updateIn,ln.withMutations=Ve.withMutations,ln.asMutable=Ve.asMutable,ln.asImmutable=Ve.asImmutable,t(hn,Se),hn.of=function(){return this(arguments)},hn.fromKeys=function(e){return this(r(e).keySeq())},hn.prototype.toString=function(){return this.__toString("Set {","}")},hn.prototype.has=function(e){return this._map.has(e)},hn.prototype.add=function(e){return mn(this,this._map.set(e,!0))},hn.prototype.remove=function(e){return mn(this,this._map.remove(e))},hn.prototype.clear=function(){return mn(this,this._map.clear())},hn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)s(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},hn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return s(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},hn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return s(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},hn.prototype.merge=function(){return this.union.apply(this,arguments)},hn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},hn.prototype.sort=function(e){return bn(Kt(this,e))},hn.prototype.sortBy=function(e,t){return bn(Kt(this,t,e))},hn.prototype.wasAltered=function(){return this._map.wasAltered()},hn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},hn.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},hn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},hn.isSet=dn;var fn,gn="@@__IMMUTABLE_SET__@@",vn=hn.prototype;function mn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function yn(e,t){var n=Object.create(vn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function wn(){return fn||(fn=yn(et()))}function bn(e){return null==e?Mn():xn(e)?e:Mn().withMutations((function(t){var n=s(e);Be(n.size),n.forEach((function(e){return t.add(e)}))}))}function xn(e){return dn(e)&&u(e)}vn[gn]=!0,vn[g]=vn.remove,vn.mergeDeep=vn.merge,vn.mergeDeepWith=vn.mergeWith,vn.withMutations=Ve.withMutations,vn.asMutable=Ve.asMutable,vn.asImmutable=Ve.asImmutable,vn.__empty=wn,vn.__make=yn,t(bn,hn),bn.of=function(){return this(arguments)},bn.fromKeys=function(e){return this(r(e).keySeq())},bn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},bn.isOrderedSet=xn;var kn,Sn=bn.prototype;function jn(e,t){var n=Object.create(Sn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Mn(){return kn||(kn=jn(At()))}function Dn(e){return null==e?Nn():On(e)?e:Nn().unshiftAll(e)}function On(e){return!(!e||!e[Cn])}Sn[f]=!0,Sn.__empty=Mn,Sn.__make=jn,t(Dn,ke),Dn.of=function(){return this(arguments)},Dn.prototype.toString=function(){return this.__toString("Stack [","]")},Dn.prototype.get=function(e,t){var n=this._head;for(e=D(this,e);n&&e--;)n=n.next;return n?n.value:t},Dn.prototype.peek=function(){return this._head&&this._head.value},Dn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):In(e,t)},Dn.prototype.pushAll=function(e){if(0===(e=i(e)).size)return this;Be(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):In(t,n)},Dn.prototype.pop=function(){return this.slice(1)},Dn.prototype.unshift=function(){return this.push.apply(this,arguments)},Dn.prototype.unshiftAll=function(e){return this.pushAll(e)},Dn.prototype.shift=function(){return this.pop.apply(this,arguments)},Dn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Nn()},Dn.prototype.slice=function(e,t){if(E(e,t,this.size))return this;var n=C(e,this.size);if(P(t,this.size)!==this.size)return ke.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):In(r,i)},Dn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?In(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Dn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Dn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new B((function(){if(r){var t=r.value;return r=r.next,F(e,n++,t)}return{value:void 0,done:!0}}))},Dn.isStack=On;var En,Cn="@@__IMMUTABLE_STACK__@@",Pn=Dn.prototype;function In(e,t,n,r){var i=Object.create(Pn);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Nn(){return En||(En=In(0))}function zn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Pn[Cn]=!0,Pn.withMutations=Ve.withMutations,Pn.asMutable=Ve.asMutable,Pn.asImmutable=Ve.asImmutable,Pn.wasAltered=Ve.wasAltered,n.Iterator=B,zn(n,{toArray:function(){Be(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Lt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Tt(this,!0)},toMap:function(){return Fe(this.toKeyedSeq())},toObject:function(){Be(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return It(this.toKeyedSeq())},toOrderedSet:function(){return bn(o(this)?this.valueSeq():this)},toSet:function(){return hn(o(this)?this.valueSeq():this)},toSetSeq:function(){return new Bt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():o(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Dn(o(this)?this.valueSeq():this)},toList:function(){return gt(o(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return Zt(this,function(e,t){var n=o(e),i=[e].concat(t).map((function(e){return a(e)?n&&(e=r(e)):e=n?oe(e):le(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===i.length)return e;if(1===i.length){var s=i[0];if(s===e||n&&o(s)||l(e)&&l(s))return s}var c=new te(i);return n?c=c.toKeyedSeq():l(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=i.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),c}(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return ve(t,e)}))},entries:function(){return this.__iterator(A)},every:function(e,t){Be(this.size);var n=!0;return this.__iterate((function(r,i,s){if(!e.call(t,r,i,s))return n=!1,!1})),n},filter:function(e,t){return Zt(this,Vt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Be(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Be(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(N)},map:function(e,t){return Zt(this,Ht(this,e,t))},reduce:function(e,t,n){var r,i;return Be(this.size),arguments.length<2?i=!0:r=t,this.__iterate((function(t,s,a){i?(i=!1,r=t):r=e.call(n,r,t,s,a)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Zt(this,Ut(this,!0))},slice:function(e,t){return Zt(this,$t(this,e,t,!0))},some:function(e,t){return!this.every(Bn(e),t)},sort:function(e){return Zt(this,Kt(this,e))},values:function(){return this.__iterator(z)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return M(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Fe().asMutable();return e.__iterate((function(i,s){r.update(t.call(n,i,s,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return _e(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(Ln).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Bn(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,i,s){if(e.call(t,n,i,s))return r=[i,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(O)},flatMap:function(e,t){return Zt(this,function(e,t,n){var r=tn(e);return e.toSeq().map((function(i,s){return r(t.call(n,i,s,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Zt(this,Yt(this,e,!0))},fromEntrySeq:function(){return new Ft(this)},get:function(e,t){return this.find((function(t,n){return ve(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,i=an(e);!(n=i.next()).done;){var s=n.value;if((r=r&&r.get?r.get(s,y):y)===y)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=o(e),i=(u(e)?It():Fe()).asMutable();e.__iterate((function(s,a){i.update(t.call(n,s,a,e),(function(e){return(e=e||[]).push(r?[a,s]:s),e}))}));var s=tn(e);return i.map((function(t){return Zt(e,s(t))}))}(this,e,t)},has:function(e){return this.get(e,y)!==y},hasIn:function(e){return this.getIn(e,y)!==y},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return ve(t,e)}))},keySeq:function(){return this.toSeq().map(Tn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Gt(this,e)},maxBy:function(e,t){return Gt(this,t,e)},min:function(e){return Gt(this,e?Fn(e):Un)},minBy:function(e,t){return Gt(this,t?Fn(t):Un,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Zt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Zt(this,Wt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Bn(e),t)},sortBy:function(e,t){return Zt(this,Kt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Zt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Zt(this,function(e,t,n){var r=nn(e);return r.__iterateUncached=function(r,i){var s=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate((function(e,i,o){return t.call(n,e,i,o)&&++a&&r(e,i,s)})),a},r.__iteratorUncached=function(r,i){var s=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(A,i),o=!0;return new B((function(){if(!o)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var i=e.value,l=i[0],c=i[1];return t.call(n,c,l,s)?r===A?e:F(r,l,c,e):(o=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Bn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=u(e),n=o(e),r=t?1:0;return function(e,t){return t=je(t,3432918353),t=je(t<<15|t>>>-15,461845907),t=je(t<<13|t>>>-13,5),t=je((t=t+3864292196^e)^t>>>16,2246822507),Me((t=je(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Vn(De(e),De(t))|0}:function(e,t){r=r+Vn(De(e),De(t))|0}:t?function(e){r=31*r+De(e)|0}:function(e){r=r+De(e)|0}),r)}(this))}});var An=n.prototype;An[p]=!0,An[L]=An.values,An.__toJS=An.toArray,An.__toStringMapper=qn,An.inspect=An.toSource=function(){return this.toString()},An.chain=An.flatMap,An.contains=An.includes,zn(r,{flip:function(){return Zt(this,qt(this))},mapEntries:function(e,t){var n=this,r=0;return Zt(this,this.toSeq().map((function(i,s){return e.call(t,[s,i],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Zt(this,this.toSeq().flip().map((function(r,i){return e.call(t,r,i,n)})).flip())}});var Rn=r.prototype;function Tn(e,t){return t}function Ln(e,t){return[t,e]}function Bn(e){return function(){return!e.apply(this,arguments)}}function Fn(e){return function(){return-e.apply(this,arguments)}}function qn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Hn(){return j(arguments)}function Un(e,t){return e<t?1:e>t?-1:0}function Vn(e,t){return e^t+2654435769+(e<<6)+(e>>2)}return Rn[h]=!0,Rn[L]=An.entries,Rn.__toJS=An.toObject,Rn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+qn(e)},zn(i,{toKeyedSeq:function(){return new Tt(this,!1)},filter:function(e,t){return Zt(this,Vt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Zt(this,Ut(this,!1))},slice:function(e,t){return Zt(this,$t(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=C(e,e<0?this.count():this.size);var r=this.slice(0,e);return Zt(this,1===n?r:r.concat(j(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Zt(this,Yt(this,e,!1))},get:function(e,t){return(e=D(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=D(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Zt(this,function(e,t){var n=nn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,s=0;return e.__iterate((function(e,r){return(!s||!1!==n(t,s++,i))&&!1!==n(e,s++,i)}),r),s},n.__iteratorUncached=function(n,r){var i,s=e.__iterator(z,r),a=0;return new B((function(){return(!i||a%2)&&(i=s.next()).done?i:a%2?F(n,a++,t):F(n,a++,i.value,i)}))},n}(this,e))},interleave:function(){var e=[this].concat(j(arguments)),t=Qt(this.toSeq(),G.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Zt(this,n)},keySeq:function(){return we(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Zt(this,Wt(this,e,t,!1))},zip:function(){return Zt(this,Qt(this,Hn,[this].concat(j(arguments))))},zipWith:function(e){var t=j(arguments);return t[0]=this,Zt(this,Qt(this,e,t))}}),i.prototype[d]=!0,i.prototype[f]=!0,zn(s,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),s.prototype.has=An.includes,s.prototype.contains=s.prototype.includes,zn(K,r.prototype),zn(G,i.prototype),zn(J,s.prototype),zn(xe,r.prototype),zn(ke,i.prototype),zn(Se,s.prototype),{Iterable:n,Seq:Y,Collection:be,Map:Fe,OrderedMap:It,List:gt,Stack:Dn,Set:hn,OrderedSet:bn,Record:on,Range:we,Repeat:me,is:ve,fromJS:he}}()},5580:(e,t,n)=>{var r=n(6110)(n(9325),"DataView");e.exports=r},1549:(e,t,n)=>{var r=n(2032),i=n(3862),s=n(6721),a=n(2749),o=n(5749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},79:(e,t,n)=>{var r=n(3702),i=n(80),s=n(4739),a=n(8655),o=n(1175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},3661:(e,t,n)=>{var r=n(3040),i=n(7670),s=n(289),a=n(4509),o=n(2949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=a,l.prototype.set=o,e.exports=l},2804:(e,t,n)=>{var r=n(6110)(n(9325),"Promise");e.exports=r},6545:(e,t,n)=>{var r=n(6110)(n(9325),"Set");e.exports=r},8859:(e,t,n)=>{var r=n(3661),i=n(1380),s=n(1459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=s,e.exports=a},7217:(e,t,n)=>{var r=n(79),i=n(1420),s=n(938),a=n(3605),o=n(9817),l=n(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=s,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,e.exports=c},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},8303:(e,t,n)=>{var r=n(6110)(n(9325),"WeakMap");e.exports=r},1033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},9770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}},695:(e,t,n)=>{var r=n(8096),i=n(2428),s=n(6449),a=n(3656),o=n(361),l=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&i(e),p=!n&&!u&&a(e),h=!n&&!u&&!p&&l(e),d=n||u||p||h,f=d?r(e.length,String):[],g=f.length;for(var v in e)!t&&!c.call(e,v)||d&&("length"==v||p&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||o(v,g))||f.push(v);return f}},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},4528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},4248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7805:(e,t,n)=>{var r=n(3360),i=n(5288);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},6547:(e,t,n)=>{var r=n(3360),i=n(5288),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];s.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},3360:(e,t,n)=>{var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9344:(e,t,n)=>{var r=n(3805),i=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},909:(e,t,n)=>{var r=n(641),i=n(8329)(r);e.exports=i},6574:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n=[];return r(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}},2523:e=>{e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},641:(e,t,n)=>{var r=n(6649),i=n(5950);e.exports=function(e,t){return e&&r(e,t,i)}},7422:(e,t,n)=>{var r=n(1769),i=n(7797);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[i(t[n++])];return n&&n==s?e:void 0}},2199:(e,t,n)=>{var r=n(4528),i=n(6449);e.exports=function(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}},2552:(e,t,n)=>{var r=n(1873),i=n(659),s=n(9350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):s(e)}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7534:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},270:(e,t,n)=>{var r=n(7068),i=n(346);e.exports=function e(t,n,s,a,o){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,s,a,e,o))}},7068:(e,t,n)=>{var r=n(7217),i=n(5911),s=n(1986),a=n(689),o=n(5861),l=n(6449),c=n(3656),u=n(7167),p="[object Arguments]",h="[object Array]",d="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,_){var m=l(e),y=l(t),w=m?h:o(e),b=y?h:o(t),x=(w=w==p?d:w)==d,k=(b=b==p?d:b)==d,S=w==b;if(S&&c(e)){if(!c(t))return!1;m=!0,x=!1}if(S&&!x)return _||(_=new r),m||u(e)?i(e,t,n,g,v,_):s(e,t,w,n,g,v,_);if(!(1&n)){var j=x&&f.call(e,"__wrapped__"),M=k&&f.call(t,"__wrapped__");if(j||M){var D=j?e.value():e,O=M?t.value():t;return _||(_=new r),v(D,O,n,g,_)}}return!!S&&(_||(_=new r),a(e,t,n,g,v,_))}},1799:(e,t,n)=>{var r=n(7217),i=n(270);e.exports=function(e,t,n,s){var a=n.length,o=a,l=!s;if(null==e)return!o;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var u=(c=n[a])[0],p=e[u],h=c[1];if(l&&c[2]){if(void 0===p&&!(u in e))return!1}else{var d=new r;if(s)var f=s(p,h,u,e,t,d);if(!(void 0===f?i(h,p,3,s,d):f))return!1}}return!0}},5083:(e,t,n)=>{var r=n(1882),i=n(7296),s=n(3805),a=n(7473),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,h=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?h:o).test(a(e))}},4901:(e,t,n)=>{var r=n(2552),i=n(294),s=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!a[r(e)]}},5389:(e,t,n)=>{var r=n(3663),i=n(7978),s=n(3488),a=n(6449),o=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):o(e)}},8984:(e,t,n)=>{var r=n(5527),i=n(3650),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2903:(e,t,n)=>{var r=n(3805),i=n(5527),s=n(181),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=i(e),n=[];for(var o in e)("constructor"!=o||!t&&a.call(e,o))&&n.push(o);return n}},3663:(e,t,n)=>{var r=n(1799),i=n(776),s=n(7197);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},7978:(e,t,n)=>{var r=n(270),i=n(8156),s=n(631),a=n(8586),o=n(756),l=n(7197),c=n(7797);e.exports=function(e,t){return a(e)&&o(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?s(n,e):r(t,a,3)}}},5250:(e,t,n)=>{var r=n(7217),i=n(7805),s=n(6649),a=n(2824),o=n(3805),l=n(7241),c=n(4974);e.exports=function e(t,n,u,p,h){t!==n&&s(n,(function(s,l){if(h||(h=new r),o(s))a(t,n,l,u,e,p,h);else{var d=p?p(c(t,l),s,l+"",t,n,h):void 0;void 0===d&&(d=s),i(t,l,d)}}),l)}},2824:(e,t,n)=>{var r=n(7805),i=n(3290),s=n(1961),a=n(3007),o=n(5529),l=n(2428),c=n(6449),u=n(3693),p=n(3656),h=n(1882),d=n(3805),f=n(1331),g=n(7167),v=n(4974),_=n(9884);e.exports=function(e,t,n,m,y,w,b){var x=v(e,n),k=v(t,n),S=b.get(k);if(S)r(e,n,S);else{var j=w?w(x,k,n+"",e,t,b):void 0,M=void 0===j;if(M){var D=c(k),O=!D&&p(k),E=!D&&!O&&g(k);j=k,D||O||E?c(x)?j=x:u(x)?j=a(x):O?(M=!1,j=i(k,!0)):E?(M=!1,j=s(k,!0)):j=[]:f(k)||l(k)?(j=x,l(x)?j=_(x):d(x)&&!h(x)||(j=o(k))):M=!1}M&&(b.set(k,j),y(j,k,m,w,b),b.delete(k)),r(e,n,j)}}},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7255:(e,t,n)=>{var r=n(7422);e.exports=function(e){return function(t){return r(t,e)}}},9302:(e,t,n)=>{var r=n(3488),i=n(6757),s=n(2865);e.exports=function(e,t){return s(i(e,t,r),e+"")}},3170:(e,t,n)=>{var r=n(6547),i=n(1769),s=n(361),a=n(3805),o=n(7797);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=i(t,e)).length,p=u-1,h=e;null!=h&&++c<u;){var d=o(t[c]),f=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(c!=p){var g=h[d];void 0===(f=l?l(g,d,h):void 0)&&(f=a(g)?g:s(t[c+1])?[]:{})}r(h,d,f),h=h[d]}return e}},9570:(e,t,n)=>{var r=n(7334),i=n(3243),s=n(3488),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=a},916:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7556:(e,t,n)=>{var r=n(1873),i=n(4932),s=n(6449),a=n(4394),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},4128:(e,t,n)=>{var r=n(1800),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},9219:e=>{e.exports=function(e,t){return e.has(t)}},1769:(e,t,n)=>{var r=n(6449),i=n(8586),s=n(1802),a=n(3222);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:s(a(e))}},9653:(e,t,n)=>{var r=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},3290:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i?r.Buffer:void 0,o=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}},1961:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},3007:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1791:(e,t,n)=>{var r=n(6547),i=n(3360);e.exports=function(e,t,n,s){var a=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var c=t[o],u=s?s(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},999:(e,t,n)=>{var r=n(9302),i=n(6800);e.exports=function(e){return r((function(t,n){var r=-1,s=n.length,a=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(s--,a):void 0,o&&i(n[0],n[1],o)&&(a=s<3?void 0:a,s=1),t=Object(t);++r<s;){var l=n[r];l&&e(t,l,r,a)}return t}))}},8329:(e,t,n)=>{var r=n(4894);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var s=n.length,a=t?s:-1,o=Object(n);(t?a--:++a<s)&&!1!==i(o[a],a,o););return n}}},3221:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,s=Object(t),a=r(t),o=a.length;o--;){var l=a[e?o:++i];if(!1===n(s[l],l,s))break}return t}}},2006:(e,t,n)=>{var r=n(5389),i=n(4894),s=n(5950);e.exports=function(e){return function(t,n,a){var o=Object(t);if(!i(t)){var l=r(n,3);t=s(t),n=function(e){return l(o[e],e,o)}}var c=e(t,n,a);return c>-1?o[l?t[c]:c]:void 0}}},3243:(e,t,n)=>{var r=n(6110),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},5911:(e,t,n)=>{var r=n(8859),i=n(4248),s=n(9219);e.exports=function(e,t,n,a,o,l){var c=1&n,u=e.length,p=t.length;if(u!=p&&!(c&&p>u))return!1;var h=l.get(e),d=l.get(t);if(h&&d)return h==t&&d==e;var f=-1,g=!0,v=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var _=e[f],m=t[f];if(a)var y=c?a(m,_,f,t,e,l):a(_,m,f,e,t,l);if(void 0!==y){if(y)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!s(v,t)&&(_===e||o(_,e,n,a,l)))return v.push(t)}))){g=!1;break}}else if(_!==m&&!o(_,m,n,a,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},1986:(e,t,n)=>{var r=n(1873),i=n(7828),s=n(5288),a=n(5911),o=n(317),l=n(4247),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,p,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=o;case"[object Set]":var f=1&r;if(d||(d=l),e.size!=t.size&&!f)return!1;var g=h.get(e);if(g)return g==t;r|=2,h.set(e,t);var v=a(d(e),d(t),r,c,p,h);return h.delete(e),v;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},689:(e,t,n)=>{var r=n(2),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,o){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var p=u;p--;){var h=c[p];if(!(l?h in t:i.call(t,h)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var g=!0;o.set(e,t),o.set(t,e);for(var v=l;++p<u;){var _=e[h=c[p]],m=t[h];if(s)var y=l?s(m,_,h,t,e,o):s(_,m,h,e,t,o);if(!(void 0===y?_===m||a(_,m,n,s,o):y)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(g=!1)}return o.delete(e),o.delete(t),g}},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2:(e,t,n)=>{var r=n(2199),i=n(4664),s=n(5950);e.exports=function(e){return r(e,s,i)}},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},776:(e,t,n)=>{var r=n(756),i=n(5950);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var s=t[n],a=e[s];t[n]=[s,a,r(a)]}return t}},6110:(e,t,n)=>{var r=n(5083),i=n(392);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},8879:(e,t,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},659:(e,t,n)=>{var r=n(1873),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[o]=n:delete e[o]),i}},4664:(e,t,n)=>{var r=n(9770),i=n(3345),s=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return s.call(e,t)})))}:i;e.exports=o},5861:(e,t,n)=>{var r=n(5580),i=n(8223),s=n(2804),a=n(6545),o=n(8303),l=n(2552),c=n(7473),u="[object Map]",p="[object Promise]",h="[object Set]",d="[object WeakMap]",f="[object DataView]",g=c(r),v=c(i),_=c(s),m=c(a),y=c(o),w=l;(r&&w(new r(new ArrayBuffer(1)))!=f||i&&w(new i)!=u||s&&w(s.resolve())!=p||a&&w(new a)!=h||o&&w(new o)!=d)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return f;case v:return u;case _:return p;case m:return h;case y:return d}return t}),e.exports=w},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9326:(e,t,n)=>{var r=n(1769),i=n(2428),s=n(6449),a=n(361),o=n(294),l=n(7797);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,p=!1;++c<u;){var h=l(t[c]);if(!(p=null!=e&&n(e,h)))break;e=e[h]}return p||++c!=u?p:!!(u=null==e?0:e.length)&&o(u)&&a(h,u)&&(s(e)||i(e))}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2749:(e,t,n)=>{var r=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},5529:(e,t,n)=>{var r=n(9344),i=n(8879),s=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6800:(e,t,n)=>{var r=n(5288),i=n(4894),s=n(361),a=n(3805);e.exports=function(e,t,n){if(!a(n))return!1;var o=typeof t;return!!("number"==o?i(n)&&s(t,n.length):"string"==o&&t in n)&&r(n[t],e)}},8586:(e,t,n)=>{var r=n(6449),i=n(4394),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:(e,t,n)=>{var r,i=n(5481),s=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!s&&s in e}},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},756:(e,t,n)=>{var r=n(3805);e.exports=function(e){return e==e&&!r(e)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,n)=>{var r=n(6025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},3040:(e,t,n)=>{var r=n(1549),i=n(79),s=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},7197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},2224:(e,t,n)=>{var r=n(104);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},3650:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i&&r.process,o=function(){try{return s&&s.require&&s.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},6757:(e,t,n)=>{var r=n(1033),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,a=-1,o=i(s.length-t,0),l=Array(o);++a<o;)l[a]=s[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=s[a];return c[t]=n(l),r(e,this,c)}}},9325:(e,t,n)=>{var r=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},4974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2865:(e,t,n)=>{var r=n(9570),i=n(1811)(r);e.exports=i},1811:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),s=16-(i-r);if(r=i,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},945:(e,t,n)=>{var r=n(79),i=n(8223),s=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(a)}return n.set(e,t),this.size=n.size,this}},1802:(e,t,n)=>{var r=n(2224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(s,"$1"):n||e)})),t}));e.exports=a},7797:(e,t,n)=>{var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},6139:(e,t,n)=>{var r=n(6547),i=n(1791),s=n(999),a=n(4894),o=n(5527),l=n(5950),c=Object.prototype.hasOwnProperty,u=s((function(e,t){if(o(t)||a(t))i(t,l(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])}));e.exports=u},7334:e=>{e.exports=function(e){return function(){return e}}},8221:(e,t,n)=>{var r=n(3805),i=n(124),s=n(9374),a=Math.max,o=Math.min;e.exports=function(e,t,n){var l,c,u,p,h,d,f=0,g=!1,v=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=l,r=c;return l=c=void 0,f=t,p=e.apply(r,n)}function y(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-f>=u}function w(){var e=i();if(y(e))return b(e);h=setTimeout(w,function(e){var n=t-(e-d);return v?o(n,u-(e-f)):n}(e))}function b(e){return h=void 0,_&&l?m(e):(l=c=void 0,p)}function x(){var e=i(),n=y(e);if(l=arguments,c=this,d=e,n){if(void 0===h)return function(e){return f=e,h=setTimeout(w,t),g?m(e):p}(d);if(v)return clearTimeout(h),h=setTimeout(w,t),m(d)}return void 0===h&&(h=setTimeout(w,t)),p}return t=s(t)||0,r(n)&&(g=!!n.leading,u=(v="maxWait"in n)?a(s(n.maxWait)||0,t):u,_="trailing"in n?!!n.trailing:_),x.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=d=c=h=void 0},x.flush=function(){return void 0===h?p:b(i())},x}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},7612:(e,t,n)=>{var r=n(9770),i=n(6574),s=n(5389),a=n(6449);e.exports=function(e,t){return(a(e)?r:i)(e,s(t,3))}},7309:(e,t,n)=>{var r=n(2006)(n(4713));e.exports=r},4713:(e,t,n)=>{var r=n(2523),i=n(5389),s=n(1489),a=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:s(n);return l<0&&(l=a(o+l,0)),r(e,i(t,3),l)}},8156:(e,t,n)=>{var r=n(7422);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},631:(e,t,n)=>{var r=n(8077),i=n(9326);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3488:e=>{e.exports=function(e){return e}},2428:(e,t,n)=>{var r=n(7534),i=n(346),s=Object.prototype,a=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},6449:e=>{var t=Array.isArray;e.exports=t},4894:(e,t,n)=>{var r=n(1882),i=n(294);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},3693:(e,t,n)=>{var r=n(4894),i=n(346);e.exports=function(e){return i(e)&&r(e)}},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),i=n(9935),s=t&&!t.nodeType&&t,a=s&&e&&!e.nodeType&&e,o=a&&a.exports===s?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;e.exports=l},2193:(e,t,n)=>{var r=n(8984),i=n(5861),s=n(2428),a=n(6449),o=n(4894),l=n(3656),c=n(5527),u=n(7167),p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||s(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},1882:(e,t,n)=>{var r=n(2552),i=n(3805);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1331:(e,t,n)=>{var r=n(2552),i=n(8879),s=n(346),a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},5015:(e,t,n)=>{var r=n(2552),i=n(6449),s=n(346);e.exports=function(e){return"string"==typeof e||!i(e)&&s(e)&&"[object String]"==r(e)}},4394:(e,t,n)=>{var r=n(2552),i=n(346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},7167:(e,t,n)=>{var r=n(4901),i=n(7301),s=n(6009),a=s&&s.isTypedArray,o=a?i(a):r;e.exports=o},5950:(e,t,n)=>{var r=n(695),i=n(8984),s=n(4894);e.exports=function(e){return s(e)?r(e):i(e)}},7241:(e,t,n)=>{var r=n(695),i=n(2903),s=n(4894);e.exports=function(e){return s(e)?r(e,!0):i(e)}},104:(e,t,n)=>{var r=n(3661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},6924:(e,t,n)=>{var r=n(5250),i=n(999)((function(e,t,n,i){r(e,t,n,i)}));e.exports=i},124:(e,t,n)=>{var r=n(9325);e.exports=function(){return r.Date.now()}},583:(e,t,n)=>{var r=n(7237),i=n(7255),s=n(8586),a=n(7797);e.exports=function(e){return s(e)?r(a(e)):i(e)}},3560:(e,t,n)=>{var r=n(3170);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},2426:(e,t,n)=>{var r=n(4248),i=n(5389),s=n(916),a=n(6449),o=n(6800);e.exports=function(e,t,n){var l=a(e)?r:s;return n&&o(e,t,n)&&(t=void 0),l(e,i(t,3))}},3345:e=>{e.exports=function(){return[]}},9935:e=>{e.exports=function(){return!1}},7400:(e,t,n)=>{var r=n(9374),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},1489:(e,t,n)=>{var r=n(7400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},9374:(e,t,n)=>{var r=n(4128),i=n(3805),s=n(4394),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},9884:(e,t,n)=>{var r=n(1791),i=n(7241);e.exports=function(e){return r(e,i(e))}},3222:(e,t,n)=>{var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},7784:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r=n(5)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";e.exports=n(18)()?Symbol:n(20)},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateRange=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],_n=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(_n=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);_n=!0);}catch(e){r=!0,i=e}finally{try{!_n&&a.return&&a.return()}finally{if(r)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.extendMoment=function(e){return e.range=function(t,n){return u.hasOwnProperty(t)?new p(e(this).startOf(t),e(this).endOf(t)):new p(t,n)},e.rangeFromInterval=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e();if(e.isMoment(r)||(r=e(r)),!r.isValid())throw new Error("Invalid date.");var i=r.clone().add(n,t),s=[];return s.push(e.min(r,i)),s.push(e.max(r,i)),new p(s)},e.parseZoneRange=function(t){var n=h(t),r=e.parseZone(n[0]),i=e.parseZone(n[1]);return new p(r,i)},e.fn.range=e.range,e.range.constructor=p,e.isRange=function(e){return e instanceof p},e.fn.within=function(e){return e.contains(this.toDate())},e};var a=l(n(2)),o=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},p=t.DateRange=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=t,o=n;if(1===arguments.length||void 0===n)if("object"===(void 0===t?"undefined":i(t))&&2===t.length){var l=r(t,2);s=l[0],o=l[1]}else if("string"==typeof t){var c=h(t),u=r(c,2);s=u[0],o=u[1]}this.start=s||0===s?(0,a.default)(s):(0,a.default)(-864e13),this.end=o||0===o?(0,a.default)(o):(0,a.default)(864e13)}return s(e,[{key:"adjacent",value:function(e){var t=this.start.isSame(e.end),n=this.end.isSame(e.start);return t&&e.start.valueOf()<=this.start.valueOf()||n&&e.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1};return this.overlaps(e,t)?new this.constructor(a.default.min(this.start,e.start),a.default.max(this.end,e.end)):null}},{key:"by",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this;return c({},o.default.iterator,(function(){var r=t.exclusive||!1,i=t.step||1,s=Math.abs(n.start.diff(n.end,e))/i,a=0;return{next:function(){var t=n.start.clone().add(a*i,e),o=r?!(a<s):!(a<=s);return a++,{done:o,value:o?void 0:t}}}}))}},{key:"byRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this,r=t.step||1,i=this.valueOf()/e.valueOf()/r,s=t.exclusive||!1,l=Math.floor(i),u=0;return c({},o.default.iterator,(function(){return l===1/0?{done:!0}:{next:function(){var t=(0,a.default)(n.start.valueOf()+e.valueOf()*u*r),o=l===i&&s?!(u<l):!(u<=l);return u++,{done:o,value:o?void 0:t}}}}))}},{key:"center",value:function(){var e=this.start.valueOf()+this.diff()/2;return(0,a.default)(e)}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"contains",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1},r=this.start.valueOf(),i=this.end.valueOf(),s=t.valueOf(),a=t.valueOf();t instanceof e&&(s=t.start.valueOf(),a=t.end.valueOf());var o=r<s||r<=s&&!n.exclusive,l=i>a||i>=a&&!n.exclusive;return o&&l}},{key:"diff",value:function(e,t){return this.end.diff(this.start,e,t)}},{key:"duration",value:function(e,t){return this.diff(e,t)}},{key:"intersect",value:function(e){var t=this.start.valueOf(),n=this.end.valueOf(),r=e.start.valueOf(),i=e.end.valueOf();if(t==n){if(t==r||t==i)return null;if(t>r&&t<i)return this}else if(r==i){if(r==t||r==n)return null;if(r>t&&r<n)return e}return t<=r&&r<n&&n<i?new this.constructor(r,n):r<t&&t<i&&i<=n?new this.constructor(t,i):r<t&&t<=n&&n<i?this:t<=r&&r<=i&&i<=n?e:null}},{key:"isEqual",value:function(e){return this.start.isSame(e.start)&&this.end.isSame(e.end)}},{key:"isSame",value:function(e){return this.isEqual(e)}},{key:"overlaps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{adjacent:!1},n=null!==this.intersect(e);return t.adjacent&&!n?this.adjacent(e):n}},{key:"reverseBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this;return c({},o.default.iterator,(function(){var r=t.exclusive||!1,i=t.step||1,s=Math.abs(n.start.diff(n.end,e))/i,a=0;return{next:function(){var t=n.end.clone().subtract(a*i,e),o=r?!(a<s):!(a<=s);return a++,{done:o,value:o?void 0:t}}}}))}},{key:"reverseByRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{exclusive:!1,step:1},n=this,r=t.step||1,i=this.valueOf()/e.valueOf()/r,s=t.exclusive||!1,l=Math.floor(i),u=0;return c({},o.default.iterator,(function(){return l===1/0?{done:!0}:{next:function(){var t=(0,a.default)(n.end.valueOf()-e.valueOf()*u*r),o=l===i&&s?!(u<l):!(u<=l);return u++,{done:o,value:o?void 0:t}}}}))}},{key:"subtract",value:function(e){var t=this.start.valueOf(),n=this.end.valueOf(),r=e.start.valueOf(),i=e.end.valueOf();return null===this.intersect(e)?[this]:r<=t&&t<n&&n<=i?[]:r<=t&&t<i&&i<n?[new this.constructor(i,n)]:t<r&&r<n&&n<=i?[new this.constructor(t,r)]:t<r&&r<i&&i<n?[new this.constructor(t,r),new this.constructor(i,n)]:t<r&&r<n&&i<n?[new this.constructor(t,r),new this.constructor(r,n)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),e}();function h(e){return e.split("/")}},function(e,t,n){"use strict";var r,i=n(6),s=n(13),a=n(9),o=n(15);r=e.exports=function(e,t){var n,r,a,l,c;return arguments.length<2||"string"!=typeof e?(l=t,t=e,e=null):l=arguments[2],null==e?(n=a=!0,r=!1):(n=o.call(e,"c"),r=o.call(e,"e"),a=o.call(e,"w")),c={value:t,configurable:n,enumerable:r,writable:a},l?i(s(l),c):c},r.gs=function(e,t,n){var r,l,c,u;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:a(t)?null==n?n=void 0:a(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(r=!0,l=!1):(r=o.call(e,"c"),l=o.call(e,"e")),u={get:t,set:n,configurable:r,enumerable:l},c?i(s(c),u):u}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";e.exports=n(7)()?Object.assign:n(8)},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(10),i=n(14),s=Math.max;e.exports=function(e,t){var n,a,o,l=s(arguments.length,2);for(e=Object(i(e)),o=function(r){try{e[r]=t[r]}catch(e){n||(n=e)}},a=1;a<l;++a)r(t=arguments[a]).forEach(o);if(void 0!==n)throw n;return e}},function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(11)()?Object.keys:n(12)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(0),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r=n(0),i=Array.prototype.forEach,s=Object.create;e.exports=function(e){var t=s(null);return i.call(arguments,(function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)})),t}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";e.exports=n(16)()?String.prototype.contains:n(17)},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&!0===r.contains("dwa")&&!1===r.contains("foo")}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return r.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";var r={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!r[typeof Symbol.iterator]&&!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag]}},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,n){"use strict";var r,i,s,a,o=n(4),l=n(21),c=Object.create,u=Object.defineProperties,p=Object.defineProperty,h=Object.prototype,d=c(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(e){}}var f,g=(f=c(null),function(e){for(var t,n,r=0;f[e+(r||"")];)++r;return f[e+=r||""]=!0,p(h,t="@@"+e,o.gs(null,(function(e){n||(n=!0,p(this,t,o(e)),n=!1)}))),t});s=function(e){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return i(e)},e.exports=i=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?r(t):(n=c(s.prototype),t=void 0===t?"":String(t),u(n,{__description__:o("",t),__name__:o("",g(t))}))},u(i,{for:o((function(e){return d[e]?d[e]:d[e]=i(String(e))})),keyFor:o((function(e){var t;for(t in l(e),d)if(d[t]===e)return t})),hasInstance:o("",r&&r.hasInstance||i("hasInstance")),isConcatSpreadable:o("",r&&r.isConcatSpreadable||i("isConcatSpreadable")),iterator:o("",r&&r.iterator||i("iterator")),match:o("",r&&r.match||i("match")),replace:o("",r&&r.replace||i("replace")),search:o("",r&&r.search||i("search")),species:o("",r&&r.species||i("species")),split:o("",r&&r.split||i("split")),toPrimitive:o("",r&&r.toPrimitive||i("toPrimitive")),toStringTag:o("",r&&r.toStringTag||i("toStringTag")),unscopables:o("",r&&r.unscopables||i("unscopables"))}),u(s.prototype,{constructor:o(i),toString:o("",(function(){return this.__name__}))}),u(i.prototype,{toString:o((function(){return"Symbol ("+l(this).__description__+")"})),valueOf:o((function(){return l(this)}))}),p(i.prototype,i.toPrimitive,o("",(function(){var e=l(this);return"symbol"==typeof e?e:e.toString()}))),p(i.prototype,i.toStringTag,o("c","Symbol")),p(s.prototype,i.toStringTag,o("c",i.prototype[i.toStringTag])),p(s.prototype,i.toPrimitive,o("c",i.prototype[i.toPrimitive]))},function(e,t,n){"use strict";var r=n(19);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}}])},e.exports=r(n(6154))},5228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var s,a,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(o[c]=s[c]);if(t){a=t(s);for(var u=0;u<a.length;u++)r.call(s,a[u])&&(o[a[u]]=s[a[u]])}}return o}},2694:(e,t,n)=>{"use strict";var r=n(6925);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},5556:(e,t,n)=>{e.exports=n(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2372:e=>{"use strict";var t=Object.prototype.hasOwnProperty;function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function r(e,r){if(n(e,r))return!0;if("object"!=typeof e||null===e||"object"!=typeof r||null===r)return!1;var i=Object.keys(e),s=Object.keys(r);if(i.length!==s.length)return!1;for(var a=0;a<i.length;a++)if(!t.call(r,i[a])||!n(e[i[a]],r[i[a]]))return!1;return!0}e.exports={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}}},6065:(e,t,n)=>{"use strict";var r=y(n(1609)),i=y(n(5556)),s=y(n(2306)),a=y(n(7284)),o=y(n(9404)),l=y(n(2137)),c=y(n(3503)),u=y(n(2815)),p=y(n(8645)),h=y(n(6186)),d=y(n(4079)),f=y(n(1515)),g=y(n(1001)),v=y(n(4140)),_=n(9943),m=y(n(2372));function y(e){return e&&e.__esModule?e:{default:e}}var w=(0,a.default)(new Date(-432e13)).startOf("day"),b=(0,a.default)(new Date(432e13)).startOf("day");function x(){}(0,s.default)({mixins:[c.default,m.default],displayName:"DateRangePicker",propTypes:{bemBlock:i.default.string,bemNamespace:i.default.string,className:i.default.string,dateStates:i.default.array,defaultState:i.default.string,disableNavigation:i.default.bool,firstOfWeek:i.default.oneOf([0,1,2,3,4,5,6]),helpMessage:i.default.string,initialDate:i.default.instanceOf(Date),initialFromValue:i.default.bool,initialMonth:i.default.number,initialRange:i.default.object,initialYear:i.default.number,locale:i.default.string,maximumDate:i.default.instanceOf(Date),minimumDate:i.default.instanceOf(Date),numberOfCalendars:i.default.number,onHighlightDate:i.default.func,onHighlightRange:i.default.func,onSelect:i.default.func,onSelectStart:i.default.func,paginationArrowComponent:i.default.func,selectedLabel:i.default.string,selectionType:i.default.oneOf(["single","range"]),singleDateRange:i.default.bool,showLegend:i.default.bool,stateDefinitions:i.default.object,value:u.default.momentOrMomentRange},getDefaultProps:function(){var e=new Date;return{bemNamespace:null,bemBlock:"DateRangePicker",className:"",numberOfCalendars:1,firstOfWeek:0,disableNavigation:!1,nextLabel:"",previousLabel:"",initialDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()),initialFromValue:!0,locale:(0,a.default)().locale(),selectionType:"range",singleDateRange:!1,stateDefinitions:{__default:{color:null,selectable:!0,label:null}},selectedLabel:"Your selected dates",defaultState:"__default",dateStates:[],showLegend:!1,onSelect:x,paginationArrowComponent:f.default}},componentWillReceiveProps:function(e){var t=this.getDateStates(e),n=this.getEnabledRange(e),r={selectedStartDate:null,hideSelection:!1,dateStates:this.state.dateStates&&o.default.is(this.state.dateStates,t)?this.state.dateStates:t,enabledRange:this.state.enabledRange&&this.state.enabledRange.isSame(n)?this.state.enabledRange:n};if((0,v.default)(this.props,e)&&(!e.value||!this.isStartOrEndVisible(e))){var i=(0,_.getYearMonthProps)(e);r.year=i.year,r.month=i.month}this.setState(r)},getInitialState:function(){var e=new Date,t=this.props,n=t.initialYear,r=t.initialMonth,i=t.initialFromValue,s=t.value,o=e.getFullYear(),l=e.getMonth();if(Number.isInteger(n)&&Number.isInteger(r)&&(o=n,l=r),i&&(a.default.isMoment(s)||(0,g.default)(s))){var c=(0,_.getYearMonthProps)(this.props);l=c.month,o=c.year}return{year:o,month:l,selectedStartDate:null,highlightedDate:null,highlightRange:null,hideSelection:!1,enabledRange:this.getEnabledRange(this.props),dateStates:this.getDateStates(this.props)}},getEnabledRange:function(e){var t=e.minimumDate?(0,a.default)(e.minimumDate).startOf("day"):w,n=e.maximumDate?(0,a.default)(e.maximumDate).startOf("day"):b;return a.default.range(t,n)},getDateStates:function(e){var t=e.dateStates,n=e.defaultState,r=e.stateDefinitions,i=[],s=w,l=b,c=(0,a.default)(s).startOf("day"),u=o.default.fromJS(r);return t.forEach((function(e){var t=e.range,r=t.start.startOf("day"),s=t.end.startOf("day");c.isSame(r,"day")||i.push({state:n,range:a.default.range(c,r)}),i.push(e),c=s})),i.push({state:n,range:a.default.range(c,l)}),o.default.List(i).map((function(e){var t=u.get(e.state);return o.default.Map({range:e.range,state:e.state,selectable:t.get("selectable",!0),color:t.get("color")})}))},isDateDisabled:function(e){return!this.state.enabledRange.contains(e)},isDateSelectable:function(e){return this.dateRangesForDate(e).some((function(e){return e.get("selectable")}))},nonSelectableStateRanges:function(){return this.state.dateStates.filter((function(e){return!e.get("selectable")}))},dateRangesForDate:function(e){return this.state.dateStates.filter((function(t){return t.get("range").contains(e)}))},sanitizeRange:function(e,t){var n=this.nonSelectableStateRanges().map((function(e){return e.get("range")})),r=void 0;if(t){if(r=n.find((function(t){return e.intersect(t)})))return a.default.range(e.start,r.start)}else if(r=n.findLast((function(t){return e.intersect(t)})))return a.default.range(r.end,e.end);return e.start.isBefore(this.state.enabledRange.start)?a.default.range(this.state.enabledRange.start,e.end):e.end.isAfter(this.state.enabledRange.end)?a.default.range(e.start,this.state.enabledRange.end):e},highlightRange:function(e){this.setState({highlightedRange:e,highlightedDate:null}),"function"==typeof this.props.onHighlightRange&&this.props.onHighlightRange(e,this.statesForRange(e))},onUnHighlightDate:function(){this.setState({highlightedDate:null})},onSelectDate:function(e){var t=this.props.selectionType,n=this.state.selectedStartDate;"range"===t?n?this.completeRangeSelection():e&&!this.isDateDisabled(e)&&this.isDateSelectable(e)&&(this.startRangeSelection(e),this.props.singleDateRange&&this.highlightRange(a.default.range(e,e))):!this.isDateDisabled(e)&&this.isDateSelectable(e)&&this.completeSelection()},onHighlightDate:function(e){var t=this.props.selectionType,n=this.state.selectedStartDate,r=void 0,i=void 0,s=void 0;"range"===t&&n?(r=o.default.List.of(n,e).sortBy((function(e){return e.unix()})),s=(i=a.default.range(r.get(0),r.get(1))).start.unix()===n.unix(),i=this.sanitizeRange(i,s),this.highlightRange(i)):!this.isDateDisabled(e)&&this.isDateSelectable(e)&&this.highlightDate(e)},startRangeSelection:function(e){this.setState({hideSelection:!0,selectedStartDate:e}),"function"==typeof this.props.onSelectStart&&this.props.onSelectStart((0,a.default)(e))},statesForDate:function(e){return this.state.dateStates.filter((function(t){return e.within(t.get("range"))})).map((function(e){return e.get("state")}))},statesForRange:function(e){return e.start.isSame(e.end,"day")?this.statesForDate(e.start):this.state.dateStates.filter((function(t){return t.get("range").intersect(e)})).map((function(e){return e.get("state")}))},completeSelection:function(){var e=this.state.highlightedDate;e&&(this.setState({hideSelection:!1,highlightedDate:null}),this.props.onSelect(e,this.statesForDate(e)))},completeRangeSelection:function(){var e=this.state.highlightedRange;!e||e.start.isSame(e.end,"day")&&!this.props.singleDateRange||(this.setState({selectedStartDate:null,highlightedRange:null,highlightedDate:null,hideSelection:!1}),this.props.onSelect(e,this.statesForRange(e)))},highlightDate:function(e){this.setState({highlightedDate:e}),"function"==typeof this.props.onHighlightDate&&this.props.onHighlightDate(e,this.statesForDate(e))},getMonthDate:function(){return(0,a.default)(new Date(this.state.year,this.state.month,1))},isStartOrEndVisible:function(e){var t=this,n=e.value,r=e.selectionType,i=e.numberOfCalendars,s=function(e){var n=(0,_.getYearMonth)(e),r=n.year===t.state.year,s=n.month===t.state.month||2===i&&n.month-1===t.state.month;return r&&s};return"single"===r?s(n):s(n.start)||s(n.end)},canMoveBack:function(){return!this.getMonthDate().subtract(1,"days").isBefore(this.state.enabledRange.start)},moveBack:function(){var e=void 0;this.canMoveBack()&&((e=this.getMonthDate()).subtract(1,"months"),this.setState((0,_.getYearMonth)(e)))},canMoveForward:function(){return!this.getMonthDate().add(this.props.numberOfCalendars,"months").isAfter(this.state.enabledRange.end)},moveForward:function(){var e=void 0;this.canMoveForward()&&((e=this.getMonthDate()).add(1,"months"),this.setState((0,_.getYearMonth)(e)))},changeYear:function(e){var t=this.state,n=t.enabledRange,r=t.month;(0,a.default)({years:e,months:r,date:1}).unix()<n.start.unix()&&(r=n.start.month()),(0,a.default)({years:e,months:r+1,date:1}).unix()>n.end.unix()&&(r=n.end.month()),this.setState({year:e,month:r})},changeMonth:function(e){this.setState({month:e})},rangesOverlap:function(e,t){return!!(e.overlaps(t)||e.contains(t.start)||e.contains(t.end))},renderCalendar:function(e){var t,n=this.props,i=n.bemBlock,s=n.bemNamespace,c=n.firstOfWeek,u=n.numberOfCalendars,p=n.selectionType,f=n.value,v=this.state,_=v.dateStates,m=v.enabledRange,y=v.hideSelection,w=v.highlightedDate,b=v.highlightedRange,x=this.getMonthDate(),k=e+"-"+x.year()+"-"+x.month();x.add(e,"months");var S=new l.default.Calendar(c),j=o.default.fromJS(S.monthDates(x.year(),x.month())),M=j.first().first(),D=j.last().last(),O=a.default.range(M,D);return(a.default.isMoment(f)&&!O.contains(f)||(0,g.default)(f)&&!this.rangesOverlap(O,f))&&(f=null),a.default.isMoment(w)&&O.contains(w)||(w=null),(0,g.default)(b)&&this.rangesOverlap(O,b)||(b=null),t={bemBlock:i,bemNamespace:s,dateStates:_,enabledRange:m,firstOfWeek:c,hideSelection:y,highlightedDate:w,highlightedRange:b,index:e,key:k,selectionType:p,value:f,maxIndex:u-1,firstOfMonth:x,onMonthChange:this.changeMonth,onYearChange:this.changeYear,onSelectDate:this.onSelectDate,onHighlightDate:this.onHighlightDate,onUnHighlightDate:this.onUnHighlightDate,dateRangesForDate:this.dateRangesForDate,dateComponent:d.default,locale:this.props.locale},r.default.createElement(h.default,t)},render:function(){var e=this.props,t=e.paginationArrowComponent,n=e.className,i=e.numberOfCalendars,s=e.stateDefinitions,a=e.selectedLabel,l=e.showLegend,c=e.helpMessage,u=o.default.Range(0,i).map(this.renderCalendar);return n=this.cx({element:null})+" "+n,r.default.createElement("div",{className:n.trim()},r.default.createElement(t,{direction:"previous",onTrigger:this.moveBack,disabled:!this.canMoveBack()}),u.toJS(),r.default.createElement(t,{direction:"next",onTrigger:this.moveForward,disabled:!this.canMoveForward()}),c?r.default.createElement("span",{className:this.cx({element:"HelpMessage"})},c):null,l?r.default.createElement(p.default,{stateDefinitions:s,selectedLabel:a}):null)}})},8645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1609)),i=l(n(5556)),s=l(n(2306)),a=l(n(3503)),o=l(n(2372));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,s.default)({mixins:[a.default,o.default],displayName:"Legend",propTypes:{selectedLabel:i.default.string.isRequired,stateDefinitions:i.default.object.isRequired},render:function(){var e=this.props,t=e.selectedLabel,n=e.stateDefinitions,i=[],s=void 0,a=void 0,o=void 0;for(s in n)(a=n[s]).label&&a.color&&(o={backgroundColor:a.color},i.push(r.default.createElement("li",{className:this.cx({element:"LegendItem"}),key:s},r.default.createElement("span",{className:this.cx({element:"LegendItemColor"}),style:o}),r.default.createElement("span",{className:this.cx({element:"LegendItemLabel"})},a.label))));return r.default.createElement("ul",{className:this.cx()},r.default.createElement("li",{className:this.cx({element:"LegendItem"})},r.default.createElement("span",{className:this.cx({element:"LegendItemColor",modifiers:{selection:!0}})}),r.default.createElement("span",{className:this.cx({element:"LegendItemLabel"})},t)),i)}});t.default=c},1515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(1609)),s=c(n(5556)),a=c(n(2306)),o=c(n(3503)),l=c(n(2372));function c(e){return e&&e.__esModule?e:{default:e}}var u=(0,a.default)({mixins:[o.default,l.default],displayName:"PaginationArrow",propTypes:{disabled:s.default.bool,onTrigger:s.default.func,direction:s.default.oneOf(["next","previous"])},getDefaultProps:function(){return{disabled:!1}},render:function(){var e,t,n,s=this.props,a=s.disabled,o=s.direction,l=s.onTrigger,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(s,["disabled","direction","onTrigger"]),u=(n=!0,(t=o)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),p={disabled:a},h={modifiers:u,states:p},d={element:"PaginationArrowIcon",modifiers:u,states:p};return i.default.createElement("div",r({className:this.cx(h)},c,{onClick:l}),i.default.createElement("div",{className:this.cx(d)}))}});t.default=u},4079:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(1609)),i=f(n(5556)),s=f(n(2306)),a=f(n(9404)),o=f(n(3503)),l=f(n(2815)),c=f(n(4175)),u=f(n(2437)),p=f(n(5026)),h=f(n(6707)),d=f(n(5005));function f(e){return e&&e.__esModule?e:{default:e}}var g=(0,s.default)({mixins:[o.default,c.default],displayName:"CalendarDate",propTypes:{date:l.default.moment,firstOfMonth:i.default.object.isRequired,isSelectedDate:i.default.bool,isSelectedRangeStart:i.default.bool,isSelectedRangeEnd:i.default.bool,isInSelectedRange:i.default.bool,isHighlightedDate:i.default.bool,isHighlightedRangeStart:i.default.bool,isHighlightedRangeEnd:i.default.bool,isInHighlightedRange:i.default.bool,highlightedDate:i.default.object,dateStates:i.default.instanceOf(a.default.List),isDisabled:i.default.bool,isToday:i.default.bool,dateRangesForDate:i.default.func,onHighlightDate:i.default.func,onUnHighlightDate:i.default.func,onSelectDate:i.default.func},getInitialState:function(){return{mouseDown:!1}},componentWillUnmount:function(){this.isUnmounted=!0,document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("touchend",this.touchEnd)},mouseUp:function(){this.props.onSelectDate(this.props.date),this.isUnmounted||(this.state.mouseDown&&this.setState({mouseDown:!1}),document.removeEventListener("mouseup",this.mouseUp))},mouseDown:function(){this.setState({mouseDown:!0}),document.addEventListener("mouseup",this.mouseUp)},touchEnd:function(){event.preventDefault(),this.props.onHighlightDate(this.props.date),this.props.onSelectDate(this.props.date),this.isUnmounted||(this.state.mouseDown&&this.setState({mouseDown:!1}),document.removeEventListener("touchend",this.touchEnd))},touchStart:function(e){e.preventDefault(),this.setState({mouseDown:!0}),document.addEventListener("touchend",this.touchEnd)},mouseEnter:function(){this.props.onHighlightDate(this.props.date)},mouseLeave:function(){this.state.mouseDown&&(this.props.onSelectDate(this.props.date),this.setState({mouseDown:!1})),this.props.onUnHighlightDate(this.props.date)},getBemModifiers:function(){var e=this.props,t=e.date,n=e.firstOfMonth,r=e.isToday,i=!1,s=!1;return t.month()!==n.month()&&(i=!0),0!==t.day()&&6!==t.day()||(s=!0),{today:r,weekend:s,otherMonth:i}},getBemStates:function(){var e=this.props,t=e.isSelectedDate,n=e.isInSelectedRange,r=e.isInHighlightedRange,i=e.isHighlightedDate;return{disabled:e.isDisabled,highlighted:i,selected:t||n||r}},render:function(){var e=this.props,t=e.date,n=e.dateRangesForDate,i=e.isSelectedDate,s=e.isSelectedRangeStart,a=e.isSelectedRangeEnd,o=e.isInSelectedRange,l=e.isHighlightedDate,c=e.isHighlightedRangeStart,f=e.isHighlightedRangeEnd,g=e.isInHighlightedRange,v=this.getBemModifiers(),_=this.getBemStates(),m=g,y=void 0,w=void 0,b=void 0,x=n(t),k=x.count(),S={},j={},M=void 0,D=void 0;return i||s&&a||c&&f?D="single":s||c?D="start":a||f?D="end":(o||g)&&(D="segment"),l&&(M="single"),1===k?(y=x.getIn([0,"color"]))&&(j={backgroundColor:y},S={borderLeftColor:(0,u.default)(y,-10),borderRightColor:(0,u.default)(y,-10)}):(w=x.getIn([0,"color"]),b=x.getIn([1,"color"]),w&&(S.borderLeftColor=(0,u.default)(w,-10)),b&&(S.borderRightColor=(0,u.default)(b,-10))),r.default.createElement("td",{className:this.cx({element:"Date",modifiers:v,states:_}),style:S,onTouchStart:this.touchStart,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,onMouseDown:this.mouseDown},k>1&&r.default.createElement("div",{className:this.cx({element:"HalfDateStates"})},r.default.createElement(p.default,{period:"am",color:w}),r.default.createElement(p.default,{period:"pm",color:b})),1===k&&r.default.createElement("div",{className:this.cx({element:"FullDateStates"}),style:j}),r.default.createElement("span",{className:this.cx({element:"DateLabel"})},t.format("D")),D?r.default.createElement(d.default,{modifier:D,pending:m}):null,M?r.default.createElement(h.default,{modifier:M}):null)}});t.default=g},5026:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1609)),i=l(n(5556)),s=l(n(2306)),a=l(n(3503)),o=l(n(4175));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,s.default)({mixins:[a.default,o.default],displayName:"CalendarDatePeriod",propTypes:{color:i.default.string,period:i.default.string},render:function(){var e,t,n,i=this.props,s=i.color,a=(n=!0,(t=i.period)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),o=void 0;return s&&(o={backgroundColor:s}),r.default.createElement("div",{style:o,className:this.cx({modifiers:a})})}});t.default=c},6707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1609)),i=l(n(5556)),s=l(n(2306)),a=l(n(3503)),o=l(n(4175));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,s.default)({mixins:[a.default,o.default],displayName:"CalendarHighlight",propTypes:{modifier:i.default.string},render:function(){var e,t,n,i=(n=!0,(t=this.props.modifier)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e);return r.default.createElement("div",{className:this.cx({states:{},modifiers:i})})}});t.default=c},6186:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(1609)),s=f(n(5556)),a=f(n(2306)),o=f(n(7284)),l=f(n(2137)),c=f(n(9404)),u=f(n(3503)),p=f(n(2815)),h=f(n(1001)),d=f(n(4175));function f(e){return e&&e.__esModule?e:{default:e}}var g=(0,a.default)({mixins:[u.default,d.default],displayName:"CalendarMonth",propTypes:{dateComponent:s.default.func,disableNavigation:s.default.bool,enabledRange:p.default.momentRange,firstOfMonth:p.default.moment,firstOfWeek:s.default.oneOf([0,1,2,3,4,5,6]),hideSelection:s.default.bool,highlightedDate:s.default.object,highlightedRange:s.default.object,onMonthChange:s.default.func,onYearChange:s.default.func,value:p.default.momentOrMomentRange,locale:s.default.string},setLocale:function(e){o.default.locale(e),this.WEEKDAYS=c.default.List(o.default.weekdays()).zip(c.default.List(o.default.weekdaysShort())),this.MONTHS=c.default.List(o.default.months())},componentWillMount:function(){var e=this.props.locale;this.setLocale(e)},componentWillReceiveProps:function(e){var t=e.locale;t!==this.props.locale&&this.setLocale(t)},renderDay:function(e,t){var n=this.props,s=n.dateComponent,a=n.value,l=n.highlightedDate,c=n.highlightedRange,u=n.hideSelection,p=n.enabledRange,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["dateComponent","value","highlightedDate","highlightedRange","hideSelection","enabledRange"]),f=(0,o.default)(e).locale(this.props.locale),g=void 0,v=void 0,_=void 0,m=void 0;return!u&&a&&o.default.isMoment(a)&&a.isSame(f,"day")?v=!0:!u&&a&&(0,h.default)(a)&&a.contains(f)&&(g=!0,_=a.start.isSame(f,"day"),m=a.end.isSame(f,"day")),i.default.createElement(s,r({key:t,isToday:f.isSame((0,o.default)(),"day"),isDisabled:!p.contains(f),isHighlightedDate:!(!l||!l.isSame(f,"day")),isHighlightedRangeStart:!(!c||!c.start.isSame(f,"day")),isHighlightedRangeEnd:!(!c||!c.end.isSame(f,"day")),isInHighlightedRange:!(!c||!c.contains(f)),isSelectedDate:v,isSelectedRangeStart:_,isSelectedRangeEnd:m,isInSelectedRange:g,date:f},d))},renderWeek:function(e,t){var n=e.map(this.renderDay);return i.default.createElement("tr",{className:this.cx({element:"Week"}),key:t},n.toJS())},renderDayHeaders:function(){var e=this.props.firstOfWeek,t=c.default.Range(e,7).concat(c.default.Range(0,e)).map(function(e){var t=this.WEEKDAYS.get(e);return i.default.createElement("th",{className:this.cx({element:"WeekdayHeading"}),key:t,scope:"col"},i.default.createElement("abbr",{title:t[0]},t[1]))}.bind(this));return i.default.createElement("tr",{className:this.cx({element:"Weekdays"})},t.toJS())},handleYearChange:function(e){this.props.onYearChange(parseInt(e.target.value,10))},renderYearChoice:function(e){var t=this.props.enabledRange;return e<t.start.year()||e>t.end.year()?null:i.default.createElement("option",{key:e,value:e},(0,o.default)(e,"YYYY").locale(this.props.locale).format("YYYY"))},renderHeaderYear:function(){var e=this.props.firstOfMonth,t=e.year(),n=c.default.Range(t-5,t).concat(c.default.Range(t,t+10)).map(this.renderYearChoice);return i.default.createElement("span",{className:this.cx({element:"MonthHeaderLabel",modifiers:{year:!0}})},e.locale(this.props.locale).format("YYYY"),this.props.disableNavigation?null:i.default.createElement("select",{className:this.cx({element:"MonthHeaderSelect"}),value:t,onChange:this.handleYearChange},n.toJS()))},handleMonthChange:function(e){this.props.onMonthChange(parseInt(e.target.value,10))},renderMonthChoice:function(e,t){var n=this.props,r=n.firstOfMonth,s=n.enabledRange,a=!1,l=r.year();return(0,o.default)({years:l,months:t+1,date:1}).unix()<s.start.unix()&&(a=!0),(0,o.default)({years:l,months:t,date:1}).unix()>s.end.unix()&&(a=!0),i.default.createElement("option",{key:e,value:t,disabled:a?"disabled":null},e)},renderHeaderMonth:function(){var e=this.props.firstOfMonth,t=this.MONTHS.map(this.renderMonthChoice);return i.default.createElement("span",{className:this.cx({element:"MonthHeaderLabel",modifiers:{month:!0}})},e.locale(this.props.locale).format("MMMM"),this.props.disableNavigation?null:i.default.createElement("select",{className:this.cx({element:"MonthHeaderSelect"}),value:e.month(),onChange:this.handleMonthChange},t.toJS()))},renderHeader:function(){return i.default.createElement("div",{className:this.cx({element:"MonthHeader"})},this.renderHeaderMonth()," ",this.renderHeaderYear())},render:function(){var e=this.props,t=e.firstOfWeek,n=e.firstOfMonth,r=new l.default.Calendar(t),s=c.default.fromJS(r.monthDates(n.year(),n.month())).map(this.renderWeek);return i.default.createElement("div",{className:this.cx({element:"Month"})},this.renderHeader(),i.default.createElement("table",{className:this.cx({element:"MonthDates"})},i.default.createElement("thead",null,this.renderDayHeaders()),i.default.createElement("tbody",null,s.toJS())))}});t.default=g},5005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(1609)),i=l(n(5556)),s=l(n(2306)),a=l(n(3503)),o=l(n(4175));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,s.default)({mixins:[a.default,o.default],displayName:"CalendarSelection",propTypes:{modifier:i.default.string,pending:i.default.bool.isRequired},render:function(){var e,t,n,i=this.props,s=i.modifier,a=i.pending,o=(n=!0,(t=s)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),l={pending:a};return r.default.createElement("div",{className:this.cx({states:l,modifiers:o})})}});t.default=c},7284:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(6154))&&r.__esModule?r:{default:r},s=(0,n(7784).extendMoment)(i.default);t.default=s},3503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(9711)),i=s(n(5556));function s(e){return e&&e.__esModule?e:{default:e}}var a={propTypes:{bemNamespace:i.default.string,bemBlock:i.default.string},contextTypes:{bemNamespace:i.default.string,bemBlock:i.default.string},childContextTypes:{bemNamespace:i.default.string,bemBlock:i.default.string},getChildContext:function(){return{bemNamespace:this.getBemNamespace(),bemBlock:this.getBemBlock()}},getBemNamespace:function(){return this.props.bemNamespace?this.props.bemNamespace:this.context.bemNamespace?this.context.bemNamespace:null},getBemBlock:function(){return this.props.bemBlock?this.props.bemBlock:this.context.bemBlock?this.context.bemBlock:null},cx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={namespace:this.getBemNamespace(),element:this.constructor.displayName,block:this.getBemBlock()};return Object.assign(t,e),(0,r.default)(t)}};t.default=a},2815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(7284)),i=s(n(1001));function s(e){return e&&e.__esModule?e:{default:e}}t.default={momentOrMomentRange:function(e,t){var n=e[t];return n?r.default.isMoment(n)||(0,i.default)(n)?null:new Error("'"+t+"' must be a moment or a moment range"):null},moment:function(e,t){var n=e[t];return n?r.default.isMoment(n)?null:new Error("'"+t+"' must be a moment"):null},momentRange:function(e,t){var n=e[t];return n?(0,i.default)(n)?null:new Error("'"+t+"' must be a moment range"):null}}},4175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(4190))&&r.__esModule?r:{default:r},s={shouldComponentUpdate:function(e,t){return!(0,i.default)(this.props,e)||!(0,i.default)(this.state,t)}};t.default=s},7614:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return!(!(0,i.default)(e)||!(0,i.default)(t))&&(e.start.isSame(t.start,"day")&&e.end.isSame(t.end,"day"))};var r,i=(r=n(1001))&&r.__esModule?r:{default:r}},8166:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return!(!i.default.isMoment(e)||!i.default.isMoment(t))&&e.isSame(t)};var r,i=(r=n(7284))&&r.__esModule?r:{default:r}},9711:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.block,i=t.element,s=t.namespace,a=t.modifiers,o=t.states,l=[];return e=i?s?s+"-"+r+"__"+i:r+"__"+i:s?s+"-"+r:r,l.push(e),o&&("object"===(void 0===o?"undefined":n(o))&&(o=Object.keys(o).filter((function(e){return o[e]}))),o.forEach((function(t){l.push(e+"--is-"+t)}))),a&&("object"===(void 0===a?"undefined":n(a))&&(a=Object.keys(a).filter((function(e){return a[e]}))),a.forEach((function(t){l.push(e+"--"+t),o&&o.forEach((function(n){l.push(e+"--"+t+"--is-"+n)}))}))),l.join(" ")}},9943:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getYearMonthProps=void 0,t.getYearMonth=a;var r=s(n(7284)),i=s(n(1001));function s(e){return e&&e.__esModule?e:{default:e}}function a(e){if(r.default.isMoment(e))return{year:e.year(),month:e.month()}}t.getYearMonthProps=function(e){var t=e.selectionType,n=e.value,s=e.initialYear,o=e.initialMonth;return r.default.isMoment(n)||(0,i.default)(n)?a("single"===t?n:n.start):{year:s,month:o}}},4140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.value,s=t.value;return!(n===s||(0,i.default)(n,s)||(0,r.default)(n,s))};var r=s(n(7614)),i=s(n(8166));function s(e){return e&&e.__esModule?e:{default:e}}},1001:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&e.start&&e.end&&i.default.isMoment(e.start)&&i.default.isMoment(e.end)};var r,i=(r=n(7284))&&r.__esModule?r:{default:r}},2437:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r=!1,i=void 0,s=void 0,a=void 0;return"#"===e[0]&&(e=e.slice(1),r=!0),(i=((n=parseInt(e,16))>>16)+t)>255?i=255:i<0&&(i=0),(s=(n>>8&255)+t)>255?s=255:s<0&&(s=0),(a=(255&n)+t)>255?a=255:a<0&&(a=0),(r?"#":"")+(a|s<<8|i<<16).toString(16)}},4190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(7284)),i=a(n(7614)),s=a(n(1001));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(r.default.isMoment(e[n])&&r.default.isMoment(t[n])){if(!e[n].isSame(t[n],"day"))return!1}else if((0,s.default)(e[n])&&(0,s.default)(t[n])){if(!(0,i.default)(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1}for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}},9375:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},8505:(e,t,n)=>{var r=n(9375);e.exports=function e(t,n,i){return r(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(t,n):r(t)?function(t,n,r){for(var i=[],s=0;s<t.length;s++)i.push(e(t[s],n,r).source);return u(new RegExp("(?:"+i.join("|")+")",p(r)),n)}(t,n,i):function(e,t,n){return h(s(e,n),t,n)}(t,n,i)},e.exports.parse=s,e.exports.compile=function(e,t){return o(s(e,t),t)},e.exports.tokensToFunction=o,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,a=0,o="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var p=n[0],h=n[1],d=n.index;if(o+=e.slice(a,d),a=d+p.length,h)o+=h[1];else{var f=e[a],g=n[2],v=n[3],_=n[4],m=n[5],y=n[6],w=n[7];o&&(r.push(o),o="");var b=null!=g&&null!=f&&f!==g,x="+"===y||"*"===y,k="?"===y||"*"===y,S=n[2]||u,j=_||m;r.push({name:v||s++,prefix:g||"",delimiter:S,optional:k,repeat:x,partial:b,asterisk:!!w,pattern:j?c(j):w?".*":"[^"+l(S)+"]+?"})}}return a<e.length&&(o+=e.substr(a)),o&&r.push(o),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function o(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",p(t)));return function(t,i){for(var s="",o=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var p,h=o[u.name];if(null==h){if(u.optional){u.partial&&(s+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(p=l(h[d]),!n[c].test(p))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(p)+"`");s+=(0===d?u.prefix:u.delimiter)+p}}else{if(p=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(h),!n[c].test(p))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+p+'"');s+=u.prefix+p}}else s+=u}return s}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,s=!1!==n.end,a="",o=0;o<e.length;o++){var c=e[o];if("string"==typeof c)a+=l(c);else{var h=l(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var f=l(n.delimiter||"/"),g=a.slice(-f.length)===f;return i||(a=(g?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=s?"$":i&&g?"":"(?="+f+"|$)",u(new RegExp("^"+a,p(n)),t)}},4912:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},7564:(e,t,n)=>{"use strict";n(4912)},1609:e=>{"use strict";e.exports=window.React},6154:e=>{"use strict";e.exports=window.moment},6942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{BrowserRouter:()=>ot,HashRouter:()=>lt,Link:()=>ft,MemoryRouter:()=>me,NavLink:()=>_t,Prompt:()=>we,Redirect:()=>je,Route:()=>Ce,Router:()=>_e,StaticRouter:()=>Re,Switch:()=>Te,generatePath:()=>Se,matchPath:()=>Ee,useHistory:()=>Fe,useLocation:()=>qe,useParams:()=>He,useRouteMatch:()=>Ue,withRouter:()=>Le});const t=window.wp.plugins,r=window.wp.i18n,i=window.wp.components,s=window.wp.compose,a=window.wp.data,o=window.wp.editPost,l=window.wp.element,c=(0,l.forwardRef)((function({icon:e,size:t=24,...n},r){return(0,l.cloneElement)(e,{width:t,height:t,...n,ref:r})})),u=window.wp.primitives,p=window.ReactJSXRuntime,h=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),d=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{fillRule:"evenodd",d:"M19.75 11H21V8.667L19.875 4H4.125L3 8.667V11h1.25v8.75h15.5V11zm-1.5 0H5.75v7.25H10V13h4v5.25h4.25V11zm-5.5-5.5h2.067l.486 3.24.028.76H12.75v-4zm-3.567 0h2.067v4H8.669l.028-.76.486-3.24zm7.615 3.1l-.464-3.1h2.36l.806 3.345V9.5h-2.668l-.034-.9zM7.666 5.5h-2.36L4.5 8.845V9.5h2.668l.034-.9.464-3.1z",clipRule:"evenodd"})}),f=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M12 9c-.8 0-1.5.7-1.5 1.5S11.2 12 12 12s1.5-.7 1.5-1.5S12.8 9 12 9zm0-5c-3.6 0-6.5 2.8-6.5 6.2 0 .8.3 1.8.9 3.1.5 1.1 1.2 2.3 2 3.6.7 1 3 3.8 3.2 3.9l.4.5.4-.5c.2-.2 2.6-2.9 3.2-3.9.8-1.2 1.5-2.5 2-3.6.6-1.3.9-2.3.9-3.1C18.5 6.8 15.6 4 12 4zm4.3 8.7c-.5 1-1.1 2.2-1.9 3.4-.5.7-1.7 2.2-2.4 3-.7-.8-1.9-2.3-2.4-3-.8-1.2-1.4-2.3-1.9-3.3-.6-1.4-.7-2.2-.7-2.5 0-2.6 2.2-4.7 5-4.7s5 2.1 5 4.7c0 .2-.1 1-.7 2.4z"})}),g=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M18 5.5H6a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5ZM6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm1 5h1.5v1.5H7V9Zm1.5 4.5H7V15h1.5v-1.5ZM10 9h7v1.5h-7V9Zm7 4.5h-7V15h7v-1.5Z"})}),v=(e=null)=>{if(!window.newspack_listings_data)return!1;const{post_type:t,post_types:n}=window.newspack_listings_data;if(null!==e)return e===t;for(const e in n)if(n.hasOwnProperty(e)&&t===n[e].name)return!0;return!1},_=e=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>"#"+t+t+n+n+r+r)).substring(1).match(/.{2}/g).map((e=>parseInt(e,16))),m=e=>{switch(e){case"event":return(0,p.jsx)(c,{icon:h});case"marketplace":return(0,p.jsx)(c,{icon:d});case"place":return(0,p.jsx)(c,{icon:f});default:return(0,p.jsx)(c,{icon:g})}},y=(0,s.compose)([(0,a.withSelect)((e=>{const{getEditedPostAttribute:t}=e("core/editor");return{meta:t("meta"),publishDate:t("date")}})),(0,a.withDispatch)((e=>{const{editPost:t}=e("core/editor"),{createNotice:n}=e("core/notices");return{createNotice:n,updateMetaValue:(e,n)=>t({meta:{[e]:n}})}}))])((({createNotice:e,meta:t,publishDate:n,updateMetaValue:s})=>{const{is_listing_customer:a=!1,post_type_label:c,post_types:u,self_serve_listing_expiration:h}=window.newspack_listings_data,{newspack_listings_hide_author:d,newspack_listings_hide_publish_date:f,newspack_listings_expiration_date:g}=t,[_]=(0,l.useState)(g);return u?(0,p.jsxs)(o.PluginDocumentSettingPanel,{className:"newspack-listings__editor-sidebar",name:"newspack-listings",title:(0,r.sprintf)(
// Translators: Listing post type sidebar settings label.
// Translators: Listing post type sidebar settings label.
(0,r.__)("%s Settings","newspack-listings"),v()?c:(0,r.__)("Newspack Listings","newspack-listings")),children:[(0,p.jsx)("p",{children:(0,p.jsxs)("em",{children:[(0,r.__)("Overrides ","newspack-listings"),(0,p.jsx)(i.ExternalLink,{href:"/wp-admin/admin.php?page=newspack-listings-settings-admin",children:(0,r.__)("global settings","newspack-listings")})]})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{className:"newspack-listings__toggle-control",label:(0,r.__)("Hide listing author","newspack-listings"),help:(0,r.sprintf)(
// Translators: Show or hide author byline toggle label.
// Translators: Show or hide author byline toggle label.
(0,r.__)("%s the author byline for this listing.","newspack-listings"),d?(0,r.__)("Hide","newspack-listings"):(0,r.__)("Show","newspack-listings")),checked:d,onChange:e=>s("newspack_listings_hide_author",e)})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{className:"newspack-listings__toggle-control",label:(0,r.__)("Hide publish date","newspack-listings"),help:(0,r.sprintf)(
// Translators: Show or hide publish date toggle label.
// Translators: Show or hide publish date toggle label.
(0,r.__)("%s the publish and updated dates for this listing.","newspack-listings"),f?(0,r.__)("Hide","newspack-listings"):(0,r.__)("Show","newspack-listings")),checked:f,onChange:e=>s("newspack_listings_hide_publish_date",e)})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)("div",{className:"hide-time",children:(0,p.jsx)(i.BaseControl,{id:"newspack-listings-expiration-date",help:(0,r.__)("If set, the listing will be automatically unpublished after this date.","newspack-listings"),label:(0,r.__)("Expiration Date","newspack-listings"),children:(0,p.jsx)(i.DateTimePicker,{currentDate:g?new Date(g):null,onChange:t=>{if(a){const i=_?new Date(_):null,s=new Date(n),a=new Date(s.setDate(s.getDate()+parseInt(h))),o=i?new Date(Math.max(a,i)):a;if(0<new Date(t)-o)return e("warning",(0,r.sprintf)(
// Translators: warning when listings customer tries to extend expiration beyond allowed range.
// Translators: warning when listings customer tries to extend expiration beyond allowed range.
(0,r.__)("Cannot set expiration date beyond %s.","newspack-listings"),o.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})),{id:"newspack-listings__date-error",isDismissible:!0,type:"default"})}return t&&n&&0<=new Date(t)-new Date(n)?s("newspack_listings_expiration_date",t):t?void e("warning",(0,r.__)("Expiration date must be after publish date.","newspack-listings"),{id:"newspack-listings__date-error",isDismissible:!0,type:"default"}):s("newspack_listings_expiration_date","")}})})})})]}):null})),w=window.wp.blocks,b=({size:e=24})=>(0,p.jsxs)(i.SVG,{className:"newspack-logo",width:e,height:e,viewBox:"0 0 32 32",children:[(0,p.jsx)(i.Path,{d:"M16 32c8.836 0 16-7.164 16-16S24.836 0 16 0 0 7.164 0 16s7.163 16 16 16z",fill:"#36F"}),(0,p.jsx)(i.Path,{d:"M22.988 16.622h-1.72l-1.103-1.124h2.823v1.124zm0-3.31H18.02l-1.102-1.124h6.071v1.124zm0-3.31h-8.217l-1.103-1.125h9.32v1.125zm0 13.12L9.012 8.878v4.749l.069.071h-.07v9.426h3.451v-5.98l5.867 5.98h4.66z",fill:"#fff"})]}),x=({size:e=24})=>(0,p.jsxs)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",children:[(0,p.jsx)(i.Path,{d:"M5.5 7.5h2v2h-2v-2zM7.5 11.5h-2v2h2v-2zM8.5 7.5h7v2h-7v-2zM15.5 11.5h-7v2h7v-2z"}),(0,p.jsx)(i.Path,{clipRule:"evenodd",d:"M4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625zm11.75 1.5H4.625a.125.125 0 00-.125.125v11.75c0 .069.056.125.125.125h11.75a.125.125 0 00.125-.125V4.625a.125.125 0 00-.125-.125z",fillRule:"evenodd"}),(0,p.jsx)(i.Path,{d:"M21.75 8h-1.5v11c0 .69-.56 1.25-1.249 1.25H6v1.5h13.001A2.749 2.749 0 0021.75 19V8z"})]}),k=window.wp.blockEditor,S=window.wp.apiFetch;var j=n.n(S);const M=window.wp.url,D=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M18.1823 11.6392C18.1823 13.0804 17.0139 14.2487 15.5727 14.2487C14.3579 14.2487 13.335 13.4179 13.0453 12.2922L13.0377 12.2625L13.0278 12.2335L12.3985 10.377L12.3942 10.3785C11.8571 8.64997 10.246 7.39405 8.33961 7.39405C5.99509 7.39405 4.09448 9.29465 4.09448 11.6392C4.09448 13.9837 5.99509 15.8843 8.33961 15.8843C8.88499 15.8843 9.40822 15.781 9.88943 15.5923L9.29212 14.0697C8.99812 14.185 8.67729 14.2487 8.33961 14.2487C6.89838 14.2487 5.73003 13.0804 5.73003 11.6392C5.73003 10.1979 6.89838 9.02959 8.33961 9.02959C9.55444 9.02959 10.5773 9.86046 10.867 10.9862L10.8772 10.9836L11.4695 12.7311C11.9515 14.546 13.6048 15.8843 15.5727 15.8843C17.9172 15.8843 19.8178 13.9837 19.8178 11.6392C19.8178 9.29465 17.9172 7.39404 15.5727 7.39404C15.0287 7.39404 14.5066 7.4968 14.0264 7.6847L14.6223 9.20781C14.9158 9.093 15.2358 9.02959 15.5727 9.02959C17.0139 9.02959 18.1823 10.1979 18.1823 11.6392Z"})}),O=window.wp.htmlEntities,E=({attributes:e,error:t,post:n})=>{const{showAuthor:s,showCategory:a,showTags:o,showExcerpt:c,showImage:u,showCaption:h}=e,{author:d="",category:f=[],excerpt:g="",media:v={},sponsors:_=!1,tags:m=[],title:y=""}=n,w=(e=>{const t=[];if(!e.id||!e.type)return t;t.push(`type-${e.type}`),(e.category||[]).forEach((e=>t.push(`category-${e.slug}`))),(e.tags||[]).forEach((e=>t.push(`tag-${e.slug}`)));const n=e.classes&&Array.isArray(e.classes)?e.classes:[];return t.concat(n)})(n);return(0,p.jsxs)("div",{className:["newspack-listings__listing-post","entry-wrapper"].concat(w).join(" "),children:[t&&(0,p.jsx)(i.Notice,{className:"newspack-listings__error",status:"error",isDismissible:!1,children:t}),u&&n&&v&&v.image&&(0,p.jsxs)("figure",{className:"newspack-listings__listing-featured-media",children:[(0,p.jsx)("img",{className:"newspack-listings__listing-thumbnail",src:v.image,alt:v.caption||y}),h&&v.caption&&(0,p.jsx)("figcaption",{className:"newspack-listings__listing-caption",children:v.caption})]}),n&&(0,p.jsxs)("div",{className:"newspack-listings__listing-meta",children:[_&&0<_.length&&(0,p.jsx)("span",{className:"cat-links sponsor-label",children:(0,p.jsx)("span",{className:"flag",children:_[0].sponsor_flag})}),a&&0<f.length&&!_&&(0,p.jsx)("div",{className:"cat-links",children:f.map(((e,t)=>(0,p.jsxs)(l.Fragment,{children:[(0,O.decodeEntities)(e.name),t+1<f.length&&", "]},"index")))}),(0,p.jsx)("h3",{className:"newspack-listings__listing-title",children:(0,O.decodeEntities)(y)}),_&&0<_.length&&(0,p.jsxs)("div",{className:"newspack-listings__sponsors",children:[(0,p.jsx)("span",{className:"sponsor-logos",children:_.map((e=>(0,p.jsx)("img",{src:e.sponsor_logo.src,width:e.sponsor_logo.img_width,height:e.sponsor_logo.img_height,alt:e.sponsor_name},e.sponsor_id)))}),(0,p.jsx)("span",{className:"sponsor-byline",children:_.map(((e,t)=>(0,r.sprintf)(
// Translators: Sponsorship attribution.
"%1$s%2$s%3$s%4$s",0===t?e.sponsor_byline+" ":"",1<_.length&&t+1===_.length?(0,r.__)(" and ","newspack-listings"):"",e.sponsor_name,2<_.length&&t+1<_.length?(0,r._x)(", ","separator character","newspack-listings"):"")))})]}),s&&d&&!_&&(0,p.jsx)("cite",{children:(0,r.__)("By","newpack-listings")+" "+(0,O.decodeEntities)(d)}),c&&g&&(0,p.jsx)(l.RawHTML,{children:g}),o&&m.length&&(0,p.jsxs)("p",{children:[(0,p.jsx)("strong",{children:(0,r.__)("Tagged: ","newspack-listings")}),m.map(((e,t)=>(0,p.jsxs)(l.Fragment,{children:[(0,O.decodeEntities)(e.name),t+1<m.length&&", "]},"index")))]})]})]})};var C=n(6942),P=n.n(C);const I=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),N=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),z=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});class A extends l.Component{state={expanded:!1};componentDidUpdate(e){!e.collapse&&this.props.collapse&&this.state.expanded&&this.setState({expanded:!1})}render(){const{badge:e,className:t,checkbox:n,children:r,disabled:s,title:a,description:o,handoff:l,editLink:u,href:h,notification:d,notificationLevel:f,notificationHTML:g,actionContent:v,actionText:_,secondaryActionText:m,secondaryDestructive:y,image:w,imageLink:b,indent:x,isSmall:k,isMedium:S,simple:j,onClick:M,onSecondaryActionClick:D,isWaiting:O,titleLink:E,toggleChecked:C,toggleOnChange:A,hasGreyHeader:R,hasWhiteHeader:T,isPending:L,expandable:B=!1}=this.props,{expanded:F}=this.state,q=d||r,H=P()("newspack-action-card",j&&"newspack-card--is-clickable",R&&"newspack-card--has-grey-header",T&&"newspack-card--has-white-header",q&&"newspack-card--has-children",x&&"newspack-card--indent",k&&"is-small",S&&"is-medium",n&&"has-checkbox",B&&"is-expandable",v&&"has-action-content",t),U=!A||E||s?{}:{onClick:()=>A(!C),tabIndex:"0"},V=h&&0!==h.indexOf("http"),$=m&&D,W=!Array.isArray(e)&&e?[e]:e;return(0,p.jsxs)(xt,{className:H,onClick:j&&M,children:[(0,p.jsxs)("div",{className:"newspack-action-card__region newspack-action-card__region-top",children:[A&&(0,p.jsx)(i.ToggleControl,{checked:C,onChange:A,disabled:s}),w&&!A&&(0,p.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:(0,p.jsx)("a",{href:b,children:(0,p.jsx)("div",{className:"newspack-action-card__image",style:(Y=w,Y?{backgroundImage:`url(${Y})`}:{})})})}),n&&!A&&(0,p.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:(0,p.jsx)("span",{className:P()("newspack-checkbox-icon","is-primary","checked"===n&&"newspack-checkbox-icon--checked",L&&"newspack-checkbox-icon--pending"),children:"checked"===n&&(0,p.jsx)(c,{icon:I})})}),(0,p.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-center",children:(0,p.jsxs)(wn,{columns:1,gutter:8,noMargin:!0,children:[(0,p.jsxs)("h2",{children:[(0,p.jsxs)("span",{className:"newspack-action-card__title",...U,children:[E&&(0,p.jsx)("a",{href:E,children:a}),!E&&B&&(0,p.jsx)(wt,{isLink:!0,onClick:()=>this.setState({expanded:!F}),children:a}),!E&&!B&&a]}),W?.length&&W.map(((e,t)=>(0,p.jsx)("span",{className:"newspack-action-card__badge",children:e},`badge-${t}`)))]}),o&&(0,p.jsxs)("p",{children:["string"==typeof o&&o,"function"==typeof o&&o()]})]})}),!B&&(_||$||v)&&(0,p.jsxs)("div",{className:"newspack-action-card__region newspack-action-card__region-right",children:[v&&v,_&&(l?(0,p.jsx)(gn,{plugin:l,editLink:u,compact:!0,isLink:!0,children:_}):M||V?(0,p.jsx)(wt,{disabled:s,isLink:!0,href:h,onClick:M,className:"newspack-action-card__primary_button",children:_}):h?(0,p.jsx)(i.ExternalLink,{href:h,className:"newspack-action-card__primary_button",children:_}):(0,p.jsxs)("div",{className:"newspack-action-card__container",children:[_,O&&(0,p.jsx)(nr,{isRight:!0})]})),$&&(0,p.jsx)(wt,{isLink:!0,onClick:D,className:"newspack-action-card__secondary_button",isDestructive:y,children:m})]}),B&&(0,p.jsx)(wt,{onClick:()=>this.setState({expanded:!F}),children:(0,p.jsx)(c,{icon:F?N:z,height:24,width:24})})]}),d&&(0,p.jsxs)("div",{className:"newspack-action-card__notification newspack-action-card__region-children",children:["error"===f&&(0,p.jsx)(En,{noticeText:d,isError:!0,rawHTML:g}),"info"===f&&(0,p.jsx)(En,{noticeText:d,rawHTML:g}),"success"===f&&(0,p.jsx)(En,{noticeText:d,isSuccess:!0,rawHTML:g}),"warning"===f&&(0,p.jsx)(En,{noticeText:d,isWarning:!0,rawHTML:g})]}),r&&(B&&F||!B)&&(0,p.jsx)("div",{className:"newspack-action-card__region-children",children:r})]});var Y}}A.defaultProps={toggleChecked:!1};const R=A;var T=n(8221),L=n.n(T);class B extends l.Component{constructor(e){super(e),this.state={suggestions:[],validValues:{},loading:this.isFetchingInfoOnLoad()},this.debouncedUpdateSuggestions=L()(this.updateSuggestions,500)}isFetchingInfoOnLoad=()=>{const{tokens:e,fetchSavedInfo:t}=this.props;return Boolean(e.length&&t)};componentDidMount(){if(this.isFetchingInfoOnLoad()){const{tokens:e,fetchSavedInfo:t}=this.props;t(e).then((e=>{const{validValues:t}=this.state;e.forEach((e=>{t[e.value]=e.label})),this.setState({validValues:t,loading:!1})}))}}componentDidUpdate(e){const{tokens:t,fetchSavedInfo:n}=this.props;t!==e.tokens&&this.isFetchingInfoOnLoad()&&n(t).then((e=>{const{validValues:t}=this.state;e.forEach((e=>{t[e.value]=e.label})),this.setState({validValues:t,loading:!1})}))}componentWillUnmount(){delete this.suggestionsRequest,this.debouncedUpdateSuggestions.cancel()}getLabelsForValues(e){const{validValues:t}=this.state;return e.reduce(((e,n)=>n?n.label?[...e,n.label]:t[n]?[...e,t[n]]:e:e),[])}getValuesForLabels(e){const{returnFullObjects:t}=this.props,{validValues:n}=this.state;return t?e.reduce(((e,t)=>(Object.keys(n).forEach((r=>{if(n[r]===t){const n=isNaN(parseInt(r))?r.toString():parseInt(r);e.push({value:n,label:t})}})),e)),[]):e.map((e=>Object.keys(n).map((e=>isNaN(parseInt(e))?e.toString():parseInt(e))).find((t=>n[t]===e))))}updateSuggestions(e){const{fetchSuggestions:t}=this.props;t&&this.setState({loading:!0},(()=>{const n=t(e);n.then((e=>{if(this.suggestionsRequest!==n)return;const{validValues:t}=this.state,r=[...e];e.forEach((e=>{t[e.value]=e.label})),this.setState({suggestions:r,validValues:t,loading:!1})})).catch((()=>{this.suggestionsRequest===n&&this.setState({loading:!1})})),this.suggestionsRequest=n}))}handleOnChange(e){const{onChange:t}=this.props;t(this.getValuesForLabels(e))}getTokens(){const{tokens:e}=this.props;return this.getLabelsForValues(e)}render(){const{help:e,label:t="",placeholder:n="",maxLength:r}=this.props,{suggestions:s,loading:a}=this.state,o=["newspack-autocomplete-tokenfield__input-container"];return t&&o.push("has-label"),(0,p.jsxs)("div",{className:"newspack-autocomplete-tokenfield",children:[(0,p.jsxs)("div",{className:o.join(" "),children:[(0,p.jsx)(i.FormTokenField,{value:this.getTokens(),suggestions:s.map((e=>e.label)),onChange:e=>this.handleOnChange(e),onInputChange:e=>this.debouncedUpdateSuggestions(e),label:t,maxLength:r,placeholder:n}),a&&(0,p.jsx)(i.Spinner,{})]}),e&&(0,p.jsx)("p",{className:"newspack-autocomplete-tokenfield__help",children:e})]})}}const F=B,q=({fetchSavedPosts:e=!1,fetchSuggestions:t=!1,help:n=(0,r.__)("Begin typing search term, click autocomplete result to select.","newspack-plugin"),hideHelp:s=!1,label:a=(0,r.__)("Search","newspack-plugin"),maxItemsToSuggest:o=0,multiSelect:c=!1,onChange:u=!1,onPostTypeChange:h=!1,postTypes:d=[{slug:"post",label:"Post"}],postTypeLabel:f=(0,r.__)("item","newspack-plugin"),postTypeLabelPlural:g=(0,r.__)("items","newspack-plugin"),selectedItems:v=[],selectedPost:_=0,suggestionsToFetch:m=10})=>{const[y,w]=(0,l.useState)(!0),[b,x]=(0,l.useState)(!1),[k,S]=(0,l.useState)([]),[D,E]=(0,l.useState)(0),[C,P]=(0,l.useState)(d[0].slug),I=["newspack-autocomplete-with-suggestions"];s&&I.push("hide-help"),(0,l.useEffect)((()=>{h&&h(C),w(!0),z(null,0,C).then((e=>{0<e.length&&S(e)})).finally((()=>w(!1)))}),[C]),(0,l.useEffect)((()=>{b&&z(null,k.length,C).then((e=>{0<e.length&&S(k.concat(e))})).finally((()=>x(!1)))}),[b]);const N=e||(async(e=[],t=null)=>{const n=t||C,i="post"===n||"page"===n?n+"s":n;return(await j()({path:(0,M.addQueryArgs)("/wp/v2/"+i,{per_page:100,include:e.join(","),_fields:"id,title"})})).map((e=>({value:parseInt(e.id),label:(0,O.decodeEntities)(e.title)||(0,r.__)("(no title)","newspack-plugin")})))}),z=t||(async(e=null,t=0,n=null)=>{const i=n||C,s="post"===i||"page"===i?i+"s":i,a=await j()({parse:!1,path:(0,M.addQueryArgs)("/wp/v2/"+s,{search:e,offset:t,per_page:m,_fields:"id,title"})}),o=parseInt(a.headers.get("x-wp-total")||0),l=await a.json();return E(o),l.reduce(((e,t)=>(e.push({value:parseInt(t.id),label:(0,O.decodeEntities)(t?.title.rendered)||(0,r.__)("(no title)","newspack-plugin")}),e)),[])}),A=e=>{if(!c)return u(e);const t=_?[...v,_]:[...v];e.forEach((e=>{const n=t.findIndex((t=>parseInt(t.value)===parseInt(e.value)));-1<n?t.splice(n,1):t.push(e)})),u(t.map((e=>({...e,postType:C}))))},R=e=>{if(c){const t=!!(_?[...v,_]:[...v]).find((t=>parseInt(t.value)===parseInt(e.value)&&t.label===e.label));return(0,p.jsx)(i.CheckboxControl,{checked:t,onChange:()=>A([e]),label:e.label},e.value)}return(0,p.jsx)(i.Button,{isLink:!0,onClick:()=>A([e]),children:e.label},e.value)};return(0,p.jsxs)("div",{className:I.join(" "),children:[0<v.length&&(()=>{const e=_?[...v,_]:v,t=c?(0,r.sprintf)(
// Translators: %1: the length of selections. %2: the selection leabel.
// Translators: %1: the length of selections. %2: the selection leabel.
(0,r.__)("%1$s %2$s selected","newspack-plugin"),e.length,e.length>1?g:f):(0,r.sprintf)(
// Translators: %s: The label for the selection.
// Translators: %s: The label for the selection.
(0,r.__)("Selected %s","newspack-plugin"),f);return(0,p.jsxs)("div",{className:"newspack-autocomplete-with-suggestions__selected-items",children:[(0,p.jsxs)("p",{className:"newspack-autocomplete-with-suggestions__label",children:[t,1<e.length&&(0,r._x)(" – ","separator character","newspack-plugin"),1<e.length&&(0,p.jsx)(i.Button,{onClick:()=>u([]),isLink:!0,isDestructive:!0,children:(0,r.__)("Clear all","newspack-plugin")})]}),e.map((t=>(0,p.jsx)(i.Button,{className:"newspack-autocomplete-with-suggestions__selected-item-button",isTertiary:!0,onClick:()=>u(e.filter((e=>e.value!==t.value))),children:t.label},t.value)))]})})(),1<d.length&&(0,p.jsx)(i.SelectControl,{label:(0,r.sprintf)(
// Translators: %s: The name of the type.
// Translators: %s: The name of the type.
(0,r.__)("%s type","newspack-plugin"),f.charAt(0).toUpperCase()+f.slice(1)),value:C,options:d.map((e=>({label:e.label,value:e.slug}))),onChange:e=>P(e)}),(0,p.jsx)(F,{tokens:[],onChange:A,fetchSuggestions:async e=>z(e,0,C),fetchSavedInfo:e=>N(e),label:a,loading:y,help:!s&&n,returnFullObjects:!0}),(()=>{if(0===k.length)return null;const e=c?"newspack-autocomplete-with-suggestions__search-suggestions-multiselect":"newspack-autocomplete-with-suggestions__search-suggestions";return(0,p.jsxs)(p.Fragment,{children:[!s&&(0,p.jsx)("p",{className:"newspack-autocomplete-with-suggestions__label",children:/* Translators: %s: the name of a post type. */ /* Translators: %s: the name of a post type. */(0,r.sprintf)((0,r.__)("Or, select a recent %s:","newspack-plugin"),f)}),(0,p.jsxs)("div",{className:e,children:[k.map(R),k.length<(o||D)&&(0,p.jsx)(i.Button,{disabled:b,isSecondary:!0,onClick:()=>x(!0),children:b?(0,r.__)("Loading…","newspack-plugin"):(0,r.__)("Load more","newspack-plugin")})]})]})})()]})};function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}var V=n(1609),$=n.n(V),W=n(5556),Y=n.n(W);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(null,arguments)}function G(e){return"/"===e.charAt(0)}function J(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const Q=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],s=e&&G(e),a=t&&G(t),o=s||a;if(e&&G(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,u=i.length;u>=0;u--){var p=i[u];"."===p?J(i,u):".."===p?(J(i,u),c++):c&&(J(i,u),c--)}if(!o)for(;c--;c)i.unshift("..");!o||""===i[0]||i[0]&&G(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h};function Z(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const X=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"==typeof t||"object"==typeof n){var r=Z(t),i=Z(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};function ee(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function te(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=K({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Q(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function ne(e,t,n){return Math.min(Math.max(e,t),n)}"undefined"==typeof window||!window.document||window.document.createElement;var re=!0,ie="Invariant failed";function se(e,t){if(!e){if(re)throw new Error(ie);var n="function"==typeof t?t():t,r=n?"".concat(ie,": ").concat(n):ie;throw new Error(r)}}var ae=n(8505),oe=n.n(ae);function le(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}n(7564);var ce=n(4146),ue=n.n(ce),pe=1073741823,he="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},de=$().createContext||function(e,t){var n,r,i,s="__create-react-context-"+((he[i="__global_unique_id__"]=(he[i]||0)+1)+"__"),a=function(e){function n(){for(var t,n,r,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}U(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,i)?(n="function"==typeof t?t(r,i):pe,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}($().Component);a.childContextTypes=((n={})[s]=Y().object.isRequired,n);var o=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){e.observedBits&n&&e.setState({value:e.getValue()})},e}U(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?pe:t},r.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?pe:e},r.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},r.getValue=function(){return this.context[s]?this.context[s].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}($().Component);return o.contextTypes=((r={})[s]=Y().object,r),{Provider:a,Consumer:o}},fe=function(e){var t=de();return t.displayName=e,t},ge=fe("Router-History"),ve=fe("Router"),_e=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}U(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return $().createElement(ve.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},$().createElement(ge.Provider,{children:this.props.children||null,value:this.props.history}))},t}($().Component),me=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={});var t,n,r=e,i=r.getUserConfirmation,s=r.initialEntries,a=void 0===s?["/"]:s,o=r.initialIndex,l=void 0===o?0:o,c=r.keyLength,u=void 0===c?6:c,p=(t=null,n=[],{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,i){if(null!=t){var s="function"==typeof t?t(e,n):t;"string"==typeof s?"function"==typeof r?r(s,i):i(!0):i(!1!==s)}else i(!0)},appendListener:function(e){var t=!0;function r(){t&&e.apply(void 0,arguments)}return n.push(r),function(){t=!1,n=n.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach((function(e){return e.apply(void 0,t)}))}});function h(e){K(m,e),m.length=m.entries.length,p.notifyListeners(m.location,m.action)}function d(){return Math.random().toString(36).substr(2,u)}var f=ne(l,0,a.length-1),g=a.map((function(e){return te(e,void 0,"string"==typeof e?d():e.key||d())})),v=ee;function _(e){var t=ne(m.index+e,0,m.entries.length-1),n=m.entries[t];p.confirmTransitionTo(n,"POP",i,(function(e){e?h({action:"POP",location:n,index:t}):h()}))}var m={length:g.length,action:"POP",location:g[f],index:f,entries:g,createHref:v,push:function(e,t){var n="PUSH",r=te(e,t,d(),m.location);p.confirmTransitionTo(r,n,i,(function(e){if(e){var t=m.index+1,i=m.entries.slice(0);i.length>t?i.splice(t,i.length-t,r):i.push(r),h({action:n,location:r,index:t,entries:i})}}))},replace:function(e,t){var n="REPLACE",r=te(e,t,d(),m.location);p.confirmTransitionTo(r,n,i,(function(e){e&&(m.entries[m.index]=r,h({action:n,location:r}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&(e=!1),p.setPrompt(e)},listen:function(e){return p.appendListener(e)}};return m}(t.props),t}return U(t,e),t.prototype.render=function(){return $().createElement(_e,{history:this.history,children:this.props.children})},t}($().Component),ye=function(e){function t(){return e.apply(this,arguments)||this}U(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}($().Component);function we(e){var t=e.message,n=e.when,r=void 0===n||n;return $().createElement(ve.Consumer,null,(function(e){if(e||se(!1),!r||e.staticContext)return null;var n=e.history.block;return $().createElement(ye,{onMount:function(e){e.release=n(t)},onUpdate:function(e,r){r.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})}))}var be={},xe=1e4,ke=0;function Se(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(be[e])return be[e];var t=oe().compile(e);return ke<xe&&(be[e]=t,ke++),t}(e)(t,{pretty:!0})}function je(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return $().createElement(ve.Consumer,null,(function(e){e||se(!1);var r=e.history,s=e.staticContext,a=i?r.push:r.replace,o=te(t?"string"==typeof n?Se(n,t.params):K({},n,{pathname:Se(n.pathname,t.params)}):n);return s?(a(o),null):$().createElement(ye,{onMount:function(){a(o)},onUpdate:function(e,t){var n=te(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&X(e.state,t.state)})(n,K({},o,{key:n.key}))||a(o)},to:n})}))}var Me={},De=1e4,Oe=0;function Ee(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,s=void 0!==i&&i,a=n.strict,o=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Me[n]||(Me[n]={});if(r[e])return r[e];var i=[],s={regexp:oe()(e,i,t),keys:i};return Oe<De&&(r[e]=s,Oe++),s}(n,{end:s,strict:o,sensitive:c}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],p=l.slice(1),h=e===u;return s&&!h?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var Ce=function(e){function t(){return e.apply(this,arguments)||this}return U(t,e),t.prototype.render=function(){var e=this;return $().createElement(ve.Consumer,null,(function(t){t||se(!1);var n=e.props.location||t.location,r=K({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Ee(n.pathname,e.props):t.match}),i=e.props,s=i.children,a=i.component,o=i.render;return Array.isArray(s)&&function(e){return 0===$().Children.count(e)}(s)&&(s=null),$().createElement(ve.Provider,{value:r},r.match?s?"function"==typeof s?s(r):s:a?$().createElement(a,r):o?o(r):null:"function"==typeof s?s(r):null)}))},t}($().Component);function Pe(e){return"/"===e.charAt(0)?e:"/"+e}function Ie(e,t){if(!e)return t;var n=Pe(e);return 0!==t.pathname.indexOf(n)?t:K({},t,{pathname:t.pathname.substr(n.length)})}function Ne(e){return"string"==typeof e?e:ee(e)}function ze(e){return function(){se(!1)}}function Ae(){}var Re=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return Ae},t.handleBlock=function(){return Ae},t}U(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,i=void 0===r?"":r,s=n.context,a=void 0===s?{}:s;a.action=t,a.location=function(e,t){return e?K({},t,{pathname:Pe(e)+t.pathname}):t}(i,te(e)),a.url=Ne(a.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,i=void 0===r?{}:r,s=e.location,a=void 0===s?"/":s,o=le(e,["basename","context","location"]),l={createHref:function(e){return Pe(n+Ne(e))},action:"POP",location:Ie(n,te(a)),push:this.handlePush,replace:this.handleReplace,go:ze(),goBack:ze(),goForward:ze(),listen:this.handleListen,block:this.handleBlock};return $().createElement(_e,K({},o,{history:l,staticContext:i}))},t}($().Component),Te=function(e){function t(){return e.apply(this,arguments)||this}return U(t,e),t.prototype.render=function(){var e=this;return $().createElement(ve.Consumer,null,(function(t){t||se(!1);var n,r,i=e.props.location||t.location;return $().Children.forEach(e.props.children,(function(e){if(null==r&&$().isValidElement(e)){n=e;var s=e.props.path||e.props.from;r=s?Ee(i.pathname,K({},e.props,{path:s})):t.match}})),r?$().cloneElement(n,{location:i,computedMatch:r}):null}))},t}($().Component);function Le(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=le(t,["wrappedComponentRef"]);return $().createElement(ve.Consumer,null,(function(t){return t||se(!1),$().createElement(e,K({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,ue()(n,e)}var Be=$().useContext;function Fe(){return Be(ge)}function qe(){return Be(ve).location}function He(){var e=Be(ve).match;return e?e.params:{}}function Ue(e){var t=qe(),n=Be(ve).match;return e?Ee(t.pathname,e):n}function Ve(e){return"/"===e.charAt(0)?e:"/"+e}function $e(e){return"/"===e.charAt(0)?e.substr(1):e}function We(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Ye(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Ke(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Ge(e,t,n,r){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=K({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Q(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function Je(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var s="function"==typeof e?e(t,n):e;"string"==typeof s?"function"==typeof r?r(s,i):i(!0):i(!1!==s)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Qe=!("undefined"==typeof window||!window.document||!window.document.createElement);function Ze(e,t){t(window.confirm(e))}var Xe="popstate",et="hashchange";function tt(){try{return window.history.state||{}}catch(e){return{}}}var nt="hashchange",rt={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+$e(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:$e,decodePath:Ve},slash:{encodePath:Ve,decodePath:Ve}};function it(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function st(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function at(e){window.location.replace(it(window.location.href)+"#"+e)}var ot=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={}),Qe||se(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),s=e,a=s.forceRefresh,o=void 0!==a&&a,l=s.getUserConfirmation,c=void 0===l?Ze:l,u=s.keyLength,p=void 0===u?6:u,h=e.basename?Ye(Ve(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,s=i.pathname+i.search+i.hash;return h&&(s=We(s,h)),Ge(s,r,n)}function f(){return Math.random().toString(36).substr(2,p)}var g=Je();function v(e){K(O,e),O.length=n.length,g.notifyListeners(O.location,O.action)}function _(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||w(d(e.state))}function m(){w(d(tt()))}var y=!1;function w(e){y?(y=!1,v()):g.confirmTransitionTo(e,"POP",c,(function(t){t?v({action:"POP",location:e}):function(e){var t=O.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(y=!0,S(i))}(e)}))}var b=d(tt()),x=[b.key];function k(e){return h+Ke(e)}function S(e){n.go(e)}var j=0;function M(e){1===(j+=e)&&1===e?(window.addEventListener(Xe,_),i&&window.addEventListener(et,m)):0===j&&(window.removeEventListener(Xe,_),i&&window.removeEventListener(et,m))}var D=!1,O={length:n.length,action:"POP",location:b,createHref:k,push:function(e,t){var i="PUSH",s=Ge(e,t,f(),O.location);g.confirmTransitionTo(s,i,c,(function(e){if(e){var t=k(s),a=s.key,l=s.state;if(r)if(n.pushState({key:a,state:l},null,t),o)window.location.href=t;else{var c=x.indexOf(O.location.key),u=x.slice(0,c+1);u.push(s.key),x=u,v({action:i,location:s})}else window.location.href=t}}))},replace:function(e,t){var i="REPLACE",s=Ge(e,t,f(),O.location);g.confirmTransitionTo(s,i,c,(function(e){if(e){var t=k(s),a=s.key,l=s.state;if(r)if(n.replaceState({key:a,state:l},null,t),o)window.location.replace(t);else{var c=x.indexOf(O.location.key);-1!==c&&(x[c]=s.key),v({action:i,location:s})}else window.location.replace(t)}}))},go:S,goBack:function(){S(-1)},goForward:function(){S(1)},block:function(e){void 0===e&&(e=!1);var t=g.setPrompt(e);return D||(M(1),D=!0),function(){return D&&(D=!1,M(-1)),t()}},listen:function(e){var t=g.appendListener(e);return M(1),function(){M(-1),t()}}};return O}(t.props),t}return U(t,e),t.prototype.render=function(){return $().createElement(_e,{history:this.history,children:this.props.children})},t}($().Component),lt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={}),Qe||se(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?Ze:r,s=n.hashType,a=void 0===s?"slash":s,o=e.basename?Ye(Ve(e.basename)):"",l=rt[a],c=l.encodePath,u=l.decodePath;function p(){var e=u(st());return o&&(e=We(e,o)),Ge(e)}var h=Je();function d(e){K(j,e),j.length=t.length,h.notifyListeners(j.location,j.action)}var f=!1,g=null;function v(){var e=st(),t=c(e);if(e!==t)at(t);else{var n=p(),r=j.location;if(!f&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(g===Ke(n))return;g=null,function(e){f?(f=!1,d()):h.confirmTransitionTo(e,"POP",i,(function(t){t?d({action:"POP",location:e}):function(e){var t=j.location,n=w.lastIndexOf(Ke(t));-1===n&&(n=0);var r=w.lastIndexOf(Ke(e));-1===r&&(r=0);var i=n-r;i&&(f=!0,b(i))}(e)}))}(n)}}var _=st(),m=c(_);_!==m&&at(m);var y=p(),w=[Ke(y)];function b(e){t.go(e)}var x=0;function k(e){1===(x+=e)&&1===e?window.addEventListener(nt,v):0===x&&window.removeEventListener(nt,v)}var S=!1,j={length:t.length,action:"POP",location:y,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=it(window.location.href)),n+"#"+c(o+Ke(e))},push:function(e,t){var n="PUSH",r=Ge(e,void 0,void 0,j.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Ke(r),i=c(o+t);if(st()!==i){g=t,function(e){window.location.hash=e}(i);var s=w.lastIndexOf(Ke(j.location)),a=w.slice(0,s+1);a.push(t),w=a,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=Ge(e,void 0,void 0,j.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Ke(r),i=c(o+t);st()!==i&&(g=t,at(i));var s=w.indexOf(Ke(j.location));-1!==s&&(w[s]=t),d({action:n,location:r})}}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return S||(k(1),S=!0),function(){return S&&(S=!1,k(-1)),t()}},listen:function(e){var t=h.appendListener(e);return k(1),function(){k(-1),t()}}};return j}(t.props),t}return U(t,e),t.prototype.render=function(){return $().createElement(_e,{history:this.history,children:this.props.children})},t}($().Component),ct=function(e,t){return"function"==typeof e?e(t):e},ut=function(e,t){return"string"==typeof e?Ge(e,null,null,t):e},pt=function(e){return e},ht=$().forwardRef;void 0===ht&&(ht=pt);var dt=ht((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,s=le(e,["innerRef","navigate","onClick"]),a=s.target,o=K({},s,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return o.ref=pt!==ht&&t||n,$().createElement("a",o)})),ft=ht((function(e,t){var n=e.component,r=void 0===n?dt:n,i=e.replace,s=e.to,a=e.innerRef,o=le(e,["component","replace","to","innerRef"]);return $().createElement(ve.Consumer,null,(function(e){e||se(!1);var n=e.history,l=ut(ct(s,e.location),e.location),c=l?n.createHref(l):"",u=K({},o,{href:c,navigate:function(){var t=ct(s,e.location),r=Ke(e.location)===Ke(ut(t));(i||r?n.replace:n.push)(t)}});return pt!==ht?u.ref=t||a:u.innerRef=a,$().createElement(r,u)}))})),gt=function(e){return e},vt=$().forwardRef;void 0===vt&&(vt=gt);var _t=vt((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,s=void 0===i?"active":i,a=e.activeStyle,o=e.className,l=e.exact,c=e.isActive,u=e.location,p=e.sensitive,h=e.strict,d=e.style,f=e.to,g=e.innerRef,v=le(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return $().createElement(ve.Consumer,null,(function(e){e||se(!1);var n=u||e.location,i=ut(ct(f,n),n),_=i.pathname,m=_&&_.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),y=m?Ee(n.pathname,{path:m,exact:l,sensitive:p,strict:h}):null,w=!!(c?c(y,n):y),b="function"==typeof o?o(w):o,x="function"==typeof d?d(w):d;w&&(b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(b,s),x=K({},x,a));var k=K({"aria-current":w&&r||null,className:b,style:x,to:i},v);return gt!==vt?k.ref=t||g:k.innerRef=g,$().createElement(ft,k)}))}));const mt=e,{useHistory:yt}=mt,wt=({href:e,onClick:t,...n})=>{const r=yt(),[s,a]=(0,l.useState)(!1);return e&&t?n.onClick=async()=>{a(!0),await t(),a(!1),r.push((e||"").replace("#",""))}:(n.href=e,n.onClick=t),s&&(n.disabled=!0),(0,p.jsx)(i.Button,{...n})};class bt extends l.Component{render(){const{buttonsCard:e,className:t,headerActions:n,isNarrow:r,isMedium:i,isSmall:s,isWhite:a,noBorder:o,...l}=this.props,c=P()("newspack-card",t,e&&"newspack-card__buttons-card",n&&"newspack-card__header-actions",i&&"newspack-card__is-medium",r&&"newspack-card__is-narrow",s&&"newspack-card__is-small",a&&"newspack-card__is-white",o&&"newspack-card__no-border");return(0,p.jsx)("div",{className:c,...l})}}const xt=bt;var kt=n(7309),St=n.n(kt),jt=n(7612),Mt=n.n(jt);class Dt extends l.Component{state={suggestions:{},allCategories:{},isLoading:!1};constructor(e){super(e),this.debouncedUpdateSuggestions=L()(this.updateSuggestions,100)}componentDidMount(){this.setState({isLoading:!0}),j()({path:(0,M.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{per_page:-1,_fields:"id,name"})}).then((e=>this.setState({allCategories:e}))).finally((()=>this.setState({isLoading:!1})))}componentWillUnmount(){this.debouncedUpdateSuggestions.cancel()}updateSuggestions(e){this.setState({isLoading:!0}),j()({path:(0,M.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then((e=>{this.setState({suggestions:e.reduce(((e,t)=>({...e,[t.name]:t})),{})})})).finally((()=>this.setState({isLoading:!1})))}handleOnChange=e=>{const{onChange:t}=this.props,{suggestions:n}=this.state;t(e.filter((e=>void 0!==e)).map((e=>"string"==typeof e?n[e]:e)).filter(Boolean))};getAvailableSuggestions=()=>{const{value:e}=this.props,{suggestions:t}=this.state,n=e.reduce(((e,t)=>(t?.id&&e.push(t.id),e)),[]);return Mt()(t,(({id:e})=>-1===n.indexOf(e))).map((e=>e.name))};render(){const{className:e,disabled:t,description:n,hideHelpFromVision:r,hideLabelFromVision:s,label:a,value:o}=this.props,{allCategories:l,isLoading:c}=this.state,u=P()("newspack-category-autocomplete",e);return(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)(un,{onInputChange:e=>this.debouncedUpdateSuggestions(e),value:o.reduce(((e,t)=>{const n="number"==typeof t?St()(l,["id",t]):t;return n&&e.push({id:n.term_id||n.id,value:n.value||n.name}),e}),[]),suggestions:this.getAvailableSuggestions(),onChange:this.handleOnChange,label:a,disabled:t,description:n,hideHelpFromVision:r,hideLabelFromVision:s}),c?(0,p.jsx)("span",{className:"newspack-category-autocomplete__suggestions-spinner",children:(0,p.jsx)(i.Spinner,{})}):null]})}}Dt.defaultProps={taxonomy:"categories"};var Ot={grad:.9,turn:360,rad:360/(2*Math.PI)},Et=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},Ct=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Pt=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},It=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Nt=function(e){return{r:Pt(e.r,0,255),g:Pt(e.g,0,255),b:Pt(e.b,0,255),a:Pt(e.a)}},zt=function(e){return{r:Ct(e.r),g:Ct(e.g),b:Ct(e.b),a:Ct(e.a,3)}},At=/^#([0-9a-f]{3,8})$/i,Rt=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Tt=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),o=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:i}},Lt=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),o=r*(1-(t-s)*n),l=r*(1-(1-t+s)*n),c=s%6;return{r:255*[r,o,a,a,l,r][c],g:255*[l,r,r,o,a,a][c],b:255*[a,a,l,r,r,o][c],a:i}},Bt=function(e){return{h:It(e.h),s:Pt(e.s,0,100),l:Pt(e.l,0,100),a:Pt(e.a)}},Ft=function(e){return{h:Ct(e.h),s:Ct(e.s),l:Ct(e.l),a:Ct(e.a,3)}},qt=function(e){return Lt((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Ht=function(e){return{h:(t=Tt(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},Ut=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$t=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Wt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Yt={string:[[function(e){var t=At.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?Ct(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?Ct(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=$t.exec(e)||Wt.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Nt({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Ut.exec(e)||Vt.exec(e);if(!t)return null;var n,r,i=Bt({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(Ot[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return qt(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=void 0===i?1:i;return Et(t)&&Et(n)&&Et(r)?Nt({r:Number(t),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,s=void 0===i?1:i;if(!Et(t)||!Et(n)||!Et(r))return null;var a=Bt({h:Number(t),s:Number(n),l:Number(r),a:Number(s)});return qt(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,s=void 0===i?1:i;if(!Et(t)||!Et(n)||!Et(r))return null;var a=function(e){return{h:It(e.h),s:Pt(e.s,0,100),v:Pt(e.v,0,100),a:Pt(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(s)});return Lt(a)},"hsv"]]},Kt=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},Gt=function(e,t){var n=Ht(e);return{h:n.h,s:Pt(n.s+100*t,0,100),l:n.l,a:n.a}},Jt=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Qt=function(e,t){var n=Ht(e);return{h:n.h,s:n.s,l:Pt(n.l+100*t,0,100),a:n.a}},Zt=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Kt(e.trim(),Yt.string):"object"==typeof e&&null!==e?Kt(e,Yt.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return Ct(Jt(this.rgba),2)},e.prototype.isDark=function(){return Jt(this.rgba)<.5},e.prototype.isLight=function(){return Jt(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=zt(this.rgba)).r,n=e.g,r=e.b,s=(i=e.a)<1?Rt(Ct(255*i)):"","#"+Rt(t)+Rt(n)+Rt(r)+s;var e,t,n,r,i,s},e.prototype.toRgb=function(){return zt(this.rgba)},e.prototype.toRgbString=function(){return t=(e=zt(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return Ft(Ht(this.rgba))},e.prototype.toHslString=function(){return t=(e=Ft(Ht(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=Tt(this.rgba),{h:Ct(e.h),s:Ct(e.s),v:Ct(e.v),a:Ct(e.a,3)};var e},e.prototype.invert=function(){return Xt({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Xt(Gt(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Xt(Gt(this.rgba,-e))},e.prototype.grayscale=function(){return Xt(Gt(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Xt(Qt(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Xt(Qt(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Xt({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Ct(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Ht(this.rgba);return"number"==typeof e?Xt({h:e,s:t.s,l:t.l,a:t.a}):Ct(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Xt(e).toHex()},e}(),Xt=function(e){return e instanceof Zt?e:new Zt(e)},en=[],tn=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},nn=function(e){return.2126*tn(e.r)+.7152*tn(e.g)+.0722*tn(e.b)};const{useHistory:rn}=mt;n(6449),n(6924);const sn=e=>(0,l.useRef)(`${e}-${Math.round(99999*Math.random())}`).current,an=window.wp.keycodes,on={InteractiveDiv:({style:e={},...t})=>(0,p.jsx)("div",{tabIndex:"0",role:"button",onKeyDown:e=>an.ENTER===e.keyCode&&t.onClick(),style:{cursor:"pointer",...e},...t}),confirmAction:e=>!!confirm(e)};!function(e){e.forEach((function(e){en.indexOf(e)<0&&(e(Zt,Yt),en.push(e))}))}([function(e){e.prototype.luminance=function(){return e=nn(this.rgba),void 0===(t=2)&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var n,r,i,s,a,o,l,c=t instanceof e?t:new e(t);return s=this.rgba,a=c.toRgb(),n=(o=nn(s))>(l=nn(a))?(o+.05)/(l+.05):(l+.05)/(o+.05),void 0===(r=2)&&(r=0),void 0===i&&(i=Math.pow(10,r)),Math.floor(i*n)/i+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(a=void 0===(s=(n=t).size)?"normal":s,"AAA"===(i=void 0===(r=n.level)?"AA":r)&&"normal"===a?7:"AA"===i&&"large"===a?3:4.5);var n,r,i,s,a}}]);const{InteractiveDiv:ln}=on;class cn extends l.Component{render(){const{className:e,description:t,hideHelpFromVision:n,hideLabelFromVision:r,...s}=this.props,a=P()("newspack-form-token-field__input-container",e);return(0,p.jsxs)("div",{className:P()({"newspack-form-token-field--label-hidden":r,"newspack-form-token-field--help-hidden":n},"newspack-form-token-field"),children:[(0,p.jsx)(i.FormTokenField,{className:a,...s}),t&&(0,p.jsx)("p",{className:"newspack-form-token-field__help",children:t})]})}}const un=cn,pn=({simple:e})=>{const{components_demo:t=!1,support:n=!1,setup_wizard:s=!1,reset_url:a=!1,plugin_version:o={label:"Newspack"},remove_starter_content:l=!1,support_email:c}=window.newspack_urls||{},u=[{label:o.label,url:"https://newspack.com/category/release-notes/",external:!0},{label:(0,r.__)("About","newspack-plugin"),url:"https://newspack.com/",external:!0},{label:(0,r.__)("Documentation","newspack-plugin"),url:n,external:!0}];return t&&u.push({label:(0,r.__)("Components Demo","newspack-plugin"),url:t}),s&&u.push({label:(0,r.__)("Setup Wizard","newspack-plugin"),url:s}),a&&u.push({label:(0,r.__)("Reset Newspack","newspack-plugin"),url:a}),l&&u.push({label:(0,r.__)("Remove Starter Content","newspack-plugin"),url:l}),c&&u.push({label:(0,r.__)("Contact Support","newspack-plugin"),url:`mailto:${c}`}),(0,p.jsxs)("div",{className:"newspack-footer",children:[!e&&(0,p.jsx)("div",{className:"newspack-footer__inner",children:(0,p.jsx)("ul",{children:u.map((({url:e,label:t,external:n},r)=>(0,p.jsx)("li",{children:n?(0,p.jsx)(i.ExternalLink,{href:e,children:t}):(0,p.jsx)("a",{href:e,children:t})},r)))})}),(0,p.jsx)("div",{className:"newspack-footer__logo",children:(0,p.jsx)(Pn,{})})]})};var hn=n(6139),dn=n.n(hn);class fn extends l.Component{constructor(){super(...arguments),this.state={pluginInfo:[],showModal:!1}}componentDidMount=()=>{this._isMounted=!0;const{plugin:e}=this.props;this.retrievePluginInfo(e)};componentWillUnmount=()=>{this._isMounted=!1};retrievePluginInfo=e=>{const{onReady:t}=this.props;j()({path:"/newspack/v1/plugins/"+e}).then((e=>{this._isMounted&&(t(e),this.setState({pluginInfo:e}))}))};textForPlugin=e=>{const t={modalBody:null,modalTitle:e.Name&&`${(0,r.__)("Manage","newspack-plugin")} ${e.Name}`,primaryButton:e.Name&&`${(0,r.__)("Manage","newspack-plugin")} ${e.Name}`,primaryModalButton:(0,r.__)("Manage","newspack-plugin"),dismissModalButton:(0,r.__)("Dismiss","newspack-plugin")};return dn()(t,this.props)};goToPlugin=e=>{const{editLink:t,showOnBlockEditor:n}=this.props;j()({path:"/newspack/v1/plugins/"+e+"/handoff",method:"POST",data:{editLink:t,handoffReturnUrl:window&&window.location.href,showOnBlockEditor:!!n}}).then((e=>{window.location.href=e.HandoffLink}))};render(){const{className:e,children:t,compact:n,useModal:i,modalTitle:s,modalBody:a,onReady:o,editLink:c,...u}=this.props,{pluginInfo:h,showModal:d}=this.state,{modalBody:f,modalTitle:g,primaryButton:v,primaryModalButton:_,dismissModalButton:m}=this.textForPlugin(h),{Configured:y,Name:w,Slug:b,Status:x}=h,k=P()(y&&"is-configured",e);return(0,p.jsxs)(l.Fragment,{children:[w&&"active"===x&&(0,p.jsx)(wt,{className:k,isSecondary:!u.isPrimary&&!u.isTertiary&&!u.isLink,...u,onClick:()=>i?this.setState({showModal:!0}):this.goToPlugin(b),children:t||v}),w&&"active"!==x&&(0,p.jsx)(wt,{className:k,variant:"secondary",disabled:!0,...u,children:w+(0,r.__)(" not installed","newspack-plugin")}),!w&&(0,p.jsx)(wt,{className:k,isSecondary:!u.isPrimary&&!u.isTertiary&&!u.isLink,...u,children:(0,p.jsxs)(l.Fragment,{children:[!n&&(0,p.jsx)(nr,{isLeft:!0}),(0,r.__)("Retrieving Plugin Info","newspack-plugin")]})}),d&&(0,p.jsxs)(xn,{title:g,onRequestClose:()=>this.setState({showModal:!1}),children:[(0,p.jsx)("p",{children:f}),(0,p.jsxs)(xt,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:[(0,p.jsx)(wt,{variant:"secondary",onClick:()=>this.setState({showModal:!1}),children:m}),(0,p.jsx)(wt,{variant:"primary",onClick:()=>this.goToPlugin(b),children:_})]})]})]})}}fn.defaultProps={onReady:()=>{}};const gn=fn,vn="newspack_wizard_handoff_message";function mn(){const[e,t]=(0,l.useState)(!1);return(0,l.useEffect)((()=>(setTimeout((()=>{const e=JSON.parse(localStorage.getItem(vn));t(!!e?.message&&e.message),e?.url&&-1===window.location.href.indexOf(e.url)&&(window.localStorage.removeItem(vn),t(!1))}),100),()=>window.localStorage.removeItem(vn))),[]),e?(0,p.jsx)(En,{isHandoff:!0,isDismissible:!1,rawHTML:!0,noticeText:e}):null}const yn=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})});l.Component,l.Component;const wn=({className:e="",columns:t=2,gutter:n=32,noMargin:r=!1,rowGap:i=0,...s})=>{const a=P()("newspack-grid",r&&"newspack-grid--no-margin",t&&"newspack-grid__columns-"+t,n&&"newspack-grid__gutter-"+n,i&&"newspack-grid__row-gap-"+i,e);return(0,p.jsx)("div",{className:a,...s})};class bn extends l.Component{render(){const{className:e,isWide:t,isNarrow:n,...r}=this.props,s=P()("newspack-modal",t&&"newspack-modal--wide",n&&"newspack-modal--narrow",e);return(0,p.jsx)(i.Modal,{className:s,...r})}}const xn=bn;class kn extends l.Component{render(){const{className:e,simple:t,size:n,white:r}=this.props,s=P()("newspack-icon",t&&"newspack-icon--simple",r&&"newspack-icon--white",e);return(0,p.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",height:n,width:n,viewBox:"0 0 32 32",className:s,children:(0,p.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M32 16c0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16S7.164 0 16 0s16 7.164 16 16zm-10.732.622h1.72v-1.124h-2.823l1.103 1.124zm-3.249-3.31h4.97v-1.124h-6.072l1.102 1.124zm-3.248-3.31h8.217V8.877h-9.32l1.103 1.125zM9.01 8.877l13.977 14.246h-4.66l-5.866-5.98v5.98h-3.45V8.877z"})})}}kn.defaultProps={size:32};const Sn=kn;class jn extends l.Component{render(){const{centered:e,className:t,height:n}=this.props,r=P()("newspack-logo__svg",e&&"is-centered",t);return(0,p.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",height:n,viewBox:"0 0 221 64",className:r,children:(0,p.jsx)(i.Path,{d:"M32 0c17.672 0 32 14.328 32 32S49.672 64 32 64C14.326 64 0 49.672 0 32S14.328 0 32 0zm130.57 27.247c3.611 0 6.475 2.521 6.475 7.974 0 5.417-3.134 8.995-8.314 8.995-1.262 0-2.248-.172-3.305-.376v8.551h-4.022V27.67h3.85v1.486c1.534-1.191 3.237-1.908 5.316-1.908zM18.023 17.755v28.49h6.902V34.287l11.733 11.958h9.319l-27.954-28.49zm178.552 9.495c2.009 0 3.219.34 4.581.784v3.407c-1.158-.444-2.878-.921-4.513-.921-2.453 0-4.532 1.294-4.532 5.076 0 4.156 2.077 5.383 4.736 5.387 1.262 0 2.676-.273 4.516-.99v3.34c-1.636.544-3.118.92-5.025.92-6.033 0-8.417-3.442-8.417-8.45 0-5.283 3.305-8.553 8.654-8.553zm-18.195-.003c3.919 0 6.44 1.567 6.435 6.235V43.84h-3.747v-1.771h-.103c-1.327 1.022-2.93 2.079-5.314 2.079-2.112 0-4.36-1.534-4.36-4.6 0-4.133 3.545-4.912 5.997-5.252l3.51-.477v-.47c0-2.181-.886-2.897-2.93-2.897-.989 0-3.338.305-5.28 1.09l-.341-3.237c1.738-.614 4.123-1.058 6.133-1.058zm-73.55-.12c5.145 0 6.951 3.579 6.951 6.987 0 .936-.047 1.518-.102 2.06l-.034.325h-10.358c.101 3.542 2.106 4.36 5.104 4.36 1.637 0 3.158-.372 4.845-.991v3.342c-2.093.644-3.89.921-5.968.921-5.141 0-8.308-2.556-8.308-8.586 0-4.398 2.69-8.417 7.87-8.417zm39.998 0c1.771 0 3.305.172 4.804.614v3.338s-2.188-.714-4.497-.714c-1.43 0-2.76.477-2.76 1.703 0 2.725 8.042 1.262 8.04 6.883 0 4.053-3.611 5.178-7.394 5.178-1.738 0-3.487-.467-4.736-.958v-3.305c1.5.52 3.578 1.026 4.873 1.026 1.84 0 3.1-.374 3.1-1.771 0-2.829-8.04-1.33-8.04-7.156 0-2.998 2.724-4.837 6.61-4.837zm64.01-6.114v13.63c.34-.376.615-.785 5.657-6.952h5.213l-6.543 7.666 7.156 8.485h-5.248l-6.235-7.665v7.665h-4.02v-22.83h4.02zm-127.634 0l8.633 15.263V21.013h4.022v22.83h-4.416L80.81 28.578v15.263h-4.021v-22.83h4.416zm36.758 6.678l2.476 11.469 2.801-11.469h3.572l2.438 11.469 2.75-11.469h4.038l-4.54 16.151h-4.83l-1.714-9.495-2.325 9.495h-4.814l-4.268-16.15h4.416zm62.836 8.616l-3.305.512c-.987.136-2.044.732-2.044 2.231 0 1.322.75 2.067 1.84 2.067 1.157 0 2.452-.716 3.509-1.466v-3.344zm-19.318-5.752c-1.193 0-2.657.545-4.054 1.771v8.415c.885.17 1.77.306 2.997.306 2.829 0 4.464-1.805 4.464-5.517 0-3.476-1.158-4.975-3.407-4.975zm-56.685-.394c-2.009 0-3.235 1.43-3.475 3.678h6.268c0-1.975-.646-3.678-2.793-3.678zm-58.818.836H40.33l2.205 2.248h3.442v-2.248zm0-6.621H33.833l2.205 2.248h9.939v-2.248zm0-6.621h-18.64l2.204 2.248h16.436v-2.248z"})})}}jn.defaultProps={height:56};const Mn=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zM3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 8.75a1.5 1.5 0 01.167 2.99c-.465.052-.917.44-.917 1.01V14h1.5v-.845A3 3 0 109 10.25h1.5a1.5 1.5 0 011.5-1.5zM11.25 15v1.5h1.5V15h-1.5z"})}),Dn=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M6.13 5.5l1.926 1.927A4.975 4.975 0 007.025 10H5v1.5h2V13H5v1.5h2.1a5.002 5.002 0 009.8 0H19V13h-2v-1.5h2V10h-2.025a4.979 4.979 0 00-1.167-2.74l1.76-1.76-1.061-1.06-1.834 1.834A4.977 4.977 0 0012 5.5c-1.062 0-2.046.33-2.855.895L7.19 4.44 6.13 5.5zm2.37 5v3a3.5 3.5 0 107 0v-3a3.5 3.5 0 10-7 0z",fillRule:"evenodd",clipRule:"evenodd"})});class On extends l.Component{render(){const{className:e,debugMode:t,isError:n,isHandoff:i,isHelp:s,isSuccess:a,isWarning:o,noticeText:u,rawHTML:h,style:d={},children:f=null}=this.props,g=P()("newspack-notice",e,t&&"newspack-notice__is-debug",n&&"newspack-notice__is-error",i&&"newspack-notice__is-handoff",s&&"newspack-notice__is-help",a&&"newspack-notice__is-success",o&&"newspack-notice__is-warning");let v;return v=s?Mn:a?I:t?Dn:yn,(0,p.jsxs)("div",{className:g,style:d,children:[(0,p.jsx)(c,{icon:v}),(0,p.jsxs)("div",{className:"newspack-notice__content",children:[h?(0,p.jsx)(l.RawHTML,{children:u}):u,t&&(0,r.__)("Debug Mode","newspack-plugin"),f||null]})]})}}const En=On;class Cn extends l.Component{render=()=>(0,p.jsxs)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"219",height:"16",viewBox:"0 0 438 32",className:"patrons-logo","aria-label":(0,r.__)("A project of WordPress.com and the Google News Initiative","newspack-plugin"),children:[(0,p.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M0 16C0 7.179 7.146 0 15.93 0c8.784 0 15.93 7.178 15.93 16 0 8.823-7.146 16-15.93 16C7.145 32 0 24.823 0 16zm27.506-.271L23.13 28.435a14.349 14.349 0 005.214-5.263 14.424 14.424 0 001.906-7.171 14.36 14.36 0 00-1.754-6.902c.062.458.097.95.097 1.477 0 1.461-.271 3.102-1.088 5.153zM18.96 9.177c-.291.027-.665.057-1.056.077l5.177 15.463 1.427-4.792c.728-1.87 1.09-3.42 1.09-4.653 0-1.775-.635-3.007-1.179-3.964l-.154-.25-.014-.022c-.66-1.071-1.239-2.008-1.239-3.105 0-1.32.997-2.55 2.404-2.55.052 0 .1.004.148.008l.037.003a14.226 14.226 0 00-9.672-3.777 14.26 14.26 0 00-6.797 1.723 14.334 14.334 0 00-5.167 4.76c.337.01.654.019.922.019 1.497 0 3.817-.185 3.817-.185.772-.046.863 1.095.093 1.186 0 0-.234.028-.589.06-.291.026-.663.056-1.053.076l5.214 15.582 3.135-9.44-2.23-6.14a26.784 26.784 0 01-1.502-.138c-.772-.047-.681-1.23.091-1.186 0 0 2.364.185 3.771.185 1.498 0 3.818-.185 3.818-.185.772-.046.863 1.095.09 1.186 0 0-.23.027-.582.06zm-7.076 20.624a14.282 14.282 0 008.803-.23 1.188 1.188 0 01-.103-.199l-4.402-12.115-4.298 12.544zM2.846 10.145a14.434 14.434 0 00.945 13.493 14.345 14.345 0 005.888 5.308l-6.833-18.8z"}),(0,p.jsx)(i.Path,{d:"M56.125 8.758l-3.172 12.258-3.178-12.258h-3.209l.747 2.626-2.797 10.047L41.48 8.758h-3.087l4.334 16.01h3.362l2.596-8.56 2.431 8.56h3.361l4.549-16.01h-2.9zM151.302 24.767h-2.818v-2.915h2.818v2.915z"}),(0,p.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M64.38 13.13c-3.878 0-5.71 2.509-5.71 5.973 0 3.465 1.832 5.95 5.71 5.95 3.854 0 5.71-2.485 5.71-5.95 0-3.464-1.856-5.973-5.71-5.973zm0 9.654c-1.833 0-2.807-1.194-2.807-3.681 0-2.461.974-3.68 2.807-3.68 1.83 0 2.783 1.196 2.783 3.68 0 2.462-.953 3.68-2.783 3.68zM86.344 13.13c.69 0 1.285.096 2.117.262V8.756h2.807v16.01h-2.663v-1.052c-.906.767-2.404 1.34-3.64 1.34-2.5 0-4.616-1.745-4.616-5.52 0-3.798 2.117-6.404 5.995-6.404zm-.548 9.654c.904 0 1.76-.455 2.665-1.29v-5.758a5.2 5.2 0 00-1.83-.36c-2.144 0-3.38 1.362-3.38 3.968 0 2.411 1 3.44 2.545 3.44zM99.941 8.758h-5.199v16.01h2.998v-5.57h2.201c3.403 0 5.879-1.84 5.879-5.28 0-3.466-2.476-5.16-5.879-5.16zm.024 8.1H97.74v-5.734h2.225c1.809 0 2.713 1.003 2.713 2.795 0 1.768-.834 2.938-2.713 2.938zM115.57 19.032c0-3.083 1.879-5.902 5.496-5.902 3.593 0 4.854 2.509 4.854 4.9 0 .767-.046 1.195-.092 1.636l-.004.035h-7.232c.072 2.487 1.47 3.059 3.564 3.059 1.141 0 2.204-.262 3.383-.697v2.344c-1.463.453-2.718.646-4.169.646-3.588 0-5.8-1.79-5.8-6.02zm5.472-3.775c-1.403 0-2.26 1.002-2.426 2.581h4.377c0-1.387-.453-2.582-1.951-2.582z"}),(0,p.jsx)(i.Path,{d:"M130.798 16.595c0-.861.926-1.196 1.925-1.196 1.613 0 3.14.504 3.14.504v-2.344c-1.047-.31-2.117-.43-3.353-.43-2.712 0-4.615 1.29-4.615 3.394 0 2.408 1.95 3.032 3.551 3.544 1.116.357 2.063.66 2.063 1.474 0 .98-.88 1.241-2.164 1.241-.906 0-2.357-.352-3.402-.717v2.316c.871.345 2.093.672 3.306.672 2.641 0 5.161-.787 5.161-3.63 0-2.325-1.95-2.922-3.552-3.412-1.114-.342-2.06-.631-2.06-1.416z"}),(0,p.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M164.046 19.103c0-3.464 1.833-5.971 5.711-5.971 3.853 0 5.71 2.507 5.71 5.97 0 3.466-1.857 5.951-5.71 5.951-3.878 0-5.711-2.485-5.711-5.95zm2.904 0c0 2.487.974 3.679 2.807 3.679 1.832 0 2.783-1.217 2.783-3.68 0-2.483-.951-3.678-2.783-3.678-1.833 0-2.807 1.218-2.807 3.679z"}),(0,p.jsx)(i.Path,{d:"M191.528 13.132c-1.213 0-2.592.667-3.855 1.504l-.333.215c-.594-1.268-1.784-1.721-3.092-1.721-1.213 0-2.592.62-3.854 1.458v-1.172h-2.664v11.351h2.831V16.62c1.047-.692 2.165-1.123 2.973-1.123.927 0 1.498.5 1.498 2.102v7.17h2.807v-8.126c1.049-.693 2.167-1.146 2.975-1.146.927 0 1.498.5 1.498 2.102v7.17h2.809V16.93c0-2.2-1.309-3.798-3.593-3.798zM110.191 15.28h.095c.786-1.41 1.832-2.005 3.354-2.005.357 0 .762.046.762.046v2.461h-.285c-1.784 0-2.855.552-3.735 2.223v6.762h-2.807V13.416h2.616v1.865zM75.066 15.28h-.095v-1.864h-2.618v11.351h2.809v-6.762c.88-1.671 1.95-2.223 3.733-2.223h.287v-2.46s-.405-.047-.762-.047c-1.522 0-2.568.596-3.354 2.006zM158.983 15.424c-1.712 0-3.164.908-3.164 3.562 0 2.912 1.452 3.774 3.308 3.774.881 0 1.867-.192 3.151-.693v2.34c-1.14.383-2.176.648-3.507.648-4.213 0-5.877-2.416-5.877-5.928 0-3.703 2.306-5.997 6.043-5.997 1.403 0 2.248.24 3.2.55v2.388c-.81-.31-2.011-.644-3.154-.644zM141.016 16.595c0-.861.926-1.196 1.926-1.196 1.611 0 3.14.504 3.14.504v-2.344c-1.046-.31-2.117-.43-3.356-.43-2.711 0-4.615 1.29-4.615 3.394 0 2.408 1.95 3.032 3.552 3.544 1.116.357 2.063.66 2.063 1.474 0 .98-.88 1.241-2.165 1.241-.904 0-2.354-.352-3.401-.717v2.316c.87.345 2.094.672 3.307.672 2.642 0 5.161-.787 5.161-3.63 0-2.325-1.951-2.922-3.552-3.412-1.115-.342-2.06-.631-2.06-1.416zM300.756 24.617V8.443h2.523l7.837 12.582h.092l-.092-3.117V8.443h2.069v16.174h-2.162l-8.198-13.194h-.088l.088 3.118v10.076h-2.069z"}),(0,p.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M318.835 24.585c.704.288 1.461.42 2.22.39v-.016a5.175 5.175 0 003.041-.866 5 5 0 001.776-2.158l-1.845-.768c-.527 1.262-1.532 1.899-3.02 1.899a3.36 3.36 0 01-2.396-.98 3.775 3.775 0 01-1.118-2.642h8.73l.024-.381a6.096 6.096 0 00-1.463-4.292 5.095 5.095 0 00-3.953-1.586 4.923 4.923 0 00-3.904 1.742 6.116 6.116 0 00-1.517 4.155 5.926 5.926 0 001.566 4.223 5.302 5.302 0 001.859 1.28zm4.324-8.66c.49.485.797 1.125.868 1.811l-6.397.015a3.654 3.654 0 011.161-1.958 2.925 2.925 0 011.991-.724 3.098 3.098 0 012.377.857z"}),(0,p.jsx)(i.Path,{d:"M339.793 24.617h-2.117l-2.748-8.496-2.722 8.496h-2.099l-3.557-11.07h2.162l2.454 8.359h.025l2.722-8.359h2.143l2.722 8.359h.025l2.43-8.359h2.118l-3.558 11.07zM345.498 24.069c.889.63 1.961.949 3.049.905v-.024a4.768 4.768 0 003.128-.979 3.073 3.073 0 001.22-2.481 2.987 2.987 0 00-.746-1.987 4.102 4.102 0 00-2.299-1.243l-2.181-.519c-.976-.23-1.464-.655-1.464-1.287a1.18 1.18 0 01.63-1.042 2.92 2.92 0 011.551-.382c1.276 0 2.117.49 2.523 1.468l1.806-.749a3.774 3.774 0 00-1.645-1.908 5.16 5.16 0 00-2.615-.666 5.214 5.214 0 00-3.074.916 2.787 2.787 0 00-1.294 2.383 2.49 2.49 0 00.947 2.045 5.298 5.298 0 002.006 1.028l2.225.543c1.008.261 1.512.75 1.512 1.468a1.312 1.312 0 01-.619 1.13 2.717 2.717 0 01-1.591.431 3.039 3.039 0 01-2.991-2.08l-1.85.769a5.333 5.333 0 001.772 2.26zM362.084 8.443h-2.074v16.17h2.074V8.442zM366.895 15.084v-1.537h-1.991v11.07h2.069v-6.122a3.726 3.726 0 01.815-2.383 2.55 2.55 0 012.093-1.028c1.815 0 2.723 1.024 2.723 3.073v6.46h2.084v-6.778a5.026 5.026 0 00-1.084-3.386 3.9 3.9 0 00-3.127-1.268 4.127 4.127 0 00-2.074.553 3.713 3.713 0 00-1.42 1.346h-.088zM379.094 10.768a1.414 1.414 0 01-1.039.43 1.396 1.396 0 01-1.035-.43 1.47 1.47 0 011.598-2.397 1.47 1.47 0 01.476 2.397zM379.094 24.617h-2.074v-11.07h2.074v11.07zM384.709 24.642c.457.157.942.209 1.421.151a4.17 4.17 0 001.664-.293l-.717-1.782c-.299.128-.622.19-.947.181-.992 0-1.488-.602-1.488-1.806v-5.647h2.703v-1.899h-2.703v-3.386h-2.074v3.386h-1.952v1.9h1.952v5.803a3.22 3.22 0 00.927 2.635c.343.34.758.6 1.214.757zM391.278 10.768a1.465 1.465 0 01-2.076.007 1.474 1.474 0 01.468-2.401 1.458 1.458 0 011.596.316 1.475 1.475 0 01.003 2.078h.009zM391.269 24.617h-2.074v-11.07h2.074v11.07z"}),(0,p.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M394.24 23.961a4.356 4.356 0 002.928 1.018l.025.01a4.055 4.055 0 003.625-1.899h.088v1.522h1.952v-6.68a4.459 4.459 0 00-1.362-3.509 5.1 5.1 0 00-3.513-1.243 4.837 4.837 0 00-2.976.847 4.306 4.306 0 00-1.508 1.84l1.893.817c.18-.5.536-.917 1-1.174a3.152 3.152 0 011.635-.43 2.993 2.993 0 012.05.733c.276.243.494.545.637.884.144.339.21.706.192 1.074v.318a5.84 5.84 0 00-3.006-.68 5.645 5.645 0 00-3.445 1.027 3.323 3.323 0 00-1.4 2.834 3.385 3.385 0 001.185 2.692zm5.583-1.85a3.383 3.383 0 01-2.333.98 2.776 2.776 0 01-1.586-.49 1.467 1.467 0 01-.673-1.282 1.966 1.966 0 01.771-1.537 3.409 3.409 0 012.274-.656 4.045 4.045 0 012.63.724 2.99 2.99 0 01-1.083 2.261z"}),(0,p.jsx)(i.Path,{d:"M409.533 24.793a3.19 3.19 0 01-2.631-.91 3.207 3.207 0 01-.926-2.633v-5.804h-1.952v-1.899h1.952v-3.386h2.069v3.386h2.703v1.9h-2.703v5.646c0 1.204.496 1.806 1.488 1.806.325.008.648-.053.947-.18l.717 1.78a4.17 4.17 0 01-1.664.294zM414.072 11.135a1.47 1.47 0 00-.43-2.873 1.462 1.462 0 00-1.454 1.327 1.468 1.468 0 001.884 1.546zM412.617 24.617h2.064l.01-11.07h-2.074v11.07zM420.459 24.617l-4.455-11.07h2.249l3.245 8.584h.044l3.289-8.584h2.205l-4.503 11.07h-2.074z"}),(0,p.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M430.621 24.58a5.31 5.31 0 002.213.394v-.015a5.173 5.173 0 003.04-.866 4.972 4.972 0 001.781-2.158l-1.845-.768c-.527 1.262-1.532 1.899-3.02 1.899a3.353 3.353 0 01-2.396-.98 3.742 3.742 0 01-1.118-2.642h8.691l.024-.381a6.076 6.076 0 00-1.464-4.292 5.063 5.063 0 00-3.903-1.586 4.926 4.926 0 00-3.904 1.742 6.097 6.097 0 00-1.513 4.155 5.934 5.934 0 001.562 4.223c.52.553 1.151.987 1.852 1.275zm4.321-8.654c.49.484.797 1.124.868 1.81l-6.397.015a3.676 3.676 0 011.156-1.957 2.968 2.968 0 011.996-.725 3.12 3.12 0 012.377.857zM276.919 23.82V13.21l-2.454-.005v.979h-.088a4.086 4.086 0 00-3.104-1.317c-2.947 0-5.645 2.594-5.645 5.931a5.882 5.882 0 001.64 4.08 5.847 5.847 0 004.005 1.793 4 4 0 003.104-1.346h.088v.847c0 2.26-1.196 3.47-3.148 3.47a3.262 3.262 0 01-2.967-2.104l-2.254.944a5.634 5.634 0 002.079 2.546 5.61 5.61 0 003.142.948c3.035 0 5.602-1.791 5.602-6.157zm-5.421-8.643c1.761 0 3.147 1.522 3.147 3.607 0 2.055-1.361 3.557-3.147 3.557-1.786 0-3.279-1.473-3.279-3.557 0-2.085 1.517-3.607 3.279-3.607z"}),(0,p.jsx)(i.Path,{d:"M226.063 24.034a9.134 9.134 0 003.568.637c2.737 0 4.747-.905 6.397-2.57 1.649-1.663 2.166-3.993 2.166-5.872a7.91 7.91 0 00-.136-1.566h-8.427v2.506h5.982a5.262 5.262 0 01-1.361 3.156 6.128 6.128 0 01-4.621 1.835 6.64 6.64 0 01-4.703-1.953 6.677 6.677 0 01-1.948-4.717c0-1.769.7-3.465 1.948-4.716a6.64 6.64 0 014.703-1.954 6.368 6.368 0 014.523 1.791l1.747-1.766a8.686 8.686 0 00-6.27-2.53 9.132 9.132 0 00-6.61 2.611 9.2 9.2 0 000 13.133 9.158 9.158 0 003.042 1.975z"}),(0,p.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M250.189 21.972a5.832 5.832 0 001.019-3.213 5.801 5.801 0 00-1.661-4.182 5.76 5.76 0 00-4.146-1.724c-1.145 0-2.264.34-3.217.976a5.833 5.833 0 00-.917 8.936 5.792 5.792 0 008.922-.793zm-4.788-6.795c1.752 0 3.265 1.458 3.265 3.582 0 2.114-1.508 3.582-3.265 3.582-1.756 0-3.264-1.468-3.264-3.582s1.513-3.582 3.264-3.582zM293.646 22.048l-2.01-1.341a3.374 3.374 0 01-2.899 1.634 2.995 2.995 0 01-2.859-1.79l7.881-3.27-.269-.67c-.493-1.312-2.01-3.759-5.045-3.759s-5.475 2.394-5.475 5.907c0 3.313 2.415 5.912 5.767 5.912a5.843 5.843 0 004.909-2.623zm-2.923-5.662l-5.27 2.197a3.258 3.258 0 01.817-2.374 3.228 3.228 0 012.263-1.076 2.285 2.285 0 012.19 1.253zM264.227 18.76a5.839 5.839 0 01-1.018 3.212 5.813 5.813 0 01-2.623 2.108 5.792 5.792 0 01-6.3-1.315 5.841 5.841 0 01-1.222-6.336 5.82 5.82 0 012.139-2.6 5.796 5.796 0 013.217-.976 5.75 5.75 0 014.148 1.723 5.791 5.791 0 011.659 4.183zm-2.542 0c0-2.125-1.513-3.583-3.265-3.583-1.751 0-3.264 1.468-3.264 3.582s1.508 3.582 3.264 3.582c1.757 0 3.265-1.468 3.265-3.582z"}),(0,p.jsx)(i.Path,{d:"M281.457 6.941h-2.591v17.373h2.591V6.94z"})]})}const Pn=Cn;class In extends l.Component{constructor(){super(...arguments),this.state={pluginInfo:{},installationInitialized:!1}}componentDidMount=()=>{const{plugins:e}=this.props;this.retrievePluginInfo(e).then((()=>{this.props.autoInstall&&this.installAllPlugins()}))};componentDidUpdate=e=>{const{autoInstall:t,plugins:n}=this.props,{installationInitialized:r}=this.state;n!==e.plugins&&this.retrievePluginInfo(n),t&&!r&&this.installAllPlugins()};retrievePluginInfo=e=>new Promise((t=>{j()({path:"/newspack/v1/plugins/"}).then((n=>{const r=Object.keys(n).reduce(((t,r)=>(-1===e.indexOf(r)||(t[r]={...n[r],installationStatus:"active"===n[r].Status?1:0}),t)),{});this.updatePluginInfo(r).then((()=>t()))}))}));installAllPlugins=()=>{const{pluginInfo:e}=this.state;this.setState({installationInitialized:!0}),Object.keys(e).filter((t=>"active"!==e[t].Status)).map((e=>()=>this.installPlugin(e))).reduce(((e,t)=>e.then((e=>t().then(Array.prototype.concat.bind(e))))),Promise.resolve([]))};installPlugin=e=>{this.setInstallationStatus(e,2);const t={path:`/newspack/v1/plugins/${e}/configure/`,method:"post"};return j()(t).then((t=>{const{pluginInfo:n}=this.state;this.props.onInstalled(e),this.updatePluginInfo({...n,[e]:{...t,installationStatus:1}})})).catch((t=>{this.setInstallationStatus(e,3,t.message)}))};setChecked=(e,t)=>{const{pluginInfo:n}=this.state;this.updatePluginInfo({...n,[e]:{...n[e],checked:t}})};setInstallationStatus=(e,t,n=null)=>{const{pluginInfo:r}=this.state;this.updatePluginInfo({...r,[e]:{...r[e],installationStatus:t,notification:n}})};updatePluginInfo=e=>new Promise((t=>{const{onStatus:n}=this.props;this.setState({pluginInfo:e},(()=>{const r=Object.values(e).every((e=>"active"===e.Status));n({complete:r,pluginInfo:e}),t()}))}));classForInstallationStatus=e=>{switch(e){case 1:return"newspack-plugin-installer__status-active";case 2:return"newspack-plugin-installer__status-installing";case 3:return"newspack-plugin-installer__status-error";default:return"newspack-plugin-installer__status-none"}};render(){const{autoInstall:e,isSmall:t,withoutFooterButton:n}=this.props,{pluginInfo:i}=this.state,{is_atomic:s}=window,a=Object.keys(i),o=[];a.forEach((e=>{const t=i[e];o.push(t.Status)}));const l=e=>"active"===e||"inactive"===e,u=o.every(l)?(0,r.__)("Activate","newspack-plugin"):(0,r.__)("Install","newspack-plugin"),h=a.some((e=>{const t=i[e];return"active"!==t.Status&&0===t.installationStatus}));return(0,p.jsxs)(p.Fragment,{children:[(!i||!Object.keys(i).length)&&(0,p.jsxs)("div",{className:"newspack-plugin-installer_is-waiting",children:[(0,p.jsx)(nr,{isLeft:!0}),(0,r.__)("Retrieving plugin information…","newspack-plugin")]}),i&&a.length>0&&a.map((e=>{const n=i[e],{Name:a,Description:o,Download:u,Status:h,installationStatus:d,notification:f}=n,g=2===d,v=!g&&"active"!==h,_=u||l(h);let m;2===d?m="inactive"===h?(0,r.__)("Activating…"):(0,r.__)("Installing…"):_?"uninstalled"===h?m=(0,p.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,r.__)("Install","newspack"),(0,p.jsx)("span",{className:"newspack-checkbox-icon"})]}):"inactive"===h?m=(0,p.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,r.__)("Activate","newspack-plugin"),(0,p.jsx)("span",{className:"newspack-checkbox-icon"})]}):"active"===h&&(m=(0,p.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,r.__)("Installed","newspack-plugin"),(0,p.jsx)("span",{className:"newspack-checkbox-icon newspack-checkbox-icon--checked",children:(0,p.jsx)(c,{icon:I})})]})):m=(0,p.jsxs)("span",{className:"newspack-plugin-installer__status",children:[s?(0,r.__)("Contact Newspack support to install","newspack-plugin"):(0,r.__)("Plugin must be installed manually","newspack-plugin"),(0,p.jsx)("span",{className:"newspack-checkbox-icon"})]});const y=P()("newspack-action-card__plugin-installer",this.classForInstallationStatus(d)),w=v?()=>this.installPlugin(e):null;return(0,p.jsx)(R,{title:a,description:o,disabled:!_,actionText:m,isSmall:t,isWaiting:g,onClick:w,notification:f,notificationLevel:"error",notificationHTML:!0,className:y},e)})),!n&&!e&&i&&a.length>0&&(0,p.jsx)("div",{className:"newspack-buttons-card",children:(0,p.jsx)(wt,{disabled:!h,isPrimary:!0,onClick:this.installAllPlugins,children:u})})]})}}In.defaultProps={onStatus:()=>{},onInstalled:()=>{}};const Nn=In,zn=window.wp.hooks,An=e=>Array.isArray(e.options)&&e.options.length,Rn=e=>{switch(e.type){case"int":case"integer":case"float":case"number":return"number";case"string":case"text":return"text";case"password":return"password";case"boolean":case"checkbox":return"checkbox";default:return null}},Tn=e=>{const[t,n]=(0,l.useState)(!0),{error:s,sectionKey:a,active:o,title:c,description:u,fields:h,disabled:d,onChange:f,onUpdate:g}=e,v=e=>({disabled:d,name:`${e.section}_${e.key}`,type:Rn(e),label:e.description,help:e.help||null,options:e.options?.map((e=>({value:e.value,label:e.name||e.label})))||null,value:e.value,multiple:!(!An(e)||!e.multiple)||null,checked:"boolean"===e.type?!!e.value:null,onChange:t=>{f(e.key,t),n(!1)}}),_=(t,n=null)=>(0,zn.applyFilters)(`newspack.settingSection.${a}.${t}`,n,e);let m=2;return h.length%3==0?m=3:1===h.length&&(m=1),(0,p.jsx)(R,{isMedium:!0,disabled:d,title:c,description:u,toggleChecked:o,hasGreyHeader:o||null===o,toggleOnChange:null!==o?e=>g({active:e}):null,actionContent:(o||null===o)&&_("buttons",(0,p.jsx)(wt,{variant:"primary",disabled:d||t,onClick:()=>{g(),n(!0)},children:(0,r.__)("Save Settings","newspack")})),children:(o||null===o)&&(0,p.jsxs)(l.Fragment,{children:[s?.message&&(0,p.jsx)(En,{noticeText:s.message,isError:!0}),_("beforeControls"),(0,p.jsx)(wn,{columns:m,gutter:32,children:h.map((e=>{const t=(e=>{if(An(e))return Wn;switch(e.type){case"checkbox":case"boolean":return i.CheckboxControl;default:return er}})(e);return(0,zn.applyFilters)(`newspack.settingsSection.${a}.control`,(0,p.jsx)(t,{...v(e)},e.key),{sectionKey:a,setting:e,onChange:f})}))})]})})};class Ln extends l.Component{constructor(){super(...arguments),this.state={inFlight:!1,settings:{},error:null}}fetchSettings=()=>{const{afterFetch:e,pluginSlug:t,isWizard:n}=this.props;this.setState({inFlight:!0}),j()({path:n?`/newspack/v1/wizard/${t}/settings`:`/${t}/v1/settings`}).then((t=>{this.setState({settings:t,error:null}),"function"==typeof e&&e(t)})).catch((e=>{this.setState({error:e})})).finally((()=>{this.setState({inFlight:!1})}))};componentDidMount(){this.fetchSettings()}getSettingsValues=e=>this.state.settings[e]?.reduce(((e,t)=>(e[t.key]=t.value,e)),{})||{};handleSettingChange=e=>(t,n)=>{const r=[...this.state.settings[e]];r.forEach((e=>{e.key===t&&(e.value=n)})),this.setState({settings:{...this.state.settings,[e]:r}})};handleSectionUpdate=e=>t=>{const{afterUpdate:n,pluginSlug:r,isWizard:i}=this.props;this.setState({inFlight:!0}),j()({path:i?`/newspack/v1/wizard/${r}/settings`:`/${r}/v1/settings`,method:"POST",data:{section:e,settings:t||this.getSettingsValues(e)}}).then((t=>{this.setState({settings:{...this.state.settings,[e]:t[e]},error:null}),"function"==typeof n&&n(t)})).catch((e=>{this.setState({error:e})})).finally((()=>{this.setState({inFlight:!1})}))};getSectionInfo=e=>this.state.settings[e]?.find((e=>!e.key||"active"===e.key));getSectionTitle=e=>this.getSectionInfo(e)?.description;getSectionDescription=e=>this.getSectionInfo(e)?.help;isSectionActive=e=>{const{settings:t}=this.state,n=t[e]?.find((e=>"active"===e.key));return n?n.value:null};getSectionFields=e=>this.state.settings[e]?.filter((e=>e.key&&"active"!==e.key));render(){const{title:e,description:t,hasGreyHeader:n,children:r}=this.props,{settings:i,inFlight:s,error:a}=this.state;return(0,p.jsxs)(l.Fragment,{children:[e&&(0,p.jsx)(Fn,{title:e,description:t}),a&&(0,p.jsx)(En,{isError:!0,noticeText:a.message}),(0,p.jsxs)("div",{className:P()("newspack-plugin-settings",{"newspack-wizard-section__is-loading":s&&!Object.keys(i).length}),children:[Object.keys(i).map((e=>(0,p.jsx)(Tn,{disabled:s,sectionKey:e,title:this.getSectionTitle(e),description:this.getSectionDescription(e),active:this.isSectionActive(e),fields:this.getSectionFields(e),onChange:this.handleSettingChange(e),onUpdate:this.handleSectionUpdate(e),hasGreyHeader:n},e))),r]})]})}}Ln.defaultProps={title:(0,r.__)("General Settings","newspack-plugin")},Ln.Section=Tn;class Bn extends l.Component{render(){const{className:e,padding:t,...n}=this.props,r=P()("newspack-popover",t&&"newspack-popover__padding-"+t,e);return(0,p.jsx)(i.Popover,{className:r,...n})}}Bn.defaultProps={padding:!1};const Fn=({centered:e=!1,className:t=null,description:n="",heading:r=2,isWhite:i=!1,noMargin:s=!1,title:a,id:o=null})=>{const c=(0,l.useRef)();(0,l.useEffect)((()=>{const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}).scrollTo;e&&e===o&&window.setTimeout((()=>c.current.scrollIntoView({behavior:"smooth"})),250)}),[]);const u=P()("newspack-section-header",e&&"newspack-section-header--is-centered",i&&"newspack-section-header--is-white",s&&"newspack-section-header--no-margin",t),h=`h${r}`;return(0,p.jsx)("div",{id:o,className:"newspack-section-header__container",ref:c,children:(0,p.jsxs)(wn,{columns:1,gutter:8,className:u,children:["string"==typeof a&&(0,p.jsx)(h,{children:a}),"function"==typeof a&&(0,p.jsx)(h,{children:a()}),n&&"string"==typeof n&&(0,p.jsx)("p",{children:n}),"function"==typeof n&&(0,p.jsx)("p",{children:n()})]})})};var qn=n(2426),Hn=n.n(qn);function Un({help:e,label:t,onChange:n,optgroups:s=[],className:a,hideLabelFromVision:o,...l}){const u=sn("group-select");return(0,p.jsx)(i.BaseControl,{label:t,hideLabelFromVision:o,id:u,help:e,className:P()(a,"components-select-control"),children:(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsxs)("select",{id:u,className:"components-select-control__input",onChange:e=>{const{value:t}=e.target,r=St()(s,(e=>Hn()(e.options,["value",t])));n(t,r)},"aria-describedby":e?`${u}__help`:void 0,...l,children:[(0,p.jsx)("option",{value:"",children:(0,r.__)("-- Select --","newspack-plugin")}),s.map((({label:e,options:t},n)=>(0,p.jsx)("optgroup",{label:e,children:t.map(((e,t)=>(0,p.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},`${e.label}-${e.value}-${t}`)))},n)))]}),(0,p.jsx)("div",{className:"components-select-control__arrow-wrapper",children:(0,p.jsx)(c,{icon:z,size:18})})]})})}const Vn=({buttonOptions:e,buttonSmall:t,className:n,hideLabelFromVision:r,label:s,onChange:a,value:o})=>{const l=sn("button-group");return(0,p.jsx)(i.BaseControl,{label:s,hideLabelFromVision:r,id:l.current,className:P()(n,"components-select-control"),children:(0,p.jsx)(i.ButtonGroup,{children:e.map((e=>{const n=o===e.value;let r=()=>e.label;return e.icon&&(r=()=>(0,p.jsx)(c,{icon:e.icon})),(0,p.jsx)(i.Button,{variant:n?"primary":null,isPressed:n,onClick:()=>a(e.value),isSmall:t,children:(0,p.jsx)(r,{})},e.value)}))})})};class $n extends l.Component{render(){const{className:e,optgroups:t,buttonOptions:n,buttonSmall:r,...s}=this.props,a=P()("newspack-select-control",t&&"newspack-grouped-select-control",n&&"newspack-buttons-select-control",e);return(0,p.jsx)("div",{className:a,children:t?(0,p.jsx)(Un,{optgroups:t,...s}):n?(0,p.jsx)(Vn,{buttonOptions:n,buttonSmall:r,...s}):(0,p.jsx)(i.SelectControl,{...s})})}}const Wn=$n;n(6065);var Yn=n(6154),Kn=n.n(Yn);(0,n(7784).extendMoment)(Kn());var Gn=n(4713),Jn=n.n(Gn);const{NavLink:Qn,useHistory:Zn}=mt,Xn=({items:e,className:t,disableUpcoming:n,children:r=null})=>{const i=e.filter((e=>!e.isHiddenInTabbedNavigation)),{location:s}=Zn(),a=Jn()(i,["path",s.pathname]);return(0,p.jsxs)("div",{className:P()("newspack-tabbed-navigation",t),children:[(0,p.jsx)("ul",{children:i.map(((e,t)=>(0,p.jsx)("li",{children:(0,p.jsx)(Qn,{to:e.path,isActive:(t,{pathname:n})=>e.activeTabPaths?e.activeTabPaths.includes(n):t,exact:!0,activeClassName:"selected",className:P()({disabled:n&&t>a}),children:e.label})},t)))}),r]})},er=({className:e="",required:t=!1,isWide:n=!1,withMargin:s=!0,...a})=>{const o=(0,l.useRef)(null);(0,l.useEffect)((()=>{if(null===o.current)return;const e=o.current.querySelector("label");e&&e.setAttribute("data-required-text",(0,r.__)("(required)","newspack-plugin"))}),[o.current]);const c=P()("newspack-text-control",{"newspack-text-control--wide":n,"newspack-text-control--with-margin":s},e);return t?(0,p.jsx)("div",{ref:o,className:"newspack-text-control--required",children:(0,p.jsx)(i.TextControl,{className:c,required:t,...a})}):(0,p.jsx)(i.TextControl,{className:c,...a})};class tr extends l.Component{render(){const{className:e,isRight:t,isLeft:n,isCenter:r,...s}=this.props,a=P()("newspack-waiting",e,{"is-right":t,"is-left":n,"is-center":r});return(0,p.jsx)(i.Spinner,{className:a,...s})}}const nr=tr,rr=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),ir=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),sr=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),ar=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})}),or="newspack-components-web-preview-wrapper";class lr extends l.Component{state={device:"desktop",loaded:!1,isPreviewVisible:!1};constructor(e){super(e),this.iframeRef=(0,l.createRef)()}componentDidMount(){const e=document.getElementById(or);this.modalDOMElement=e||document.createElement("div"),e||(this.modalDOMElement.id=or,document.body.appendChild(this.modalDOMElement))}componentDidUpdate(){!0===this.state.isPreviewVisible?document.body.classList.add("newspack-web-preview--open"):document.body.classList.remove("newspack-web-preview--open")}getWebPreviewModal=()=>{const{beforeLoad:e=(()=>{}),onClose:t=(()=>{}),url:n}=this.props,{device:s,loaded:a,isPreviewVisible:o}=this.state;if(!this.modalDOMElement||!o)return null;const c=P()("newspack-web-preview",s,a&&"is-loaded");return e(),(0,l.createPortal)((0,p.jsx)("div",{className:c,children:(0,p.jsxs)("div",{className:"newspack-web-preview__interior",children:[(0,p.jsxs)("div",{className:"newspack-web-preview__toolbar",children:[(0,p.jsx)("div",{className:"newspack-web-preview__toolbar-left",children:(0,p.jsxs)(i.ButtonGroup,{children:[(0,p.jsx)(i.Button,{onClick:()=>this.setState({device:"desktop"}),variant:"desktop"===s&&"primary",icon:rr,label:(0,r.__)("Preview Desktop Size","newspack-plugin")}),(0,p.jsx)(i.Button,{onClick:()=>this.setState({device:"tablet"}),variant:"tablet"===s&&"primary",icon:ir,label:(0,r.__)("Preview Tablet Size","newspack-plugin")}),(0,p.jsx)(i.Button,{onClick:()=>this.setState({device:"phone"}),variant:"phone"===s&&"primary",icon:sr,label:(0,r.__)("Preview Phone Size","newspack-plugin")})]})}),(0,p.jsx)("div",{className:"newspack-web-preview__toolbar-right",children:(0,p.jsx)(i.Button,{onClick:()=>{t(),this.setState({isPreviewVisible:!1,loaded:!1})},icon:ar,label:(0,r.__)("Close Preview","newspack-plugin")})})]}),(0,p.jsxs)("div",{className:"newspack-web-preview__content",children:[!a&&(0,p.jsxs)("div",{className:"newspack-web-preview__is-waiting",children:[(0,p.jsx)(nr,{isLeft:!0}),(0,r.__)("Loading…","newspack-plugin")]}),(0,p.jsx)("iframe",{ref:this.iframeRef,title:"web-preview",src:n,onLoad:()=>{this.setState({loaded:!0}),this.props.onLoad(this.iframeRef.current)}})]})]})}),this.modalDOMElement)};showPreview=()=>{this.setState({isPreviewVisible:!0})};render(){const{label:e,variant:t,renderButton:n}=this.props;return(0,p.jsxs)(l.Fragment,{children:[n?n({showPreview:this.showPreview}):(0,p.jsx)(i.Button,{variant:t,onClick:this.showPreview,tabIndex:"0",children:e}),this.getWebPreviewModal()]})}}lr.defaultProps={url:"//newspack.com",label:(0,r.__)("Preview","newspack-plugin"),onLoad:()=>{}};const cr=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})});var ur=n(3560),pr=n.n(ur),hr=n(8156),dr=n.n(hr),fr=n(2193),gr=n.n(fr);const vr=e=>t=>({type:e,payload:t}),_r="newspack/wizards",mr={isLoading:!0,isQuietLoading:!1,apiData:{},error:null},yr=e=>JSON.parse(JSON.stringify(e)),wr={startLoadingData:vr("START_LOADING_DATA"),finishLoadingData:vr("FINISH_LOADING_DATA"),fetchFromAPI:vr("FETCH_FROM_API"),setAPIDataForWizard:vr("SET_API_DATA"),updateWizardSettings:vr("UPDATE_WIZARD_SETTINGS"),setError:vr("SET_ERROR"),*saveWizardSettings({slug:e,section:t="",payloadPath:n=!1,auxData:r={},updatePayload:i=null}){i&&(yield wr.updateWizardSettings({slug:e,...i}));const s=(0,a.select)(_r).getWizardAPIData(e),o=n?dr()(s,n):s,l=yield wr.fetchFromAPI({path:`/newspack/v1/wizard/${e}/${t}`,method:"POST",data:{...o,...r},isQuietFetch:!0});if(!gr()(l)&&!l.error)return wr.setAPIDataForWizard({slug:e,data:l})},*wizardApiFetch(e){return yield wr.fetchFromAPI(e)}},br=(0,a.createReduxStore)(_r,{reducer:(e=mr,{type:t,payload:n={}})=>{switch(t){case"START_LOADING_DATA":return n.isQuietLoading?{...e,isQuietLoading:!0}:{...e,isLoading:!0};case"FINISH_LOADING_DATA":return{...e,isLoading:!1,isQuietLoading:!1};case"SET_API_DATA":return pr()(yr(e),["apiData",n.slug],n.data);case"UPDATE_WIZARD_SETTINGS":return pr()(yr(e),["apiData",n.slug,...n.path],n.value);case"SET_ERROR":return{...e,error:n};default:return e}},actions:wr,selectors:{isLoading:e=>e.isLoading,isQuietLoading:e=>e.isQuietLoading,getWizardAPIData:(e,t)=>e.apiData[t]||{},getError:e=>e.error},controls:{FETCH_FROM_API:e=>((0,a.dispatch)(_r).startLoadingData({isQuietLoading:Boolean(e.payload.isQuietFetch)}),j()(e.payload).then((e=>((0,a.dispatch)(_r).setError(null),e))).catch((e=>((0,a.dispatch)(_r).setError(e),{error:e}))).finally((e=>((0,a.dispatch)(_r).finishLoadingData(),e))))},resolvers:{*getWizardAPIData(e){if(e){const t=yield wr.fetchFromAPI({path:`/newspack/v1/wizard/${e}`});return wr.setAPIDataForWizard({slug:e,data:t})}return wr.finishLoadingData()}}}),xr=()=>{const e=(0,a.useSelect)((e=>e(_r).getError()));if(!e)return null;const{level:t,message:n}=(({data:e,message:t,code:n})=>{let r="fatal";return e&&"level"in e?r=e.level:"rest_invalid_param"===n&&(r="notice"),{message:t,level:r}})(e);if("fatal"===t){const e="undefined"!=typeof newspack_urls&&newspack_urls.dashboard;return(0,p.jsxs)(xn,{title:(0,r.__)("Unrecoverable error"),onRequestClose:e?()=>window.location=e:void 0,children:[(0,p.jsx)(En,{noticeText:n,isError:!0,rawHTML:!0}),e&&(0,p.jsx)(xt,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:(0,p.jsx)(wt,{isPrimary:!0,href:e,children:(0,r.__)("Return to Dashboard","newspack-plugin")})})]})}return(0,p.jsx)(En,{isError:!0,className:"newspack-wizard__above-header",noticeText:n,rawHTML:!0})};(0,a.register)(br);const{HashRouter:kr,Redirect:Sr,Route:jr,Switch:Mr}=mt,Dr=({sections:e=[],apiSlug:t,headerText:n,subHeaderText:i,hasSimpleFooter:s,className:o,renderAboveSections:c,requiredPlugins:u=[]})=>{const h=(0,a.useSelect)((e=>e(_r).isLoading())),d=(0,a.useSelect)((e=>e(_r).isQuietLoading()));(0,a.useSelect)((e=>e(_r).getWizardAPIData(t)));let f=e.filter((e=>!e.isHidden));const[g,v]=(0,l.useState)(0===u.length);return g||(n=u.length>1?(0,r.__)("Required plugins","newspack-plugin"):(0,r.__)("Required plugin","newspack-plugin"),f=[{path:"/",render:()=>(0,p.jsx)(Nn,{plugins:u,onStatus:({complete:e})=>v(e)})}]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:P()(h?"newspack-wizard__is-loading":"newspack-wizard__is-loaded",{"newspack-wizard__is-loading-quiet":d}),children:(0,p.jsxs)(kr,{hashType:"slash",children:[newspack_aux_data.is_debug_mode&&(0,p.jsx)(En,{debugMode:!0}),(0,p.jsx)("div",{className:"bg-white",children:(0,p.jsx)("div",{className:"newspack-wizard__header__inner",children:(0,p.jsxs)("div",{className:"newspack-wizard__title",children:[(0,p.jsx)(wt,{isLink:!0,href:newspack_urls.dashboard,label:(0,r.__)("Return to Dashboard","newspack-plugin"),showTooltip:!0,icon:cr,iconSize:36,children:(0,p.jsx)(Sn,{size:36})}),(0,p.jsxs)("div",{children:[n&&(0,p.jsx)("h2",{children:n}),i&&(0,p.jsx)("span",{children:i})]})]})})}),f.length>1&&(0,p.jsx)(Xn,{items:f,children:(0,p.jsx)(xr,{})}),(0,p.jsx)(mn,{}),(0,p.jsxs)(Mr,{children:[f.map(((e,t)=>{const n=e.render;return(0,p.jsx)(jr,{path:e.path,children:(0,p.jsxs)("div",{className:P()("newspack-wizard newspack-wizard__content",o),children:["function"==typeof c?c():null,(0,p.jsx)(n,{})]})},t)})),(0,p.jsx)(Sr,{to:f[0].path})]})]})}),!h&&(0,p.jsx)(pn,{simple:s})]})};Dr.useWizardData=(e,t={})=>(0,a.useSelect)((t=>t(_r).getWizardAPIData(`newspack-${e}-wizard`)))||t,Dr.STORE_NAMESPACE=_r;const{Redirect:Or,Route:Er}=mt;n(1882),n(3805),n(5015);class Cr extends l.Component{state={showAdvancedFilters:!1};fetchAuthorSuggestions=e=>e?j()({path:(0,M.addQueryArgs)("/wp/v2/users",{search:e,per_page:20,_fields:"id,name"})}).then((function(e){return e.map((e=>({value:e.id,label:(0,O.decodeEntities)(e.name)||(0,r.__)("(no name)","newspack-listings")})))})):new Promise((e=>e([])));fetchSavedAuthors=e=>j()({path:(0,M.addQueryArgs)("/wp/v2/users",{per_page:100,include:e.join(","),_fields:"id,name"})}).then((function(e){return e.map((e=>({value:e.id,label:(0,O.decodeEntities)(e.name)||(0,r.__)("(no name)","newspack-listings")})))}));fetchCategorySuggestions=e=>e?j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/terms",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc",taxonomy:"category"})}).then((function(e){return e.map((e=>({value:e.id,label:(0,O.decodeEntities)(e.name)||(0,r.__)("(no title)","newspack-listings")})))})):new Promise((e=>e([])));fetchSavedCategories=e=>j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/terms",{per_page:100,_fields:"id,name",include:e.join(","),taxonomy:"category"})}).then((function(e){return e.map((e=>({value:e.id,label:(0,O.decodeEntities)(e.name)||(0,r.__)("(no title)","newspack-listings")})))}));fetchTagSuggestions=e=>e?j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/terms",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc",taxonomy:"post_tag"})}).then((function(e){return e.map((e=>({value:e.id,label:(0,O.decodeEntities)(e.name)||(0,r.__)("(no title)","newspack-listings")})))})):new Promise((e=>e([])));fetchSavedTags=e=>j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/terms",{per_page:100,_fields:"id,name",include:e.join(","),taxonomy:"post_tag"})}).then((function(e){return e.map((e=>({value:e.id,label:(0,O.decodeEntities)(e.name)||(0,r.__)("(no title)","newspack-listings")})))}));render=()=>{const{disabled:e,loadMoreText:t,queryOptions:n,setAttributes:s,showAuthor:a,showLoadMore:o}=this.props;if(!n||!s)return null;const{type:c,authors:u,categories:h,categoryExclusions:d,tags:f,tagExclusions:g,maxItems:v,sortBy:_,order:m}=n,{showAdvancedFilters:y}=this.state,{post_types:w}=window.newspack_listings_data,b=w.event.name===c,x=[{label:(0,r.__)("Publish Date","newspack-listings"),value:"date"},{label:(0,r.__)("Title","newspack-listings"),value:"title"}];return b&&x.unshift({label:(0,r.__)("Event Date","newspack-listings"),value:"event_date"}),a&&x.push({label:(0,r.__)("Author","newspack-listings"),value:"author"}),"any"!==c&&c||x.push({label:(0,r.__)("Listing Type","newspack-listings"),value:"type"}),[(0,p.jsx)(i.QueryControls,{disabled:e,...this.props},"queryControls"),(0,p.jsx)(i.SelectControl,{disabled:e,label:(0,r.__)("Listing Type","newspack-listings"),value:c,onChange:e=>s({queryOptions:{...n,type:e}}),options:[{label:(0,r.__)("Any","newspack-listings"),value:"any"},{label:(0,r.__)("Event","newspack-listings"),value:w.event.name},{label:(0,r.__)("Generic","newspack-listings"),value:w.generic.name},{label:(0,r.__)("Marketplace","newspack-listings"),value:w.marketplace.name},{label:(0,r.__)("Place","newspack-listings"),value:w.place.name}]},"type"),(0,p.jsx)(F,{disabled:e,tokens:u||[],onChange:e=>s({queryOptions:{...n,authors:e}}),fetchSuggestions:this.fetchAuthorSuggestions,fetchSavedInfo:this.fetchSavedAuthors,label:(0,r.__)("Authors","newspack-listings")},"authors"),(0,p.jsx)(F,{disabled:e,tokens:h||[],onChange:e=>s({queryOptions:{...n,categories:e}}),fetchSuggestions:this.fetchCategorySuggestions,fetchSavedInfo:this.fetchSavedCategories,label:(0,r.__)("Categories","newspack-listings")},"categories"),(0,p.jsx)(F,{disabled:e,tokens:f||[],onChange:e=>s({queryOptions:{...n,tags:e}}),fetchSuggestions:this.fetchTagSuggestions,fetchSavedInfo:this.fetchSavedTags,label:(0,r.__)("Tags","newspack-listings")},"tags"),(0,p.jsx)(i.RangeControl,{disabled:e,label:(0,r.__)("Max number of items","newspack-listings"),help:(0,r.__)('Maximum number of listings to show at a time. If using the "load more" option, the results will be paginated by this number.',"newspack-listings"),value:v,onChange:e=>s({queryOptions:{...n,maxItems:e}}),min:1,max:50,required:!0},"maxItems"),(0,p.jsx)(i.ToggleControl,{disabled:e,help:(0,r.__)("Will be shown only if there more listings to load.","newspack-listings"),label:(0,r.__)('Show "load more" button',"newspack-listings"),checked:o,onChange:()=>s({showLoadMore:!o})},"loadMore"),o&&(0,p.jsx)(i.TextControl,{disabled:e,label:(0,r.__)('"Load more" button text',"newspack-listings"),value:t,onChange:e=>s({loadMoreText:e})},"loadMoreText"),(0,p.jsx)("p",{children:(0,p.jsx)(i.Button,{isLink:!0,onClick:()=>this.setState({showAdvancedFilters:!y}),children:y?(0,r.__)("Hide Advanced Filters","newspack-listings"):(0,r.__)("Show Advanced Filters","newspack-listings")})},"toggle-advanced-filters"),y&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(i.SelectControl,{disabled:e,label:(0,r.__)("Sort By","newspack-listings"),value:_,onChange:e=>s({queryOptions:{...n,sortBy:e}}),options:x}),(0,p.jsx)(i.RadioControl,{disabled:e,label:(0,r.__)("Sort Order","newspack-listings"),selected:m,onChange:e=>s({queryOptions:{...n,order:e}}),options:[{label:(0,r.__)("Ascending","newspack-listings"),value:"ASC"},{label:(0,r.__)("Descending","newspack-listings"),value:"DESC"}]}),(0,p.jsx)(F,{disabled:e,tokens:d||[],onChange:e=>s({queryOptions:{...n,categoryExclusions:e}}),fetchSuggestions:this.fetchCategorySuggestions,fetchSavedInfo:this.fetchSavedCategories,label:(0,r.__)("Excluded Categories","newspack-listings")},"category-exclusion"),(0,p.jsx)(F,{disabled:e,tokens:g||[],onChange:e=>s({queryOptions:{...n,tagExclusions:e}}),fetchSuggestions:this.fetchTagSuggestions,fetchSavedInfo:this.fetchSavedTags,label:(0,r.__)("Excluded Tags","newspack-listings")},"tag-exclusion")]})]}}const Pr=Cr;let Ir;const Nr=(0,s.compose)([(0,a.withSelect)(((e,t)=>{const{getBlocksByClientId:n,getSelectedBlockClientId:r}=e("core/block-editor"),{getBlockType:i}=e("core/blocks"),s=n(t.clientId)[0].innerBlocks||[];return{canUseMapBlock:!!i("jetpack/map"),selectedBlock:r(),innerBlocks:s}})),(0,a.withDispatch)((e=>{const{insertBlocks:t,removeBlocks:n,selectBlock:r,updateBlockAttributes:i}=e("core/block-editor");return{insertBlocks:t,removeBlocks:n,selectBlock:r,updateBlockAttributes:i}}))])((({attributes:e,canUseMapBlock:t,className:n,clientId:s,innerBlocks:a,insertBlocks:o,isSelected:u,removeBlocks:h,selectBlock:d,selectedBlock:f,setAttributes:v,updateBlockAttributes:m})=>{const[y,b]=(0,l.useState)(null),[S,O]=(0,l.useState)(!1),[C,P]=(0,l.useState)([]),{showNumbers:I,showMap:N,showSortUi:z,showAuthor:A,showExcerpt:R,showImage:T,showCaption:L,minHeight:B,showCategory:F,showTags:q,mediaPosition:H,typeScale:U,imageScale:V,textColor:$,backgroundColor:W,startup:Y,queryMode:K,queryOptions:G,queriedListings:J,showLoadMore:Q,loadMoreText:Z}=e,X=!!window.newspack_listings_data.no_listings||!1,ee=a.find((e=>"newspack-listings/list-container"===e.name)),te=a.find((e=>"jetpack/map"===e.name)),ne=((e,t)=>{const{backgroundColor:n,hasDarkBackground:r,queryMode:i,showNumbers:s,showMap:a,showSortUi:o,showImage:l,mediaPosition:c,typeScale:u,imageScale:p}=t,h=[e,"newspack-listings__curated-list"];return s&&h.push("show-numbers"),a&&h.push("show-map"),o&&h.push("has-sort-ui"),l&&(h.push("show-image"),h.push(`media-position-${c}`),h.push(`media-size-${p}`)),n&&(r&&h.push("has-dark-background"),h.push("has-background-color")),i&&h.push("query-mode"),h.push(`type-scale-${u}`),h})(n,e),re=(()=>{const e=(0,l.useRef)(!0);return(0,l.useEffect)((()=>{e.current=!1}),[]),e.current})(),ie=async e=>{if(!S&&K){O(!0);try{b(null);const t=await j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/listings",{query:{maxItems:100,...e},_fields:"id,title,author,category,tags,excerpt,media,meta,type,sponsors,classes"})});if(v({listingIds:t.map((e=>e.id))}),v({queriedListings:t}),0===t.length)throw"No posts matching query options. Try selecting different or less specific query options."}catch(e){b(e)}O(!1)}};(0,l.useEffect)((()=>{re?ie(G):(clearTimeout(Ir),Ir=setTimeout((()=>{ie(G)}),500))}),[JSON.stringify(G),K]),(0,l.useEffect)((()=>{v({isSelected:u})}),[u]),(0,l.useEffect)((()=>{if(!t)return;let e=[];e=K?J.reduce(((e,t)=>(t.meta&&t.meta.newspack_listings_locations&&t.meta.newspack_listings_locations.map((t=>(se(t)&&e.push(t),e))),e)),[]):ee?ee.innerBlocks.reduce(((e,t)=>(t.attributes.locations&&0<t.attributes.locations.length&&t.attributes.locations.map((t=>(se(t)&&e.push(t),e))),e)),[]):[],P(e)}),[ee,JSON.stringify(J),K]),(0,l.useEffect)((()=>{if(!K&&ee){const e=ee.innerBlocks.map((e=>parseInt(e.attributes.listing)));v({listingIds:e})}}),[ee]),(0,l.useEffect)((()=>{if(!re&&t)if(N&&0<C.length)if(te)m(te.clientId,{points:C});else{if(0===C.length)return;const e=(0,w.createBlock)("jetpack/map",{points:C});o([e],0,s)}else te&&h([te.clientId])}),[N,JSON.stringify(C)]),(0,l.useEffect)((()=>{if(!K&&!ee){const e=(0,w.createBlock)("newspack-listings/list-container");o([e],null,s)}}),[ee]),(0,l.useEffect)((()=>{ee&&f===ee.clientId&&d(s)}),[f]),(0,l.useEffect)((()=>{if(W){const e=(e=>{const t=_(e),n=_("#000"),r=.2126*Math.pow(t[0]/255,2.2)+.7152*Math.pow(t[1]/255,2.2)+.0722*Math.pow(t[2]/255,2.2),i=.2126*Math.pow(n[0]/255,2.2)+.7152*Math.pow(n[1]/255,2.2)+.0722*Math.pow(n[2]/255,2.2);return r>i?parseInt((r+.05)/(i+.05)):parseInt((i+.05)/(r+.05))})(W);if(e<5)return v({hasDarkBackground:!0})}v({hasDarkBackground:!1})}),[W]),(0,l.useEffect)((()=>{ee&&m([ee.clientId].concat(ee.innerBlocks.map((e=>e.clientId))),e,!1)}),[JSON.stringify(e)]);const se=e=>!!(e&&e.id&&e.coordinates&&e.coordinates.latitude&&e.coordinates.longitude),ae=[{value:1,label:/* translators: label for small size option */ /* translators: label for small size option */(0,r.__)("Small","newspack-listings"),shortName:/* translators: abbreviation for small size */ /* translators: abbreviation for small size */(0,r.__)("S","newspack-listings")},{value:2,label:/* translators: label for medium size option */ /* translators: label for medium size option */(0,r.__)("Medium","newspack-listings"),shortName:/* translators: abbreviation for medium size */ /* translators: abbreviation for medium size */(0,r.__)("M","newspack-listings")},{value:3,label:/* translators: label for large size option */ /* translators: label for large size option */(0,r.__)("Large","newspack-listings"),shortName:/* translators: abbreviation for large size */ /* translators: abbreviation for large size */(0,r.__)("L","newspack-listings")},{value:4,label:/* translators: label for extra large size option */ /* translators: label for extra large size option */(0,r.__)("Extra Large","newspack-listings"),shortName:/* translators: abbreviation for extra large size */ /* translators: abbreviation for extra large size */(0,r.__)("XL","newspack-listings")}];return X?(0,p.jsx)(i.Placeholder,{icon:(0,p.jsx)(x,{}),label:(0,r.__)("Curated List","newspack-listings"),children:(0,p.jsx)(i.Notice,{isDismissible:!1,children:(0,r.__)("Your site doesn’t have any listings. Create some to get started.")})}):Y?(0,p.jsx)("div",{className:"newspack-listings__placeholder",children:(0,p.jsx)(k.__experimentalBlockVariationPicker,{icon:(0,p.jsx)(x,{}),label:(0,r.__)("Curated List","newspack-listings"),instructions:(0,r.__)("Select the type of list to start with."),onSelect:e=>{e.name&&"query"===e.name?v({queryMode:!0,startup:!1}):v({startup:!1})},variations:[{name:"query",title:(0,r.__)("Query","newspack-listings"),icon:(0,p.jsx)(c,{icon:D})},{name:"specific",title:(0,r.__)("Specific Listings","newspack-listings"),icon:(0,p.jsx)(c,{icon:g})}]})}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(k.InspectorControls,{children:[K&&(0,p.jsx)(i.PanelBody,{title:(0,r.__)("Query Settings","newspack-listings"),children:(0,p.jsx)(Pr,{disabled:S,setAttributes:v,queryOptions:G,showAuthor:A,showLoadMore:Q,loadMoreText:Z})}),(0,p.jsxs)(i.PanelBody,{title:(0,r.__)("List Settings","newspack-listings"),children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show list item numbers","newspack-listings"),checked:I,onChange:()=>v({showNumbers:!I})})}),t&&(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show map","newspack-listings"),help:(0,r.sprintf)(
// Translators: Help message for map behavior.
// Translators: Help message for map behavior.
(0,r.__)("The map will display locations for up to %d items in the list, regardless of the current number of items shown.","newspack-listings"),100),checked:N,onChange:()=>v({showMap:!N})})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show sort UI","newspack-listings"),checked:z,onChange:()=>v({showSortUi:!z})})})]}),(0,p.jsxs)(i.PanelBody,{title:(0,r.__)("Featured Image Settings","newspack-listings"),children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show Featured Image","newspack-listings"),checked:T,onChange:()=>v({showImage:!T})})}),T&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show Featured Image Caption","newspack-listings"),checked:L,onChange:()=>v({showCaption:!L})})}),(0,p.jsx)(i.SelectControl,{label:(0,r.__)("Featured Image Position","newspack-listings"),value:H,onChange:e=>v({mediaPosition:e}),options:[{label:(0,r.__)("Top","newspack-listings"),value:"top"},{label:(0,r.__)("Left","newspack-listings"),value:"left"},{label:(0,r.__)("Right","newspack-listings"),value:"right"}]})]}),T&&"top"!==H&&"behind"!==H&&(0,p.jsx)(l.Fragment,{children:(0,p.jsx)(i.BaseControl,{label:(0,r.__)("Featured Image Size","newspack-listings"),id:"newspackfeatured-image-size",children:(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ButtonGroup,{id:"newspackfeatured-image-size","aria-label":(0,r.__)("Featured Image Size","newspack-listings"),children:ae.map((e=>{const t=V===e.value;return(0,p.jsx)(i.Button,{isLarge:!0,isPrimary:t,"aria-pressed":t,"aria-label":e.label,onClick:()=>v({imageScale:e.value}),children:e.shortName},e.value)}))})})})}),T&&"behind"===H&&(0,p.jsx)(i.RangeControl,{label:(0,r.__)("Minimum height","newspack-listings"),help:(0,r.__)("Sets a minimum height for the block, using a percentage of the screen's current height.","newspack-listings"),value:B,onChange:e=>v({minHeight:e}),min:0,max:100,required:!0})]}),(0,p.jsxs)(i.PanelBody,{title:(0,r.__)("Post Control Settings","newspack-listings"),children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show Excerpt","newspack-listings"),checked:R,onChange:()=>v({showExcerpt:!R})})}),(0,p.jsx)(i.RangeControl,{className:"type-scale-slider",label:(0,r.__)("Type Scale","newspack-listings"),value:U,onChange:e=>v({typeScale:e}),min:1,max:10,required:!0})]}),(0,p.jsx)(k.PanelColorSettings,{title:(0,r.__)("Color Settings","newspack-listings"),initialOpen:!0,colorSettings:[{value:$,onChange:e=>v({textColor:e}),label:(0,r.__)("Text Color","newspack-listings")},{value:W,onChange:e=>v({backgroundColor:e}),label:(0,r.__)("Background Color","newspack-listings")}]}),(0,p.jsxs)(i.PanelBody,{title:(0,r.__)("Meta Settings","newspack-listings"),children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show Author","newspack-listings"),checked:A,onChange:()=>v({showAuthor:!A})})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show Category","newspack-listings"),checked:F,onChange:()=>v({showCategory:!F})})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{label:(0,r.__)("Show Tags","newspack-listings"),checked:q,onChange:()=>v({showTags:!q})})})]})]}),(0,p.jsx)("div",{className:"newspack-listings__curated-list-editor",children:(0,p.jsxs)("div",{className:ne.join(" "),style:{backgroundColor:W||"#fff",color:$||"#000"},children:[K&&y&&(0,p.jsx)(i.Notice,{className:"newspack-listings__error",status:"error",isDismissible:!1,children:y}),(0,p.jsx)(k.InnerBlocks,{allowedBlocks:["jetpack/map","newspack-listings/list-container"],template:[["newspack-listings/list-container"]],templateInsertUpdatesSelection:!1,renderAppender:()=>null}),S&&K&&(0,p.jsx)(i.Placeholder,{children:(0,p.jsx)(i.Spinner,{})}),!S&&K&&J.map(((t,n)=>(0,p.jsxs)("div",{className:"newspack-listings__listing-editor newspack-listings__listing",children:[(0,p.jsx)(E,{attributes:e,error:y,post:t}),(0,p.jsx)(i.Button,{isLink:!0,href:`/wp-admin/post.php?post=${t.id}&action=edit`,target:"_blank",children:(0,r.__)("Edit this listing","newspack-listings")})]},n))),!S&&K&&Q&&G.maxItems<J.length&&(0,p.jsx)(i.Button,{className:"newspack-listings__load-more",isPrimary:!0,children:Z})]})})]})})),zr=JSON.parse('{"UU":"newspack-listings/curated-list","L1":"newspack","uK":{"className":{"type":"string","default":""},"isSelected":{"type":"boolean","default":false},"showNumbers":{"type":"boolean","default":true},"showMap":{"type":"boolean","default":false},"showSortUi":{"type":"boolean","default":false},"showAuthor":{"type":"boolean","default":false},"showExcerpt":{"type":"boolean","default":true},"showImage":{"type":"boolean","default":true},"showCaption":{"type":"boolean","default":false},"imageShape":{"type":"string","default":"landscape"},"minHeight":{"type":"integer","default":0},"showCategory":{"type":"boolean","default":false},"showTags":{"type":"boolean","default":false},"mediaPosition":{"type":"string","default":"top"},"categories":{"type":"array","default":[],"items":{"type":"integer"}},"tags":{"type":"array","default":[],"items":{"type":"integer"}},"tagExclusions":{"type":"array","default":[],"items":{"type":"integer"}},"typeScale":{"type":"integer","default":4},"imageScale":{"type":"integer","default":3},"textColor":{"type":"string","default":""},"backgroundColor":{"type":"string","default":""},"hasDarkBackground":{"type":"boolean","default":false},"startup":{"type":"boolean","default":true},"queryMode":{"type":"boolean","default":false},"queryOptions":{"type":"object","default":{"type":null,"authors":[],"categories":[],"tags":[],"categoryExclusions":[],"tagExclusions":[],"maxItems":10,"sortBy":"date","order":"DESC"}},"listingIds":{"type":"array","default":[]},"queriedListings":{"type":"array","default":[]},"showLoadMore":{"type":"boolean","default":false},"loadMoreText":{"type":"string","default":"Load more listings"}}}'),{uK:Ar,L1:Rr,UU:Tr}=zr,Lr=JSON.parse('{"UU":"newspack-listings/event-dates","L1":"newspack","uK":{"startDate":{"type":"string","default":false},"endDate":{"type":"string","default":false},"showTime":{"type":"boolean","default":false},"showEnd":{"type":"boolean","default":false}}}'),{uK:Br,L1:Fr,UU:qr}=Lr,Hr=(0,p.jsx)(u.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)(u.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})}),Ur=(0,s.compose)([(0,a.withSelect)(((e,t)=>{const{clientId:n}=t,{getBlock:r}=e("core/block-editor");return{innerBlocks:r(n).innerBlocks||[]}})),(0,a.withDispatch)((e=>{const{insertBlock:t,removeBlocks:n,updateBlockAttributes:r}=e("core/block-editor");return{insertBlock:t,removeBlocks:n,updateBlockAttributes:r}}))])((({attributes:e,clientId:t,innerBlocks:n})=>{const{queryMode:s,queryOptions:a,showSortUi:o}=e,{order:l}=a;return s&&!o?null:(0,p.jsxs)("div",{className:"newspack-listings__list-container",children:[(0,p.jsx)(k.InspectorControls,{children:(0,p.jsx)(i.PanelRow,{className:"newspack-listings__list-container-spinner",children:(0,p.jsx)(i.Spinner,{})})}),!s&&n&&0===n.length&&(0,p.jsx)(i.Notice,{className:"newspack-listings__info",status:"info",isDismissible:!1,children:(0,r.__)("This list is empty. Click the [+] button to add some listings.")}),o&&(0,p.jsxs)("div",{className:"newspack-listings__sort-ui",children:[(0,p.jsxs)("section",{children:[(0,p.jsx)("label",{className:"newspack-listings__sort-ui-label",htmlFor:`newspack-listings__sort-by-${t}`,children:(0,r.__)("Sort by:","newspack-listings")}),(0,p.jsx)("select",{disabled:!0,className:"newspack-listings__sort-select-control",id:`newspack-listings__sort-by-${t}`,children:(0,p.jsx)("option",{value:"",selected:!0,children:(0,r.__)("Sort by","newspack-listings")})})]}),(0,p.jsxs)("section",{children:[(0,p.jsx)("label",{className:"newspack-listings__sort-ui-label",htmlFor:`sort-buttons-${t}`,children:(0,r.__)("Sort order:","newspack-listings")}),(0,p.jsxs)("div",{id:`sort-buttons-${t}`,children:[(0,p.jsx)("input",{disabled:!0,id:`sort-ascending-${t}`,type:"radio",name:"newspack-listings__sort-order",value:"ASC",checked:s&&"ASC"===l}),(0,p.jsx)("label",{htmlFor:`sort-ascending-${t}`,children:(0,r.__)("Ascending","newspack-listings")})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("input",{disabled:!0,id:`sort-descending-${t}`,type:"radio",name:"newspack-listings__sort-order",value:"DESC",checked:s&&"DESC"===l}),(0,p.jsx)("label",{htmlFor:`sort-descending-${t}`,children:(0,r.__)("Descending","newspack-listings")})]})]})]}),(0,p.jsx)(k.InnerBlocks,{allowedBlocks:["newspack-listings/event","newspack-listings/generic","newspack-listings/marketplace","newspack-listings/place"],renderAppender:()=>s?null:(0,p.jsx)(k.InnerBlocks.ButtonBlockAppender,{})})]})})),Vr=zr.uK,$r=(0,a.withSelect)((e=>{const{getBlock:t,getBlockParents:n}=e("core/block-editor");return{getBlock:t,getBlockParents:n}}))((({attributes:e,clientId:t,getBlock:n,getBlockParents:s,name:a,setAttributes:o})=>{const[c,u]=(0,l.useState)(null),[h,d]=(0,l.useState)(null),[f,g]=(0,l.useState)(!1),{listing:v}=e,_=s(t).reduce(((e,t)=>{const r=n(t);return"newspack-listings/list-container"===r.name&&(e.listContainer=r),e}),{}).listContainer.innerBlocks.reduce(((e,t)=>(t.attributes.listing&&e.push(t.attributes.listing),e)),[]),{post_types:y}=window.newspack_listings_data,w=a.split("/").slice(-1)[0],b=y[w];(0,l.useEffect)((()=>{!c&&v&&x(v)}),[v]);const x=async e=>{try{d(null);const t=await j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/listings",{per_page:100,id:e,_fields:"id,title,author,category,tags,excerpt,media,meta,type,sponsors,classes"})});if(0===t.length)throw`No posts found for ID ${e}. Try refreshing or selecting a new post.`;const n=t[0];n.meta&&n.meta.newspack_listings_locations&&o({locations:n.meta.newspack_listings_locations}),u(n)}catch(e){d(e)}};return!v||f?(0,p.jsxs)(i.Placeholder,{className:"newspack-listings__listing-search",label:(k=w,k[0].toUpperCase()+k.slice(1)),icon:m(w),children:[(0,p.jsx)(q,{label:(0,r.__)("Search for a ","newspack-listings")+w+(0,r.__)(" listing to display.","newspack-listings"),fetchSavedPosts:async e=>(await j()({path:(0,M.addQueryArgs)("newspack-listings/v1/listings",{per_page:100,include:e.join(","),_fields:"id,title"})})).map((e=>({value:e.id,label:(0,O.decodeEntities)(e.title)||(0,r.__)("(no title)","newspack-listings")}))),fetchSuggestions:async e=>(await j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/listings",{search:e,per_page:10,_fields:"id,title",type:b})})).reduce(((e,t)=>(_.indexOf(t.id)<0&&_.indexOf(t.id.toString())<0&&e.push({value:t.id,label:(0,O.decodeEntities)(t.title)||(0,r.__)("(no title)","newspack-listings")}),e)),[]),postType:b,postTypeSlug:w,maxLength:1,onChange:e=>{e.length&&(g(!1),u(null),o({listing:e.shift().value.toString()}))},selectedPost:f?null:v,listItems:_}),v&&(0,p.jsx)(i.Button,{isPrimary:!0,onClick:()=>g(!1),children:(0,r.__)("Cancel","newspack-listings")})]}):c||h?(0,p.jsxs)("div",{className:"newspack-listings__listing-editor newspack-listings__listing",children:[(0,p.jsx)(E,{attributes:e,error:h,post:c}),c&&(0,p.jsx)(i.Button,{isLink:!0,href:`/wp-admin/post.php?post=${c.id}&action=edit`,target:"_blank",children:(0,r.__)("Edit this listing","newspack-listings")})]}):(0,p.jsx)(i.Placeholder,{className:"newspack-listings__listing-search is-loading",label:w[0].toUpperCase()+w.slice(1),icon:m(w),children:(0,p.jsx)(i.Spinner,{})});var k})),Wr=JSON.parse('{"L1":"newspack","uK":{"className":{"type":"string","default":""},"listing":{"type":"string","default":""},"locations":{"type":"array","default":[]}}}'),Yr=zr.uK,{uK:Kr,L1:Gr}=Wr,{post_types:Jr}=window.newspack_listings_data,Qr=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"M3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zm-1.338 4.877c-.314.22-.412.452-.412.623 0 .171.098.403.412.623.312.218.783.377 1.338.377.825 0 1.605.233 2.198.648.59.414 1.052 1.057 1.052 1.852 0 .795-.461 1.438-1.052 1.852-.41.286-.907.486-1.448.582v.316a.75.75 0 01-1.5 0v-.316a3.64 3.64 0 01-1.448-.582c-.59-.414-1.052-1.057-1.052-1.852a.75.75 0 011.5 0c0 .171.098.403.412.623.312.218.783.377 1.338.377s1.026-.159 1.338-.377c.314-.22.412-.452.412-.623 0-.171-.098-.403-.412-.623-.312-.218-.783-.377-1.338-.377-.825 0-1.605-.233-2.198-.648-.59-.414-1.052-1.057-1.052-1.852 0-.795.461-1.438 1.052-1.852a3.64 3.64 0 011.448-.582V7.5a.75.75 0 011.5 0v.316c.54.096 1.039.296 1.448.582.59.414 1.052 1.057 1.052 1.852a.75.75 0 01-1.5 0c0-.171-.098-.403-.412-.623-.312-.218-.783-.377-1.338-.377s-1.026.159-1.338.377z"})}),Zr=JSON.parse('{"UU":"newspack-listings/price","L1":"newspack","uK":{"price":{"type":"number","default":0},"currency":{"type":"string","default":""},"formattedPrice":{"type":"string","default":""},"showDecimals":{"type":"boolean","default":true}}}'),{uK:Xr,L1:ei,UU:ti}=Zr,ni=(0,p.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,p.jsx)(u.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),{self_serve_listing_types:ri=[],self_serve_listing_expiration:ii=30}=window.newspack_listings_data||{},si=JSON.parse('{"UU":"newspack-listings/self-serve-listings","L1":"newspack","uK":{"allowedSingleListingTypes":{"type":"array","default":[{"slug":"blank","name":"Blank listing (start from scratch)"},{"slug":"event","name":"Event"},{"slug":"classified","name":"Classified Ad"},{"slug":"job","name":"Job Listing"},{"slug":"real-estate","name":"Real Estate Listing"}]},"allowSubscription":{"type":"boolean","default":true},"allowedPurchases":{"type":"string","default":"both"},"buttonText":{"type":"string","default":"Next"},"clientId":{"type":"string","default":""},"singleDescription":{"type":"string","default":"Purchase a single Marketplace or Event listing."},"subscriptionDescription":{"type":"string","default":"Purchase a monthly subscription for a listing to represent your business or organization."}}}'),{uK:ai,L1:oi,UU:li}=si,ci=window.wp.date,ui=(0,s.compose)([(0,a.withSelect)((e=>{const{getCurrentPostId:t,getEditedPostAttribute:n,isAutosavingPost:r,isSavingPost:i}=e("core/editor");return{isSavingPost:i()&&!r(),meta:n("meta"),postId:t()}})),(0,a.withDispatch)((e=>{const{editPost:t}=e("core/editor"),{createNotice:n}=e("core/notices");return{updateMetaValue:(e,n)=>t({meta:{[e]:n}}),setIsDirty:()=>t({editorShouldAllowSave:!0}),createNotice:n}}))])((({createNotice:e,isSavingPost:t,meta:n,postId:s,setIsDirty:a,updateMetaValue:c})=>{const[u,h]=(0,l.useState)(null),[d,f]=(0,l.useState)(null),{newspack_listings_featured:g,newspack_listings_featured_expires:v}=n;return(0,l.useEffect)((()=>{u&&e("error",u,{id:"newspack-listings__featured-error",isDismissible:!0})}),[u]),(0,l.useEffect)((()=>{if(t){const e=g?d:0;j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/priority",{post_id:s,priority:e}),method:"POST"}).then((e=>{if(!1===e)throw new Error((0,r.__)("There was an error updating the feature priority for this post. Please try saving again.","newspack-listings"))})).catch((e=>{h(e?.message||(0,r.__)("There was an error updating the feature priority for this post. Please try saving again.","newspack-listings"))}))}}),[t]),(0,l.useEffect)((()=>{h(null),g&&!d&&j()({path:(0,M.addQueryArgs)("/newspack-listings/v1/priority",{post_id:s})}).then((e=>{const t=((e=0)=>!(isNaN(e)||0>e||9<e)&&parseInt(e))(e);!1!==t&&f(e)})).catch((e=>{h(e?.message||(0,r.__)("There was an error fetching the priority for this post. Please refresh the editor.","newspack-listings"))}))}),[g]),(0,p.jsxs)(o.PluginDocumentSettingPanel,{className:"newspack-listings__editor-sidebar-featured",name:"newspack-listings-featured",title:(0,r.__)("Featured Listing Settings","newspack-listings"),children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{className:"newspack-listings__toggle-control",label:(0,r.__)("Featured Listing","newspack-listings"),help:(0,r.sprintf)(
// Translators: Feature status help message.
// Translators: Feature status help message.
(0,r.__)("This listing is %sfeatured.","newspack-listings"),g?(0,r.__)("","newspack-listings"):(0,r.__)("not ","newspack-listings")),checked:g,onChange:e=>c("newspack_listings_featured",e)})}),g&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.RangeControl,{disabled:null===d&&null===u,label:(0,r.__)("Priority Level","newspack-listings"),help:(0,r.__)("Relative importance of the featured item. Higher numbers mean higher priority.","newspack-listings"),value:d||5,onChange:e=>{a(),f(e)},min:1,max:9,required:!0})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsxs)(i.BaseControl,{id:"newspack-listings__featured-listing-expiration",label:(0,r.__)("Expiration Date","newspack-listings"),children:[(0,p.jsx)(i.DatePicker,{currentDate:v?new Date(v):null,onMonthPreviewed:()=>{},onChange:e=>{const t=new Date(e),n=new Date(t.getFullYear(),t.getMonth(),t.getDate());c("newspack_listings_featured_expires",(0,ci.dateI18n)("Y-m-d\\TH:i:s",n))}}),v&&(0,p.jsx)(i.Button,{isLink:!0,onClick:()=>c("newspack_listings_featured_expires",""),children:(0,r.__)("Reset","newspack-listings")})]})})]})]})})),{post_type:pi,post_types:hi,is_listing_customer:di=!1,self_serve_enabled:fi}=window?.newspack_listings_data;v()?(pi&&((0,t.registerPlugin)("newspack-listings-editor",{render:y,icon:null}),di||(0,t.registerPlugin)("newspack-listings-featured",{render:ui,icon:null})),v(hi.event.name)&&(0,w.registerBlockType)(qr,{title:(0,r.__)("Event Dates","newspack-listings"),icon:{src:(0,p.jsx)(c,{icon:h}),foreground:"#36f"},category:Fr,keywords:[(0,r.__)("curated","newspack-listings"),(0,r.__)("list","newspack-listings"),(0,r.__)("lists","newspack-listings"),(0,r.__)("listings","newspack-listings"),(0,r.__)("latest","newspack-listings"),(0,r.__)("event","newspack-listings"),(0,r.__)("events","newspack-listings")],attributes:Br,edit:({attributes:e,clientId:t,setAttributes:n})=>{const{endDate:s,showEnd:o,showTime:c,startDate:u}=e,{createNotice:h}=(0,a.useDispatch)("core/notices"),d=["newspack-listings__event-dates"];return c||d.push("hide-time"),(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(k.InspectorControls,{children:(0,p.jsxs)(i.PanelBody,{title:(0,r.__)("Event Dates Settings"),children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{className:"newspack-listings__event-time-toggle",label:(0,r.__)("Show Times","newspack-listings"),checked:c,onChange:()=>n({showTime:!c})})}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{className:"newspack-listings__event-time-toggle",label:(0,r.sprintf)(
// Translators: End date/time help message.
// Translators: End date/time help message.
(0,r.__)("Show End %s","newspack-listings"),c?(0,r.__)("Time","newspack-listings"):(0,r.__)("Date","newspack-listings")),checked:o,onChange:()=>{n({showEnd:!o}),n({endDate:""})}})})]})}),(0,p.jsx)("div",{className:d.join(" "),children:(0,p.jsxs)("div",{className:"newspack-listings__event-dates-controls",children:[(0,p.jsxs)(i.BaseControl,{id:`event-start-date-${t}`,label:(0,r.sprintf)(
// Translators: Help message for Event start date/time.
// Translators: Help message for Event start date/time.
(0,r.__)("Event %1$s %2$s","newspack-listings"),o?(0,r.__)("Start","newspack-listings"):"",c?(0,r.__)("Time","newspack-listings"):(0,r.__)("Date","newspack-listings")),children:[(0,p.jsx)(i.DateTimePicker,{currentDate:u?new Date(u):null,is12Hour:!0,onChange:e=>{if(!e||!s||s&&0<=new Date(s)-new Date(e))return n({startDate:e});h("warning",(0,r.__)("Event end must be after event start.","newspack-listings"),{id:"newspack-listings__date-error",isDismissible:!0,type:"default"})}}),!c&&u&&(0,p.jsx)(i.Button,{isLink:!0,onClick:()=>n({startDate:""}),children:(0,r.__)("Reset","newspack-listings")})]}),o&&(0,p.jsxs)(i.BaseControl,{id:`event-end-date-${t}`,label:(0,r.sprintf)(
// Translators: Help message for Event end date/time.
// Translators: Help message for Event end date/time.
(0,r.__)("Event End %s","newspack-listings"),c?(0,r.__)("Time","newspack-listings"):(0,r.__)("Date","newspack-listings")),children:[(0,p.jsx)(i.DateTimePicker,{currentDate:s?new Date(s):null,is12Hour:!0,onChange:e=>{if(!e||!u||u&&0<=new Date(e)-new Date(u))return n({endDate:e});h("warning",(0,r.__)("Event end must be after event start.","newspack-listings"),{id:"newspack-listings__date-error",isDismissible:!0,type:"default"})}}),!c&&s&&(0,p.jsx)(i.Button,{isLink:!0,onClick:()=>n({endDate:""}),children:(0,r.__)("Reset","newspack-listings")})]})]})})]})},save:()=>null}),v(hi.marketplace.name)&&(0,w.registerBlockType)(ti,{title:(0,r.__)("Price","newspack-listings"),icon:{src:(0,p.jsx)(c,{icon:Qr}),foreground:"#36f"},category:ei,keywords:[(0,r.__)("curated","newspack-listings"),(0,r.__)("list","newspack-listings"),(0,r.__)("lists","newspack-listings"),(0,r.__)("listings","newspack-listings"),(0,r.__)("latest","newspack-listings"),(0,r.__)("price","newspack-listings")],attributes:Xr,edit:({attributes:e,isSelected:t,setAttributes:n})=>{const{currencies:s={},currency:a="USD"}=window.newspack_listings_data,o=window.navigator?.language||"en-US",{currency:c,formattedPrice:u,price:h,showDecimals:d}=e;return(0,l.useEffect)((()=>{(isNaN(h)||""===h||0>h)&&n({price:0})}),[t]),(0,l.useEffect)((()=>{const e=isNaN(h)||""===h||0>h?0:h;n({formattedPrice:new Intl.NumberFormat(o,{style:"currency",currency:c||a,minimumFractionDigits:d?2:0,maximumFractionDigits:d?2:0}).format(e)})}),[c,d,h]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(k.InspectorControls,{children:(0,p.jsxs)(i.PanelBody,{title:(0,r.__)("Price Settings"),children:[0<Object.keys(s).length&&(0,p.jsx)(i.SelectControl,{label:(0,r.__)("Select currency","newspack-listings"),value:c||a,onChange:e=>n({currency:e}),options:Object.keys(s).map((e=>({value:e,label:`${(0,O.decodeEntities)(s[e])} (${e})`}))).sort(((e,t)=>e.label.toUpperCase().localeCompare(t.label.toUpperCase())))}),(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.ToggleControl,{className:"newspack-listings__decimals-toggle",label:(0,r.__)("Show decimals","newspack-listings"),help:(0,r.__)("If disabled, the price shown will be rounded to the nearest integer.","newspack-listings"),checked:d,onChange:e=>n({showDecimals:e})})})]})}),t?(0,p.jsx)(i.Placeholder,{icon:Qr,label:(0,r.__)("Price","newspack-listings"),isColumnLayout:!0,children:(0,p.jsx)(i.TextControl,{label:(0,r.sprintf)(
// Translators: Price currency help message.
// Translators: Price currency help message.
(0,r.__)("Price in %s","newspack-listings"),c||a),type:"number",value:h,onChange:e=>{n({price:parseFloat(e<0?0:e)})}})}):(0,p.jsx)("p",{className:"newspack-listings__price has-large-font-size",children:(0,p.jsx)("strong",{children:u})})]})},save:()=>null})):((()=>{const e=(0,w.getCategories)();e.find((({slug:e})=>"newspack"===e))||(0,w.setCategories)([...e.filter((({slug:e})=>"newspack"!==e)),{slug:"newspack",title:"Newspack",icon:(0,p.jsx)(b,{})}])})(),(0,w.registerBlockType)(Tr,{title:(0,r.__)("Curated List","newspack-listings"),icon:{src:(0,p.jsx)(x,{}),foreground:"#36f"},category:Rr,keywords:[(0,r.__)("curated","newspack-listings"),(0,r.__)("list","newspack-listings"),(0,r.__)("lists","newspack-listings"),(0,r.__)("listings","newspack-listings"),(0,r.__)("latest","newspack-listings")],attributes:Ar,edit:Nr,save:()=>(0,p.jsx)(k.InnerBlocks.Content,{})}),(0,w.registerBlockType)("newspack-listings/list-container",{title:(0,r.__)("Container","newspack-listings"),icon:{src:(0,p.jsx)(c,{icon:Hr}),foreground:"#36f"},category:"newspack",parent:["newspack-listings/curated-list"],keywords:[(0,r.__)("curated","newspack-listings"),(0,r.__)("list","newspack-listings"),(0,r.__)("lists","newspack-listings"),(0,r.__)("listings","newspack-listings"),(0,r.__)("latest","newspack-listings")],attributes:Vr,supports:{inserter:!1},edit:Ur,save:()=>(0,p.jsx)(k.InnerBlocks.Content,{})}),(()=>{for(const e in Jr)Jr.hasOwnProperty(e)&&(0,w.registerBlockType)(`newspack-listings/${e}`,{title:e.charAt(0).toUpperCase()+e.slice(1),icon:{src:m(e),foreground:"#36f"},category:Gr,parent:["newspack-listings/list-container"],keywords:[(0,r.__)("lists","newspack-listings"),(0,r.__)("listings","newspack-listings"),(0,r.__)("latest","newspack-listings")],attributes:Object.assign(Kr,Yr),supports:{inserter:Jr[e].show_in_inserter||!1},edit:$r,save:()=>null})})(),fi&&(0,w.registerBlockType)(li,{title:(0,r.__)("Listings: Self-Serve Form","newspack-listings"),icon:{src:(0,p.jsx)(c,{icon:ni}),foreground:"#36f"},category:oi,keywords:[(0,r.__)("list","newspack-listings"),(0,r.__)("listings","newspack-listings"),(0,r.__)("self","newspack-listings"),(0,r.__)("serve","newspack-listings")],attributes:ai,edit:({attributes:e,clientId:t,setAttributes:n})=>{const[s,a]=(0,l.useState)("single"),[o,c]=(0,l.useState)(null),{allowedSingleListingTypes:u,allowSubscription:h,allowedPurchases:d,buttonText:f,singleDescription:g,subscriptionDescription:v}=e;(0,l.useEffect)((()=>{n({clientId:t})}),[t]),(0,l.useEffect)((()=>{!1===h&&n({allowedPurchases:"single-only"})}),[h]);const _=["newspack-listings__self-serve-form","wpbnbd",d];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(k.InspectorControls,{children:(0,p.jsxs)(i.PanelBody,{title:(0,r.__)("Self-Serve Listing Settings"),children:[(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.SelectControl,{label:(0,r.__)("Purchase Types Allowed","newspack-listings"),help:(0,r.sprintf)((0,r.__)("Allow readers to purchase %s.","newspack-listings"),(()=>{switch(d){case"both":return(0,r.__)("both single listings and subscriptions","newspack-listings");case"single-only":return(0,r.__)("single listings only","newspack-listings");case"subscription-only":return(0,r.__)("subscription listings only","newspack-listings")}})()),onChange:e=>n({allowedPurchases:e,allowSubscription:!0}),value:!1===h?"single-only":d,options:[{label:(0,r.__)("Single listings and subscriptions","newspack-listings"),value:"both"},{label:(0,r.__)("Single listings only","newspack-listings"),value:"single-only"},{label:(0,r.__)("Subscriptions only","newspack-listings"),value:"subscription-only"}]})}),"subscription-only"!==d&&(0,p.jsx)(i.BaseControl,{id:"newspack-listings-allowed-single-listing-types",help:(0,r.__)("Choose which listing types users are allowed to purchase.","newspack-listings"),label:(0,r.__)("Allowed Single Listing Types","newspack-listings"),children:ri.map((e=>{const t=u.reduce(((t,n)=>n.slug===e.slug||t),!1);return(0,p.jsx)(i.PanelRow,{children:(0,p.jsx)(i.CheckboxControl,{label:e.name,checked:t,onChange:i=>{if(c(null),i&&t||!i&&!t)return!1;let s=[...u];if(i?s.push(e):s=u.filter((t=>t.slug!==e.slug)),0===s.length)return c((0,r.__)("You must allow at least one listing type for purchase.","newspack-listings")),!1;n({allowedSingleListingTypes:s})}})},e.slug)}))}),o&&(0,p.jsx)(i.Notice,{className:"newspack-listings__error",status:"error",isDismissible:!1,children:o})]})}),(0,p.jsx)("div",{className:_.join(" "),children:(0,p.jsxs)("form",{children:[(0,p.jsxs)("div",{className:"frequencies",children:[("subscription-only"!==d||!1===h)&&(0,p.jsxs)("div",{className:"newspack-listings__form-tabs frequency",children:[(0,p.jsx)("input",{name:"listing-purchase-type",className:"newspack-listings__tab-input",id:`listing-single-${t}`,type:"radio",value:"listing-single",checked:"single"===s||"single-only"===d||!1===h,onClick:()=>a("single")}),(0,p.jsx)("label",{className:"freq-label listing-single",htmlFor:"listing-single",onClick:()=>a("single"),children:(0,r.__)("Single Listing")}),(0,p.jsxs)("div",{className:"input-container listing-details",children:[(0,p.jsx)(k.RichText,{onChange:e=>n({singleDescription:e}),placeholder:(0,r.__)("Description text for your single listing product…","newspack-listings"),value:g,tagName:"p"}),ii&&(0,p.jsx)("p",{className:"newspack-listings__help",children:(0,r.sprintf)((0,r.__)("Single-purchase listings expire %d days after the date of publication.","newspack-listings"),ii)}),(0,p.jsx)("hr",{}),(0,p.jsx)("h3",{children:(0,r.__)("Listing Details","newspack-listings")}),(0,p.jsx)("label",{htmlFor:`listing-title-single-${t}`,children:(0,r.__)("Listing Title","newspack-listings")}),(0,p.jsx)("input",{type:"text",id:`listing-title-single-${t}`,name:"listing-title-single",value:"",placeholder:(0,r.__)("My Listing Title")}),(0,p.jsx)("label",{htmlFor:`listing-type-${t}`,children:(0,r.__)("Listing Type","newspack-listings")}),(0,p.jsx)("select",{id:`${t}`,name:"listing-single-type",children:u.map((e=>(0,p.jsx)("option",{value:`listing-type-${e.slug}`,children:e.name},e.slug)))}),(0,p.jsx)("input",{type:"checkbox",id:`listing-single-upgrade-${t}`,name:"listing-featured-upgrade"}),(0,p.jsx)("label",{htmlFor:`listing-single-upgrade-${t}`,children:(0,r.__)("Upgrade to a featured listing","newspack-listings")}),(0,p.jsx)("p",{class:"newspack-listings__help",children:(0,r.__)("Featured listings appear first in lists, directory pages and search results.","newspack-listings")})]})]}),"single-only"!==d&&!1!==h&&(0,p.jsxs)("div",{className:"newspack-listings__form-tabs frequency",children:[(0,p.jsx)("input",{name:"listing-purchase-type",className:"newspack-listings__tab-input",id:`listing-subscription-${t}`,type:"radio",value:"listing-subscription",checked:"subscription"===s||"subscription-only"===d,onClick:()=>a("subscription")}),(0,p.jsx)("label",{className:"freq-label listing-subscription",htmlFor:"listing-subscription",onClick:()=>a("subscription"),children:(0,r.__)("Listing Subscription")}),(0,p.jsxs)("div",{className:"input-container listing-details",children:[(0,p.jsx)(k.RichText,{onChange:e=>n({subscriptionDescription:e}),placeholder:(0,r.__)("Description text for your subscription product…","newspack-listings"),value:v,tagName:"p"}),(0,p.jsx)("p",{className:"newspack-listings__help",children:(0,r.__)("Subscription listings remain live as long as the subscription is active.","newspack-listings")}),(0,p.jsx)("hr",{}),(0,p.jsx)("h3",{children:(0,r.__)("Listing Details","newspack-listings")}),(0,p.jsx)("label",{htmlFor:`listing-title-subscription${t}`,children:(0,r.__)("Listing Title","newspack-listings")}),(0,p.jsx)("input",{type:"text",id:`listing-title-subscription${t}`,name:"listing-title-subscription",value:"",placeholder:(0,r.__)("My Listing Title")}),(0,p.jsx)("input",{type:"checkbox",id:`listing-subscription-upgrade-${t}`,name:"listing-premium-upgrade"}),(0,p.jsx)("label",{htmlFor:`listing-subscription-upgrade-${t}`,children:(0,r.__)("Upgrade to a premium subscription","newspack-listings")}),(0,p.jsx)("p",{class:"newspack-listings__help",children:(0,r.__)('A premium subscription upgrades your listing to "featured" status and lets you create up to 10 additional Marketplace or Event listings.',"newspack-listings")})]})]})]}),(0,p.jsx)("button",{type:"submit",onClick:e=>e.preventDefault(),children:(0,p.jsx)(k.RichText,{onChange:e=>n({buttonText:e}),placeholder:(0,r.__)("Button text…","newspack-listings"),value:f,tagName:"span"})})]})})]})},save:()=>null})),di&&window._wpLoadBlockEditor?.then((()=>{const e=window.setInterval((()=>{const t=document.getElementById("editor");t&&(window.clearInterval(e),new MutationObserver((e=>{for(const n of e)if("childList"===n.type&&n.target.classList.contains("components-panel")){const e=t.querySelector(".components-panel");e&&Array.from(e.querySelectorAll(".components-panel__body")).forEach((e=>{"Mapbox Access Token"===e.querySelector(".components-panel__body-title").textContent&&(e.style.display="none")}))}})).observe(t,{childList:!0,subtree:!0}))}),1e3)}))})()})();