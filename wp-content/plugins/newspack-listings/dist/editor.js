(()=>{var e={2:(e,t,n)=>{var s=n(2199),i=n(4664),r=n(5950);e.exports=function(e){return s(e,r,i)}},79:(e,t,n)=>{var s=n(3702),i=n(80),r=n(4739),a=n(8655),o=n(1175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}l.prototype.clear=s,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=a,l.prototype.set=o,e.exports=l},80:(e,t,n)=>{var s=n(6025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=s(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},104:(e,t,n)=>{var s=n(3661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var s=arguments,i=t?t.apply(this,s):s[0],r=n.cache;if(r.has(i))return r.get(i);var a=e.apply(this,s);return n.cache=r.set(i,a)||r,a};return n.cache=new(i.Cache||s),n}i.Cache=s,e.exports=i},124:(e,t,n)=>{var s=n(9325);e.exports=function(){return s.Date.now()}},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},270:(e,t,n)=>{var s=n(7068),i=n(346);e.exports=function e(t,n,r,a,o){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:s(t,n,r,a,e,o))}},289:(e,t,n)=>{var s=n(2651);e.exports=function(e){return s(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,s){n[++t]=[s,e]}),n}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var s=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==s||"symbol"!=s&&t.test(e))&&e>-1&&e%1==0&&e<n}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},583:(e,t,n)=>{var s=n(7237),i=n(7255),r=n(8586),a=n(7797);e.exports=function(e){return r(e)?s(a(e)):i(e)}},631:(e,t,n)=>{var s=n(8077),i=n(9326);e.exports=function(e,t){return null!=e&&i(e,t,s)}},641:(e,t,n)=>{var s=n(6649),i=n(5950);e.exports=function(e,t){return e&&s(e,t,i)}},659:(e,t,n)=>{var s=n(1873),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,o=s?s.toStringTag:void 0;e.exports=function(e){var t=r.call(e,o),n=e[o];try{e[o]=void 0;var s=!0}catch(e){}var i=a.call(e);return s&&(t?e[o]=n:delete e[o]),i}},689:(e,t,n)=>{var s=n(2),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,a,o){var l=1&n,c=s(e),u=c.length;if(u!=s(t).length&&!l)return!1;for(var p=u;p--;){var d=c[p];if(!(l?d in t:i.call(t,d)))return!1}var h=o.get(e),g=o.get(t);if(h&&g)return h==t&&g==e;var f=!0;o.set(e,t),o.set(t,e);for(var v=l;++p<u;){var w=e[d=c[p]],m=t[d];if(r)var _=l?r(m,w,d,t,e,o):r(w,m,d,e,t,o);if(!(void 0===_?w===m||a(w,m,n,r,o):_)){f=!1;break}v||(v="constructor"==d)}if(f&&!v){var x=e.constructor,y=t.constructor;x==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}},695:(e,t,n)=>{var s=n(8096),i=n(2428),r=n(6449),a=n(3656),o=n(361),l=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),u=!n&&i(e),p=!n&&!u&&a(e),d=!n&&!u&&!p&&l(e),h=n||u||p||d,g=h?s(e.length,String):[],f=g.length;for(var v in e)!t&&!c.call(e,v)||h&&("length"==v||p&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||o(v,f))||g.push(v);return g}},756:(e,t,n)=>{var s=n(3805);e.exports=function(e){return e==e&&!s(e)}},776:(e,t,n)=>{var s=n(756),i=n(5950);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,s(a)]}return t}},909:(e,t,n)=>{var s=n(641),i=n(8329)(s);e.exports=i},916:(e,t,n)=>{var s=n(909);e.exports=function(e,t){var n;return s(e,function(e,s,i){return!(n=t(e,s,i))}),!!n}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},945:(e,t,n)=>{var s=n(79),i=n(8223),r=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof s){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(a)}return n.set(e,t),this.size=n.size,this}},999:(e,t,n)=>{var s=n(9302),i=n(6800);e.exports=function(e){return s(function(t,n){var s=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(r--,a):void 0,o&&i(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),t=Object(t);++s<r;){var l=n[s];l&&e(t,l,s,a)}return t})}},1033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1042:(e,t,n)=>{var s=n(6110)(Object,"create");e.exports=s},1175:(e,t,n)=>{var s=n(6025);e.exports=function(e,t){var n=this.__data__,i=s(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1331:(e,t,n)=>{var s=n(2552),i=n(8879),r=n(346),a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=s(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1420:(e,t,n)=>{var s=n(79);e.exports=function(){this.__data__=new s,this.size=0}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1489:(e,t,n)=>{var s=n(7400);e.exports=function(e){var t=s(e),n=t%1;return t==t?n?t-n:t:0}},1549:(e,t,n)=>{var s=n(2032),i=n(3862),r=n(6721),a=n(2749),o=n(5749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}l.prototype.clear=s,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=a,l.prototype.set=o,e.exports=l},1769:(e,t,n)=>{var s=n(6449),i=n(8586),r=n(1802),a=n(3222);e.exports=function(e,t){return s(e)?e:i(e,t)?[e]:r(a(e))}},1791:(e,t,n)=>{var s=n(6547),i=n(3360);e.exports=function(e,t,n,r){var a=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var c=t[o],u=r?r(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):s(n,c,u)}return n}},1799:(e,t,n)=>{var s=n(7217),i=n(270);e.exports=function(e,t,n,r){var a=n.length,o=a,l=!r;if(null==e)return!o;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var u=(c=n[a])[0],p=e[u],d=c[1];if(l&&c[2]){if(void 0===p&&!(u in e))return!1}else{var h=new s;if(r)var g=r(p,d,u,e,t,h);if(!(void 0===g?i(d,p,3,r,h):g))return!1}}return!0}},1800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},1802:(e,t,n)=>{var s=n(2224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=s(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,s,i){t.push(s?i.replace(r,"$1"):n||e)}),t});e.exports=a},1811:e=>{var t=Date.now;e.exports=function(e){var n=0,s=0;return function(){var i=t(),r=16-(i-s);if(s=i,r>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},1873:(e,t,n)=>{var s=n(9325).Symbol;e.exports=s},1882:(e,t,n)=>{var s=n(2552),i=n(3805);e.exports=function(e){if(!i(e))return!1;var t=s(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1961:(e,t,n)=>{var s=n(9653);e.exports=function(e,t){var n=t?s(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1986:(e,t,n)=>{var s=n(1873),i=n(7828),r=n(5288),a=n(5911),o=n(317),l=n(4247),c=s?s.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,s,c,p,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!p(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=o;case"[object Set]":var g=1&s;if(h||(h=l),e.size!=t.size&&!g)return!1;var f=d.get(e);if(f)return f==t;s|=2,d.set(e,t);var v=a(h(e),h(t),s,c,p,d);return d.delete(e),v;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},2006:(e,t,n)=>{var s=n(5389),i=n(4894),r=n(5950);e.exports=function(e){return function(t,n,a){var o=Object(t);if(!i(t)){var l=s(n,3);t=r(t),n=function(e){return l(o[e],e,o)}}var c=e(t,n,a);return c>-1?o[l?t[c]:c]:void 0}}},2032:(e,t,n)=>{var s=n(1042);e.exports=function(){this.__data__=s?s(null):{},this.size=0}},2193:(e,t,n)=>{var s=n(8984),i=n(5861),r=n(2428),a=n(6449),o=n(4894),l=n(3656),c=n(5527),u=n(7167),p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||r(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!s(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},2199:(e,t,n)=>{var s=n(4528),i=n(6449);e.exports=function(e,t,n){var r=t(e);return i(e)?r:s(r,n(e))}},2224:(e,t,n)=>{var s=n(104);e.exports=function(e){var t=s(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},2426:(e,t,n)=>{var s=n(4248),i=n(5389),r=n(916),a=n(6449),o=n(6800);e.exports=function(e,t,n){var l=a(e)?s:r;return n&&o(e,t,n)&&(t=void 0),l(e,i(t,3))}},2428:(e,t,n)=>{var s=n(7534),i=n(346),r=Object.prototype,a=r.hasOwnProperty,o=r.propertyIsEnumerable,l=s(function(){return arguments}())?s:function(e){return i(e)&&a.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2523:e=>{e.exports=function(e,t,n,s){for(var i=e.length,r=n+(s?1:-1);s?r--:++r<i;)if(t(e[r],r,e))return r;return-1}},2552:(e,t,n)=>{var s=n(1873),i=n(659),r=n(9350),a=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):r(e)}},2651:(e,t,n)=>{var s=n(4218);e.exports=function(e,t){var n=e.__data__;return s(t)?n["string"==typeof t?"string":"hash"]:n.map}},2694:(e,t,n)=>{"use strict";var s=n(6925);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,a){if(a!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},2749:(e,t,n)=>{var s=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return s?void 0!==t[e]:i.call(t,e)}},2804:(e,t,n)=>{var s=n(6110)(n(9325),"Promise");e.exports=s},2824:(e,t,n)=>{var s=n(7805),i=n(3290),r=n(1961),a=n(3007),o=n(5529),l=n(2428),c=n(6449),u=n(3693),p=n(3656),d=n(1882),h=n(3805),g=n(1331),f=n(7167),v=n(4974),w=n(9884);e.exports=function(e,t,n,m,_,x,y){var b=v(e,n),k=v(t,n),j=y.get(k);if(j)s(e,n,j);else{var S=x?x(b,k,n+"",e,t,y):void 0,C=void 0===S;if(C){var P=c(k),N=!P&&p(k),T=!P&&!N&&f(k);S=k,P||N||T?c(b)?S=b:u(b)?S=a(b):N?(C=!1,S=i(k,!0)):T?(C=!1,S=r(k,!0)):S=[]:g(k)||l(k)?(S=b,l(b)?S=w(b):h(b)&&!d(b)||(S=o(k))):C=!1}C&&(y.set(k,S),_(S,k,m,x,y),y.delete(k)),s(e,n,S)}}},2865:(e,t,n)=>{var s=n(9570),i=n(1811)(s);e.exports=i},2903:(e,t,n)=>{var s=n(3805),i=n(5527),r=n(181),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!s(e))return r(e);var t=i(e),n=[];for(var o in e)("constructor"!=o||!t&&a.call(e,o))&&n.push(o);return n}},2949:(e,t,n)=>{var s=n(2651);e.exports=function(e,t){var n=s(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},3007:e=>{e.exports=function(e,t){var n=-1,s=e.length;for(t||(t=Array(s));++n<s;)t[n]=e[n];return t}},3040:(e,t,n)=>{var s=n(1549),i=n(79),r=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new s,map:new(r||i),string:new s}}},3072:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,s=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,w=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case u:case p:case r:case o:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case f:case l:return e;default:return t}}case i:return t}}}function b(e){return y(e)===p}t.AsyncMode=u,t.ConcurrentMode=p,t.ContextConsumer=c,t.ContextProvider=l,t.Element=s,t.ForwardRef=d,t.Fragment=r,t.Lazy=v,t.Memo=f,t.Portal=i,t.Profiler=o,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return b(e)||y(e)===u},t.isConcurrentMode=b,t.isContextConsumer=function(e){return y(e)===c},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return y(e)===d},t.isFragment=function(e){return y(e)===r},t.isLazy=function(e){return y(e)===v},t.isMemo=function(e){return y(e)===f},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===o},t.isStrictMode=function(e){return y(e)===a},t.isSuspense=function(e){return y(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===p||e===o||e===a||e===h||e===g||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===m||e.$$typeof===_||e.$$typeof===x||e.$$typeof===w)},t.typeOf=y},3170:(e,t,n)=>{var s=n(6547),i=n(1769),r=n(361),a=n(3805),o=n(7797);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=i(t,e)).length,p=u-1,d=e;null!=d&&++c<u;){var h=o(t[c]),g=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(c!=p){var f=d[h];void 0===(g=l?l(f,h,d):void 0)&&(g=a(f)?f:r(t[c+1])?[]:{})}s(d,h,g),d=d[h]}return e}},3221:e=>{e.exports=function(e){return function(t,n,s){for(var i=-1,r=Object(t),a=s(t),o=a.length;o--;){var l=a[e?o:++i];if(!1===n(r[l],l,r))break}return t}}},3222:(e,t,n)=>{var s=n(7556);e.exports=function(e){return null==e?"":s(e)}},3243:(e,t,n)=>{var s=n(6110),i=function(){try{var e=s(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},3290:(e,t,n)=>{e=n.nmd(e);var s=n(9325),i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,a=r&&r.exports===i?s.Buffer:void 0,o=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,s=o?o(n):new e.constructor(n);return e.copy(s),s}},3345:e=>{e.exports=function(){return[]}},3360:(e,t,n)=>{var s=n(3243);e.exports=function(e,t,n){"__proto__"==t&&s?s(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},3488:e=>{e.exports=function(e){return e}},3560:(e,t,n)=>{var s=n(3170);e.exports=function(e,t,n){return null==e?e:s(e,t,n)}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,n)=>{var s=n(4335)(Object.keys,Object);e.exports=s},3656:(e,t,n)=>{e=n.nmd(e);var s=n(9325),i=n(9935),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,o=a&&a.exports===r?s.Buffer:void 0,l=(o?o.isBuffer:void 0)||i;e.exports=l},3661:(e,t,n)=>{var s=n(3040),i=n(7670),r=n(289),a=n(4509),o=n(2949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}l.prototype.clear=s,l.prototype.delete=i,l.prototype.get=r,l.prototype.has=a,l.prototype.set=o,e.exports=l},3663:(e,t,n)=>{var s=n(1799),i=n(776),r=n(7197);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||s(n,e,t)}}},3693:(e,t,n)=>{var s=n(4894),i=n(346);e.exports=function(e){return i(e)&&s(e)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},4128:(e,t,n)=>{var s=n(1800),i=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(i,""):e}},4146:(e,t,n)=>{"use strict";var s=n(3404),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return s.isMemo(e)?a:o[e.$$typeof]||i}o[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[s.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,s){if("string"!=typeof n){if(g){var i=h(n);i&&i!==g&&e(t,i,s)}var a=u(n);p&&(a=a.concat(p(n)));for(var o=l(t),f=l(n),v=0;v<a.length;++v){var w=a[v];if(!(r[w]||s&&s[w]||f&&f[w]||o&&o[w])){var m=d(n,w);try{c(t,w,m)}catch(e){}}}}return t}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},4248:e=>{e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length;++n<s;)if(t(e[n],n,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},4394:(e,t,n)=>{var s=n(2552),i=n(346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==s(e)}},4509:(e,t,n)=>{var s=n(2651);e.exports=function(e){return s(this,e).has(e)}},4528:e=>{e.exports=function(e,t){for(var n=-1,s=t.length,i=e.length;++n<s;)e[i+n]=t[n];return e}},4664:(e,t,n)=>{var s=n(9770),i=n(3345),r=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(e){return null==e?[]:(e=Object(e),s(a(e),function(t){return r.call(e,t)}))}:i;e.exports=o},4713:(e,t,n)=>{var s=n(2523),i=n(5389),r=n(1489),a=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:r(n);return l<0&&(l=a(o+l,0)),s(e,i(t,3),l)}},4739:(e,t,n)=>{var s=n(6025);e.exports=function(e){var t=this.__data__,n=s(t,e);return n<0?void 0:t[n][1]}},4840:(e,t,n)=>{var s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=s},4894:(e,t,n)=>{var s=n(1882),i=n(294);e.exports=function(e){return null!=e&&i(e.length)&&!s(e)}},4901:(e,t,n)=>{var s=n(2552),i=n(294),r=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!a[s(e)]}},4912:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},4932:e=>{e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length,i=Array(s);++n<s;)i[n]=t(e[n],n,e);return i}},4974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},5015:(e,t,n)=>{var s=n(2552),i=n(6449),r=n(346);e.exports=function(e){return"string"==typeof e||!i(e)&&r(e)&&"[object String]"==s(e)}},5083:(e,t,n)=>{var s=n(1882),i=n(7296),r=n(3805),a=n(7473),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,p=c.hasOwnProperty,d=RegExp("^"+u.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||i(e))&&(s(e)?d:o).test(a(e))}},5250:(e,t,n)=>{var s=n(7217),i=n(7805),r=n(6649),a=n(2824),o=n(3805),l=n(7241),c=n(4974);e.exports=function e(t,n,u,p,d){t!==n&&r(n,function(r,l){if(d||(d=new s),o(r))a(t,n,l,u,e,p,d);else{var h=p?p(c(t,l),r,l+"",t,n,d):void 0;void 0===h&&(h=r),i(t,l,h)}},l)}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5389:(e,t,n)=>{var s=n(3663),i=n(7978),r=n(3488),a=n(6449),o=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?a(e)?i(e[0],e[1]):s(e):o(e)}},5481:(e,t,n)=>{var s=n(9325)["__core-js_shared__"];e.exports=s},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5529:(e,t,n)=>{var s=n(9344),i=n(8879),r=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:s(i(e))}},5556:(e,t,n)=>{e.exports=n(2694)()},5580:(e,t,n)=>{var s=n(6110)(n(9325),"DataView");e.exports=s},5749:(e,t,n)=>{var s=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=s&&void 0===t?"__lodash_hash_undefined__":t,this}},5861:(e,t,n)=>{var s=n(5580),i=n(8223),r=n(2804),a=n(6545),o=n(8303),l=n(2552),c=n(7473),u="[object Map]",p="[object Promise]",d="[object Set]",h="[object WeakMap]",g="[object DataView]",f=c(s),v=c(i),w=c(r),m=c(a),_=c(o),x=l;(s&&x(new s(new ArrayBuffer(1)))!=g||i&&x(new i)!=u||r&&x(r.resolve())!=p||a&&x(new a)!=d||o&&x(new o)!=h)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,s=n?c(n):"";if(s)switch(s){case f:return g;case v:return u;case w:return p;case m:return d;case _:return h}return t}),e.exports=x},5911:(e,t,n)=>{var s=n(8859),i=n(4248),r=n(9219);e.exports=function(e,t,n,a,o,l){var c=1&n,u=e.length,p=t.length;if(u!=p&&!(c&&p>u))return!1;var d=l.get(e),h=l.get(t);if(d&&h)return d==t&&h==e;var g=-1,f=!0,v=2&n?new s:void 0;for(l.set(e,t),l.set(t,e);++g<u;){var w=e[g],m=t[g];if(a)var _=c?a(m,w,g,t,e,l):a(w,m,g,e,t,l);if(void 0!==_){if(_)continue;f=!1;break}if(v){if(!i(t,function(e,t){if(!r(v,t)&&(w===e||o(w,e,n,a,l)))return v.push(t)})){f=!1;break}}else if(w!==m&&!o(w,m,n,a,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},5950:(e,t,n)=>{var s=n(695),i=n(8984),r=n(4894);e.exports=function(e){return r(e)?s(e):i(e)}},6009:(e,t,n)=>{e=n.nmd(e);var s=n(4840),i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,a=r&&r.exports===i&&s.process,o=function(){try{return r&&r.require&&r.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o},6025:(e,t,n)=>{var s=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(s(e[n][0],t))return n;return-1}},6110:(e,t,n)=>{var s=n(5083),i=n(392);e.exports=function(e,t){var n=i(e,t);return s(n)?n:void 0}},6139:(e,t,n)=>{var s=n(6547),i=n(1791),r=n(999),a=n(4894),o=n(5527),l=n(5950),c=Object.prototype.hasOwnProperty,u=r(function(e,t){if(o(t)||a(t))i(t,l(t),e);else for(var n in t)c.call(t,n)&&s(e,n,t[n])});e.exports=u},6449:e=>{var t=Array.isArray;e.exports=t},6545:(e,t,n)=>{var s=n(6110)(n(9325),"Set");e.exports=s},6547:(e,t,n)=>{var s=n(3360),i=n(5288),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];r.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||s(e,t,n)}},6574:(e,t,n)=>{var s=n(909);e.exports=function(e,t){var n=[];return s(e,function(e,s,i){t(e,s,i)&&n.push(e)}),n}},6649:(e,t,n)=>{var s=n(3221)();e.exports=s},6721:(e,t,n)=>{var s=n(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(s){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},6757:(e,t,n)=>{var s=n(1033),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=i(r.length-t,0),l=Array(o);++a<o;)l[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(l),s(e,this,c)}}},6800:(e,t,n)=>{var s=n(5288),i=n(4894),r=n(361),a=n(3805);e.exports=function(e,t,n){if(!a(n))return!1;var o=typeof t;return!!("number"==o?i(n)&&r(t,n.length):"string"==o&&t in n)&&s(n[t],e)}},6924:(e,t,n)=>{var s=n(5250),i=n(999)(function(e,t,n,i){s(e,t,n,i)});e.exports=i},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6942:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,r(n)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)s.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7068:(e,t,n)=>{var s=n(7217),i=n(5911),r=n(1986),a=n(689),o=n(5861),l=n(6449),c=n(3656),u=n(7167),p="[object Arguments]",d="[object Array]",h="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,v,w){var m=l(e),_=l(t),x=m?d:o(e),y=_?d:o(t),b=(x=x==p?h:x)==h,k=(y=y==p?h:y)==h,j=x==y;if(j&&c(e)){if(!c(t))return!1;m=!0,b=!1}if(j&&!b)return w||(w=new s),m||u(e)?i(e,t,n,f,v,w):r(e,t,x,n,f,v,w);if(!(1&n)){var S=b&&g.call(e,"__wrapped__"),C=k&&g.call(t,"__wrapped__");if(S||C){var P=S?e.value():e,N=C?t.value():t;return w||(w=new s),v(P,N,n,f,w)}}return!!j&&(w||(w=new s),a(e,t,n,f,v,w))}},7167:(e,t,n)=>{var s=n(4901),i=n(7301),r=n(6009),a=r&&r.isTypedArray,o=a?i(a):s;e.exports=o},7197:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},7217:(e,t,n)=>{var s=n(79),i=n(1420),r=n(938),a=n(3605),o=n(9817),l=n(945);function c(e){var t=this.__data__=new s(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=o,c.prototype.set=l,e.exports=c},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7241:(e,t,n)=>{var s=n(695),i=n(2903),r=n(4894);e.exports=function(e){return r(e)?s(e,!0):i(e)}},7255:(e,t,n)=>{var s=n(7422);e.exports=function(e){return function(t){return s(t,e)}}},7296:(e,t,n)=>{var s,i=n(5481),r=(s=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"";e.exports=function(e){return!!r&&r in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7309:(e,t,n)=>{var s=n(2006)(n(4713));e.exports=s},7334:e=>{e.exports=function(e){return function(){return e}}},7400:(e,t,n)=>{var s=n(9374),i=1/0;e.exports=function(e){return e?(e=s(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7422:(e,t,n)=>{var s=n(1769),i=n(7797);e.exports=function(e,t){for(var n=0,r=(t=s(t,e)).length;null!=e&&n<r;)e=e[i(t[n++])];return n&&n==r?e:void 0}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,t,n)=>{var s=n(2552),i=n(346);e.exports=function(e){return i(e)&&"[object Arguments]"==s(e)}},7556:(e,t,n)=>{var s=n(1873),i=n(4932),r=n(6449),a=n(4394),o=s?s.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7564:(e,t,n)=>{"use strict";n(4912)},7612:(e,t,n)=>{var s=n(9770),i=n(6574),r=n(5389),a=n(6449);e.exports=function(e,t){return(a(e)?s:i)(e,r(t,3))}},7670:(e,t,n)=>{var s=n(2651);e.exports=function(e){var t=s(this,e).delete(e);return this.size-=t?1:0,t}},7797:(e,t,n)=>{var s=n(4394);e.exports=function(e){if("string"==typeof e||s(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7805:(e,t,n)=>{var s=n(3360),i=n(5288);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&s(e,t,n)}},7828:(e,t,n)=>{var s=n(9325).Uint8Array;e.exports=s},7978:(e,t,n)=>{var s=n(270),i=n(8156),r=n(631),a=n(8586),o=n(756),l=n(7197),c=n(7797);e.exports=function(e,t){return a(e)&&o(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?r(n,e):s(t,a,3)}}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8096:e=>{e.exports=function(e,t){for(var n=-1,s=Array(e);++n<e;)s[n]=t(n);return s}},8156:(e,t,n)=>{var s=n(7422);e.exports=function(e,t,n){var i=null==e?void 0:s(e,t);return void 0===i?n:i}},8221:(e,t,n)=>{var s=n(3805),i=n(124),r=n(9374),a=Math.max,o=Math.min;e.exports=function(e,t,n){var l,c,u,p,d,h,g=0,f=!1,v=!1,w=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=l,s=c;return l=c=void 0,g=t,p=e.apply(s,n)}function _(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-g>=u}function x(){var e=i();if(_(e))return y(e);d=setTimeout(x,function(e){var n=t-(e-h);return v?o(n,u-(e-g)):n}(e))}function y(e){return d=void 0,w&&l?m(e):(l=c=void 0,p)}function b(){var e=i(),n=_(e);if(l=arguments,c=this,h=e,n){if(void 0===d)return function(e){return g=e,d=setTimeout(x,t),f?m(e):p}(h);if(v)return clearTimeout(d),d=setTimeout(x,t),m(h)}return void 0===d&&(d=setTimeout(x,t)),p}return t=r(t)||0,s(n)&&(f=!!n.leading,u=(v="maxWait"in n)?a(r(n.maxWait)||0,t):u,w="trailing"in n?!!n.trailing:w),b.cancel=function(){void 0!==d&&clearTimeout(d),g=0,l=h=c=d=void 0},b.flush=function(){return void 0===d?p:y(i())},b}},8223:(e,t,n)=>{var s=n(6110)(n(9325),"Map");e.exports=s},8303:(e,t,n)=>{var s=n(6110)(n(9325),"WeakMap");e.exports=s},8329:(e,t,n)=>{var s=n(4894);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!s(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=Object(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););return n}}},8505:(e,t,n)=>{var s=n(9375);e.exports=function e(t,n,i){return s(n)||(i=n||i,n=[]),i=i||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var s=0;s<n.length;s++)t.push({name:s,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}(t,n):s(t)?function(t,n,s){for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],n,s).source);return p(new RegExp("(?:"+i.join("|")+")",d(s)),n)}(t,n,i):function(e,t,n){return h(r(e,n),t,n)}(t,n,i)},e.exports.parse=r,e.exports.compile=function(e,t){return l(r(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e,t){for(var n,s=[],r=0,a=0,o="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var p=n[0],d=n[1],h=n.index;if(o+=e.slice(a,h),a=h+p.length,d)o+=d[1];else{var g=e[a],f=n[2],v=n[3],w=n[4],m=n[5],_=n[6],x=n[7];o&&(s.push(o),o="");var y=null!=f&&null!=g&&g!==f,b="+"===_||"*"===_,k="?"===_||"*"===_,j=n[2]||l,S=w||m;s.push({name:v||r++,prefix:f||"",delimiter:j,optional:k,repeat:b,partial:y,asterisk:!!x,pattern:S?u(S):x?".*":"[^"+c(j)+"]+?"})}}return a<e.length&&(o+=e.substr(a)),o&&s.push(o),s}function a(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function o(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function l(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"==typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var r="",l=t||{},c=(i||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var p=e[u];if("string"!=typeof p){var d,h=l[p.name];if(null==h){if(p.optional){p.partial&&(r+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(s(h)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var g=0;g<h.length;g++){if(d=c(h[g]),!n[u].test(d))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(d)+"`");r+=(0===g?p.prefix:p.delimiter)+d}}else{if(d=p.asterisk?o(h):c(h),!n[u].test(d))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+d+'"');r+=p.prefix+d}}else r+=p}return r}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){s(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,r=!1!==n.end,a="",o=0;o<e.length;o++){var l=e[o];if("string"==typeof l)a+=c(l);else{var u=c(l.prefix),h="(?:"+l.pattern+")";t.push(l),l.repeat&&(h+="(?:"+u+h+")*"),a+=h=l.optional?l.partial?u+"("+h+")?":"(?:"+u+"("+h+"))?":u+"("+h+")"}}var g=c(n.delimiter||"/"),f=a.slice(-g.length)===g;return i||(a=(f?a.slice(0,-g.length):a)+"(?:"+g+"(?=$))?"),a+=r?"$":i&&f?"":"(?="+g+"|$)",p(new RegExp("^"+a,d(n)),t)}},8586:(e,t,n)=>{var s=n(6449),i=n(4394),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(s(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!r.test(e)||null!=t&&e in Object(t)}},8655:(e,t,n)=>{var s=n(6025);e.exports=function(e){return s(this.__data__,e)>-1}},8859:(e,t,n)=>{var s=n(3661),i=n(1380),r=n(1459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new s;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=r,e.exports=a},8879:(e,t,n)=>{var s=n(4335)(Object.getPrototypeOf,Object);e.exports=s},8984:(e,t,n)=>{var s=n(5527),i=n(3650),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!s(e))return i(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9302:(e,t,n)=>{var s=n(3488),i=n(6757),r=n(2865);e.exports=function(e,t){return r(i(e,t,s),e+"")}},9325:(e,t,n)=>{var s=n(4840),i="object"==typeof self&&self&&self.Object===Object&&self,r=s||i||Function("return this")();e.exports=r},9326:(e,t,n)=>{var s=n(1769),i=n(2428),r=n(6449),a=n(361),o=n(294),l=n(7797);e.exports=function(e,t,n){for(var c=-1,u=(t=s(t,e)).length,p=!1;++c<u;){var d=l(t[c]);if(!(p=null!=e&&n(e,d)))break;e=e[d]}return p||++c!=u?p:!!(u=null==e?0:e.length)&&o(u)&&a(d,u)&&(r(e)||i(e))}},9344:(e,t,n)=>{var s=n(3805),i=Object.create,r=function(){function e(){}return function(t){if(!s(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=r},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:(e,t,n)=>{var s=n(4128),i=n(3805),r=n(4394),a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var n=o.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},9375:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9570:(e,t,n)=>{var s=n(7334),i=n(3243),r=n(3488),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:s(t),writable:!0})}:r;e.exports=a},9653:(e,t,n)=>{var s=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new s(t).set(new s(e)),t}},9770:e=>{e.exports=function(e,t){for(var n=-1,s=null==e?0:e.length,i=0,r=[];++n<s;){var a=e[n];t(a,n,e)&&(r[i++]=a)}return r}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9884:(e,t,n)=>{var s=n(1791),i=n(7241);e.exports=function(e){return s(e,i(e))}},9935:e=>{e.exports=function(){return!1}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s](r,r.exports,n),r.loaded=!0,r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{BrowserRouter:()=>ot,HashRouter:()=>lt,Link:()=>gt,MemoryRouter:()=>me,NavLink:()=>wt,Prompt:()=>xe,Redirect:()=>Se,Route:()=>Ae,Router:()=>we,StaticRouter:()=>De,Switch:()=>Be,generatePath:()=>je,matchPath:()=>Te,useHistory:()=>Fe,useLocation:()=>$e,useParams:()=>Ve,useRouteMatch:()=>He,withRouter:()=>Re});const t=window.wp.plugins,s=window.wp.i18n,i=window.wp.components,r=window.wp.compose,a=window.wp.data,o=window.wp.editPost,l=window.wp.element;var c=(0,l.forwardRef)(({icon:e,size:t=24,...n},s)=>(0,l.cloneElement)(e,{width:t,height:t,...n,ref:s}));const u=window.ReactJSXRuntime,p=window.wp.primitives;var d=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})}),h=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{fillRule:"evenodd",d:"M19.75 11H21V8.667L19.875 4H4.125L3 8.667V11h1.25v8.75h15.5V11zm-1.5 0H5.75v7.25H10V13h4v5.25h4.25V11zm-5.5-5.5h2.067l.486 3.24.028.76H12.75v-4zm-3.567 0h2.067v4H8.669l.028-.76.486-3.24zm7.615 3.1l-.464-3.1h2.36l.806 3.345V9.5h-2.668l-.034-.9zM7.666 5.5h-2.36L4.5 8.845V9.5h2.668l.034-.9.464-3.1z",clipRule:"evenodd"})}),g=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M12 9c-.8 0-1.5.7-1.5 1.5S11.2 12 12 12s1.5-.7 1.5-1.5S12.8 9 12 9zm0-5c-3.6 0-6.5 2.8-6.5 6.2 0 .8.3 1.8.9 3.1.5 1.1 1.2 2.3 2 3.6.7 1 3 3.8 3.2 3.9l.4.5.4-.5c.2-.2 2.6-2.9 3.2-3.9.8-1.2 1.5-2.5 2-3.6.6-1.3.9-2.3.9-3.1C18.5 6.8 15.6 4 12 4zm4.3 8.7c-.5 1-1.1 2.2-1.9 3.4-.5.7-1.7 2.2-2.4 3-.7-.8-1.9-2.3-2.4-3-.8-1.2-1.4-2.3-1.9-3.3-.6-1.4-.7-2.2-.7-2.5 0-2.6 2.2-4.7 5-4.7s5 2.1 5 4.7c0 .2-.1 1-.7 2.4z"})}),f=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M18 5.5H6a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5ZM6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm1 5h1.5v1.5H7V9Zm1.5 4.5H7V15h1.5v-1.5ZM10 9h7v1.5h-7V9Zm7 4.5h-7V15h7v-1.5Z"})});const v=(e=null)=>{if(!window.newspack_listings_data)return!1;const{post_type:t,post_types:n}=window.newspack_listings_data;if(null!==e)return e===t;for(const e in n)if(n.hasOwnProperty(e)&&t===n[e].name)return!0;return!1},w=e=>e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,s)=>"#"+t+t+n+n+s+s).substring(1).match(/.{2}/g).map(e=>parseInt(e,16)),m=e=>{switch(e){case"event":return(0,u.jsx)(c,{icon:d});case"marketplace":return(0,u.jsx)(c,{icon:h});case"place":return(0,u.jsx)(c,{icon:g});default:return(0,u.jsx)(c,{icon:f})}},_=(0,r.compose)([(0,a.withSelect)(e=>{const{getEditedPostAttribute:t}=e("core/editor");return{meta:t("meta"),publishDate:t("date")}}),(0,a.withDispatch)(e=>{const{editPost:t}=e("core/editor"),{createNotice:n}=e("core/notices");return{createNotice:n,updateMetaValue:(e,n)=>t({meta:{[e]:n}})}})])(({createNotice:e,meta:t,publishDate:n,updateMetaValue:r})=>{const{is_listing_customer:a=!1,post_type_label:c,post_types:p,self_serve_listing_expiration:d}=window.newspack_listings_data,{newspack_listings_hide_author:h,newspack_listings_hide_publish_date:g,newspack_listings_expiration_date:f}=t,[w]=(0,l.useState)(f);return p?(0,u.jsxs)(o.PluginDocumentSettingPanel,{className:"newspack-listings__editor-sidebar",name:"newspack-listings",title:(0,s.sprintf)(
// translators: %s: listing post type.
// translators: %s: listing post type.
(0,s.__)("%s Settings","newspack-listings"),v()?c:(0,s.__)("Newspack Listings","newspack-listings")),children:[(0,u.jsx)("p",{children:(0,u.jsxs)("em",{children:[(0,s.__)("Overrides","newspack-listings"),(0,u.jsx)(i.ExternalLink,{href:"/wp-admin/admin.php?page=newspack-listings-settings-admin",children:(0,s.__)("global settings","newspack-listings")})]})}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{className:"newspack-listings__toggle-control",label:(0,s.__)("Hide listing author","newspack-listings"),help:(0,s.sprintf)(
// translators: %s: show or hide author byline toggle label.
// translators: %s: show or hide author byline toggle label.
(0,s.__)("%s the author byline for this listing.","newspack-listings"),h?(0,s.__)("Hide","newspack-listings"):(0,s.__)("Show","newspack-listings")),checked:h,onChange:e=>r("newspack_listings_hide_author",e)})}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{className:"newspack-listings__toggle-control",label:(0,s.__)("Hide publish date","newspack-listings"),help:(0,s.sprintf)(
// translators: %s: show or hide publish date toggle label.
// translators: %s: show or hide publish date toggle label.
(0,s.__)("%s the publish and updated dates for this listing.","newspack-listings"),g?(0,s.__)("Hide","newspack-listings"):(0,s.__)("Show","newspack-listings")),checked:g,onChange:e=>r("newspack_listings_hide_publish_date",e)})}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)("div",{className:"hide-time",children:(0,u.jsx)(i.BaseControl,{id:"newspack-listings-expiration-date",help:(0,s.__)("If set, the listing will be automatically unpublished after this date.","newspack-listings"),label:(0,s.__)("Expiration Date","newspack-listings"),children:(0,u.jsx)(i.DateTimePicker,{currentDate:f?new Date(f):null,onChange:t=>{if(a){const i=w?new Date(w):null,r=new Date(n),a=new Date(r.setDate(r.getDate()+parseInt(d))),o=i?new Date(Math.max(a,i)):a;if(0<new Date(t)-o)return e("warning",(0,s.sprintf)(
// translators: %s: warning when listings customer tries to extend expiration beyond allowed range.
// translators: %s: warning when listings customer tries to extend expiration beyond allowed range.
(0,s.__)("Cannot set expiration date beyond %s.","newspack-listings"),o.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})),{id:"newspack-listings__date-error",isDismissible:!0,type:"default"})}return t&&n&&0<=new Date(t)-new Date(n)?r("newspack_listings_expiration_date",t):t?void e("warning",(0,s.__)("Expiration date must be after publish date.","newspack-listings"),{id:"newspack-listings__date-error",isDismissible:!0,type:"default"}):r("newspack_listings_expiration_date","")}})})})})]}):null}),x=window.wp.blocks,y=({size:e=24})=>(0,u.jsxs)(i.SVG,{className:"newspack-logo",width:e,height:e,viewBox:"0 0 24 24",children:[(0,u.jsx)(i.Path,{fill:"#003da5",d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z"}),(0,u.jsx)(i.Path,{fill:"#fff",d:"M16.546 13.97v-1.364h-1.364l1.364 1.364ZM13.97 11.394h2.575V10.03h-3.939l1.364 1.364ZM11.394 8.818h5.152V7.455H10.03l1.364 1.363ZM7.455 7.455l9.09 9.09H13.97l-4.697-4.697v4.697H7.455v-9.09Z"})]}),b=({size:e=24})=>(0,u.jsxs)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",children:[(0,u.jsx)(i.Path,{d:"M5.5 7.5h2v2h-2v-2zM7.5 11.5h-2v2h2v-2zM8.5 7.5h7v2h-7v-2zM15.5 11.5h-7v2h7v-2z"}),(0,u.jsx)(i.Path,{clipRule:"evenodd",d:"M4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625zm11.75 1.5H4.625a.125.125 0 00-.125.125v11.75c0 .069.056.125.125.125h11.75a.125.125 0 00.125-.125V4.625a.125.125 0 00-.125-.125z",fillRule:"evenodd"}),(0,u.jsx)(i.Path,{d:"M21.75 8h-1.5v11c0 .69-.56 1.25-1.249 1.25H6v1.5h13.001A2.749 2.749 0 0021.75 19V8z"})]}),k=window.wp.blockEditor,j=window.wp.apiFetch;var S=n.n(j);const C=window.wp.url;var P=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M18.1823 11.6392C18.1823 13.0804 17.0139 14.2487 15.5727 14.2487C14.3579 14.2487 13.335 13.4179 13.0453 12.2922L13.0377 12.2625L13.0278 12.2335L12.3985 10.377L12.3942 10.3785C11.8571 8.64997 10.246 7.39405 8.33961 7.39405C5.99509 7.39405 4.09448 9.29465 4.09448 11.6392C4.09448 13.9837 5.99509 15.8843 8.33961 15.8843C8.88499 15.8843 9.40822 15.781 9.88943 15.5923L9.29212 14.0697C8.99812 14.185 8.67729 14.2487 8.33961 14.2487C6.89838 14.2487 5.73003 13.0804 5.73003 11.6392C5.73003 10.1979 6.89838 9.02959 8.33961 9.02959C9.55444 9.02959 10.5773 9.86046 10.867 10.9862L10.8772 10.9836L11.4695 12.7311C11.9515 14.546 13.6048 15.8843 15.5727 15.8843C17.9172 15.8843 19.8178 13.9837 19.8178 11.6392C19.8178 9.29465 17.9172 7.39404 15.5727 7.39404C15.0287 7.39404 14.5066 7.4968 14.0264 7.6847L14.6223 9.20781C14.9158 9.093 15.2358 9.02959 15.5727 9.02959C17.0139 9.02959 18.1823 10.1979 18.1823 11.6392Z"})});const N=window.wp.htmlEntities,T=({attributes:e,error:t,post:n})=>{const{showAuthor:r,showCategory:a,showTags:o,showExcerpt:c,showImage:p,showCaption:d}=e,{author:h="",category:g=[],excerpt:f="",media:v={},sponsors:w=!1,tags:m=[],title:_=""}=n,x=(e=>{const t=[];if(!e.id||!e.type)return t;t.push(`type-${e.type}`),(e.category||[]).forEach(e=>t.push(`category-${e.slug}`)),(e.tags||[]).forEach(e=>t.push(`tag-${e.slug}`));const n=e.classes&&Array.isArray(e.classes)?e.classes:[];return t.concat(n)})(n);return(0,u.jsxs)("div",{className:["newspack-listings__listing-post","entry-wrapper"].concat(x).join(" "),children:[t&&(0,u.jsx)(i.Notice,{className:"newspack-listings__error",status:"error",isDismissible:!1,children:t}),p&&n&&v&&v.image&&(0,u.jsxs)("figure",{className:"newspack-listings__listing-featured-media",children:[(0,u.jsx)("img",{className:"newspack-listings__listing-thumbnail",src:v.image,alt:v.caption||_}),d&&v.caption&&(0,u.jsx)("figcaption",{className:"newspack-listings__listing-caption",children:v.caption})]}),n&&(0,u.jsxs)("div",{className:"newspack-listings__listing-meta",children:[w&&0<w.length&&(0,u.jsx)("span",{className:"cat-links sponsor-label",children:(0,u.jsx)("span",{className:"flag",children:w[0].sponsor_flag})}),a&&0<g.length&&!w&&(0,u.jsx)("div",{className:"cat-links",children:g.map((e,t)=>(0,u.jsxs)(l.Fragment,{children:[(0,N.decodeEntities)(e.name),t+1<g.length&&", "]},"index"))}),(0,u.jsx)("h3",{className:"newspack-listings__listing-title",children:(0,N.decodeEntities)(_)}),w&&0<w.length&&(0,u.jsxs)("div",{className:"newspack-listings__sponsors",children:[(0,u.jsx)("span",{className:"sponsor-logos",children:w.map(e=>(0,u.jsx)("img",{src:e.sponsor_logo.src,width:e.sponsor_logo.img_width,height:e.sponsor_logo.img_height,alt:e.sponsor_name},e.sponsor_id))}),(0,u.jsx)("span",{className:"sponsor-byline",children:w.map((e,t)=>(0,s.sprintf)(
// Translators: Sponsorship attribution.
"%1$s%2$s%3$s%4$s",0===t?e.sponsor_byline+" ":"",1<w.length&&t+1===w.length?(0,s.__)("and","newspack-listings"):"",e.sponsor_name,2<w.length&&t+1<w.length?(0,s._x)(",","separator character","newspack-listings"):""))})]}),r&&h&&!w&&(0,u.jsx)("cite",{children:(0,s.__)("By","newpack-listings")+" "+(0,N.decodeEntities)(h)}),c&&f&&(0,u.jsx)(l.RawHTML,{children:f}),o&&m.length&&(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:(0,s.__)("Tagged:","newspack-listings")}),m.map((e,t)=>(0,u.jsxs)(l.Fragment,{children:[(0,N.decodeEntities)(e.name),t+1<m.length&&", "]},"index"))]})]})]})};var A=n(6942),O=n.n(A),L=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M16.5 7.5 10 13.9l-2.5-2.4-1 1 3.5 3.6 7.5-7.6z"})}),E=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),I=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),M=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M8 7h2V5H8v2zm0 6h2v-2H8v2zm0 6h2v-2H8v2zm6-14v2h2V5h-2zm0 8h2v-2h-2v2zm0 6h2v-2h-2v2z"})});const D=({badge:e,badgeLevel:t="info",className:n,checkbox:r,children:a,collapse:o,disabled:p,title:d,description:h,handoff:g,editLink:f,href:v,notification:w,notificationLevel:m,notificationHTML:_,actionContent:x,actionText:y,secondaryActionText:b,secondaryDestructive:k,id:j,image:S,imageLink:C,indent:P,isSmall:N,isMedium:T,simple:A,onClick:D,onSecondaryActionClick:B,isWaiting:R,titleLink:z,toggleChecked:F=!1,toggleOnChange:$,hasGreyHeader:V,hasWhiteHeader:H,noBorder:U,isPending:q,expandable:W=!1,isButtonEnabled:G=!1,draggable:Z=!1,dragIndex:Q,dragWrapperRef:K,onDragCallback:J})=>{const[Y,X]=(0,l.useState)(!1),[ee,te]=(0,l.useState)(!1),[ne,se]=(0,l.useState)(null),[ie,re]=(0,l.useState)(null);(0,l.useEffect)(()=>{K&&!ie&&re(K)},[K?.current]),(0,l.useEffect)(()=>{o&&Y&&X(!1)},[o]);const ae=w||a,oe=O()("newspack-action-card",A&&"newspack-card--is-clickable",V&&"newspack-card--has-grey-header",H&&"newspack-card--has-white-header",ae&&"newspack-card--has-children",P&&"newspack-card--indent",N&&"is-small",T&&"is-medium",r&&"has-checkbox",W&&"is-expandable",Z&&"is-draggable",x&&"has-action-content",n),le=!$||z||p?{}:{onClick:()=>$(!F),tabIndex:"0"},ce=v&&0!==v.indexOf("http"),ue=b&&B,pe=!Array.isArray(e)&&e?[e]:e,de=()=>{return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"newspack-action-card__region newspack-action-card__region-top",children:[$&&(0,u.jsx)(i.ToggleControl,{checked:F,onChange:$,disabled:p}),S&&!$&&(0,u.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:(0,u.jsx)("a",{href:C,children:(0,u.jsx)("div",{className:"newspack-action-card__image",style:(e=S,e?{backgroundImage:`url(${e})`}:{})})})}),r&&!$&&(0,u.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-left",children:(0,u.jsx)("span",{className:O()("newspack-checkbox-icon","is-primary","checked"===r&&"newspack-checkbox-icon--checked",q&&"newspack-checkbox-icon--pending"),children:"checked"===r&&(0,u.jsx)(c,{icon:L})})}),(0,u.jsx)("div",{className:"newspack-action-card__region newspack-action-card__region-center",children:(0,u.jsxs)(xn,{columns:1,gutter:8,noMargin:!0,children:[(0,u.jsxs)("h2",{children:[(0,u.jsxs)("span",{className:"newspack-action-card__title",...le,children:[z&&(0,u.jsx)("a",{href:z,children:d}),!z&&W&&(0,u.jsx)(xt,{isLink:!0,onClick:()=>X(!Y),children:d}),!z&&!W&&d]}),pe?.length&&pe.map((e,n)=>(0,u.jsx)("span",{className:`newspack-action-card__badge newspack-action-card__badge-level-${t}`,children:e},`badge-${n}`))]}),h&&(0,u.jsxs)("p",{children:["string"==typeof h&&h,"function"==typeof h&&h()]})]})}),!W&&(y||ue||x)&&(0,u.jsxs)("div",{className:"newspack-action-card__region newspack-action-card__region-right",children:[x&&x,y&&(g?(0,u.jsx)(fn,{plugin:g,editLink:f,compact:!0,isLink:!0,children:y}):D||ce?(0,u.jsx)(xt,{disabled:p&&!G,isLink:!0,href:v,onClick:D,className:"newspack-action-card__primary_button",children:y}):v?(0,u.jsx)(i.ExternalLink,{href:v,className:"newspack-action-card__primary_button",children:y}):(0,u.jsxs)("div",{className:"newspack-action-card__container",children:[y,R&&(0,u.jsx)(Kn,{isRight:!0})]})),ue&&(0,u.jsx)(xt,{isLink:!0,onClick:B,className:"newspack-action-card__secondary_button",isDestructive:k,children:b})]}),W&&(0,u.jsx)(xt,{onClick:()=>X(!Y),children:(0,u.jsx)(c,{icon:Y?E:I,height:24,width:24})})]}),w&&(0,u.jsxs)("div",{className:"newspack-action-card__notification newspack-action-card__region-children",children:["error"===m&&(0,u.jsx)(Pn,{noticeText:w,isError:!0,rawHTML:_}),"info"===m&&(0,u.jsx)(Pn,{noticeText:w,rawHTML:_}),"success"===m&&(0,u.jsx)(Pn,{noticeText:w,isSuccess:!0,rawHTML:_}),"warning"===m&&(0,u.jsx)(Pn,{noticeText:w,isWarning:!0,rawHTML:_})]}),a&&(W&&Y||!W)&&(0,u.jsx)("div",{className:"newspack-action-card__region-children",children:a})]});var e};if(Z&&ie?.current&&"number"==typeof Q&&J&&j){let e=ie.current.getBoundingClientRect(),t=Array.prototype.slice.call(ie.current.querySelectorAll(".newspack-action-card__draggable-wrapper"));const n=0===Q,r=Q===t.length-1,a=()=>{t=Array.prototype.slice.call(ie.current.querySelectorAll(".newspack-action-card__draggable-wrapper")),e=ie.current.getBoundingClientRect(),ee||(se(Q),te(!0))},o=()=>{null!==ne&&ne!==Q&&J(ne),se(null),te(!1)},l=n=>{const s=n.pageY<=e.top+window.scrollY,i=n.pageY>=e.bottom+window.scrollY,r=n.target.closest(".newspack-action-card__draggable-wrapper");(s||i||r)&&(se(t.indexOf(r)),(0>ne||ne===Q+1)&&se(Q),s&&se(0),i&&se(t.length))};return(0,u.jsx)("div",{className:"newspack-action-card__draggable-wrapper"+(ee?" is-dragging":""),id:`draggable-card-${j}`,children:(0,u.jsx)(i.Draggable,{elementId:`draggable-card-${j}`,transferData:{},onDragStart:a,onDragEnd:o,onDragOver:l,children:({onDraggableStart:e,onDraggableEnd:t})=>(0,u.jsxs)(bt,{className:oe,onClick:A&&D,id:null!=j?j:null,noBorder:U,children:[(0,u.jsxs)("div",{className:"newspack-action-card__draggable-controls",children:[(0,u.jsx)("div",{className:"drag-handle",draggable:!0,onDragStart:e,onDragEnd:t,children:(0,u.jsx)(c,{icon:M,height:18,width:18})}),(0,u.jsxs)("div",{className:"movers",children:[(0,u.jsx)(xt,{icon:E,onClick:()=>J(Q-1),disabled:n,label:(0,s.__)("Move one position up","newspack-plugin")}),(0,u.jsx)(xt,{icon:I,onClick:()=>J(Q+1),disabled:r,label:(0,s.__)("Move one position down","newspack-plugin")})]})]}),(0,u.jsx)(de,{})]})})})}return(0,u.jsx)(bt,{className:oe,onClick:A&&D,id:null!=j?j:null,noBorder:U,children:(0,u.jsx)(de,{})})};var B=n(8221),R=n.n(B);class z extends l.Component{constructor(e){super(e),this.state={suggestions:[],validValues:{},loading:this.isFetchingInfoOnLoad()},this.debouncedUpdateSuggestions=R()(this.updateSuggestions,500)}isFetchingInfoOnLoad=()=>{const{tokens:e,fetchSavedInfo:t}=this.props;return Boolean(e.length&&t)};componentDidMount(){if(this.isFetchingInfoOnLoad()){const{tokens:e,fetchSavedInfo:t}=this.props;t(e).then(e=>{const{validValues:t}=this.state;e.forEach(e=>{t[e.value]=e.label}),this.setState({validValues:t,loading:!1})})}}componentDidUpdate(e){const{tokens:t,fetchSavedInfo:n}=this.props;t!==e.tokens&&this.isFetchingInfoOnLoad()&&n(t).then(e=>{const{validValues:t}=this.state;e.forEach(e=>{t[e.value]=e.label}),this.setState({validValues:t,loading:!1})})}componentWillUnmount(){delete this.suggestionsRequest,this.debouncedUpdateSuggestions.cancel()}getLabelsForValues(e){const{validValues:t}=this.state;return e.reduce((e,n)=>n?n.label?[...e,n.label]:t[n]?[...e,t[n]]:e:e,[])}getValuesForLabels(e){const{returnFullObjects:t}=this.props,{validValues:n}=this.state;return t?e.reduce((e,t)=>(Object.keys(n).forEach(s=>{if(n[s]===t){const n=isNaN(parseInt(s))?s.toString():parseInt(s);e.push({value:n,label:t})}}),e),[]):e.map(e=>Object.keys(n).map(e=>isNaN(parseInt(e))?e.toString():parseInt(e)).find(t=>n[t]===e))}updateSuggestions(e){const{fetchSuggestions:t}=this.props;t&&this.setState({loading:!0},()=>{const n=t(e);n.then(e=>{if(this.suggestionsRequest!==n)return;const{validValues:t}=this.state,s=[...e];e.forEach(e=>{t[e.value]=e.label}),this.setState({suggestions:s,validValues:t,loading:!1})}).catch(()=>{this.suggestionsRequest===n&&this.setState({loading:!1})}),this.suggestionsRequest=n})}handleOnChange(e){const{onChange:t}=this.props;t(this.getValuesForLabels(e))}getTokens(){const{tokens:e}=this.props;return this.getLabelsForValues(e)}render(){const{help:e,label:t="",placeholder:n="",maxLength:s,style:r,__next40pxDefaultSize:a}=this.props,{suggestions:o,loading:l}=this.state,c=["newspack-autocomplete-tokenfield__input-container"];return t&&c.push("has-label"),(0,u.jsxs)("div",{className:"newspack-autocomplete-tokenfield",style:r,children:[(0,u.jsxs)("div",{className:c.join(" "),children:[(0,u.jsx)(i.FormTokenField,{value:this.getTokens(),suggestions:o.map(e=>e.label),onChange:e=>this.handleOnChange(e),onInputChange:e=>this.debouncedUpdateSuggestions(e),label:t,maxLength:s,placeholder:n,__next40pxDefaultSize:a}),l&&(0,u.jsx)(i.Spinner,{})]}),e&&(0,u.jsx)("p",{className:"newspack-autocomplete-tokenfield__help",children:e})]})}}const F=z,$=({fetchSavedPosts:e=!1,fetchSuggestions:t=!1,help:n=(0,s.__)("Begin typing search term, click autocomplete result to select.","newspack-plugin"),hideHelp:r=!1,label:a=(0,s.__)("Search","newspack-plugin"),maxItemsToSuggest:o=0,multiSelect:c=!1,onChange:p=!1,onPostTypeChange:d=!1,postTypes:h=[{slug:"post",label:"Post"}],postTypeLabel:g=(0,s.__)("item","newspack-plugin"),postTypeLabelPlural:f=(0,s.__)("items","newspack-plugin"),selectedItems:v=[],selectedPost:w=0,suggestionsToFetch:m=10})=>{const[_,x]=(0,l.useState)(!0),[y,b]=(0,l.useState)(!1),[k,j]=(0,l.useState)([]),[P,T]=(0,l.useState)(0),[A,O]=(0,l.useState)(h[0].slug),L=["newspack-autocomplete-with-suggestions"];r&&L.push("hide-help"),(0,l.useEffect)(()=>{d&&d(A),x(!0),I(null,0,A).then(e=>{0<e.length&&j(e)}).finally(()=>x(!1))},[A]),(0,l.useEffect)(()=>{y&&I(null,k.length,A).then(e=>{0<e.length&&j(k.concat(e))}).finally(()=>b(!1))},[y]);const E=e||(async(e=[],t=null)=>{const n=t||A,i="post"===n||"page"===n?n+"s":n;return(await S()({path:(0,C.addQueryArgs)("/wp/v2/"+i,{per_page:100,include:e.join(","),_fields:"id,title"})})).map(e=>({value:parseInt(e.id),label:(0,N.decodeEntities)(e.title)||(0,s.__)("(no title)","newspack-plugin")}))}),I=t||(async(e=null,t=0,n=null)=>{const i=n||A,r="post"===i||"page"===i?i+"s":i,a=await S()({parse:!1,path:(0,C.addQueryArgs)("/wp/v2/"+r,{search:e,offset:t,per_page:m,_fields:"id,title"})}),o=parseInt(a.headers.get("x-wp-total")||0),l=await a.json();return T(o),l.reduce((e,t)=>(e.push({value:parseInt(t.id),label:(0,N.decodeEntities)(t?.title.rendered)||(0,s.__)("(no title)","newspack-plugin")}),e),[])}),M=e=>{if(!c)return p(e);const t=w?[...v,w]:[...v];e.forEach(e=>{const n=t.findIndex(t=>parseInt(t.value)===parseInt(e.value));-1<n?t.splice(n,1):t.push(e)}),p(t.map(e=>({...e,postType:A})))},D=e=>{if(c){const t=!!(w?[...v,w]:[...v]).find(t=>parseInt(t.value)===parseInt(e.value)&&t.label===e.label);return(0,u.jsx)(i.CheckboxControl,{checked:t,onChange:()=>M([e]),label:e.label},e.value)}return(0,u.jsx)(i.Button,{isLink:!0,onClick:()=>M([e]),children:e.label},e.value)};return(0,u.jsxs)("div",{className:L.join(" "),children:[0<v.length&&(()=>{const e=w?[...v,w]:v,t=c?(0,s.sprintf)(
// Translators: %1: the length of selections. %2: the selection leabel.
// Translators: %1: the length of selections. %2: the selection leabel.
(0,s.__)("%1$s %2$s selected","newspack-plugin"),e.length,e.length>1?f:g):(0,s.sprintf)(
// Translators: %s: The label for the selection.
// Translators: %s: The label for the selection.
(0,s.__)("Selected %s","newspack-plugin"),g);return(0,u.jsxs)("div",{className:"newspack-autocomplete-with-suggestions__selected-items",children:[(0,u.jsxs)("p",{className:"newspack-autocomplete-with-suggestions__label",children:[t,1<e.length&&(0,s._x)("  ","separator character","newspack-plugin"),1<e.length&&(0,u.jsx)(i.Button,{onClick:()=>p([]),isLink:!0,isDestructive:!0,children:(0,s.__)("Clear all","newspack-plugin")})]}),e.map(t=>(0,u.jsx)(i.Button,{className:"newspack-autocomplete-with-suggestions__selected-item-button",isTertiary:!0,onClick:()=>p(e.filter(e=>e.value!==t.value)),children:t.label},t.value))]})})(),1<h.length&&(0,u.jsx)(i.SelectControl,{label:(0,s.sprintf)(
// Translators: %s: The name of the type.
// Translators: %s: The name of the type.
(0,s.__)("%s type","newspack-plugin"),g.charAt(0).toUpperCase()+g.slice(1)),value:A,options:h.map(e=>({label:e.label,value:e.slug})),onChange:e=>O(e)}),(0,u.jsx)(F,{tokens:[],onChange:M,fetchSuggestions:async e=>I(e,0,A),fetchSavedInfo:e=>E(e),label:a,loading:_,help:!r&&n,returnFullObjects:!0}),(()=>{if(0===k.length)return null;const e=c?"newspack-autocomplete-with-suggestions__search-suggestions-multiselect":"newspack-autocomplete-with-suggestions__search-suggestions";return(0,u.jsxs)(u.Fragment,{children:[!r&&(0,u.jsx)("p",{className:"newspack-autocomplete-with-suggestions__label",children:/* Translators: %s: the name of a post type. */ /* Translators: %s: the name of a post type. */(0,s.sprintf)((0,s.__)("Or, select a recent %s:","newspack-plugin"),g)}),(0,u.jsxs)("div",{className:e,children:[k.map(D),k.length<(o||P)&&(0,u.jsx)(i.Button,{disabled:y,isSecondary:!0,onClick:()=>b(!0),children:y?(0,s.__)("Loading","newspack-plugin"):(0,s.__)("Load more","newspack-plugin")})]})]})})()]})};function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,V(e,t)}const U=window.React;var q=n.n(U),W=n(5556),G=n.n(W);function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Z.apply(null,arguments)}function Q(e){return"/"===e.charAt(0)}function K(e,t){for(var n=t,s=n+1,i=e.length;s<i;n+=1,s+=1)e[n]=e[s];e.pop()}const J=function(e,t){void 0===t&&(t="");var n,s=e&&e.split("/")||[],i=t&&t.split("/")||[],r=e&&Q(e),a=t&&Q(t),o=r||a;if(e&&Q(e)?i=s:s.length&&(i.pop(),i=i.concat(s)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,u=i.length;u>=0;u--){var p=i[u];"."===p?K(i,u):".."===p?(K(i,u),c++):c&&(K(i,u),c--)}if(!o)for(;c--;c)i.unshift("..");!o||""===i[0]||i[0]&&Q(i[0])||i.unshift("");var d=i.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function Y(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const X=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,s){return e(t,n[s])});if("object"==typeof t||"object"==typeof n){var s=Y(t),i=Y(n);return s!==t||i!==n?e(s,i):Object.keys(Object.assign({},t,n)).every(function(s){return e(t[s],n[s])})}return!1};function ee(e){var t=e.pathname,n=e.search,s=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(i+="#"===s.charAt(0)?s:"#"+s),i}function te(e,t,n,s){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",s="",i=t.indexOf("#");-1!==i&&(s=t.substr(i),t=t.substr(0,i));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===s?"":s}}(e),i.state=t):(void 0===(i=Z({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),s?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=J(i.pathname,s.pathname)):i.pathname=s.pathname:i.pathname||(i.pathname="/"),i}function ne(e,t,n){return Math.min(Math.max(e,t),n)}"undefined"==typeof window||!window.document||window.document.createElement;var se=!0,ie="Invariant failed";function re(e,t){if(!e){if(se)throw new Error(ie);var n="function"==typeof t?t():t,s=n?"".concat(ie,": ").concat(n):ie;throw new Error(s)}}var ae=n(8505),oe=n.n(ae);function le(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}n(7564);var ce=n(4146),ue=n.n(ce),pe=1073741823,de="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},he=q().createContext||function(e,t){var n,s,i,r="__create-react-context-"+((de[i="__global_unique_id__"]=(de[i]||0)+1)+"__"),a=function(e){function n(){for(var t,n,s,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).emitter=(n=t.props.value,s=[],{on:function(e){s.push(e)},off:function(e){s=s.filter(function(t){return t!==e})},get:function(){return n},set:function(e,t){n=e,s.forEach(function(e){return e(n,t)})}}),t}H(n,e);var s=n.prototype;return s.getChildContext=function(){var e;return(e={})[r]=this.emitter,e},s.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,s=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(s,i)?(n="function"==typeof t?t(s,i):pe,0!=(n|=0)&&this.emitter.set(e.value,n)):n=0}},s.render=function(){return this.props.children},n}(q().Component);a.childContextTypes=((n={})[r]=G().object.isRequired,n);var o=function(t){function n(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){(0|e.observedBits)&n&&e.setState({value:e.getValue()})},e}H(n,t);var s=n.prototype;return s.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?pe:t},s.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?pe:e},s.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},s.getValue=function(){return this.context[r]?this.context[r].get():e},s.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(q().Component);return o.contextTypes=((s={})[r]=G().object,s),{Provider:a,Consumer:o}},ge=function(e){var t=he();return t.displayName=e,t},fe=ge("Router-History"),ve=ge("Router"),we=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._pendingLocation=e})),n}H(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(t){e._isMounted&&e.setState({location:t})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return q().createElement(ve.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},q().createElement(fe.Provider,{children:this.props.children||null,value:this.props.history}))},t}(q().Component),me=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this).history=function(e){void 0===e&&(e={});var t,n,s=e,i=s.getUserConfirmation,r=s.initialEntries,a=void 0===r?["/"]:r,o=s.initialIndex,l=void 0===o?0:o,c=s.keyLength,u=void 0===c?6:c,p=(t=null,n=[],{setPrompt:function(e){return t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,s,i){if(null!=t){var r="function"==typeof t?t(e,n):t;"string"==typeof r?"function"==typeof s?s(r,i):i(!0):i(!1!==r)}else i(!0)},appendListener:function(e){var t=!0;function s(){t&&e.apply(void 0,arguments)}return n.push(s),function(){t=!1,n=n.filter(function(e){return e!==s})}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];n.forEach(function(e){return e.apply(void 0,t)})}});function d(e){Z(m,e),m.length=m.entries.length,p.notifyListeners(m.location,m.action)}function h(){return Math.random().toString(36).substr(2,u)}var g=ne(l,0,a.length-1),f=a.map(function(e){return te(e,void 0,"string"==typeof e?h():e.key||h())}),v=ee;function w(e){var t=ne(m.index+e,0,m.entries.length-1),n=m.entries[t];p.confirmTransitionTo(n,"POP",i,function(e){e?d({action:"POP",location:n,index:t}):d()})}var m={length:f.length,action:"POP",location:f[g],index:g,entries:f,createHref:v,push:function(e,t){var n="PUSH",s=te(e,t,h(),m.location);p.confirmTransitionTo(s,n,i,function(e){if(e){var t=m.index+1,i=m.entries.slice(0);i.length>t?i.splice(t,i.length-t,s):i.push(s),d({action:n,location:s,index:t,entries:i})}})},replace:function(e,t){var n="REPLACE",s=te(e,t,h(),m.location);p.confirmTransitionTo(s,n,i,function(e){e&&(m.entries[m.index]=s,d({action:n,location:s}))})},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&(e=!1),p.setPrompt(e)},listen:function(e){return p.appendListener(e)}};return m}(t.props),t}return H(t,e),t.prototype.render=function(){return q().createElement(we,{history:this.history,children:this.props.children})},t}(q().Component),_e=function(e){function t(){return e.apply(this,arguments)||this}H(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(q().Component);function xe(e){var t=e.message,n=e.when,s=void 0===n||n;return q().createElement(ve.Consumer,null,function(e){if(e||re(!1),!s||e.staticContext)return null;var n=e.history.block;return q().createElement(_e,{onMount:function(e){e.release=n(t)},onUpdate:function(e,s){s.message!==t&&(e.release(),e.release=n(t))},onUnmount:function(e){e.release()},message:t})})}var ye={},be=1e4,ke=0;function je(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(ye[e])return ye[e];var t=oe().compile(e);return ke<be&&(ye[e]=t,ke++),t}(e)(t,{pretty:!0})}function Se(e){var t=e.computedMatch,n=e.to,s=e.push,i=void 0!==s&&s;return q().createElement(ve.Consumer,null,function(e){e||re(!1);var s=e.history,r=e.staticContext,a=i?s.push:s.replace,o=te(t?"string"==typeof n?je(n,t.params):Z({},n,{pathname:je(n.pathname,t.params)}):n);return r?(a(o),null):q().createElement(_e,{onMount:function(){a(o)},onUpdate:function(e,t){var n=te(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&X(e.state,t.state)})(n,Z({},o,{key:n.key}))||a(o)},to:n})})}var Ce={},Pe=1e4,Ne=0;function Te(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,s=n.path,i=n.exact,r=void 0!==i&&i,a=n.strict,o=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(s).reduce(function(t,n){if(!n&&""!==n)return null;if(t)return t;var s=function(e,t){var n=""+t.end+t.strict+t.sensitive,s=Ce[n]||(Ce[n]={});if(s[e])return s[e];var i=[],r={regexp:oe()(e,i,t),keys:i};return Ne<Pe&&(s[e]=r,Ne++),r}(n,{end:r,strict:o,sensitive:c}),i=s.regexp,a=s.keys,l=i.exec(e);if(!l)return null;var u=l[0],p=l.slice(1),d=e===u;return r&&!d?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:d,params:a.reduce(function(e,t,n){return e[t.name]=p[n],e},{})}},null)}var Ae=function(e){function t(){return e.apply(this,arguments)||this}return H(t,e),t.prototype.render=function(){var e=this;return q().createElement(ve.Consumer,null,function(t){t||re(!1);var n=e.props.location||t.location,s=Z({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Te(n.pathname,e.props):t.match}),i=e.props,r=i.children,a=i.component,o=i.render;return Array.isArray(r)&&function(e){return 0===q().Children.count(e)}(r)&&(r=null),q().createElement(ve.Provider,{value:s},s.match?r?"function"==typeof r?r(s):r:a?q().createElement(a,s):o?o(s):null:"function"==typeof r?r(s):null)})},t}(q().Component);function Oe(e){return"/"===e.charAt(0)?e:"/"+e}function Le(e,t){if(!e)return t;var n=Oe(e);return 0!==t.pathname.indexOf(n)?t:Z({},t,{pathname:t.pathname.substr(n.length)})}function Ee(e){return"string"==typeof e?e:ee(e)}function Ie(e){return function(){re(!1)}}function Me(){}var De=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return Me},t.handleBlock=function(){return Me},t}H(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,s=n.basename,i=void 0===s?"":s,r=n.context,a=void 0===r?{}:r;a.action=t,a.location=function(e,t){return e?Z({},t,{pathname:Oe(e)+t.pathname}):t}(i,te(e)),a.url=Ee(a.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,s=e.context,i=void 0===s?{}:s,r=e.location,a=void 0===r?"/":r,o=le(e,["basename","context","location"]),l={createHref:function(e){return Oe(n+Ee(e))},action:"POP",location:Le(n,te(a)),push:this.handlePush,replace:this.handleReplace,go:Ie(),goBack:Ie(),goForward:Ie(),listen:this.handleListen,block:this.handleBlock};return q().createElement(we,Z({},o,{history:l,staticContext:i}))},t}(q().Component),Be=function(e){function t(){return e.apply(this,arguments)||this}return H(t,e),t.prototype.render=function(){var e=this;return q().createElement(ve.Consumer,null,function(t){t||re(!1);var n,s,i=e.props.location||t.location;return q().Children.forEach(e.props.children,function(e){if(null==s&&q().isValidElement(e)){n=e;var r=e.props.path||e.props.from;s=r?Te(i.pathname,Z({},e.props,{path:r})):t.match}}),s?q().cloneElement(n,{location:i,computedMatch:s}):null})},t}(q().Component);function Re(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,s=le(t,["wrappedComponentRef"]);return q().createElement(ve.Consumer,null,function(t){return t||re(!1),q().createElement(e,Z({},s,t,{ref:n}))})};return n.displayName=t,n.WrappedComponent=e,ue()(n,e)}var ze=q().useContext;function Fe(){return ze(fe)}function $e(){return ze(ve).location}function Ve(){var e=ze(ve).match;return e?e.params:{}}function He(e){var t=$e(),n=ze(ve).match;return e?Te(t.pathname,e):n}function Ue(e){return"/"===e.charAt(0)?e:"/"+e}function qe(e){return"/"===e.charAt(0)?e.substr(1):e}function We(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Ge(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Ze(e){var t=e.pathname,n=e.search,s=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(i+="#"===s.charAt(0)?s:"#"+s),i}function Qe(e,t,n,s){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",s="",i=t.indexOf("#");-1!==i&&(s=t.substr(i),t=t.substr(0,i));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===s?"":s}}(e),i.state=t):(void 0===(i=Z({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),s?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=J(i.pathname,s.pathname)):i.pathname=s.pathname:i.pathname||(i.pathname="/"),i}function Ke(){var e=null,t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,s,i){if(null!=e){var r="function"==typeof e?e(t,n):e;"string"==typeof r?"function"==typeof s?s(r,i):i(!0):i(!1!==r)}else i(!0)},appendListener:function(e){var n=!0;function s(){n&&e.apply(void 0,arguments)}return t.push(s),function(){n=!1,t=t.filter(function(e){return e!==s})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];t.forEach(function(e){return e.apply(void 0,n)})}}}var Je=!("undefined"==typeof window||!window.document||!window.document.createElement);function Ye(e,t){t(window.confirm(e))}var Xe="popstate",et="hashchange";function tt(){try{return window.history.state||{}}catch(e){return{}}}var nt="hashchange",st={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+qe(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:qe,decodePath:Ue},slash:{encodePath:Ue,decodePath:Ue}};function it(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function rt(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function at(e){window.location.replace(it(window.location.href)+"#"+e)}var ot=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this).history=function(e){void 0===e&&(e={}),Je||re(!1);var t,n=window.history,s=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e,a=r.forceRefresh,o=void 0!==a&&a,l=r.getUserConfirmation,c=void 0===l?Ye:l,u=r.keyLength,p=void 0===u?6:u,d=e.basename?Ge(Ue(e.basename)):"";function h(e){var t=e||{},n=t.key,s=t.state,i=window.location,r=i.pathname+i.search+i.hash;return d&&(r=We(r,d)),Qe(r,s,n)}function g(){return Math.random().toString(36).substr(2,p)}var f=Ke();function v(e){Z(N,e),N.length=n.length,f.notifyListeners(N.location,N.action)}function w(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||x(h(e.state))}function m(){x(h(tt()))}var _=!1;function x(e){_?(_=!1,v()):f.confirmTransitionTo(e,"POP",c,function(t){t?v({action:"POP",location:e}):function(e){var t=N.location,n=b.indexOf(t.key);-1===n&&(n=0);var s=b.indexOf(e.key);-1===s&&(s=0);var i=n-s;i&&(_=!0,j(i))}(e)})}var y=h(tt()),b=[y.key];function k(e){return d+Ze(e)}function j(e){n.go(e)}var S=0;function C(e){1===(S+=e)&&1===e?(window.addEventListener(Xe,w),i&&window.addEventListener(et,m)):0===S&&(window.removeEventListener(Xe,w),i&&window.removeEventListener(et,m))}var P=!1,N={length:n.length,action:"POP",location:y,createHref:k,push:function(e,t){var i="PUSH",r=Qe(e,t,g(),N.location);f.confirmTransitionTo(r,i,c,function(e){if(e){var t=k(r),a=r.key,l=r.state;if(s)if(n.pushState({key:a,state:l},null,t),o)window.location.href=t;else{var c=b.indexOf(N.location.key),u=b.slice(0,c+1);u.push(r.key),b=u,v({action:i,location:r})}else window.location.href=t}})},replace:function(e,t){var i="REPLACE",r=Qe(e,t,g(),N.location);f.confirmTransitionTo(r,i,c,function(e){if(e){var t=k(r),a=r.key,l=r.state;if(s)if(n.replaceState({key:a,state:l},null,t),o)window.location.replace(t);else{var c=b.indexOf(N.location.key);-1!==c&&(b[c]=r.key),v({action:i,location:r})}else window.location.replace(t)}})},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return P||(C(1),P=!0),function(){return P&&(P=!1,C(-1)),t()}},listen:function(e){var t=f.appendListener(e);return C(1),function(){C(-1),t()}}};return N}(t.props),t}return H(t,e),t.prototype.render=function(){return q().createElement(we,{history:this.history,children:this.props.children})},t}(q().Component),lt=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this).history=function(e){void 0===e&&(e={}),Je||re(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),s=n.getUserConfirmation,i=void 0===s?Ye:s,r=n.hashType,a=void 0===r?"slash":r,o=e.basename?Ge(Ue(e.basename)):"",l=st[a],c=l.encodePath,u=l.decodePath;function p(){var e=u(rt());return o&&(e=We(e,o)),Qe(e)}var d=Ke();function h(e){Z(S,e),S.length=t.length,d.notifyListeners(S.location,S.action)}var g=!1,f=null;function v(){var e=rt(),t=c(e);if(e!==t)at(t);else{var n=p(),s=S.location;if(!g&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(s,n))return;if(f===Ze(n))return;f=null,function(e){g?(g=!1,h()):d.confirmTransitionTo(e,"POP",i,function(t){t?h({action:"POP",location:e}):function(e){var t=S.location,n=x.lastIndexOf(Ze(t));-1===n&&(n=0);var s=x.lastIndexOf(Ze(e));-1===s&&(s=0);var i=n-s;i&&(g=!0,y(i))}(e)})}(n)}}var w=rt(),m=c(w);w!==m&&at(m);var _=p(),x=[Ze(_)];function y(e){t.go(e)}var b=0;function k(e){1===(b+=e)&&1===e?window.addEventListener(nt,v):0===b&&window.removeEventListener(nt,v)}var j=!1,S={length:t.length,action:"POP",location:_,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=it(window.location.href)),n+"#"+c(o+Ze(e))},push:function(e,t){var n="PUSH",s=Qe(e,void 0,void 0,S.location);d.confirmTransitionTo(s,n,i,function(e){if(e){var t=Ze(s),i=c(o+t);if(rt()!==i){f=t,function(e){window.location.hash=e}(i);var r=x.lastIndexOf(Ze(S.location)),a=x.slice(0,r+1);a.push(t),x=a,h({action:n,location:s})}else h()}})},replace:function(e,t){var n="REPLACE",s=Qe(e,void 0,void 0,S.location);d.confirmTransitionTo(s,n,i,function(e){if(e){var t=Ze(s),i=c(o+t);rt()!==i&&(f=t,at(i));var r=x.indexOf(Ze(S.location));-1!==r&&(x[r]=t),h({action:n,location:s})}})},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},block:function(e){void 0===e&&(e=!1);var t=d.setPrompt(e);return j||(k(1),j=!0),function(){return j&&(j=!1,k(-1)),t()}},listen:function(e){var t=d.appendListener(e);return k(1),function(){k(-1),t()}}};return S}(t.props),t}return H(t,e),t.prototype.render=function(){return q().createElement(we,{history:this.history,children:this.props.children})},t}(q().Component),ct=function(e,t){return"function"==typeof e?e(t):e},ut=function(e,t){return"string"==typeof e?Qe(e,null,null,t):e},pt=function(e){return e},dt=q().forwardRef;void 0===dt&&(dt=pt);var ht=dt(function(e,t){var n=e.innerRef,s=e.navigate,i=e.onClick,r=le(e,["innerRef","navigate","onClick"]),a=r.target,o=Z({},r,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),s())}});return o.ref=pt!==dt&&t||n,q().createElement("a",o)}),gt=dt(function(e,t){var n=e.component,s=void 0===n?ht:n,i=e.replace,r=e.to,a=e.innerRef,o=le(e,["component","replace","to","innerRef"]);return q().createElement(ve.Consumer,null,function(e){e||re(!1);var n=e.history,l=ut(ct(r,e.location),e.location),c=l?n.createHref(l):"",u=Z({},o,{href:c,navigate:function(){var t=ct(r,e.location),s=Ze(e.location)===Ze(ut(t));(i||s?n.replace:n.push)(t)}});return pt!==dt?u.ref=t||a:u.innerRef=a,q().createElement(s,u)})}),ft=function(e){return e},vt=q().forwardRef;void 0===vt&&(vt=ft);var wt=vt(function(e,t){var n=e["aria-current"],s=void 0===n?"page":n,i=e.activeClassName,r=void 0===i?"active":i,a=e.activeStyle,o=e.className,l=e.exact,c=e.isActive,u=e.location,p=e.sensitive,d=e.strict,h=e.style,g=e.to,f=e.innerRef,v=le(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return q().createElement(ve.Consumer,null,function(e){e||re(!1);var n=u||e.location,i=ut(ct(g,n),n),w=i.pathname,m=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=m?Te(n.pathname,{path:m,exact:l,sensitive:p,strict:d}):null,x=!!(c?c(_,n):_),y="function"==typeof o?o(x):o,b="function"==typeof h?h(x):h;x&&(y=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(y,r),b=Z({},b,a));var k=Z({"aria-current":x&&s||null,className:y,style:b,to:i},v);return ft!==vt?k.ref=t||f:k.innerRef=f,q().createElement(gt,k)})});const mt=e,{useHistory:_t}=mt,xt=({href:e,onClick:t,...n})=>{const s=_t(),[r,a]=(0,l.useState)(!1);return e&&t?n.onClick=async()=>{a(!0),await t(),a(!1),s.push((e||"").replace("#",""))}:(n.href=e,n.onClick=t),r&&(n.disabled=!0),(0,u.jsx)(i.Button,{...n})};class yt extends l.Component{render(){const{buttonsCard:e,className:t,headerActions:n,isNarrow:s,isMedium:i,isSmall:r,isWhite:a,noBorder:o,...l}=this.props,c=O()("newspack-card",t,e&&"newspack-card__buttons-card",n&&"newspack-card__header-actions",i&&"newspack-card__is-medium",s&&"newspack-card__is-narrow",r&&"newspack-card__is-small",a&&"newspack-card__is-white",o&&"newspack-card__no-border");return(0,u.jsx)("div",{className:c,...l})}}const bt=yt;var kt=n(7309),jt=n.n(kt),St=n(7612),Ct=n.n(St);class Pt extends l.Component{state={suggestions:{},allCategories:{},isLoading:!1};constructor(e){super(e),this.debouncedUpdateSuggestions=R()(this.updateSuggestions,100)}componentDidMount(){this.setState({isLoading:!0}),S()({path:(0,C.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{per_page:-1,_fields:"id,name"})}).then(e=>this.setState({allCategories:e})).finally(()=>this.setState({isLoading:!1}))}componentWillUnmount(){this.debouncedUpdateSuggestions.cancel()}updateSuggestions(e){this.setState({isLoading:!0}),S()({path:(0,C.addQueryArgs)(`/wp/v2/${this.props.taxonomy}`,{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc"})}).then(e=>{this.setState({suggestions:e.reduce((e,t)=>({...e,[t.name]:t}),{})})}).finally(()=>this.setState({isLoading:!1}))}handleOnChange=e=>{const{onChange:t}=this.props,{suggestions:n}=this.state;t(e.filter(e=>void 0!==e).map(e=>"string"==typeof e?n[e]:e).filter(Boolean))};getAvailableSuggestions=()=>{const{value:e}=this.props,{suggestions:t}=this.state,n=e.reduce((e,t)=>(t?.id&&e.push(t.id),e),[]);return Ct()(t,({id:e})=>-1===n.indexOf(e)).map(e=>e.name)};render(){const{className:e,disabled:t,description:n,hideHelpFromVision:s,hideLabelFromVision:r,label:a,value:o}=this.props,{allCategories:l,isLoading:c}=this.state,p=O()("newspack-category-autocomplete",e);return(0,u.jsxs)("div",{className:p,children:[(0,u.jsx)(un,{onInputChange:e=>this.debouncedUpdateSuggestions(e),value:o.reduce((e,t)=>{const n="number"==typeof t?jt()(l,["id",t]):t;return n&&e.push({id:n.term_id||n.id,value:n.value||n.name}),e},[]),suggestions:this.getAvailableSuggestions(),onChange:this.handleOnChange,label:a,disabled:t,description:n,hideHelpFromVision:s,hideLabelFromVision:r}),c?(0,u.jsx)("span",{className:"newspack-category-autocomplete__suggestions-spinner",children:(0,u.jsx)(i.Spinner,{})}):null]})}}Pt.defaultProps={taxonomy:"categories"};var Nt={grad:.9,turn:360,rad:360/(2*Math.PI)},Tt=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},At=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},Ot=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},Lt=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Et=function(e){return{r:Ot(e.r,0,255),g:Ot(e.g,0,255),b:Ot(e.b,0,255),a:Ot(e.a)}},It=function(e){return{r:At(e.r),g:At(e.g),b:At(e.b),a:At(e.a,3)}},Mt=/^#([0-9a-f]{3,8})$/i,Dt=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},Bt=function(e){var t=e.r,n=e.g,s=e.b,i=e.a,r=Math.max(t,n,s),a=r-Math.min(t,n,s),o=a?r===t?(n-s)/a:r===n?2+(s-t)/a:4+(t-n)/a:0;return{h:60*(o<0?o+6:o),s:r?a/r*100:0,v:r/255*100,a:i}},Rt=function(e){var t=e.h,n=e.s,s=e.v,i=e.a;t=t/360*6,n/=100,s/=100;var r=Math.floor(t),a=s*(1-n),o=s*(1-(t-r)*n),l=s*(1-(1-t+r)*n),c=r%6;return{r:255*[s,o,a,a,l,s][c],g:255*[l,s,s,o,a,a][c],b:255*[a,a,l,s,s,o][c],a:i}},zt=function(e){return{h:Lt(e.h),s:Ot(e.s,0,100),l:Ot(e.l,0,100),a:Ot(e.a)}},Ft=function(e){return{h:At(e.h),s:At(e.s),l:At(e.l),a:At(e.a,3)}},$t=function(e){return Rt((n=(t=e).s,{h:t.h,s:(n*=((s=t.l)<50?s:100-s)/100)>0?2*n/(s+n)*100:0,v:s+n,a:t.a}));var t,n,s},Vt=function(e){return{h:(t=Bt(e)).h,s:(i=(200-(n=t.s))*(s=t.v)/100)>0&&i<200?n*s/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,s,i},Ht=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ut=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Wt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Gt={string:[[function(e){var t=Mt.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?At(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?At(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=qt.exec(e)||Wt.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Et({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=Ht.exec(e)||Ut.exec(e);if(!t)return null;var n,s,i=zt({h:(n=t[1],s=t[2],void 0===s&&(s="deg"),Number(n)*(Nt[s]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return $t(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,s=e.b,i=e.a,r=void 0===i?1:i;return Tt(t)&&Tt(n)&&Tt(s)?Et({r:Number(t),g:Number(n),b:Number(s),a:Number(r)}):null},"rgb"],[function(e){var t=e.h,n=e.s,s=e.l,i=e.a,r=void 0===i?1:i;if(!Tt(t)||!Tt(n)||!Tt(s))return null;var a=zt({h:Number(t),s:Number(n),l:Number(s),a:Number(r)});return $t(a)},"hsl"],[function(e){var t=e.h,n=e.s,s=e.v,i=e.a,r=void 0===i?1:i;if(!Tt(t)||!Tt(n)||!Tt(s))return null;var a=function(e){return{h:Lt(e.h),s:Ot(e.s,0,100),v:Ot(e.v,0,100),a:Ot(e.a)}}({h:Number(t),s:Number(n),v:Number(s),a:Number(r)});return Rt(a)},"hsv"]]},Zt=function(e,t){for(var n=0;n<t.length;n++){var s=t[n][0](e);if(s)return[s,t[n][1]]}return[null,void 0]},Qt=function(e,t){var n=Vt(e);return{h:n.h,s:Ot(n.s+100*t,0,100),l:n.l,a:n.a}},Kt=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Jt=function(e,t){var n=Vt(e);return{h:n.h,s:n.s,l:Ot(n.l+100*t,0,100),a:n.a}},Yt=function(){function e(e){this.parsed=function(e){return"string"==typeof e?Zt(e.trim(),Gt.string):"object"==typeof e&&null!==e?Zt(e,Gt.object):[null,void 0]}(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return At(Kt(this.rgba),2)},e.prototype.isDark=function(){return Kt(this.rgba)<.5},e.prototype.isLight=function(){return Kt(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=It(this.rgba)).r,n=e.g,s=e.b,r=(i=e.a)<1?Dt(At(255*i)):"","#"+Dt(t)+Dt(n)+Dt(s)+r;var e,t,n,s,i,r},e.prototype.toRgb=function(){return It(this.rgba)},e.prototype.toRgbString=function(){return t=(e=It(this.rgba)).r,n=e.g,s=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+s+", "+i+")":"rgb("+t+", "+n+", "+s+")";var e,t,n,s,i},e.prototype.toHsl=function(){return Ft(Vt(this.rgba))},e.prototype.toHslString=function(){return t=(e=Ft(Vt(this.rgba))).h,n=e.s,s=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+s+"%, "+i+")":"hsl("+t+", "+n+"%, "+s+"%)";var e,t,n,s,i},e.prototype.toHsv=function(){return e=Bt(this.rgba),{h:At(e.h),s:At(e.s),v:At(e.v),a:At(e.a,3)};var e},e.prototype.invert=function(){return Xt({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),Xt(Qt(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),Xt(Qt(this.rgba,-e))},e.prototype.grayscale=function(){return Xt(Qt(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),Xt(Jt(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),Xt(Jt(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?Xt({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):At(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=Vt(this.rgba);return"number"==typeof e?Xt({h:e,s:t.s,l:t.l,a:t.a}):At(t.h)},e.prototype.isEqual=function(e){return this.toHex()===Xt(e).toHex()},e}(),Xt=function(e){return e instanceof Yt?e:new Yt(e)},en=[],tn=function(e){var t=e/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},nn=function(e){return.2126*tn(e.r)+.7152*tn(e.g)+.0722*tn(e.b)};const{useHistory:sn}=mt;n(6449),n(6924);const rn=e=>(0,l.useRef)(`${e}-${Math.round(99999*Math.random())}`).current,an=window.wp.keycodes,on={InteractiveDiv:({style:e={},...t})=>(0,u.jsx)("div",{tabIndex:"0",role:"button",onKeyDown:e=>an.ENTER===e.keyCode&&t.onClick(),style:{cursor:"pointer",...e},...t}),confirmAction:e=>!!confirm(e)};!function(e){e.forEach(function(e){en.indexOf(e)<0&&(e(Yt,Gt),en.push(e))})}([function(e){e.prototype.luminance=function(){return e=nn(this.rgba),void 0===(t=2)&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},e.prototype.contrast=function(t){void 0===t&&(t="#FFF");var n,s,i,r,a,o,l,c=t instanceof e?t:new e(t);return r=this.rgba,a=c.toRgb(),n=(o=nn(r))>(l=nn(a))?(o+.05)/(l+.05):(l+.05)/(o+.05),void 0===(s=2)&&(s=0),void 0===i&&(i=Math.pow(10,s)),Math.floor(i*n)/i+0},e.prototype.isReadable=function(e,t){return void 0===e&&(e="#FFF"),void 0===t&&(t={}),this.contrast(e)>=(a=void 0===(r=(n=t).size)?"normal":r,"AAA"===(i=void 0===(s=n.level)?"AA":s)&&"normal"===a?7:"AA"===i&&"large"===a?3:4.5);var n,s,i,r,a}}]);const{InteractiveDiv:ln}=on;class cn extends l.Component{render(){const{className:e,description:t,hideHelpFromVision:n,hideLabelFromVision:s,...r}=this.props,a=O()("newspack-form-token-field__input-container",e);return(0,u.jsxs)("div",{className:O()({"newspack-form-token-field--label-hidden":s,"newspack-form-token-field--help-hidden":n},"newspack-form-token-field"),children:[(0,u.jsx)(i.FormTokenField,{className:a,...r}),t&&(0,u.jsx)("p",{className:"newspack-form-token-field__help",children:t})]})}}const un=cn,pn=({simple:e})=>{const{components_demo:t=!1,support:n=!1,setup_wizard:r=!1,reset_url:a=!1,plugin_version:o={label:"Newspack"},remove_starter_content:l=!1,support_email:c}=window.newspack_urls||{},p=[{label:o.label,url:"https://newspack.com/category/release-notes/",external:!0},{label:(0,s.__)("About","newspack-plugin"),url:"https://newspack.com/",external:!0},{label:(0,s.__)("Documentation","newspack-plugin"),url:n,external:!0}];return t&&p.push({label:(0,s.__)("Components Demo","newspack-plugin"),url:t}),r&&p.push({label:(0,s.__)("Setup Wizard","newspack-plugin"),url:r}),a&&p.push({label:(0,s.__)("Reset Newspack","newspack-plugin"),url:a}),l&&p.push({label:(0,s.__)("Remove Starter Content","newspack-plugin"),url:l}),c&&p.push({label:(0,s.__)("Contact Support","newspack-plugin"),url:`mailto:${c}`}),(0,u.jsx)("div",{className:"newspack-footer",children:!e&&(0,u.jsx)("ul",{children:p.map(({url:e,label:t,external:n},s)=>(0,u.jsx)("li",{children:n?(0,u.jsx)(i.ExternalLink,{href:e,children:t}):(0,u.jsx)("a",{href:e,children:t})},s))})})};var dn=n(6139),hn=n.n(dn);class gn extends l.Component{constructor(){super(...arguments),this.state={pluginInfo:[],showModal:!1}}componentDidMount=()=>{this._isMounted=!0;const{plugin:e}=this.props;this.retrievePluginInfo(e)};componentWillUnmount=()=>{this._isMounted=!1};retrievePluginInfo=e=>{const{onReady:t}=this.props;S()({path:"/newspack/v1/plugins/"+e}).then(e=>{this._isMounted&&(t(e),this.setState({pluginInfo:e}))})};textForPlugin=e=>{const t={modalBody:null,modalTitle:e.Name&&`${(0,s.__)("Manage","newspack-plugin")} ${e.Name}`,primaryButton:e.Name&&`${(0,s.__)("Manage","newspack-plugin")} ${e.Name}`,primaryModalButton:(0,s.__)("Manage","newspack-plugin"),dismissModalButton:(0,s.__)("Dismiss","newspack-plugin")};return hn()(t,this.props)};goToPlugin=e=>{const{editLink:t,showOnBlockEditor:n}=this.props;S()({path:"/newspack/v1/plugins/"+e+"/handoff",method:"POST",data:{editLink:t,handoffReturnUrl:window&&window.location.href,showOnBlockEditor:!!n}}).then(e=>{window.location.href=e.HandoffLink})};render(){const{className:e,children:t,compact:n,useModal:i,modalTitle:r,modalBody:a,onReady:o,editLink:c,...p}=this.props,{pluginInfo:d,showModal:h}=this.state,{modalBody:g,modalTitle:f,primaryButton:v,primaryModalButton:w,dismissModalButton:m}=this.textForPlugin(d),{Configured:_,Name:x,Slug:y,Status:b}=d,k=O()(_&&"is-configured",e);return(0,u.jsxs)(l.Fragment,{children:[x&&"active"===b&&(0,u.jsx)(xt,{className:k,isSecondary:!p.isPrimary&&!p.isTertiary&&!p.isLink,...p,onClick:()=>i?this.setState({showModal:!0}):this.goToPlugin(y),children:t||v}),x&&"active"!==b&&(0,u.jsx)(xt,{className:k,variant:"secondary",disabled:!0,...p,children:x+(0,s.__)(" not installed","newspack-plugin")}),!x&&(0,u.jsx)(xt,{className:k,isSecondary:!p.isPrimary&&!p.isTertiary&&!p.isLink,...p,children:(0,u.jsxs)(l.Fragment,{children:[!n&&(0,u.jsx)(Kn,{isLeft:!0}),(0,s.__)("Retrieving Plugin Info","newspack-plugin")]})}),h&&(0,u.jsxs)(yn,{title:f,onRequestClose:()=>this.setState({showModal:!1}),children:[(0,u.jsx)("p",{children:g}),(0,u.jsxs)(bt,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:[(0,u.jsx)(xt,{variant:"secondary",onClick:()=>this.setState({showModal:!1}),children:m}),(0,u.jsx)(xt,{variant:"primary",onClick:()=>this.goToPlugin(y),children:w})]})]})]})}}gn.defaultProps={onReady:()=>{}};const fn=gn,vn="newspack_wizard_handoff_message";function wn(){const[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{setTimeout(()=>{const e=JSON.parse(localStorage.getItem(vn));t(!!e?.message&&e.message),e?.url&&-1===window.location.href.indexOf(e.url)&&(window.localStorage.removeItem(vn),t(!1))},100)},[]),e?(0,u.jsx)(Pn,{isHandoff:!0,isDismissible:!1,rawHTML:!0,noticeText:e}):null}var mn=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z"})});l.Component,l.Component;const xn=({className:e="",columns:t=2,gutter:n=32,noMargin:s=!1,rowGap:i=0,...r})=>{const a=O()("newspack-grid",s&&"newspack-grid--no-margin",t&&"newspack-grid__columns-"+t,n&&"newspack-grid__gutter-"+n,i&&"newspack-grid__row-gap-"+i,e);return(0,u.jsx)("div",{className:a,...r})},yn=(0,l.forwardRef)(function({className:e,isWide:t,isNarrow:n,hideTitle:s,...r},a){const o=O()("newspack-modal",t&&"newspack-modal--wide",n&&"newspack-modal--narrow",s&&"newspack-modal--hide-title",e);return(0,u.jsx)(i.Modal,{className:o,...r,ref:a})});class bn extends l.Component{render(){const{className:e,simple:t,size:n,white:s}=this.props,r=O()("newspack-icon",t&&"newspack-icon--simple",s&&"newspack-icon--white",e);return(0,u.jsx)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",height:n,width:n,viewBox:"0 0 24 24",className:r,children:(0,u.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6271 18.6271 24 12 24C5.37213 24 0 18.6271 0 12C0 5.3729 5.3729 0 12 0C18.6271 0 24 5.3729 24 12ZM17.4545 17.4546L6.54545 6.54545V17.4545H8.72727V11.8182L14.3636 17.4546H17.4545ZM11.2727 8.18182H17.4545V6.54545H9.63636L11.2727 8.18182ZM17.4545 11.2727H14.3636L12.7273 9.63636H17.4545V11.2727ZM17.4545 12.7273V14.3636L15.8182 12.7273H17.4545Z"})})}}bn.defaultProps={size:32};const kn=bn;var jn=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z"})}),Sn=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M6.13 5.5l1.926 1.927A4.975 4.975 0 007.025 10H5v1.5h2V13H5v1.5h2.1a5.002 5.002 0 009.8 0H19V13h-2v-1.5h2V10h-2.025a4.979 4.979 0 00-1.167-2.74l1.76-1.76-1.061-1.06-1.834 1.834A4.977 4.977 0 0012 5.5c-1.062 0-2.046.33-2.855.895L7.19 4.44 6.13 5.5zm2.37 5v3a3.5 3.5 0 107 0v-3a3.5 3.5 0 10-7 0z",fillRule:"evenodd",clipRule:"evenodd"})});class Cn extends l.Component{render(){const{className:e,debugMode:t,isError:n,isHandoff:s,isHelp:i,isSuccess:r,isWarning:a,noticeText:o,rawHTML:p,style:d={},children:h=null}=this.props,g=O()("newspack-notice",e,t&&"newspack-notice__is-debug",n&&"newspack-notice__is-error",s&&"newspack-notice__is-handoff",i&&"newspack-notice__is-help",r&&"newspack-notice__is-success",a&&"newspack-notice__is-warning");let f;return f=i?jn:r?L:t?Sn:mn,(0,u.jsxs)("div",{className:g,style:d,children:[(0,u.jsx)(c,{icon:f}),(0,u.jsxs)("div",{className:"newspack-notice__content",children:[p?(0,u.jsx)(l.RawHTML,{children:o}):o,h||null]})]})}}const Pn=Cn;class Nn extends l.Component{constructor(){super(...arguments),this.state={pluginInfo:{},installationInitialized:!1}}componentDidMount=()=>{const{plugins:e}=this.props;this.retrievePluginInfo(e).then(()=>{this.props.autoInstall&&this.installAllPlugins()})};componentDidUpdate=e=>{const{autoInstall:t,plugins:n}=this.props,{installationInitialized:s}=this.state;n!==e.plugins&&this.retrievePluginInfo(n),t&&!s&&this.installAllPlugins()};retrievePluginInfo=e=>new Promise(t=>{S()({path:"/newspack/v1/plugins/"}).then(n=>{const s=Object.keys(n).reduce((t,s)=>(-1===e.indexOf(s)||(t[s]={...n[s],installationStatus:"active"===n[s].Status?1:0}),t),{});this.updatePluginInfo(s).then(()=>t())})});installAllPlugins=()=>{const{pluginInfo:e}=this.state;this.setState({installationInitialized:!0}),Object.keys(e).filter(t=>"active"!==e[t].Status).map(e=>()=>this.installPlugin(e)).reduce((e,t)=>e.then(e=>t().then(Array.prototype.concat.bind(e))),Promise.resolve([]))};installPlugin=e=>{this.setInstallationStatus(e,2);const t={path:`/newspack/v1/plugins/${e}/configure/`,method:"post"};return S()(t).then(t=>{const{pluginInfo:n}=this.state;this.props.onInstalled(e),this.updatePluginInfo({...n,[e]:{...t,installationStatus:1}})}).catch(t=>{this.setInstallationStatus(e,3,t.message)})};setChecked=(e,t)=>{const{pluginInfo:n}=this.state;this.updatePluginInfo({...n,[e]:{...n[e],checked:t}})};setInstallationStatus=(e,t,n=null)=>{const{pluginInfo:s}=this.state;this.updatePluginInfo({...s,[e]:{...s[e],installationStatus:t,notification:n}})};updatePluginInfo=e=>new Promise(t=>{const{onStatus:n}=this.props;this.setState({pluginInfo:e},()=>{const s=Object.values(e).every(e=>"active"===e.Status);n({complete:s,pluginInfo:e}),t()})});classForInstallationStatus=e=>{switch(e){case 1:return"newspack-plugin-installer__status-active";case 2:return"newspack-plugin-installer__status-installing";case 3:return"newspack-plugin-installer__status-error";default:return"newspack-plugin-installer__status-none"}};render(){const{autoInstall:e,isSmall:t,withoutFooterButton:n}=this.props,{pluginInfo:i}=this.state,{is_managed:r}=window.newspack_aux_data||{},a=Object.keys(i),o=[];a.forEach(e=>{const t=i[e];o.push(t.Status)});const l=e=>"active"===e||"inactive"===e,p=o.every(l)?(0,s.__)("Activate","newspack-plugin"):(0,s.__)("Install","newspack-plugin"),d=a.some(e=>{const t=i[e];return"active"!==t.Status&&0===t.installationStatus});return(0,u.jsxs)(u.Fragment,{children:[(!i||!Object.keys(i).length)&&(0,u.jsxs)("div",{className:"newspack-plugin-installer_is-waiting",children:[(0,u.jsx)(Kn,{isLeft:!0}),(0,s.__)("Retrieving plugin information","newspack-plugin")]}),i&&a.length>0&&a.map(e=>{const n=i[e],{Name:a,Description:o,Download:p,Status:d,installationStatus:h,notification:g}=n,f=2===h,v=!f&&"active"!==d,w=p||l(d);let m;2===h?m="inactive"===d?(0,s.__)("Activating"):(0,s.__)("Installing"):w?"uninstalled"===d?m=(0,u.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,s.__)("Install","newspack"),(0,u.jsx)("span",{className:"newspack-checkbox-icon"})]}):"inactive"===d?m=(0,u.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,s.__)("Activate","newspack-plugin"),(0,u.jsx)("span",{className:"newspack-checkbox-icon"})]}):"active"===d&&(m=(0,u.jsxs)("span",{className:"newspack-plugin-installer__status",children:[(0,s.__)("Installed","newspack-plugin"),(0,u.jsx)("span",{className:"newspack-checkbox-icon newspack-checkbox-icon--checked",children:(0,u.jsx)(c,{icon:L})})]})):m=(0,u.jsxs)("span",{className:"newspack-plugin-installer__status",children:[r?(0,s.__)("Contact Newspack support to install","newspack-plugin"):(0,s.__)("Plugin must be installed manually","newspack-plugin"),(0,u.jsx)("span",{className:"newspack-checkbox-icon"})]});const _=O()("newspack-action-card__plugin-installer",this.classForInstallationStatus(h)),x=v?()=>this.installPlugin(e):null;return(0,u.jsx)(D,{title:a,description:o,disabled:!w,actionText:m,isSmall:t,isWaiting:f,onClick:x,notification:g,notificationLevel:"error",notificationHTML:!0,className:_},e)}),!n&&!e&&i&&a.length>0&&(0,u.jsx)("div",{className:"newspack-buttons-card",children:(0,u.jsx)(xt,{disabled:!d,isPrimary:!0,onClick:this.installAllPlugins,children:p})})]})}}Nn.defaultProps={onStatus:()=>{},onInstalled:()=>{}};const Tn=Nn,An=window.wp.hooks,On=e=>Array.isArray(e.options)&&e.options.length,Ln=e=>{switch(e.type){case"int":case"integer":case"float":case"number":return"number";case"string":case"text":return"text";case"password":return"password";case"boolean":case"checkbox":return"checkbox";default:return null}},En=e=>{var t;const[n,r]=(0,l.useState)(!0),{error:a,sectionKey:o,active:c,title:p,description:d,fields:h,disabled:g,onChange:f,onUpdate:v}=e,w=e=>({disabled:g,name:`${e.section}_${e.key}`,type:Ln(e),label:e.description,help:e.help||null,options:e.options?.map(e=>({value:e.value,label:e.name||e.label}))||null,value:e.value,multiple:!(!On(e)||!e.multiple)||null,checked:"boolean"===e.type?!!e.value:null,onChange:t=>{f(e.key,t),r(!1)}}),m=(t,n=null)=>(0,An.applyFilters)(`newspack.settingSection.${o}.${t}`,n,e);let _=2;return h.length%3==0?_=3:1===h.length&&(_=1),(0,u.jsx)(D,{id:null!==(t=e.id)&&void 0!==t?t:null,isMedium:!0,disabled:g,title:p,description:d,toggleChecked:c,hasGreyHeader:c||null===c,toggleOnChange:null!==c?e=>v({active:e}):null,actionContent:(c||null===c)&&m("buttons",(0,u.jsx)(xt,{variant:"primary",disabled:g||n,onClick:()=>{v(),r(!0)},children:(0,s.__)("Save Settings","newspack")})),children:(c||null===c)&&(0,u.jsxs)(l.Fragment,{children:[a?.message&&(0,u.jsx)(Pn,{noticeText:a.message,isError:!0}),m("beforeControls"),(0,u.jsx)(xn,{columns:_,gutter:32,children:h.map(e=>{const t=(e=>{if(On(e))return Vn;switch(e.type){case"checkbox":case"boolean":return i.CheckboxControl;default:return Zn}})(e);return(0,An.applyFilters)(`newspack.settingsSection.${o}.control`,(0,u.jsx)(t,{...w(e)},e.key),{sectionKey:o,setting:e,onChange:f})})})]})})};class In extends l.Component{constructor(){super(...arguments),this.state={inFlight:!1,settings:{},error:null}}fetchSettings=()=>{const{afterFetch:e,pluginSlug:t,isWizard:n}=this.props;this.setState({inFlight:!0}),S()({path:n?`/newspack/v1/wizard/${t}/settings`:`/${t}/v1/settings`}).then(t=>{this.setState({settings:t,error:null}),"function"==typeof e&&e(t)}).catch(e=>{this.setState({error:e})}).finally(()=>{this.setState({inFlight:!1})})};componentDidMount(){this.fetchSettings()}getSettingsValues=e=>this.state.settings[e]?.reduce((e,t)=>(e[t.key]=t.value,e),{})||{};handleSettingChange=e=>(t,n)=>{const s=[...this.state.settings[e]];s.forEach(e=>{e.key===t&&(e.value=n)}),this.setState({settings:{...this.state.settings,[e]:s}})};handleSectionUpdate=e=>t=>{const{afterUpdate:n,pluginSlug:s,isWizard:i}=this.props;this.setState({inFlight:!0}),S()({path:i?`/newspack/v1/wizard/${s}/settings`:`/${s}/v1/settings`,method:"POST",data:{section:e,settings:t||this.getSettingsValues(e)}}).then(t=>{this.setState({settings:{...this.state.settings,[e]:t[e]},error:null}),"function"==typeof n&&n(t)}).catch(e=>{this.setState({error:e})}).finally(()=>{this.setState({inFlight:!1})})};getSectionInfo=e=>this.state.settings[e]?.find(e=>!e.key||"active"===e.key);getSectionTitle=e=>this.getSectionInfo(e)?.description;getSectionDescription=e=>this.getSectionInfo(e)?.help;isSectionActive=e=>{const{settings:t}=this.state,n=t[e]?.find(e=>"active"===e.key);return n?n.value:null};getSectionFields=e=>this.state.settings[e]?.filter(e=>e.key&&"active"!==e.key);render(){const{title:e,description:t,hasGreyHeader:n,children:s,titleLevel:i=1}=this.props,{settings:r,inFlight:a,error:o}=this.state;return(0,u.jsxs)(l.Fragment,{children:[e&&(0,u.jsx)(Dn,{title:e,heading:i,description:t}),o&&(0,u.jsx)(Pn,{isError:!0,noticeText:o.message}),(0,u.jsxs)("div",{className:O()("newspack-plugin-settings",{"newspack-wizard-section__is-loading":a&&!Object.keys(r).length}),children:[Object.keys(r).map(e=>(0,u.jsx)(En,{disabled:a,id:`plugin-settings-${e}`,sectionKey:e,title:this.getSectionTitle(e),description:this.getSectionDescription(e),active:this.isSectionActive(e),fields:this.getSectionFields(e),onChange:this.handleSettingChange(e),onUpdate:this.handleSectionUpdate(e),hasGreyHeader:n},e)),s]})]})}}In.defaultProps={title:(0,s.__)("General Settings","newspack-plugin")},In.Section=En;class Mn extends l.Component{render(){const{className:e,padding:t,...n}=this.props,s=O()("newspack-popover",t&&"newspack-popover__padding-"+t,e);return(0,u.jsx)(i.Popover,{className:s,...n})}}Mn.defaultProps={padding:!1};const Dn=({centered:e=!1,className:t=null,description:n="",heading:s=2,isWhite:i=!1,noMargin:r=!1,title:a,id:o=null})=>{const c=(0,l.useRef)();(0,l.useEffect)(()=>{const e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}).scrollTo;e&&e===o&&window.setTimeout(()=>c.current.scrollIntoView({behavior:"smooth"}),250)},[]);const p=O()("newspack-section-header",e&&"newspack-section-header--is-centered",i&&"newspack-section-header--is-white",r&&"newspack-section-header--no-margin",t),d=`h${s}`;return(0,u.jsx)("div",{id:o,className:"newspack-section-header__container",ref:c,children:(0,u.jsxs)(xn,{columns:1,gutter:8,className:p,children:["string"==typeof a&&(0,u.jsx)(d,{children:a}),"function"==typeof a&&(0,u.jsx)(d,{children:a()}),n&&"string"==typeof n&&(0,u.jsx)("p",{children:n}),"function"==typeof n&&(0,u.jsx)("p",{children:n()}),n&&"string"!=typeof n&&"function"!=typeof n&&(0,u.jsx)("p",{children:n})]})})};var Bn=n(2426),Rn=n.n(Bn);function zn({help:e,label:t,onChange:n,optgroups:r=[],className:a,hideLabelFromVision:o,...l}){const p=rn("group-select");return(0,u.jsx)(i.BaseControl,{label:t,hideLabelFromVision:o,id:p,help:e,className:O()(a,"components-select-control"),children:(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsxs)("select",{id:p,className:"components-select-control__input",onChange:e=>{const{value:t}=e.target,s=jt()(r,e=>Rn()(e.options,["value",t]));n(t,s)},"aria-describedby":e?`${p}__help`:void 0,...l,children:[(0,u.jsx)("option",{value:"",children:(0,s.__)("-- Select --","newspack-plugin")}),r.map(({label:e,options:t},n)=>(0,u.jsx)("optgroup",{label:e,children:t.map((e,t)=>(0,u.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},`${e.label}-${e.value}-${t}`))},n))]}),(0,u.jsx)("div",{className:"components-select-control__arrow-wrapper",children:(0,u.jsx)(c,{icon:I,size:18})})]})})}const Fn=({buttonOptions:e,buttonSmall:t,className:n,help:s,hideLabelFromVision:r,label:a,onChange:o,value:l})=>{const p=rn("button-group");return(0,u.jsx)(i.BaseControl,{label:a,help:s,hideLabelFromVision:r,id:p.current,className:O()(n,"components-select-control"),children:(0,u.jsx)(i.ButtonGroup,{children:e.map(e=>{const n=l===e.value;let s=()=>e.label;return e.icon&&(s=()=>(0,u.jsx)(c,{icon:e.icon})),(0,u.jsx)(i.Button,{variant:n?"primary":null,isPressed:n,onClick:()=>o(e.value),isSmall:t,children:(0,u.jsx)(s,{})},e.value)})})})};class $n extends l.Component{render(){const{className:e,optgroups:t,buttonOptions:n,buttonSmall:s,...r}=this.props,a=O()("newspack-select-control",t&&"newspack-grouped-select-control",n&&"newspack-buttons-select-control",e);return(0,u.jsx)("div",{className:a,children:t?(0,u.jsx)(zn,{optgroups:t,...r}):n?(0,u.jsx)(Fn,{buttonOptions:n,buttonSmall:s,...r}):(0,u.jsx)(i.SelectControl,{...r})})}}const Vn=$n;var Hn=n(4713),Un=n.n(Hn);const{NavLink:qn,useHistory:Wn}=mt,Gn=({items:e,className:t,disableUpcoming:n,children:s=null})=>{const i=e.filter(e=>!e.isHiddenInTabbedNavigation),{location:r}=Wn(),a=Un()(i,["path",r.pathname]);return(0,u.jsxs)("div",{className:O()("newspack-tabbed-navigation",t),children:[(0,u.jsx)("ul",{children:i.map((e,t)=>(0,u.jsx)("li",{children:(0,u.jsx)(qn,{to:e.path,isActive:(t,{pathname:n})=>function(e,t,n){return e.path===n||(Array.isArray(e?.activeTabPaths)?e.activeTabPaths.some(t=>{if(t.endsWith("*")){const e=t.slice(0,-1);return n.startsWith(e)}return e.activeTabPaths.includes(n)}):t)}(e,t,n),exact:!e.hasOwnProperty("exact")||e.exact,activeClassName:"selected",className:O()({disabled:n&&t>a}),children:e.label})},t))}),s]})},Zn=({className:e="",required:t=!1,isWide:n=!1,withMargin:r=!0,...a})=>{const o=(0,l.useRef)(null);(0,l.useEffect)(()=>{if(null===o.current)return;const e=o.current.querySelector("label");e&&e.setAttribute("data-required-text",(0,s.__)("(required)","newspack-plugin"))},[o.current]);const c=O()("newspack-text-control",{"newspack-text-control--wide":n,"newspack-text-control--with-margin":r},e);return t?(0,u.jsx)("div",{ref:o,className:"newspack-text-control--required",children:(0,u.jsx)(i.TextControl,{className:c,required:t,...a})}):(0,u.jsx)(i.TextControl,{className:c,...a})};class Qn extends l.Component{render(){const{className:e,isRight:t,isLeft:n,isCenter:s,...r}=this.props,a=O()("newspack-waiting",e,{"is-right":t,"is-left":n,"is-center":s});return(0,u.jsx)(i.Spinner,{className:a,...r})}}const Kn=Qn;var Jn=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),Yn=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),Xn=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),es=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});const ts="newspack-components-web-preview-wrapper";class ns extends l.Component{state={device:"desktop",loaded:!1,isPreviewVisible:!1};constructor(e){super(e),this.iframeRef=(0,l.createRef)()}componentDidMount(){const e=document.getElementById(ts);this.modalDOMElement=e||document.createElement("div"),e||(this.modalDOMElement.id=ts,document.body.appendChild(this.modalDOMElement))}componentDidUpdate(){!0===this.state.isPreviewVisible?document.body.classList.add("newspack-web-preview--open"):document.body.classList.remove("newspack-web-preview--open")}getWebPreviewModal=()=>{const{beforeLoad:e=()=>{},onClose:t=()=>{},url:n}=this.props,{device:r,loaded:a,isPreviewVisible:o}=this.state;if(!this.modalDOMElement||!o)return null;const c=O()("newspack-web-preview",r,a&&"is-loaded");return e(),(0,l.createPortal)((0,u.jsx)("div",{className:c,children:(0,u.jsxs)("div",{className:"newspack-web-preview__interior",children:[(0,u.jsxs)("div",{className:"newspack-web-preview__toolbar",children:[(0,u.jsx)("div",{className:"newspack-web-preview__toolbar-left",children:(0,u.jsxs)(i.ButtonGroup,{children:[(0,u.jsx)(i.Button,{onClick:()=>this.setState({device:"desktop"}),variant:"desktop"===r&&"primary",icon:Jn,label:(0,s.__)("Preview Desktop Size","newspack-plugin")}),(0,u.jsx)(i.Button,{onClick:()=>this.setState({device:"tablet"}),variant:"tablet"===r&&"primary",icon:Yn,label:(0,s.__)("Preview Tablet Size","newspack-plugin")}),(0,u.jsx)(i.Button,{onClick:()=>this.setState({device:"phone"}),variant:"phone"===r&&"primary",icon:Xn,label:(0,s.__)("Preview Phone Size","newspack-plugin")})]})}),(0,u.jsx)("div",{className:"newspack-web-preview__toolbar-right",children:(0,u.jsx)(i.Button,{onClick:()=>{t(),this.setState({isPreviewVisible:!1,loaded:!1})},icon:es,label:(0,s.__)("Close Preview","newspack-plugin")})})]}),(0,u.jsxs)("div",{className:"newspack-web-preview__content",children:[!a&&(0,u.jsxs)("div",{className:"newspack-web-preview__is-waiting",children:[(0,u.jsx)(Kn,{isLeft:!0}),(0,s.__)("Loading","newspack-plugin")]}),(0,u.jsx)("iframe",{ref:this.iframeRef,title:"web-preview",src:n,onLoad:()=>{this.setState({loaded:!0}),this.props.onLoad(this.iframeRef.current)}})]})]})}),this.modalDOMElement)};showPreview=()=>{this.setState({isPreviewVisible:!0})};render(){const{label:e,variant:t,renderButton:n}=this.props;return(0,u.jsxs)(l.Fragment,{children:[n?n({showPreview:this.showPreview}):(0,u.jsx)(i.Button,{variant:t,onClick:this.showPreview,tabIndex:"0",children:e}),this.getWebPreviewModal()]})}}ns.defaultProps={url:"//newspack.com",label:(0,s.__)("Preview","newspack-plugin"),onLoad:()=>{}};var ss=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})}),is=n(3560),rs=n.n(is),as=n(8156),os=n.n(as),ls=n(2193),cs=n.n(ls);const us=e=>t=>({type:e,payload:t}),ps="newspack/wizards",ds={isLoading:!1,isQuietLoading:!1,apiData:{},error:null},hs=e=>JSON.parse(JSON.stringify(e)),gs={startLoadingData:us("START_LOADING_DATA"),finishLoadingData:us("FINISH_LOADING_DATA"),fetchFromAPI:us("FETCH_FROM_API"),setAPIDataForWizard:us("SET_API_DATA"),updateWizardSettings:us("UPDATE_WIZARD_SETTINGS"),setError:us("SET_ERROR"),*saveWizardSettings({slug:e,section:t="",payloadPath:n=!1,auxData:s={},updatePayload:i=null}){i&&(yield gs.updateWizardSettings({slug:e,...i}));const r=(0,a.select)(ps).getWizardAPIData(e),o=n?os()(r,n):r,l=yield gs.fetchFromAPI({path:`/newspack/v1/wizard/${e}/${t}`,method:"POST",data:{...o,...s},isQuietFetch:!0});if(!cs()(l)&&!l.error)return gs.setAPIDataForWizard({slug:e,data:l})},*wizardApiFetch(e){return yield gs.fetchFromAPI(e)}},fs=(0,a.createReduxStore)(ps,{reducer:(e=ds,{type:t,payload:n={}})=>{switch(t){case"START_LOADING_DATA":return n.isQuietLoading?{...e,isQuietLoading:!0}:{...e,isLoading:!0};case"FINISH_LOADING_DATA":return{...e,isLoading:!1,isQuietLoading:!1};case"SET_API_DATA":return rs()(hs(e),["apiData",n.slug],n.data);case"UPDATE_WIZARD_SETTINGS":return rs()(hs(e),["apiData",n.slug,...n.path],n.value);case"SET_ERROR":return{...e,error:n};default:return e}},actions:gs,selectors:{isLoading:e=>e.isLoading,isQuietLoading:e=>e.isQuietLoading,getWizardAPIData:(e,t)=>e.apiData[t]||{},getWizardData:(e,t)=>{var n;return null!==(n=e.apiData[t])&&void 0!==n?n:{}},getError:e=>e.error},controls:{FETCH_FROM_API:e=>{const{isLocalError:t=!1,isQuietFetch:n=!1}=e.payload;return(0,a.dispatch)(ps).startLoadingData({isQuietLoading:Boolean(n)}),S()(e.payload).then(e=>((0,a.dispatch)(ps).setError(null),e)).catch(e=>{if(t)throw e;(0,a.dispatch)(ps).setError(e)}).finally(e=>((0,a.dispatch)(ps).finishLoadingData(),e))}},resolvers:{*getWizardAPIData(e){if(e){const t=yield gs.fetchFromAPI({path:`/newspack/v1/wizard/${e}`});return gs.setAPIDataForWizard({slug:e,data:t})}return gs.finishLoadingData()}}}),vs=()=>{const e=(0,a.useSelect)(e=>e(ps).getError());if(!e)return null;const{level:t,message:n}=(({data:e,message:t,code:n})=>{let s="fatal";return e&&"level"in e?s=e.level:"rest_invalid_param"===n&&(s="notice"),{message:t,level:s}})(e);if("fatal"===t){const e="undefined"!=typeof newspack_urls&&newspack_urls.dashboard;return(0,u.jsxs)(yn,{title:(0,s.__)("Unrecoverable error"),onRequestClose:e?()=>window.location=e:void 0,children:[(0,u.jsx)(Pn,{noticeText:n,isError:!0,rawHTML:!0}),e&&(0,u.jsx)(bt,{buttonsCard:!0,noBorder:!0,className:"justify-end",children:(0,u.jsx)(xt,{isPrimary:!0,href:e,children:(0,s.__)("Return to Dashboard","newspack-plugin")})})]})}return(0,u.jsx)(Pn,{isError:!0,className:"newspack-wizard__above-header",noticeText:n,rawHTML:!0})};(0,a.register)(fs);const{HashRouter:ws,Redirect:ms,Route:_s,Switch:xs}=mt,{Redirect:ys,Route:bs}=((0,l.forwardRef)(({sections:e=[],headerText:t,apiSlug:n,subHeaderText:i,hasSimpleFooter:r,className:o,renderAboveSections:c,requiredPlugins:p=[],isInitialFetchTriggered:d=!0},h)=>{const g=(0,a.useSelect)(e=>e(ps).isLoading()),f=(0,a.useSelect)(e=>e(ps).isQuietLoading());(0,a.useSelect)(e=>d&&e(ps).getWizardAPIData(n));let v=e.filter(e=>!e.isHidden);const[w,m]=(0,l.useState)(0===p.length);w||(t=p.length>1?(0,s.__)("Required plugins","newspack-plugin"):(0,s.__)("Required plugin","newspack-plugin"),v=[{path:"/",render:()=>(0,u.jsx)(Tn,{plugins:p,onStatus:({complete:e})=>m(e)})}]);const _=window.location.href.split("#")[0];return(0,u.jsxs)("div",{ref:h,children:[(0,u.jsx)("div",{className:O()(g?"newspack-wizard__is-loading":"newspack-wizard__is-loaded",{"newspack-wizard__is-loading-quiet":f}),children:(0,u.jsxs)(ws,{hashType:"slash",children:[newspack_aux_data.is_debug_mode&&(0,u.jsx)(Pn,{debugMode:!0}),(0,u.jsx)("div",{className:"bg-white",children:(0,u.jsx)("div",{className:"newspack-wizard__header__inner",children:(0,u.jsxs)("div",{className:"newspack-wizard__title",children:[newspack_urls.dashboard!==_?(0,u.jsx)(xt,{isLink:!0,href:newspack_urls.dashboard,label:(0,s.__)("Return to Dashboard","newspack-plugin"),showTooltip:!0,icon:ss,iconSize:36,children:(0,u.jsx)(kn,{size:36})}):(0,u.jsx)(kn,{size:36}),(0,u.jsxs)("div",{children:[t&&(0,u.jsx)("h2",{children:t}),i&&(0,u.jsx)("span",{children:i})]})]})})}),v.length>1&&(0,u.jsx)(Gn,{items:v,children:(0,u.jsx)(vs,{})}),(0,u.jsx)(wn,{}),(0,u.jsxs)(xs,{children:[v.map((e,t)=>{var n;const s=e.render;return(0,u.jsx)(_s,{exact:null!==(n=e.exact)&&void 0!==n&&n,path:e.path,children:(0,u.jsxs)("div",{className:O()("newspack-wizard__content",o),children:["function"==typeof c?c():null,(0,u.jsx)(s,{})]})},t)}),(0,u.jsx)(ms,{to:v[0].path})]})]})}),!g&&(0,u.jsx)(pn,{simple:r})]})}),mt);n(1882),n(3805),n(5015);class ks extends l.Component{state={showAdvancedFilters:!1};fetchAuthorSuggestions=e=>e?S()({path:(0,C.addQueryArgs)("/wp/v2/users",{search:e,per_page:20,_fields:"id,name"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,N.decodeEntities)(e.name)||(0,s.__)("(no name)","newspack-listings")}))}):new Promise(e=>e([]));fetchSavedAuthors=e=>S()({path:(0,C.addQueryArgs)("/wp/v2/users",{per_page:100,include:e.join(","),_fields:"id,name"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,N.decodeEntities)(e.name)||(0,s.__)("(no name)","newspack-listings")}))});fetchCategorySuggestions=e=>e?S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/terms",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc",taxonomy:"category"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,N.decodeEntities)(e.name)||(0,s.__)("(no title)","newspack-listings")}))}):new Promise(e=>e([]));fetchSavedCategories=e=>S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/terms",{per_page:100,_fields:"id,name",include:e.join(","),taxonomy:"category"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,N.decodeEntities)(e.name)||(0,s.__)("(no title)","newspack-listings")}))});fetchTagSuggestions=e=>e?S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/terms",{search:e,per_page:20,_fields:"id,name",orderby:"count",order:"desc",taxonomy:"post_tag"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,N.decodeEntities)(e.name)||(0,s.__)("(no title)","newspack-listings")}))}):new Promise(e=>e([]));fetchSavedTags=e=>S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/terms",{per_page:100,_fields:"id,name",include:e.join(","),taxonomy:"post_tag"})}).then(function(e){return e.map(e=>({value:e.id,label:(0,N.decodeEntities)(e.name)||(0,s.__)("(no title)","newspack-listings")}))});render=()=>{const{disabled:e,loadMoreText:t,queryOptions:n,setAttributes:r,showAuthor:a,showLoadMore:o}=this.props;if(!n||!r)return null;const{type:c,authors:p,categories:d,categoryExclusions:h,tags:g,tagExclusions:f,maxItems:v,sortBy:w,order:m}=n,{showAdvancedFilters:_}=this.state,{post_types:x}=window.newspack_listings_data,y=x.event.name===c,b=[{label:(0,s.__)("Publish Date","newspack-listings"),value:"date"},{label:(0,s.__)("Title","newspack-listings"),value:"title"}];return y&&b.unshift({label:(0,s.__)("Event Date","newspack-listings"),value:"event_date"}),a&&b.push({label:(0,s.__)("Author","newspack-listings"),value:"author"}),"any"!==c&&c||b.push({label:(0,s.__)("Listing Type","newspack-listings"),value:"type"}),[(0,u.jsx)(i.QueryControls,{disabled:e,...this.props},"queryControls"),(0,u.jsx)(i.SelectControl,{disabled:e,label:(0,s.__)("Listing Type","newspack-listings"),value:c,onChange:e=>r({queryOptions:{...n,type:e}}),options:[{label:(0,s.__)("Any","newspack-listings"),value:"any"},{label:(0,s.__)("Event","newspack-listings"),value:x.event.name},{label:(0,s.__)("Generic","newspack-listings"),value:x.generic.name},{label:(0,s.__)("Marketplace","newspack-listings"),value:x.marketplace.name},{label:(0,s.__)("Place","newspack-listings"),value:x.place.name}]},"type"),(0,u.jsx)(F,{disabled:e,tokens:p||[],onChange:e=>r({queryOptions:{...n,authors:e}}),fetchSuggestions:this.fetchAuthorSuggestions,fetchSavedInfo:this.fetchSavedAuthors,label:(0,s.__)("Authors","newspack-listings")},"authors"),(0,u.jsx)(F,{disabled:e,tokens:d||[],onChange:e=>r({queryOptions:{...n,categories:e}}),fetchSuggestions:this.fetchCategorySuggestions,fetchSavedInfo:this.fetchSavedCategories,label:(0,s.__)("Categories","newspack-listings")},"categories"),(0,u.jsx)(F,{disabled:e,tokens:g||[],onChange:e=>r({queryOptions:{...n,tags:e}}),fetchSuggestions:this.fetchTagSuggestions,fetchSavedInfo:this.fetchSavedTags,label:(0,s.__)("Tags","newspack-listings")},"tags"),(0,u.jsx)(i.RangeControl,{disabled:e,label:(0,s.__)("Max number of items","newspack-listings"),help:(0,s.__)('Maximum number of listings to show at a time. If using the "load more" option, the results will be paginated by this number.',"newspack-listings"),value:v,onChange:e=>r({queryOptions:{...n,maxItems:e}}),min:1,max:50,required:!0},"maxItems"),(0,u.jsx)(i.ToggleControl,{disabled:e,help:(0,s.__)("Will be shown only if there more listings to load.","newspack-listings"),label:(0,s.__)('Show "load more" button',"newspack-listings"),checked:o,onChange:()=>r({showLoadMore:!o})},"loadMore"),o&&(0,u.jsx)(i.TextControl,{disabled:e,label:(0,s.__)('"Load more" button text',"newspack-listings"),value:t,onChange:e=>r({loadMoreText:e})},"loadMoreText"),(0,u.jsx)("p",{children:(0,u.jsx)(i.Button,{isLink:!0,onClick:()=>this.setState({showAdvancedFilters:!_}),children:_?(0,s.__)("Hide Advanced Filters","newspack-listings"):(0,s.__)("Show Advanced Filters","newspack-listings")})},"toggle-advanced-filters"),_&&(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(i.SelectControl,{disabled:e,label:(0,s.__)("Sort By","newspack-listings"),value:w,onChange:e=>r({queryOptions:{...n,sortBy:e}}),options:b}),(0,u.jsx)(i.RadioControl,{disabled:e,label:(0,s.__)("Sort Order","newspack-listings"),selected:m,onChange:e=>r({queryOptions:{...n,order:e}}),options:[{label:(0,s.__)("Ascending","newspack-listings"),value:"ASC"},{label:(0,s.__)("Descending","newspack-listings"),value:"DESC"}]}),(0,u.jsx)(F,{disabled:e,tokens:h||[],onChange:e=>r({queryOptions:{...n,categoryExclusions:e}}),fetchSuggestions:this.fetchCategorySuggestions,fetchSavedInfo:this.fetchSavedCategories,label:(0,s.__)("Excluded Categories","newspack-listings")},"category-exclusion"),(0,u.jsx)(F,{disabled:e,tokens:f||[],onChange:e=>r({queryOptions:{...n,tagExclusions:e}}),fetchSuggestions:this.fetchTagSuggestions,fetchSavedInfo:this.fetchSavedTags,label:(0,s.__)("Excluded Tags","newspack-listings")},"tag-exclusion")]})]}}const js=ks;let Ss;const Cs=(0,r.compose)([(0,a.withSelect)((e,t)=>{const{getBlocksByClientId:n,getSelectedBlockClientId:s}=e("core/block-editor"),{getBlockType:i}=e("core/blocks"),r=n(t.clientId)[0].innerBlocks||[];return{canUseMapBlock:!!i("jetpack/map"),selectedBlock:s(),innerBlocks:r}}),(0,a.withDispatch)(e=>{const{insertBlocks:t,removeBlocks:n,selectBlock:s,updateBlockAttributes:i}=e("core/block-editor");return{insertBlocks:t,removeBlocks:n,selectBlock:s,updateBlockAttributes:i}})])(({attributes:e,canUseMapBlock:t,className:n,clientId:r,innerBlocks:a,insertBlocks:o,isSelected:p,removeBlocks:d,selectBlock:h,selectedBlock:g,setAttributes:v,updateBlockAttributes:m})=>{const[_,y]=(0,l.useState)(null),[j,N]=(0,l.useState)(!1),[A,O]=(0,l.useState)([]),{showNumbers:L,showMap:E,showSortUi:I,showAuthor:M,showExcerpt:D,showImage:B,showCaption:R,minHeight:z,showCategory:F,showTags:$,mediaPosition:V,typeScale:H,imageScale:U,textColor:q,backgroundColor:W,startup:G,queryMode:Z,queryOptions:Q,queriedListings:K,showLoadMore:J,loadMoreText:Y}=e,X=!!window.newspack_listings_data.no_listings||!1,ee=a.find(e=>"newspack-listings/list-container"===e.name),te=a.find(e=>"jetpack/map"===e.name),ne=((e,t)=>{const{backgroundColor:n,hasDarkBackground:s,queryMode:i,showNumbers:r,showMap:a,showSortUi:o,showImage:l,mediaPosition:c,typeScale:u,imageScale:p}=t,d=[e,"newspack-listings__curated-list"];return r&&d.push("show-numbers"),a&&d.push("show-map"),o&&d.push("has-sort-ui"),l&&(d.push("show-image"),d.push(`media-position-${c}`),d.push(`media-size-${p}`)),n&&(s&&d.push("has-dark-background"),d.push("has-background-color")),i&&d.push("query-mode"),d.push(`type-scale-${u}`),d})(n,e),se=(()=>{const e=(0,l.useRef)(!0);return(0,l.useEffect)(()=>{e.current=!1},[]),e.current})(),ie=async e=>{if(!j&&Z){N(!0);try{y(null);const t=await S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/listings",{query:{maxItems:100,...e},_fields:"id,title,author,category,tags,excerpt,media,meta,type,sponsors,classes"})});if(v({listingIds:t.map(e=>e.id)}),v({queriedListings:t}),0===t.length)throw"No posts matching query options. Try selecting different or less specific query options."}catch(e){y(e)}N(!1)}};(0,l.useEffect)(()=>{se?ie(Q):(clearTimeout(Ss),Ss=setTimeout(()=>{ie(Q)},500))},[JSON.stringify(Q),Z]),(0,l.useEffect)(()=>{v({isSelected:p})},[p]),(0,l.useEffect)(()=>{if(!t)return;let e=[];e=Z?K.reduce((e,t)=>(t.meta&&t.meta.newspack_listings_locations&&t.meta.newspack_listings_locations.map(t=>(re(t)&&e.push(t),e)),e),[]):ee?ee.innerBlocks.reduce((e,t)=>(t.attributes.locations&&0<t.attributes.locations.length&&t.attributes.locations.map(t=>(re(t)&&e.push(t),e)),e),[]):[],O(e)},[ee,JSON.stringify(K),Z]),(0,l.useEffect)(()=>{if(!Z&&ee){const e=ee.innerBlocks.map(e=>parseInt(e.attributes.listing));v({listingIds:e})}},[ee]),(0,l.useEffect)(()=>{if(!se&&t)if(E&&0<A.length)if(te)m(te.clientId,{points:A});else{if(0===A.length)return;const e=(0,x.createBlock)("jetpack/map",{points:A});o([e],0,r)}else te&&d([te.clientId])},[E,JSON.stringify(A)]),(0,l.useEffect)(()=>{if(!Z&&!ee){const e=(0,x.createBlock)("newspack-listings/list-container");o([e],null,r)}},[ee]),(0,l.useEffect)(()=>{ee&&g===ee.clientId&&h(r)},[g]),(0,l.useEffect)(()=>{if(W){const e=(e=>{const t=w(e),n=w("#000"),s=.2126*Math.pow(t[0]/255,2.2)+.7152*Math.pow(t[1]/255,2.2)+.0722*Math.pow(t[2]/255,2.2),i=.2126*Math.pow(n[0]/255,2.2)+.7152*Math.pow(n[1]/255,2.2)+.0722*Math.pow(n[2]/255,2.2);return s>i?parseInt((s+.05)/(i+.05)):parseInt((i+.05)/(s+.05))})(W);if(e<5)return v({hasDarkBackground:!0})}v({hasDarkBackground:!1})},[W]),(0,l.useEffect)(()=>{ee&&m([ee.clientId].concat(ee.innerBlocks.map(e=>e.clientId)),e,!1)},[JSON.stringify(e)]);const re=e=>!!(e&&e.id&&e.coordinates&&e.coordinates.latitude&&e.coordinates.longitude),ae=[{value:1,label:/* translators: label for small size option */ /* translators: label for small size option */(0,s.__)("Small","newspack-listings"),shortName:/* translators: abbreviation for small size */ /* translators: abbreviation for small size */(0,s.__)("S","newspack-listings")},{value:2,label:/* translators: label for medium size option */ /* translators: label for medium size option */(0,s.__)("Medium","newspack-listings"),shortName:/* translators: abbreviation for medium size */ /* translators: abbreviation for medium size */(0,s.__)("M","newspack-listings")},{value:3,label:/* translators: label for large size option */ /* translators: label for large size option */(0,s.__)("Large","newspack-listings"),shortName:/* translators: abbreviation for large size */ /* translators: abbreviation for large size */(0,s.__)("L","newspack-listings")},{value:4,label:/* translators: label for extra large size option */ /* translators: label for extra large size option */(0,s.__)("Extra Large","newspack-listings"),shortName:/* translators: abbreviation for extra large size */ /* translators: abbreviation for extra large size */(0,s.__)("XL","newspack-listings")}];return X?(0,u.jsx)(i.Placeholder,{icon:(0,u.jsx)(b,{}),label:(0,s.__)("Curated List","newspack-listings"),children:(0,u.jsx)(i.Notice,{isDismissible:!1,children:(0,s.__)("Your site doesnt have any listings. Create some to get started.")})}):G?(0,u.jsx)("div",{className:"newspack-listings__placeholder",children:(0,u.jsx)(k.__experimentalBlockVariationPicker,{icon:(0,u.jsx)(b,{}),label:(0,s.__)("Curated List","newspack-listings"),instructions:(0,s.__)("Select the type of list to start with."),onSelect:e=>{e.name&&"query"===e.name?v({queryMode:!0,startup:!1}):v({startup:!1})},variations:[{name:"query",title:(0,s.__)("Query","newspack-listings"),icon:(0,u.jsx)(c,{icon:P})},{name:"specific",title:(0,s.__)("Specific Listings","newspack-listings"),icon:(0,u.jsx)(c,{icon:f})}]})}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(k.InspectorControls,{children:[Z&&(0,u.jsx)(i.PanelBody,{title:(0,s.__)("Query Settings","newspack-listings"),children:(0,u.jsx)(js,{disabled:j,setAttributes:v,queryOptions:Q,showAuthor:M,showLoadMore:J,loadMoreText:Y})}),(0,u.jsxs)(i.PanelBody,{title:(0,s.__)("List Settings","newspack-listings"),children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show list item numbers","newspack-listings"),checked:L,onChange:()=>v({showNumbers:!L})})}),t&&(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show map","newspack-listings"),help:(0,s.sprintf)(
// translators: %d: maximum number of items to display on the map.
// translators: %d: maximum number of items to display on the map.
(0,s.__)("The map will display locations for up to %d items in the list, regardless of the current number of items shown.","newspack-listings"),100),checked:E,onChange:()=>v({showMap:!E})})}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show sort UI","newspack-listings"),checked:I,onChange:()=>v({showSortUi:!I})})})]}),(0,u.jsxs)(i.PanelBody,{title:(0,s.__)("Featured Image Settings","newspack-listings"),children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show Featured Image","newspack-listings"),checked:B,onChange:()=>v({showImage:!B})})}),B&&(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show Featured Image Caption","newspack-listings"),checked:R,onChange:()=>v({showCaption:!R})})}),(0,u.jsx)(i.SelectControl,{label:(0,s.__)("Featured Image Position","newspack-listings"),value:V,onChange:e=>v({mediaPosition:e}),options:[{label:(0,s.__)("Top","newspack-listings"),value:"top"},{label:(0,s.__)("Left","newspack-listings"),value:"left"},{label:(0,s.__)("Right","newspack-listings"),value:"right"}]})]}),B&&"top"!==V&&"behind"!==V&&(0,u.jsx)(l.Fragment,{children:(0,u.jsx)(i.BaseControl,{label:(0,s.__)("Featured Image Size","newspack-listings"),id:"newspackfeatured-image-size",children:(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ButtonGroup,{id:"newspackfeatured-image-size","aria-label":(0,s.__)("Featured Image Size","newspack-listings"),children:ae.map(e=>{const t=U===e.value;return(0,u.jsx)(i.Button,{isLarge:!0,isPrimary:t,"aria-pressed":t,"aria-label":e.label,onClick:()=>v({imageScale:e.value}),children:e.shortName},e.value)})})})})}),B&&"behind"===V&&(0,u.jsx)(i.RangeControl,{label:(0,s.__)("Minimum height","newspack-listings"),help:(0,s.__)("Sets a minimum height for the block, using a percentage of the screen's current height.","newspack-listings"),value:z,onChange:e=>v({minHeight:e}),min:0,max:100,required:!0})]}),(0,u.jsxs)(i.PanelBody,{title:(0,s.__)("Post Control Settings","newspack-listings"),children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show Excerpt","newspack-listings"),checked:D,onChange:()=>v({showExcerpt:!D})})}),(0,u.jsx)(i.RangeControl,{className:"type-scale-slider",label:(0,s.__)("Type Scale","newspack-listings"),value:H,onChange:e=>v({typeScale:e}),min:1,max:10,required:!0})]}),(0,u.jsx)(k.PanelColorSettings,{title:(0,s.__)("Color Settings","newspack-listings"),initialOpen:!0,colorSettings:[{value:q,onChange:e=>v({textColor:e}),label:(0,s.__)("Text Color","newspack-listings")},{value:W,onChange:e=>v({backgroundColor:e}),label:(0,s.__)("Background Color","newspack-listings")}]}),(0,u.jsxs)(i.PanelBody,{title:(0,s.__)("Meta Settings","newspack-listings"),children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show Author","newspack-listings"),checked:M,onChange:()=>v({showAuthor:!M})})}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show Category","newspack-listings"),checked:F,onChange:()=>v({showCategory:!F})})}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{label:(0,s.__)("Show Tags","newspack-listings"),checked:$,onChange:()=>v({showTags:!$})})})]})]}),(0,u.jsx)("div",{className:"newspack-listings__curated-list-editor",children:(0,u.jsxs)("div",{className:ne.join(" "),style:{backgroundColor:W||"#fff",color:q||"#000"},children:[Z&&_&&(0,u.jsx)(i.Notice,{className:"newspack-listings__error",status:"error",isDismissible:!1,children:_}),(0,u.jsx)(k.InnerBlocks,{allowedBlocks:["jetpack/map","newspack-listings/list-container"],template:[["newspack-listings/list-container"]],templateInsertUpdatesSelection:!1,renderAppender:()=>null}),j&&Z&&(0,u.jsx)(i.Placeholder,{children:(0,u.jsx)(i.Spinner,{})}),!j&&Z&&K.map((t,n)=>(0,u.jsxs)("div",{className:"newspack-listings__listing-editor newspack-listings__listing",children:[(0,u.jsx)(T,{attributes:e,error:_,post:t}),(0,u.jsx)(i.Button,{isLink:!0,href:`/wp-admin/post.php?post=${t.id}&action=edit`,target:"_blank",children:(0,s.__)("Edit this listing","newspack-listings")})]},n)),!j&&Z&&J&&Q.maxItems<K.length&&(0,u.jsx)(i.Button,{className:"newspack-listings__load-more",isPrimary:!0,children:Y})]})})]})}),Ps=JSON.parse('{"UU":"newspack-listings/curated-list","L1":"newspack","uK":{"className":{"type":"string","default":""},"isSelected":{"type":"boolean","default":false},"showNumbers":{"type":"boolean","default":true},"showMap":{"type":"boolean","default":false},"showSortUi":{"type":"boolean","default":false},"showAuthor":{"type":"boolean","default":false},"showExcerpt":{"type":"boolean","default":true},"showImage":{"type":"boolean","default":true},"showCaption":{"type":"boolean","default":false},"imageShape":{"type":"string","default":"landscape"},"minHeight":{"type":"integer","default":0},"showCategory":{"type":"boolean","default":false},"showTags":{"type":"boolean","default":false},"mediaPosition":{"type":"string","default":"top"},"categories":{"type":"array","default":[],"items":{"type":"integer"}},"tags":{"type":"array","default":[],"items":{"type":"integer"}},"tagExclusions":{"type":"array","default":[],"items":{"type":"integer"}},"typeScale":{"type":"integer","default":4},"imageScale":{"type":"integer","default":3},"textColor":{"type":"string","default":""},"backgroundColor":{"type":"string","default":""},"hasDarkBackground":{"type":"boolean","default":false},"startup":{"type":"boolean","default":true},"queryMode":{"type":"boolean","default":false},"queryOptions":{"type":"object","default":{"type":null,"authors":[],"categories":[],"tags":[],"categoryExclusions":[],"tagExclusions":[],"maxItems":10,"sortBy":"date","order":"DESC"}},"listingIds":{"type":"array","default":[]},"queriedListings":{"type":"array","default":[]},"showLoadMore":{"type":"boolean","default":false},"loadMoreText":{"type":"string","default":"Load more listings"}}}'),{uK:Ns,L1:Ts,UU:As}=Ps,Os=JSON.parse('{"UU":"newspack-listings/event-dates","L1":"newspack","uK":{"startDate":{"type":"string","default":false},"endDate":{"type":"string","default":false},"showTime":{"type":"boolean","default":false},"showEnd":{"type":"boolean","default":false}}}'),{uK:Ls,L1:Es,UU:Is}=Os;var Ms=(0,u.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)(p.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})});const Ds=(0,r.compose)([(0,a.withSelect)((e,t)=>{const{clientId:n}=t,{getBlock:s}=e("core/block-editor");return{innerBlocks:s(n).innerBlocks||[]}}),(0,a.withDispatch)(e=>{const{insertBlock:t,removeBlocks:n,updateBlockAttributes:s}=e("core/block-editor");return{insertBlock:t,removeBlocks:n,updateBlockAttributes:s}})])(({attributes:e,clientId:t,innerBlocks:n})=>{const{queryMode:r,queryOptions:a,showSortUi:o}=e,{order:l}=a;return r&&!o?null:(0,u.jsxs)("div",{className:"newspack-listings__list-container",children:[(0,u.jsx)(k.InspectorControls,{children:(0,u.jsx)(i.PanelRow,{className:"newspack-listings__list-container-spinner",children:(0,u.jsx)(i.Spinner,{})})}),!r&&n&&0===n.length&&(0,u.jsx)(i.Notice,{className:"newspack-listings__info",status:"info",isDismissible:!1,children:(0,s.__)("This list is empty. Click the [+] button to add some listings.")}),o&&(0,u.jsxs)("div",{className:"newspack-listings__sort-ui",children:[(0,u.jsxs)("section",{children:[(0,u.jsx)("label",{className:"newspack-listings__sort-ui-label",htmlFor:`newspack-listings__sort-by-${t}`,children:(0,s.__)("Sort by:","newspack-listings")}),(0,u.jsx)("select",{disabled:!0,className:"newspack-listings__sort-select-control",id:`newspack-listings__sort-by-${t}`,children:(0,u.jsx)("option",{value:"",selected:!0,children:(0,s.__)("Sort by","newspack-listings")})})]}),(0,u.jsxs)("section",{children:[(0,u.jsx)("label",{className:"newspack-listings__sort-ui-label",htmlFor:`sort-buttons-${t}`,children:(0,s.__)("Sort order:","newspack-listings")}),(0,u.jsxs)("div",{id:`sort-buttons-${t}`,children:[(0,u.jsx)("input",{disabled:!0,id:`sort-ascending-${t}`,type:"radio",name:"newspack-listings__sort-order",value:"ASC",checked:r&&"ASC"===l}),(0,u.jsx)("label",{htmlFor:`sort-ascending-${t}`,children:(0,s.__)("Ascending","newspack-listings")})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("input",{disabled:!0,id:`sort-descending-${t}`,type:"radio",name:"newspack-listings__sort-order",value:"DESC",checked:r&&"DESC"===l}),(0,u.jsx)("label",{htmlFor:`sort-descending-${t}`,children:(0,s.__)("Descending","newspack-listings")})]})]})]}),(0,u.jsx)(k.InnerBlocks,{allowedBlocks:["newspack-listings/event","newspack-listings/generic","newspack-listings/marketplace","newspack-listings/place"],renderAppender:()=>r?null:(0,u.jsx)(k.InnerBlocks.ButtonBlockAppender,{})})]})}),Bs=Ps.uK,Rs=(0,a.withSelect)(e=>{const{getBlock:t,getBlockParents:n}=e("core/block-editor");return{getBlock:t,getBlockParents:n}})(({attributes:e,clientId:t,getBlock:n,getBlockParents:r,name:a,setAttributes:o})=>{const[c,p]=(0,l.useState)(null),[d,h]=(0,l.useState)(null),[g,f]=(0,l.useState)(!1),{listing:v}=e,w=r(t).reduce((e,t)=>{const s=n(t);return"newspack-listings/list-container"===s.name&&(e.listContainer=s),e},{}).listContainer.innerBlocks.reduce((e,t)=>(t.attributes.listing&&e.push(t.attributes.listing),e),[]),{post_types:_}=window.newspack_listings_data,x=a.split("/").slice(-1)[0],y=_[x];(0,l.useEffect)(()=>{!c&&v&&b(v)},[v]);const b=async e=>{try{h(null);const t=await S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/listings",{per_page:100,id:e,_fields:"id,title,author,category,tags,excerpt,media,meta,type,sponsors,classes"})});if(0===t.length)throw`No posts found for ID ${e}. Try refreshing or selecting a new post.`;const n=t[0];n.meta&&n.meta.newspack_listings_locations&&o({locations:n.meta.newspack_listings_locations}),p(n)}catch(e){h(e)}};return!v||g?(0,u.jsxs)(i.Placeholder,{className:"newspack-listings__listing-search",label:(k=x,k[0].toUpperCase()+k.slice(1)),icon:m(x),children:[(0,u.jsx)($,{label:(0,s.__)("Search for a","newspack-listings")+x+(0,s.__)("listing to display.","newspack-listings"),fetchSavedPosts:async e=>(await S()({path:(0,C.addQueryArgs)("newspack-listings/v1/listings",{per_page:100,include:e.join(","),_fields:"id,title"})})).map(e=>({value:e.id,label:(0,N.decodeEntities)(e.title)||(0,s.__)("(no title)","newspack-listings")})),fetchSuggestions:async e=>(await S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/listings",{search:e,per_page:10,_fields:"id,title",type:y})})).reduce((e,t)=>(w.indexOf(t.id)<0&&w.indexOf(t.id.toString())<0&&e.push({value:t.id,label:(0,N.decodeEntities)(t.title)||(0,s.__)("(no title)","newspack-listings")}),e),[]),postType:y,postTypeSlug:x,maxLength:1,onChange:e=>{e.length&&(f(!1),p(null),o({listing:e.shift().value.toString()}))},selectedPost:g?null:v,listItems:w}),v&&(0,u.jsx)(i.Button,{isPrimary:!0,onClick:()=>f(!1),children:(0,s.__)("Cancel","newspack-listings")})]}):c||d?(0,u.jsxs)("div",{className:"newspack-listings__listing-editor newspack-listings__listing",children:[(0,u.jsx)(T,{attributes:e,error:d,post:c}),c&&(0,u.jsx)(i.Button,{isLink:!0,href:`/wp-admin/post.php?post=${c.id}&action=edit`,target:"_blank",children:(0,s.__)("Edit this listing","newspack-listings")})]}):(0,u.jsx)(i.Placeholder,{className:"newspack-listings__listing-search is-loading",label:x[0].toUpperCase()+x.slice(1),icon:m(x),children:(0,u.jsx)(i.Spinner,{})});var k}),zs=JSON.parse('{"L1":"newspack","uK":{"className":{"type":"string","default":""},"listing":{"type":"string","default":""},"locations":{"type":"array","default":[]}}}'),Fs=Ps.uK,{uK:$s,L1:Vs}=zs,{post_types:Hs}=window.newspack_listings_data;var Us=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"M10.7 9.6c.3-.2.8-.4 1.3-.4s1 .2 1.3.4c.3.2.4.5.4.6 0 .4.3.8.8.8s.8-.3.8-.8c0-.8-.5-1.4-1.1-1.9-.4-.3-.9-.5-1.4-.6v-.3c0-.4-.3-.8-.8-.8s-.8.3-.8.8v.3c-.5 0-1 .3-1.4.6-.6.4-1.1 1.1-1.1 1.9s.5 1.4 1.1 1.9c.6.4 1.4.6 2.2.6h.2c.5 0 .9.2 1.1.4.3.2.4.5.4.6s0 .4-.4.6c-.3.2-.8.4-1.3.4s-1-.2-1.3-.4c-.3-.2-.4-.5-.4-.6 0-.4-.3-.8-.8-.8s-.8.3-.8.8c0 .8.5 1.4 1.1 1.9.4.3.9.5 1.4.6v.3c0 .4.3.8.8.8s.8-.3.8-.8v-.3c.5 0 1-.3 1.4-.6.6-.4 1.1-1.1 1.1-1.9s-.5-1.4-1.1-1.9c-.5-.4-1.2-.6-1.9-.6H12c-.6 0-1-.2-1.3-.4-.3-.2-.4-.5-.4-.6s0-.4.4-.6ZM12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8Zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5Z"})});const qs=JSON.parse('{"UU":"newspack-listings/price","L1":"newspack","uK":{"price":{"type":"number","default":0},"currency":{"type":"string","default":""},"formattedPrice":{"type":"string","default":""},"showDecimals":{"type":"boolean","default":true}}}'),{uK:Ws,L1:Gs,UU:Zs}=qs;var Qs=(0,u.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,u.jsx)(p.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})});const{self_serve_listing_types:Ks=[],self_serve_listing_expiration:Js=30}=window.newspack_listings_data||{},Ys=JSON.parse('{"UU":"newspack-listings/self-serve-listings","L1":"newspack","uK":{"allowedSingleListingTypes":{"type":"array","default":[{"slug":"blank","name":"Blank listing (start from scratch)"},{"slug":"event","name":"Event"},{"slug":"classified","name":"Classified Ad"},{"slug":"job","name":"Job Listing"},{"slug":"real-estate","name":"Real Estate Listing"}]},"allowSubscription":{"type":"boolean","default":true},"allowedPurchases":{"type":"string","default":"both"},"buttonText":{"type":"string","default":"Next"},"clientId":{"type":"string","default":""},"singleDescription":{"type":"string","default":"Purchase a single Marketplace or Event listing."},"subscriptionDescription":{"type":"string","default":"Purchase a monthly subscription for a listing to represent your business or organization."}}}'),{uK:Xs,L1:ei,UU:ti}=Ys,ni=window.wp.date,si=(0,r.compose)([(0,a.withSelect)(e=>{const{getCurrentPostId:t,getEditedPostAttribute:n,isAutosavingPost:s,isSavingPost:i}=e("core/editor");return{isSavingPost:i()&&!s(),meta:n("meta"),postId:t()}}),(0,a.withDispatch)(e=>{const{editPost:t}=e("core/editor"),{createNotice:n}=e("core/notices");return{updateMetaValue:(e,n)=>t({meta:{[e]:n}}),setIsDirty:()=>t({editorShouldAllowSave:!0}),createNotice:n}})])(({createNotice:e,isSavingPost:t,meta:n,postId:r,setIsDirty:a,updateMetaValue:c})=>{const[p,d]=(0,l.useState)(null),[h,g]=(0,l.useState)(null),{newspack_listings_featured:f,newspack_listings_featured_expires:v}=n;return(0,l.useEffect)(()=>{p&&e("error",p,{id:"newspack-listings__featured-error",isDismissible:!0})},[p]),(0,l.useEffect)(()=>{if(t){const e=f?h:0;S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/priority",{post_id:r,priority:e}),method:"POST"}).then(e=>{if(!1===e)throw new Error((0,s.__)("There was an error updating the feature priority for this post. Please try saving again.","newspack-listings"))}).catch(e=>{d(e?.message||(0,s.__)("There was an error updating the feature priority for this post. Please try saving again.","newspack-listings"))})}},[t]),(0,l.useEffect)(()=>{d(null),f&&!h&&S()({path:(0,C.addQueryArgs)("/newspack-listings/v1/priority",{post_id:r})}).then(e=>{const t=((e=0)=>!(isNaN(e)||0>e||9<e)&&parseInt(e))(e);!1!==t&&g(e)}).catch(e=>{d(e?.message||(0,s.__)("There was an error fetching the priority for this post. Please refresh the editor.","newspack-listings"))})},[f]),(0,u.jsxs)(o.PluginDocumentSettingPanel,{className:"newspack-listings__editor-sidebar-featured",name:"newspack-listings-featured",title:(0,s.__)("Featured Listing Settings","newspack-listings"),children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{className:"newspack-listings__toggle-control",label:(0,s.__)("Featured Listing","newspack-listings"),help:(0,s.sprintf)(
// translators: %s: feature status.
// translators: %s: feature status.
(0,s.__)("This listing is %sfeatured.","newspack-listings"),f?(0,s.__)("","newspack-listings"):(0,s.__)("not","newspack-listings")),checked:f,onChange:e=>c("newspack_listings_featured",e)})}),f&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.RangeControl,{disabled:null===h&&null===p,label:(0,s.__)("Priority Level","newspack-listings"),help:(0,s.__)("Relative importance of the featured item. Higher numbers mean higher priority.","newspack-listings"),value:h||5,onChange:e=>{a(),g(e)},min:1,max:9,required:!0})}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsxs)(i.BaseControl,{id:"newspack-listings__featured-listing-expiration",label:(0,s.__)("Expiration Date","newspack-listings"),children:[(0,u.jsx)(i.DatePicker,{currentDate:v?new Date(v):null,onMonthPreviewed:()=>{},onChange:e=>{const t=new Date(e),n=new Date(t.getFullYear(),t.getMonth(),t.getDate());c("newspack_listings_featured_expires",(0,ni.dateI18n)("Y-m-d\\TH:i:s",n))}}),v&&(0,u.jsx)(i.Button,{isLink:!0,onClick:()=>c("newspack_listings_featured_expires",""),children:(0,s.__)("Reset","newspack-listings")})]})})]})]})}),{post_type:ii,post_types:ri,is_listing_customer:ai=!1,self_serve_enabled:oi}=window?.newspack_listings_data;v()?(ii&&((0,t.registerPlugin)("newspack-listings-editor",{render:_,icon:null}),ai||(0,t.registerPlugin)("newspack-listings-featured",{render:si,icon:null})),v(ri.event.name)&&(0,x.registerBlockType)(Is,{title:(0,s.__)("Event Dates","newspack-listings"),icon:{src:d,foreground:"#003da5"},category:Es,keywords:[(0,s.__)("curated","newspack-listings"),(0,s.__)("list","newspack-listings"),(0,s.__)("lists","newspack-listings"),(0,s.__)("listings","newspack-listings"),(0,s.__)("latest","newspack-listings"),(0,s.__)("event","newspack-listings"),(0,s.__)("events","newspack-listings")],attributes:Ls,edit:({attributes:e,clientId:t,setAttributes:n})=>{const{endDate:r,showEnd:o,showTime:c,startDate:p}=e,{createNotice:d}=(0,a.useDispatch)("core/notices"),h=["newspack-listings__event-dates"];return c||h.push("hide-time"),(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(k.InspectorControls,{children:(0,u.jsxs)(i.PanelBody,{title:(0,s.__)("Event Dates Settings"),children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{className:"newspack-listings__event-time-toggle",label:(0,s.__)("Show Times","newspack-listings"),checked:c,onChange:()=>n({showTime:!c})})}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{className:"newspack-listings__event-time-toggle",label:(0,s.sprintf)(
// translators: %s: end date/time label.
// translators: %s: end date/time label.
(0,s.__)("Show End %s","newspack-listings"),c?(0,s.__)("Time","newspack-listings"):(0,s.__)("Date","newspack-listings")),checked:o,onChange:()=>{n({showEnd:!o}),n({endDate:""})}})})]})}),(0,u.jsx)("div",{className:h.join(" "),children:(0,u.jsxs)("div",{className:"newspack-listings__event-dates-controls",children:[(0,u.jsxs)(i.BaseControl,{id:`event-start-date-${t}`,label:(0,s.sprintf)(
// translators: %1$s: start date/time label, %2$s: start date/time label.
// translators: %1$s: start date/time label, %2$s: start date/time label.
(0,s.__)("Event %1$s %2$s","newspack-listings"),o?(0,s.__)("Start","newspack-listings"):"",c?(0,s.__)("Time","newspack-listings"):(0,s.__)("Date","newspack-listings")),children:[(0,u.jsx)(i.DateTimePicker,{currentDate:p?new Date(p):null,is12Hour:!0,onChange:e=>{if(!e||!r||r&&0<=new Date(r)-new Date(e))return n({startDate:e});d("warning",(0,s.__)("Event end must be after event start.","newspack-listings"),{id:"newspack-listings__date-error",isDismissible:!0,type:"default"})}}),!c&&p&&(0,u.jsx)(i.Button,{isLink:!0,onClick:()=>n({startDate:""}),children:(0,s.__)("Reset","newspack-listings")})]}),o&&(0,u.jsxs)(i.BaseControl,{id:`event-end-date-${t}`,label:(0,s.sprintf)(
// translators: %s: end date/time label.
// translators: %s: end date/time label.
(0,s.__)("Event End %s","newspack-listings"),c?(0,s.__)("Time","newspack-listings"):(0,s.__)("Date","newspack-listings")),children:[(0,u.jsx)(i.DateTimePicker,{currentDate:r?new Date(r):null,is12Hour:!0,onChange:e=>{if(!e||!p||p&&0<=new Date(e)-new Date(p))return n({endDate:e});d("warning",(0,s.__)("Event end must be after event start.","newspack-listings"),{id:"newspack-listings__date-error",isDismissible:!0,type:"default"})}}),!c&&r&&(0,u.jsx)(i.Button,{isLink:!0,onClick:()=>n({endDate:""}),children:(0,s.__)("Reset","newspack-listings")})]})]})})]})},save:()=>null}),v(ri.marketplace.name)&&(0,x.registerBlockType)(Zs,{title:(0,s.__)("Price","newspack-listings"),icon:{src:Us,foreground:"#003da5"},category:Gs,keywords:[(0,s.__)("curated","newspack-listings"),(0,s.__)("list","newspack-listings"),(0,s.__)("lists","newspack-listings"),(0,s.__)("listings","newspack-listings"),(0,s.__)("latest","newspack-listings"),(0,s.__)("price","newspack-listings")],attributes:Ws,edit:({attributes:e,isSelected:t,setAttributes:n})=>{const{currencies:r={},currency:a="USD"}=window.newspack_listings_data,o=window.navigator?.language||"en-US",{currency:c,formattedPrice:p,price:d,showDecimals:h}=e;return(0,l.useEffect)(()=>{(isNaN(d)||""===d||0>d)&&n({price:0})},[t]),(0,l.useEffect)(()=>{const e=isNaN(d)||""===d||0>d?0:d;n({formattedPrice:new Intl.NumberFormat(o,{style:"currency",currency:c||a,minimumFractionDigits:h?2:0,maximumFractionDigits:h?2:0}).format(e)})},[c,h,d]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.InspectorControls,{children:(0,u.jsxs)(i.PanelBody,{title:(0,s.__)("Price Settings"),children:[0<Object.keys(r).length&&(0,u.jsx)(i.SelectControl,{label:(0,s.__)("Select currency","newspack-listings"),value:c||a,onChange:e=>n({currency:e}),options:Object.keys(r).map(e=>({value:e,label:`${(0,N.decodeEntities)(r[e])} (${e})`})).sort((e,t)=>e.label.toUpperCase().localeCompare(t.label.toUpperCase()))}),(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.ToggleControl,{className:"newspack-listings__decimals-toggle",label:(0,s.__)("Show decimals","newspack-listings"),help:(0,s.__)("If disabled, the price shown will be rounded to the nearest integer.","newspack-listings"),checked:h,onChange:e=>n({showDecimals:e})})})]})}),t?(0,u.jsx)(i.Placeholder,{icon:Us,label:(0,s.__)("Price","newspack-listings"),isColumnLayout:!0,children:(0,u.jsx)(i.TextControl,{label:(0,s.sprintf)(
// translators: %s: currency.
// translators: %s: currency.
(0,s.__)("Price in %s","newspack-listings"),c||a),type:"number",value:d,onChange:e=>{n({price:parseFloat(e<0?0:e)})}})}):(0,u.jsx)("p",{className:"newspack-listings__price has-large-font-size",children:(0,u.jsx)("strong",{children:p})})]})},save:()=>null})):((()=>{const e=(0,x.getCategories)();e.find(({slug:e})=>"newspack"===e)||(0,x.setCategories)([...e.filter(({slug:e})=>"newspack"!==e),{slug:"newspack",title:"Newspack",icon:(0,u.jsx)(y,{})}])})(),(0,x.registerBlockType)(As,{title:(0,s.__)("Curated List","newspack-listings"),icon:{src:(0,u.jsx)(b,{}),foreground:"#003da5"},category:Ts,keywords:[(0,s.__)("curated","newspack-listings"),(0,s.__)("list","newspack-listings"),(0,s.__)("lists","newspack-listings"),(0,s.__)("listings","newspack-listings"),(0,s.__)("latest","newspack-listings")],attributes:Ns,edit:Cs,save:()=>(0,u.jsx)(k.InnerBlocks.Content,{})}),(0,x.registerBlockType)("newspack-listings/list-container",{title:(0,s.__)("Container","newspack-listings"),icon:{src:Ms,foreground:"#003da5"},category:"newspack",parent:["newspack-listings/curated-list"],keywords:[(0,s.__)("curated","newspack-listings"),(0,s.__)("list","newspack-listings"),(0,s.__)("lists","newspack-listings"),(0,s.__)("listings","newspack-listings"),(0,s.__)("latest","newspack-listings")],attributes:Bs,supports:{inserter:!1},edit:Ds,save:()=>(0,u.jsx)(k.InnerBlocks.Content,{})}),(()=>{for(const e in Hs)Hs.hasOwnProperty(e)&&(0,x.registerBlockType)(`newspack-listings/${e}`,{title:e.charAt(0).toUpperCase()+e.slice(1),icon:{src:m(e),foreground:"#003da5"},category:Vs,parent:["newspack-listings/list-container"],keywords:[(0,s.__)("lists","newspack-listings"),(0,s.__)("listings","newspack-listings"),(0,s.__)("latest","newspack-listings")],attributes:Object.assign($s,Fs),supports:{inserter:Hs[e].show_in_inserter||!1},edit:Rs,save:()=>null})})(),oi&&(0,x.registerBlockType)(ti,{title:(0,s.__)("Listings: Self-Serve Form","newspack-listings"),icon:{src:Qs,foreground:"#003da5"},category:ei,keywords:[(0,s.__)("list","newspack-listings"),(0,s.__)("listings","newspack-listings"),(0,s.__)("self","newspack-listings"),(0,s.__)("serve","newspack-listings")],attributes:Xs,edit:({attributes:e,clientId:t,setAttributes:n})=>{const[r,a]=(0,l.useState)("single"),[o,c]=(0,l.useState)(null),{allowedSingleListingTypes:p,allowSubscription:d,allowedPurchases:h,buttonText:g,singleDescription:f,subscriptionDescription:v}=e;(0,l.useEffect)(()=>{n({clientId:t})},[t]),(0,l.useEffect)(()=>{!1===d&&n({allowedPurchases:"single-only"})},[d]);const w=["newspack-listings__self-serve-form","wpbnbd",h];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(k.InspectorControls,{children:(0,u.jsxs)(i.PanelBody,{title:(0,s.__)("Self-Serve Listing Settings"),children:[(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.SelectControl,{label:(0,s.__)("Purchase Types Allowed","newspack-listings"),help:(0,s.sprintf)((0,s.__)("Allow readers to purchase %s.","newspack-listings"),(()=>{switch(h){case"both":return(0,s.__)("both single listings and subscriptions","newspack-listings");case"single-only":return(0,s.__)("single listings only","newspack-listings");case"subscription-only":return(0,s.__)("subscription listings only","newspack-listings")}})()),onChange:e=>n({allowedPurchases:e,allowSubscription:!0}),value:!1===d?"single-only":h,options:[{label:(0,s.__)("Single listings and subscriptions","newspack-listings"),value:"both"},{label:(0,s.__)("Single listings only","newspack-listings"),value:"single-only"},{label:(0,s.__)("Subscriptions only","newspack-listings"),value:"subscription-only"}]})}),"subscription-only"!==h&&(0,u.jsx)(i.BaseControl,{id:"newspack-listings-allowed-single-listing-types",help:(0,s.__)("Choose which listing types users are allowed to purchase.","newspack-listings"),label:(0,s.__)("Allowed Single Listing Types","newspack-listings"),children:Ks.map(e=>{const t=p.reduce((t,n)=>n.slug===e.slug||t,!1);return(0,u.jsx)(i.PanelRow,{children:(0,u.jsx)(i.CheckboxControl,{label:e.name,checked:t,onChange:i=>{if(c(null),i&&t||!i&&!t)return!1;let r=[...p];if(i?r.push(e):r=p.filter(t=>t.slug!==e.slug),0===r.length)return c((0,s.__)("You must allow at least one listing type for purchase.","newspack-listings")),!1;n({allowedSingleListingTypes:r})}})},e.slug)})}),o&&(0,u.jsx)(i.Notice,{className:"newspack-listings__error",status:"error",isDismissible:!1,children:o})]})}),(0,u.jsx)("div",{className:w.join(" "),children:(0,u.jsxs)("form",{children:[(0,u.jsxs)("div",{className:"frequencies",children:[("subscription-only"!==h||!1===d)&&(0,u.jsxs)("div",{className:"newspack-listings__form-tabs frequency",children:[(0,u.jsx)("input",{name:"listing-purchase-type",className:"newspack-listings__tab-input",id:`listing-single-${t}`,type:"radio",value:"listing-single",checked:"single"===r||"single-only"===h||!1===d,onClick:()=>a("single")}),(0,u.jsx)("label",{className:"freq-label listing-single",htmlFor:"listing-single",onClick:()=>a("single"),children:(0,s.__)("Single Listing")}),(0,u.jsxs)("div",{className:"input-container listing-details",children:[(0,u.jsx)(k.RichText,{onChange:e=>n({singleDescription:e}),placeholder:(0,s.__)("Description text for your single listing product","newspack-listings"),value:f,tagName:"p"}),Js&&(0,u.jsx)("p",{className:"newspack-listings__help",children:(0,s.sprintf)((0,s.__)("Single-purchase listings expire %d days after the date of publication.","newspack-listings"),Js)}),(0,u.jsx)("hr",{}),(0,u.jsx)("h3",{children:(0,s.__)("Listing Details","newspack-listings")}),(0,u.jsx)("label",{htmlFor:`listing-title-single-${t}`,children:(0,s.__)("Listing Title","newspack-listings")}),(0,u.jsx)("input",{type:"text",id:`listing-title-single-${t}`,name:"listing-title-single",value:"",placeholder:(0,s.__)("My Listing Title")}),(0,u.jsx)("label",{htmlFor:`listing-type-${t}`,children:(0,s.__)("Listing Type","newspack-listings")}),(0,u.jsx)("select",{id:`${t}`,name:"listing-single-type",children:p.map(e=>(0,u.jsx)("option",{value:`listing-type-${e.slug}`,children:e.name},e.slug))}),(0,u.jsx)("input",{type:"checkbox",id:`listing-single-upgrade-${t}`,name:"listing-featured-upgrade"}),(0,u.jsx)("label",{htmlFor:`listing-single-upgrade-${t}`,children:(0,s.__)("Upgrade to a featured listing","newspack-listings")}),(0,u.jsx)("p",{class:"newspack-listings__help",children:(0,s.__)("Featured listings appear first in lists, directory pages and search results.","newspack-listings")})]})]}),"single-only"!==h&&!1!==d&&(0,u.jsxs)("div",{className:"newspack-listings__form-tabs frequency",children:[(0,u.jsx)("input",{name:"listing-purchase-type",className:"newspack-listings__tab-input",id:`listing-subscription-${t}`,type:"radio",value:"listing-subscription",checked:"subscription"===r||"subscription-only"===h,onClick:()=>a("subscription")}),(0,u.jsx)("label",{className:"freq-label listing-subscription",htmlFor:"listing-subscription",onClick:()=>a("subscription"),children:(0,s.__)("Listing Subscription")}),(0,u.jsxs)("div",{className:"input-container listing-details",children:[(0,u.jsx)(k.RichText,{onChange:e=>n({subscriptionDescription:e}),placeholder:(0,s.__)("Description text for your subscription product","newspack-listings"),value:v,tagName:"p"}),(0,u.jsx)("p",{className:"newspack-listings__help",children:(0,s.__)("Subscription listings remain live as long as the subscription is active.","newspack-listings")}),(0,u.jsx)("hr",{}),(0,u.jsx)("h3",{children:(0,s.__)("Listing Details","newspack-listings")}),(0,u.jsx)("label",{htmlFor:`listing-title-subscription${t}`,children:(0,s.__)("Listing Title","newspack-listings")}),(0,u.jsx)("input",{type:"text",id:`listing-title-subscription${t}`,name:"listing-title-subscription",value:"",placeholder:(0,s.__)("My Listing Title")}),(0,u.jsx)("input",{type:"checkbox",id:`listing-subscription-upgrade-${t}`,name:"listing-premium-upgrade"}),(0,u.jsx)("label",{htmlFor:`listing-subscription-upgrade-${t}`,children:(0,s.__)("Upgrade to a premium subscription","newspack-listings")}),(0,u.jsx)("p",{class:"newspack-listings__help",children:(0,s.__)('A premium subscription upgrades your listing to "featured" status and lets you create up to 10 additional Marketplace or Event listings.',"newspack-listings")})]})]})]}),(0,u.jsx)("button",{type:"submit",onClick:e=>e.preventDefault(),children:(0,u.jsx)(k.RichText,{onChange:e=>n({buttonText:e}),placeholder:(0,s.__)("Button text","newspack-listings"),value:g,tagName:"span"})})]})})]})},save:()=>null})),ai&&window._wpLoadBlockEditor?.then(()=>{const e=window.setInterval(()=>{const t=document.getElementById("editor");t&&(window.clearInterval(e),new MutationObserver(e=>{for(const n of e)if("childList"===n.type&&n.target.classList.contains("components-panel")){const e=t.querySelector(".components-panel");e&&Array.from(e.querySelectorAll(".components-panel__body")).forEach(e=>{"Mapbox Access Token"===e.querySelector(".components-panel__body-title").textContent&&(e.style.display="none")})}}).observe(t,{childList:!0,subtree:!0}))},1e3)})})()})();